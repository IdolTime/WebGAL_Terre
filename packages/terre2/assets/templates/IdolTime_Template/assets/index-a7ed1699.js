var Fee=Object.defineProperty;var kee=(t,e,r)=>e in t?Fee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ye=(t,e,r)=>(kee(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var rj={exports:{}},yv={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var K4=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable;function Bee(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Dee(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var JI=Dee()?Object.assign:function(t,e){for(var r,n=Bee(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)Lee.call(r,o)&&(n[o]=r[o]);if(K4){i=K4(r);for(var s=0;s<i.length;s++)Mee.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const Uee=wi(JI);var nj={exports:{}},nr={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=JI,od=60103,ij=60106;nr.Fragment=60107;nr.StrictMode=60108;nr.Profiler=60114;var aj=60109,oj=60110,sj=60112;nr.Suspense=60113;var lj=60115,uj=60116;if(typeof Symbol=="function"&&Symbol.for){var yo=Symbol.for;od=yo("react.element"),ij=yo("react.portal"),nr.Fragment=yo("react.fragment"),nr.StrictMode=yo("react.strict_mode"),nr.Profiler=yo("react.profiler"),aj=yo("react.provider"),oj=yo("react.context"),sj=yo("react.forward_ref"),nr.Suspense=yo("react.suspense"),lj=yo("react.memo"),uj=yo("react.lazy")}var Z4=typeof Symbol=="function"&&Symbol.iterator;function jee(t){return t===null||typeof t!="object"?null:(t=Z4&&t[Z4]||t["@@iterator"],typeof t=="function"?t:null)}function xv(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fj={};function sd(t,e,r){this.props=t,this.context=e,this.refs=fj,this.updater=r||cj}sd.prototype.isReactComponent={};sd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(xv(85));this.updater.enqueueSetState(this,t,e,"setState")};sd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hj(){}hj.prototype=sd.prototype;function eR(t,e,r){this.props=t,this.context=e,this.refs=fj,this.updater=r||cj}var tR=eR.prototype=new hj;tR.constructor=eR;QI(tR,sd.prototype);tR.isPureReactComponent=!0;var rR={current:null},dj=Object.prototype.hasOwnProperty,pj={key:!0,ref:!0,__self:!0,__source:!0};function vj(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)dj.call(e,n)&&!pj.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:od,type:t,key:a,ref:o,props:i,_owner:rR.current}}function $ee(t,e){return{$$typeof:od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nR(t){return typeof t=="object"&&t!==null&&t.$$typeof===od}function Gee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var J4=/\/+/g;function FE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gee(""+t.key):e.toString(36)}function Jm(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case od:case ij:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+FE(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(J4,"$&/")+"/"),Jm(i,e,r,"",function(l){return l})):i!=null&&(nR(i)&&(i=$ee(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+FE(a,s);o+=Jm(a,e,r,c,i)}else if(c=jee(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+FE(a,s++),o+=Jm(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(xv(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Gg(t,e,r){if(t==null)return t;var n=[],i=0;return Jm(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Vee(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var gj={current:null};function ol(){var t=gj.current;if(t===null)throw Error(xv(321));return t}var Hee={ReactCurrentDispatcher:gj,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:rR,IsSomeRendererActing:{current:!1},assign:QI};nr.Children={map:Gg,forEach:function(t,e,r){Gg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gg(t,function(){e++}),e},toArray:function(t){return Gg(t,function(e){return e})||[]},only:function(t){if(!nR(t))throw Error(xv(143));return t}};nr.Component=sd;nr.PureComponent=eR;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hee;nr.cloneElement=function(t,e,r){if(t==null)throw Error(xv(267,t));var n=QI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=rR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)dj.call(e,c)&&!pj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:od,type:t.type,key:i,ref:a,props:n,_owner:o}};nr.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:oj,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:aj,_context:t},t.Consumer=t};nr.createElement=vj;nr.createFactory=function(t){var e=vj.bind(null,t);return e.type=t,e};nr.createRef=function(){return{current:null}};nr.forwardRef=function(t){return{$$typeof:sj,render:t}};nr.isValidElement=nR;nr.lazy=function(t){return{$$typeof:uj,_payload:{_status:-1,_result:t},_init:Vee}};nr.memo=function(t,e){return{$$typeof:lj,type:t,compare:e===void 0?null:e}};nr.useCallback=function(t,e){return ol().useCallback(t,e)};nr.useContext=function(t,e){return ol().useContext(t,e)};nr.useDebugValue=function(){};nr.useEffect=function(t,e){return ol().useEffect(t,e)};nr.useImperativeHandle=function(t,e,r){return ol().useImperativeHandle(t,e,r)};nr.useLayoutEffect=function(t,e){return ol().useLayoutEffect(t,e)};nr.useMemo=function(t,e){return ol().useMemo(t,e)};nr.useReducer=function(t,e,r){return ol().useReducer(t,e,r)};nr.useRef=function(t){return ol().useRef(t)};nr.useState=function(t){return ol().useState(t)};nr.version="17.0.2";nj.exports=nr;var he=nj.exports;const ti=wi(he);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xee=he,mj=60103;yv.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Q4=Symbol.for;mj=Q4("react.element"),yv.Fragment=Q4("react.fragment")}var Wee=Xee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zee=Object.prototype.hasOwnProperty,Yee={key:!0,ref:!0,__self:!0,__source:!0};function _j(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zee.call(e,n)&&!Yee.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mj,type:t,key:a,ref:o,props:i,_owner:Wee.current}}yv.jsx=_j;yv.jsxs=_j;rj.exports=yv;var M=rj.exports,yj={exports:{}},fo={},xj={exports:{}},bj={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var L=t.unstable_now();c(!0,L),c=null}catch(V){throw setTimeout(u,0),V}};e=function(L){c!==null?setTimeout(e,0,L):(c=L,setTimeout(u,0))},r=function(L,V){l=setTimeout(L,V)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,m=-1,_=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5};var x=new MessageChannel,E=x.port2;x.port1.onmessage=function(){if(v!==null){var L=t.unstable_now();g=L+_;try{v(!0,L)?E.postMessage(null):(p=!1,v=null)}catch(V){throw E.postMessage(null),V}}else p=!1},e=function(L){v=L,p||(p=!0,E.postMessage(null))},r=function(L,V){m=f(function(){L(t.unstable_now())},V)},n=function(){h(m),m=-1}}function b(L,V){var $=L.length;L.push(V);e:for(;;){var j=$-1>>>1,te=L[j];if(te!==void 0&&0<A(te,V))L[j]=V,L[$]=te,$=j;else break e}}function S(L){return L=L[0],L===void 0?null:L}function C(L){var V=L[0];if(V!==void 0){var $=L.pop();if($!==V){L[0]=$;e:for(var j=0,te=L.length;j<te;){var ne=2*(j+1)-1,pe=L[ne],le=ne+1,xe=L[le];if(pe!==void 0&&0>A(pe,$))xe!==void 0&&0>A(xe,pe)?(L[j]=xe,L[le]=$,j=le):(L[j]=pe,L[ne]=$,j=ne);else if(xe!==void 0&&0>A(xe,$))L[j]=xe,L[le]=$,j=le;else break e}}return V}return null}function A(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}var I=[],R=[],O=1,P=null,F=3,N=!1,B=!1,U=!1;function H(L){for(var V=S(R);V!==null;){if(V.callback===null)C(R);else if(V.startTime<=L)C(R),V.sortIndex=V.expirationTime,b(I,V);else break;V=S(R)}}function ee(L){if(U=!1,H(L),!B)if(S(I)!==null)B=!0,e(J);else{var V=S(R);V!==null&&r(ee,V.startTime-L)}}function J(L,V){B=!1,U&&(U=!1,n()),N=!0;var $=F;try{for(H(V),P=S(I);P!==null&&(!(P.expirationTime>V)||L&&!t.unstable_shouldYield());){var j=P.callback;if(typeof j=="function"){P.callback=null,F=P.priorityLevel;var te=j(P.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?P.callback=te:P===S(I)&&C(I),H(V)}else C(I);P=S(I)}if(P!==null)var ne=!0;else{var pe=S(R);pe!==null&&r(ee,pe.startTime-V),ne=!1}return ne}finally{P=null,F=$,N=!1}}var G=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){B||N||(B=!0,e(J))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(L){switch(F){case 1:case 2:case 3:var V=3;break;default:V=F}var $=F;F=V;try{return L()}finally{F=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=F;F=L;try{return V()}finally{F=$}},t.unstable_scheduleCallback=function(L,V,$){var j=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?j+$:j):$=j,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,L={id:O++,callback:V,priorityLevel:L,startTime:$,expirationTime:te,sortIndex:-1},$>j?(L.sortIndex=$,b(R,L),S(I)===null&&L===S(R)&&(U?n():U=!0,r(ee,$-j))):(L.sortIndex=te,b(I,L),B||N||(B=!0,e(J))),L},t.unstable_wrapCallback=function(L){var V=F;return function(){var $=F;F=V;try{return L.apply(this,arguments)}finally{F=$}}}})(bj);xj.exports=bj;var qee=xj.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=he,Yr=JI,ii=qee;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ix)throw Error(Me(227));var Ej=new Set,_p={};function zc(t,e){Lh(t,e),Lh(t+"Capture",e)}function Lh(t,e){for(_p[t]=e,t=0;t<e.length;t++)Ej.add(e[t])}var el=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eN=Object.prototype.hasOwnProperty,tN={},rN={};function Zee(t){return eN.call(rN,t)?!0:eN.call(tN,t)?!1:Kee.test(t)?rN[t]=!0:(tN[t]=!0,!1)}function Jee(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qee(t,e,r,n){if(e===null||typeof e>"u"||Jee(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ia(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ei[t]=new ia(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ei[e]=new ia(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ei[t]=new ia(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ei[t]=new ia(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ei[t]=new ia(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ei[t]=new ia(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ei[t]=new ia(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ei[t]=new ia(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ei[t]=new ia(t,5,!1,t.toLowerCase(),null,!1,!1)});var iR=/[\-:]([a-z])/g;function aR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iR,aR);Ei[e]=new ia(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iR,aR);Ei[e]=new ia(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iR,aR);Ei[e]=new ia(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ei[t]=new ia(t,1,!1,t.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new ia("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ei[t]=new ia(t,1,!1,t.toLowerCase(),null,!0,!0)});function oR(t,e,r,n){var i=Ei.hasOwnProperty(e)?Ei[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(Qee(e,r,i,n)&&(r=null),n||i===null?Zee(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Yc=ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F0=60103,uc=60106,Fl=60107,sR=60108,X0=60114,lR=60109,uR=60110,ax=60112,W0=60113,j_=60120,ox=60115,cR=60116,fR=60121,hR=60128,wj=60129,dR=60130,g2=60131;if(typeof Symbol=="function"&&Symbol.for){var Kn=Symbol.for;F0=Kn("react.element"),uc=Kn("react.portal"),Fl=Kn("react.fragment"),sR=Kn("react.strict_mode"),X0=Kn("react.profiler"),lR=Kn("react.provider"),uR=Kn("react.context"),ax=Kn("react.forward_ref"),W0=Kn("react.suspense"),j_=Kn("react.suspense_list"),ox=Kn("react.memo"),cR=Kn("react.lazy"),fR=Kn("react.block"),Kn("react.scope"),hR=Kn("react.opaque.id"),wj=Kn("react.debug_trace_mode"),dR=Kn("react.offscreen"),g2=Kn("react.legacy_hidden")}var nN=typeof Symbol=="function"&&Symbol.iterator;function r0(t){return t===null||typeof t!="object"?null:(t=nN&&t[nN]||t["@@iterator"],typeof t=="function"?t:null)}var kE;function k0(t){if(kE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kE=e&&e[1]||""}return`
`+kE+t}var NE=!1;function Vg(t,e){if(!t||NE)return"";NE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{NE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?k0(t):""}function ete(t){switch(t.tag){case 5:return k0(t.type);case 16:return k0("Lazy");case 13:return k0("Suspense");case 19:return k0("SuspenseList");case 0:case 2:case 15:return t=Vg(t.type,!1),t;case 11:return t=Vg(t.type.render,!1),t;case 22:return t=Vg(t.type._render,!1),t;case 1:return t=Vg(t.type,!0),t;default:return""}}function uh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fl:return"Fragment";case uc:return"Portal";case X0:return"Profiler";case sR:return"StrictMode";case W0:return"Suspense";case j_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uR:return(t.displayName||"Context")+".Consumer";case lR:return(t._context.displayName||"Context")+".Provider";case ax:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ox:return uh(t.type);case fR:return uh(t._render);case cR:e=t._payload,t=t._init;try{return uh(t(e))}catch{}}return null}function uu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Sj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tte(t){var e=Sj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hg(t){t._valueTracker||(t._valueTracker=tte(t))}function Cj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function m2(t,e){var r=e.checked;return Yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=uu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Aj(t,e){e=e.checked,e!=null&&oR(t,"checked",e,!1)}function _2(t,e){Aj(t,e);var r=uu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y2(t,e.type,r):e.hasOwnProperty("defaultValue")&&y2(t,e.type,uu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function y2(t,e,r){(e!=="number"||$_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function rte(t){var e="";return ix.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function x2(t,e){return t=Yr({children:void 0},e),(e=rte(e.children))&&(t.children=e),t}function ch(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+uu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Yr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Me(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:uu(r)}}function Tj(t,e){var r=uu(e.value),n=uu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var E2={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ij(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ij(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xg,Rj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==E2.svg||"innerHTML"in t)t.innerHTML=e;else{for(Xg=Xg||document.createElement("div"),Xg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var z0={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nte=["Webkit","ms","Moz","O"];Object.keys(z0).forEach(function(t){nte.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),z0[e]=z0[t]})});function Pj(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||z0.hasOwnProperty(t)&&z0[t]?(""+e).trim():e+"px"}function Oj(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Pj(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var ite=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S2(t,e){if(e){if(ite[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function C2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A2=null,fh=null,hh=null;function lN(t){if(t=Ev(t)){if(typeof A2!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=hx(e),A2(t.stateNode,t.type,e))}}function Fj(t){fh?hh?hh.push(t):hh=[t]:fh=t}function kj(){if(fh){var t=fh,e=hh;if(hh=fh=null,lN(t),e)for(t=0;t<e.length;t++)lN(e[t])}}function vR(t,e){return t(e)}function Nj(t,e,r,n,i){return t(e,r,n,i)}function gR(){}var Lj=vR,cc=!1,LE=!1;function mR(){(fh!==null||hh!==null)&&(gR(),kj())}function ate(t,e,r){if(LE)return t(e,r);LE=!0;try{return Lj(t,e,r)}finally{LE=!1,mR()}}function xp(t,e){var r=t.stateNode;if(r===null)return null;var n=hx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Me(231,e,typeof r));return r}var T2=!1;if(el)try{var n0={};Object.defineProperty(n0,"passive",{get:function(){T2=!0}}),window.addEventListener("test",n0,n0),window.removeEventListener("test",n0,n0)}catch{T2=!1}function ote(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Y0=!1,G_=null,V_=!1,I2=null,ste={onError:function(t){Y0=!0,G_=t}};function lte(t,e,r,n,i,a,o,s,c){Y0=!1,G_=null,ote.apply(ste,arguments)}function ute(t,e,r,n,i,a,o,s,c){if(lte.apply(this,arguments),Y0){if(Y0){var l=G_;Y0=!1,G_=null}else throw Error(Me(198));V_||(V_=!0,I2=l)}}function qc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Mj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uN(t){if(qc(t)!==t)throw Error(Me(188))}function cte(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return uN(i),t;if(a===n)return uN(i),e;a=a.sibling}throw Error(Me(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?t:e}function Bj(t){if(t=cte(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function cN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var Dj,_R,Uj,jj,R2=!1,is=[],zl=null,Yl=null,ql=null,bp=new Map,Ep=new Map,i0=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P2(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function hN(t,e){switch(t){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ep.delete(e.pointerId)}}function a0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=P2(e,r,n,i,a),e!==null&&(e=Ev(e),e!==null&&_R(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fte(t,e,r,n,i){switch(e){case"focusin":return zl=a0(zl,t,e,r,n,i),!0;case"dragenter":return Yl=a0(Yl,t,e,r,n,i),!0;case"mouseover":return ql=a0(ql,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return bp.set(a,a0(bp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ep.set(a,a0(Ep.get(a)||null,t,e,r,n,i)),!0}return!1}function hte(t){var e=fc(t.target);if(e!==null){var r=qc(e);if(r!==null){if(e=r.tag,e===13){if(e=Mj(r),e!==null){t.blockedOn=e,jj(t.lanePriority,function(){ii.unstable_runWithPriority(t.priority,function(){Uj(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ER(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Ev(r),e!==null&&_R(e),t.blockedOn=r,!1;e.shift()}return!0}function dN(t,e,r){Qm(t)&&r.delete(e)}function dte(){for(R2=!1;0<is.length;){var t=is[0];if(t.blockedOn!==null){t=Ev(t.blockedOn),t!==null&&Dj(t);break}for(var e=t.targetContainers;0<e.length;){var r=ER(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&is.shift()}zl!==null&&Qm(zl)&&(zl=null),Yl!==null&&Qm(Yl)&&(Yl=null),ql!==null&&Qm(ql)&&(ql=null),bp.forEach(dN),Ep.forEach(dN)}function o0(t,e){t.blockedOn===e&&(t.blockedOn=null,R2||(R2=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,dte)))}function $j(t){function e(i){return o0(i,t)}if(0<is.length){o0(is[0],t);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zl!==null&&o0(zl,t),Yl!==null&&o0(Yl,t),ql!==null&&o0(ql,t),bp.forEach(e),Ep.forEach(e),r=0;r<i0.length;r++)n=i0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<i0.length&&(r=i0[0],r.blockedOn===null);)hte(r),r.blockedOn===null&&i0.shift()}function Wg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zf={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},ME={},Gj={};el&&(Gj=document.createElement("div").style,"AnimationEvent"in window||(delete zf.animationend.animation,delete zf.animationiteration.animation,delete zf.animationstart.animation),"TransitionEvent"in window||delete zf.transitionend.transition);function sx(t){if(ME[t])return ME[t];if(!zf[t])return t;var e=zf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Gj)return ME[t]=e[r];return t}var Vj=sx("animationend"),Hj=sx("animationiteration"),Xj=sx("animationstart"),Wj=sx("transitionend"),zj=new Map,yR=new Map,pte=["abort","abort",Vj,"animationEnd",Hj,"animationIteration",Xj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Wj,"transitionEnd","waiting","waiting"];function xR(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),yR.set(n,e),zj.set(n,i),zc(i,[n])}}var vte=ii.unstable_now;vte();var Rr=8;function Vf(t){if(1&t)return Rr=15,1;if(2&t)return Rr=14,2;if(4&t)return Rr=13,4;var e=24&t;return e!==0?(Rr=12,e):t&32?(Rr=11,32):(e=192&t,e!==0?(Rr=10,e):t&256?(Rr=9,256):(e=3584&t,e!==0?(Rr=8,e):t&4096?(Rr=7,4096):(e=4186112&t,e!==0?(Rr=6,e):(e=62914560&t,e!==0?(Rr=5,e):t&67108864?(Rr=4,67108864):t&134217728?(Rr=3,134217728):(e=805306368&t,e!==0?(Rr=2,e):1073741824&t?(Rr=1,1073741824):(Rr=8,t))))))}function gte(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function mte(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Me(358,t))}}function wp(t,e){var r=t.pendingLanes;if(r===0)return Rr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Rr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=Vf(c),i=Rr):(s&=a,s!==0&&(n=Vf(s),i=Rr))}else a=r&~o,a!==0?(n=Vf(a),i=Rr):s!==0&&(n=Vf(s),i=Rr);if(n===0)return 0;if(n=31-cu(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Vf(e),i<=Rr)return e;Rr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-cu(e),i=1<<r,n|=t[r],e&=~i;return n}function Yj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H_(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Hf(24&~e),t===0?H_(10,e):t;case 10:return t=Hf(192&~e),t===0?H_(8,e):t;case 8:return t=Hf(3584&~e),t===0&&(t=Hf(4186112&~e),t===0&&(t=512)),t;case 2:return e=Hf(805306368&~e),e===0&&(e=268435456),e}throw Error(Me(358,t))}function Hf(t){return t&-t}function BE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function lx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-cu(e),t[e]=r}var cu=Math.clz32?Math.clz32:xte,_te=Math.log,yte=Math.LN2;function xte(t){return t===0?32:31-(_te(t)/yte|0)|0}var bte=ii.unstable_UserBlockingPriority,Ete=ii.unstable_runWithPriority,e_=!0;function wte(t,e,r,n){cc||gR();var i=bR,a=cc;cc=!0;try{Nj(i,t,e,r,n)}finally{(cc=a)||mR()}}function Ste(t,e,r,n){Ete(bte,bR.bind(null,t,e,r,n))}function bR(t,e,r,n){if(e_){var i;if((i=(e&4)===0)&&0<is.length&&-1<fN.indexOf(t))t=P2(null,t,e,r,n),is.push(t);else{var a=ER(t,e,r,n);if(a===null)i&&hN(t,n);else{if(i){if(-1<fN.indexOf(t)){t=P2(a,t,e,r,n),is.push(t);return}if(fte(a,t,e,r,n))return;hN(t,n)}s$(t,e,n,null,r)}}}}function ER(t,e,r,n){var i=pR(n);if(i=fc(i),i!==null){var a=qc(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=Mj(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return s$(t,e,n,i,r),null}var Dl=null,wR=null,t_=null;function qj(){if(t_)return t_;var t,e=wR,r=e.length,n,i="value"in Dl?Dl.value:Dl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return t_=i.slice(t,1<n?1-n:void 0)}function r_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zg(){return!0}function pN(){return!1}function $a(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zg:pN,this.isPropagationStopped=pN,this}return Yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zg)},persist:function(){},isPersistent:zg}),e}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SR=$a(ld),bv=Yr({},ld,{view:0,detail:0}),Cte=$a(bv),DE,UE,s0,ux=Yr({},bv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==s0&&(s0&&t.type==="mousemove"?(DE=t.screenX-s0.screenX,UE=t.screenY-s0.screenY):UE=DE=0,s0=t),DE)},movementY:function(t){return"movementY"in t?t.movementY:UE}}),vN=$a(ux),Ate=Yr({},ux,{dataTransfer:0}),Tte=$a(Ate),Ite=Yr({},bv,{relatedTarget:0}),jE=$a(Ite),Rte=Yr({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),Pte=$a(Rte),Ote=Yr({},ld,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fte=$a(Ote),kte=Yr({},ld,{data:0}),gN=$a(kte),Nte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mte[t])?!!e[t]:!1}function CR(){return Bte}var Dte=Yr({},bv,{key:function(t){if(t.key){var e=Nte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CR,charCode:function(t){return t.type==="keypress"?r_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ute=$a(Dte),jte=Yr({},ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mN=$a(jte),$te=Yr({},bv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CR}),Gte=$a($te),Vte=Yr({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hte=$a(Vte),Xte=Yr({},ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wte=$a(Xte),zte=[9,13,27,32],AR=el&&"CompositionEvent"in window,q0=null;el&&"documentMode"in document&&(q0=document.documentMode);var Yte=el&&"TextEvent"in window&&!q0,Kj=el&&(!AR||q0&&8<q0&&11>=q0),_N=String.fromCharCode(32),yN=!1;function Zj(t,e){switch(t){case"keyup":return zte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yf=!1;function qte(t,e){switch(t){case"compositionend":return Jj(e);case"keypress":return e.which!==32?null:(yN=!0,_N);case"textInput":return t=e.data,t===_N&&yN?null:t;default:return null}}function Kte(t,e){if(Yf)return t==="compositionend"||!AR&&Zj(t,e)?(t=qj(),t_=wR=Dl=null,Yf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kj&&e.locale!=="ko"?null:e.data;default:return null}}var Zte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zte[t.type]:e==="textarea"}function Qj(t,e,r,n){Fj(n),e=X_(e,"onChange"),0<e.length&&(r=new SR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var K0=null,Sp=null;function Jte(t){i$(t,0)}function cx(t){var e=Kf(t);if(Cj(e))return t}function Qte(t,e){if(t==="change")return e}var e$=!1;if(el){var $E;if(el){var GE="oninput"in document;if(!GE){var bN=document.createElement("div");bN.setAttribute("oninput","return;"),GE=typeof bN.oninput=="function"}$E=GE}else $E=!1;e$=$E&&(!document.documentMode||9<document.documentMode)}function EN(){K0&&(K0.detachEvent("onpropertychange",t$),Sp=K0=null)}function t$(t){if(t.propertyName==="value"&&cx(Sp)){var e=[];if(Qj(e,Sp,t,pR(t)),t=Jte,cc)t(e);else{cc=!0;try{vR(t,e)}finally{cc=!1,mR()}}}}function ere(t,e,r){t==="focusin"?(EN(),K0=e,Sp=r,K0.attachEvent("onpropertychange",t$)):t==="focusout"&&EN()}function tre(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cx(Sp)}function rre(t,e){if(t==="click")return cx(e)}function nre(t,e){if(t==="input"||t==="change")return cx(e)}function ire(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:ire,are=Object.prototype.hasOwnProperty;function Cp(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!are.call(e,r[n])||!no(t[r[n]],e[r[n]]))return!1;return!0}function wN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SN(t,e){var r=wN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wN(r)}}function r$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CN(){for(var t=window,e=$_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$_(t.document)}return e}function O2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ore=el&&"documentMode"in document&&11>=document.documentMode,qf=null,F2=null,Z0=null,k2=!1;function AN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;k2||qf==null||qf!==$_(n)||(n=qf,"selectionStart"in n&&O2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Z0&&Cp(Z0,n)||(Z0=n,n=X_(F2,"onSelect"),0<n.length&&(e=new SR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qf)))}xR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);xR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);xR(pte,2);for(var TN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),VE=0;VE<TN.length;VE++)yR.set(TN[VE],0);Lh("onMouseEnter",["mouseout","mouseover"]);Lh("onMouseLeave",["mouseout","mouseover"]);Lh("onPointerEnter",["pointerout","pointerover"]);Lh("onPointerLeave",["pointerout","pointerover"]);zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var N0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n$=new Set("cancel close invalid load scroll toggle".split(" ").concat(N0));function IN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ute(n,e,void 0,t),t.currentTarget=null}function i$(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;IN(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;IN(i,s,l),a=c}}}if(V_)throw t=I2,V_=!1,I2=null,t}function Nr(t,e){var r=u$(e),n=t+"__bubble";r.has(n)||(o$(e,t,2,!1),r.add(n))}var RN="_reactListening"+Math.random().toString(36).slice(2);function a$(t){t[RN]||(t[RN]=!0,Ej.forEach(function(e){n$.has(e)||PN(e,!1,t,null),PN(e,!0,t,null)}))}function PN(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&n$.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=u$(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),o$(a,t,i,e),o.add(s))}function o$(t,e,r,n){var i=yR.get(e);switch(i===void 0?2:i){case 0:i=wte;break;case 1:i=Ste;break;default:i=bR}r=i.bind(null,e,r,t),i=void 0,!T2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function s$(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=fc(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}ate(function(){var l=a,u=pR(r),f=[];e:{var h=zj.get(t);if(h!==void 0){var d=SR,p=t;switch(t){case"keypress":if(r_(r)===0)break e;case"keydown":case"keyup":d=Ute;break;case"focusin":p="focus",d=jE;break;case"focusout":p="blur",d=jE;break;case"beforeblur":case"afterblur":d=jE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=vN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Tte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Gte;break;case Vj:case Hj:case Xj:d=Pte;break;case Wj:d=Hte;break;case"scroll":d=Cte;break;case"wheel":d=Wte;break;case"copy":case"cut":case"paste":d=Fte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=mN}var v=(e&4)!==0,m=!v&&t==="scroll",_=v?h!==null?h+"Capture":null:h;v=[];for(var g=l,x;g!==null;){x=g;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,_!==null&&(E=xp(g,_),E!=null&&v.push(Ap(g,E,x)))),m)break;g=g.return}0<v.length&&(h=new d(h,p,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(p=r.relatedTarget||r.fromElement)&&(fc(p)||p[ud]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=l,p=p?fc(p):null,p!==null&&(m=qc(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(v=vN,E="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=mN,E="onPointerLeave",_="onPointerEnter",g="pointer"),m=d==null?h:Kf(d),x=p==null?h:Kf(p),h=new v(E,g+"leave",d,r,u),h.target=m,h.relatedTarget=x,E=null,fc(u)===l&&(v=new v(_,g+"enter",p,r,u),v.target=x,v.relatedTarget=m,E=v),m=E,d&&p)t:{for(v=d,_=p,g=0,x=v;x;x=Sf(x))g++;for(x=0,E=_;E;E=Sf(E))x++;for(;0<g-x;)v=Sf(v),g--;for(;0<x-g;)_=Sf(_),x--;for(;g--;){if(v===_||_!==null&&v===_.alternate)break t;v=Sf(v),_=Sf(_)}v=null}else v=null;d!==null&&ON(f,h,d,v,!1),p!==null&&m!==null&&ON(f,m,p,v,!0)}}e:{if(h=l?Kf(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=Qte;else if(xN(h))if(e$)b=nre;else{b=tre;var S=ere}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=rre);if(b&&(b=b(t,l))){Qj(f,b,r,u);break e}S&&S(t,h,l),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&y2(h,"number",h.value)}switch(S=l?Kf(l):window,t){case"focusin":(xN(S)||S.contentEditable==="true")&&(qf=S,F2=l,Z0=null);break;case"focusout":Z0=F2=qf=null;break;case"mousedown":k2=!0;break;case"contextmenu":case"mouseup":case"dragend":k2=!1,AN(f,r,u);break;case"selectionchange":if(ore)break;case"keydown":case"keyup":AN(f,r,u)}var C;if(AR)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Yf?Zj(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Kj&&r.locale!=="ko"&&(Yf||A!=="onCompositionStart"?A==="onCompositionEnd"&&Yf&&(C=qj()):(Dl=u,wR="value"in Dl?Dl.value:Dl.textContent,Yf=!0)),S=X_(l,A),0<S.length&&(A=new gN(A,t,null,r,u),f.push({event:A,listeners:S}),C?A.data=C:(C=Jj(r),C!==null&&(A.data=C)))),(C=Yte?qte(t,r):Kte(t,r))&&(l=X_(l,"onBeforeInput"),0<l.length&&(u=new gN("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}i$(f,e)})}function Ap(t,e,r){return{instance:t,listener:e,currentTarget:r}}function X_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=xp(t,r),a!=null&&n.unshift(Ap(t,a,i)),a=xp(t,e),a!=null&&n.push(Ap(t,a,i))),t=t.return}return n}function Sf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ON(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=xp(r,a),c!=null&&o.unshift(Ap(r,c,s))):i||(c=xp(r,a),c!=null&&o.push(Ap(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function W_(){}var HE=null,XE=null;function l$(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function N2(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var FN=typeof setTimeout=="function"?setTimeout:void 0,sre=typeof clearTimeout=="function"?clearTimeout:void 0;function TR(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function dh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function kN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var WE=0;function lre(t){return{$$typeof:hR,toString:t,valueOf:t}}var fx=Math.random().toString(36).slice(2),Ul="__reactFiber$"+fx,z_="__reactProps$"+fx,ud="__reactContainer$"+fx,NN="__reactEvents$"+fx;function fc(t){var e=t[Ul];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ud]||r[Ul]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=kN(t);t!==null;){if(r=t[Ul])return r;t=kN(t)}return e}t=r,r=t.parentNode}return null}function Ev(t){return t=t[Ul]||t[ud],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function hx(t){return t[z_]||null}function u$(t){var e=t[NN];return e===void 0&&(e=t[NN]=new Set),e}var L2=[],Zf=-1;function Su(t){return{current:t}}function Br(t){0>Zf||(t.current=L2[Zf],L2[Zf]=null,Zf--)}function fn(t,e){Zf++,L2[Zf]=t.current,t.current=e}var fu={},Ui=Su(fu),ma=Su(!1),kc=fu;function Mh(t,e){var r=t.type.contextTypes;if(!r)return fu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _a(t){return t=t.childContextTypes,t!=null}function Y_(){Br(ma),Br(Ui)}function LN(t,e,r){if(Ui.current!==fu)throw Error(Me(168));fn(Ui,e),fn(ma,r)}function c$(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Me(108,uh(e)||"Unknown",i));return Yr({},r,n)}function n_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fu,kc=Ui.current,fn(Ui,t),fn(ma,ma.current),!0}function MN(t,e,r){var n=t.stateNode;if(!n)throw Error(Me(169));r?(t=c$(t,e,kc),n.__reactInternalMemoizedMergedChildContext=t,Br(ma),Br(Ui),fn(Ui,t)):Br(ma),fn(ma,r)}var IR=null,wc=null,ure=ii.unstable_runWithPriority,RR=ii.unstable_scheduleCallback,M2=ii.unstable_cancelCallback,cre=ii.unstable_shouldYield,BN=ii.unstable_requestPaint,B2=ii.unstable_now,fre=ii.unstable_getCurrentPriorityLevel,dx=ii.unstable_ImmediatePriority,f$=ii.unstable_UserBlockingPriority,h$=ii.unstable_NormalPriority,d$=ii.unstable_LowPriority,p$=ii.unstable_IdlePriority,zE={},hre=BN!==void 0?BN:function(){},Gs=null,i_=null,YE=!1,DN=B2(),Li=1e4>DN?B2:function(){return B2()-DN};function Bh(){switch(fre()){case dx:return 99;case f$:return 98;case h$:return 97;case d$:return 96;case p$:return 95;default:throw Error(Me(332))}}function v$(t){switch(t){case 99:return dx;case 98:return f$;case 97:return h$;case 96:return d$;case 95:return p$;default:throw Error(Me(332))}}function Nc(t,e){return t=v$(t),ure(t,e)}function Tp(t,e,r){return t=v$(t),RR(t,e,r)}function xs(){if(i_!==null){var t=i_;i_=null,M2(t)}g$()}function g$(){if(!YE&&Gs!==null){YE=!0;var t=0;try{var e=Gs;Nc(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Gs=null}catch(r){throw Gs!==null&&(Gs=Gs.slice(t+1)),RR(dx,xs),r}finally{YE=!1}}}var dre=Yc.ReactCurrentBatchConfig;function To(t,e){if(t&&t.defaultProps){e=Yr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var q_=Su(null),K_=null,Jf=null,Z_=null;function PR(){Z_=Jf=K_=null}function OR(t){var e=q_.current;Br(q_),t.type._context._currentValue=e}function m$(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function ph(t,e){K_=t,Z_=Jf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fo=!0),t.firstContext=null)}function uo(t,e){if(Z_!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Z_=t,e=1073741823),e={context:t,observedBits:e,next:null},Jf===null){if(K_===null)throw Error(Me(308));Jf=e,K_.dependencies={lanes:0,firstContext:e,responders:null}}else Jf=Jf.next=e;return t._currentValue}var Il=!1;function FR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function _$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function UN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ip(t,e,r,n){var i=t.updateQueue;Il=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,p=a;switch(s=e,h=r,p.tag){case 1:if(d=p.payload,typeof d=="function"){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=p.payload,s=typeof d=="function"?d.call(h,f,s):d,s==null)break e;f=Yr({},f,s);break e;case 2:Il=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Sv|=o,t.lanes=o,t.memoizedState=f}}function jN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Me(191,i));i.call(n)}}}var y$=new ix.Component().refs;function J_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Yr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var px={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ma(),i=Jl(t),a=Kl(n,i);a.payload=e,r!=null&&(a.callback=r),Zl(t,a),Ql(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ma(),i=Jl(t),a=Kl(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),Zl(t,a),Ql(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ma(),n=Jl(t),i=Kl(r,n);i.tag=2,e!=null&&(i.callback=e),Zl(t,i),Ql(t,n,r)}};function $N(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Cp(r,n)||!Cp(i,a):!0}function x$(t,e,r){var n=!1,i=fu,a=e.contextType;return typeof a=="object"&&a!==null?a=uo(a):(i=_a(e)?kc:Ui.current,n=e.contextTypes,a=(n=n!=null)?Mh(t,i):fu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=px,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function GN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&px.enqueueReplaceState(e,e.state,null)}function D2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=y$,FR(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=uo(a):(a=_a(e)?kc:Ui.current,i.context=Mh(t,a)),Ip(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(J_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&px.enqueueReplaceState(i,i.state,null),Ip(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Yg=Array.isArray;function l0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===y$&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,t))}return t}function qg(t,e){if(t.type!=="textarea")throw Error(Me(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function b$(t){function e(m,_){if(t){var g=m.lastEffect;g!==null?(g.nextEffect=_,m.lastEffect=_):m.firstEffect=m.lastEffect=_,_.nextEffect=null,_.flags=8}}function r(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function n(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=du(m,_),m.index=0,m.sibling=null,m}function a(m,_,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<_?(m.flags=2,_):g):(m.flags=2,_)):_}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,_,g,x){return _===null||_.tag!==6?(_=QE(g,m.mode,x),_.return=m,_):(_=i(_,g),_.return=m,_)}function c(m,_,g,x){return _!==null&&_.elementType===g.type?(x=i(_,g.props),x.ref=l0(m,_,g),x.return=m,x):(x=l_(g.type,g.key,g.props,null,m.mode,x),x.ref=l0(m,_,g),x.return=m,x)}function l(m,_,g,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==g.containerInfo||_.stateNode.implementation!==g.implementation?(_=ew(g,m.mode,x),_.return=m,_):(_=i(_,g.children||[]),_.return=m,_)}function u(m,_,g,x,E){return _===null||_.tag!==7?(_=_h(g,m.mode,x,E),_.return=m,_):(_=i(_,g),_.return=m,_)}function f(m,_,g){if(typeof _=="string"||typeof _=="number")return _=QE(""+_,m.mode,g),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case F0:return g=l_(_.type,_.key,_.props,null,m.mode,g),g.ref=l0(m,null,_),g.return=m,g;case uc:return _=ew(_,m.mode,g),_.return=m,_}if(Yg(_)||r0(_))return _=_h(_,m.mode,g,null),_.return=m,_;qg(m,_)}return null}function h(m,_,g,x){var E=_!==null?_.key:null;if(typeof g=="string"||typeof g=="number")return E!==null?null:s(m,_,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case F0:return g.key===E?g.type===Fl?u(m,_,g.props.children,x,E):c(m,_,g,x):null;case uc:return g.key===E?l(m,_,g,x):null}if(Yg(g)||r0(g))return E!==null?null:u(m,_,g,x,null);qg(m,g)}return null}function d(m,_,g,x,E){if(typeof x=="string"||typeof x=="number")return m=m.get(g)||null,s(_,m,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F0:return m=m.get(x.key===null?g:x.key)||null,x.type===Fl?u(_,m,x.props.children,E,x.key):c(_,m,x,E);case uc:return m=m.get(x.key===null?g:x.key)||null,l(_,m,x,E)}if(Yg(x)||r0(x))return m=m.get(g)||null,u(_,m,x,E,null);qg(_,x)}return null}function p(m,_,g,x){for(var E=null,b=null,S=_,C=_=0,A=null;S!==null&&C<g.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var I=h(m,S,g[C],x);if(I===null){S===null&&(S=A);break}t&&S&&I.alternate===null&&e(m,S),_=a(I,_,C),b===null?E=I:b.sibling=I,b=I,S=A}if(C===g.length)return r(m,S),E;if(S===null){for(;C<g.length;C++)S=f(m,g[C],x),S!==null&&(_=a(S,_,C),b===null?E=S:b.sibling=S,b=S);return E}for(S=n(m,S);C<g.length;C++)A=d(S,m,C,g[C],x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),_=a(A,_,C),b===null?E=A:b.sibling=A,b=A);return t&&S.forEach(function(R){return e(m,R)}),E}function v(m,_,g,x){var E=r0(g);if(typeof E!="function")throw Error(Me(150));if(g=E.call(g),g==null)throw Error(Me(151));for(var b=E=null,S=_,C=_=0,A=null,I=g.next();S!==null&&!I.done;C++,I=g.next()){S.index>C?(A=S,S=null):A=S.sibling;var R=h(m,S,I.value,x);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(m,S),_=a(R,_,C),b===null?E=R:b.sibling=R,b=R,S=A}if(I.done)return r(m,S),E;if(S===null){for(;!I.done;C++,I=g.next())I=f(m,I.value,x),I!==null&&(_=a(I,_,C),b===null?E=I:b.sibling=I,b=I);return E}for(S=n(m,S);!I.done;C++,I=g.next())I=d(S,m,C,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),_=a(I,_,C),b===null?E=I:b.sibling=I,b=I);return t&&S.forEach(function(O){return e(m,O)}),E}return function(m,_,g,x){var E=typeof g=="object"&&g!==null&&g.type===Fl&&g.key===null;E&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case F0:e:{for(b=g.key,E=_;E!==null;){if(E.key===b){switch(E.tag){case 7:if(g.type===Fl){r(m,E.sibling),_=i(E,g.props.children),_.return=m,m=_;break e}break;default:if(E.elementType===g.type){r(m,E.sibling),_=i(E,g.props),_.ref=l0(m,E,g),_.return=m,m=_;break e}}r(m,E);break}else e(m,E);E=E.sibling}g.type===Fl?(_=_h(g.props.children,m.mode,x,g.key),_.return=m,m=_):(x=l_(g.type,g.key,g.props,null,m.mode,x),x.ref=l0(m,_,g),x.return=m,m=x)}return o(m);case uc:e:{for(E=g.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===g.containerInfo&&_.stateNode.implementation===g.implementation){r(m,_.sibling),_=i(_,g.children||[]),_.return=m,m=_;break e}else{r(m,_);break}else e(m,_);_=_.sibling}_=ew(g,m.mode,x),_.return=m,m=_}return o(m)}if(typeof g=="string"||typeof g=="number")return g=""+g,_!==null&&_.tag===6?(r(m,_.sibling),_=i(_,g),_.return=m,m=_):(r(m,_),_=QE(g,m.mode,x),_.return=m,m=_),o(m);if(Yg(g))return p(m,_,g,x);if(r0(g))return v(m,_,g,x);if(b&&qg(m,g),typeof g>"u"&&!E)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Me(152,uh(m.type)||"Component"))}return r(m,_)}}var Q_=b$(!0),E$=b$(!1),wv={},ls=Su(wv),Rp=Su(wv),Pp=Su(wv);function hc(t){if(t===wv)throw Error(Me(174));return t}function U2(t,e){switch(fn(Pp,e),fn(Rp,t),fn(ls,wv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w2(e,t)}Br(ls),fn(ls,e)}function Dh(){Br(ls),Br(Rp),Br(Pp)}function VN(t){hc(Pp.current);var e=hc(ls.current),r=w2(e,t.type);e!==r&&(fn(Rp,t),fn(ls,r))}function kR(t){Rp.current===t&&(Br(ls),Br(Rp))}var cn=Su(0);function ey(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ws=null,jl=null,us=!1;function w$(t,e){var r=io(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function HN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function j2(t){if(us){var e=jl;if(e){var r=e;if(!HN(t,e)){if(e=dh(r.nextSibling),!e||!HN(t,e)){t.flags=t.flags&-1025|2,us=!1,Ws=t;return}w$(Ws,r)}Ws=t,jl=dh(e.firstChild)}else t.flags=t.flags&-1025|2,us=!1,Ws=t}}function XN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ws=t}function Kg(t){if(t!==Ws)return!1;if(!us)return XN(t),us=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!N2(e,t.memoizedProps))for(e=jl;e;)w$(t,e),e=dh(e.nextSibling);if(XN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jl=dh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jl=null}}else jl=Ws?dh(t.stateNode.nextSibling):null;return!0}function qE(){jl=Ws=null,us=!1}var vh=[];function NR(){for(var t=0;t<vh.length;t++)vh[t]._workInProgressVersionPrimary=null;vh.length=0}var J0=Yc.ReactCurrentDispatcher,lo=Yc.ReactCurrentBatchConfig,Op=0,En=null,Ni=null,vi=null,ty=!1,Q0=!1;function ca(){throw Error(Me(321))}function LR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!no(t[r],e[r]))return!1;return!0}function MR(t,e,r,n,i,a){if(Op=a,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J0.current=t===null||t.memoizedState===null?vre:gre,t=r(n,i),Q0){a=0;do{if(Q0=!1,!(25>a))throw Error(Me(301));a+=1,vi=Ni=null,e.updateQueue=null,J0.current=mre,t=r(n,i)}while(Q0)}if(J0.current=ay,e=Ni!==null&&Ni.next!==null,Op=0,vi=Ni=En=null,ty=!1,e)throw Error(Me(300));return t}function dc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?En.memoizedState=vi=t:vi=vi.next=t,vi}function Kc(){if(Ni===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=Ni.next;var e=vi===null?En.memoizedState:vi.next;if(e!==null)vi=e,Ni=t;else{if(t===null)throw Error(Me(310));Ni=t,t={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},vi===null?En.memoizedState=vi=t:vi=vi.next=t}return vi}function as(t,e){return typeof e=="function"?e(t):e}function u0(t){var e=Kc(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=Ni,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((Op&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,En.lanes|=l,Sv|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,no(n,e.memoizedState)||(Fo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function c0(t){var e=Kc(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);no(a,e.memoizedState)||(Fo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function WN(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Op&t)===t)&&(e._workInProgressVersionPrimary=n,vh.push(e))),t)return r(e._source);throw vh.push(e),Error(Me(350))}function S$(t,e,r,n){var i=ta;if(i===null)throw Error(Me(349));var a=e._getVersion,o=a(e._source),s=J0.current,c=s.useState(function(){return WN(i,e,r)}),l=c[1],u=c[0];c=vi;var f=t.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var v=En;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var m=a(e._source);if(!no(o,m)){m=r(e._source),no(u,m)||(l(m),m=Jl(v),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var _=i.entanglements,g=m;0<g;){var x=31-cu(g),E=1<<x;_[x]|=m,g&=~E}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=h.getSnapshot,_=h.setSnapshot;try{_(m(e._source));var g=Jl(v);i.mutableReadLanes|=g&i.pendingLanes}catch(x){_(function(){throw x})}})},[e,n]),no(d,r)&&no(p,e)&&no(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:u},t.dispatch=l=UR.bind(null,En,t),c.queue=t,c.baseQueue=null,u=WN(i,e,r),c.memoizedState=c.baseState=u),u}function C$(t,e,r){var n=Kc();return S$(n,t,e,r)}function f0(t){var e=dc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},t=t.dispatch=UR.bind(null,En,t),[e.memoizedState,t]}function ry(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=En.updateQueue,e===null?(e={lastEffect:null},En.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function zN(t){var e=dc();return t={current:t},e.memoizedState=t}function ny(){return Kc().memoizedState}function $2(t,e,r,n){var i=dc();En.flags|=t,i.memoizedState=ry(1|e,r,void 0,n===void 0?null:n)}function BR(t,e,r,n){var i=Kc();n=n===void 0?null:n;var a=void 0;if(Ni!==null){var o=Ni.memoizedState;if(a=o.destroy,n!==null&&LR(n,o.deps)){ry(e,r,a,n);return}}En.flags|=t,i.memoizedState=ry(1|e,r,a,n)}function YN(t,e){return $2(516,4,t,e)}function iy(t,e){return BR(516,4,t,e)}function A$(t,e){return BR(4,2,t,e)}function T$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I$(t,e,r){return r=r!=null?r.concat([t]):null,BR(4,2,T$.bind(null,e,t),r)}function DR(){}function R$(t,e){var r=Kc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&LR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function P$(t,e){var r=Kc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&LR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function pre(t,e){var r=Bh();Nc(98>r?98:r,function(){t(!0)}),Nc(97<r?97:r,function(){var n=lo.transition;lo.transition=1;try{t(!1),e()}finally{lo.transition=n}})}function UR(t,e,r){var n=Ma(),i=Jl(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===En||o!==null&&o===En)Q0=ty=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,no(c,s))return}catch{}finally{}Ql(t,i,n)}}var ay={readContext:uo,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useOpaqueIdentifier:ca,unstable_isNewReconciler:!1},vre={readContext:uo,useCallback:function(t,e){return dc().memoizedState=[t,e===void 0?null:e],t},useContext:uo,useEffect:YN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$2(4,2,T$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $2(4,2,t,e)},useMemo:function(t,e){var r=dc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=dc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=UR.bind(null,En,t),[n.memoizedState,t]},useRef:zN,useState:f0,useDebugValue:DR,useDeferredValue:function(t){var e=f0(t),r=e[0],n=e[1];return YN(function(){var i=lo.transition;lo.transition=1;try{n(t)}finally{lo.transition=i}},[t]),r},useTransition:function(){var t=f0(!1),e=t[0];return t=pre.bind(null,t[1]),zN(t),[t,e]},useMutableSource:function(t,e,r){var n=dc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},S$(n,t,e,r)},useOpaqueIdentifier:function(){if(us){var t=!1,e=lre(function(){throw t||(t=!0,r("r:"+(WE++).toString(36))),Error(Me(355))}),r=f0(e)[1];return!(En.mode&2)&&(En.flags|=516,ry(5,function(){r("r:"+(WE++).toString(36))},void 0,null)),e}return e="r:"+(WE++).toString(36),f0(e),e},unstable_isNewReconciler:!1},gre={readContext:uo,useCallback:R$,useContext:uo,useEffect:iy,useImperativeHandle:I$,useLayoutEffect:A$,useMemo:P$,useReducer:u0,useRef:ny,useState:function(){return u0(as)},useDebugValue:DR,useDeferredValue:function(t){var e=u0(as),r=e[0],n=e[1];return iy(function(){var i=lo.transition;lo.transition=1;try{n(t)}finally{lo.transition=i}},[t]),r},useTransition:function(){var t=u0(as)[0];return[ny().current,t]},useMutableSource:C$,useOpaqueIdentifier:function(){return u0(as)[0]},unstable_isNewReconciler:!1},mre={readContext:uo,useCallback:R$,useContext:uo,useEffect:iy,useImperativeHandle:I$,useLayoutEffect:A$,useMemo:P$,useReducer:c0,useRef:ny,useState:function(){return c0(as)},useDebugValue:DR,useDeferredValue:function(t){var e=c0(as),r=e[0],n=e[1];return iy(function(){var i=lo.transition;lo.transition=1;try{n(t)}finally{lo.transition=i}},[t]),r},useTransition:function(){var t=c0(as)[0];return[ny().current,t]},useMutableSource:C$,useOpaqueIdentifier:function(){return c0(as)[0]},unstable_isNewReconciler:!1},_re=Yc.ReactCurrentOwner,Fo=!1;function ha(t,e,r,n){e.child=t===null?E$(e,null,r,n):Q_(e,t.child,r,n)}function qN(t,e,r,n,i){r=r.render;var a=e.ref;return ph(e,i),n=MR(t,e,r,n,a,i),t!==null&&!Fo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,zs(t,e,i)):(e.flags|=1,ha(t,e,n,i),e.child)}function KN(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!XR(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,O$(t,e,o,n,i,a)):(t=l_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Cp,r(i,n)&&t.ref===e.ref)?zs(t,e,a):(e.flags|=1,t=du(o,n),t.ref=e.ref,t.return=e,e.child=t)}function O$(t,e,r,n,i,a){if(t!==null&&Cp(t.memoizedProps,n)&&t.ref===e.ref)if(Fo=!1,(a&i)!==0)t.flags&16384&&(Fo=!0);else return e.lanes=t.lanes,zs(t,e,a);return G2(t,e,r,n,a)}function KE(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Jg(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Jg(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Jg(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Jg(e,n);return ha(t,e,i,r),e.child}function F$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function G2(t,e,r,n,i){var a=_a(r)?kc:Ui.current;return a=Mh(e,a),ph(e,i),r=MR(t,e,r,n,a,i),t!==null&&!Fo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,zs(t,e,i)):(e.flags|=1,ha(t,e,r,i),e.child)}function ZN(t,e,r,n,i){if(_a(r)){var a=!0;n_(e)}else a=!1;if(ph(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),x$(e,r,n),D2(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=uo(l):(l=_a(r)?kc:Ui.current,l=Mh(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&GN(e,o,n,l),Il=!1;var h=e.memoizedState;o.state=h,Ip(e,n,o,i),c=e.memoizedState,s!==n||h!==c||ma.current||Il?(typeof u=="function"&&(J_(e,r,u,n),c=e.memoizedState),(s=Il||$N(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,_$(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:To(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=uo(c):(c=_a(r)?kc:Ui.current,c=Mh(e,c));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&GN(e,o,n,c),Il=!1,h=e.memoizedState,o.state=h,Ip(e,n,o,i);var p=e.memoizedState;s!==f||h!==p||ma.current||Il?(typeof d=="function"&&(J_(e,r,d,n),p=e.memoizedState),(l=Il||$N(e,r,l,n,h,p,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return V2(t,e,r,n,a,i)}function V2(t,e,r,n,i,a){F$(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&MN(e,r,!1),zs(t,e,a);n=e.stateNode,_re.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Q_(e,t.child,null,a),e.child=Q_(e,null,s,a)):ha(t,e,s,a),e.memoizedState=n.state,i&&MN(e,r,!0),e.child}function JN(t){var e=t.stateNode;e.pendingContext?LN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LN(t,e.context,!1),U2(t,e.containerInfo)}var Zg={dehydrated:null,retryLane:0};function QN(t,e,r){var n=e.pendingProps,i=cn.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),fn(cn,i&1),t===null?(n.fallback!==void 0&&j2(e),t=n.children,i=n.fallback,a?(t=eL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Zg,t):typeof n.unstable_expectedLoadTime=="number"?(t=eL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Zg,e.lanes=33554432,t):(r=WR({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=rL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Zg,n):(r=tL(t,e,n.children,r),e.memoizedState=null,r):a?(n=rL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Zg,n):(r=tL(t,e,n.children,r),e.memoizedState=null,r)}function eL(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=WR(e,i,0,null),r=_h(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function tL(t,e,r,n){var i=t.child;return t=i.sibling,r=du(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function rL(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=du(o,s),t!==null?n=du(t,n):(n=_h(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function nL(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),m$(t.return,e)}function ZE(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function iL(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ha(t,e,n.children,r),n=cn.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nL(t,r);else if(t.tag===19)nL(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fn(cn,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ey(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ZE(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ey(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ZE(e,!0,r,null,a,e.lastEffect);break;case"together":ZE(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function zs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sv|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,r=du(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=du(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var k$,H2,N$,L$;k$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};H2=function(){};N$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hc(ls.current);var a=null;switch(r){case"input":i=m2(t,i),n=m2(t,n),a=[];break;case"option":i=x2(t,i),n=x2(t,n),a=[];break;case"select":i=Yr({},i,{value:void 0}),n=Yr({},n,{value:void 0}),a=[];break;case"textarea":i=b2(t,i),n=b2(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=W_)}S2(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_p.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_p.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Nr("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===hR?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};L$=function(t,e,r,n){r!==n&&(e.flags|=4)};function h0(t,e){if(!us)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yre(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _a(e.type)&&Y_(),null;case 3:return Dh(),Br(ma),Br(Ui),NR(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kg(e)?e.flags|=4:n.hydrate||(e.flags|=256)),H2(e),null;case 5:kR(e);var i=hc(Pp.current);if(r=e.type,t!==null&&e.stateNode!=null)N$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Me(166));return null}if(t=hc(ls.current),Kg(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ul]=e,n[z_]=a,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(t=0;t<N0.length;t++)Nr(N0[t],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":iN(n,a),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",n);break;case"textarea":oN(n,a),Nr("invalid",n)}S2(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):_p.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Nr("scroll",n));switch(r){case"input":Hg(n),aN(n,a,!0);break;case"textarea":Hg(n),sN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=W_)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===E2.html&&(t=Ij(r)),t===E2.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ul]=e,t[z_]=n,k$(t,e,!1,!1),e.stateNode=t,o=C2(r,n),r){case"dialog":Nr("cancel",t),Nr("close",t),i=n;break;case"iframe":case"object":case"embed":Nr("load",t),i=n;break;case"video":case"audio":for(i=0;i<N0.length;i++)Nr(N0[i],t);i=n;break;case"source":Nr("error",t),i=n;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),i=n;break;case"details":Nr("toggle",t),i=n;break;case"input":iN(t,n),i=m2(t,n),Nr("invalid",t);break;case"option":i=x2(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Yr({},n,{value:void 0}),Nr("invalid",t);break;case"textarea":oN(t,n),i=b2(t,n),Nr("invalid",t);break;default:i=n}S2(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?Oj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rj(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yp(t,c):typeof c=="number"&&yp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_p.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nr("scroll",t):c!=null&&oR(t,a,c,o))}switch(r){case"input":Hg(t),aN(t,n,!1);break;case"textarea":Hg(t),sN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+uu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ch(t,!!n.multiple,a,!1):n.defaultValue!=null&&ch(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=W_)}l$(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)L$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Me(166));r=hc(Pp.current),hc(ls.current),Kg(e)?(n=e.stateNode,r=e.memoizedProps,n[Ul]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ul]=e,e.stateNode=n)}return null;case 13:return Br(cn),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Kg(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||cn.current&1?_i===0&&(_i=3):((_i===0||_i===3)&&(_i=4),ta===null||!(Sv&134217727)&&!(fd&134217727)||gh(ta,Mi))),(n||r)&&(e.flags|=4),null);case 4:return Dh(),H2(e),t===null&&a$(e.stateNode.containerInfo),null;case 10:return OR(e),null;case 17:return _a(e.type)&&Y_(),null;case 19:if(Br(cn),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)h0(n,!1);else{if(_i!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=ey(t),o!==null){for(e.flags|=64,h0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return fn(cn,cn.current&1|2),e.child}t=t.sibling}n.tail!==null&&Li()>K2&&(e.flags|=64,a=!0,h0(n,!1),e.lanes=33554432)}else{if(!a)if(t=ey(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),h0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!us)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Li()-n.renderingStartTime>K2&&r!==1073741824&&(e.flags|=64,a=!0,h0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Li(),r.sibling=null,e=cn.current,fn(cn,a?e&1|2:e&1),r):null;case 23:case 24:return HR(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Me(156,e.tag))}function xre(t){switch(t.tag){case 1:_a(t.type)&&Y_();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Dh(),Br(ma),Br(Ui),NR(),e=t.flags,e&64)throw Error(Me(285));return t.flags=e&-4097|64,t;case 5:return kR(t),null;case 13:return Br(cn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Br(cn),null;case 4:return Dh(),null;case 10:return OR(t),null;case 23:case 24:return HR(),null;default:return null}}function jR(t,e){try{var r="",n=e;do r+=ete(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function X2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bre=typeof WeakMap=="function"?WeakMap:Map;function M$(t,e,r){r=Kl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sy||(sy=!0,Z2=n),X2(t,e)},r}function B$(t,e,r){r=Kl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return X2(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(os===null?os=new Set([this]):os.add(this),X2(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var Ere=typeof WeakSet=="function"?WeakSet:Set;function aL(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){eu(t,r)}else e.current=null}function wre(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:To(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&TR(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Me(163))}function Sre(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(W$(r,t),Fre(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:To(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&jN(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}jN(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&l$(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&$j(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Me(163))}function oL(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Pj("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function sL(t,e){if(wc&&typeof wc.onCommitFiberUnmount=="function")try{wc.onCommitFiberUnmount(IR,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)W$(e,r);else{n=e;try{i()}catch(a){eu(n,a)}}r=r.next}while(r!==t)}break;case 1:if(aL(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){eu(e,a)}break;case 5:aL(e);break;case 4:D$(t,e)}}function lL(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function uL(t){return t.tag===5||t.tag===3||t.tag===4}function cL(t){e:{for(var e=t.return;e!==null;){if(uL(e))break e;e=e.return}throw Error(Me(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Me(161))}r.flags&16&&(yp(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||uL(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?W2(t,r,e):z2(t,r,e)}function W2(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=W_));else if(n!==4&&(t=t.child,t!==null))for(W2(t,e,r),t=t.sibling;t!==null;)W2(t,e,r),t=t.sibling}function z2(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(z2(t,e,r),t=t.sibling;t!==null;)z2(t,e,r),t=t.sibling}function D$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Me(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(sL(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(sL(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function JE(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[z_]=n,t==="input"&&n.type==="radio"&&n.name!=null&&Aj(r,n),C2(t,i),e=C2(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?Oj(r,s):o==="dangerouslySetInnerHTML"?Rj(r,s):o==="children"?yp(r,s):oR(r,o,s,e)}switch(t){case"input":_2(r,n);break;case"textarea":Tj(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?ch(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?ch(r,!!n.multiple,n.defaultValue,!0):ch(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Me(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,$j(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(VR=Li(),oL(e.child,!0)),fL(e);return;case 19:fL(e);return;case 17:return;case 23:case 24:oL(e,e.memoizedState!==null);return}throw Error(Me(163))}function fL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ere),e.forEach(function(n){var i=Lre.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cre(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Are=Math.ceil,oy=Yc.ReactCurrentDispatcher,$R=Yc.ReactCurrentOwner,yt=0,ta=null,Gn=null,Mi=0,Lc=0,Y2=Su(0),_i=0,vx=null,cd=0,Sv=0,fd=0,GR=0,q2=null,VR=0,K2=1/0;function hd(){K2=Li()+500}var Qe=null,sy=!1,Z2=null,os=null,hu=!1,ep=null,L0=90,J2=[],Q2=[],Zs=null,tp=0,eA=null,a_=-1,Hs=0,o_=0,rp=null,s_=!1;function Ma(){return yt&48?Li():a_!==-1?a_:a_=Li()}function Jl(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Bh()===99?1:2;if(Hs===0&&(Hs=cd),dre.transition!==0){o_!==0&&(o_=q2!==null?q2.pendingLanes:0),t=Hs;var e=4186112&~o_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Bh(),yt&4&&t===98?t=H_(12,Hs):(t=gte(t),t=H_(t,Hs)),t}function Ql(t,e,r){if(50<tp)throw tp=0,eA=null,Error(Me(185));if(t=gx(t,e),t===null)return null;lx(t,e,r),t===ta&&(fd|=e,_i===4&&gh(t,Mi));var n=Bh();e===1?yt&8&&!(yt&48)?tA(t):(co(t,r),yt===0&&(hd(),xs())):(!(yt&4)||n!==98&&n!==99||(Zs===null?Zs=new Set([t]):Zs.add(t)),co(t,r)),q2=t}function gx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function co(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-cu(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,Vf(c);var u=Rr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=wp(t,t===ta?Mi:0),e=Rr,n===0)r!==null&&(r!==zE&&M2(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==zE&&M2(r)}e===15?(r=tA.bind(null,t),Gs===null?(Gs=[r],i_=RR(dx,g$)):Gs.push(r),r=zE):e===14?r=Tp(99,tA.bind(null,t)):(r=mte(e),r=Tp(r,U$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function U$(t){if(a_=-1,o_=Hs=0,yt&48)throw Error(Me(327));var e=t.callbackNode;if(Cu()&&t.callbackNode!==e)return null;var r=wp(t,t===ta?Mi:0);if(r===0)return null;var n=r,i=yt;yt|=16;var a=V$();(ta!==t||Mi!==n)&&(hd(),mh(t,n));do try{Rre();break}catch(s){G$(t,s)}while(1);if(PR(),oy.current=a,yt=i,Gn!==null?n=0:(ta=null,Mi=0,n=_i),cd&fd)mh(t,0);else if(n!==0){if(n===2&&(yt|=64,t.hydrate&&(t.hydrate=!1,TR(t.containerInfo)),r=Yj(t),r!==0&&(n=M0(t,r))),n===1)throw e=vx,mh(t,0),gh(t,r),co(t,Li()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Me(345));case 2:Ju(t);break;case 3:if(gh(t,r),(r&62914560)===r&&(n=VR+500-Li(),10<n)){if(wp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ma(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=FN(Ju.bind(null,t),n);break}Ju(t);break;case 4:if(gh(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-cu(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Li()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Are(r/1960))-r,10<r){t.timeoutHandle=FN(Ju.bind(null,t),r);break}Ju(t);break;case 5:Ju(t);break;default:throw Error(Me(329))}}return co(t,Li()),t.callbackNode===e?U$.bind(null,t):null}function gh(t,e){for(e&=~GR,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-cu(e),n=1<<r;t[r]=-1,e&=~n}}function tA(t){if(yt&48)throw Error(Me(327));if(Cu(),t===ta&&t.expiredLanes&Mi){var e=Mi,r=M0(t,e);cd&fd&&(e=wp(t,e),r=M0(t,e))}else e=wp(t,0),r=M0(t,e);if(t.tag!==0&&r===2&&(yt|=64,t.hydrate&&(t.hydrate=!1,TR(t.containerInfo)),e=Yj(t),e!==0&&(r=M0(t,e))),r===1)throw r=vx,mh(t,0),gh(t,e),co(t,Li()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ju(t),co(t,Li()),null}function Tre(){if(Zs!==null){var t=Zs;Zs=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,co(e,Li())})}xs()}function j$(t,e){var r=yt;yt|=1;try{return t(e)}finally{yt=r,yt===0&&(hd(),xs())}}function $$(t,e){var r=yt;yt&=-2,yt|=8;try{return t(e)}finally{yt=r,yt===0&&(hd(),xs())}}function Jg(t,e){fn(Y2,Lc),Lc|=e,cd|=e}function HR(){Lc=Y2.current,Br(Y2)}function mh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,sre(r)),Gn!==null)for(r=Gn.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Y_();break;case 3:Dh(),Br(ma),Br(Ui),NR();break;case 5:kR(n);break;case 4:Dh();break;case 13:Br(cn);break;case 19:Br(cn);break;case 10:OR(n);break;case 23:case 24:HR()}r=r.return}ta=t,Gn=du(t.current,null),Mi=Lc=cd=e,_i=0,vx=null,GR=fd=Sv=0}function G$(t,e){do{var r=Gn;try{if(PR(),J0.current=ay,ty){for(var n=En.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ty=!1}if(Op=0,vi=Ni=En=null,Q0=!1,$R.current=null,r===null||r.return===null){_i=1,vx=e,Gn=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=Mi,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(cn.current&1)!==0,h=o;do{var d;if(d=h.tag===13){var p=h.memoizedState;if(p!==null)d=p.dehydrated!==null;else{var v=h.memoizedProps;d=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var m=h.updateQueue;if(m===null){var _=new Set;_.add(l),h.updateQueue=_}else m.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=Kl(-1,1);g.tag=2,Zl(s,g)}s.lanes|=1;break e}c=void 0,s=e;var x=a.pingCache;if(x===null?(x=a.pingCache=new bre,c=new Set,x.set(l,c)):(c=x.get(l),c===void 0&&(c=new Set,x.set(l,c))),!c.has(s)){c.add(s);var E=Nre.bind(null,a,l,s);l.then(E,E)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((uh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}_i!==5&&(_i=2),c=jR(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var b=M$(h,a,e);UN(h,b);break e;case 1:a=c;var S=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(os===null||!os.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var A=B$(h,a,e);UN(h,A);break e}}h=h.return}while(h!==null)}X$(r)}catch(I){e=I,Gn===r&&r!==null&&(Gn=r=r.return);continue}break}while(1)}function V$(){var t=oy.current;return oy.current=ay,t===null?ay:t}function M0(t,e){var r=yt;yt|=16;var n=V$();ta===t&&Mi===e||mh(t,e);do try{Ire();break}catch(i){G$(t,i)}while(1);if(PR(),yt=r,oy.current=n,Gn!==null)throw Error(Me(261));return ta=null,Mi=0,_i}function Ire(){for(;Gn!==null;)H$(Gn)}function Rre(){for(;Gn!==null&&!cre();)H$(Gn)}function H$(t){var e=z$(t.alternate,t,Lc);t.memoizedProps=t.pendingProps,e===null?X$(t):Gn=e,$R.current=null}function X$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=xre(e),r!==null){r.flags&=2047,Gn=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=yre(r,e,Lc),r!==null){Gn=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Lc&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=t}while(e!==null);_i===0&&(_i=5)}function Ju(t){var e=Bh();return Nc(99,Pre.bind(null,t,e)),null}function Pre(t,e){do Cu();while(ep!==null);if(yt&48)throw Error(Me(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Me(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-cu(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(Zs!==null&&!(n&24)&&Zs.has(t)&&Zs.delete(t),t===ta&&(Gn=ta=null,Mi=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=yt,yt|=32,$R.current=null,HE=e_,o=CN(),O2(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,d=0,p=0,v=o,m=null;t:for(;;){for(var _;v!==s||a!==0&&v.nodeType!==3||(f=u+a),v!==c||l!==0&&v.nodeType!==3||(h=u+l),v.nodeType===3&&(u+=v.nodeValue.length),(_=v.firstChild)!==null;)m=v,v=_;for(;;){if(v===o)break t;if(m===s&&++d===a&&(f=u),m===c&&++p===l&&(h=u),(_=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=_}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;XE={focusedElem:o,selectionRange:s},e_=!1,rp=null,s_=!1,Qe=n;do try{Ore()}catch(I){if(Qe===null)throw Error(Me(330));eu(Qe,I),Qe=Qe.nextEffect}while(Qe!==null);rp=null,Qe=n;do try{for(o=t;Qe!==null;){var g=Qe.flags;if(g&16&&yp(Qe.stateNode,""),g&128){var x=Qe.alternate;if(x!==null){var E=x.ref;E!==null&&(typeof E=="function"?E(null):E.current=null)}}switch(g&1038){case 2:cL(Qe),Qe.flags&=-3;break;case 6:cL(Qe),Qe.flags&=-3,JE(Qe.alternate,Qe);break;case 1024:Qe.flags&=-1025;break;case 1028:Qe.flags&=-1025,JE(Qe.alternate,Qe);break;case 4:JE(Qe.alternate,Qe);break;case 8:s=Qe,D$(o,s);var b=s.alternate;lL(s),b!==null&&lL(b)}Qe=Qe.nextEffect}}catch(I){if(Qe===null)throw Error(Me(330));eu(Qe,I),Qe=Qe.nextEffect}while(Qe!==null);if(E=XE,x=CN(),g=E.focusedElem,o=E.selectionRange,x!==g&&g&&g.ownerDocument&&r$(g.ownerDocument.documentElement,g)){for(o!==null&&O2(g)&&(x=o.start,E=o.end,E===void 0&&(E=x),"selectionStart"in g?(g.selectionStart=x,g.selectionEnd=Math.min(E,g.value.length)):(E=(x=g.ownerDocument||document)&&x.defaultView||window,E.getSelection&&(E=E.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!E.extend&&b>o&&(s=o,o=b,b=s),s=SN(g,b),a=SN(g,o),s&&a&&(E.rangeCount!==1||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==a.node||E.focusOffset!==a.offset)&&(x=x.createRange(),x.setStart(s.node,s.offset),E.removeAllRanges(),b>o?(E.addRange(x),E.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),E.addRange(x)))))),x=[],E=g;E=E.parentNode;)E.nodeType===1&&x.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<x.length;g++)E=x[g],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}e_=!!HE,XE=HE=null,t.current=r,Qe=n;do try{for(g=t;Qe!==null;){var S=Qe.flags;if(S&36&&Sre(g,Qe.alternate,Qe),S&128){x=void 0;var C=Qe.ref;if(C!==null){var A=Qe.stateNode;switch(Qe.tag){case 5:x=A;break;default:x=A}typeof C=="function"?C(x):C.current=x}}Qe=Qe.nextEffect}}catch(I){if(Qe===null)throw Error(Me(330));eu(Qe,I),Qe=Qe.nextEffect}while(Qe!==null);Qe=null,hre(),yt=i}else t.current=r;if(hu)hu=!1,ep=t,L0=e;else for(Qe=n;Qe!==null;)e=Qe.nextEffect,Qe.nextEffect=null,Qe.flags&8&&(S=Qe,S.sibling=null,S.stateNode=null),Qe=e;if(n=t.pendingLanes,n===0&&(os=null),n===1?t===eA?tp++:(tp=0,eA=t):tp=0,r=r.stateNode,wc&&typeof wc.onCommitFiberRoot=="function")try{wc.onCommitFiberRoot(IR,r,void 0,(r.current.flags&64)===64)}catch{}if(co(t,Li()),sy)throw sy=!1,t=Z2,Z2=null,t;return yt&8||xs(),null}function Ore(){for(;Qe!==null;){var t=Qe.alternate;s_||rp===null||(Qe.flags&8?cN(Qe,rp)&&(s_=!0):Qe.tag===13&&Cre(t,Qe)&&cN(Qe,rp)&&(s_=!0));var e=Qe.flags;e&256&&wre(t,Qe),!(e&512)||hu||(hu=!0,Tp(97,function(){return Cu(),null})),Qe=Qe.nextEffect}}function Cu(){if(L0!==90){var t=97<L0?97:L0;return L0=90,Nc(t,kre)}return!1}function Fre(t,e){J2.push(e,t),hu||(hu=!0,Tp(97,function(){return Cu(),null}))}function W$(t,e){Q2.push(e,t),hu||(hu=!0,Tp(97,function(){return Cu(),null}))}function kre(){if(ep===null)return!1;var t=ep;if(ep=null,yt&48)throw Error(Me(331));var e=yt;yt|=32;var r=Q2;Q2=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(Me(330));eu(a,c)}}for(r=J2,J2=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(Me(330));eu(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return yt=e,xs(),!0}function hL(t,e,r){e=jR(r,e),e=M$(t,e,1),Zl(t,e),e=Ma(),t=gx(t,1),t!==null&&(lx(t,1,e),co(t,e))}function eu(t,e){if(t.tag===3)hL(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){hL(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(os===null||!os.has(n))){t=jR(e,t);var i=B$(r,t,1);if(Zl(r,i),i=Ma(),r=gx(r,1),r!==null)lx(r,1,i),co(r,i);else if(typeof n.componentDidCatch=="function"&&(os===null||!os.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Nre(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ma(),t.pingedLanes|=t.suspendedLanes&r,ta===t&&(Mi&r)===r&&(_i===4||_i===3&&(Mi&62914560)===Mi&&500>Li()-VR?mh(t,0):GR|=r),co(t,e)}function Lre(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Hs===0&&(Hs=cd),e=Hf(62914560&~Hs),e===0&&(e=4194304)):e=Bh()===99?1:2:e=1),r=Ma(),t=gx(t,e),t!==null&&(lx(t,e,r),co(t,r))}var z$;z$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ma.current)Fo=!0;else if(r&n)Fo=!!(t.flags&16384);else{switch(Fo=!1,e.tag){case 3:JN(e),qE();break;case 5:VN(e);break;case 1:_a(e.type)&&n_(e);break;case 4:U2(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;fn(q_,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?QN(t,e,r):(fn(cn,cn.current&1),e=zs(t,e,r),e!==null?e.sibling:null);fn(cn,cn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return iL(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fn(cn,cn.current),n)break;return null;case 23:case 24:return e.lanes=0,KE(t,e,r)}return zs(t,e,r)}else Fo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Mh(e,Ui.current),ph(e,r),i=MR(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(n)){var a=!0;n_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,FR(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&J_(e,n,o,t),i.updater=px,e.stateNode=i,i._reactInternals=e,D2(e,n,t,r),e=V2(null,e,n,!0,a,r)}else e.tag=0,ha(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=Bre(i),t=To(i,t),a){case 0:e=G2(null,e,i,t,r);break e;case 1:e=ZN(null,e,i,t,r);break e;case 11:e=qN(null,e,i,t,r);break e;case 14:e=KN(null,e,i,To(i.type,t),n,r);break e}throw Error(Me(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:To(n,i),G2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:To(n,i),ZN(t,e,n,i,r);case 3:if(JN(e),n=e.updateQueue,t===null||n===null)throw Error(Me(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,_$(t,e),Ip(e,n,null,r),n=e.memoizedState.element,n===i)qE(),e=zs(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(jl=dh(e.stateNode.containerInfo.firstChild),Ws=e,a=us=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],vh.push(a);for(r=E$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else ha(t,e,n,r),qE();e=e.child}return e;case 5:return VN(e),t===null&&j2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,N2(n,i)?o=null:a!==null&&N2(n,a)&&(e.flags|=16),F$(t,e),ha(t,e,o,r),e.child;case 6:return t===null&&j2(e),null;case 13:return QN(t,e,r);case 4:return U2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Q_(e,null,n,r):ha(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:To(n,i),qN(t,e,n,i,r);case 7:return ha(t,e,e.pendingProps,r),e.child;case 8:return ha(t,e,e.pendingProps.children,r),e.child;case 12:return ha(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(fn(q_,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=no(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!ma.current){e=zs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=Kl(-1,r&-r),l.tag=2,Zl(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),m$(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ha(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,ph(e,r),i=uo(i,a.unstable_observedBits),n=n(i),e.flags|=1,ha(t,e,n,r),e.child;case 14:return i=e.type,a=To(i,e.pendingProps),a=To(i.type,a),KN(t,e,i,a,n,r);case 15:return O$(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:To(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,_a(n)?(t=!0,n_(e)):t=!1,ph(e,r),x$(e,n,i),D2(e,n,i,r),V2(null,e,n,!0,t,r);case 19:return iL(t,e,r);case 23:return KE(t,e,r);case 24:return KE(t,e,r)}throw Error(Me(156,e.tag))};function Mre(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,r,n){return new Mre(t,e,r,n)}function XR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bre(t){if(typeof t=="function")return XR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ax)return 11;if(t===ox)return 14}return 2}function du(t,e){var r=t.alternate;return r===null?(r=io(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function l_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")XR(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fl:return _h(r.children,i,a,e);case wj:o=8,i|=16;break;case sR:o=8,i|=1;break;case X0:return t=io(12,r,e,i|8),t.elementType=X0,t.type=X0,t.lanes=a,t;case W0:return t=io(13,r,e,i),t.type=W0,t.elementType=W0,t.lanes=a,t;case j_:return t=io(19,r,e,i),t.elementType=j_,t.lanes=a,t;case dR:return WR(r,i,a,e);case g2:return t=io(24,r,e,i),t.elementType=g2,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lR:o=10;break e;case uR:o=9;break e;case ax:o=11;break e;case ox:o=14;break e;case cR:o=16,n=null;break e;case fR:o=22;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=io(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function _h(t,e,r,n){return t=io(7,t,n,e),t.lanes=r,t}function WR(t,e,r,n){return t=io(23,t,n,e),t.elementType=dR,t.lanes=r,t}function QE(t,e,r){return t=io(6,t,null,e),t.lanes=r,t}function ew(t,e,r){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dre(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=BE(0),this.expirationTimes=BE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BE(0),this.mutableSourceEagerHydrationData=null}function Ure(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ly(t,e,r,n){var i=e.current,a=Ma(),o=Jl(i);e:if(r){r=r._reactInternals;t:{if(qc(r)!==r||r.tag!==1)throw Error(Me(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(_a(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Me(171))}if(r.tag===1){var c=r.type;if(_a(c)){r=c$(r,c,s);break e}}r=s}else r=fu;return e.context===null?e.context=r:e.pendingContext=r,e=Kl(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Zl(i,e),Ql(i,o,a),o}function tw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zR(t,e){dL(t,e),(t=t.alternate)&&dL(t,e)}function jre(){return null}function YR(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Dre(t,e,r!=null&&r.hydrate===!0),e=io(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,FR(e),t[ud]=r.current,a$(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}YR.prototype.render=function(t){ly(t,this._internalRoot,null,null)};YR.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ly(null,t,null,function(){e[ud]=null})};function Cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $re(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new YR(t,0,e?{hydrate:!0}:void 0)}function mx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=tw(o);s.call(l)}}ly(e,o,t,i)}else{if(a=r._reactRootContainer=$re(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=tw(o);c.call(l)}}$$(function(){ly(e,o,t,i)})}return tw(o)}Dj=function(t){if(t.tag===13){var e=Ma();Ql(t,4,e),zR(t,4)}};_R=function(t){if(t.tag===13){var e=Ma();Ql(t,67108864,e),zR(t,67108864)}};Uj=function(t){if(t.tag===13){var e=Ma(),r=Jl(t);Ql(t,r,e),zR(t,r)}};jj=function(t,e){return e()};A2=function(t,e,r){switch(e){case"input":if(_2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=hx(n);if(!i)throw Error(Me(90));Cj(n),_2(n,i)}}}break;case"textarea":Tj(t,r);break;case"select":e=r.value,e!=null&&ch(t,!!r.multiple,e,!1)}};vR=j$;Nj=function(t,e,r,n,i){var a=yt;yt|=4;try{return Nc(98,t.bind(null,e,r,n,i))}finally{yt=a,yt===0&&(hd(),xs())}};gR=function(){!(yt&49)&&(Tre(),Cu())};Lj=function(t,e){var r=yt;yt|=2;try{return t(e)}finally{yt=r,yt===0&&(hd(),xs())}};function Y$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cv(e))throw Error(Me(200));return Ure(t,e,null,r)}var Gre={Events:[Ev,Kf,hx,Fj,kj,Cu,{current:!1}]},d0={findFiberByHostInstance:fc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Vre={bundleType:d0.bundleType,version:d0.version,rendererPackageName:d0.rendererPackageName,rendererConfig:d0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bj(t),t===null?null:t.stateNode},findFiberByHostInstance:d0.findFiberByHostInstance||jre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{IR=Qg.inject(Vre),wc=Qg}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gre;fo.createPortal=Y$;fo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):Error(Me(268,Object.keys(t)));return t=Bj(e),t=t===null?null:t.stateNode,t};fo.flushSync=function(t,e){var r=yt;if(r&48)return t(e);yt|=1;try{if(t)return Nc(99,t.bind(null,e))}finally{yt=r,xs()}};fo.hydrate=function(t,e,r){if(!Cv(e))throw Error(Me(200));return mx(null,t,e,!0,r)};fo.render=function(t,e,r){if(!Cv(e))throw Error(Me(200));return mx(null,t,e,!1,r)};fo.unmountComponentAtNode=function(t){if(!Cv(t))throw Error(Me(40));return t._reactRootContainer?($$(function(){mx(null,null,t,!1,function(){t._reactRootContainer=null,t[ud]=null})}),!0):!1};fo.unstable_batchedUpdates=j$;fo.unstable_createPortal=function(t,e){return Y$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};fo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cv(r))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return mx(t,e,r,!1,n)};fo.version="17.0.2";function q$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q$)}catch(t){console.error(t)}}q$(),yj.exports=fo;var K$=yj.exports;const Mc=wi(K$);const Hre="_Title_main_1yfxh_1",Xre="_Title_buttonList_1yfxh_8",Wre="_Title_button_1yfxh_8",zre="_Title_button_hover_1yfxh_35",Yre="_button_animation_pulse_1yfxh_1",qre="_Title_button_text_1yfxh_39",Kre="_Title_button_custom_1yfxh_45",Zre="_Title_backup_background_1yfxh_64",Cf={Title_main:Hre,Title_buttonList:Xre,Title_button:Wre,Title_button_hover:zre,button_animation_pulse:Yre,Title_button_text:qre,Title_button_custom:Kre,Title_backup_background:Zre};function Po(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pu(t){return!!t&&!!t[Vr]}function tl(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===one}(t)||Array.isArray(t)||!!t[xL]||!!(!((e=t.constructor)===null||e===void 0)&&e[xL])||qR(t)||KR(t))}function Bc(t,e,r){r===void 0&&(r=!1),dd(t)===0?(r?Object.keys:xh)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function dd(t){var e=t[Vr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:qR(t)?2:KR(t)?3:0}function yh(t,e){return dd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Jre(t,e){return dd(t)===2?t.get(e):t[e]}function Z$(t,e,r){var n=dd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function J$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function qR(t){return ine&&t instanceof Map}function KR(t){return ane&&t instanceof Set}function Qu(t){return t.o||t.t}function ZR(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=e9(t);delete e[Vr];for(var r=xh(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function JR(t,e){return e===void 0&&(e=!1),QR(t)||pu(t)||!tl(t)||(dd(t)>1&&(t.set=t.add=t.clear=t.delete=Qre),Object.freeze(t),e&&Bc(t,function(r,n){return JR(n,!0)},!0)),t}function Qre(){Po(2)}function QR(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function cs(t){var e=aA[t];return e||Po(18,t),e}function ene(t,e){aA[t]||(aA[t]=e)}function rA(){return Fp}function rw(t,e){e&&(cs("Patches"),t.u=[],t.s=[],t.v=e)}function uy(t){nA(t),t.p.forEach(tne),t.p=null}function nA(t){t===Fp&&(Fp=t.l)}function pL(t){return Fp={p:[],l:Fp,h:t,m:!0,_:0}}function tne(t){var e=t[Vr];e.i===0||e.i===1?e.j():e.g=!0}function nw(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||cs("ES5").S(e,t,n),n?(r[Vr].P&&(uy(e),Po(4)),tl(t)&&(t=cy(e,t),e.l||fy(e,t)),e.u&&cs("Patches").M(r[Vr].t,t,e.u,e.s)):t=cy(e,r,[]),uy(e),e.u&&e.v(e.u,e.s),t!==Q$?t:void 0}function cy(t,e,r){if(QR(e))return e;var n=e[Vr];if(!n)return Bc(e,function(s,c){return vL(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return fy(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=ZR(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),Bc(a,function(s,c){return vL(t,n,i,s,c,r,o)}),fy(t,i,!1),r&&t.u&&cs("Patches").N(n,r,t.u,t.s)}return n.o}function vL(t,e,r,n,i,a,o){if(pu(i)){var s=cy(t,i,a&&e&&e.i!==3&&!yh(e.R,n)?a.concat(n):void 0);if(Z$(r,n,s),!pu(s))return;t.m=!1}else o&&r.add(i);if(tl(i)&&!QR(i)){if(!t.h.D&&t._<1)return;cy(t,i),e&&e.A.l||fy(t,i)}}function fy(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&JR(e,r)}function iw(t,e){var r=t[Vr];return(r?Qu(r):t)[e]}function gL(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function kl(t){t.P||(t.P=!0,t.l&&kl(t.l))}function aw(t){t.o||(t.o=ZR(t.t))}function iA(t,e,r){var n=qR(e)?cs("MapSet").F(e,r):KR(e)?cs("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:rA(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=kp;o&&(c=[s],l=B0);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):cs("ES5").J(e,r);return(r?r.A:rA()).p.push(n),n}function rne(t){return pu(t)||Po(22,t),function e(r){if(!tl(r))return r;var n,i=r[Vr],a=dd(r);if(i){if(!i.P&&(i.i<4||!cs("ES5").K(i)))return i.t;i.I=!0,n=mL(r,a),i.I=!1}else n=mL(r,a);return Bc(n,function(o,s){i&&Jre(i.t,o)===s||Z$(n,o,e(s))}),a===3?new Set(n):n}(t)}function mL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return ZR(t)}function nne(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[Vr];return kp.get(c,a)},set:function(c){var l=this[Vr];kp.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][Vr];if(!s.P)switch(s.i){case 5:n(s)&&kl(s);break;case 4:r(s)&&kl(s)}}}function r(a){for(var o=a.t,s=a.k,c=xh(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==Vr){var f=o[u];if(f===void 0&&!yh(o,u))return!0;var h=s[u],d=h&&h[Vr];if(d?d.t!==f:!J$(h,f))return!0}}var p=!!o[Vr];return c.length!==xh(o).length+(p?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};ene("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,t(d,!0));return h}var p=e9(f);delete p[Vr];for(var v=xh(p),m=0;m<v.length;m++){var _=v[m];p[_]=t(_,u||!!p[_].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(s,a),l={i:s?5:4,A:o?o.A:rA(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Vr,{value:l,writable:!0}),c},S:function(a,o,s){s?pu(o)&&o[Vr].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[Vr];if(u){var f=u.t,h=u.k,d=u.R,p=u.i;if(p===4)Bc(h,function(x){x!==Vr&&(f[x]!==void 0||yh(f,x)?d[x]||c(h[x]):(d[x]=!0,kl(u)))}),Bc(f,function(x){h[x]!==void 0||yh(h,x)||(d[x]=!1,kl(u))});else if(p===5){if(n(u)&&(kl(u),d.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)d[v]=!1;else for(var m=f.length;m<h.length;m++)d[m]=!0;for(var _=Math.min(h.length,f.length),g=0;g<_;g++)h.hasOwnProperty(g)||(d[g]=!0),d[g]===void 0&&c(h[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var _L,Fp,eP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ine=typeof Map<"u",ane=typeof Set<"u",yL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Q$=eP?Symbol.for("immer-nothing"):((_L={})["immer-nothing"]=!0,_L),xL=eP?Symbol.for("immer-draftable"):"__$immer_draftable",Vr=eP?Symbol.for("immer-state"):"__$immer_state",one=""+Object.prototype.constructor,xh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,e9=Object.getOwnPropertyDescriptors||function(t){var e={};return xh(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},aA={},kp={get:function(t,e){if(e===Vr)return t;var r=Qu(t);if(!yh(r,e))return function(i,a,o){var s,c=gL(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!tl(n)?n:n===iw(t.t,e)?(aw(t),t.o[e]=iA(t.A.h,n,t)):n},has:function(t,e){return e in Qu(t)},ownKeys:function(t){return Reflect.ownKeys(Qu(t))},set:function(t,e,r){var n=gL(Qu(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=iw(Qu(t),e),a=i==null?void 0:i[Vr];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(J$(r,i)&&(r!==void 0||yh(t.t,e)))return!0;aw(t),kl(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return iw(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,aw(t),kl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Qu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Po(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Po(12)}},B0={};Bc(kp,function(t,e){B0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),B0.deleteProperty=function(t,e){return B0.set.call(this,t,e,void 0)},B0.set=function(t,e,r){return kp.set.call(this,t[0],e,r,t[0])};var sne=function(){function t(r){var n=this;this.O=yL,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(v){var m=this;v===void 0&&(v=s);for(var _=arguments.length,g=Array(_>1?_-1:0),x=1;x<_;x++)g[x-1]=arguments[x];return c.produce(v,function(E){var b;return(b=a).call.apply(b,[m,E].concat(g))})}}var l;if(typeof a!="function"&&Po(6),o!==void 0&&typeof o!="function"&&Po(7),tl(i)){var u=pL(n),f=iA(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?uy(u):nA(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return rw(u,o),nw(v,u)},function(v){throw uy(u),v}):(rw(u,o),nw(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===Q$&&(l=void 0),n.D&&JR(l,!0),o){var d=[],p=[];cs("Patches").M(i,l,d,p),o(d,p)}return l}Po(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){tl(r)||Po(8),pu(r)&&(r=rne(r));var n=pL(this),i=iA(this,r,void 0);return i[Vr].C=!0,nA(n),i},e.finishDraft=function(r,n){var i=r&&r[Vr],a=i.A;return rw(a,n),nw(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!yL&&Po(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=cs("Patches").$;return pu(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),Da=new sne,t9=Da.produce;Da.produceWithPatches.bind(Da);Da.setAutoFreeze.bind(Da);Da.setUseProxies.bind(Da);Da.applyPatches.bind(Da);Da.createDraft.bind(Da);Da.finishDraft.bind(Da);function ri(t){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(t)}function lne(t,e){if(ri(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r9(t){var e=lne(t,"string");return ri(e)=="symbol"?e:e+""}function Ga(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var wL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ow=function(){return Math.random().toString(36).substring(7).split("").join(".")},hy={INIT:"@@redux/INIT"+ow(),REPLACE:"@@redux/REPLACE"+ow(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ow()}};function une(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function n9(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Fi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Fi(1));return r(n9)(t,e)}if(typeof t!="function")throw new Error(Fi(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(Fi(3));return a}function f(v){if(typeof v!="function")throw new Error(Fi(4));if(c)throw new Error(Fi(5));var m=!0;return l(),s.push(v),function(){if(m){if(c)throw new Error(Fi(6));m=!1,l();var g=s.indexOf(v);s.splice(g,1),o=null}}}function h(v){if(!une(v))throw new Error(Fi(7));if(typeof v.type>"u")throw new Error(Fi(8));if(c)throw new Error(Fi(9));try{c=!0,a=i(a,v)}finally{c=!1}for(var m=o=s,_=0;_<m.length;_++){var g=m[_];g()}return v}function d(v){if(typeof v!="function")throw new Error(Fi(10));i=v,h({type:hy.REPLACE})}function p(){var v,m=f;return v={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Fi(11));function x(){g.next&&g.next(u())}x();var E=m(x);return{unsubscribe:E}}},v[wL]=function(){return this},v}return h({type:hy.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:d},n[wL]=p,n}function cne(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:hy.INIT});if(typeof n>"u")throw new Error(Fi(12));if(typeof r(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fi(13))})}function fne(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{cne(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var d=a[h],p=r[d],v=c[d],m=p(v,l);if(typeof m>"u")throw l&&l.type,new Error(Fi(14));f[d]=m,u=u||m!==v}return u=u||a.length!==Object.keys(c).length,u?f:c}}function dy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function hne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Fi(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=dy.apply(void 0,s)(i.dispatch),EL(EL({},i),{},{dispatch:a})}}}function i9(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var a9=i9();a9.withExtraArgument=i9;const SL=a9;var o9=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dne=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Uh=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},pne=Object.defineProperty,vne=Object.defineProperties,gne=Object.getOwnPropertyDescriptors,CL=Object.getOwnPropertySymbols,mne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,AL=function(t,e,r){return e in t?pne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},tu=function(t,e){for(var r in e||(e={}))mne.call(e,r)&&AL(t,r,e[r]);if(CL)for(var n=0,i=CL(e);n<i.length;n++){var r=i[n];_ne.call(e,r)&&AL(t,r,e[r])}return t},sw=function(t,e){return vne(t,gne(e))},yne=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},xne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function bne(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function ru(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return tu(tu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var Ene=function(t){o9(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Uh([void 0],r[0].concat(this)))):new(e.bind.apply(e,Uh([void 0],r.concat(this))))},e}(Array),wne=function(t){o9(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Uh([void 0],r[0].concat(this)))):new(e.bind.apply(e,Uh([void 0],r.concat(this))))},e}(Array);function oA(t){return tl(t)?t9(t,function(){}):t}function Sne(t){return typeof t=="boolean"}function Cne(){return function(e){return s9(e)}}function s9(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new Ene;return r&&(Sne(r)?n.push(SL):n.push(SL.withExtraArgument(r.extraArgument))),n}var Ane=!0;function Tne(t){var e=Cne(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(bne(i))d=fne(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var v=hne.apply(void 0,p),m=dy;c&&(m=xne(tu({trace:!Ane},typeof c=="object"&&c)));var _=new wne(v),g=_;Array.isArray(h)?g=Uh([v],h):typeof h=="function"&&(g=h(_));var x=m.apply(void 0,g);return n9(d,u,x)}function l9(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function Ine(t){return typeof t=="function"}function Rne(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?l9(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(Ine(t))c=function(){return oA(t())};else{var l=oA(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var d=Uh([a[h.type]],o.filter(function(p){var v=p.matcher;return v(h)}).map(function(p){var v=p.reducer;return v}));return d.filter(function(p){return!!p}).length===0&&(d=[s]),d.reduce(function(p,v){if(v)if(pu(p)){var m=p,_=v(m,h);return _===void 0?p:_}else{if(tl(p))return t9(p,function(g){return v(g,h)});var _=v(p,h);if(_===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}return p},f)}return u.getInitialState=c,u}function Pne(t,e){return t+"/"+e}function _x(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:oA(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=Pne(e,u),d,p;"reducer"in f?(d=f.reducer,p=f.prepare):d=f,a[u]=d,o[h]=d,s[u]=p?ru(h,p):ru(h)});function c(){var u=typeof t.extraReducers=="function"?l9(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,d=u[1],p=d===void 0?[]:d,v=u[2],m=v===void 0?void 0:v,_=tu(tu({},h),o);return Rne(r,function(g){for(var x in _)g.addCase(x,_[x]);for(var E=0,b=p;E<b.length;E++){var S=b[E];g.addMatcher(S.matcher,S.reducer)}m&&g.addDefaultCase(m)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var One="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fne=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=One[Math.random()*64|0];return e},kne=["name","message","stack","code"],lw=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),TL=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Nne=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=kne;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=ru(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:sw(tu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=ru(e+"/pending",function(l,u,f){return{payload:void 0,meta:sw(tu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=ru(e+"/rejected",function(l,u,f,h,d){return{payload:h,error:(n&&n.serializeError||Nne)(l||"Rejected"),meta:sw(tu({},d||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var d=n!=null&&n.idGenerator?n.idGenerator(l):Fne(),p=new s,v;function m(g){v=g,p.abort()}var _=function(){return yne(this,null,function(){var g,x,E,b,S,C,A;return dne(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),b=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:f,extra:h}),Mne(b)?[4,b]:[3,2];case 1:b=I.sent(),I.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(R,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:v||"Aborted"})})}),u(a(d,l,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([S,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:d,signal:p.signal,abort:m,rejectWithValue:function(R,O){return new lw(R,O)},fulfillWithValue:function(R,O){return new TL(R,O)}})).then(function(R){if(R instanceof lw)throw R;return R instanceof TL?i(R.payload,d,l,R.meta):i(R,d,l)})])];case 3:return E=I.sent(),[3,5];case 4:return C=I.sent(),E=C instanceof lw?o(null,d,l,C.payload,C.meta):o(C,d,l),[3,5];case 5:return A=n&&!n.dispatchConditionRejection&&o.match(E)&&E.meta.condition,A||u(E),[2,E]}})})}();return Object.assign(_,{abort:m,requestId:d,arg:l,unwrap:function(){return _.then(Lne)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Lne(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Mne(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var tP="listenerMiddleware";ru(tP+"/add");ru(tP+"/removeAll");ru(tP+"/remove");var IL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);nne();function Bne(){this.__data__=[],this.size=0}var Dne=Bne;function Une(t,e){return t===e||t!==t&&e!==e}var rP=Une,jne=rP;function $ne(t,e){for(var r=t.length;r--;)if(jne(t[r][0],e))return r;return-1}var yx=$ne,Gne=yx,Vne=Array.prototype,Hne=Vne.splice;function Xne(t){var e=this.__data__,r=Gne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Hne.call(e,r,1),--this.size,!0}var Wne=Xne,zne=yx;function Yne(t){var e=this.__data__,r=zne(e,t);return r<0?void 0:e[r][1]}var qne=Yne,Kne=yx;function Zne(t){return Kne(this.__data__,t)>-1}var Jne=Zne,Qne=yx;function eie(t,e){var r=this.__data__,n=Qne(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var tie=eie,rie=Dne,nie=Wne,iie=qne,aie=Jne,oie=tie;function pd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pd.prototype.clear=rie;pd.prototype.delete=nie;pd.prototype.get=iie;pd.prototype.has=aie;pd.prototype.set=oie;var xx=pd,sie=xx;function lie(){this.__data__=new sie,this.size=0}var uie=lie;function cie(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var fie=cie;function hie(t){return this.__data__.get(t)}var die=hie;function pie(t){return this.__data__.has(t)}var vie=pie,gie=typeof ot=="object"&&ot&&ot.Object===Object&&ot,u9=gie,mie=u9,_ie=typeof self=="object"&&self&&self.Object===Object&&self,yie=mie||_ie||Function("return this")(),Do=yie,xie=Do,bie=xie.Symbol,Av=bie,RL=Av,c9=Object.prototype,Eie=c9.hasOwnProperty,wie=c9.toString,p0=RL?RL.toStringTag:void 0;function Sie(t){var e=Eie.call(t,p0),r=t[p0];try{t[p0]=void 0;var n=!0}catch{}var i=wie.call(t);return n&&(e?t[p0]=r:delete t[p0]),i}var Cie=Sie,Aie=Object.prototype,Tie=Aie.toString;function Iie(t){return Tie.call(t)}var Rie=Iie,PL=Av,Pie=Cie,Oie=Rie,Fie="[object Null]",kie="[object Undefined]",OL=PL?PL.toStringTag:void 0;function Nie(t){return t==null?t===void 0?kie:Fie:OL&&OL in Object(t)?Pie(t):Oie(t)}var Tv=Nie;function Lie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bs=Lie,Mie=Tv,Bie=bs,Die="[object AsyncFunction]",Uie="[object Function]",jie="[object GeneratorFunction]",$ie="[object Proxy]";function Gie(t){if(!Bie(t))return!1;var e=Mie(t);return e==Uie||e==jie||e==Die||e==$ie}var f9=Gie,Vie=Do,Hie=Vie["__core-js_shared__"],Xie=Hie,uw=Xie,FL=function(){var t=/[^.]+$/.exec(uw&&uw.keys&&uw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wie(t){return!!FL&&FL in t}var zie=Wie,Yie=Function.prototype,qie=Yie.toString;function Kie(t){if(t!=null){try{return qie.call(t)}catch{}try{return t+""}catch{}}return""}var h9=Kie,Zie=f9,Jie=zie,Qie=bs,eae=h9,tae=/[\\^$.*+?()[\]{}|]/g,rae=/^\[object .+?Constructor\]$/,nae=Function.prototype,iae=Object.prototype,aae=nae.toString,oae=iae.hasOwnProperty,sae=RegExp("^"+aae.call(oae).replace(tae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lae(t){if(!Qie(t)||Jie(t))return!1;var e=Zie(t)?sae:rae;return e.test(eae(t))}var uae=lae;function cae(t,e){return t==null?void 0:t[e]}var fae=cae,hae=uae,dae=fae;function pae(t,e){var r=dae(t,e);return hae(r)?r:void 0}var Zc=pae,vae=Zc,gae=Do,mae=vae(gae,"Map"),nP=mae,_ae=Zc,yae=_ae(Object,"create"),bx=yae,kL=bx;function xae(){this.__data__=kL?kL(null):{},this.size=0}var bae=xae;function Eae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wae=Eae,Sae=bx,Cae="__lodash_hash_undefined__",Aae=Object.prototype,Tae=Aae.hasOwnProperty;function Iae(t){var e=this.__data__;if(Sae){var r=e[t];return r===Cae?void 0:r}return Tae.call(e,t)?e[t]:void 0}var Rae=Iae,Pae=bx,Oae=Object.prototype,Fae=Oae.hasOwnProperty;function kae(t){var e=this.__data__;return Pae?e[t]!==void 0:Fae.call(e,t)}var Nae=kae,Lae=bx,Mae="__lodash_hash_undefined__";function Bae(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Lae&&e===void 0?Mae:e,this}var Dae=Bae,Uae=bae,jae=wae,$ae=Rae,Gae=Nae,Vae=Dae;function vd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vd.prototype.clear=Uae;vd.prototype.delete=jae;vd.prototype.get=$ae;vd.prototype.has=Gae;vd.prototype.set=Vae;var Hae=vd,NL=Hae,Xae=xx,Wae=nP;function zae(){this.size=0,this.__data__={hash:new NL,map:new(Wae||Xae),string:new NL}}var Yae=zae;function qae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Kae=qae,Zae=Kae;function Jae(t,e){var r=t.__data__;return Zae(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ex=Jae,Qae=Ex;function eoe(t){var e=Qae(this,t).delete(t);return this.size-=e?1:0,e}var toe=eoe,roe=Ex;function noe(t){return roe(this,t).get(t)}var ioe=noe,aoe=Ex;function ooe(t){return aoe(this,t).has(t)}var soe=ooe,loe=Ex;function uoe(t,e){var r=loe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var coe=uoe,foe=Yae,hoe=toe,doe=ioe,poe=soe,voe=coe;function gd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gd.prototype.clear=foe;gd.prototype.delete=hoe;gd.prototype.get=doe;gd.prototype.has=poe;gd.prototype.set=voe;var iP=gd,goe=xx,moe=nP,_oe=iP,yoe=200;function xoe(t,e){var r=this.__data__;if(r instanceof goe){var n=r.__data__;if(!moe||n.length<yoe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _oe(n)}return r.set(t,e),this.size=r.size,this}var boe=xoe,Eoe=xx,woe=uie,Soe=fie,Coe=die,Aoe=vie,Toe=boe;function md(t){var e=this.__data__=new Eoe(t);this.size=e.size}md.prototype.clear=woe;md.prototype.delete=Soe;md.prototype.get=Coe;md.prototype.has=Aoe;md.prototype.set=Toe;var aP=md;function Ioe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Roe=Ioe,Poe=Zc,Ooe=function(){try{var t=Poe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Foe=Ooe,LL=Foe;function koe(t,e,r){e=="__proto__"&&LL?LL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var d9=koe,Noe=d9,Loe=rP,Moe=Object.prototype,Boe=Moe.hasOwnProperty;function Doe(t,e,r){var n=t[e];(!(Boe.call(t,e)&&Loe(n,r))||r===void 0&&!(e in t))&&Noe(t,e,r)}var oP=Doe,Uoe=oP,joe=d9;function $oe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?joe(r,s,c):Uoe(r,s,c)}return r}var wx=$oe;function Goe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Voe=Goe;function Hoe(t){return t!=null&&typeof t=="object"}var Jc=Hoe,Xoe=Tv,Woe=Jc,zoe="[object Arguments]";function Yoe(t){return Woe(t)&&Xoe(t)==zoe}var qoe=Yoe,ML=qoe,Koe=Jc,p9=Object.prototype,Zoe=p9.hasOwnProperty,Joe=p9.propertyIsEnumerable,Qoe=ML(function(){return arguments}())?ML:function(t){return Koe(t)&&Zoe.call(t,"callee")&&!Joe.call(t,"callee")},v9=Qoe,ese=Array.isArray,sl=ese,py={exports:{}};function tse(){return!1}var rse=tse;py.exports;(function(t,e){var r=Do,n=rse,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(py,py.exports);var sP=py.exports,nse=9007199254740991,ise=/^(?:0|[1-9]\d*)$/;function ase(t,e){var r=typeof t;return e=e??nse,!!e&&(r=="number"||r!="symbol"&&ise.test(t))&&t>-1&&t%1==0&&t<e}var lP=ase,ose=9007199254740991;function sse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ose}var uP=sse,lse=Tv,use=uP,cse=Jc,fse="[object Arguments]",hse="[object Array]",dse="[object Boolean]",pse="[object Date]",vse="[object Error]",gse="[object Function]",mse="[object Map]",_se="[object Number]",yse="[object Object]",xse="[object RegExp]",bse="[object Set]",Ese="[object String]",wse="[object WeakMap]",Sse="[object ArrayBuffer]",Cse="[object DataView]",Ase="[object Float32Array]",Tse="[object Float64Array]",Ise="[object Int8Array]",Rse="[object Int16Array]",Pse="[object Int32Array]",Ose="[object Uint8Array]",Fse="[object Uint8ClampedArray]",kse="[object Uint16Array]",Nse="[object Uint32Array]",Lr={};Lr[Ase]=Lr[Tse]=Lr[Ise]=Lr[Rse]=Lr[Pse]=Lr[Ose]=Lr[Fse]=Lr[kse]=Lr[Nse]=!0;Lr[fse]=Lr[hse]=Lr[Sse]=Lr[dse]=Lr[Cse]=Lr[pse]=Lr[vse]=Lr[gse]=Lr[mse]=Lr[_se]=Lr[yse]=Lr[xse]=Lr[bse]=Lr[Ese]=Lr[wse]=!1;function Lse(t){return cse(t)&&use(t.length)&&!!Lr[lse(t)]}var Mse=Lse;function Bse(t){return function(e){return t(e)}}var cP=Bse,vy={exports:{}};vy.exports;(function(t,e){var r=u9,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(vy,vy.exports);var fP=vy.exports,Dse=Mse,Use=cP,BL=fP,DL=BL&&BL.isTypedArray,jse=DL?Use(DL):Dse,g9=jse,$se=Voe,Gse=v9,Vse=sl,Hse=sP,Xse=lP,Wse=g9,zse=Object.prototype,Yse=zse.hasOwnProperty;function qse(t,e){var r=Vse(t),n=!r&&Gse(t),i=!r&&!n&&Hse(t),a=!r&&!n&&!i&&Wse(t),o=r||n||i||a,s=o?$se(t.length,String):[],c=s.length;for(var l in t)(e||Yse.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Xse(l,c)))&&s.push(l);return s}var m9=qse,Kse=Object.prototype;function Zse(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Kse;return t===r}var hP=Zse;function Jse(t,e){return function(r){return t(e(r))}}var _9=Jse,Qse=_9,ele=Qse(Object.keys,Object),tle=ele,rle=hP,nle=tle,ile=Object.prototype,ale=ile.hasOwnProperty;function ole(t){if(!rle(t))return nle(t);var e=[];for(var r in Object(t))ale.call(t,r)&&r!="constructor"&&e.push(r);return e}var sle=ole,lle=f9,ule=uP;function cle(t){return t!=null&&ule(t.length)&&!lle(t)}var y9=cle,fle=m9,hle=sle,dle=y9;function ple(t){return dle(t)?fle(t):hle(t)}var Sx=ple,vle=wx,gle=Sx;function mle(t,e){return t&&vle(e,gle(e),t)}var _le=mle;function yle(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var xle=yle,ble=bs,Ele=hP,wle=xle,Sle=Object.prototype,Cle=Sle.hasOwnProperty;function Ale(t){if(!ble(t))return wle(t);var e=Ele(t),r=[];for(var n in t)n=="constructor"&&(e||!Cle.call(t,n))||r.push(n);return r}var Tle=Ale,Ile=m9,Rle=Tle,Ple=y9;function Ole(t){return Ple(t)?Ile(t,!0):Rle(t)}var dP=Ole,Fle=wx,kle=dP;function Nle(t,e){return t&&Fle(e,kle(e),t)}var Lle=Nle,gy={exports:{}};gy.exports;(function(t,e){var r=Do,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(gy,gy.exports);var Mle=gy.exports;function Ble(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Dle=Ble;function Ule(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var jle=Ule;function $le(){return[]}var x9=$le,Gle=jle,Vle=x9,Hle=Object.prototype,Xle=Hle.propertyIsEnumerable,UL=Object.getOwnPropertySymbols,Wle=UL?function(t){return t==null?[]:(t=Object(t),Gle(UL(t),function(e){return Xle.call(t,e)}))}:Vle,pP=Wle,zle=wx,Yle=pP;function qle(t,e){return zle(t,Yle(t),e)}var Kle=qle;function Zle(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var b9=Zle,Jle=_9,Qle=Jle(Object.getPrototypeOf,Object),E9=Qle,eue=b9,tue=E9,rue=pP,nue=x9,iue=Object.getOwnPropertySymbols,aue=iue?function(t){for(var e=[];t;)eue(e,rue(t)),t=tue(t);return e}:nue,w9=aue,oue=wx,sue=w9;function lue(t,e){return oue(t,sue(t),e)}var uue=lue,cue=b9,fue=sl;function hue(t,e,r){var n=e(t);return fue(t)?n:cue(n,r(t))}var S9=hue,due=S9,pue=pP,vue=Sx;function gue(t){return due(t,vue,pue)}var C9=gue,mue=S9,_ue=w9,yue=dP;function xue(t){return mue(t,yue,_ue)}var A9=xue,bue=Zc,Eue=Do,wue=bue(Eue,"DataView"),Sue=wue,Cue=Zc,Aue=Do,Tue=Cue(Aue,"Promise"),Iue=Tue,Rue=Zc,Pue=Do,Oue=Rue(Pue,"Set"),T9=Oue,Fue=Zc,kue=Do,Nue=Fue(kue,"WeakMap"),Lue=Nue,sA=Sue,lA=nP,uA=Iue,cA=T9,fA=Lue,I9=Tv,_d=h9,jL="[object Map]",Mue="[object Object]",$L="[object Promise]",GL="[object Set]",VL="[object WeakMap]",HL="[object DataView]",Bue=_d(sA),Due=_d(lA),Uue=_d(uA),jue=_d(cA),$ue=_d(fA),ec=I9;(sA&&ec(new sA(new ArrayBuffer(1)))!=HL||lA&&ec(new lA)!=jL||uA&&ec(uA.resolve())!=$L||cA&&ec(new cA)!=GL||fA&&ec(new fA)!=VL)&&(ec=function(t){var e=I9(t),r=e==Mue?t.constructor:void 0,n=r?_d(r):"";if(n)switch(n){case Bue:return HL;case Due:return jL;case Uue:return $L;case jue:return GL;case $ue:return VL}return e});var Cx=ec,Gue=Object.prototype,Vue=Gue.hasOwnProperty;function Hue(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Vue.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Xue=Hue,Wue=Do,zue=Wue.Uint8Array,R9=zue,XL=R9;function Yue(t){var e=new t.constructor(t.byteLength);return new XL(e).set(new XL(t)),e}var vP=Yue,que=vP;function Kue(t,e){var r=e?que(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Zue=Kue,Jue=/\w*$/;function Que(t){var e=new t.constructor(t.source,Jue.exec(t));return e.lastIndex=t.lastIndex,e}var ece=Que,WL=Av,zL=WL?WL.prototype:void 0,YL=zL?zL.valueOf:void 0;function tce(t){return YL?Object(YL.call(t)):{}}var rce=tce,nce=vP;function ice(t,e){var r=e?nce(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var ace=ice,oce=vP,sce=Zue,lce=ece,uce=rce,cce=ace,fce="[object Boolean]",hce="[object Date]",dce="[object Map]",pce="[object Number]",vce="[object RegExp]",gce="[object Set]",mce="[object String]",_ce="[object Symbol]",yce="[object ArrayBuffer]",xce="[object DataView]",bce="[object Float32Array]",Ece="[object Float64Array]",wce="[object Int8Array]",Sce="[object Int16Array]",Cce="[object Int32Array]",Ace="[object Uint8Array]",Tce="[object Uint8ClampedArray]",Ice="[object Uint16Array]",Rce="[object Uint32Array]";function Pce(t,e,r){var n=t.constructor;switch(e){case yce:return oce(t);case fce:case hce:return new n(+t);case xce:return sce(t,r);case bce:case Ece:case wce:case Sce:case Cce:case Ace:case Tce:case Ice:case Rce:return cce(t,r);case dce:return new n;case pce:case mce:return new n(t);case vce:return lce(t);case gce:return new n;case _ce:return uce(t)}}var Oce=Pce,Fce=bs,qL=Object.create,kce=function(){function t(){}return function(e){if(!Fce(e))return{};if(qL)return qL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Nce=kce,Lce=Nce,Mce=E9,Bce=hP;function Dce(t){return typeof t.constructor=="function"&&!Bce(t)?Lce(Mce(t)):{}}var Uce=Dce,jce=Cx,$ce=Jc,Gce="[object Map]";function Vce(t){return $ce(t)&&jce(t)==Gce}var Hce=Vce,Xce=Hce,Wce=cP,KL=fP,ZL=KL&&KL.isMap,zce=ZL?Wce(ZL):Xce,Yce=zce,qce=Cx,Kce=Jc,Zce="[object Set]";function Jce(t){return Kce(t)&&qce(t)==Zce}var Qce=Jce,efe=Qce,tfe=cP,JL=fP,QL=JL&&JL.isSet,rfe=QL?tfe(QL):efe,nfe=rfe,ife=aP,afe=Roe,ofe=oP,sfe=_le,lfe=Lle,ufe=Mle,cfe=Dle,ffe=Kle,hfe=uue,dfe=C9,pfe=A9,vfe=Cx,gfe=Xue,mfe=Oce,_fe=Uce,yfe=sl,xfe=sP,bfe=Yce,Efe=bs,wfe=nfe,Sfe=Sx,Cfe=dP,Afe=1,Tfe=2,Ife=4,P9="[object Arguments]",Rfe="[object Array]",Pfe="[object Boolean]",Ofe="[object Date]",Ffe="[object Error]",O9="[object Function]",kfe="[object GeneratorFunction]",Nfe="[object Map]",Lfe="[object Number]",F9="[object Object]",Mfe="[object RegExp]",Bfe="[object Set]",Dfe="[object String]",Ufe="[object Symbol]",jfe="[object WeakMap]",$fe="[object ArrayBuffer]",Gfe="[object DataView]",Vfe="[object Float32Array]",Hfe="[object Float64Array]",Xfe="[object Int8Array]",Wfe="[object Int16Array]",zfe="[object Int32Array]",Yfe="[object Uint8Array]",qfe="[object Uint8ClampedArray]",Kfe="[object Uint16Array]",Zfe="[object Uint32Array]",Tr={};Tr[P9]=Tr[Rfe]=Tr[$fe]=Tr[Gfe]=Tr[Pfe]=Tr[Ofe]=Tr[Vfe]=Tr[Hfe]=Tr[Xfe]=Tr[Wfe]=Tr[zfe]=Tr[Nfe]=Tr[Lfe]=Tr[F9]=Tr[Mfe]=Tr[Bfe]=Tr[Dfe]=Tr[Ufe]=Tr[Yfe]=Tr[qfe]=Tr[Kfe]=Tr[Zfe]=!0;Tr[Ffe]=Tr[O9]=Tr[jfe]=!1;function u_(t,e,r,n,i,a){var o,s=e&Afe,c=e&Tfe,l=e&Ife;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!Efe(t))return t;var u=yfe(t);if(u){if(o=gfe(t),!s)return cfe(t,o)}else{var f=vfe(t),h=f==O9||f==kfe;if(xfe(t))return ufe(t,s);if(f==F9||f==P9||h&&!i){if(o=c||h?{}:_fe(t),!s)return c?hfe(t,lfe(o,t)):ffe(t,sfe(o,t))}else{if(!Tr[f])return i?t:{};o=mfe(t,f,s)}}a||(a=new ife);var d=a.get(t);if(d)return d;a.set(t,o),wfe(t)?t.forEach(function(m){o.add(u_(m,e,r,m,t,a))}):bfe(t)&&t.forEach(function(m,_){o.set(_,u_(m,e,r,_,t,a))});var p=l?c?pfe:dfe:c?Cfe:Sfe,v=u?void 0:p(t);return afe(v||t,function(m,_){v&&(_=m,m=t[_]),ofe(o,_,u_(m,e,r,_,t,a))}),o}var Jfe=u_,Qfe=Jfe,ehe=1,the=4;function rhe(t){return Qfe(t,ehe|the)}var nhe=rhe;const nn=wi(nhe);var Pt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t))(Pt||{});function em(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const k9={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},currentPlayAudio:null,hasCustomClickSe:!1,uiSe:"",gameSe:"",gameScounds:[],menuScounds:[],miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:em().defaultWidth,storyLineBgY:em().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:em().defaultWidth,achieveBgY:em().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},gP=_x({name:"stage",initialState:nn(k9),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Pt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{const r=t.showValueList.findIndex(n=>n.showValueName===e.payload.showValueName);if(r>-1){const n=[...t.showValueList];n[r]=e.payload,t.showValueList=n}else t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:Ax,setStage:ct,setStageVar:N9,setAchieveBg:ihe,setUnlockAchieve:lGe,setStoryLineBg:uGe,addShowValues:Af,addShowValueList:ahe,updateShowValueList:ohe}=gP.actions,pa=gP.actions,she=gP.reducer;function D0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var L9={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof D0=="function"&&D0;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(p){var v=n[l][1][p];return o(v||p)},d,d.exports,r,n,i,a)}return i[l].exports}for(var s=typeof D0=="function"&&D0,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(p),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:s=function(){setTimeout(p,0)};var h,d=[];function p(){h=!0;for(var m,_,g=d.length;g;){for(_=d,d=[],m=-1;++m<g;)_[m]();g=d.length}h=!1}n.exports=v;function v(m){d.push(m)===1&&!h&&s()}}).call(this,typeof ot<"u"?ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,S){if(typeof b!="function"&&this.state===l||typeof S!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var A=this.state===l?b:S;d(C,A,this.outcome)}else this.queue.push(new h(C,b,S));return C};function h(b,S,C){this.promise=b,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){d(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){d(this.promise,this.onRejected,b)};function d(b,S,C){a(function(){var A;try{A=S(C)}catch(I){return s.reject(b,I)}A===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,A)})}s.resolve=function(b,S){var C=m(p,S);if(C.status==="error")return s.reject(b,C.value);var A=C.value;if(A)v(b,A);else{b.state=l,b.outcome=S;for(var I=-1,R=b.queue.length;++I<R;)b.queue[I].callFulfilled(S)}return b},s.reject=function(b,S){b.state=c,b.outcome=S;for(var C=-1,A=b.queue.length;++C<A;)b.queue[C].callRejected(S);return b};function p(b){var S=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof S=="function")return function(){S.apply(b,arguments)}}function v(b,S){var C=!1;function A(P){C||(C=!0,s.reject(b,P))}function I(P){C||(C=!0,s.resolve(b,P))}function R(){S(I,A)}var O=m(R);O.status==="error"&&A(O.value)}function m(b,S){var C={};try{C.value=b(S),C.status="success"}catch(A){C.status="error",C.value=A}return C}f.resolve=_;function _(b){return b instanceof this?b:s.resolve(new this(o),b)}f.reject=g;function g(b){var S=new this(o);return s.reject(S,b)}f.all=x;function x(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var I=new Array(C),R=0,O=-1,P=new this(o);++O<C;)F(b[O],O);return P;function F(N,B){S.resolve(N).then(U,function(H){A||(A=!0,s.reject(P,H))});function U(H){I[B]=H,++R===C&&!A&&(A=!0,s.resolve(P,I))}}}f.race=E;function E(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var I=-1,R=new this(o);++I<C;)O(b[I]);return R;function O(P){S.resolve(P).then(function(F){A||(A=!0,s.resolve(R,F))},function(F){A||(A=!0,s.reject(R,F))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof ot<"u"?ot:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};function o(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var Y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),re=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Y||re)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(Y,re){Y=Y||[],re=re||{};try{return new Blob(Y,re)}catch(ae){if(ae.name!=="TypeError")throw ae;for(var Z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,oe=new Z,de=0;de<Y.length;de+=1)oe.append(Y[de]);return oe.getBlob(re.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(Y,re){re&&Y.then(function(Z){re(null,Z)},function(Z){re(Z)})}function d(Y,re,Z){typeof re=="function"&&Y.then(re),typeof Z=="function"&&Y.catch(Z)}function p(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",_=void 0,g={},x=Object.prototype.toString,E="readonly",b="readwrite";function S(Y){for(var re=Y.length,Z=new ArrayBuffer(re),oe=new Uint8Array(Z),de=0;de<re;de++)oe[de]=Y.charCodeAt(de);return Z}function C(Y){return new f(function(re){var Z=Y.transaction(m,b),oe=u([""]);Z.objectStore(m).put(oe,"key"),Z.onabort=function(de){de.preventDefault(),de.stopPropagation(),re(!1)},Z.oncomplete=function(){var de=navigator.userAgent.match(/Chrome\/(\d+)/),ae=navigator.userAgent.match(/Edge\//);re(ae||!de||parseInt(de[1],10)>=43)}}).catch(function(){return!1})}function A(Y){return typeof _=="boolean"?f.resolve(_):C(Y).then(function(re){return _=re,_})}function I(Y){var re=g[Y.name],Z={};Z.promise=new f(function(oe,de){Z.resolve=oe,Z.reject=de}),re.deferredOperations.push(Z),re.dbReady?re.dbReady=re.dbReady.then(function(){return Z.promise}):re.dbReady=Z.promise}function R(Y){var re=g[Y.name],Z=re.deferredOperations.pop();if(Z)return Z.resolve(),Z.promise}function O(Y,re){var Z=g[Y.name],oe=Z.deferredOperations.pop();if(oe)return oe.reject(re),oe.promise}function P(Y,re){return new f(function(Z,oe){if(g[Y.name]=g[Y.name]||V(),Y.db)if(re)I(Y),Y.db.close();else return Z(Y.db);var de=[Y.name];re&&de.push(Y.version);var ae=c.open.apply(c,de);re&&(ae.onupgradeneeded=function(Ee){var Re=ae.result;try{Re.createObjectStore(Y.storeName),Ee.oldVersion<=1&&Re.createObjectStore(m)}catch(ke){if(ke.name==="ConstraintError")console.warn('The database "'+Y.name+'" has been upgraded from version '+Ee.oldVersion+" to version "+Ee.newVersion+', but the storage "'+Y.storeName+'" already exists.');else throw ke}}),ae.onerror=function(Ee){Ee.preventDefault(),oe(ae.error)},ae.onsuccess=function(){var Ee=ae.result;Ee.onversionchange=function(Re){Re.target.close()},Z(Ee),R(Y)}})}function F(Y){return P(Y,!1)}function N(Y){return P(Y,!0)}function B(Y,re){if(!Y.db)return!0;var Z=!Y.db.objectStoreNames.contains(Y.storeName),oe=Y.version<Y.db.version,de=Y.version>Y.db.version;if(oe&&(Y.version!==re&&console.warn('The database "'+Y.name+`" can't be downgraded from version `+Y.db.version+" to version "+Y.version+"."),Y.version=Y.db.version),de||Z){if(Z){var ae=Y.db.version+1;ae>Y.version&&(Y.version=ae)}return!0}return!1}function U(Y){return new f(function(re,Z){var oe=new FileReader;oe.onerror=Z,oe.onloadend=function(de){var ae=btoa(de.target.result||"");re({__local_forage_encoded_blob:!0,data:ae,type:Y.type})},oe.readAsBinaryString(Y)})}function H(Y){var re=S(atob(Y.data));return u([re],{type:Y.type})}function ee(Y){return Y&&Y.__local_forage_encoded_blob}function J(Y){var re=this,Z=re._initReady().then(function(){var oe=g[re._dbInfo.name];if(oe&&oe.dbReady)return oe.dbReady});return d(Z,Y,Y),Z}function G(Y){I(Y);for(var re=g[Y.name],Z=re.forages,oe=0;oe<Z.length;oe++){var de=Z[oe];de._dbInfo.db&&(de._dbInfo.db.close(),de._dbInfo.db=null)}return Y.db=null,F(Y).then(function(ae){return Y.db=ae,B(Y)?N(Y):ae}).then(function(ae){Y.db=re.db=ae;for(var Ee=0;Ee<Z.length;Ee++)Z[Ee]._dbInfo.db=ae}).catch(function(ae){throw O(Y,ae),ae})}function L(Y,re,Z,oe){oe===void 0&&(oe=1);try{var de=Y.db.transaction(Y.storeName,re);Z(null,de)}catch(ae){if(oe>0&&(!Y.db||ae.name==="InvalidStateError"||ae.name==="NotFoundError"))return f.resolve().then(function(){if(!Y.db||ae.name==="NotFoundError"&&!Y.db.objectStoreNames.contains(Y.storeName)&&Y.version<=Y.db.version)return Y.db&&(Y.version=Y.db.version+1),N(Y)}).then(function(){return G(Y).then(function(){L(Y,re,Z,oe-1)})}).catch(Z);Z(ae)}}function V(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $(Y){var re=this,Z={db:null};if(Y)for(var oe in Y)Z[oe]=Y[oe];var de=g[Z.name];de||(de=V(),g[Z.name]=de),de.forages.push(re),re._initReady||(re._initReady=re.ready,re.ready=J);var ae=[];function Ee(){return f.resolve()}for(var Re=0;Re<de.forages.length;Re++){var ke=de.forages[Re];ke!==re&&ae.push(ke._initReady().catch(Ee))}var Ne=de.forages.slice(0);return f.all(ae).then(function(){return Z.db=de.db,F(Z)}).then(function(Be){return Z.db=Be,B(Z,re._defaultConfig.version)?N(Z):Be}).then(function(Be){Z.db=de.db=Be,re._dbInfo=Z;for(var et=0;et<Ne.length;et++){var Nt=Ne[et];Nt!==re&&(Nt._dbInfo.db=Z.db,Nt._dbInfo.version=Z.version)}})}function j(Y,re){var Z=this;Y=p(Y);var oe=new f(function(de,ae){Z.ready().then(function(){L(Z._dbInfo,E,function(Ee,Re){if(Ee)return ae(Ee);try{var ke=Re.objectStore(Z._dbInfo.storeName),Ne=ke.get(Y);Ne.onsuccess=function(){var Be=Ne.result;Be===void 0&&(Be=null),ee(Be)&&(Be=H(Be)),de(Be)},Ne.onerror=function(){ae(Ne.error)}}catch(Be){ae(Be)}})}).catch(ae)});return h(oe,re),oe}function te(Y,re){var Z=this,oe=new f(function(de,ae){Z.ready().then(function(){L(Z._dbInfo,E,function(Ee,Re){if(Ee)return ae(Ee);try{var ke=Re.objectStore(Z._dbInfo.storeName),Ne=ke.openCursor(),Be=1;Ne.onsuccess=function(){var et=Ne.result;if(et){var Nt=et.value;ee(Nt)&&(Nt=H(Nt));var tr=Y(Nt,et.key,Be++);tr!==void 0?de(tr):et.continue()}else de()},Ne.onerror=function(){ae(Ne.error)}}catch(et){ae(et)}})}).catch(ae)});return h(oe,re),oe}function ne(Y,re,Z){var oe=this;Y=p(Y);var de=new f(function(ae,Ee){var Re;oe.ready().then(function(){return Re=oe._dbInfo,x.call(re)==="[object Blob]"?A(Re.db).then(function(ke){return ke?re:U(re)}):re}).then(function(ke){L(oe._dbInfo,b,function(Ne,Be){if(Ne)return Ee(Ne);try{var et=Be.objectStore(oe._dbInfo.storeName);ke===null&&(ke=void 0);var Nt=et.put(ke,Y);Be.oncomplete=function(){ke===void 0&&(ke=null),ae(ke)},Be.onabort=Be.onerror=function(){var tr=Nt.error?Nt.error:Nt.transaction.error;Ee(tr)}}catch(tr){Ee(tr)}})}).catch(Ee)});return h(de,Z),de}function pe(Y,re){var Z=this;Y=p(Y);var oe=new f(function(de,ae){Z.ready().then(function(){L(Z._dbInfo,b,function(Ee,Re){if(Ee)return ae(Ee);try{var ke=Re.objectStore(Z._dbInfo.storeName),Ne=ke.delete(Y);Re.oncomplete=function(){de()},Re.onerror=function(){ae(Ne.error)},Re.onabort=function(){var Be=Ne.error?Ne.error:Ne.transaction.error;ae(Be)}}catch(Be){ae(Be)}})}).catch(ae)});return h(oe,re),oe}function le(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){L(re._dbInfo,b,function(ae,Ee){if(ae)return de(ae);try{var Re=Ee.objectStore(re._dbInfo.storeName),ke=Re.clear();Ee.oncomplete=function(){oe()},Ee.onabort=Ee.onerror=function(){var Ne=ke.error?ke.error:ke.transaction.error;de(Ne)}}catch(Ne){de(Ne)}})}).catch(de)});return h(Z,Y),Z}function xe(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){L(re._dbInfo,E,function(ae,Ee){if(ae)return de(ae);try{var Re=Ee.objectStore(re._dbInfo.storeName),ke=Re.count();ke.onsuccess=function(){oe(ke.result)},ke.onerror=function(){de(ke.error)}}catch(Ne){de(Ne)}})}).catch(de)});return h(Z,Y),Z}function Te(Y,re){var Z=this,oe=new f(function(de,ae){if(Y<0){de(null);return}Z.ready().then(function(){L(Z._dbInfo,E,function(Ee,Re){if(Ee)return ae(Ee);try{var ke=Re.objectStore(Z._dbInfo.storeName),Ne=!1,Be=ke.openKeyCursor();Be.onsuccess=function(){var et=Be.result;if(!et){de(null);return}Y===0||Ne?de(et.key):(Ne=!0,et.advance(Y))},Be.onerror=function(){ae(Be.error)}}catch(et){ae(et)}})}).catch(ae)});return h(oe,re),oe}function ye(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){L(re._dbInfo,E,function(ae,Ee){if(ae)return de(ae);try{var Re=Ee.objectStore(re._dbInfo.storeName),ke=Re.openKeyCursor(),Ne=[];ke.onsuccess=function(){var Be=ke.result;if(!Be){oe(Ne);return}Ne.push(Be.key),Be.continue()},ke.onerror=function(){de(ke.error)}}catch(Be){de(Be)}})}).catch(de)});return h(Z,Y),Z}function we(Y,re){re=v.apply(this,arguments);var Z=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName);var oe=this,de;if(!Y.name)de=f.reject("Invalid arguments");else{var ae=Y.name===Z.name&&oe._dbInfo.db,Ee=ae?f.resolve(oe._dbInfo.db):F(Y).then(function(Re){var ke=g[Y.name],Ne=ke.forages;ke.db=Re;for(var Be=0;Be<Ne.length;Be++)Ne[Be]._dbInfo.db=Re;return Re});Y.storeName?de=Ee.then(function(Re){if(Re.objectStoreNames.contains(Y.storeName)){var ke=Re.version+1;I(Y);var Ne=g[Y.name],Be=Ne.forages;Re.close();for(var et=0;et<Be.length;et++){var Nt=Be[et];Nt._dbInfo.db=null,Nt._dbInfo.version=ke}var tr=new f(function(rr,Ur){var _r=c.open(Y.name,ke);_r.onerror=function(Hi){var fl=_r.result;fl.close(),Ur(Hi)},_r.onupgradeneeded=function(){var Hi=_r.result;Hi.deleteObjectStore(Y.storeName)},_r.onsuccess=function(){var Hi=_r.result;Hi.close(),rr(Hi)}});return tr.then(function(rr){Ne.db=rr;for(var Ur=0;Ur<Be.length;Ur++){var _r=Be[Ur];_r._dbInfo.db=rr,R(_r._dbInfo)}}).catch(function(rr){throw(O(Y,rr)||f.resolve()).catch(function(){}),rr})}}):de=Ee.then(function(Re){I(Y);var ke=g[Y.name],Ne=ke.forages;Re.close();for(var Be=0;Be<Ne.length;Be++){var et=Ne[Be];et._dbInfo.db=null}var Nt=new f(function(tr,rr){var Ur=c.deleteDatabase(Y.name);Ur.onerror=function(){var _r=Ur.result;_r&&_r.close(),rr(Ur.error)},Ur.onblocked=function(){console.warn('dropInstance blocked for database "'+Y.name+'" until all open connections are closed')},Ur.onsuccess=function(){var _r=Ur.result;_r&&_r.close(),tr(_r)}});return Nt.then(function(tr){ke.db=tr;for(var rr=0;rr<Ne.length;rr++){var Ur=Ne[rr];R(Ur._dbInfo)}}).catch(function(tr){throw(O(Y,tr)||f.resolve()).catch(function(){}),tr})})}return h(de,re),de}var me={_driver:"asyncStorage",_initStorage:$,_support:l(),iterate:te,getItem:j,setItem:ne,removeItem:pe,clear:le,length:xe,key:Te,keys:ye,dropInstance:we};function Pe(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",ze=/^~~local_forage_type~([^~]+)~/,ut="__lfsc__:",wt=ut.length,Ct="arbf",it="blob",lt="si08",_t="ui08",gr="uic8",mr="si16",fr="si32",ir="ur16",It="ui32",Er="fl32",_e="fl64",Se=wt+Ct.length,Oe=Object.prototype.toString;function qe(Y){var re=Y.length*.75,Z=Y.length,oe,de=0,ae,Ee,Re,ke;Y[Y.length-1]==="="&&(re--,Y[Y.length-2]==="="&&re--);var Ne=new ArrayBuffer(re),Be=new Uint8Array(Ne);for(oe=0;oe<Z;oe+=4)ae=je.indexOf(Y[oe]),Ee=je.indexOf(Y[oe+1]),Re=je.indexOf(Y[oe+2]),ke=je.indexOf(Y[oe+3]),Be[de++]=ae<<2|Ee>>4,Be[de++]=(Ee&15)<<4|Re>>2,Be[de++]=(Re&3)<<6|ke&63;return Ne}function Ve(Y){var re=new Uint8Array(Y),Z="",oe;for(oe=0;oe<re.length;oe+=3)Z+=je[re[oe]>>2],Z+=je[(re[oe]&3)<<4|re[oe+1]>>4],Z+=je[(re[oe+1]&15)<<2|re[oe+2]>>6],Z+=je[re[oe+2]&63];return re.length%3===2?Z=Z.substring(0,Z.length-1)+"=":re.length%3===1&&(Z=Z.substring(0,Z.length-2)+"=="),Z}function at(Y,re){var Z="";if(Y&&(Z=Oe.call(Y)),Y&&(Z==="[object ArrayBuffer]"||Y.buffer&&Oe.call(Y.buffer)==="[object ArrayBuffer]")){var oe,de=ut;Y instanceof ArrayBuffer?(oe=Y,de+=Ct):(oe=Y.buffer,Z==="[object Int8Array]"?de+=lt:Z==="[object Uint8Array]"?de+=_t:Z==="[object Uint8ClampedArray]"?de+=gr:Z==="[object Int16Array]"?de+=mr:Z==="[object Uint16Array]"?de+=ir:Z==="[object Int32Array]"?de+=fr:Z==="[object Uint32Array]"?de+=It:Z==="[object Float32Array]"?de+=Er:Z==="[object Float64Array]"?de+=_e:re(new Error("Failed to get type for BinaryArray"))),re(de+Ve(oe))}else if(Z==="[object Blob]"){var ae=new FileReader;ae.onload=function(){var Ee=Le+Y.type+"~"+Ve(this.result);re(ut+it+Ee)},ae.readAsArrayBuffer(Y)}else try{re(JSON.stringify(Y))}catch(Ee){console.error("Couldn't convert value into a JSON string: ",Y),re(null,Ee)}}function ar(Y){if(Y.substring(0,wt)!==ut)return JSON.parse(Y);var re=Y.substring(Se),Z=Y.substring(wt,Se),oe;if(Z===it&&ze.test(re)){var de=re.match(ze);oe=de[1],re=re.substring(de[0].length)}var ae=qe(re);switch(Z){case Ct:return ae;case it:return u([ae],{type:oe});case lt:return new Int8Array(ae);case _t:return new Uint8Array(ae);case gr:return new Uint8ClampedArray(ae);case mr:return new Int16Array(ae);case ir:return new Uint16Array(ae);case fr:return new Int32Array(ae);case It:return new Uint32Array(ae);case Er:return new Float32Array(ae);case _e:return new Float64Array(ae);default:throw new Error("Unkown type: "+Z)}}var Or={serialize:at,deserialize:ar,stringToBuffer:qe,bufferToString:Ve};function zn(Y,re,Z,oe){Y.executeSql("CREATE TABLE IF NOT EXISTS "+re.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Z,oe)}function Yn(Y){var re=this,Z={db:null};if(Y)for(var oe in Y)Z[oe]=typeof Y[oe]!="string"?Y[oe].toString():Y[oe];var de=new f(function(ae,Ee){try{Z.db=openDatabase(Z.name,String(Z.version),Z.description,Z.size)}catch(Re){return Ee(Re)}Z.db.transaction(function(Re){zn(Re,Z,function(){re._dbInfo=Z,ae()},function(ke,Ne){Ee(Ne)})},Ee)});return Z.serializer=Or,de}function Sr(Y,re,Z,oe,de,ae){Y.executeSql(Z,oe,de,function(Ee,Re){Re.code===Re.SYNTAX_ERR?Ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[re.storeName],function(ke,Ne){Ne.rows.length?ae(ke,Re):zn(ke,re,function(){ke.executeSql(Z,oe,de,ae)},ae)},ae):ae(Ee,Re)},ae)}function wa(Y,re){var Z=this;Y=p(Y);var oe=new f(function(de,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Sr(Re,Ee,"SELECT * FROM "+Ee.storeName+" WHERE key = ? LIMIT 1",[Y],function(ke,Ne){var Be=Ne.rows.length?Ne.rows.item(0).value:null;Be&&(Be=Ee.serializer.deserialize(Be)),de(Be)},function(ke,Ne){ae(Ne)})})}).catch(ae)});return h(oe,re),oe}function Si(Y,re){var Z=this,oe=new f(function(de,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Sr(Re,Ee,"SELECT * FROM "+Ee.storeName,[],function(ke,Ne){for(var Be=Ne.rows,et=Be.length,Nt=0;Nt<et;Nt++){var tr=Be.item(Nt),rr=tr.value;if(rr&&(rr=Ee.serializer.deserialize(rr)),rr=Y(rr,tr.key,Nt+1),rr!==void 0){de(rr);return}}de()},function(ke,Ne){ae(Ne)})})}).catch(ae)});return h(oe,re),oe}function kn(Y,re,Z,oe){var de=this;Y=p(Y);var ae=new f(function(Ee,Re){de.ready().then(function(){re===void 0&&(re=null);var ke=re,Ne=de._dbInfo;Ne.serializer.serialize(re,function(Be,et){et?Re(et):Ne.db.transaction(function(Nt){Sr(Nt,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[Y,Be],function(){Ee(ke)},function(tr,rr){Re(rr)})},function(Nt){if(Nt.code===Nt.QUOTA_ERR){if(oe>0){Ee(kn.apply(de,[Y,ke,Z,oe-1]));return}Re(Nt)}})})}).catch(Re)});return h(ae,Z),ae}function Sa(Y,re,Z){return kn.apply(this,[Y,re,Z,1])}function Xa(Y,re){var Z=this;Y=p(Y);var oe=new f(function(de,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Sr(Re,Ee,"DELETE FROM "+Ee.storeName+" WHERE key = ?",[Y],function(){de()},function(ke,Ne){ae(Ne)})})}).catch(ae)});return h(oe,re),oe}function Ho(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){Sr(Ee,ae,"DELETE FROM "+ae.storeName,[],function(){oe()},function(Re,ke){de(ke)})})}).catch(de)});return h(Z,Y),Z}function Gi(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){Sr(Ee,ae,"SELECT COUNT(key) as c FROM "+ae.storeName,[],function(Re,ke){var Ne=ke.rows.item(0).c;oe(Ne)},function(Re,ke){de(ke)})})}).catch(de)});return h(Z,Y),Z}function ul(Y,re){var Z=this,oe=new f(function(de,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Sr(Re,Ee,"SELECT key FROM "+Ee.storeName+" WHERE id = ? LIMIT 1",[Y+1],function(ke,Ne){var Be=Ne.rows.length?Ne.rows.item(0).key:null;de(Be)},function(ke,Ne){ae(Ne)})})}).catch(ae)});return h(oe,re),oe}function Vi(Y){var re=this,Z=new f(function(oe,de){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){Sr(Ee,ae,"SELECT key FROM "+ae.storeName,[],function(Re,ke){for(var Ne=[],Be=0;Be<ke.rows.length;Be++)Ne.push(ke.rows.item(Be).key);oe(Ne)},function(Re,ke){de(ke)})})}).catch(de)});return h(Z,Y),Z}function po(Y){return new f(function(re,Z){Y.transaction(function(oe){oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(de,ae){for(var Ee=[],Re=0;Re<ae.rows.length;Re++)Ee.push(ae.rows.item(Re).name);re({db:Y,storeNames:Ee})},function(de,ae){Z(ae)})},function(oe){Z(oe)})})}function Ci(Y,re){re=v.apply(this,arguments);var Z=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName);var oe=this,de;return Y.name?de=new f(function(ae){var Ee;Y.name===Z.name?Ee=oe._dbInfo.db:Ee=openDatabase(Y.name,"","",0),Y.storeName?ae({db:Ee,storeNames:[Y.storeName]}):ae(po(Ee))}).then(function(ae){return new f(function(Ee,Re){ae.db.transaction(function(ke){function Ne(tr){return new f(function(rr,Ur){ke.executeSql("DROP TABLE IF EXISTS "+tr,[],function(){rr()},function(_r,Hi){Ur(Hi)})})}for(var Be=[],et=0,Nt=ae.storeNames.length;et<Nt;et++)Be.push(Ne(ae.storeNames[et]));f.all(Be).then(function(){Ee()}).catch(function(tr){Re(tr)})},function(ke){Re(ke)})})}):de=f.reject("Invalid arguments"),h(de,re),de}var on={_driver:"webSQLStorage",_initStorage:Yn,_support:Pe(),iterate:Si,getItem:wa,setItem:Sa,removeItem:Xa,clear:Ho,length:Gi,key:ul,keys:Vi,dropInstance:Ci};function aa(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ou(Y,re){var Z=Y.name+"/";return Y.storeName!==re.storeName&&(Z+=Y.storeName+"/"),Z}function Dd(){var Y="_localforage_support_test";try{return localStorage.setItem(Y,!0),localStorage.removeItem(Y),!1}catch{return!0}}function lb(){return!Dd()||localStorage.length>0}function ub(Y){var re=this,Z={};if(Y)for(var oe in Y)Z[oe]=Y[oe];return Z.keyPrefix=Ou(Y,re._defaultConfig),lb()?(re._dbInfo=Z,Z.serializer=Or,f.resolve()):f.reject()}function cb(Y){var re=this,Z=re.ready().then(function(){for(var oe=re._dbInfo.keyPrefix,de=localStorage.length-1;de>=0;de--){var ae=localStorage.key(de);ae.indexOf(oe)===0&&localStorage.removeItem(ae)}});return h(Z,Y),Z}function fb(Y,re){var Z=this;Y=p(Y);var oe=Z.ready().then(function(){var de=Z._dbInfo,ae=localStorage.getItem(de.keyPrefix+Y);return ae&&(ae=de.serializer.deserialize(ae)),ae});return h(oe,re),oe}function hb(Y,re){var Z=this,oe=Z.ready().then(function(){for(var de=Z._dbInfo,ae=de.keyPrefix,Ee=ae.length,Re=localStorage.length,ke=1,Ne=0;Ne<Re;Ne++){var Be=localStorage.key(Ne);if(Be.indexOf(ae)===0){var et=localStorage.getItem(Be);if(et&&(et=de.serializer.deserialize(et)),et=Y(et,Be.substring(Ee),ke++),et!==void 0)return et}}});return h(oe,re),oe}function db(Y,re){var Z=this,oe=Z.ready().then(function(){var de=Z._dbInfo,ae;try{ae=localStorage.key(Y)}catch{ae=null}return ae&&(ae=ae.substring(de.keyPrefix.length)),ae});return h(oe,re),oe}function Kv(Y){var re=this,Z=re.ready().then(function(){for(var oe=re._dbInfo,de=localStorage.length,ae=[],Ee=0;Ee<de;Ee++){var Re=localStorage.key(Ee);Re.indexOf(oe.keyPrefix)===0&&ae.push(Re.substring(oe.keyPrefix.length))}return ae});return h(Z,Y),Z}function pb(Y){var re=this,Z=re.keys().then(function(oe){return oe.length});return h(Z,Y),Z}function vb(Y,re){var Z=this;Y=p(Y);var oe=Z.ready().then(function(){var de=Z._dbInfo;localStorage.removeItem(de.keyPrefix+Y)});return h(oe,re),oe}function gb(Y,re,Z){var oe=this;Y=p(Y);var de=oe.ready().then(function(){re===void 0&&(re=null);var ae=re;return new f(function(Ee,Re){var ke=oe._dbInfo;ke.serializer.serialize(re,function(Ne,Be){if(Be)Re(Be);else try{localStorage.setItem(ke.keyPrefix+Y,Ne),Ee(ae)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Re(et),Re(et)}})})});return h(de,Z),de}function mb(Y,re){if(re=v.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var Z=this.config();Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName}var oe=this,de;return Y.name?de=new f(function(ae){Y.storeName?ae(Ou(Y,oe._defaultConfig)):ae(Y.name+"/")}).then(function(ae){for(var Ee=localStorage.length-1;Ee>=0;Ee--){var Re=localStorage.key(Ee);Re.indexOf(ae)===0&&localStorage.removeItem(Re)}}):de=f.reject("Invalid arguments"),h(de,re),de}var _b={_driver:"localStorageWrapper",_initStorage:ub,_support:aa(),iterate:hb,getItem:fb,setItem:gb,removeItem:vb,clear:cb,length:pb,key:db,keys:Kv,dropInstance:mb},yb=function(re,Z){return re===Z||typeof re=="number"&&typeof Z=="number"&&isNaN(re)&&isNaN(Z)},lf=function(re,Z){for(var oe=re.length,de=0;de<oe;){if(yb(re[de],Z))return!0;de++}return!1},Zv=Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},Xo={},Jv={},cl={INDEXEDDB:me,WEBSQL:on,LOCALSTORAGE:_b},xb=[cl.INDEXEDDB._driver,cl.WEBSQL._driver,cl.LOCALSTORAGE._driver],Fu=["dropInstance"],uf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Fu),Qv={description:"",driver:xb.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bb(Y,re){Y[re]=function(){var Z=arguments;return Y.ready().then(function(){return Y[re].apply(Y,Z)})}}function Ud(){for(var Y=1;Y<arguments.length;Y++){var re=arguments[Y];if(re)for(var Z in re)re.hasOwnProperty(Z)&&(Zv(re[Z])?arguments[0][Z]=re[Z].slice():arguments[0][Z]=re[Z])}return arguments[0]}var Eb=function(){function Y(re){o(this,Y);for(var Z in cl)if(cl.hasOwnProperty(Z)){var oe=cl[Z],de=oe._driver;this[Z]=de,Xo[de]||this.defineDriver(oe)}this._defaultConfig=Ud({},Qv),this._config=Ud({},this._defaultConfig,re),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Y.prototype.config=function(Z){if((typeof Z>"u"?"undefined":a(Z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var oe in Z){if(oe==="storeName"&&(Z[oe]=Z[oe].replace(/\W/g,"_")),oe==="version"&&typeof Z[oe]!="number")return new Error("Database version must be a number.");this._config[oe]=Z[oe]}return"driver"in Z&&Z.driver?this.setDriver(this._config.driver):!0}else return typeof Z=="string"?this._config[Z]:this._config},Y.prototype.defineDriver=function(Z,oe,de){var ae=new f(function(Ee,Re){try{var ke=Z._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Z._driver){Re(Ne);return}for(var Be=uf.concat("_initStorage"),et=0,Nt=Be.length;et<Nt;et++){var tr=Be[et],rr=!lf(Fu,tr);if((rr||Z[tr])&&typeof Z[tr]!="function"){Re(Ne);return}}var Ur=function(){for(var fl=function(tg){return function(){var Cb=new Error("Method "+tg+" is not implemented by the current driver"),rg=f.reject(Cb);return h(rg,arguments[arguments.length-1]),rg}},jd=0,eg=Fu.length;jd<eg;jd++){var cf=Fu[jd];Z[cf]||(Z[cf]=fl(cf))}};Ur();var _r=function(fl){Xo[ke]&&console.info("Redefining LocalForage driver: "+ke),Xo[ke]=Z,Jv[ke]=fl,Ee()};"_support"in Z?Z._support&&typeof Z._support=="function"?Z._support().then(_r,Re):_r(!!Z._support):_r(!0)}catch(Hi){Re(Hi)}});return d(ae,oe,de),ae},Y.prototype.driver=function(){return this._driver||null},Y.prototype.getDriver=function(Z,oe,de){var ae=Xo[Z]?f.resolve(Xo[Z]):f.reject(new Error("Driver not found."));return d(ae,oe,de),ae},Y.prototype.getSerializer=function(Z){var oe=f.resolve(Or);return d(oe,Z),oe},Y.prototype.ready=function(Z){var oe=this,de=oe._driverSet.then(function(){return oe._ready===null&&(oe._ready=oe._initDriver()),oe._ready});return d(de,Z,Z),de},Y.prototype.setDriver=function(Z,oe,de){var ae=this;Zv(Z)||(Z=[Z]);var Ee=this._getSupportedDrivers(Z);function Re(){ae._config.driver=ae.driver()}function ke(et){return ae._extend(et),Re(),ae._ready=ae._initStorage(ae._config),ae._ready}function Ne(et){return function(){var Nt=0;function tr(){for(;Nt<et.length;){var rr=et[Nt];return Nt++,ae._dbInfo=null,ae._ready=null,ae.getDriver(rr).then(ke).catch(tr)}Re();var Ur=new Error("No available storage method found.");return ae._driverSet=f.reject(Ur),ae._driverSet}return tr()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Be.then(function(){var et=Ee[0];return ae._dbInfo=null,ae._ready=null,ae.getDriver(et).then(function(Nt){ae._driver=Nt._driver,Re(),ae._wrapLibraryMethodsWithReady(),ae._initDriver=Ne(Ee)})}).catch(function(){Re();var et=new Error("No available storage method found.");return ae._driverSet=f.reject(et),ae._driverSet}),d(this._driverSet,oe,de),this._driverSet},Y.prototype.supports=function(Z){return!!Jv[Z]},Y.prototype._extend=function(Z){Ud(this,Z)},Y.prototype._getSupportedDrivers=function(Z){for(var oe=[],de=0,ae=Z.length;de<ae;de++){var Ee=Z[de];this.supports(Ee)&&oe.push(Ee)}return oe},Y.prototype._wrapLibraryMethodsWithReady=function(){for(var Z=0,oe=uf.length;Z<oe;Z++)bb(this,uf[Z])},Y.prototype.createInstance=function(Z){return new Y(Z)},Y}(),wb=new Eb;n.exports=wb},{3:3}]},{},[4])(4)})})(L9);var Dc=L9.exports;const Es=wi(Dc);var mP={exports:{}},M9=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},lhe=M9,Qc=Object.prototype.toString;function _P(t){return Qc.call(t)==="[object Array]"}function hA(t){return typeof t>"u"}function uhe(t){return t!==null&&!hA(t)&&t.constructor!==null&&!hA(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function che(t){return Qc.call(t)==="[object ArrayBuffer]"}function fhe(t){return typeof FormData<"u"&&t instanceof FormData}function hhe(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function dhe(t){return typeof t=="string"}function phe(t){return typeof t=="number"}function B9(t){return t!==null&&typeof t=="object"}function c_(t){if(Qc.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function vhe(t){return Qc.call(t)==="[object Date]"}function ghe(t){return Qc.call(t)==="[object File]"}function mhe(t){return Qc.call(t)==="[object Blob]"}function D9(t){return Qc.call(t)==="[object Function]"}function _he(t){return B9(t)&&D9(t.pipe)}function yhe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function xhe(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function bhe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function yP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),_P(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function dA(){var t={};function e(i,a){c_(t[a])&&c_(i)?t[a]=dA(t[a],i):c_(i)?t[a]=dA({},i):_P(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)yP(arguments[r],e);return t}function Ehe(t,e,r){return yP(e,function(i,a){r&&typeof i=="function"?t[a]=lhe(i,r):t[a]=i}),t}function whe(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Va={isArray:_P,isArrayBuffer:che,isBuffer:uhe,isFormData:fhe,isArrayBufferView:hhe,isString:dhe,isNumber:phe,isObject:B9,isPlainObject:c_,isUndefined:hA,isDate:vhe,isFile:ghe,isBlob:mhe,isFunction:D9,isStream:_he,isURLSearchParams:yhe,isStandardBrowserEnv:bhe,forEach:yP,merge:dA,extend:Ehe,trim:xhe,stripBOM:whe},Tf=Va;function eM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var U9=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Tf.isURLSearchParams(r))i=r.toString();else{var a=[];Tf.forEach(r,function(c,l){c===null||typeof c>"u"||(Tf.isArray(c)?l=l+"[]":c=[c],Tf.forEach(c,function(f){Tf.isDate(f)?f=f.toISOString():Tf.isObject(f)&&(f=JSON.stringify(f)),a.push(eM(l)+"="+eM(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},She=Va;function Tx(){this.handlers=[]}Tx.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Tx.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Tx.prototype.forEach=function(e){She.forEach(this.handlers,function(n){n!==null&&e(n)})};var Che=Tx,Ahe=Va,The=function(e,r){Ahe.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},j9=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},cw,tM;function $9(){if(tM)return cw;tM=1;var t=j9;return cw=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},cw}var fw,rM;function Ihe(){if(rM)return fw;rM=1;var t=$9();return fw=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},fw}var hw,nM;function Rhe(){if(nM)return hw;nM=1;var t=Va;return hw=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),hw}var dw,iM;function Phe(){return iM||(iM=1,dw=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),dw}var pw,aM;function Ohe(){return aM||(aM=1,pw=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),pw}var vw,oM;function Fhe(){if(oM)return vw;oM=1;var t=Phe(),e=Ohe();return vw=function(n,i){return n&&!t(i)?e(n,i):i},vw}var gw,sM;function khe(){if(sM)return gw;sM=1;var t=Va,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return gw=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},gw}var mw,lM;function Nhe(){if(lM)return mw;lM=1;var t=Va;return mw=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),mw}var _w,uM;function Ix(){if(uM)return _w;uM=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,_w=t,_w}var yw,cM;function fM(){if(cM)return yw;cM=1;var t=Va,e=Ihe(),r=Rhe(),n=U9,i=Fhe(),a=khe(),o=Nhe(),s=$9(),c=Rx(),l=Ix();return yw=function(f){return new Promise(function(d,p){var v=f.data,m=f.headers,_=f.responseType,g;function x(){f.cancelToken&&f.cancelToken.unsubscribe(g),f.signal&&f.signal.removeEventListener("abort",g)}t.isFormData(v)&&delete m["Content-Type"];var E=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",S=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+S)}var C=i(f.baseURL,f.url);E.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),E.timeout=f.timeout;function A(){if(E){var R="getAllResponseHeaders"in E?a(E.getAllResponseHeaders()):null,O=!_||_==="text"||_==="json"?E.responseText:E.response,P={data:O,status:E.status,statusText:E.statusText,headers:R,config:f,request:E};e(function(N){d(N),x()},function(N){p(N),x()},P),E=null}}if("onloadend"in E?E.onloadend=A:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(A)},E.onabort=function(){E&&(p(s("Request aborted",f,"ECONNABORTED",E)),E=null)},E.onerror=function(){p(s("Network Error",f,null,E)),E=null},E.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),p(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",E)),E=null},t.isStandardBrowserEnv()){var I=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;I&&(m[f.xsrfHeaderName]=I)}"setRequestHeader"in E&&t.forEach(m,function(O,P){typeof v>"u"&&P.toLowerCase()==="content-type"?delete m[P]:E.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(E.withCredentials=!!f.withCredentials),_&&_!=="json"&&(E.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&E.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(g=function(R){E&&(p(!R||R&&R.type?new l("canceled"):R),E.abort(),E=null)},f.cancelToken&&f.cancelToken.subscribe(g),f.signal&&(f.signal.aborted?g():f.signal.addEventListener("abort",g))),v||(v=null),E.send(v)})},yw}var xw,hM;function Rx(){if(hM)return xw;hM=1;var t=Va,e=The,r=j9,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=fM()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,d=!f&&this.responseType==="json";if(d||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(p){if(d)throw p.name==="SyntaxError"?r(p,this,"E_JSON_PARSE"):p}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),xw=s,xw}var Lhe=Va,Mhe=Rx(),Bhe=function(e,r,n){var i=this||Mhe;return Lhe.forEach(n,function(o){e=o.call(i,e,r)}),e},bw,dM;function G9(){return dM||(dM=1,bw=function(e){return!!(e&&e.__CANCEL__)}),bw}var pM=Va,Ew=Bhe,Dhe=G9(),Uhe=Rx(),jhe=Ix();function ww(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jhe("canceled")}var $he=function(e){ww(e),e.headers=e.headers||{},e.data=Ew.call(e,e.data,e.headers,e.transformRequest),e.headers=pM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),pM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Uhe.adapter;return r(e).then(function(i){return ww(e),i.data=Ew.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Dhe(i)||(ww(e),i&&i.response&&(i.response.data=Ew.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Oa=Va,V9=function(e,r){r=r||{};var n={};function i(u,f){return Oa.isPlainObject(u)&&Oa.isPlainObject(f)?Oa.merge(u,f):Oa.isPlainObject(f)?Oa.merge({},f):Oa.isArray(f)?f.slice():f}function a(u){if(Oa.isUndefined(r[u])){if(!Oa.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Oa.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Oa.isUndefined(r[u])){if(!Oa.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Oa.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);Oa.isUndefined(d)&&h!==c||(n[f]=d)}),n},Sw,vM;function H9(){return vM||(vM=1,Sw={version:"0.24.0"}),Sw}var Ghe=H9().version,xP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){xP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var gM={};xP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Ghe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!gM[o]&&(gM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Vhe(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var Hhe={assertOptions:Vhe,validators:xP},X9=Va,Xhe=U9,mM=Che,_M=$he,Px=V9,W9=Hhe,If=W9.validators;function Iv(t){this.defaults=t,this.interceptors={request:new mM,response:new mM}}Iv.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Px(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&W9.assertOptions(r,{silentJSONParsing:If.transitional(If.boolean),forcedJSONParsing:If.transitional(If.boolean),clarifyTimeoutError:If.transitional(If.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[_M,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=_M(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Iv.prototype.getUri=function(e){return e=Px(this.defaults,e),Xhe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};X9.forEach(["delete","get","head","options"],function(e){Iv.prototype[e]=function(r,n){return this.request(Px(n||{},{method:e,url:r,data:(n||{}).data}))}});X9.forEach(["post","put","patch"],function(e){Iv.prototype[e]=function(r,n,i){return this.request(Px(i||{},{method:e,url:r,data:n}))}});var Whe=Iv,Cw,yM;function zhe(){if(yM)return Cw;yM=1;var t=Ix();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Cw=e,Cw}var Aw,xM;function Yhe(){return xM||(xM=1,Aw=function(e){return function(n){return e.apply(null,n)}}),Aw}var Tw,bM;function qhe(){return bM||(bM=1,Tw=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Tw}var EM=Va,Khe=M9,f_=Whe,Zhe=V9,Jhe=Rx();function z9(t){var e=new f_(t),r=Khe(f_.prototype.request,e);return EM.extend(r,f_.prototype,e),EM.extend(r,e),r.create=function(i){return z9(Zhe(t,i))},r}var ws=z9(Jhe);ws.Axios=f_;ws.Cancel=Ix();ws.CancelToken=zhe();ws.isCancel=G9();ws.VERSION=H9().version;ws.all=function(e){return Promise.all(e)};ws.spread=Yhe();ws.isAxiosError=qhe();mP.exports=ws;mP.exports.default=ws;var Qhe=mP.exports,ede=Qhe;const tde=ede;class rde{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&tde.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var nde=rde;const ide=wi(nde),Ge=new ide,ade={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},ode={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},sde={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:"",collection:"",collected:"",continue:"",backToLevel:"",setting:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},lde={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},ude={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},cde={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var yd=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(yd||{});const wM={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},fde={en:{translation:ade},zhCn:{translation:sde},jp:{translation:ode},fr:{translation:lde},de:{translation:ude},zhTw:{translation:cde}},hde=0;var Js=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(Js||{}),nu=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(nu||{}),Sc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Sc||{}),bP=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(bP||{}),oo=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(oo||{}),Oi=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(Oi||{});const Y9={slPage:1,volumeMain:100,textSpeed:Js.normal,autoSpeed:Js.normal,textSize:nu.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Sc.song,textboxOpacity:75,language:yd.zhCn,voiceInterruption:bP.yes,fullScreen:oo.off,uiLight:100,videoSize:Oi.Size720P},pA={optionData:Y9,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},q9=_x({name:"userData",initialState:nn(pA),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,Y9)},resetAllData(t){Object.assign(t,nn(pA))}}}),{setUserData:cGe,resetUserData:EP,setOptionData:Ro,setGlobalVar:dde,setSlPage:my,unlockCgInUserData:K9,unlockBgmInUserData:Z9,resetOptionSet:fGe,resetAllData:hGe}=q9.actions,pde=q9.reducer,J9={backlog_size:200,fast_timeout:50},vde={textInitialDelay:80};class gde{constructor(e){Ye(this,"isSaveBacklogNext",!1);Ye(this,"backlog",[]);Ye(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=ue.getState().stage,r=nn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:nn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>J9.backlog_size;)this.getBacklog().shift()}}var xt=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font",t))(xt||{});const Tt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;case 8:r=`./game/image/${t}`;break;case 9:r=`./game/font/${t}`;break;default:r="";break}return r}},mde=(t,e)=>{(!W.sceneManager.sceneAssetsList[e]||!Object.values(W.sceneManager.sceneAssetsList[e]).length)&&(W.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=W.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(v0(e),Ge.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",v0(e),W.videoManager.preloadVideo(r.url)):(n[r.url]="loading",_de(r.url,3,1e3,()=>{n[r.url]="success",v0(e)},()=>{n[r.url]="error",v0(e);const i=W.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&W.sceneManager.settledAssets.splice(i,1)}),W.sceneManager.settledAssets.push(r.url)))}t.length===0&&v0(e)},v0=t=>{const e=W.sceneManager.sceneAssetsList[t];Object.values(e).every(r=>r==="error"||r==="success"),W.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(r=>r==="success")},_de=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],d=["mp4","webm","ogg","flv"],p=["wav","mp3","ogg"];return h.includes(f)?u.blob():p.includes(f)||d.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var We;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera"})(We||(We={}));We.intro,We.changeBg,We.changeFigure,We.miniAvatar,We.changeScene,We.choose,We.end,We.bgm,We.video,We.setComplexAnimation,We.setFilter,We.pixiInit,We.pixi,We.label,We.jumpLabel,We.setVar,We.callScene,We.showVars,We.unlockCg,We.unlockBgm,We.say,We.filmMode,We.callScene,We.setTextbox,We.setAnimation,We.playEffect,We.applyStyle,We.unlockAchieve,We.unlockStoryline,We.showValue,We.payProduct,We.finishTrial,We.moveCamera;We.bgm,We.pixi,We.pixiInit,We.label,We.if,We.miniAvatar,We.setVar,We.unlockBgm,We.unlockCg,We.filmMode,We.playEffect,We.showValue;var Tn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(Tn||(Tn={}));function Q9(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Tn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function yde(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of Q9(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function xde(t){return t.replaceAll("\r","").split(`
`).map(r=>yde(r)).filter(r=>r.command!=="")}const SM=(t,e,r)=>{let n={type:We.say,additionalArgs:[]};const i=bde(t,e,r);return n.type=i,i===We.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=Ede(n,i,e),n};function bde(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??We.say}function Ede(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const wde=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case We.playEffect:return r(t,Tn.vocal);case We.changeBg:return r(t,Tn.background);case We.changeFigure:return r(t,Tn.figure);case We.bgm:return r(t,Tn.bgm);case We.callScene:return r(t,Tn.scene);case We.changeScene:return r(t,Tn.scene);case We.miniAvatar:return r(t,Tn.figure);case We.video:return r(t,Tn.video);case We.choose:return Sde(t,r);case We.unlockBgm:return r(t,Tn.bgm);case We.unlockCg:return r(t,Tn.background);default:return t}};function Sde(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Tn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const Cde=(t,e,r)=>{const n=[];return t===We.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Tn.vocal})}),e==="none"||e===""||(t===We.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Tn.background}),t===We.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Tn.figure}),t===We.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Tn.figure}),t===We.video&&n.push({name:e,url:e,lineNumber:0,type:Tn.video}),t===We.bgm&&n.push({name:e,url:e,lineNumber:0,type:Tn.bgm})),n},Ade=(t,e)=>{const r=[];return(t===We.changeScene||t===We.callScene)&&r.push(e),(t===We.choose||t===We.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},Tde=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:We.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=SM(u,r,n),i=l.type;for(const p of l.additionalArgs)i===We.say&&p.key==="speaker"||s.push(p)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=SM(u,r,n),i=l.type;for(const p of l.additionalArgs)s.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,t.length);f=f.substring(0,d.index);for(const v of Q9(p,e))s.push(v)}return a=wde(f,i,e),c=Cde(i,a,s),o=Ade(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ide=typeof tm=="object"&&tm&&tm.Object===Object&&tm,Rde=Ide,Pde=Rde,Ode=typeof self=="object"&&self&&self.Object===Object&&self,Fde=Pde||Ode||Function("return this")(),Ox=Fde,kde=Ox,Nde=kde.Symbol,eG=Nde,CM=eG,tG=Object.prototype,Lde=tG.hasOwnProperty,Mde=tG.toString,g0=CM?CM.toStringTag:void 0;function Bde(t){var e=Lde.call(t,g0),r=t[g0];try{t[g0]=void 0;var n=!0}catch{}var i=Mde.call(t);return n&&(e?t[g0]=r:delete t[g0]),i}var Dde=Bde,Ude=Object.prototype,jde=Ude.toString;function $de(t){return jde.call(t)}var Gde=$de,AM=eG,Vde=Dde,Hde=Gde,Xde="[object Null]",Wde="[object Undefined]",TM=AM?AM.toStringTag:void 0;function zde(t){return t==null?t===void 0?Wde:Xde:TM&&TM in Object(t)?Vde(t):Hde(t)}var Yde=zde;function qde(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var rG=qde,Kde=Yde,Zde=rG,Jde="[object AsyncFunction]",Qde="[object Function]",e0e="[object GeneratorFunction]",t0e="[object Proxy]";function r0e(t){if(!Zde(t))return!1;var e=Kde(t);return e==Qde||e==e0e||e==Jde||e==t0e}var n0e=r0e,i0e=Ox,a0e=i0e["__core-js_shared__"],o0e=a0e,Iw=o0e,IM=function(){var t=/[^.]+$/.exec(Iw&&Iw.keys&&Iw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s0e(t){return!!IM&&IM in t}var l0e=s0e,u0e=Function.prototype,c0e=u0e.toString;function f0e(t){if(t!=null){try{return c0e.call(t)}catch{}try{return t+""}catch{}}return""}var h0e=f0e,d0e=n0e,p0e=l0e,v0e=rG,g0e=h0e,m0e=/[\\^$.*+?()[\]{}|]/g,_0e=/^\[object .+?Constructor\]$/,y0e=Function.prototype,x0e=Object.prototype,b0e=y0e.toString,E0e=x0e.hasOwnProperty,w0e=RegExp("^"+b0e.call(E0e).replace(m0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S0e(t){if(!v0e(t)||p0e(t))return!1;var e=d0e(t)?w0e:_0e;return e.test(g0e(t))}var C0e=S0e;function A0e(t,e){return t==null?void 0:t[e]}var T0e=A0e,I0e=C0e,R0e=T0e;function P0e(t,e){var r=R0e(t,e);return I0e(r)?r:void 0}var wP=P0e,O0e=wP,F0e=O0e(Object,"create"),Fx=F0e,RM=Fx;function k0e(){this.__data__=RM?RM(null):{},this.size=0}var N0e=k0e;function L0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var M0e=L0e,B0e=Fx,D0e="__lodash_hash_undefined__",U0e=Object.prototype,j0e=U0e.hasOwnProperty;function $0e(t){var e=this.__data__;if(B0e){var r=e[t];return r===D0e?void 0:r}return j0e.call(e,t)?e[t]:void 0}var G0e=$0e,V0e=Fx,H0e=Object.prototype,X0e=H0e.hasOwnProperty;function W0e(t){var e=this.__data__;return V0e?e[t]!==void 0:X0e.call(e,t)}var z0e=W0e,Y0e=Fx,q0e="__lodash_hash_undefined__";function K0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Y0e&&e===void 0?q0e:e,this}var Z0e=K0e,J0e=N0e,Q0e=M0e,epe=G0e,tpe=z0e,rpe=Z0e;function xd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xd.prototype.clear=J0e;xd.prototype.delete=Q0e;xd.prototype.get=epe;xd.prototype.has=tpe;xd.prototype.set=rpe;var npe=xd;function ipe(){this.__data__=[],this.size=0}var ape=ipe;function ope(t,e){return t===e||t!==t&&e!==e}var spe=ope,lpe=spe;function upe(t,e){for(var r=t.length;r--;)if(lpe(t[r][0],e))return r;return-1}var kx=upe,cpe=kx,fpe=Array.prototype,hpe=fpe.splice;function dpe(t){var e=this.__data__,r=cpe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():hpe.call(e,r,1),--this.size,!0}var ppe=dpe,vpe=kx;function gpe(t){var e=this.__data__,r=vpe(e,t);return r<0?void 0:e[r][1]}var mpe=gpe,_pe=kx;function ype(t){return _pe(this.__data__,t)>-1}var xpe=ype,bpe=kx;function Epe(t,e){var r=this.__data__,n=bpe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wpe=Epe,Spe=ape,Cpe=ppe,Ape=mpe,Tpe=xpe,Ipe=wpe;function bd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bd.prototype.clear=Spe;bd.prototype.delete=Cpe;bd.prototype.get=Ape;bd.prototype.has=Tpe;bd.prototype.set=Ipe;var Rpe=bd,Ppe=wP,Ope=Ox,Fpe=Ppe(Ope,"Map"),kpe=Fpe,PM=npe,Npe=Rpe,Lpe=kpe;function Mpe(){this.size=0,this.__data__={hash:new PM,map:new(Lpe||Npe),string:new PM}}var Bpe=Mpe;function Dpe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Upe=Dpe,jpe=Upe;function $pe(t,e){var r=t.__data__;return jpe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Nx=$pe,Gpe=Nx;function Vpe(t){var e=Gpe(this,t).delete(t);return this.size-=e?1:0,e}var Hpe=Vpe,Xpe=Nx;function Wpe(t){return Xpe(this,t).get(t)}var zpe=Wpe,Ype=Nx;function qpe(t){return Ype(this,t).has(t)}var Kpe=qpe,Zpe=Nx;function Jpe(t,e){var r=Zpe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Qpe=Jpe,eve=Bpe,tve=Hpe,rve=zpe,nve=Kpe,ive=Qpe;function Ed(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ed.prototype.clear=eve;Ed.prototype.delete=tve;Ed.prototype.get=rve;Ed.prototype.has=nve;Ed.prototype.set=ive;var ave=Ed,ove="__lodash_hash_undefined__";function sve(t){return this.__data__.set(t,ove),this}var lve=sve;function uve(t){return this.__data__.has(t)}var cve=uve,fve=ave,hve=lve,dve=cve;function _y(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new fve;++e<r;)this.add(t[e])}_y.prototype.add=_y.prototype.push=hve;_y.prototype.has=dve;var pve=_y;function vve(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var gve=vve;function mve(t){return t!==t}var _ve=mve;function yve(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var xve=yve,bve=gve,Eve=_ve,wve=xve;function Sve(t,e,r){return e===e?wve(t,e,r):bve(t,Eve,r)}var Cve=Sve,Ave=Cve;function Tve(t,e){var r=t==null?0:t.length;return!!r&&Ave(t,e,0)>-1}var Ive=Tve;function Rve(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Pve=Rve;function Ove(t,e){return t.has(e)}var Fve=Ove,kve=wP,Nve=Ox,Lve=kve(Nve,"Set"),Mve=Lve;function Bve(){}var Dve=Bve;function Uve(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var nG=Uve,Rw=Mve,jve=Dve,$ve=nG,Gve=1/0,Vve=Rw&&1/$ve(new Rw([,-0]))[1]==Gve?function(t){return new Rw(t)}:jve,Hve=Vve,Xve=pve,Wve=Ive,zve=Pve,Yve=Fve,qve=Hve,Kve=nG,Zve=200;function Jve(t,e,r){var n=-1,i=Wve,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=zve;else if(a>=Zve){var l=e?null:qve(t);if(l)return Kve(l);o=!1,i=Yve,c=new Xve}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Qve=Jve,ege=Qve;function tge(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ege(t,void 0,e):[]}var rge=tge;const nge=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(d=>{const p=Tde(d,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});l=rge(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(d=>h.includes(d.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function ige(t){const[e,r]=age(t);return{classNameStyles:e,others:r}}function age(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class oge{constructor(e,r,n,i){Ye(this,"assetsPrefetcher");Ye(this,"assetSetter");Ye(this,"ADD_NEXT_ARG_LIST");Ye(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return nge(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return xde(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return ige(e)}}function Xt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const sge=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=Xt(t,"enter"),a=Xt(t,"volume");return r!==""&&ue.dispatch(Z9({name:r,url:e,series:n})),OO(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var SP={exports:{}},iG=function(e,r){return function(){return e.apply(r,arguments)}},lge=iG,CP=Object.prototype.toString,AP=function(t){return function(e){var r=CP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Au(t){return t=t.toLowerCase(),function(r){return AP(r)===t}}function Lx(t){return Array.isArray(t)}function vA(t){return typeof t>"u"}function uge(t){return t!==null&&!vA(t)&&t.constructor!==null&&!vA(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var aG=Au("ArrayBuffer");function cge(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aG(t.buffer),e}function fge(t){return typeof t=="string"}function oG(t){return typeof t=="number"}function sG(t){return t!==null&&typeof t=="object"}function h_(t){if(AP(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function hge(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var dge=Au("Date"),pge=Au("File"),vge=Au("Blob"),gge=Au("FileList");function TP(t){return CP.call(t)==="[object Function]"}function mge(t){return sG(t)&&TP(t.pipe)}function _ge(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||CP.call(t)===e||TP(t.toString)&&t.toString()===e)}var yge=Au("URLSearchParams");function xge(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function bge(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function IP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Lx(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function gA(){var t={};function e(i,a){h_(t[a])&&h_(i)?t[a]=gA(t[a],i):h_(i)?t[a]=gA({},i):Lx(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)IP(arguments[r],e);return t}function Ege(t,e,r){return IP(e,function(i,a){r&&typeof i=="function"?t[a]=lge(i,r):t[a]=i}),t}function wge(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Sge(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function Cge(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function Age(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function Tge(t){if(!t)return null;if(Lx(t))return t;var e=t.length;if(!oG(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var Ige=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function Rge(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function Pge(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var Oge=Au("HTMLFormElement"),Fge=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),Wn={isArray:Lx,isArrayBuffer:aG,isBuffer:uge,isFormData:_ge,isArrayBufferView:cge,isString:fge,isNumber:oG,isObject:sG,isPlainObject:h_,isEmptyObject:hge,isUndefined:vA,isDate:dge,isFile:pge,isBlob:vge,isFunction:TP,isStream:mge,isURLSearchParams:yge,isStandardBrowserEnv:bge,forEach:IP,merge:gA,extend:Ege,trim:xge,stripBOM:wge,inherits:Sge,toFlatObject:Cge,kindOf:AP,kindOfTest:Au,endsWith:Age,toArray:Tge,isTypedArray:Ige,isFileList:gge,forEachEntry:Rge,matchAll:Pge,isHTMLForm:Oge,hasOwnProperty:Fge},lG=Wn;function jh(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}lG.inherits(jh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var uG=jh.prototype,cG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){cG[t]={value:t}});Object.defineProperties(jh,cG);Object.defineProperty(uG,"isAxiosError",{value:!0});jh.from=function(t,e,r,n,i,a){var o=Object.create(uG);return lG.toFlatObject(t,o,function(c){return c!==Error.prototype}),jh.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var ef=jh,kge=typeof self=="object"?self.FormData:window.FormData,Nge=kge,Ir=Wn,Lge=ef,Mge=Nge;function mA(t){return Ir.isPlainObject(t)||Ir.isArray(t)}function fG(t){return Ir.endsWith(t,"[]")?t.slice(0,-2):t}function OM(t,e,r){return t?t.concat(e).map(function(i,a){return i=fG(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function Bge(t){return Ir.isArray(t)&&!t.some(mA)}var Dge=Ir.toFlatObject(Ir,{},null,function(e){return/^is[A-Z]/.test(e)});function Uge(t){return t&&Ir.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function jge(t,e,r){if(!Ir.isObject(t))throw new TypeError("target must be an object");e=e||new(Mge||FormData),r=Ir.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!Ir.isUndefined(m[v])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,c=s&&Uge(e);if(!Ir.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(Ir.isDate(p))return p.toISOString();if(!c&&Ir.isBlob(p))throw new Lge("Blob is not supported. Use a Buffer instead.");return Ir.isArrayBuffer(p)||Ir.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,m){var _=p;if(p&&!m&&typeof p=="object"){if(Ir.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(Ir.isArray(p)&&Bge(p)||Ir.isFileList(p)||Ir.endsWith(v,"[]")&&(_=Ir.toArray(p)))return v=fG(v),_.forEach(function(x,E){!Ir.isUndefined(x)&&e.append(o===!0?OM([v],E,a):o===null?v:v+"[]",l(x))}),!1}return mA(p)?!0:(e.append(OM(m,v,a),l(p)),!1)}var f=[],h=Object.assign(Dge,{defaultVisitor:u,convertValue:l,isVisitable:mA});function d(p,v){if(!Ir.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),Ir.forEach(p,function(_,g){var x=!Ir.isUndefined(_)&&i.call(e,_,Ir.isString(g)?g.trim():g,v,h);x===!0&&d(_,v?v.concat(g):[g])}),f.pop()}}if(!Ir.isObject(t))throw new TypeError("data must be an object");return d(t),e}var Mx=jge,$ge=Mx;function FM(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function hG(t,e){this._pairs=[],t&&$ge(t,this,e)}var dG=hG.prototype;dG.append=function(e,r){this._pairs.push([e,r])};dG.toString=function(e){var r=e?function(n){return e.call(this,n,FM)}:FM;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var pG=hG,Gge=Wn,Vge=pG;function Hge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var vG=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||Hge,o=Gge.isURLSearchParams(r)?r.toString():new Vge(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},Xge=Wn;function Rv(){this.handlers=[]}Rv.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Rv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Rv.prototype.clear=function(){this.handlers&&(this.handlers=[])};Rv.prototype.forEach=function(e){Xge.forEach(this.handlers,function(n){n!==null&&e(n)})};var Wge=Rv,zge=Wn,gG=function(e,r){zge.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},mG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yge=pG,qge=typeof URLSearchParams<"u"?URLSearchParams:Yge,Kge=FormData,Zge={isBrowser:!0,classes:{URLSearchParams:qge,FormData:Kge,Blob},protocols:["http","https","file","blob","url","data"]},RP=Zge,Jge=Wn,Qge=Mx,kM=RP,eme=function(e,r){return Qge(e,new kM.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return kM.isNode&&Jge.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},Al=Wn;function tme(t){return Al.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function rme(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function nme(t){function e(n,i,a,o){var s=n[o++],c=Number.isFinite(+s),l=o>=n.length;if(s=!s&&Al.isArray(a)?a.length:s,l)return Al.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!c;(!a[s]||!Al.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&Al.isArray(a[s])&&(a[s]=rme(a[s])),!c}if(Al.isFormData(t)&&Al.isFunction(t.entries)){var r={};return Al.forEachEntry(t,function(n,i){e(tme(n),i,r,0)}),r}return null}var _G=nme,Pw,NM;function ime(){if(NM)return Pw;NM=1;var t=ef;return Pw=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Pw}var Ow,LM;function ame(){if(LM)return Ow;LM=1;var t=Wn;return Ow=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ow}var ome=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},sme=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},lme=ome,ume=sme,yG=function(e,r){return e&&!lme(r)?ume(e,r):r},Fw,MM;function cme(){if(MM)return Fw;MM=1;var t=Wn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Fw=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Fw}var kw,BM;function fme(){if(BM)return kw;BM=1;var t=Wn;return kw=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),kw}var Nw,DM;function Bx(){if(DM)return Nw;DM=1;var t=ef,e=Wn;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Nw=r,Nw}var Lw,UM;function hme(){return UM||(UM=1,Lw=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),Lw}var Mw,jM;function $M(){if(jM)return Mw;jM=1;var t=Wn,e=ime(),r=ame(),n=vG,i=yG,a=cme(),o=fme(),s=mG,c=ef,l=Bx(),u=hme(),f=RP;return Mw=function(d){return new Promise(function(v,m){var _=d.data,g=d.headers,x=d.responseType,E=d.withXSRFToken,b;function S(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}t.isFormData(_)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var C=new XMLHttpRequest;if(d.auth){var A=d.auth.username||"",I=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(A+":"+I)}var R=i(d.baseURL,d.url);C.open(d.method.toUpperCase(),n(R,d.params,d.paramsSerializer),!0),C.timeout=d.timeout;function O(){if(C){var N="getAllResponseHeaders"in C?a(C.getAllResponseHeaders()):null,B=!x||x==="text"||x==="json"?C.responseText:C.response,U={data:B,status:C.status,statusText:C.statusText,headers:N,config:d,request:C};e(function(ee){v(ee),S()},function(ee){m(ee),S()},U),C=null}}if("onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(m(new c("Request aborted",c.ECONNABORTED,d,C)),C=null)},C.onerror=function(){m(new c("Network Error",c.ERR_NETWORK,d,C)),C=null},C.ontimeout=function(){var B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",U=d.transitional||s;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),m(new c(B,U.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,d,C)),C=null},t.isStandardBrowserEnv()&&(E&&t.isFunction(E)&&(E=E(d)),E||E!==!1&&o(R))){var P=d.xsrfHeaderName&&d.xsrfCookieName&&r.read(d.xsrfCookieName);P&&(g[d.xsrfHeaderName]=P)}"setRequestHeader"in C&&t.forEach(g,function(B,U){typeof _>"u"&&U.toLowerCase()==="content-type"?delete g[U]:C.setRequestHeader(U,B)}),t.isUndefined(d.withCredentials)||(C.withCredentials=!!d.withCredentials),x&&x!=="json"&&(C.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&C.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(N){C&&(m(!N||N.type?new l(null,d,req):N),C.abort(),C=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),!_&&_!==!1&&_!==0&&_!==""&&(_=null);var F=u(R);if(F&&f.protocols.indexOf(F)===-1){m(new c("Unsupported protocol "+F+":",c.ERR_BAD_REQUEST,d));return}C.send(_)})},Mw}var Bn=Wn,GM=gG,VM=ef,dme=mG,pme=Mx,vme=eme,HM=RP,gme=_G,mme={"Content-Type":"application/x-www-form-urlencoded"};function XM(t,e){!Bn.isUndefined(t)&&Bn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function _me(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=$M()),t}function yme(t,e,r){if(Bn.isString(t))try{return(e||JSON.parse)(t),Bn.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Dx={transitional:dme,adapter:_me(),transformRequest:[function(e,r){GM(r,"Accept"),GM(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=Bn.isObject(e);a&&Bn.isHTMLForm(e)&&(e=new FormData(e));var o=Bn.isFormData(e);if(o)return i?JSON.stringify(gme(e)):e;if(Bn.isArrayBuffer(e)||Bn.isBuffer(e)||Bn.isStream(e)||Bn.isFile(e)||Bn.isBlob(e))return e;if(Bn.isArrayBufferView(e))return e.buffer;if(Bn.isURLSearchParams(e))return XM(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return vme(e,this.formSerializer).toString();if((s=Bn.isFileList(e))||n.indexOf("multipart/form-data")>-1){var c=this.env&&this.env.FormData;return pme(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(XM(r,"application/json"),yme(e)):e}],transformResponse:[function(e){var r=this.transitional||Dx.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Bn.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?VM.from(s,VM.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:HM.classes.FormData,Blob:HM.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Bn.forEach(["delete","get","head"],function(e){Dx.headers[e]={}});Bn.forEach(["post","put","patch"],function(e){Dx.headers[e]=Bn.merge(mme)});var PP=Dx,xme=Wn,bme=PP,Eme=function(e,r,n,i){var a=this||bme;return xme.forEach(i,function(s){e=s.call(a,e,r,n)}),e},Bw,WM;function xG(){return WM||(WM=1,Bw=function(e){return!!(e&&e.__CANCEL__)}),Bw}var zM=Wn,Dw=Eme,wme=xG(),Sme=PP,Cme=Bx(),YM=gG;function Uw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cme}var Ame=function(e){Uw(e),e.headers=e.headers||{},e.data=Dw.call(e,e.data,e.headers,null,e.transformRequest),YM(e.headers,"Accept"),YM(e.headers,"Content-Type"),e.headers=zM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),zM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Sme.adapter;return r(e).then(function(i){return Uw(e),i.data=Dw.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return wme(i)||(Uw(e),i&&i.response&&(i.response.data=Dw.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},Yi=Wn,bG=function(e,r){r=r||{};var n={};function i(u,f){return Yi.isPlainObject(u)&&Yi.isPlainObject(f)?Yi.merge(u,f):Yi.isEmptyObject(f)?Yi.merge({},u):Yi.isPlainObject(f)?Yi.merge({},f):Yi.isArray(f)?f.slice():f}function a(u){if(Yi.isUndefined(r[u])){if(!Yi.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Yi.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Yi.isUndefined(r[u])){if(!Yi.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Yi.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);Yi.isUndefined(d)&&h!==c||(n[f]=d)}),n},jw,qM;function EG(){return qM||(qM=1,jw={version:"0.28.0"}),jw}var Tme=EG().version,Rl=ef,OP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){OP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var KM={};OP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Tme+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Rl(i(o," has been removed"+(r?" in "+r:"")),Rl.ERR_DEPRECATED);return r&&!KM[o]&&(KM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Ime(t,e,r){if(typeof t!="object")throw new Rl("options must be an object",Rl.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Rl("option "+a+" must be "+c,Rl.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Rl("Unknown option "+a,Rl.ERR_BAD_OPTION)}}var Rme={assertOptions:Ime,validators:OP},FP=Wn,Pme=vG,ZM=Wge,JM=Ame,Ux=bG,Ome=yG,wG=Rme,Rf=wG.validators;function $h(t){this.defaults=t,this.interceptors={request:new ZM,response:new ZM}}$h.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ux(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&wG.assertOptions(n,{silentJSONParsing:Rf.transitional(Rf.boolean),forcedJSONParsing:Rf.transitional(Rf.boolean),clarifyTimeoutError:Rf.transitional(Rf.boolean)},!1);var i=r.paramsSerializer;FP.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(o=o&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});var s=[];this.interceptors.response.forEach(function(p){s.push(p.fulfilled,p.rejected)});var c;if(!o){var l=[JM,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),c=Promise.resolve(r);l.length;)c=c.then(l.shift(),l.shift());return c}for(var u=r;a.length;){var f=a.shift(),h=a.shift();try{u=f(u)}catch(d){h(d);break}}try{c=JM(u)}catch(d){return Promise.reject(d)}for(;s.length;)c=c.then(s.shift(),s.shift());return c};$h.prototype.getUri=function(e){e=Ux(this.defaults,e);var r=Ome(e.baseURL,e.url);return Pme(r,e.params,e.paramsSerializer)};FP.forEach(["delete","get","head","options"],function(e){$h.prototype[e]=function(r,n){return this.request(Ux(n||{},{method:e,url:r,data:(n||{}).data}))}});FP.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Ux(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}$h.prototype[e]=r(),$h.prototype[e+"Form"]=r(!0)});var Fme=$h,$w,QM;function kme(){if(QM)return $w;QM=1;var t=Bx();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,c){i.reason||(i.reason=new t(o,s,c),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},$w=e,$w}var Gw,eB;function Nme(){return eB||(eB=1,Gw=function(e){return function(n){return e.apply(null,n)}}),Gw}var Vw,tB;function Lme(){if(tB)return Vw;tB=1;var t=Wn;return Vw=function(r){return t.isObject(r)&&r.isAxiosError===!0},Vw}var _A=Wn,Mme=iG,d_=Fme,Bme=bG,Dme=PP,Ume=_G;function SG(t){var e=new d_(t),r=Mme(d_.prototype.request,e);return _A.extend(r,d_.prototype,e),_A.extend(r,e),r.create=function(i){return SG(Bme(t,i))},r}var na=SG(Dme);na.Axios=d_;na.CanceledError=Bx();na.CancelToken=kme();na.isCancel=xG();na.VERSION=EG().version;na.toFormData=Mx;na.AxiosError=ef;na.Cancel=na.CanceledError;na.all=function(e){return Promise.all(e)};na.spread=Nme();na.isAxiosError=Lme();na.formToJSON=function(t){return Ume(_A.isHTMLForm(t)?new FormData(t):t)};SP.exports=na;SP.exports.default=na;var jme=SP.exports,$me=jme;const Np=wi($me),Ea=t=>new Promise(e=>{Np.get(t).then(r=>{const n=r.data.toString();e(n)})}),Gme={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},jx=t=>{var n;let e=Gme;e=(((n=VV[t.command])==null?void 0:n.scriptFunction)??C7.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>W.gameplay.performController.arrangeNewPerform(i,t)):W.gameplay.performController.arrangeNewPerform(e,t)},Vme=t=>{Ea(t.sceneUrl).then(async e=>{await W.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(W.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Ge.debug("",W.sceneManager.sceneData.currentScene),Sn())})};var kP={},Lp={document:{}},CG=Object.prototype.hasOwnProperty,AG=function(t){return $x(t)?t.toLowerCase():t},np=Array.isArray,Hme=function(t){return $x(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(AG=Hme);var Xme,NP=Object.prototype.toString,TG=Object.getPrototypeOf,Hw=FG("ng");Lp.angular||(Lp.angular={});Lp.document.documentMode;function Wme(t){if(t==null||BP(t))return!1;if(np(t)||$x(t)||Xme)return!0;var e="length"in Object(t)&&t.length;return MP(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Qr(t,e,r){var n,i;if(t)if(PG(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(np(t)||Wme(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Qr)t.forEach(e,r,t);else if(RG(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)CG.call(t,n)&&e.call(r,t[n],n,t);return t}function zme(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function LP(){}LP.$inject=[];function Yme(t){return typeof t>"u"}function Qf(t){return typeof t<"u"}function IG(t){return t!==null&&typeof t=="object"}function RG(t){return t!==null&&typeof t=="object"&&!TG(t)}function $x(t){return typeof t=="string"}function MP(t){return typeof t=="number"}function PG(t){return typeof t=="function"}function BP(t){return t&&t.window===t}function OG(t){return t&&t.$evalAsync&&t.$watch}var qme=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function Kme(t){return t&&MP(t.length)&&qme.test(NP.call(t))}function Zme(t){return NP.call(t)==="[object ArrayBuffer]"}function Jme(t,e){var r=[],n=[];if(e){if(Kme(e)||Zme(e))throw Hw("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Hw("cpi","Can't copy! Source and destination are identical.");return np(e)?e.length=0:Qr(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(np(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(RG(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)CG.call(s,u)&&(c[u]=a(s[u]));return zme(c,l),c}function a(s){if(!IG(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(BP(s)||OG(s))throw Hw("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=np(s)?[]:Object.create(TG(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(NP.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(PG(s.cloneNode))return s.cloneNode(!0)}}function Qme(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:BP(e)?r="$WINDOW":e&&Lp.document===e?r="$DOCUMENT":OG(e)&&(r="$SCOPE"),r}function e_e(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}e_e(Lp.document);function t_e(){return Object.create(null)}function r_e(t){var e=[];return JSON.stringify(t,function(r,n){if(n=Qme(r,n),IG(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function rB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):Yme(t)?"undefined":typeof t!="string"?r_e(t):t}function FG(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?rB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(rB(n[c]));return new e(a)}}var eh=FG("$parse");({}).constructor.prototype.valueOf;function kG(t){return t+""}var p_=t_e();Qr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){p_[t]=!0});var n_e={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},yA=function(e){this.options=e};yA.prototype={constructor:yA,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=p_[e],a=p_[r],o=p_[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Qf(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw eh("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=AG(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=n_e[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Fe=function(e,r){this.lexer=e,this.options=r};Fe.Program="Program";Fe.ExpressionStatement="ExpressionStatement";Fe.AssignmentExpression="AssignmentExpression";Fe.ConditionalExpression="ConditionalExpression";Fe.LogicalExpression="LogicalExpression";Fe.BinaryExpression="BinaryExpression";Fe.UnaryExpression="UnaryExpression";Fe.CallExpression="CallExpression";Fe.MemberExpression="MemberExpression";Fe.Identifier="Identifier";Fe.Literal="Literal";Fe.ArrayExpression="ArrayExpression";Fe.Property="Property";Fe.ObjectExpression="ObjectExpression";Fe.ThisExpression="ThisExpression";Fe.LocalsExpression="LocalsExpression";Fe.NGValueParameter="NGValueParameter";Fe.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Fe.Program,body:t}},expressionStatement:function(){return{type:Fe.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!MG(t))throw eh("lval","Trying to assign a value to a non l-value");t={type:Fe.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Fe.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Fe.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Fe.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Fe.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Fe.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Fe.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Fe.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Fe.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=Jme(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Fe.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Fe.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Fe.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Fe.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Fe.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Fe.Identifier,name:t.text}},constant:function(){return{type:Fe.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Fe.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Fe.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Fe.ObjectExpression,properties:t}},throwError:function(t,e){throw eh("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw eh("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw eh("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Fe.ThisExpression},$locals:{type:Fe.LocalsExpression}}};function i_e(t,e){return typeof t<"u"?t:e}function NG(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function a_e(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Jn(t,e){var r,n,i;switch(t.type){case Fe.Program:r=!0,Qr(t.body,function(a){Jn(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Fe.Literal:t.constant=!0,t.toWatch=[];break;case Fe.UnaryExpression:Jn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Fe.BinaryExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Fe.LogicalExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Fe.ConditionalExpression:Jn(t.test,e),Jn(t.alternate,e),Jn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Fe.Identifier:t.constant=!1,t.toWatch=[t];break;case Fe.MemberExpression:Jn(t.object,e),t.computed&&Jn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Fe.CallExpression:i=t.filter?a_e(e,t.callee.name):!1,r=i,n=[],Qr(t.arguments,function(a){Jn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Fe.AssignmentExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Fe.ArrayExpression:r=!0,n=[],Qr(t.elements,function(a){Jn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Fe.ObjectExpression:r=!0,n=[],Qr(t.properties,function(a){Jn(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Fe.ThisExpression:t.constant=!1,t.toWatch=[];break;case Fe.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function LG(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function MG(t){return t.type===Fe.Identifier||t.type===Fe.MemberExpression}function BG(t){if(t.body.length===1&&MG(t.body[0].expression))return{type:Fe.AssignmentExpression,left:t.body[0].expression,right:{type:Fe.NGValueParameter},operator:"="}}function DG(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Fe.Literal||t.body[0].expression.type===Fe.ArrayExpression||t.body[0].expression.type===Fe.ObjectExpression)}function UG(t){return t.constant}function jG(t,e){this.astBuilder=t,this.$filter=e}jG.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Jn(r,e.$filter);var n="",i;if(this.stage="assign",i=BG(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=LG(r.body);e.stage="inputs",Qr(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,kG,i_e,NG);return this.state=this.stage=void 0,c.ast=r,c.literal=DG(r),c.constant=UG(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Qr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Qr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||LP,!a&&Qf(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Fe.Program:Qr(t.body,function(d,p){c.recurse(d.expression,void 0,void 0,function(v){s=v}),p!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case Fe.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Fe.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(d){s=d}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Fe.BinaryExpression:this.recurse(t.left,void 0,void 0,function(d){o=d}),this.recurse(t.right,void 0,void 0,function(d){s=d}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Fe.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case Fe.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case Fe.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case Fe.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var d=null,p=c.current().inAssignment;t.computed?(s=c.nextId(),p||c.state.computing==="assign"?d=c.unsafeComputedMember(o,s):d=c.computedMember(o,s)):(p||c.state.computing==="assign"?d=c.unsafeNonComputedMember(o,t.property.name):d=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Fe.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(d),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Fe.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case Fe.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Qr(t.arguments,function(d){var p=c.nextId();c.recurse(d,p),l.push(p)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Qr(t.arguments,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(v){l.push(v)})}),o.name){var d=c.member(o.context,o.name,o.computed);u="("+d+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case Fe.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case Fe.ArrayExpression:l=[],Qr(t.elements,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(p){l.push(p)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Fe.ObjectExpression:l=[],f=!1,Qr(t.properties,function(d){d.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Qr(t.properties,function(d){d.computed?(o=c.nextId(),c.recurse(d.key,o)):o=d.key.type===Fe.Identifier?d.key.name:""+d.key.value,s=c.nextId(),c.recurse(d.value,s),c.assign(c.unsafeMember(e,o,d.computed),s)})):(Qr(t.properties,function(d){c.recurse(d.value,t.constant?void 0:c.nextId(),void 0,function(p){l.push(c.escape(d.key.type===Fe.Identifier?d.key.name:""+d.key.value)+":"+p)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Fe.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Fe.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Fe.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if($x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(MP(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw eh("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function $G(t,e){this.astBuilder=t,this.$filter=e}$G.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Jn(r,e.$filter);var n,i;(n=BG(r))&&(i=this.recurse(n));var a=LG(r.body),o;a&&(o=[],Qr(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Qr(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?LP:r.body.length===1?s[0]:function(l,u){var f;return Qr(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=DG(r),c.constant=UG(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Fe.Literal:return this.value(t.value,e);case Fe.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Fe.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Fe.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Fe.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Fe.Identifier:return a.identifier(t.name,e,r);case Fe.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Fe.CallExpression:return o=[],Qr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var d=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:d}:d}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var d=[],p=0;p<o.length;++p)d.push(o[p](s,c,l,u));h=f.value.apply(f.context,d)}return e?{value:h}:h};case Fe.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case Fe.ArrayExpression:return o=[],Qr(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case Fe.ObjectExpression:return o=[],Qr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Fe.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case Fe.ThisExpression:return function(s){return e?{value:s}:s};case Fe.LocalsExpression:return function(s,c){return e?{value:c}:c};case Fe.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Qf(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Qf(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=NG(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(Qf(s)?s:0)-(Qf(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=kG(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var xA=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Fe(e,n),this.astCompiler=n.csp?new $G(this.ast,r):new jG(this.ast,r)};xA.prototype={constructor:xA,parse:function(t){return this.astCompiler.compile(t)}};kP.Lexer=yA;kP.Parser=xA;var GG=kP,o_e={},s_e=GG.Lexer,l_e=GG.Parser;function DP(t,e){e=e||{};var r=e.filters||o_e,n=e.filters?e.cache||{}:DP.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new s_e(i),c=new l_e(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}DP.cache=Object.create(null);var VG=DP;function u_e(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const c_e=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=u_e(r,n));let o;if(e?o=dde:o=N9,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();ue.dispatch(o({key:s,value:l})),ue.dispatch(Af({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(d=>d.match(/[a-zA-Z]/)?UP(d).toString():d).reduce((d,p)=>d+p,"");let h=VG(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),ue.dispatch(o({key:s,value:h})),ue.dispatch(Af({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(ue.dispatch(o({key:s,value:!0})),ue.dispatch(Af({key:s,value:!0}))),c.match(/false/)&&(ue.dispatch(o({key:s,value:!1})),ue.dispatch(Af({key:s,value:!1})))):isNaN(Number(c))?(ue.dispatch(o({key:s,value:i?a:c})),ue.dispatch(Af({key:s,value:i?a:c}))):(ue.dispatch(o({key:s,value:i?a:Number(c)})),ue.dispatch(Af({key:s,value:i?a:Number(c)})));e?(Ge.debug("",{key:s,value:ue.getState().userData.globalGameVar[s]}),N7()):Ge.debug("",{key:s,value:ue.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function UP(t){let e=0;return ue.getState().stage.GameVar.hasOwnProperty(t)?e=ue.getState().stage.GameVar[t]:ue.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=ue.getState().userData.globalGameVar[t]),e}function f_e(t){return VG(t)()}const bA=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:UP(i).toString():i).reduce((i,a)=>i+a,"");return!!f_e(n)}return!0},HG=()=>{if(W.sceneManager.sceneData.currentScene.sceneName,W.sceneManager.sceneData.currentSentenceId>W.sceneManager.sceneData.currentScene.sentenceList.length-1){if(W.sceneManager.sceneData.sceneStack.length!==0){const l=W.sceneManager.sceneData.sceneStack.pop();l!==void 0&&Vme(l)}return}const t=W.sceneManager.sceneData.currentScene.sentenceList[W.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((d,p)=>{const v=u.indexOf(d,p?u.indexOf(h[p-1])+h[p-1].length:0);return v===0||u[v-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const d=UP(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,d?d.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=bA(a)),!n){Ge.warn(""),W.sceneManager.sceneData.currentSentenceId++,Sn();return}jx(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Pt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){W.sceneManager.sceneData.currentSentenceId++,HG();return}setTimeout(()=>{c=ue.getState().stage,ue.getState().userData.globalGameVar,Ge.debug("",W.sceneManager.sceneData.currentSentenceId),s&&W.backlogManager.saveCurrentStateToBacklog()},0),W.sceneManager.sceneData.currentSentenceId++},Sn=()=>{if(W.events.userInteractNext.emit(),ue.getState().GUI.showTitle)return;let e=!1;if(W.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!W.gameplay.isFast&&!W.gameplay.isSyncingWithOrigine&&(e=!0)}),e){Ge.warn("next ");return}let r=!0;if(W.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=ue.getState().stage,a=nn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);ue.dispatch(Ax(a)),HG();return}Ge.warn("");let n=!1;for(let i=0;i<W.gameplay.performController.performList.length;i++){const a=W.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),W.gameplay.performController.performList.splice(i,1),i--))}n&&Sn()};var h_e="__lodash_hash_undefined__";function d_e(t){return this.__data__.set(t,h_e),this}var p_e=d_e;function v_e(t){return this.__data__.has(t)}var g_e=v_e,m_e=iP,__e=p_e,y_e=g_e;function yy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new m_e;++e<r;)this.add(t[e])}yy.prototype.add=yy.prototype.push=__e;yy.prototype.has=y_e;var XG=yy;function x_e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var b_e=x_e;function E_e(t){return t!==t}var w_e=E_e;function S_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var C_e=S_e,A_e=b_e,T_e=w_e,I_e=C_e;function R_e(t,e,r){return e===e?I_e(t,e,r):A_e(t,T_e,r)}var P_e=R_e,O_e=P_e;function F_e(t,e){var r=t==null?0:t.length;return!!r&&O_e(t,e,0)>-1}var k_e=F_e;function N_e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var L_e=N_e;function M_e(t,e){return t.has(e)}var WG=M_e;function B_e(){}var D_e=B_e;function U_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var jP=U_e,Xw=T9,j_e=D_e,$_e=jP,G_e=1/0,V_e=Xw&&1/$_e(new Xw([,-0]))[1]==G_e?function(t){return new Xw(t)}:j_e,H_e=V_e,X_e=XG,W_e=k_e,z_e=L_e,Y_e=WG,q_e=H_e,K_e=jP,Z_e=200;function J_e(t,e,r){var n=-1,i=W_e,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=z_e;else if(a>=Z_e){var l=e?null:q_e(t);if(l)return K_e(l);o=!1,i=Y_e,c=new X_e}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Q_e=J_e,eye=Q_e;function tye(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?eye(t,void 0,e):[]}var rye=tye;const Pv=wi(rye),wd=t=>{for(const e of t)W.sceneManager.settledScenes.includes(e)?Ge.warn(`${e}`):(Ge.info(`${e}`),Ea(e).then(r=>{const n=e.split("./game/scene/")[1];Wh(r,n||"",e)}))},nye=(t,e)=>{W.sceneManager.sceneData.sceneStack.push({sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl,continueLine:W.sceneManager.sceneData.currentSentenceId}),Ea(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const a=Pv(i);wd(a),Ge.debug("",W.sceneManager.sceneData),Sn()}})},iye=t=>{const e=t.content.split("/"),r=e[e.length-1];return nye(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Mp(t,e,r){let n;const a=ue.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function zG(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function YG(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const $P={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function qG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var aye=function(){},nB=function(){};const EA=(t,e,r)=>Math.min(Math.max(r,t),e),Ww=.001,oye=.01,iB=10,sye=.05,lye=1;function uye({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;aye(t<=iB*1e3);let o=1-e;o=EA(sye,lye,o),t=EA(oye,iB,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,d=wA(l,o),p=Math.exp(-f);return Ww-h/d*p},a=l=>{const f=l*o*t,h=f*r+r,d=Math.pow(o,2)*Math.pow(l,2)*t,p=Math.exp(-f),v=wA(Math.pow(l,2),o);return(-i(l)+Ww>0?-1:1)*((h-d)*p)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-Ww+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=fye(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const cye=12;function fye(t,e,r){let n=r;for(let i=1;i<cye;i++)n=n-t(n)/e(n);return n}function wA(t,e){return t*Math.sqrt(1-e*e)}const hye=["duration","bounce"],dye=["stiffness","damping","mass"];function aB(t,e){return e.some(r=>t[r]!==void 0)}function pye(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!aB(t,dye)&&aB(t,hye)){const r=uye(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function GP(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=qG(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=pye(a),d=oB,p=oB;function v(){const m=u?-(u/1e3):0,_=r-e,g=c/(2*Math.sqrt(s*l)),x=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),g<1){const E=wA(x,g);d=b=>{const S=Math.exp(-g*x*b);return r-S*((m+g*x*_)/E*Math.sin(E*b)+_*Math.cos(E*b))},p=b=>{const S=Math.exp(-g*x*b);return g*x*S*(Math.sin(E*b)*(m+g*x*_)/E+_*Math.cos(E*b))-S*(Math.cos(E*b)*(m+g*x*_)-E*_*Math.sin(E*b))}}else if(g===1)d=E=>r-Math.exp(-x*E)*(_+(m+x*_)*E);else{const E=x*Math.sqrt(g*g-1);d=b=>{const S=Math.exp(-g*x*b),C=Math.min(E*b,300);return r-S*((m+g*x*_)*Math.sinh(C)+E*_*Math.cosh(C))/E}}}return v(),{next:m=>{const _=d(m);if(h)o.done=m>=f;else{const g=p(m)*1e3,x=Math.abs(g)<=n,E=Math.abs(r-_)<=i;o.done=x&&E}return o.value=o.done?r:_,o},flipTarget:()=>{u=-u,[e,r]=[r,e],v()}}}GP.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const oB=t=>0,KG=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},VP=(t,e,r)=>-r*t+r*e+t,ZG=(t,e)=>r=>Math.max(Math.min(r,e),t),ip=t=>t%1?Number(t.toFixed(5)):t,xy=/(-)?([\d]*\.?[\d])+/g,SA=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vye=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ov(t){return typeof t=="string"}const Gx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},JG=Object.assign(Object.assign({},Gx),{transform:ZG(0,1)});Object.assign(Object.assign({},Gx),{default:1});const gye=t=>({test:e=>Ov(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ap=gye("%");Object.assign(Object.assign({},ap),{parse:t=>ap.parse(t)/100,transform:t=>ap.transform(t*100)});const HP=(t,e)=>r=>!!(Ov(r)&&vye.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),QG=(t,e,r)=>n=>{if(!Ov(n))return n;const[i,a,o,s]=n.match(xy);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},pc={test:HP("hsl","hue"),parse:QG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ap.transform(ip(e))+", "+ap.transform(ip(r))+", "+ip(JG.transform(n))+")"},mye=ZG(0,255),zw=Object.assign(Object.assign({},Gx),{transform:t=>Math.round(mye(t))}),$l={test:HP("rgb","red"),parse:QG("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+zw.transform(t)+", "+zw.transform(e)+", "+zw.transform(r)+", "+ip(JG.transform(n))+")"};function _ye(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const CA={test:HP("#"),parse:_ye,transform:$l.transform},Vx={test:t=>$l.test(t)||CA.test(t)||pc.test(t),parse:t=>$l.test(t)?$l.parse(t):pc.test(t)?pc.parse(t):CA.parse(t),transform:t=>Ov(t)?t:t.hasOwnProperty("red")?$l.transform(t):pc.transform(t)},eV="${c}",tV="${n}";function yye(t){var e,r,n,i;return isNaN(t)&&Ov(t)&&((r=(e=t.match(xy))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(SA))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function rV(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(SA);n&&(r=n.length,t=t.replace(SA,eV),e.push(...n.map(Vx.parse)));const i=t.match(xy);return i&&(t=t.replace(xy,tV),e.push(...i.map(Gx.parse))),{values:e,numColors:r,tokenised:t}}function nV(t){return rV(t).values}function iV(t){const{values:e,numColors:r,tokenised:n}=rV(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?eV:tV,s<r?Vx.transform(a[s]):ip(a[s]));return o}}const xye=t=>typeof t=="number"?0:t;function bye(t){const e=nV(t);return iV(t)(e.map(xye))}const aV={test:yye,parse:nV,createTransformer:iV,getAnimatableNone:bye};function Yw(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function sB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=Yw(c,s,t+1/3),a=Yw(c,s,t),o=Yw(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Eye=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},wye=[CA,$l,pc],lB=t=>wye.find(e=>e.test(t)),oV=(t,e)=>{let r=lB(t),n=lB(e),i=r.parse(t),a=n.parse(e);r===pc&&(i=sB(i),r=$l),n===pc&&(a=sB(a),n=$l);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=Eye(i[c],a[c],s));return o.alpha=VP(i.alpha,a.alpha,s),r.transform(o)}},Sye=t=>typeof t=="number",Cye=(t,e)=>r=>e(t(r)),sV=(...t)=>t.reduce(Cye);function lV(t,e){return Sye(t)?r=>VP(t,e,r):Vx.test(t)?oV(t,e):cV(t,e)}const uV=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>lV(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Aye=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=lV(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function uB(t){const e=aV.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const cV=(t,e)=>{const r=aV.createTransformer(e),n=uB(t),i=uB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?sV(uV(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Tye=(t,e)=>r=>VP(t,e,r);function Iye(t){if(typeof t=="number")return Tye;if(typeof t=="string")return Vx.test(t)?oV:cV;if(Array.isArray(t))return uV;if(typeof t=="object")return Aye}function Rye(t,e,r){const n=[],i=r||Iye(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=sV(c,s)}n.push(s)}return n}function Pye([t,e],[r]){return n=>r(KG(t,e,n))}function Oye(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=KG(t[a],t[a+1],i);return e[a](s)}}function fV(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;nB(a===e.length),nB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Rye(e,n,i),s=a===2?Pye(t,o):Oye(t,o);return r?c=>s(EA(t[0],t[a-1],c)):s}const Fye=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kye=t=>e=>Math.pow(e,t),Nye=t=>e=>e*e*((t+1)*e-t),Lye=t=>{const e=Nye(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},Mye=1.525,Bye=kye(2),Dye=Fye(Bye);Lye(Mye);function Uye(t,e){return t.map(()=>e||Dye).splice(0,t.length-1)}function jye(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function $ye(t,e){return t.map(r=>r*e)}function v_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=$ye(n&&n.length===o.length?n:jye(o),i);function c(){return fV(s,o,{ease:Array.isArray(r)?r:Uye(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function Gye({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const cB={keyframes:v_,spring:GP,decay:Gye};function Vye(t){if(Array.isArray(t.to))return v_;if(cB[t.type])return cB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?v_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?GP:v_}const hV=1/60*1e3,Hye=typeof performance<"u"?()=>performance.now():()=>Date.now(),dV=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Hye()),hV);function Xye(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Wye=40;let AA=!0,Bp=!1,TA=!1;const op={delta:0,timestamp:0},Fv=["read","update","preRender","render","postRender"],Hx=Fv.reduce((t,e)=>(t[e]=Xye(()=>Bp=!0),t),{}),zye=Fv.reduce((t,e)=>{const r=Hx[e];return t[e]=(n,i=!1,a=!1)=>(Bp||Kye(),r.schedule(n,i,a)),t},{}),Yye=Fv.reduce((t,e)=>(t[e]=Hx[e].cancel,t),{});Fv.reduce((t,e)=>(t[e]=()=>Hx[e].process(op),t),{});const qye=t=>Hx[t].process(op),pV=t=>{Bp=!1,op.delta=AA?hV:Math.max(Math.min(t-op.timestamp,Wye),1),op.timestamp=t,TA=!0,Fv.forEach(qye),TA=!1,Bp&&(AA=!1,dV(pV))},Kye=()=>{Bp=!0,AA=!0,TA||dV(pV)},Zye=zye;function vV(t,e,r=0){return t-e-r}function Jye(t,e,r=0,n=!0){return n?vV(e+-t,e,r):e-(t-e)+r}function Qye(t,e,r,n){return n?t>=e+r:t<=-r}const exe=t=>{const e=({delta:r})=>t(r);return{start:()=>Zye.update(e,!0),stop:()=>Yye.update(e)}};function txe(t){var e,r,{from:n,autoplay:i=!0,driver:a=exe,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:d,onUpdate:p}=t,v=qG(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=v,_,g=0,x=v.duration,E,b=!1,S=!0,C;const A=Vye(v);!((r=(e=A).needsInterpolation)===null||r===void 0)&&r.call(e,n,m)&&(C=fV([0,100],[n,m],{clamp:!1}),n=0,m=100);const I=A(Object.assign(Object.assign({},v),{from:n,to:m}));function R(){g++,c==="reverse"?(S=g%2===0,o=Jye(o,x,l,S)):(o=vV(o,x,l),c==="mirror"&&I.flipTarget()),b=!1,d&&d()}function O(){_.stop(),h&&h()}function P(N){if(S||(N=-N),o+=N,!b){const B=I.next(Math.max(0,o));E=B.value,C&&(E=C(E)),b=S?B.done:o<=0}p==null||p(E),b&&(g===0&&(x??(x=o)),g<s?Qye(o,x,l,S)&&R():O())}function F(){u==null||u(),_=a(P),_.start()}return i&&F(),{stop:()=>{f==null||f(),_.stop()}}}function rxe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var nxe=rxe,ixe=XG,axe=nxe,oxe=WG,sxe=1,lxe=2;function uxe(t,e,r,n,i,a){var o=r&sxe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,d=r&lxe?new ixe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],v=e[f];if(n)var m=o?n(v,p,f,e,t,a):n(p,v,f,t,e,a);if(m!==void 0){if(m)continue;h=!1;break}if(d){if(!axe(e,function(_,g){if(!oxe(d,g)&&(p===_||i(p,_,r,n,a)))return d.push(g)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var gV=uxe;function cxe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var fxe=cxe,fB=Av,hB=R9,hxe=rP,dxe=gV,pxe=fxe,vxe=jP,gxe=1,mxe=2,_xe="[object Boolean]",yxe="[object Date]",xxe="[object Error]",bxe="[object Map]",Exe="[object Number]",wxe="[object RegExp]",Sxe="[object Set]",Cxe="[object String]",Axe="[object Symbol]",Txe="[object ArrayBuffer]",Ixe="[object DataView]",dB=fB?fB.prototype:void 0,qw=dB?dB.valueOf:void 0;function Rxe(t,e,r,n,i,a,o){switch(r){case Ixe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Txe:return!(t.byteLength!=e.byteLength||!a(new hB(t),new hB(e)));case _xe:case yxe:case Exe:return hxe(+t,+e);case xxe:return t.name==e.name&&t.message==e.message;case wxe:case Cxe:return t==e+"";case bxe:var s=pxe;case Sxe:var c=n&gxe;if(s||(s=vxe),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=mxe,o.set(t,e);var u=dxe(s(t),s(e),n,i,a,o);return o.delete(t),u;case Axe:if(qw)return qw.call(t)==qw.call(e)}return!1}var Pxe=Rxe,pB=C9,Oxe=1,Fxe=Object.prototype,kxe=Fxe.hasOwnProperty;function Nxe(t,e,r,n,i,a){var o=r&Oxe,s=pB(t),c=s.length,l=pB(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:kxe.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){h=s[f];var _=t[h],g=e[h];if(n)var x=o?n(g,_,h,e,t,a):n(_,g,h,t,e,a);if(!(x===void 0?_===g||i(_,g,r,n,a):x)){v=!1;break}m||(m=h=="constructor")}if(v&&!m){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(t),a.delete(e),v}var Lxe=Nxe,Kw=aP,Mxe=gV,Bxe=Pxe,Dxe=Lxe,vB=Cx,gB=sl,mB=sP,Uxe=g9,jxe=1,_B="[object Arguments]",yB="[object Array]",rm="[object Object]",$xe=Object.prototype,xB=$xe.hasOwnProperty;function Gxe(t,e,r,n,i,a){var o=gB(t),s=gB(e),c=o?yB:vB(t),l=s?yB:vB(e);c=c==_B?rm:c,l=l==_B?rm:l;var u=c==rm,f=l==rm,h=c==l;if(h&&mB(t)){if(!mB(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Kw),o||Uxe(t)?Mxe(t,e,r,n,i,a):Bxe(t,e,c,r,n,i,a);if(!(r&jxe)){var d=u&&xB.call(t,"__wrapped__"),p=f&&xB.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,m=p?e.value():e;return a||(a=new Kw),i(v,m,r,n,a)}}return h?(a||(a=new Kw),Dxe(t,e,r,n,i,a)):!1}var Vxe=Gxe,Hxe=Vxe,bB=Jc;function mV(t,e,r,n,i){return t===e?!0:t==null||e==null||!bB(t)&&!bB(e)?t!==t&&e!==e:Hxe(t,e,r,n,mV,i)}var _V=mV,Xxe=aP,Wxe=_V,zxe=1,Yxe=2;function qxe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new Xxe;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?Wxe(u,l,zxe|Yxe,n,f):h))return!1}}return!0}var Kxe=qxe,Zxe=bs;function Jxe(t){return t===t&&!Zxe(t)}var yV=Jxe,Qxe=yV,e1e=Sx;function t1e(t){for(var e=e1e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Qxe(i)]}return e}var r1e=t1e;function n1e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var xV=n1e,i1e=Kxe,a1e=r1e,o1e=xV;function s1e(t){var e=a1e(t);return e.length==1&&e[0][2]?o1e(e[0][0],e[0][1]):function(r){return r===t||i1e(r,t,e)}}var l1e=s1e,u1e=Tv,c1e=Jc,f1e="[object Symbol]";function h1e(t){return typeof t=="symbol"||c1e(t)&&u1e(t)==f1e}var Xx=h1e,d1e=sl,p1e=Xx,v1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g1e=/^\w*$/;function m1e(t,e){if(d1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||p1e(t)?!0:g1e.test(t)||!v1e.test(t)||e!=null&&t in Object(e)}var XP=m1e,bV=iP,_1e="Expected a function";function WP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_1e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(WP.Cache||bV),r}WP.Cache=bV;var y1e=WP,x1e=y1e,b1e=500;function E1e(t){var e=x1e(t,function(n){return r.size===b1e&&r.clear(),n}),r=e.cache;return e}var w1e=E1e,S1e=w1e,C1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A1e=/\\(\\)?/g,T1e=S1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(C1e,function(r,n,i,a){e.push(i?a.replace(A1e,"$1"):n||r)}),e}),I1e=T1e;function R1e(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var EV=R1e,EB=Av,P1e=EV,O1e=sl,F1e=Xx,k1e=1/0,wB=EB?EB.prototype:void 0,SB=wB?wB.toString:void 0;function wV(t){if(typeof t=="string")return t;if(O1e(t))return P1e(t,wV)+"";if(F1e(t))return SB?SB.call(t):"";var e=t+"";return e=="0"&&1/t==-k1e?"-0":e}var N1e=wV,L1e=N1e;function M1e(t){return t==null?"":L1e(t)}var B1e=M1e,D1e=sl,U1e=XP,j1e=I1e,$1e=B1e;function G1e(t,e){return D1e(t)?t:U1e(t,e)?[t]:j1e($1e(t))}var Wx=G1e,V1e=Xx,H1e=1/0;function X1e(t){if(typeof t=="string"||V1e(t))return t;var e=t+"";return e=="0"&&1/t==-H1e?"-0":e}var kv=X1e,W1e=Wx,z1e=kv;function Y1e(t,e){e=W1e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[z1e(e[r++])];return r&&r==n?t:void 0}var zP=Y1e,q1e=zP;function K1e(t,e,r){var n=t==null?void 0:q1e(t,e);return n===void 0?r:n}var Z1e=K1e;function J1e(t,e){return t!=null&&e in Object(t)}var Q1e=J1e,ebe=Wx,tbe=v9,rbe=sl,nbe=lP,ibe=uP,abe=kv;function obe(t,e,r){e=ebe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=abe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&ibe(i)&&nbe(o,i)&&(rbe(t)||tbe(t)))}var sbe=obe,lbe=Q1e,ube=sbe;function cbe(t,e){return t!=null&&ube(t,e,lbe)}var fbe=cbe,hbe=_V,dbe=Z1e,pbe=fbe,vbe=XP,gbe=yV,mbe=xV,_be=kv,ybe=1,xbe=2;function bbe(t,e){return vbe(t)&&gbe(e)?mbe(_be(t),e):function(r){var n=dbe(r,t);return n===void 0&&n===e?pbe(r,t):hbe(e,n,ybe|xbe)}}var Ebe=bbe;function wbe(t){return t}var Sbe=wbe;function Cbe(t){return function(e){return e==null?void 0:e[t]}}var Abe=Cbe,Tbe=zP;function Ibe(t){return function(e){return Tbe(e,t)}}var Rbe=Ibe,Pbe=Abe,Obe=Rbe,Fbe=XP,kbe=kv;function Nbe(t){return Fbe(t)?Pbe(kbe(t)):Obe(t)}var Lbe=Nbe,Mbe=l1e,Bbe=Ebe,Dbe=Sbe,Ube=sl,jbe=Lbe;function $be(t){return typeof t=="function"?t:t==null?Dbe:typeof t=="object"?Ube(t)?Bbe(t[0],t[1]):Mbe(t):jbe(t)}var SV=$be,Gbe="Expected a function";function Vbe(t){if(typeof t!="function")throw new TypeError(Gbe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Hbe=Vbe,Xbe=oP,Wbe=Wx,zbe=lP,CB=bs,Ybe=kv;function qbe(t,e,r,n){if(!CB(t))return t;e=Wbe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=Ybe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=CB(u)?u:zbe(e[i+1])?[]:{})}Xbe(s,c,l),s=s[c]}return t}var Kbe=qbe,Zbe=zP,Jbe=Kbe,Qbe=Wx;function eEe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Zbe(t,o);r(s,o)&&Jbe(a,Qbe(o,t),s)}return a}var tEe=eEe,rEe=EV,nEe=SV,iEe=tEe,aEe=A9;function oEe(t,e){if(t==null)return{};var r=rEe(aEe(t),function(n){return[n]});return e=nEe(e),iEe(t,r,function(n,i){return e(n,i[0])})}var sEe=oEe,lEe=SV,uEe=Hbe,cEe=sEe;function fEe(t,e){return cEe(t,uEe(lEe(e)))}var hEe=fEe;const Zw=wi(hEe);function dEe(t){return t===void 0}var pEe=dEe;const Ls=wi(pEe);function CV(t,e,r){const n=W.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const _ of t){const g=_.duration;i+=g;const{position:x,scale:E,...b}=_;a.push({x:x.x,y:x.y,scaleX:E.x,scaleY:E.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=txe({to:a,offset:o,duration:r,onUpdate:_=>{if(s){const{scaleX:g,scaleY:x,...E}=_;Object.assign(s,Zw(E,Ls)),Ls(g)||(s.scale.x=g),Ls(x)||(s.scale.y=x)}}}));const{duration:l,...u}=v();ue.dispatch(pa.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:_,scale:g,...x}=p(),E=Zw({x:_.x,y:_.y,...x},Ls);Object.assign(n==null?void 0:n.pixiContainer,E),n!=null&&n.pixiContainer&&(Ls(g.x)||(n.pixiContainer.scale.x=g.x),Ls(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:_,scale:g,...x}=v(),E=Zw({x:_.x,y:_.y,...x},Ls);Object.assign(n==null?void 0:n.pixiContainer,E),n!=null&&n.pixiContainer&&(Ls(g.x)||(n.pixiContainer.scale.x=g.x),Ls(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function d(_){}function p(){return t[0]}function v(){return t[t.length-1]}function m(){const _=t[t.length-1],{alpha:g,rotation:x,blur:E,duration:b,scale:S,position:C,...A}=_;return A}return{setStartState:f,setEndState:h,tickerFunc:d,getEndFilterEffect:m}}function by(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=ue.getState().stage.effects.find(c=>c.target===e),s=nn({...(o==null?void 0:o.transform)??$P,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Ge.debug("",i),CV(i,e,r)}return null}function ga(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Nl(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=zG(t,n);const a=W.animationManager.nextEnterAnimationName.get(t);return a&&(Ge.debug("",t),i=by(a,t,ga(a)),n=ga(a),W.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=YG(t,n);const a=W.animationManager.nextExitAnimationName.get(t);return a&&(Ge.debug("",t),i=by(a,t,ga(a)),n=ga(a),W.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Gh=()=>Math.random().toString().substring(0,10);class vEe{constructor(){Ye(this,"performList",[]);Ye(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};ue.dispatch(pa.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){ue.dispatch(pa.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):Sn()}}const gEe=t=>{const e=t.content,r=ue.dispatch;if(ue.getState().GUI.showStoryLine)return r(ct({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(ct({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(ct({key:"storyLineBgY",value:f.value}))}),{performName:Gh(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(ue.getState().GUI.showAchievement)return r(ihe(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(ct({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(ct({key:"achieveBgY",value:f.value}))}),{performName:Gh(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(K9({name:n,url:e,series:i})),r(pa.removeEffectByTargetId("bg-main"));const s=Xt(t,"transform");let c=Xt(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=Mp("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};W.animationManager.addAnimation(d),c=ga(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=Mp("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};W.animationManager.addAnimation(d),c=ga(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}return Xt(t,"enter")&&(W.animationManager.nextEnterAnimationName.set("bg-main",Xt(t,"enter").toString()),c=ga(Xt(t,"enter").toString())),Xt(t,"exit")&&(W.animationManager.nextExitAnimationName.set("bg-main-off",Xt(t,"exit").toString()),c=ga(Xt(t,"exit").toString())),a&&r(ct({key:"bgX",value:a})),o&&r(ct({key:"bgY",value:o})),r(ct({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function mEe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",d="";const p=ue.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":c=b.value.toString(),c=Tt(c,xt.figure);break;case"mouthClose":l=b.value.toString(),l=Tt(l,xt.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=Tt(u,xt.figure);break;case"eyesOpen":f=b.value.toString(),f=Tt(f,xt.figure);break;case"eyesClose":h=b.value.toString(),h=Tt(h,xt.figure);break;case"animationFlag":d=b.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,_=ue.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==v),g={targetId:v,animationFlag:d,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};_.push(g),p(ct({key:"figureAssociatedAnimation",value:_}));let x=!0;if(o!==""){const b=ue.getState().stage.freeFigure.find(S=>S.key===o);b&&b.name===t.content&&(x=!1)}else e==="center"&&ue.getState().stage.figName===t.content&&(x=!1),e==="left"&&ue.getState().stage.figNameLeft===t.content&&(x=!1),e==="right"&&ue.getState().stage.figNameRight===t.content&&(x=!1);if(x){const b=`fig-${e}`,S=`${o}`;ue.dispatch(pa.removeEffectByTargetId(b)),ue.dispatch(pa.removeEffectByTargetId(S))}const E=(b,S)=>{const C=Xt(S,"transform"),A=Xt(S,"duration");A&&typeof A=="number"&&(s=A);let I;if(C){console.log(C);try{const F=JSON.parse(C.toString());I=Mp(b,F,s),I[0].alpha=0;const N=(Math.random()*10).toString(16),B={name:N,effects:I};W.animationManager.addAnimation(B),s=ga(N),W.animationManager.nextEnterAnimationName.set(b,N)}catch{R()}}else R();function R(){I=Mp(b,{},s),I[0].alpha=0;const N=(Math.random()*10).toString(16),B={name:N,effects:I};W.animationManager.addAnimation(B),s=ga(N),W.animationManager.nextEnterAnimationName.set(b,N)}const O=Xt(S,"enter"),P=Xt(S,"exit");O&&(W.animationManager.nextEnterAnimationName.set(b,O.toString()),s=ga(O.toString())),P&&(W.animationManager.nextExitAnimationName.set(b+"-off",P.toString()),s=ga(P.toString()))};if(n){ue.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};E(o,t),i&&p(pa.setLive2dMotion({target:o,motion:i})),a&&p(pa.setLive2dExpression({target:o,expression:a})),p(pa.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},S={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],E(o,t),i&&p(pa.setLive2dMotion({target:o,motion:i})),a&&p(pa.setLive2dExpression({target:o,expression:a})),p(ct({key:S[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const AV=(t,e)=>{Ea(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=[];W.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),W.videoManager.destroyExcept(i);const a=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const o=Pv(a);wd(o),Ge.debug("",W.sceneManager.sceneData),Sn()}})},_Ee=t=>{const e=t.content.split("/"),r=e[e.length-1];return AV(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},TV=t=>{const e=W.sceneManager.sceneData.currentSentenceId;let r=e;W.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Pt.label&&n.content===t&&i!==e&&(r=i)}),W.sceneManager.sceneData.currentSentenceId=r,setTimeout(Sn,1)},yEe="_Choose_Main_94qva_1",xEe="_Choose_item_94qva_13",bEe="_Choose_item_image_94qva_30",EEe="_Choose_item_countdown_94qva_45",wEe="_Choose_item_countdown_disabled_94qva_52",SEe="_Choose_item_progress_bar_94qva_59",CEe="_Choose_item_disabled_94qva_68",Gu={Choose_Main:yEe,Choose_item:xEe,Choose_item_image:bEe,Choose_item_countdown:EEe,Choose_item_countdown_disabled:wEe,Choose_item_progress_bar:SEe,Choose_item_disabled:CEe},AEe=""+new URL("page-flip-1.mp3",import.meta.url).href,TEe=""+new URL("switch-1.mp3",import.meta.url).href,IV=""+new URL("mouse-enter.mp3",import.meta.url).href,IEe=""+new URL("dialog.mp3",import.meta.url).href,RV=""+new URL("click.mp3",import.meta.url).href;var PV={exports:{}},OV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=he;function REe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PEe=typeof Object.is=="function"?Object.is:REe,OEe=Vh.useState,FEe=Vh.useEffect,kEe=Vh.useLayoutEffect,NEe=Vh.useDebugValue;function LEe(t,e){var r=e(),n=OEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return kEe(function(){i.value=r,i.getSnapshot=e,Jw(i)&&a({inst:i})},[t,r,e]),FEe(function(){return Jw(i)&&a({inst:i}),t(function(){Jw(i)&&a({inst:i})})},[t]),NEe(r),r}function Jw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!PEe(t,r)}catch{return!0}}function MEe(t,e){return e()}var BEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MEe:LEe;OV.useSyncExternalStore=Vh.useSyncExternalStore!==void 0?Vh.useSyncExternalStore:BEe;PV.exports=OV;var DEe=PV.exports,FV={exports:{}},kV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=he,UEe=DEe;function jEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $Ee=typeof Object.is=="function"?Object.is:jEe,GEe=UEe.useSyncExternalStore,VEe=zx.useRef,HEe=zx.useEffect,XEe=zx.useMemo,WEe=zx.useDebugValue;kV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=VEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=XEe(function(){function c(d){if(!l){if(l=!0,u=d,d=n(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,$Ee(u,d))return p;var v=n(d);return i!==void 0&&i(p,v)?p:(u=d,f=v)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=GEe(t,a[0],a[1]);return HEe(function(){o.hasValue=!0,o.value=s},[s]),WEe(s),s};FV.exports=kV;var zEe=FV.exports;function YEe(t){t()}let NV=YEe;const qEe=t=>NV=t,KEe=()=>NV,AB=Symbol.for("react-redux-context"),TB=typeof globalThis<"u"?globalThis:{};function ZEe(){var t;if(!he.createContext)return{};const e=(t=TB[AB])!=null?t:TB[AB]=new Map;let r=e.get(he.createContext);return r||(r=he.createContext(null),e.set(he.createContext,r)),r}const vu=ZEe();function YP(t=vu){return function(){return he.useContext(t)}}const LV=YP(),JEe=()=>{throw new Error("uSES not initialized!")};let MV=JEe;const QEe=t=>{MV=t},ewe=(t,e)=>t===e;function twe(t=vu){const e=t===vu?LV:YP(t);return function(n,i={}){const{equalityFn:a=ewe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();he.useRef(!0);const d=he.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),p=MV(l.addNestedSub,c.getState,u||c.getState,d,a);return he.useDebugValue(p),p}}const tt=twe();function rwe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var BV={exports:{}},vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=typeof Symbol=="function"&&Symbol.for,qP=si?Symbol.for("react.element"):60103,KP=si?Symbol.for("react.portal"):60106,Yx=si?Symbol.for("react.fragment"):60107,qx=si?Symbol.for("react.strict_mode"):60108,Kx=si?Symbol.for("react.profiler"):60114,Zx=si?Symbol.for("react.provider"):60109,Jx=si?Symbol.for("react.context"):60110,ZP=si?Symbol.for("react.async_mode"):60111,Qx=si?Symbol.for("react.concurrent_mode"):60111,e1=si?Symbol.for("react.forward_ref"):60112,t1=si?Symbol.for("react.suspense"):60113,nwe=si?Symbol.for("react.suspense_list"):60120,r1=si?Symbol.for("react.memo"):60115,n1=si?Symbol.for("react.lazy"):60116,iwe=si?Symbol.for("react.block"):60121,awe=si?Symbol.for("react.fundamental"):60117,owe=si?Symbol.for("react.responder"):60118,swe=si?Symbol.for("react.scope"):60119;function Ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qP:switch(t=t.type,t){case ZP:case Qx:case Yx:case Kx:case qx:case t1:return t;default:switch(t=t&&t.$$typeof,t){case Jx:case e1:case n1:case r1:case Zx:return t;default:return e}}case KP:return e}}}function DV(t){return Ha(t)===Qx}vr.AsyncMode=ZP;vr.ConcurrentMode=Qx;vr.ContextConsumer=Jx;vr.ContextProvider=Zx;vr.Element=qP;vr.ForwardRef=e1;vr.Fragment=Yx;vr.Lazy=n1;vr.Memo=r1;vr.Portal=KP;vr.Profiler=Kx;vr.StrictMode=qx;vr.Suspense=t1;vr.isAsyncMode=function(t){return DV(t)||Ha(t)===ZP};vr.isConcurrentMode=DV;vr.isContextConsumer=function(t){return Ha(t)===Jx};vr.isContextProvider=function(t){return Ha(t)===Zx};vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qP};vr.isForwardRef=function(t){return Ha(t)===e1};vr.isFragment=function(t){return Ha(t)===Yx};vr.isLazy=function(t){return Ha(t)===n1};vr.isMemo=function(t){return Ha(t)===r1};vr.isPortal=function(t){return Ha(t)===KP};vr.isProfiler=function(t){return Ha(t)===Kx};vr.isStrictMode=function(t){return Ha(t)===qx};vr.isSuspense=function(t){return Ha(t)===t1};vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yx||t===Qx||t===Kx||t===qx||t===t1||t===nwe||typeof t=="object"&&t!==null&&(t.$$typeof===n1||t.$$typeof===r1||t.$$typeof===Zx||t.$$typeof===Jx||t.$$typeof===e1||t.$$typeof===awe||t.$$typeof===owe||t.$$typeof===swe||t.$$typeof===iwe)};vr.typeOf=Ha;BV.exports=vr;var lwe=BV.exports,UV=lwe,uwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jV={};jV[UV.ForwardRef]=uwe;jV[UV.Memo]=cwe;var br={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=Symbol.for("react.element"),QP=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),a1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),s1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),fwe=Symbol.for("react.server_context"),u1=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),d1=Symbol.for("react.lazy"),hwe=Symbol.for("react.offscreen"),$V;$V=Symbol.for("react.module.reference");function ho(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JP:switch(t=t.type,t){case i1:case o1:case a1:case c1:case f1:return t;default:switch(t=t&&t.$$typeof,t){case fwe:case l1:case u1:case d1:case h1:case s1:return t;default:return e}}case QP:return e}}}br.ContextConsumer=l1;br.ContextProvider=s1;br.Element=JP;br.ForwardRef=u1;br.Fragment=i1;br.Lazy=d1;br.Memo=h1;br.Portal=QP;br.Profiler=o1;br.StrictMode=a1;br.Suspense=c1;br.SuspenseList=f1;br.isAsyncMode=function(){return!1};br.isConcurrentMode=function(){return!1};br.isContextConsumer=function(t){return ho(t)===l1};br.isContextProvider=function(t){return ho(t)===s1};br.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JP};br.isForwardRef=function(t){return ho(t)===u1};br.isFragment=function(t){return ho(t)===i1};br.isLazy=function(t){return ho(t)===d1};br.isMemo=function(t){return ho(t)===h1};br.isPortal=function(t){return ho(t)===QP};br.isProfiler=function(t){return ho(t)===o1};br.isStrictMode=function(t){return ho(t)===a1};br.isSuspense=function(t){return ho(t)===c1};br.isSuspenseList=function(t){return ho(t)===f1};br.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i1||t===o1||t===a1||t===c1||t===f1||t===hwe||typeof t=="object"&&t!==null&&(t.$$typeof===d1||t.$$typeof===h1||t.$$typeof===s1||t.$$typeof===l1||t.$$typeof===u1||t.$$typeof===$V||t.getModuleId!==void 0)};br.typeOf=ho;function dwe(){const t=KEe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const IB={notify(){},get:()=>[]};function pwe(t,e){let r,n=IB,i=0,a=!1;function o(v){u();const m=n.subscribe(v);let _=!1;return()=>{_||(_=!0,m(),f())}}function s(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=dwe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=IB)}function h(){a||(a=!0,u())}function d(){a&&(a=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return p}const vwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gwe=vwe?he.useLayoutEffect:he.useEffect;function mwe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=he.useMemo(()=>{const l=pwe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=he.useMemo(()=>t.getState(),[t]);gwe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||vu;return he.createElement(c.Provider,{value:o},r)}function GV(t=vu){const e=t===vu?LV:YP(t);return function(){const{store:n}=e();return n}}const _we=GV();function ywe(t=vu){const e=t===vu?_we:GV(t);return function(){return e().dispatch}}const qr=ywe();QEe(zEe.useSyncExternalStoreWithSelector);qEe(K$.unstable_batchedUpdates);const li=()=>{const t=qr();return tt(o=>o.stage),{playSeEnter:()=>{t(ct({key:"uiSe",value:IV}))},playSeClick:o=>{t(ct({key:"uiSe",value:o||RV})),t(ct({key:"hasCustomClickSe",value:!0}))},playSePageChange:()=>{t(ct({key:"uiSe",value:AEe}))},playSeDialogOpen:()=>{t(ct({key:"uiSe",value:IEe}))},playSeSwitch:()=>{t(ct({key:"uiSe",value:TEe}))}}},eO=()=>({playSeEnter:()=>{ue.dispatch(ct({key:"uiSe",value:IV}))},playSeClick:()=>{ue.dispatch(ct({key:"uiSe",value:RV}))}}),xwe=""+new URL("progress-bar-bg.png",import.meta.url).href,bwe=""+new URL("progress-bar.png",import.meta.url).href;var Ey={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ey.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,d=4,p=1,v=2,m=1,_=2,g=4,x=8,E=16,b=32,S=64,C=128,A=256,I=512,R=30,O="...",P=800,F=16,N=1,B=2,U=3,H=1/0,ee=9007199254740991,J=17976931348623157e292,G=0/0,L=4294967295,V=L-1,$=L>>>1,j=[["ary",C],["bind",m],["bindKey",_],["curry",x],["curryRight",E],["flip",I],["partial",b],["partialRight",S],["rearg",A]],te="[object Arguments]",ne="[object Array]",pe="[object AsyncFunction]",le="[object Boolean]",xe="[object Date]",Te="[object DOMException]",ye="[object Error]",we="[object Function]",me="[object GeneratorFunction]",Pe="[object Map]",je="[object Number]",Le="[object Null]",ze="[object Object]",ut="[object Promise]",wt="[object Proxy]",Ct="[object RegExp]",it="[object Set]",lt="[object String]",_t="[object Symbol]",gr="[object Undefined]",mr="[object WeakMap]",fr="[object WeakSet]",ir="[object ArrayBuffer]",It="[object DataView]",Er="[object Float32Array]",_e="[object Float64Array]",Se="[object Int8Array]",Oe="[object Int16Array]",qe="[object Int32Array]",Ve="[object Uint8Array]",at="[object Uint8ClampedArray]",ar="[object Uint16Array]",Or="[object Uint32Array]",zn=/\b__p \+= '';/g,Yn=/\b(__p \+=) '' \+/g,Sr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wa=/&(?:amp|lt|gt|quot|#39);/g,Si=/[&<>"']/g,kn=RegExp(wa.source),Sa=RegExp(Si.source),Xa=/<%-([\s\S]+?)%>/g,Ho=/<%([\s\S]+?)%>/g,Gi=/<%=([\s\S]+?)%>/g,ul=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vi=/^\w*$/,po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,on=RegExp(Ci.source),aa=/^\s+/,Ou=/\s/,Dd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lb=/\{\n\/\* \[wrapped with (.+)\] \*/,ub=/,? & /,cb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fb=/[()=,{}\[\]\/\s]/,hb=/\\(\\)?/g,db=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kv=/\w*$/,pb=/^[-+]0x[0-9a-f]+$/i,vb=/^0b[01]+$/i,gb=/^\[object .+?Constructor\]$/,mb=/^0o[0-7]+$/i,_b=/^(?:0|[1-9]\d*)$/,yb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lf=/($^)/,Zv=/['\n\r\u2028\u2029\\]/g,Xo="\\ud800-\\udfff",Jv="\\u0300-\\u036f",cl="\\ufe20-\\ufe2f",xb="\\u20d0-\\u20ff",Fu=Jv+cl+xb,uf="\\u2700-\\u27bf",Qv="a-z\\xdf-\\xf6\\xf8-\\xff",bb="\\xac\\xb1\\xd7\\xf7",Ud="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Eb="\\u2000-\\u206f",wb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Y="A-Z\\xc0-\\xd6\\xd8-\\xde",re="\\ufe0e\\ufe0f",Z=bb+Ud+Eb+wb,oe="[']",de="["+Xo+"]",ae="["+Z+"]",Ee="["+Fu+"]",Re="\\d+",ke="["+uf+"]",Ne="["+Qv+"]",Be="[^"+Xo+Z+Re+uf+Qv+Y+"]",et="\\ud83c[\\udffb-\\udfff]",Nt="(?:"+Ee+"|"+et+")",tr="[^"+Xo+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",Ur="[\\ud800-\\udbff][\\udc00-\\udfff]",_r="["+Y+"]",Hi="\\u200d",fl="(?:"+Ne+"|"+Be+")",jd="(?:"+_r+"|"+Be+")",eg="(?:"+oe+"(?:d|ll|m|re|s|t|ve))?",cf="(?:"+oe+"(?:D|LL|M|RE|S|T|VE))?",Sb=Nt+"?",tg="["+re+"]?",Cb="(?:"+Hi+"(?:"+[tr,rr,Ur].join("|")+")"+tg+Sb+")*",rg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dz="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gk=tg+Sb+Cb,Uz="(?:"+[ke,rr,Ur].join("|")+")"+Gk,jz="(?:"+[tr+Ee+"?",Ee,rr,Ur,de].join("|")+")",$z=RegExp(oe,"g"),Gz=RegExp(Ee,"g"),Ab=RegExp(et+"(?="+et+")|"+jz+Gk,"g"),Vz=RegExp([_r+"?"+Ne+"+"+eg+"(?="+[ae,_r,"$"].join("|")+")",jd+"+"+cf+"(?="+[ae,_r+fl,"$"].join("|")+")",_r+"?"+fl+"+"+eg,_r+"+"+cf,Dz,rg,Re,Uz].join("|"),"g"),Hz=RegExp("["+Hi+Xo+Fu+re+"]"),Xz=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wz=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zz=-1,Fr={};Fr[Er]=Fr[_e]=Fr[Se]=Fr[Oe]=Fr[qe]=Fr[Ve]=Fr[at]=Fr[ar]=Fr[Or]=!0,Fr[te]=Fr[ne]=Fr[ir]=Fr[le]=Fr[It]=Fr[xe]=Fr[ye]=Fr[we]=Fr[Pe]=Fr[je]=Fr[ze]=Fr[Ct]=Fr[it]=Fr[lt]=Fr[mr]=!1;var Cr={};Cr[te]=Cr[ne]=Cr[ir]=Cr[It]=Cr[le]=Cr[xe]=Cr[Er]=Cr[_e]=Cr[Se]=Cr[Oe]=Cr[qe]=Cr[Pe]=Cr[je]=Cr[ze]=Cr[Ct]=Cr[it]=Cr[lt]=Cr[_t]=Cr[Ve]=Cr[at]=Cr[ar]=Cr[Or]=!0,Cr[ye]=Cr[we]=Cr[mr]=!1;var Yz={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},qz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kz={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zz={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jz=parseFloat,Qz=parseInt,Vk=typeof ot=="object"&&ot&&ot.Object===Object&&ot,eY=typeof self=="object"&&self&&self.Object===Object&&self,ci=Vk||eY||Function("return this")(),Tb=e&&!e.nodeType&&e,ku=Tb&&!0&&t&&!t.nodeType&&t,Hk=ku&&ku.exports===Tb,Ib=Hk&&Vk.process,Wa=function(){try{var se=ku&&ku.require&&ku.require("util").types;return se||Ib&&Ib.binding&&Ib.binding("util")}catch{}}(),Xk=Wa&&Wa.isArrayBuffer,Wk=Wa&&Wa.isDate,zk=Wa&&Wa.isMap,Yk=Wa&&Wa.isRegExp,qk=Wa&&Wa.isSet,Kk=Wa&&Wa.isTypedArray;function Ca(se,be,ge){switch(ge.length){case 0:return se.call(be);case 1:return se.call(be,ge[0]);case 2:return se.call(be,ge[0],ge[1]);case 3:return se.call(be,ge[0],ge[1],ge[2])}return se.apply(be,ge)}function tY(se,be,ge,Ze){for(var Et=-1,lr=se==null?0:se.length;++Et<lr;){var Nn=se[Et];be(Ze,Nn,ge(Nn),se)}return Ze}function za(se,be){for(var ge=-1,Ze=se==null?0:se.length;++ge<Ze&&be(se[ge],ge,se)!==!1;);return se}function rY(se,be){for(var ge=se==null?0:se.length;ge--&&be(se[ge],ge,se)!==!1;);return se}function Zk(se,be){for(var ge=-1,Ze=se==null?0:se.length;++ge<Ze;)if(!be(se[ge],ge,se))return!1;return!0}function hl(se,be){for(var ge=-1,Ze=se==null?0:se.length,Et=0,lr=[];++ge<Ze;){var Nn=se[ge];be(Nn,ge,se)&&(lr[Et++]=Nn)}return lr}function ng(se,be){var ge=se==null?0:se.length;return!!ge&&ff(se,be,0)>-1}function Rb(se,be,ge){for(var Ze=-1,Et=se==null?0:se.length;++Ze<Et;)if(ge(be,se[Ze]))return!0;return!1}function jr(se,be){for(var ge=-1,Ze=se==null?0:se.length,Et=Array(Ze);++ge<Ze;)Et[ge]=be(se[ge],ge,se);return Et}function dl(se,be){for(var ge=-1,Ze=be.length,Et=se.length;++ge<Ze;)se[Et+ge]=be[ge];return se}function Pb(se,be,ge,Ze){var Et=-1,lr=se==null?0:se.length;for(Ze&&lr&&(ge=se[++Et]);++Et<lr;)ge=be(ge,se[Et],Et,se);return ge}function nY(se,be,ge,Ze){var Et=se==null?0:se.length;for(Ze&&Et&&(ge=se[--Et]);Et--;)ge=be(ge,se[Et],Et,se);return ge}function Ob(se,be){for(var ge=-1,Ze=se==null?0:se.length;++ge<Ze;)if(be(se[ge],ge,se))return!0;return!1}var iY=Fb("length");function aY(se){return se.split("")}function oY(se){return se.match(cb)||[]}function Jk(se,be,ge){var Ze;return ge(se,function(Et,lr,Nn){if(be(Et,lr,Nn))return Ze=lr,!1}),Ze}function ig(se,be,ge,Ze){for(var Et=se.length,lr=ge+(Ze?1:-1);Ze?lr--:++lr<Et;)if(be(se[lr],lr,se))return lr;return-1}function ff(se,be,ge){return be===be?_Y(se,be,ge):ig(se,Qk,ge)}function sY(se,be,ge,Ze){for(var Et=ge-1,lr=se.length;++Et<lr;)if(Ze(se[Et],be))return Et;return-1}function Qk(se){return se!==se}function e3(se,be){var ge=se==null?0:se.length;return ge?Nb(se,be)/ge:G}function Fb(se){return function(be){return be==null?r:be[se]}}function kb(se){return function(be){return se==null?r:se[be]}}function t3(se,be,ge,Ze,Et){return Et(se,function(lr,Nn,wr){ge=Ze?(Ze=!1,lr):be(ge,lr,Nn,wr)}),ge}function lY(se,be){var ge=se.length;for(se.sort(be);ge--;)se[ge]=se[ge].value;return se}function Nb(se,be){for(var ge,Ze=-1,Et=se.length;++Ze<Et;){var lr=be(se[Ze]);lr!==r&&(ge=ge===r?lr:ge+lr)}return ge}function Lb(se,be){for(var ge=-1,Ze=Array(se);++ge<se;)Ze[ge]=be(ge);return Ze}function uY(se,be){return jr(be,function(ge){return[ge,se[ge]]})}function r3(se){return se&&se.slice(0,o3(se)+1).replace(aa,"")}function Aa(se){return function(be){return se(be)}}function Mb(se,be){return jr(be,function(ge){return se[ge]})}function $d(se,be){return se.has(be)}function n3(se,be){for(var ge=-1,Ze=se.length;++ge<Ze&&ff(be,se[ge],0)>-1;);return ge}function i3(se,be){for(var ge=se.length;ge--&&ff(be,se[ge],0)>-1;);return ge}function cY(se,be){for(var ge=se.length,Ze=0;ge--;)se[ge]===be&&++Ze;return Ze}var fY=kb(Yz),hY=kb(qz);function dY(se){return"\\"+Zz[se]}function pY(se,be){return se==null?r:se[be]}function hf(se){return Hz.test(se)}function vY(se){return Xz.test(se)}function gY(se){for(var be,ge=[];!(be=se.next()).done;)ge.push(be.value);return ge}function Bb(se){var be=-1,ge=Array(se.size);return se.forEach(function(Ze,Et){ge[++be]=[Et,Ze]}),ge}function a3(se,be){return function(ge){return se(be(ge))}}function pl(se,be){for(var ge=-1,Ze=se.length,Et=0,lr=[];++ge<Ze;){var Nn=se[ge];(Nn===be||Nn===u)&&(se[ge]=u,lr[Et++]=ge)}return lr}function ag(se){var be=-1,ge=Array(se.size);return se.forEach(function(Ze){ge[++be]=Ze}),ge}function mY(se){var be=-1,ge=Array(se.size);return se.forEach(function(Ze){ge[++be]=[Ze,Ze]}),ge}function _Y(se,be,ge){for(var Ze=ge-1,Et=se.length;++Ze<Et;)if(se[Ze]===be)return Ze;return-1}function yY(se,be,ge){for(var Ze=ge+1;Ze--;)if(se[Ze]===be)return Ze;return Ze}function df(se){return hf(se)?bY(se):iY(se)}function vo(se){return hf(se)?EY(se):aY(se)}function o3(se){for(var be=se.length;be--&&Ou.test(se.charAt(be)););return be}var xY=kb(Kz);function bY(se){for(var be=Ab.lastIndex=0;Ab.test(se);)++be;return be}function EY(se){return se.match(Ab)||[]}function wY(se){return se.match(Vz)||[]}var SY=function se(be){be=be==null?ci:pf.defaults(ci.Object(),be,pf.pick(ci,Wz));var ge=be.Array,Ze=be.Date,Et=be.Error,lr=be.Function,Nn=be.Math,wr=be.Object,Db=be.RegExp,CY=be.String,Ya=be.TypeError,og=ge.prototype,AY=lr.prototype,vf=wr.prototype,sg=be["__core-js_shared__"],lg=AY.toString,pr=vf.hasOwnProperty,TY=0,s3=function(){var y=/[^.]+$/.exec(sg&&sg.keys&&sg.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),ug=vf.toString,IY=lg.call(wr),RY=ci._,PY=Db("^"+lg.call(pr).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cg=Hk?be.Buffer:r,vl=be.Symbol,fg=be.Uint8Array,l3=cg?cg.allocUnsafe:r,hg=a3(wr.getPrototypeOf,wr),u3=wr.create,c3=vf.propertyIsEnumerable,dg=og.splice,f3=vl?vl.isConcatSpreadable:r,Gd=vl?vl.iterator:r,Nu=vl?vl.toStringTag:r,pg=function(){try{var y=Uu(wr,"defineProperty");return y({},"",{}),y}catch{}}(),OY=be.clearTimeout!==ci.clearTimeout&&be.clearTimeout,FY=Ze&&Ze.now!==ci.Date.now&&Ze.now,kY=be.setTimeout!==ci.setTimeout&&be.setTimeout,vg=Nn.ceil,gg=Nn.floor,Ub=wr.getOwnPropertySymbols,NY=cg?cg.isBuffer:r,h3=be.isFinite,LY=og.join,MY=a3(wr.keys,wr),Ln=Nn.max,Ai=Nn.min,BY=Ze.now,DY=be.parseInt,d3=Nn.random,UY=og.reverse,jb=Uu(be,"DataView"),Vd=Uu(be,"Map"),$b=Uu(be,"Promise"),gf=Uu(be,"Set"),Hd=Uu(be,"WeakMap"),Xd=Uu(wr,"create"),mg=Hd&&new Hd,mf={},jY=ju(jb),$Y=ju(Vd),GY=ju($b),VY=ju(gf),HY=ju(Hd),_g=vl?vl.prototype:r,Wd=_g?_g.valueOf:r,p3=_g?_g.toString:r;function X(y){if(sn(y)&&!St(y)&&!(y instanceof Wt)){if(y instanceof qa)return y;if(pr.call(y,"__wrapped__"))return v4(y)}return new qa(y)}var _f=function(){function y(){}return function(w){if(!Jr(w))return{};if(u3)return u3(w);y.prototype=w;var T=new y;return y.prototype=r,T}}();function yg(){}function qa(y,w){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=r}X.templateSettings={escape:Xa,evaluate:Ho,interpolate:Gi,variable:"",imports:{_:X}},X.prototype=yg.prototype,X.prototype.constructor=X,qa.prototype=_f(yg.prototype),qa.prototype.constructor=qa;function Wt(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function XY(){var y=new Wt(this.__wrapped__);return y.__actions__=oa(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=oa(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=oa(this.__views__),y}function WY(){if(this.__filtered__){var y=new Wt(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function zY(){var y=this.__wrapped__.value(),w=this.__dir__,T=St(y),k=w<0,D=T?y.length:0,q=aK(0,D,this.__views__),Q=q.start,ie=q.end,fe=ie-Q,Ce=k?ie:Q-1,Ae=this.__iteratees__,Ie=Ae.length,He=0,nt=Ai(fe,this.__takeCount__);if(!T||!k&&D==fe&&nt==fe)return D3(y,this.__actions__);var ht=[];e:for(;fe--&&He<nt;){Ce+=w;for(var Lt=-1,dt=y[Ce];++Lt<Ie;){var Gt=Ae[Lt],Kt=Gt.iteratee,Ra=Gt.type,zi=Kt(dt);if(Ra==B)dt=zi;else if(!zi){if(Ra==N)continue e;break e}}ht[He++]=dt}return ht}Wt.prototype=_f(yg.prototype),Wt.prototype.constructor=Wt;function Lu(y){var w=-1,T=y==null?0:y.length;for(this.clear();++w<T;){var k=y[w];this.set(k[0],k[1])}}function YY(){this.__data__=Xd?Xd(null):{},this.size=0}function qY(y){var w=this.has(y)&&delete this.__data__[y];return this.size-=w?1:0,w}function KY(y){var w=this.__data__;if(Xd){var T=w[y];return T===c?r:T}return pr.call(w,y)?w[y]:r}function ZY(y){var w=this.__data__;return Xd?w[y]!==r:pr.call(w,y)}function JY(y,w){var T=this.__data__;return this.size+=this.has(y)?0:1,T[y]=Xd&&w===r?c:w,this}Lu.prototype.clear=YY,Lu.prototype.delete=qY,Lu.prototype.get=KY,Lu.prototype.has=ZY,Lu.prototype.set=JY;function As(y){var w=-1,T=y==null?0:y.length;for(this.clear();++w<T;){var k=y[w];this.set(k[0],k[1])}}function QY(){this.__data__=[],this.size=0}function eq(y){var w=this.__data__,T=xg(w,y);if(T<0)return!1;var k=w.length-1;return T==k?w.pop():dg.call(w,T,1),--this.size,!0}function tq(y){var w=this.__data__,T=xg(w,y);return T<0?r:w[T][1]}function rq(y){return xg(this.__data__,y)>-1}function nq(y,w){var T=this.__data__,k=xg(T,y);return k<0?(++this.size,T.push([y,w])):T[k][1]=w,this}As.prototype.clear=QY,As.prototype.delete=eq,As.prototype.get=tq,As.prototype.has=rq,As.prototype.set=nq;function Ts(y){var w=-1,T=y==null?0:y.length;for(this.clear();++w<T;){var k=y[w];this.set(k[0],k[1])}}function iq(){this.size=0,this.__data__={hash:new Lu,map:new(Vd||As),string:new Lu}}function aq(y){var w=Fg(this,y).delete(y);return this.size-=w?1:0,w}function oq(y){return Fg(this,y).get(y)}function sq(y){return Fg(this,y).has(y)}function lq(y,w){var T=Fg(this,y),k=T.size;return T.set(y,w),this.size+=T.size==k?0:1,this}Ts.prototype.clear=iq,Ts.prototype.delete=aq,Ts.prototype.get=oq,Ts.prototype.has=sq,Ts.prototype.set=lq;function Mu(y){var w=-1,T=y==null?0:y.length;for(this.__data__=new Ts;++w<T;)this.add(y[w])}function uq(y){return this.__data__.set(y,c),this}function cq(y){return this.__data__.has(y)}Mu.prototype.add=Mu.prototype.push=uq,Mu.prototype.has=cq;function go(y){var w=this.__data__=new As(y);this.size=w.size}function fq(){this.__data__=new As,this.size=0}function hq(y){var w=this.__data__,T=w.delete(y);return this.size=w.size,T}function dq(y){return this.__data__.get(y)}function pq(y){return this.__data__.has(y)}function vq(y,w){var T=this.__data__;if(T instanceof As){var k=T.__data__;if(!Vd||k.length<i-1)return k.push([y,w]),this.size=++T.size,this;T=this.__data__=new Ts(k)}return T.set(y,w),this.size=T.size,this}go.prototype.clear=fq,go.prototype.delete=hq,go.prototype.get=dq,go.prototype.has=pq,go.prototype.set=vq;function v3(y,w){var T=St(y),k=!T&&$u(y),D=!T&&!k&&xl(y),q=!T&&!k&&!D&&Ef(y),Q=T||k||D||q,ie=Q?Lb(y.length,CY):[],fe=ie.length;for(var Ce in y)(w||pr.call(y,Ce))&&!(Q&&(Ce=="length"||D&&(Ce=="offset"||Ce=="parent")||q&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Os(Ce,fe)))&&ie.push(Ce);return ie}function g3(y){var w=y.length;return w?y[Jb(0,w-1)]:r}function gq(y,w){return kg(oa(y),Bu(w,0,y.length))}function mq(y){return kg(oa(y))}function Gb(y,w,T){(T!==r&&!mo(y[w],T)||T===r&&!(w in y))&&Is(y,w,T)}function zd(y,w,T){var k=y[w];(!(pr.call(y,w)&&mo(k,T))||T===r&&!(w in y))&&Is(y,w,T)}function xg(y,w){for(var T=y.length;T--;)if(mo(y[T][0],w))return T;return-1}function _q(y,w,T,k){return gl(y,function(D,q,Q){w(k,D,T(D),Q)}),k}function m3(y,w){return y&&zo(w,qn(w),y)}function yq(y,w){return y&&zo(w,la(w),y)}function Is(y,w,T){w=="__proto__"&&pg?pg(y,w,{configurable:!0,enumerable:!0,value:T,writable:!0}):y[w]=T}function Vb(y,w){for(var T=-1,k=w.length,D=ge(k),q=y==null;++T<k;)D[T]=q?r:wE(y,w[T]);return D}function Bu(y,w,T){return y===y&&(T!==r&&(y=y<=T?y:T),w!==r&&(y=y>=w?y:w)),y}function Ka(y,w,T,k,D,q){var Q,ie=w&f,fe=w&h,Ce=w&d;if(T&&(Q=D?T(y,k,D,q):T(y)),Q!==r)return Q;if(!Jr(y))return y;var Ae=St(y);if(Ae){if(Q=sK(y),!ie)return oa(y,Q)}else{var Ie=Ti(y),He=Ie==we||Ie==me;if(xl(y))return $3(y,ie);if(Ie==ze||Ie==te||He&&!D){if(Q=fe||He?{}:o4(y),!ie)return fe?Kq(y,yq(Q,y)):qq(y,m3(Q,y))}else{if(!Cr[Ie])return D?y:{};Q=lK(y,Ie,ie)}}q||(q=new go);var nt=q.get(y);if(nt)return nt;q.set(y,Q),L4(y)?y.forEach(function(dt){Q.add(Ka(dt,w,T,dt,y,q))}):k4(y)&&y.forEach(function(dt,Gt){Q.set(Gt,Ka(dt,w,T,Gt,y,q))});var ht=Ce?fe?uE:lE:fe?la:qn,Lt=Ae?r:ht(y);return za(Lt||y,function(dt,Gt){Lt&&(Gt=dt,dt=y[Gt]),zd(Q,Gt,Ka(dt,w,T,Gt,y,q))}),Q}function xq(y){var w=qn(y);return function(T){return _3(T,y,w)}}function _3(y,w,T){var k=T.length;if(y==null)return!k;for(y=wr(y);k--;){var D=T[k],q=w[D],Q=y[D];if(Q===r&&!(D in y)||!q(Q))return!1}return!0}function y3(y,w,T){if(typeof y!="function")throw new Ya(o);return e0(function(){y.apply(r,T)},w)}function Yd(y,w,T,k){var D=-1,q=ng,Q=!0,ie=y.length,fe=[],Ce=w.length;if(!ie)return fe;T&&(w=jr(w,Aa(T))),k?(q=Rb,Q=!1):w.length>=i&&(q=$d,Q=!1,w=new Mu(w));e:for(;++D<ie;){var Ae=y[D],Ie=T==null?Ae:T(Ae);if(Ae=k||Ae!==0?Ae:0,Q&&Ie===Ie){for(var He=Ce;He--;)if(w[He]===Ie)continue e;fe.push(Ae)}else q(w,Ie,k)||fe.push(Ae)}return fe}var gl=W3(Wo),x3=W3(Xb,!0);function bq(y,w){var T=!0;return gl(y,function(k,D,q){return T=!!w(k,D,q),T}),T}function bg(y,w,T){for(var k=-1,D=y.length;++k<D;){var q=y[k],Q=w(q);if(Q!=null&&(ie===r?Q===Q&&!Ia(Q):T(Q,ie)))var ie=Q,fe=q}return fe}function Eq(y,w,T,k){var D=y.length;for(T=Rt(T),T<0&&(T=-T>D?0:D+T),k=k===r||k>D?D:Rt(k),k<0&&(k+=D),k=T>k?0:B4(k);T<k;)y[T++]=w;return y}function b3(y,w){var T=[];return gl(y,function(k,D,q){w(k,D,q)&&T.push(k)}),T}function fi(y,w,T,k,D){var q=-1,Q=y.length;for(T||(T=cK),D||(D=[]);++q<Q;){var ie=y[q];w>0&&T(ie)?w>1?fi(ie,w-1,T,k,D):dl(D,ie):k||(D[D.length]=ie)}return D}var Hb=z3(),E3=z3(!0);function Wo(y,w){return y&&Hb(y,w,qn)}function Xb(y,w){return y&&E3(y,w,qn)}function Eg(y,w){return hl(w,function(T){return Fs(y[T])})}function Du(y,w){w=_l(w,y);for(var T=0,k=w.length;y!=null&&T<k;)y=y[Yo(w[T++])];return T&&T==k?y:r}function w3(y,w,T){var k=w(y);return St(y)?k:dl(k,T(y))}function Xi(y){return y==null?y===r?gr:Le:Nu&&Nu in wr(y)?iK(y):mK(y)}function Wb(y,w){return y>w}function wq(y,w){return y!=null&&pr.call(y,w)}function Sq(y,w){return y!=null&&w in wr(y)}function Cq(y,w,T){return y>=Ai(w,T)&&y<Ln(w,T)}function zb(y,w,T){for(var k=T?Rb:ng,D=y[0].length,q=y.length,Q=q,ie=ge(q),fe=1/0,Ce=[];Q--;){var Ae=y[Q];Q&&w&&(Ae=jr(Ae,Aa(w))),fe=Ai(Ae.length,fe),ie[Q]=!T&&(w||D>=120&&Ae.length>=120)?new Mu(Q&&Ae):r}Ae=y[0];var Ie=-1,He=ie[0];e:for(;++Ie<D&&Ce.length<fe;){var nt=Ae[Ie],ht=w?w(nt):nt;if(nt=T||nt!==0?nt:0,!(He?$d(He,ht):k(Ce,ht,T))){for(Q=q;--Q;){var Lt=ie[Q];if(!(Lt?$d(Lt,ht):k(y[Q],ht,T)))continue e}He&&He.push(ht),Ce.push(nt)}}return Ce}function Aq(y,w,T,k){return Wo(y,function(D,q,Q){w(k,T(D),q,Q)}),k}function qd(y,w,T){w=_l(w,y),y=c4(y,w);var k=y==null?y:y[Yo(Ja(w))];return k==null?r:Ca(k,y,T)}function S3(y){return sn(y)&&Xi(y)==te}function Tq(y){return sn(y)&&Xi(y)==ir}function Iq(y){return sn(y)&&Xi(y)==xe}function Kd(y,w,T,k,D){return y===w?!0:y==null||w==null||!sn(y)&&!sn(w)?y!==y&&w!==w:Rq(y,w,T,k,Kd,D)}function Rq(y,w,T,k,D,q){var Q=St(y),ie=St(w),fe=Q?ne:Ti(y),Ce=ie?ne:Ti(w);fe=fe==te?ze:fe,Ce=Ce==te?ze:Ce;var Ae=fe==ze,Ie=Ce==ze,He=fe==Ce;if(He&&xl(y)){if(!xl(w))return!1;Q=!0,Ae=!1}if(He&&!Ae)return q||(q=new go),Q||Ef(y)?n4(y,w,T,k,D,q):rK(y,w,fe,T,k,D,q);if(!(T&p)){var nt=Ae&&pr.call(y,"__wrapped__"),ht=Ie&&pr.call(w,"__wrapped__");if(nt||ht){var Lt=nt?y.value():y,dt=ht?w.value():w;return q||(q=new go),D(Lt,dt,T,k,q)}}return He?(q||(q=new go),nK(y,w,T,k,D,q)):!1}function Pq(y){return sn(y)&&Ti(y)==Pe}function Yb(y,w,T,k){var D=T.length,q=D,Q=!k;if(y==null)return!q;for(y=wr(y);D--;){var ie=T[D];if(Q&&ie[2]?ie[1]!==y[ie[0]]:!(ie[0]in y))return!1}for(;++D<q;){ie=T[D];var fe=ie[0],Ce=y[fe],Ae=ie[1];if(Q&&ie[2]){if(Ce===r&&!(fe in y))return!1}else{var Ie=new go;if(k)var He=k(Ce,Ae,fe,y,w,Ie);if(!(He===r?Kd(Ae,Ce,p|v,k,Ie):He))return!1}}return!0}function C3(y){if(!Jr(y)||hK(y))return!1;var w=Fs(y)?PY:gb;return w.test(ju(y))}function Oq(y){return sn(y)&&Xi(y)==Ct}function Fq(y){return sn(y)&&Ti(y)==it}function kq(y){return sn(y)&&Ug(y.length)&&!!Fr[Xi(y)]}function A3(y){return typeof y=="function"?y:y==null?ua:typeof y=="object"?St(y)?R3(y[0],y[1]):I3(y):Y4(y)}function qb(y){if(!Qd(y))return MY(y);var w=[];for(var T in wr(y))pr.call(y,T)&&T!="constructor"&&w.push(T);return w}function Nq(y){if(!Jr(y))return gK(y);var w=Qd(y),T=[];for(var k in y)k=="constructor"&&(w||!pr.call(y,k))||T.push(k);return T}function Kb(y,w){return y<w}function T3(y,w){var T=-1,k=sa(y)?ge(y.length):[];return gl(y,function(D,q,Q){k[++T]=w(D,q,Q)}),k}function I3(y){var w=fE(y);return w.length==1&&w[0][2]?l4(w[0][0],w[0][1]):function(T){return T===y||Yb(T,y,w)}}function R3(y,w){return dE(y)&&s4(w)?l4(Yo(y),w):function(T){var k=wE(T,y);return k===r&&k===w?SE(T,y):Kd(w,k,p|v)}}function wg(y,w,T,k,D){y!==w&&Hb(w,function(q,Q){if(D||(D=new go),Jr(q))Lq(y,w,Q,T,wg,k,D);else{var ie=k?k(vE(y,Q),q,Q+"",y,w,D):r;ie===r&&(ie=q),Gb(y,Q,ie)}},la)}function Lq(y,w,T,k,D,q,Q){var ie=vE(y,T),fe=vE(w,T),Ce=Q.get(fe);if(Ce){Gb(y,T,Ce);return}var Ae=q?q(ie,fe,T+"",y,w,Q):r,Ie=Ae===r;if(Ie){var He=St(fe),nt=!He&&xl(fe),ht=!He&&!nt&&Ef(fe);Ae=fe,He||nt||ht?St(ie)?Ae=ie:vn(ie)?Ae=oa(ie):nt?(Ie=!1,Ae=$3(fe,!0)):ht?(Ie=!1,Ae=G3(fe,!0)):Ae=[]:t0(fe)||$u(fe)?(Ae=ie,$u(ie)?Ae=D4(ie):(!Jr(ie)||Fs(ie))&&(Ae=o4(fe))):Ie=!1}Ie&&(Q.set(fe,Ae),D(Ae,fe,k,q,Q),Q.delete(fe)),Gb(y,T,Ae)}function P3(y,w){var T=y.length;if(T)return w+=w<0?T:0,Os(w,T)?y[w]:r}function O3(y,w,T){w.length?w=jr(w,function(q){return St(q)?function(Q){return Du(Q,q.length===1?q[0]:q)}:q}):w=[ua];var k=-1;w=jr(w,Aa(ft()));var D=T3(y,function(q,Q,ie){var fe=jr(w,function(Ce){return Ce(q)});return{criteria:fe,index:++k,value:q}});return lY(D,function(q,Q){return Yq(q,Q,T)})}function Mq(y,w){return F3(y,w,function(T,k){return SE(y,k)})}function F3(y,w,T){for(var k=-1,D=w.length,q={};++k<D;){var Q=w[k],ie=Du(y,Q);T(ie,Q)&&Zd(q,_l(Q,y),ie)}return q}function Bq(y){return function(w){return Du(w,y)}}function Zb(y,w,T,k){var D=k?sY:ff,q=-1,Q=w.length,ie=y;for(y===w&&(w=oa(w)),T&&(ie=jr(y,Aa(T)));++q<Q;)for(var fe=0,Ce=w[q],Ae=T?T(Ce):Ce;(fe=D(ie,Ae,fe,k))>-1;)ie!==y&&dg.call(ie,fe,1),dg.call(y,fe,1);return y}function k3(y,w){for(var T=y?w.length:0,k=T-1;T--;){var D=w[T];if(T==k||D!==q){var q=D;Os(D)?dg.call(y,D,1):tE(y,D)}}return y}function Jb(y,w){return y+gg(d3()*(w-y+1))}function Dq(y,w,T,k){for(var D=-1,q=Ln(vg((w-y)/(T||1)),0),Q=ge(q);q--;)Q[k?q:++D]=y,y+=T;return Q}function Qb(y,w){var T="";if(!y||w<1||w>ee)return T;do w%2&&(T+=y),w=gg(w/2),w&&(y+=y);while(w);return T}function Bt(y,w){return gE(u4(y,w,ua),y+"")}function Uq(y){return g3(wf(y))}function jq(y,w){var T=wf(y);return kg(T,Bu(w,0,T.length))}function Zd(y,w,T,k){if(!Jr(y))return y;w=_l(w,y);for(var D=-1,q=w.length,Q=q-1,ie=y;ie!=null&&++D<q;){var fe=Yo(w[D]),Ce=T;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return y;if(D!=Q){var Ae=ie[fe];Ce=k?k(Ae,fe,ie):r,Ce===r&&(Ce=Jr(Ae)?Ae:Os(w[D+1])?[]:{})}zd(ie,fe,Ce),ie=ie[fe]}return y}var N3=mg?function(y,w){return mg.set(y,w),y}:ua,$q=pg?function(y,w){return pg(y,"toString",{configurable:!0,enumerable:!1,value:AE(w),writable:!0})}:ua;function Gq(y){return kg(wf(y))}function Za(y,w,T){var k=-1,D=y.length;w<0&&(w=-w>D?0:D+w),T=T>D?D:T,T<0&&(T+=D),D=w>T?0:T-w>>>0,w>>>=0;for(var q=ge(D);++k<D;)q[k]=y[k+w];return q}function Vq(y,w){var T;return gl(y,function(k,D,q){return T=w(k,D,q),!T}),!!T}function Sg(y,w,T){var k=0,D=y==null?k:y.length;if(typeof w=="number"&&w===w&&D<=$){for(;k<D;){var q=k+D>>>1,Q=y[q];Q!==null&&!Ia(Q)&&(T?Q<=w:Q<w)?k=q+1:D=q}return D}return eE(y,w,ua,T)}function eE(y,w,T,k){var D=0,q=y==null?0:y.length;if(q===0)return 0;w=T(w);for(var Q=w!==w,ie=w===null,fe=Ia(w),Ce=w===r;D<q;){var Ae=gg((D+q)/2),Ie=T(y[Ae]),He=Ie!==r,nt=Ie===null,ht=Ie===Ie,Lt=Ia(Ie);if(Q)var dt=k||ht;else Ce?dt=ht&&(k||He):ie?dt=ht&&He&&(k||!nt):fe?dt=ht&&He&&!nt&&(k||!Lt):nt||Lt?dt=!1:dt=k?Ie<=w:Ie<w;dt?D=Ae+1:q=Ae}return Ai(q,V)}function L3(y,w){for(var T=-1,k=y.length,D=0,q=[];++T<k;){var Q=y[T],ie=w?w(Q):Q;if(!T||!mo(ie,fe)){var fe=ie;q[D++]=Q===0?0:Q}}return q}function M3(y){return typeof y=="number"?y:Ia(y)?G:+y}function Ta(y){if(typeof y=="string")return y;if(St(y))return jr(y,Ta)+"";if(Ia(y))return p3?p3.call(y):"";var w=y+"";return w=="0"&&1/y==-H?"-0":w}function ml(y,w,T){var k=-1,D=ng,q=y.length,Q=!0,ie=[],fe=ie;if(T)Q=!1,D=Rb;else if(q>=i){var Ce=w?null:eK(y);if(Ce)return ag(Ce);Q=!1,D=$d,fe=new Mu}else fe=w?[]:ie;e:for(;++k<q;){var Ae=y[k],Ie=w?w(Ae):Ae;if(Ae=T||Ae!==0?Ae:0,Q&&Ie===Ie){for(var He=fe.length;He--;)if(fe[He]===Ie)continue e;w&&fe.push(Ie),ie.push(Ae)}else D(fe,Ie,T)||(fe!==ie&&fe.push(Ie),ie.push(Ae))}return ie}function tE(y,w){return w=_l(w,y),y=c4(y,w),y==null||delete y[Yo(Ja(w))]}function B3(y,w,T,k){return Zd(y,w,T(Du(y,w)),k)}function Cg(y,w,T,k){for(var D=y.length,q=k?D:-1;(k?q--:++q<D)&&w(y[q],q,y););return T?Za(y,k?0:q,k?q+1:D):Za(y,k?q+1:0,k?D:q)}function D3(y,w){var T=y;return T instanceof Wt&&(T=T.value()),Pb(w,function(k,D){return D.func.apply(D.thisArg,dl([k],D.args))},T)}function rE(y,w,T){var k=y.length;if(k<2)return k?ml(y[0]):[];for(var D=-1,q=ge(k);++D<k;)for(var Q=y[D],ie=-1;++ie<k;)ie!=D&&(q[D]=Yd(q[D]||Q,y[ie],w,T));return ml(fi(q,1),w,T)}function U3(y,w,T){for(var k=-1,D=y.length,q=w.length,Q={};++k<D;){var ie=k<q?w[k]:r;T(Q,y[k],ie)}return Q}function nE(y){return vn(y)?y:[]}function iE(y){return typeof y=="function"?y:ua}function _l(y,w){return St(y)?y:dE(y,w)?[y]:p4(hr(y))}var Hq=Bt;function yl(y,w,T){var k=y.length;return T=T===r?k:T,!w&&T>=k?y:Za(y,w,T)}var j3=OY||function(y){return ci.clearTimeout(y)};function $3(y,w){if(w)return y.slice();var T=y.length,k=l3?l3(T):new y.constructor(T);return y.copy(k),k}function aE(y){var w=new y.constructor(y.byteLength);return new fg(w).set(new fg(y)),w}function Xq(y,w){var T=w?aE(y.buffer):y.buffer;return new y.constructor(T,y.byteOffset,y.byteLength)}function Wq(y){var w=new y.constructor(y.source,Kv.exec(y));return w.lastIndex=y.lastIndex,w}function zq(y){return Wd?wr(Wd.call(y)):{}}function G3(y,w){var T=w?aE(y.buffer):y.buffer;return new y.constructor(T,y.byteOffset,y.length)}function V3(y,w){if(y!==w){var T=y!==r,k=y===null,D=y===y,q=Ia(y),Q=w!==r,ie=w===null,fe=w===w,Ce=Ia(w);if(!ie&&!Ce&&!q&&y>w||q&&Q&&fe&&!ie&&!Ce||k&&Q&&fe||!T&&fe||!D)return 1;if(!k&&!q&&!Ce&&y<w||Ce&&T&&D&&!k&&!q||ie&&T&&D||!Q&&D||!fe)return-1}return 0}function Yq(y,w,T){for(var k=-1,D=y.criteria,q=w.criteria,Q=D.length,ie=T.length;++k<Q;){var fe=V3(D[k],q[k]);if(fe){if(k>=ie)return fe;var Ce=T[k];return fe*(Ce=="desc"?-1:1)}}return y.index-w.index}function H3(y,w,T,k){for(var D=-1,q=y.length,Q=T.length,ie=-1,fe=w.length,Ce=Ln(q-Q,0),Ae=ge(fe+Ce),Ie=!k;++ie<fe;)Ae[ie]=w[ie];for(;++D<Q;)(Ie||D<q)&&(Ae[T[D]]=y[D]);for(;Ce--;)Ae[ie++]=y[D++];return Ae}function X3(y,w,T,k){for(var D=-1,q=y.length,Q=-1,ie=T.length,fe=-1,Ce=w.length,Ae=Ln(q-ie,0),Ie=ge(Ae+Ce),He=!k;++D<Ae;)Ie[D]=y[D];for(var nt=D;++fe<Ce;)Ie[nt+fe]=w[fe];for(;++Q<ie;)(He||D<q)&&(Ie[nt+T[Q]]=y[D++]);return Ie}function oa(y,w){var T=-1,k=y.length;for(w||(w=ge(k));++T<k;)w[T]=y[T];return w}function zo(y,w,T,k){var D=!T;T||(T={});for(var q=-1,Q=w.length;++q<Q;){var ie=w[q],fe=k?k(T[ie],y[ie],ie,T,y):r;fe===r&&(fe=y[ie]),D?Is(T,ie,fe):zd(T,ie,fe)}return T}function qq(y,w){return zo(y,hE(y),w)}function Kq(y,w){return zo(y,i4(y),w)}function Ag(y,w){return function(T,k){var D=St(T)?tY:_q,q=w?w():{};return D(T,y,ft(k,2),q)}}function yf(y){return Bt(function(w,T){var k=-1,D=T.length,q=D>1?T[D-1]:r,Q=D>2?T[2]:r;for(q=y.length>3&&typeof q=="function"?(D--,q):r,Q&&Wi(T[0],T[1],Q)&&(q=D<3?r:q,D=1),w=wr(w);++k<D;){var ie=T[k];ie&&y(w,ie,k,q)}return w})}function W3(y,w){return function(T,k){if(T==null)return T;if(!sa(T))return y(T,k);for(var D=T.length,q=w?D:-1,Q=wr(T);(w?q--:++q<D)&&k(Q[q],q,Q)!==!1;);return T}}function z3(y){return function(w,T,k){for(var D=-1,q=wr(w),Q=k(w),ie=Q.length;ie--;){var fe=Q[y?ie:++D];if(T(q[fe],fe,q)===!1)break}return w}}function Zq(y,w,T){var k=w&m,D=Jd(y);function q(){var Q=this&&this!==ci&&this instanceof q?D:y;return Q.apply(k?T:this,arguments)}return q}function Y3(y){return function(w){w=hr(w);var T=hf(w)?vo(w):r,k=T?T[0]:w.charAt(0),D=T?yl(T,1).join(""):w.slice(1);return k[y]()+D}}function xf(y){return function(w){return Pb(W4(X4(w).replace($z,"")),y,"")}}function Jd(y){return function(){var w=arguments;switch(w.length){case 0:return new y;case 1:return new y(w[0]);case 2:return new y(w[0],w[1]);case 3:return new y(w[0],w[1],w[2]);case 4:return new y(w[0],w[1],w[2],w[3]);case 5:return new y(w[0],w[1],w[2],w[3],w[4]);case 6:return new y(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new y(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var T=_f(y.prototype),k=y.apply(T,w);return Jr(k)?k:T}}function Jq(y,w,T){var k=Jd(y);function D(){for(var q=arguments.length,Q=ge(q),ie=q,fe=bf(D);ie--;)Q[ie]=arguments[ie];var Ce=q<3&&Q[0]!==fe&&Q[q-1]!==fe?[]:pl(Q,fe);if(q-=Ce.length,q<T)return Q3(y,w,Tg,D.placeholder,r,Q,Ce,r,r,T-q);var Ae=this&&this!==ci&&this instanceof D?k:y;return Ca(Ae,this,Q)}return D}function q3(y){return function(w,T,k){var D=wr(w);if(!sa(w)){var q=ft(T,3);w=qn(w),T=function(ie){return q(D[ie],ie,D)}}var Q=y(w,T,k);return Q>-1?D[q?w[Q]:Q]:r}}function K3(y){return Ps(function(w){var T=w.length,k=T,D=qa.prototype.thru;for(y&&w.reverse();k--;){var q=w[k];if(typeof q!="function")throw new Ya(o);if(D&&!Q&&Og(q)=="wrapper")var Q=new qa([],!0)}for(k=Q?k:T;++k<T;){q=w[k];var ie=Og(q),fe=ie=="wrapper"?cE(q):r;fe&&pE(fe[0])&&fe[1]==(C|x|b|A)&&!fe[4].length&&fe[9]==1?Q=Q[Og(fe[0])].apply(Q,fe[3]):Q=q.length==1&&pE(q)?Q[ie]():Q.thru(q)}return function(){var Ce=arguments,Ae=Ce[0];if(Q&&Ce.length==1&&St(Ae))return Q.plant(Ae).value();for(var Ie=0,He=T?w[Ie].apply(this,Ce):Ae;++Ie<T;)He=w[Ie].call(this,He);return He}})}function Tg(y,w,T,k,D,q,Q,ie,fe,Ce){var Ae=w&C,Ie=w&m,He=w&_,nt=w&(x|E),ht=w&I,Lt=He?r:Jd(y);function dt(){for(var Gt=arguments.length,Kt=ge(Gt),Ra=Gt;Ra--;)Kt[Ra]=arguments[Ra];if(nt)var zi=bf(dt),Pa=cY(Kt,zi);if(k&&(Kt=H3(Kt,k,D,nt)),q&&(Kt=X3(Kt,q,Q,nt)),Gt-=Pa,nt&&Gt<Ce){var gn=pl(Kt,zi);return Q3(y,w,Tg,dt.placeholder,T,Kt,gn,ie,fe,Ce-Gt)}var _o=Ie?T:this,Ns=He?_o[y]:y;return Gt=Kt.length,ie?Kt=_K(Kt,ie):ht&&Gt>1&&Kt.reverse(),Ae&&fe<Gt&&(Kt.length=fe),this&&this!==ci&&this instanceof dt&&(Ns=Lt||Jd(Ns)),Ns.apply(_o,Kt)}return dt}function Z3(y,w){return function(T,k){return Aq(T,y,w(k),{})}}function Ig(y,w){return function(T,k){var D;if(T===r&&k===r)return w;if(T!==r&&(D=T),k!==r){if(D===r)return k;typeof T=="string"||typeof k=="string"?(T=Ta(T),k=Ta(k)):(T=M3(T),k=M3(k)),D=y(T,k)}return D}}function oE(y){return Ps(function(w){return w=jr(w,Aa(ft())),Bt(function(T){var k=this;return y(w,function(D){return Ca(D,k,T)})})})}function Rg(y,w){w=w===r?" ":Ta(w);var T=w.length;if(T<2)return T?Qb(w,y):w;var k=Qb(w,vg(y/df(w)));return hf(w)?yl(vo(k),0,y).join(""):k.slice(0,y)}function Qq(y,w,T,k){var D=w&m,q=Jd(y);function Q(){for(var ie=-1,fe=arguments.length,Ce=-1,Ae=k.length,Ie=ge(Ae+fe),He=this&&this!==ci&&this instanceof Q?q:y;++Ce<Ae;)Ie[Ce]=k[Ce];for(;fe--;)Ie[Ce++]=arguments[++ie];return Ca(He,D?T:this,Ie)}return Q}function J3(y){return function(w,T,k){return k&&typeof k!="number"&&Wi(w,T,k)&&(T=k=r),w=ks(w),T===r?(T=w,w=0):T=ks(T),k=k===r?w<T?1:-1:ks(k),Dq(w,T,k,y)}}function Pg(y){return function(w,T){return typeof w=="string"&&typeof T=="string"||(w=Qa(w),T=Qa(T)),y(w,T)}}function Q3(y,w,T,k,D,q,Q,ie,fe,Ce){var Ae=w&x,Ie=Ae?Q:r,He=Ae?r:Q,nt=Ae?q:r,ht=Ae?r:q;w|=Ae?b:S,w&=~(Ae?S:b),w&g||(w&=~(m|_));var Lt=[y,w,D,nt,Ie,ht,He,ie,fe,Ce],dt=T.apply(r,Lt);return pE(y)&&f4(dt,Lt),dt.placeholder=k,h4(dt,y,w)}function sE(y){var w=Nn[y];return function(T,k){if(T=Qa(T),k=k==null?0:Ai(Rt(k),292),k&&h3(T)){var D=(hr(T)+"e").split("e"),q=w(D[0]+"e"+(+D[1]+k));return D=(hr(q)+"e").split("e"),+(D[0]+"e"+(+D[1]-k))}return w(T)}}var eK=gf&&1/ag(new gf([,-0]))[1]==H?function(y){return new gf(y)}:RE;function e4(y){return function(w){var T=Ti(w);return T==Pe?Bb(w):T==it?mY(w):uY(w,y(w))}}function Rs(y,w,T,k,D,q,Q,ie){var fe=w&_;if(!fe&&typeof y!="function")throw new Ya(o);var Ce=k?k.length:0;if(Ce||(w&=~(b|S),k=D=r),Q=Q===r?Q:Ln(Rt(Q),0),ie=ie===r?ie:Rt(ie),Ce-=D?D.length:0,w&S){var Ae=k,Ie=D;k=D=r}var He=fe?r:cE(y),nt=[y,w,T,k,D,Ae,Ie,q,Q,ie];if(He&&vK(nt,He),y=nt[0],w=nt[1],T=nt[2],k=nt[3],D=nt[4],ie=nt[9]=nt[9]===r?fe?0:y.length:Ln(nt[9]-Ce,0),!ie&&w&(x|E)&&(w&=~(x|E)),!w||w==m)var ht=Zq(y,w,T);else w==x||w==E?ht=Jq(y,w,ie):(w==b||w==(m|b))&&!D.length?ht=Qq(y,w,T,k):ht=Tg.apply(r,nt);var Lt=He?N3:f4;return h4(Lt(ht,nt),y,w)}function t4(y,w,T,k){return y===r||mo(y,vf[T])&&!pr.call(k,T)?w:y}function r4(y,w,T,k,D,q){return Jr(y)&&Jr(w)&&(q.set(w,y),wg(y,w,r,r4,q),q.delete(w)),y}function tK(y){return t0(y)?r:y}function n4(y,w,T,k,D,q){var Q=T&p,ie=y.length,fe=w.length;if(ie!=fe&&!(Q&&fe>ie))return!1;var Ce=q.get(y),Ae=q.get(w);if(Ce&&Ae)return Ce==w&&Ae==y;var Ie=-1,He=!0,nt=T&v?new Mu:r;for(q.set(y,w),q.set(w,y);++Ie<ie;){var ht=y[Ie],Lt=w[Ie];if(k)var dt=Q?k(Lt,ht,Ie,w,y,q):k(ht,Lt,Ie,y,w,q);if(dt!==r){if(dt)continue;He=!1;break}if(nt){if(!Ob(w,function(Gt,Kt){if(!$d(nt,Kt)&&(ht===Gt||D(ht,Gt,T,k,q)))return nt.push(Kt)})){He=!1;break}}else if(!(ht===Lt||D(ht,Lt,T,k,q))){He=!1;break}}return q.delete(y),q.delete(w),He}function rK(y,w,T,k,D,q,Q){switch(T){case It:if(y.byteLength!=w.byteLength||y.byteOffset!=w.byteOffset)return!1;y=y.buffer,w=w.buffer;case ir:return!(y.byteLength!=w.byteLength||!q(new fg(y),new fg(w)));case le:case xe:case je:return mo(+y,+w);case ye:return y.name==w.name&&y.message==w.message;case Ct:case lt:return y==w+"";case Pe:var ie=Bb;case it:var fe=k&p;if(ie||(ie=ag),y.size!=w.size&&!fe)return!1;var Ce=Q.get(y);if(Ce)return Ce==w;k|=v,Q.set(y,w);var Ae=n4(ie(y),ie(w),k,D,q,Q);return Q.delete(y),Ae;case _t:if(Wd)return Wd.call(y)==Wd.call(w)}return!1}function nK(y,w,T,k,D,q){var Q=T&p,ie=lE(y),fe=ie.length,Ce=lE(w),Ae=Ce.length;if(fe!=Ae&&!Q)return!1;for(var Ie=fe;Ie--;){var He=ie[Ie];if(!(Q?He in w:pr.call(w,He)))return!1}var nt=q.get(y),ht=q.get(w);if(nt&&ht)return nt==w&&ht==y;var Lt=!0;q.set(y,w),q.set(w,y);for(var dt=Q;++Ie<fe;){He=ie[Ie];var Gt=y[He],Kt=w[He];if(k)var Ra=Q?k(Kt,Gt,He,w,y,q):k(Gt,Kt,He,y,w,q);if(!(Ra===r?Gt===Kt||D(Gt,Kt,T,k,q):Ra)){Lt=!1;break}dt||(dt=He=="constructor")}if(Lt&&!dt){var zi=y.constructor,Pa=w.constructor;zi!=Pa&&"constructor"in y&&"constructor"in w&&!(typeof zi=="function"&&zi instanceof zi&&typeof Pa=="function"&&Pa instanceof Pa)&&(Lt=!1)}return q.delete(y),q.delete(w),Lt}function Ps(y){return gE(u4(y,r,_4),y+"")}function lE(y){return w3(y,qn,hE)}function uE(y){return w3(y,la,i4)}var cE=mg?function(y){return mg.get(y)}:RE;function Og(y){for(var w=y.name+"",T=mf[w],k=pr.call(mf,w)?T.length:0;k--;){var D=T[k],q=D.func;if(q==null||q==y)return D.name}return w}function bf(y){var w=pr.call(X,"placeholder")?X:y;return w.placeholder}function ft(){var y=X.iteratee||TE;return y=y===TE?A3:y,arguments.length?y(arguments[0],arguments[1]):y}function Fg(y,w){var T=y.__data__;return fK(w)?T[typeof w=="string"?"string":"hash"]:T.map}function fE(y){for(var w=qn(y),T=w.length;T--;){var k=w[T],D=y[k];w[T]=[k,D,s4(D)]}return w}function Uu(y,w){var T=pY(y,w);return C3(T)?T:r}function iK(y){var w=pr.call(y,Nu),T=y[Nu];try{y[Nu]=r;var k=!0}catch{}var D=ug.call(y);return k&&(w?y[Nu]=T:delete y[Nu]),D}var hE=Ub?function(y){return y==null?[]:(y=wr(y),hl(Ub(y),function(w){return c3.call(y,w)}))}:PE,i4=Ub?function(y){for(var w=[];y;)dl(w,hE(y)),y=hg(y);return w}:PE,Ti=Xi;(jb&&Ti(new jb(new ArrayBuffer(1)))!=It||Vd&&Ti(new Vd)!=Pe||$b&&Ti($b.resolve())!=ut||gf&&Ti(new gf)!=it||Hd&&Ti(new Hd)!=mr)&&(Ti=function(y){var w=Xi(y),T=w==ze?y.constructor:r,k=T?ju(T):"";if(k)switch(k){case jY:return It;case $Y:return Pe;case GY:return ut;case VY:return it;case HY:return mr}return w});function aK(y,w,T){for(var k=-1,D=T.length;++k<D;){var q=T[k],Q=q.size;switch(q.type){case"drop":y+=Q;break;case"dropRight":w-=Q;break;case"take":w=Ai(w,y+Q);break;case"takeRight":y=Ln(y,w-Q);break}}return{start:y,end:w}}function oK(y){var w=y.match(lb);return w?w[1].split(ub):[]}function a4(y,w,T){w=_l(w,y);for(var k=-1,D=w.length,q=!1;++k<D;){var Q=Yo(w[k]);if(!(q=y!=null&&T(y,Q)))break;y=y[Q]}return q||++k!=D?q:(D=y==null?0:y.length,!!D&&Ug(D)&&Os(Q,D)&&(St(y)||$u(y)))}function sK(y){var w=y.length,T=new y.constructor(w);return w&&typeof y[0]=="string"&&pr.call(y,"index")&&(T.index=y.index,T.input=y.input),T}function o4(y){return typeof y.constructor=="function"&&!Qd(y)?_f(hg(y)):{}}function lK(y,w,T){var k=y.constructor;switch(w){case ir:return aE(y);case le:case xe:return new k(+y);case It:return Xq(y,T);case Er:case _e:case Se:case Oe:case qe:case Ve:case at:case ar:case Or:return G3(y,T);case Pe:return new k;case je:case lt:return new k(y);case Ct:return Wq(y);case it:return new k;case _t:return zq(y)}}function uK(y,w){var T=w.length;if(!T)return y;var k=T-1;return w[k]=(T>1?"& ":"")+w[k],w=w.join(T>2?", ":" "),y.replace(Dd,`{
/* [wrapped with `+w+`] */
`)}function cK(y){return St(y)||$u(y)||!!(f3&&y&&y[f3])}function Os(y,w){var T=typeof y;return w=w??ee,!!w&&(T=="number"||T!="symbol"&&_b.test(y))&&y>-1&&y%1==0&&y<w}function Wi(y,w,T){if(!Jr(T))return!1;var k=typeof w;return(k=="number"?sa(T)&&Os(w,T.length):k=="string"&&w in T)?mo(T[w],y):!1}function dE(y,w){if(St(y))return!1;var T=typeof y;return T=="number"||T=="symbol"||T=="boolean"||y==null||Ia(y)?!0:Vi.test(y)||!ul.test(y)||w!=null&&y in wr(w)}function fK(y){var w=typeof y;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?y!=="__proto__":y===null}function pE(y){var w=Og(y),T=X[w];if(typeof T!="function"||!(w in Wt.prototype))return!1;if(y===T)return!0;var k=cE(T);return!!k&&y===k[0]}function hK(y){return!!s3&&s3 in y}var dK=sg?Fs:OE;function Qd(y){var w=y&&y.constructor,T=typeof w=="function"&&w.prototype||vf;return y===T}function s4(y){return y===y&&!Jr(y)}function l4(y,w){return function(T){return T==null?!1:T[y]===w&&(w!==r||y in wr(T))}}function pK(y){var w=Bg(y,function(k){return T.size===l&&T.clear(),k}),T=w.cache;return w}function vK(y,w){var T=y[1],k=w[1],D=T|k,q=D<(m|_|C),Q=k==C&&T==x||k==C&&T==A&&y[7].length<=w[8]||k==(C|A)&&w[7].length<=w[8]&&T==x;if(!(q||Q))return y;k&m&&(y[2]=w[2],D|=T&m?0:g);var ie=w[3];if(ie){var fe=y[3];y[3]=fe?H3(fe,ie,w[4]):ie,y[4]=fe?pl(y[3],u):w[4]}return ie=w[5],ie&&(fe=y[5],y[5]=fe?X3(fe,ie,w[6]):ie,y[6]=fe?pl(y[5],u):w[6]),ie=w[7],ie&&(y[7]=ie),k&C&&(y[8]=y[8]==null?w[8]:Ai(y[8],w[8])),y[9]==null&&(y[9]=w[9]),y[0]=w[0],y[1]=D,y}function gK(y){var w=[];if(y!=null)for(var T in wr(y))w.push(T);return w}function mK(y){return ug.call(y)}function u4(y,w,T){return w=Ln(w===r?y.length-1:w,0),function(){for(var k=arguments,D=-1,q=Ln(k.length-w,0),Q=ge(q);++D<q;)Q[D]=k[w+D];D=-1;for(var ie=ge(w+1);++D<w;)ie[D]=k[D];return ie[w]=T(Q),Ca(y,this,ie)}}function c4(y,w){return w.length<2?y:Du(y,Za(w,0,-1))}function _K(y,w){for(var T=y.length,k=Ai(w.length,T),D=oa(y);k--;){var q=w[k];y[k]=Os(q,T)?D[q]:r}return y}function vE(y,w){if(!(w==="constructor"&&typeof y[w]=="function")&&w!="__proto__")return y[w]}var f4=d4(N3),e0=kY||function(y,w){return ci.setTimeout(y,w)},gE=d4($q);function h4(y,w,T){var k=w+"";return gE(y,uK(k,yK(oK(k),T)))}function d4(y){var w=0,T=0;return function(){var k=BY(),D=F-(k-T);if(T=k,D>0){if(++w>=P)return arguments[0]}else w=0;return y.apply(r,arguments)}}function kg(y,w){var T=-1,k=y.length,D=k-1;for(w=w===r?k:w;++T<w;){var q=Jb(T,D),Q=y[q];y[q]=y[T],y[T]=Q}return y.length=w,y}var p4=pK(function(y){var w=[];return y.charCodeAt(0)===46&&w.push(""),y.replace(po,function(T,k,D,q){w.push(D?q.replace(hb,"$1"):k||T)}),w});function Yo(y){if(typeof y=="string"||Ia(y))return y;var w=y+"";return w=="0"&&1/y==-H?"-0":w}function ju(y){if(y!=null){try{return lg.call(y)}catch{}try{return y+""}catch{}}return""}function yK(y,w){return za(j,function(T){var k="_."+T[0];w&T[1]&&!ng(y,k)&&y.push(k)}),y.sort()}function v4(y){if(y instanceof Wt)return y.clone();var w=new qa(y.__wrapped__,y.__chain__);return w.__actions__=oa(y.__actions__),w.__index__=y.__index__,w.__values__=y.__values__,w}function xK(y,w,T){(T?Wi(y,w,T):w===r)?w=1:w=Ln(Rt(w),0);var k=y==null?0:y.length;if(!k||w<1)return[];for(var D=0,q=0,Q=ge(vg(k/w));D<k;)Q[q++]=Za(y,D,D+=w);return Q}function bK(y){for(var w=-1,T=y==null?0:y.length,k=0,D=[];++w<T;){var q=y[w];q&&(D[k++]=q)}return D}function EK(){var y=arguments.length;if(!y)return[];for(var w=ge(y-1),T=arguments[0],k=y;k--;)w[k-1]=arguments[k];return dl(St(T)?oa(T):[T],fi(w,1))}var wK=Bt(function(y,w){return vn(y)?Yd(y,fi(w,1,vn,!0)):[]}),SK=Bt(function(y,w){var T=Ja(w);return vn(T)&&(T=r),vn(y)?Yd(y,fi(w,1,vn,!0),ft(T,2)):[]}),CK=Bt(function(y,w){var T=Ja(w);return vn(T)&&(T=r),vn(y)?Yd(y,fi(w,1,vn,!0),r,T):[]});function AK(y,w,T){var k=y==null?0:y.length;return k?(w=T||w===r?1:Rt(w),Za(y,w<0?0:w,k)):[]}function TK(y,w,T){var k=y==null?0:y.length;return k?(w=T||w===r?1:Rt(w),w=k-w,Za(y,0,w<0?0:w)):[]}function IK(y,w){return y&&y.length?Cg(y,ft(w,3),!0,!0):[]}function RK(y,w){return y&&y.length?Cg(y,ft(w,3),!0):[]}function PK(y,w,T,k){var D=y==null?0:y.length;return D?(T&&typeof T!="number"&&Wi(y,w,T)&&(T=0,k=D),Eq(y,w,T,k)):[]}function g4(y,w,T){var k=y==null?0:y.length;if(!k)return-1;var D=T==null?0:Rt(T);return D<0&&(D=Ln(k+D,0)),ig(y,ft(w,3),D)}function m4(y,w,T){var k=y==null?0:y.length;if(!k)return-1;var D=k-1;return T!==r&&(D=Rt(T),D=T<0?Ln(k+D,0):Ai(D,k-1)),ig(y,ft(w,3),D,!0)}function _4(y){var w=y==null?0:y.length;return w?fi(y,1):[]}function OK(y){var w=y==null?0:y.length;return w?fi(y,H):[]}function FK(y,w){var T=y==null?0:y.length;return T?(w=w===r?1:Rt(w),fi(y,w)):[]}function kK(y){for(var w=-1,T=y==null?0:y.length,k={};++w<T;){var D=y[w];k[D[0]]=D[1]}return k}function y4(y){return y&&y.length?y[0]:r}function NK(y,w,T){var k=y==null?0:y.length;if(!k)return-1;var D=T==null?0:Rt(T);return D<0&&(D=Ln(k+D,0)),ff(y,w,D)}function LK(y){var w=y==null?0:y.length;return w?Za(y,0,-1):[]}var MK=Bt(function(y){var w=jr(y,nE);return w.length&&w[0]===y[0]?zb(w):[]}),BK=Bt(function(y){var w=Ja(y),T=jr(y,nE);return w===Ja(T)?w=r:T.pop(),T.length&&T[0]===y[0]?zb(T,ft(w,2)):[]}),DK=Bt(function(y){var w=Ja(y),T=jr(y,nE);return w=typeof w=="function"?w:r,w&&T.pop(),T.length&&T[0]===y[0]?zb(T,r,w):[]});function UK(y,w){return y==null?"":LY.call(y,w)}function Ja(y){var w=y==null?0:y.length;return w?y[w-1]:r}function jK(y,w,T){var k=y==null?0:y.length;if(!k)return-1;var D=k;return T!==r&&(D=Rt(T),D=D<0?Ln(k+D,0):Ai(D,k-1)),w===w?yY(y,w,D):ig(y,Qk,D,!0)}function $K(y,w){return y&&y.length?P3(y,Rt(w)):r}var GK=Bt(x4);function x4(y,w){return y&&y.length&&w&&w.length?Zb(y,w):y}function VK(y,w,T){return y&&y.length&&w&&w.length?Zb(y,w,ft(T,2)):y}function HK(y,w,T){return y&&y.length&&w&&w.length?Zb(y,w,r,T):y}var XK=Ps(function(y,w){var T=y==null?0:y.length,k=Vb(y,w);return k3(y,jr(w,function(D){return Os(D,T)?+D:D}).sort(V3)),k});function WK(y,w){var T=[];if(!(y&&y.length))return T;var k=-1,D=[],q=y.length;for(w=ft(w,3);++k<q;){var Q=y[k];w(Q,k,y)&&(T.push(Q),D.push(k))}return k3(y,D),T}function mE(y){return y==null?y:UY.call(y)}function zK(y,w,T){var k=y==null?0:y.length;return k?(T&&typeof T!="number"&&Wi(y,w,T)?(w=0,T=k):(w=w==null?0:Rt(w),T=T===r?k:Rt(T)),Za(y,w,T)):[]}function YK(y,w){return Sg(y,w)}function qK(y,w,T){return eE(y,w,ft(T,2))}function KK(y,w){var T=y==null?0:y.length;if(T){var k=Sg(y,w);if(k<T&&mo(y[k],w))return k}return-1}function ZK(y,w){return Sg(y,w,!0)}function JK(y,w,T){return eE(y,w,ft(T,2),!0)}function QK(y,w){var T=y==null?0:y.length;if(T){var k=Sg(y,w,!0)-1;if(mo(y[k],w))return k}return-1}function eZ(y){return y&&y.length?L3(y):[]}function tZ(y,w){return y&&y.length?L3(y,ft(w,2)):[]}function rZ(y){var w=y==null?0:y.length;return w?Za(y,1,w):[]}function nZ(y,w,T){return y&&y.length?(w=T||w===r?1:Rt(w),Za(y,0,w<0?0:w)):[]}function iZ(y,w,T){var k=y==null?0:y.length;return k?(w=T||w===r?1:Rt(w),w=k-w,Za(y,w<0?0:w,k)):[]}function aZ(y,w){return y&&y.length?Cg(y,ft(w,3),!1,!0):[]}function oZ(y,w){return y&&y.length?Cg(y,ft(w,3)):[]}var sZ=Bt(function(y){return ml(fi(y,1,vn,!0))}),lZ=Bt(function(y){var w=Ja(y);return vn(w)&&(w=r),ml(fi(y,1,vn,!0),ft(w,2))}),uZ=Bt(function(y){var w=Ja(y);return w=typeof w=="function"?w:r,ml(fi(y,1,vn,!0),r,w)});function cZ(y){return y&&y.length?ml(y):[]}function fZ(y,w){return y&&y.length?ml(y,ft(w,2)):[]}function hZ(y,w){return w=typeof w=="function"?w:r,y&&y.length?ml(y,r,w):[]}function _E(y){if(!(y&&y.length))return[];var w=0;return y=hl(y,function(T){if(vn(T))return w=Ln(T.length,w),!0}),Lb(w,function(T){return jr(y,Fb(T))})}function b4(y,w){if(!(y&&y.length))return[];var T=_E(y);return w==null?T:jr(T,function(k){return Ca(w,r,k)})}var dZ=Bt(function(y,w){return vn(y)?Yd(y,w):[]}),pZ=Bt(function(y){return rE(hl(y,vn))}),vZ=Bt(function(y){var w=Ja(y);return vn(w)&&(w=r),rE(hl(y,vn),ft(w,2))}),gZ=Bt(function(y){var w=Ja(y);return w=typeof w=="function"?w:r,rE(hl(y,vn),r,w)}),mZ=Bt(_E);function _Z(y,w){return U3(y||[],w||[],zd)}function yZ(y,w){return U3(y||[],w||[],Zd)}var xZ=Bt(function(y){var w=y.length,T=w>1?y[w-1]:r;return T=typeof T=="function"?(y.pop(),T):r,b4(y,T)});function E4(y){var w=X(y);return w.__chain__=!0,w}function bZ(y,w){return w(y),y}function Ng(y,w){return w(y)}var EZ=Ps(function(y){var w=y.length,T=w?y[0]:0,k=this.__wrapped__,D=function(q){return Vb(q,y)};return w>1||this.__actions__.length||!(k instanceof Wt)||!Os(T)?this.thru(D):(k=k.slice(T,+T+(w?1:0)),k.__actions__.push({func:Ng,args:[D],thisArg:r}),new qa(k,this.__chain__).thru(function(q){return w&&!q.length&&q.push(r),q}))});function wZ(){return E4(this)}function SZ(){return new qa(this.value(),this.__chain__)}function CZ(){this.__values__===r&&(this.__values__=M4(this.value()));var y=this.__index__>=this.__values__.length,w=y?r:this.__values__[this.__index__++];return{done:y,value:w}}function AZ(){return this}function TZ(y){for(var w,T=this;T instanceof yg;){var k=v4(T);k.__index__=0,k.__values__=r,w?D.__wrapped__=k:w=k;var D=k;T=T.__wrapped__}return D.__wrapped__=y,w}function IZ(){var y=this.__wrapped__;if(y instanceof Wt){var w=y;return this.__actions__.length&&(w=new Wt(this)),w=w.reverse(),w.__actions__.push({func:Ng,args:[mE],thisArg:r}),new qa(w,this.__chain__)}return this.thru(mE)}function RZ(){return D3(this.__wrapped__,this.__actions__)}var PZ=Ag(function(y,w,T){pr.call(y,T)?++y[T]:Is(y,T,1)});function OZ(y,w,T){var k=St(y)?Zk:bq;return T&&Wi(y,w,T)&&(w=r),k(y,ft(w,3))}function FZ(y,w){var T=St(y)?hl:b3;return T(y,ft(w,3))}var kZ=q3(g4),NZ=q3(m4);function LZ(y,w){return fi(Lg(y,w),1)}function MZ(y,w){return fi(Lg(y,w),H)}function BZ(y,w,T){return T=T===r?1:Rt(T),fi(Lg(y,w),T)}function w4(y,w){var T=St(y)?za:gl;return T(y,ft(w,3))}function S4(y,w){var T=St(y)?rY:x3;return T(y,ft(w,3))}var DZ=Ag(function(y,w,T){pr.call(y,T)?y[T].push(w):Is(y,T,[w])});function UZ(y,w,T,k){y=sa(y)?y:wf(y),T=T&&!k?Rt(T):0;var D=y.length;return T<0&&(T=Ln(D+T,0)),jg(y)?T<=D&&y.indexOf(w,T)>-1:!!D&&ff(y,w,T)>-1}var jZ=Bt(function(y,w,T){var k=-1,D=typeof w=="function",q=sa(y)?ge(y.length):[];return gl(y,function(Q){q[++k]=D?Ca(w,Q,T):qd(Q,w,T)}),q}),$Z=Ag(function(y,w,T){Is(y,T,w)});function Lg(y,w){var T=St(y)?jr:T3;return T(y,ft(w,3))}function GZ(y,w,T,k){return y==null?[]:(St(w)||(w=w==null?[]:[w]),T=k?r:T,St(T)||(T=T==null?[]:[T]),O3(y,w,T))}var VZ=Ag(function(y,w,T){y[T?0:1].push(w)},function(){return[[],[]]});function HZ(y,w,T){var k=St(y)?Pb:t3,D=arguments.length<3;return k(y,ft(w,4),T,D,gl)}function XZ(y,w,T){var k=St(y)?nY:t3,D=arguments.length<3;return k(y,ft(w,4),T,D,x3)}function WZ(y,w){var T=St(y)?hl:b3;return T(y,Dg(ft(w,3)))}function zZ(y){var w=St(y)?g3:Uq;return w(y)}function YZ(y,w,T){(T?Wi(y,w,T):w===r)?w=1:w=Rt(w);var k=St(y)?gq:jq;return k(y,w)}function qZ(y){var w=St(y)?mq:Gq;return w(y)}function KZ(y){if(y==null)return 0;if(sa(y))return jg(y)?df(y):y.length;var w=Ti(y);return w==Pe||w==it?y.size:qb(y).length}function ZZ(y,w,T){var k=St(y)?Ob:Vq;return T&&Wi(y,w,T)&&(w=r),k(y,ft(w,3))}var JZ=Bt(function(y,w){if(y==null)return[];var T=w.length;return T>1&&Wi(y,w[0],w[1])?w=[]:T>2&&Wi(w[0],w[1],w[2])&&(w=[w[0]]),O3(y,fi(w,1),[])}),Mg=FY||function(){return ci.Date.now()};function QZ(y,w){if(typeof w!="function")throw new Ya(o);return y=Rt(y),function(){if(--y<1)return w.apply(this,arguments)}}function C4(y,w,T){return w=T?r:w,w=y&&w==null?y.length:w,Rs(y,C,r,r,r,r,w)}function A4(y,w){var T;if(typeof w!="function")throw new Ya(o);return y=Rt(y),function(){return--y>0&&(T=w.apply(this,arguments)),y<=1&&(w=r),T}}var yE=Bt(function(y,w,T){var k=m;if(T.length){var D=pl(T,bf(yE));k|=b}return Rs(y,k,w,T,D)}),T4=Bt(function(y,w,T){var k=m|_;if(T.length){var D=pl(T,bf(T4));k|=b}return Rs(w,k,y,T,D)});function I4(y,w,T){w=T?r:w;var k=Rs(y,x,r,r,r,r,r,w);return k.placeholder=I4.placeholder,k}function R4(y,w,T){w=T?r:w;var k=Rs(y,E,r,r,r,r,r,w);return k.placeholder=R4.placeholder,k}function P4(y,w,T){var k,D,q,Q,ie,fe,Ce=0,Ae=!1,Ie=!1,He=!0;if(typeof y!="function")throw new Ya(o);w=Qa(w)||0,Jr(T)&&(Ae=!!T.leading,Ie="maxWait"in T,q=Ie?Ln(Qa(T.maxWait)||0,w):q,He="trailing"in T?!!T.trailing:He);function nt(gn){var _o=k,Ns=D;return k=D=r,Ce=gn,Q=y.apply(Ns,_o),Q}function ht(gn){return Ce=gn,ie=e0(Gt,w),Ae?nt(gn):Q}function Lt(gn){var _o=gn-fe,Ns=gn-Ce,q4=w-_o;return Ie?Ai(q4,q-Ns):q4}function dt(gn){var _o=gn-fe,Ns=gn-Ce;return fe===r||_o>=w||_o<0||Ie&&Ns>=q}function Gt(){var gn=Mg();if(dt(gn))return Kt(gn);ie=e0(Gt,Lt(gn))}function Kt(gn){return ie=r,He&&k?nt(gn):(k=D=r,Q)}function Ra(){ie!==r&&j3(ie),Ce=0,k=fe=D=ie=r}function zi(){return ie===r?Q:Kt(Mg())}function Pa(){var gn=Mg(),_o=dt(gn);if(k=arguments,D=this,fe=gn,_o){if(ie===r)return ht(fe);if(Ie)return j3(ie),ie=e0(Gt,w),nt(fe)}return ie===r&&(ie=e0(Gt,w)),Q}return Pa.cancel=Ra,Pa.flush=zi,Pa}var eJ=Bt(function(y,w){return y3(y,1,w)}),tJ=Bt(function(y,w,T){return y3(y,Qa(w)||0,T)});function rJ(y){return Rs(y,I)}function Bg(y,w){if(typeof y!="function"||w!=null&&typeof w!="function")throw new Ya(o);var T=function(){var k=arguments,D=w?w.apply(this,k):k[0],q=T.cache;if(q.has(D))return q.get(D);var Q=y.apply(this,k);return T.cache=q.set(D,Q)||q,Q};return T.cache=new(Bg.Cache||Ts),T}Bg.Cache=Ts;function Dg(y){if(typeof y!="function")throw new Ya(o);return function(){var w=arguments;switch(w.length){case 0:return!y.call(this);case 1:return!y.call(this,w[0]);case 2:return!y.call(this,w[0],w[1]);case 3:return!y.call(this,w[0],w[1],w[2])}return!y.apply(this,w)}}function nJ(y){return A4(2,y)}var iJ=Hq(function(y,w){w=w.length==1&&St(w[0])?jr(w[0],Aa(ft())):jr(fi(w,1),Aa(ft()));var T=w.length;return Bt(function(k){for(var D=-1,q=Ai(k.length,T);++D<q;)k[D]=w[D].call(this,k[D]);return Ca(y,this,k)})}),xE=Bt(function(y,w){var T=pl(w,bf(xE));return Rs(y,b,r,w,T)}),O4=Bt(function(y,w){var T=pl(w,bf(O4));return Rs(y,S,r,w,T)}),aJ=Ps(function(y,w){return Rs(y,A,r,r,r,w)});function oJ(y,w){if(typeof y!="function")throw new Ya(o);return w=w===r?w:Rt(w),Bt(y,w)}function sJ(y,w){if(typeof y!="function")throw new Ya(o);return w=w==null?0:Ln(Rt(w),0),Bt(function(T){var k=T[w],D=yl(T,0,w);return k&&dl(D,k),Ca(y,this,D)})}function lJ(y,w,T){var k=!0,D=!0;if(typeof y!="function")throw new Ya(o);return Jr(T)&&(k="leading"in T?!!T.leading:k,D="trailing"in T?!!T.trailing:D),P4(y,w,{leading:k,maxWait:w,trailing:D})}function uJ(y){return C4(y,1)}function cJ(y,w){return xE(iE(w),y)}function fJ(){if(!arguments.length)return[];var y=arguments[0];return St(y)?y:[y]}function hJ(y){return Ka(y,d)}function dJ(y,w){return w=typeof w=="function"?w:r,Ka(y,d,w)}function pJ(y){return Ka(y,f|d)}function vJ(y,w){return w=typeof w=="function"?w:r,Ka(y,f|d,w)}function gJ(y,w){return w==null||_3(y,w,qn(w))}function mo(y,w){return y===w||y!==y&&w!==w}var mJ=Pg(Wb),_J=Pg(function(y,w){return y>=w}),$u=S3(function(){return arguments}())?S3:function(y){return sn(y)&&pr.call(y,"callee")&&!c3.call(y,"callee")},St=ge.isArray,yJ=Xk?Aa(Xk):Tq;function sa(y){return y!=null&&Ug(y.length)&&!Fs(y)}function vn(y){return sn(y)&&sa(y)}function xJ(y){return y===!0||y===!1||sn(y)&&Xi(y)==le}var xl=NY||OE,bJ=Wk?Aa(Wk):Iq;function EJ(y){return sn(y)&&y.nodeType===1&&!t0(y)}function wJ(y){if(y==null)return!0;if(sa(y)&&(St(y)||typeof y=="string"||typeof y.splice=="function"||xl(y)||Ef(y)||$u(y)))return!y.length;var w=Ti(y);if(w==Pe||w==it)return!y.size;if(Qd(y))return!qb(y).length;for(var T in y)if(pr.call(y,T))return!1;return!0}function SJ(y,w){return Kd(y,w)}function CJ(y,w,T){T=typeof T=="function"?T:r;var k=T?T(y,w):r;return k===r?Kd(y,w,r,T):!!k}function bE(y){if(!sn(y))return!1;var w=Xi(y);return w==ye||w==Te||typeof y.message=="string"&&typeof y.name=="string"&&!t0(y)}function AJ(y){return typeof y=="number"&&h3(y)}function Fs(y){if(!Jr(y))return!1;var w=Xi(y);return w==we||w==me||w==pe||w==wt}function F4(y){return typeof y=="number"&&y==Rt(y)}function Ug(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=ee}function Jr(y){var w=typeof y;return y!=null&&(w=="object"||w=="function")}function sn(y){return y!=null&&typeof y=="object"}var k4=zk?Aa(zk):Pq;function TJ(y,w){return y===w||Yb(y,w,fE(w))}function IJ(y,w,T){return T=typeof T=="function"?T:r,Yb(y,w,fE(w),T)}function RJ(y){return N4(y)&&y!=+y}function PJ(y){if(dK(y))throw new Et(a);return C3(y)}function OJ(y){return y===null}function FJ(y){return y==null}function N4(y){return typeof y=="number"||sn(y)&&Xi(y)==je}function t0(y){if(!sn(y)||Xi(y)!=ze)return!1;var w=hg(y);if(w===null)return!0;var T=pr.call(w,"constructor")&&w.constructor;return typeof T=="function"&&T instanceof T&&lg.call(T)==IY}var EE=Yk?Aa(Yk):Oq;function kJ(y){return F4(y)&&y>=-ee&&y<=ee}var L4=qk?Aa(qk):Fq;function jg(y){return typeof y=="string"||!St(y)&&sn(y)&&Xi(y)==lt}function Ia(y){return typeof y=="symbol"||sn(y)&&Xi(y)==_t}var Ef=Kk?Aa(Kk):kq;function NJ(y){return y===r}function LJ(y){return sn(y)&&Ti(y)==mr}function MJ(y){return sn(y)&&Xi(y)==fr}var BJ=Pg(Kb),DJ=Pg(function(y,w){return y<=w});function M4(y){if(!y)return[];if(sa(y))return jg(y)?vo(y):oa(y);if(Gd&&y[Gd])return gY(y[Gd]());var w=Ti(y),T=w==Pe?Bb:w==it?ag:wf;return T(y)}function ks(y){if(!y)return y===0?y:0;if(y=Qa(y),y===H||y===-H){var w=y<0?-1:1;return w*J}return y===y?y:0}function Rt(y){var w=ks(y),T=w%1;return w===w?T?w-T:w:0}function B4(y){return y?Bu(Rt(y),0,L):0}function Qa(y){if(typeof y=="number")return y;if(Ia(y))return G;if(Jr(y)){var w=typeof y.valueOf=="function"?y.valueOf():y;y=Jr(w)?w+"":w}if(typeof y!="string")return y===0?y:+y;y=r3(y);var T=vb.test(y);return T||mb.test(y)?Qz(y.slice(2),T?2:8):pb.test(y)?G:+y}function D4(y){return zo(y,la(y))}function UJ(y){return y?Bu(Rt(y),-ee,ee):y===0?y:0}function hr(y){return y==null?"":Ta(y)}var jJ=yf(function(y,w){if(Qd(w)||sa(w)){zo(w,qn(w),y);return}for(var T in w)pr.call(w,T)&&zd(y,T,w[T])}),U4=yf(function(y,w){zo(w,la(w),y)}),$g=yf(function(y,w,T,k){zo(w,la(w),y,k)}),$J=yf(function(y,w,T,k){zo(w,qn(w),y,k)}),GJ=Ps(Vb);function VJ(y,w){var T=_f(y);return w==null?T:m3(T,w)}var HJ=Bt(function(y,w){y=wr(y);var T=-1,k=w.length,D=k>2?w[2]:r;for(D&&Wi(w[0],w[1],D)&&(k=1);++T<k;)for(var q=w[T],Q=la(q),ie=-1,fe=Q.length;++ie<fe;){var Ce=Q[ie],Ae=y[Ce];(Ae===r||mo(Ae,vf[Ce])&&!pr.call(y,Ce))&&(y[Ce]=q[Ce])}return y}),XJ=Bt(function(y){return y.push(r,r4),Ca(j4,r,y)});function WJ(y,w){return Jk(y,ft(w,3),Wo)}function zJ(y,w){return Jk(y,ft(w,3),Xb)}function YJ(y,w){return y==null?y:Hb(y,ft(w,3),la)}function qJ(y,w){return y==null?y:E3(y,ft(w,3),la)}function KJ(y,w){return y&&Wo(y,ft(w,3))}function ZJ(y,w){return y&&Xb(y,ft(w,3))}function JJ(y){return y==null?[]:Eg(y,qn(y))}function QJ(y){return y==null?[]:Eg(y,la(y))}function wE(y,w,T){var k=y==null?r:Du(y,w);return k===r?T:k}function eQ(y,w){return y!=null&&a4(y,w,wq)}function SE(y,w){return y!=null&&a4(y,w,Sq)}var tQ=Z3(function(y,w,T){w!=null&&typeof w.toString!="function"&&(w=ug.call(w)),y[w]=T},AE(ua)),rQ=Z3(function(y,w,T){w!=null&&typeof w.toString!="function"&&(w=ug.call(w)),pr.call(y,w)?y[w].push(T):y[w]=[T]},ft),nQ=Bt(qd);function qn(y){return sa(y)?v3(y):qb(y)}function la(y){return sa(y)?v3(y,!0):Nq(y)}function iQ(y,w){var T={};return w=ft(w,3),Wo(y,function(k,D,q){Is(T,w(k,D,q),k)}),T}function aQ(y,w){var T={};return w=ft(w,3),Wo(y,function(k,D,q){Is(T,D,w(k,D,q))}),T}var oQ=yf(function(y,w,T){wg(y,w,T)}),j4=yf(function(y,w,T,k){wg(y,w,T,k)}),sQ=Ps(function(y,w){var T={};if(y==null)return T;var k=!1;w=jr(w,function(q){return q=_l(q,y),k||(k=q.length>1),q}),zo(y,uE(y),T),k&&(T=Ka(T,f|h|d,tK));for(var D=w.length;D--;)tE(T,w[D]);return T});function lQ(y,w){return $4(y,Dg(ft(w)))}var uQ=Ps(function(y,w){return y==null?{}:Mq(y,w)});function $4(y,w){if(y==null)return{};var T=jr(uE(y),function(k){return[k]});return w=ft(w),F3(y,T,function(k,D){return w(k,D[0])})}function cQ(y,w,T){w=_l(w,y);var k=-1,D=w.length;for(D||(D=1,y=r);++k<D;){var q=y==null?r:y[Yo(w[k])];q===r&&(k=D,q=T),y=Fs(q)?q.call(y):q}return y}function fQ(y,w,T){return y==null?y:Zd(y,w,T)}function hQ(y,w,T,k){return k=typeof k=="function"?k:r,y==null?y:Zd(y,w,T,k)}var G4=e4(qn),V4=e4(la);function dQ(y,w,T){var k=St(y),D=k||xl(y)||Ef(y);if(w=ft(w,4),T==null){var q=y&&y.constructor;D?T=k?new q:[]:Jr(y)?T=Fs(q)?_f(hg(y)):{}:T={}}return(D?za:Wo)(y,function(Q,ie,fe){return w(T,Q,ie,fe)}),T}function pQ(y,w){return y==null?!0:tE(y,w)}function vQ(y,w,T){return y==null?y:B3(y,w,iE(T))}function gQ(y,w,T,k){return k=typeof k=="function"?k:r,y==null?y:B3(y,w,iE(T),k)}function wf(y){return y==null?[]:Mb(y,qn(y))}function mQ(y){return y==null?[]:Mb(y,la(y))}function _Q(y,w,T){return T===r&&(T=w,w=r),T!==r&&(T=Qa(T),T=T===T?T:0),w!==r&&(w=Qa(w),w=w===w?w:0),Bu(Qa(y),w,T)}function yQ(y,w,T){return w=ks(w),T===r?(T=w,w=0):T=ks(T),y=Qa(y),Cq(y,w,T)}function xQ(y,w,T){if(T&&typeof T!="boolean"&&Wi(y,w,T)&&(w=T=r),T===r&&(typeof w=="boolean"?(T=w,w=r):typeof y=="boolean"&&(T=y,y=r)),y===r&&w===r?(y=0,w=1):(y=ks(y),w===r?(w=y,y=0):w=ks(w)),y>w){var k=y;y=w,w=k}if(T||y%1||w%1){var D=d3();return Ai(y+D*(w-y+Jz("1e-"+((D+"").length-1))),w)}return Jb(y,w)}var bQ=xf(function(y,w,T){return w=w.toLowerCase(),y+(T?H4(w):w)});function H4(y){return CE(hr(y).toLowerCase())}function X4(y){return y=hr(y),y&&y.replace(yb,fY).replace(Gz,"")}function EQ(y,w,T){y=hr(y),w=Ta(w);var k=y.length;T=T===r?k:Bu(Rt(T),0,k);var D=T;return T-=w.length,T>=0&&y.slice(T,D)==w}function wQ(y){return y=hr(y),y&&Sa.test(y)?y.replace(Si,hY):y}function SQ(y){return y=hr(y),y&&on.test(y)?y.replace(Ci,"\\$&"):y}var CQ=xf(function(y,w,T){return y+(T?"-":"")+w.toLowerCase()}),AQ=xf(function(y,w,T){return y+(T?" ":"")+w.toLowerCase()}),TQ=Y3("toLowerCase");function IQ(y,w,T){y=hr(y),w=Rt(w);var k=w?df(y):0;if(!w||k>=w)return y;var D=(w-k)/2;return Rg(gg(D),T)+y+Rg(vg(D),T)}function RQ(y,w,T){y=hr(y),w=Rt(w);var k=w?df(y):0;return w&&k<w?y+Rg(w-k,T):y}function PQ(y,w,T){y=hr(y),w=Rt(w);var k=w?df(y):0;return w&&k<w?Rg(w-k,T)+y:y}function OQ(y,w,T){return T||w==null?w=0:w&&(w=+w),DY(hr(y).replace(aa,""),w||0)}function FQ(y,w,T){return(T?Wi(y,w,T):w===r)?w=1:w=Rt(w),Qb(hr(y),w)}function kQ(){var y=arguments,w=hr(y[0]);return y.length<3?w:w.replace(y[1],y[2])}var NQ=xf(function(y,w,T){return y+(T?"_":"")+w.toLowerCase()});function LQ(y,w,T){return T&&typeof T!="number"&&Wi(y,w,T)&&(w=T=r),T=T===r?L:T>>>0,T?(y=hr(y),y&&(typeof w=="string"||w!=null&&!EE(w))&&(w=Ta(w),!w&&hf(y))?yl(vo(y),0,T):y.split(w,T)):[]}var MQ=xf(function(y,w,T){return y+(T?" ":"")+CE(w)});function BQ(y,w,T){return y=hr(y),T=T==null?0:Bu(Rt(T),0,y.length),w=Ta(w),y.slice(T,T+w.length)==w}function DQ(y,w,T){var k=X.templateSettings;T&&Wi(y,w,T)&&(w=r),y=hr(y),w=$g({},w,k,t4);var D=$g({},w.imports,k.imports,t4),q=qn(D),Q=Mb(D,q),ie,fe,Ce=0,Ae=w.interpolate||lf,Ie="__p += '",He=Db((w.escape||lf).source+"|"+Ae.source+"|"+(Ae===Gi?db:lf).source+"|"+(w.evaluate||lf).source+"|$","g"),nt="//# sourceURL="+(pr.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zz+"]")+`
`;y.replace(He,function(dt,Gt,Kt,Ra,zi,Pa){return Kt||(Kt=Ra),Ie+=y.slice(Ce,Pa).replace(Zv,dY),Gt&&(ie=!0,Ie+=`' +
__e(`+Gt+`) +
'`),zi&&(fe=!0,Ie+=`';
`+zi+`;
__p += '`),Kt&&(Ie+=`' +
((__t = (`+Kt+`)) == null ? '' : __t) +
'`),Ce=Pa+dt.length,dt}),Ie+=`';
`;var ht=pr.call(w,"variable")&&w.variable;if(!ht)Ie=`with (obj) {
`+Ie+`
}
`;else if(fb.test(ht))throw new Et(s);Ie=(fe?Ie.replace(zn,""):Ie).replace(Yn,"$1").replace(Sr,"$1;"),Ie="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var Lt=z4(function(){return lr(q,nt+"return "+Ie).apply(r,Q)});if(Lt.source=Ie,bE(Lt))throw Lt;return Lt}function UQ(y){return hr(y).toLowerCase()}function jQ(y){return hr(y).toUpperCase()}function $Q(y,w,T){if(y=hr(y),y&&(T||w===r))return r3(y);if(!y||!(w=Ta(w)))return y;var k=vo(y),D=vo(w),q=n3(k,D),Q=i3(k,D)+1;return yl(k,q,Q).join("")}function GQ(y,w,T){if(y=hr(y),y&&(T||w===r))return y.slice(0,o3(y)+1);if(!y||!(w=Ta(w)))return y;var k=vo(y),D=i3(k,vo(w))+1;return yl(k,0,D).join("")}function VQ(y,w,T){if(y=hr(y),y&&(T||w===r))return y.replace(aa,"");if(!y||!(w=Ta(w)))return y;var k=vo(y),D=n3(k,vo(w));return yl(k,D).join("")}function HQ(y,w){var T=R,k=O;if(Jr(w)){var D="separator"in w?w.separator:D;T="length"in w?Rt(w.length):T,k="omission"in w?Ta(w.omission):k}y=hr(y);var q=y.length;if(hf(y)){var Q=vo(y);q=Q.length}if(T>=q)return y;var ie=T-df(k);if(ie<1)return k;var fe=Q?yl(Q,0,ie).join(""):y.slice(0,ie);if(D===r)return fe+k;if(Q&&(ie+=fe.length-ie),EE(D)){if(y.slice(ie).search(D)){var Ce,Ae=fe;for(D.global||(D=Db(D.source,hr(Kv.exec(D))+"g")),D.lastIndex=0;Ce=D.exec(Ae);)var Ie=Ce.index;fe=fe.slice(0,Ie===r?ie:Ie)}}else if(y.indexOf(Ta(D),ie)!=ie){var He=fe.lastIndexOf(D);He>-1&&(fe=fe.slice(0,He))}return fe+k}function XQ(y){return y=hr(y),y&&kn.test(y)?y.replace(wa,xY):y}var WQ=xf(function(y,w,T){return y+(T?" ":"")+w.toUpperCase()}),CE=Y3("toUpperCase");function W4(y,w,T){return y=hr(y),w=T?r:w,w===r?vY(y)?wY(y):oY(y):y.match(w)||[]}var z4=Bt(function(y,w){try{return Ca(y,r,w)}catch(T){return bE(T)?T:new Et(T)}}),zQ=Ps(function(y,w){return za(w,function(T){T=Yo(T),Is(y,T,yE(y[T],y))}),y});function YQ(y){var w=y==null?0:y.length,T=ft();return y=w?jr(y,function(k){if(typeof k[1]!="function")throw new Ya(o);return[T(k[0]),k[1]]}):[],Bt(function(k){for(var D=-1;++D<w;){var q=y[D];if(Ca(q[0],this,k))return Ca(q[1],this,k)}})}function qQ(y){return xq(Ka(y,f))}function AE(y){return function(){return y}}function KQ(y,w){return y==null||y!==y?w:y}var ZQ=K3(),JQ=K3(!0);function ua(y){return y}function TE(y){return A3(typeof y=="function"?y:Ka(y,f))}function QQ(y){return I3(Ka(y,f))}function eee(y,w){return R3(y,Ka(w,f))}var tee=Bt(function(y,w){return function(T){return qd(T,y,w)}}),ree=Bt(function(y,w){return function(T){return qd(y,T,w)}});function IE(y,w,T){var k=qn(w),D=Eg(w,k);T==null&&!(Jr(w)&&(D.length||!k.length))&&(T=w,w=y,y=this,D=Eg(w,qn(w)));var q=!(Jr(T)&&"chain"in T)||!!T.chain,Q=Fs(y);return za(D,function(ie){var fe=w[ie];y[ie]=fe,Q&&(y.prototype[ie]=function(){var Ce=this.__chain__;if(q||Ce){var Ae=y(this.__wrapped__),Ie=Ae.__actions__=oa(this.__actions__);return Ie.push({func:fe,args:arguments,thisArg:y}),Ae.__chain__=Ce,Ae}return fe.apply(y,dl([this.value()],arguments))})}),y}function nee(){return ci._===this&&(ci._=RY),this}function RE(){}function iee(y){return y=Rt(y),Bt(function(w){return P3(w,y)})}var aee=oE(jr),oee=oE(Zk),see=oE(Ob);function Y4(y){return dE(y)?Fb(Yo(y)):Bq(y)}function lee(y){return function(w){return y==null?r:Du(y,w)}}var uee=J3(),cee=J3(!0);function PE(){return[]}function OE(){return!1}function fee(){return{}}function hee(){return""}function dee(){return!0}function pee(y,w){if(y=Rt(y),y<1||y>ee)return[];var T=L,k=Ai(y,L);w=ft(w),y-=L;for(var D=Lb(k,w);++T<y;)w(T);return D}function vee(y){return St(y)?jr(y,Yo):Ia(y)?[y]:oa(p4(hr(y)))}function gee(y){var w=++TY;return hr(y)+w}var mee=Ig(function(y,w){return y+w},0),_ee=sE("ceil"),yee=Ig(function(y,w){return y/w},1),xee=sE("floor");function bee(y){return y&&y.length?bg(y,ua,Wb):r}function Eee(y,w){return y&&y.length?bg(y,ft(w,2),Wb):r}function wee(y){return e3(y,ua)}function See(y,w){return e3(y,ft(w,2))}function Cee(y){return y&&y.length?bg(y,ua,Kb):r}function Aee(y,w){return y&&y.length?bg(y,ft(w,2),Kb):r}var Tee=Ig(function(y,w){return y*w},1),Iee=sE("round"),Ree=Ig(function(y,w){return y-w},0);function Pee(y){return y&&y.length?Nb(y,ua):0}function Oee(y,w){return y&&y.length?Nb(y,ft(w,2)):0}return X.after=QZ,X.ary=C4,X.assign=jJ,X.assignIn=U4,X.assignInWith=$g,X.assignWith=$J,X.at=GJ,X.before=A4,X.bind=yE,X.bindAll=zQ,X.bindKey=T4,X.castArray=fJ,X.chain=E4,X.chunk=xK,X.compact=bK,X.concat=EK,X.cond=YQ,X.conforms=qQ,X.constant=AE,X.countBy=PZ,X.create=VJ,X.curry=I4,X.curryRight=R4,X.debounce=P4,X.defaults=HJ,X.defaultsDeep=XJ,X.defer=eJ,X.delay=tJ,X.difference=wK,X.differenceBy=SK,X.differenceWith=CK,X.drop=AK,X.dropRight=TK,X.dropRightWhile=IK,X.dropWhile=RK,X.fill=PK,X.filter=FZ,X.flatMap=LZ,X.flatMapDeep=MZ,X.flatMapDepth=BZ,X.flatten=_4,X.flattenDeep=OK,X.flattenDepth=FK,X.flip=rJ,X.flow=ZQ,X.flowRight=JQ,X.fromPairs=kK,X.functions=JJ,X.functionsIn=QJ,X.groupBy=DZ,X.initial=LK,X.intersection=MK,X.intersectionBy=BK,X.intersectionWith=DK,X.invert=tQ,X.invertBy=rQ,X.invokeMap=jZ,X.iteratee=TE,X.keyBy=$Z,X.keys=qn,X.keysIn=la,X.map=Lg,X.mapKeys=iQ,X.mapValues=aQ,X.matches=QQ,X.matchesProperty=eee,X.memoize=Bg,X.merge=oQ,X.mergeWith=j4,X.method=tee,X.methodOf=ree,X.mixin=IE,X.negate=Dg,X.nthArg=iee,X.omit=sQ,X.omitBy=lQ,X.once=nJ,X.orderBy=GZ,X.over=aee,X.overArgs=iJ,X.overEvery=oee,X.overSome=see,X.partial=xE,X.partialRight=O4,X.partition=VZ,X.pick=uQ,X.pickBy=$4,X.property=Y4,X.propertyOf=lee,X.pull=GK,X.pullAll=x4,X.pullAllBy=VK,X.pullAllWith=HK,X.pullAt=XK,X.range=uee,X.rangeRight=cee,X.rearg=aJ,X.reject=WZ,X.remove=WK,X.rest=oJ,X.reverse=mE,X.sampleSize=YZ,X.set=fQ,X.setWith=hQ,X.shuffle=qZ,X.slice=zK,X.sortBy=JZ,X.sortedUniq=eZ,X.sortedUniqBy=tZ,X.split=LQ,X.spread=sJ,X.tail=rZ,X.take=nZ,X.takeRight=iZ,X.takeRightWhile=aZ,X.takeWhile=oZ,X.tap=bZ,X.throttle=lJ,X.thru=Ng,X.toArray=M4,X.toPairs=G4,X.toPairsIn=V4,X.toPath=vee,X.toPlainObject=D4,X.transform=dQ,X.unary=uJ,X.union=sZ,X.unionBy=lZ,X.unionWith=uZ,X.uniq=cZ,X.uniqBy=fZ,X.uniqWith=hZ,X.unset=pQ,X.unzip=_E,X.unzipWith=b4,X.update=vQ,X.updateWith=gQ,X.values=wf,X.valuesIn=mQ,X.without=dZ,X.words=W4,X.wrap=cJ,X.xor=pZ,X.xorBy=vZ,X.xorWith=gZ,X.zip=mZ,X.zipObject=_Z,X.zipObjectDeep=yZ,X.zipWith=xZ,X.entries=G4,X.entriesIn=V4,X.extend=U4,X.extendWith=$g,IE(X,X),X.add=mee,X.attempt=z4,X.camelCase=bQ,X.capitalize=H4,X.ceil=_ee,X.clamp=_Q,X.clone=hJ,X.cloneDeep=pJ,X.cloneDeepWith=vJ,X.cloneWith=dJ,X.conformsTo=gJ,X.deburr=X4,X.defaultTo=KQ,X.divide=yee,X.endsWith=EQ,X.eq=mo,X.escape=wQ,X.escapeRegExp=SQ,X.every=OZ,X.find=kZ,X.findIndex=g4,X.findKey=WJ,X.findLast=NZ,X.findLastIndex=m4,X.findLastKey=zJ,X.floor=xee,X.forEach=w4,X.forEachRight=S4,X.forIn=YJ,X.forInRight=qJ,X.forOwn=KJ,X.forOwnRight=ZJ,X.get=wE,X.gt=mJ,X.gte=_J,X.has=eQ,X.hasIn=SE,X.head=y4,X.identity=ua,X.includes=UZ,X.indexOf=NK,X.inRange=yQ,X.invoke=nQ,X.isArguments=$u,X.isArray=St,X.isArrayBuffer=yJ,X.isArrayLike=sa,X.isArrayLikeObject=vn,X.isBoolean=xJ,X.isBuffer=xl,X.isDate=bJ,X.isElement=EJ,X.isEmpty=wJ,X.isEqual=SJ,X.isEqualWith=CJ,X.isError=bE,X.isFinite=AJ,X.isFunction=Fs,X.isInteger=F4,X.isLength=Ug,X.isMap=k4,X.isMatch=TJ,X.isMatchWith=IJ,X.isNaN=RJ,X.isNative=PJ,X.isNil=FJ,X.isNull=OJ,X.isNumber=N4,X.isObject=Jr,X.isObjectLike=sn,X.isPlainObject=t0,X.isRegExp=EE,X.isSafeInteger=kJ,X.isSet=L4,X.isString=jg,X.isSymbol=Ia,X.isTypedArray=Ef,X.isUndefined=NJ,X.isWeakMap=LJ,X.isWeakSet=MJ,X.join=UK,X.kebabCase=CQ,X.last=Ja,X.lastIndexOf=jK,X.lowerCase=AQ,X.lowerFirst=TQ,X.lt=BJ,X.lte=DJ,X.max=bee,X.maxBy=Eee,X.mean=wee,X.meanBy=See,X.min=Cee,X.minBy=Aee,X.stubArray=PE,X.stubFalse=OE,X.stubObject=fee,X.stubString=hee,X.stubTrue=dee,X.multiply=Tee,X.nth=$K,X.noConflict=nee,X.noop=RE,X.now=Mg,X.pad=IQ,X.padEnd=RQ,X.padStart=PQ,X.parseInt=OQ,X.random=xQ,X.reduce=HZ,X.reduceRight=XZ,X.repeat=FQ,X.replace=kQ,X.result=cQ,X.round=Iee,X.runInContext=se,X.sample=zZ,X.size=KZ,X.snakeCase=NQ,X.some=ZZ,X.sortedIndex=YK,X.sortedIndexBy=qK,X.sortedIndexOf=KK,X.sortedLastIndex=ZK,X.sortedLastIndexBy=JK,X.sortedLastIndexOf=QK,X.startCase=MQ,X.startsWith=BQ,X.subtract=Ree,X.sum=Pee,X.sumBy=Oee,X.template=DQ,X.times=pee,X.toFinite=ks,X.toInteger=Rt,X.toLength=B4,X.toLower=UQ,X.toNumber=Qa,X.toSafeInteger=UJ,X.toString=hr,X.toUpper=jQ,X.trim=$Q,X.trimEnd=GQ,X.trimStart=VQ,X.truncate=HQ,X.unescape=XQ,X.uniqueId=gee,X.upperCase=WQ,X.upperFirst=CE,X.each=w4,X.eachRight=S4,X.first=y4,IE(X,function(){var y={};return Wo(X,function(w,T){pr.call(X.prototype,T)||(y[T]=w)}),y}(),{chain:!1}),X.VERSION=n,za(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){X[y].placeholder=X}),za(["drop","take"],function(y,w){Wt.prototype[y]=function(T){T=T===r?1:Ln(Rt(T),0);var k=this.__filtered__&&!w?new Wt(this):this.clone();return k.__filtered__?k.__takeCount__=Ai(T,k.__takeCount__):k.__views__.push({size:Ai(T,L),type:y+(k.__dir__<0?"Right":"")}),k},Wt.prototype[y+"Right"]=function(T){return this.reverse()[y](T).reverse()}}),za(["filter","map","takeWhile"],function(y,w){var T=w+1,k=T==N||T==U;Wt.prototype[y]=function(D){var q=this.clone();return q.__iteratees__.push({iteratee:ft(D,3),type:T}),q.__filtered__=q.__filtered__||k,q}}),za(["head","last"],function(y,w){var T="take"+(w?"Right":"");Wt.prototype[y]=function(){return this[T](1).value()[0]}}),za(["initial","tail"],function(y,w){var T="drop"+(w?"":"Right");Wt.prototype[y]=function(){return this.__filtered__?new Wt(this):this[T](1)}}),Wt.prototype.compact=function(){return this.filter(ua)},Wt.prototype.find=function(y){return this.filter(y).head()},Wt.prototype.findLast=function(y){return this.reverse().find(y)},Wt.prototype.invokeMap=Bt(function(y,w){return typeof y=="function"?new Wt(this):this.map(function(T){return qd(T,y,w)})}),Wt.prototype.reject=function(y){return this.filter(Dg(ft(y)))},Wt.prototype.slice=function(y,w){y=Rt(y);var T=this;return T.__filtered__&&(y>0||w<0)?new Wt(T):(y<0?T=T.takeRight(-y):y&&(T=T.drop(y)),w!==r&&(w=Rt(w),T=w<0?T.dropRight(-w):T.take(w-y)),T)},Wt.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Wt.prototype.toArray=function(){return this.take(L)},Wo(Wt.prototype,function(y,w){var T=/^(?:filter|find|map|reject)|While$/.test(w),k=/^(?:head|last)$/.test(w),D=X[k?"take"+(w=="last"?"Right":""):w],q=k||/^find/.test(w);D&&(X.prototype[w]=function(){var Q=this.__wrapped__,ie=k?[1]:arguments,fe=Q instanceof Wt,Ce=ie[0],Ae=fe||St(Q),Ie=function(Gt){var Kt=D.apply(X,dl([Gt],ie));return k&&He?Kt[0]:Kt};Ae&&T&&typeof Ce=="function"&&Ce.length!=1&&(fe=Ae=!1);var He=this.__chain__,nt=!!this.__actions__.length,ht=q&&!He,Lt=fe&&!nt;if(!q&&Ae){Q=Lt?Q:new Wt(this);var dt=y.apply(Q,ie);return dt.__actions__.push({func:Ng,args:[Ie],thisArg:r}),new qa(dt,He)}return ht&&Lt?y.apply(this,ie):(dt=this.thru(Ie),ht?k?dt.value()[0]:dt.value():dt)})}),za(["pop","push","shift","sort","splice","unshift"],function(y){var w=og[y],T=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",k=/^(?:pop|shift)$/.test(y);X.prototype[y]=function(){var D=arguments;if(k&&!this.__chain__){var q=this.value();return w.apply(St(q)?q:[],D)}return this[T](function(Q){return w.apply(St(Q)?Q:[],D)})}}),Wo(Wt.prototype,function(y,w){var T=X[w];if(T){var k=T.name+"";pr.call(mf,k)||(mf[k]=[]),mf[k].push({name:w,func:T})}}),mf[Tg(r,_).name]=[{name:"wrapper",func:r}],Wt.prototype.clone=XY,Wt.prototype.reverse=WY,Wt.prototype.value=zY,X.prototype.at=EZ,X.prototype.chain=wZ,X.prototype.commit=SZ,X.prototype.next=CZ,X.prototype.plant=TZ,X.prototype.reverse=IZ,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=RZ,X.prototype.first=X.prototype.head,Gd&&(X.prototype[Gd]=AZ),X},pf=SY();ku?((ku.exports=pf)._=pf,Tb._=pf):ci._=pf}).call(ot)})(Ey,Ey.exports);var p1=Ey.exports;const Cc={height:1440,width:2560};function gu(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(Cc.width=Number(r[0])*2,Cc.height=Number(r[1])*2),Cc}function Zt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const VV={};function Ewe(t){const e={};for(const[r,n]of Object.entries(t))e[r]=VV[n.scriptType]={scriptString:r,...n};return e}const gt=t=>{const e=gu().width==2560?.5:.33333;return(typeof t=="string"?Number(t):t)/e};function Hr(t){const e={};return t&&(t.x!==void 0&&(e.left=gt(t.x)+"px",e.position="absolute"),t.y!==void 0&&(e.top=gt(t.y)+"px",e.position="absolute"),t.scale!==void 0&&(e.transform?e.transform+=` scale(${t.scale})`:e.transform=`scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=gt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=gt(t.width)+"px"),t.height!==void 0&&(e.height=gt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=gt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=gt(t.marginRight)+"px"),t.marginTop!==void 0&&(e.marginTop=gt(t.marginTop)+"px"),t.marginBottom!==void 0&&(e.marginBottom=gt(t.marginBottom)+"px"),t.gap!==void 0&&(e.gap=gt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=gt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=gt(t.columnGap)+"px"),t.position&&(e.position=t.position),t.alignPosition!==void 0&&(t.alignPosition==="top-center"?e.top="0":t.alignPosition==="bottom-center"&&(e.top="auto",e.bottom="0")),t.fontColor===void 0&&t.customColor!==void 0&&(e.color=t.customColor),t.fontColor===void 0&&t.customFontSize!==void 0&&(e.fontSize=gt(t.customFontSize)+"px")),e}function wwe(t){if(!t||p1.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:Tt(n,xt.ui)})}),e}function Swe(t){if(!t||p1.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"video",url:Tt(n,xt.video)})}),e}function RB(t,e){const r=document.createElement("style");let n=`
    @keyframes ${e==="normal"?"":"active-"}cursor-animation {
  `;if(!t.imgs||t.imgs.length===0)return;t.imgs.forEach((a,o)=>{const s=Tt(a,xt.ui),c=o/t.imgs.length*100;n+=`
      ${c}% { cursor: url(${s}), pointer; }
    `}),n+=`
    100% { cursor: url(${Tt(t.imgs[0],xt.ui)}), pointer; }
    }
  `;const i=[n];e==="normal"?i.push(`#root { animation: cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`):i.push(`.interactive { animation: active-cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`),r.innerHTML=i.join(`
`),document.head.appendChild(r)}class tO{constructor(e,r){Ye(this,"text");Ye(this,"jump");Ye(this,"jumpToScene");Ye(this,"showCondition");Ye(this,"enableCondition");Ye(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new tO(o,a[1]),c=/\$\{(.*?)\}/,l=i.match(c);if(l){const f=l[1].split(","),h={};f.forEach(d=>{const[p,v]=d.split("=");p&&v&&(h[p.trim()]=isNaN(Number(v.trim()))?v.trim():Number(v.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const f=n.match(/\[(.*)\]/);f&&(s.enableCondition=f[1])}return s}}const IA=(t,e)=>{const n=t.content.split("|").map(f=>tO.parse(f)),a=ue.getState().userData.optionData.textboxFont===Sc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=eO();let c=!1,l={current:null};const u=f=>f.filter((h,d)=>bA(h.showCondition)).map((h,d)=>{var g,x;const p=bA(h.enableCondition);let v=p?`${Gu.Choose_item} interactive`:Gu.Choose_item_disabled;const m=()=>{if(!(!p&&!c)){if(s(),e==null||e(),l.current&&(clearTimeout(l.current),l.current=null),h.jumpToScene){const E=h.jump.split("./game/scene/")[1];AV(h.jump,E)}else TV(h.jump);W.gameplay.performController.unmountPerform("choose"),c=!1}};let _={fontFamily:a};if(h.style&&(_=Hr(h.style)),typeof((g=h.style)==null?void 0:g.countdown)=="number"){v=p?Gu.Choose_item_countdown:Gu.Choose_item_countdown_disabled;let E=h.style.countdown,b=1082,S=1082/(E*1e3/16);const C=()=>{E<=0&&l.current?(clearTimeout(l),l.current=null,c=!p,m()):l.current=setTimeout(()=>{E-=.016,b-=S;let A=document.getElementById("rect");A==null||A.setAttribute("width",Math.max(0,b).toString()),C()},16)};return C(),M.jsxs(ti.Fragment,{children:[M.jsxs("div",{className:v,style:_,onClick:m,children:[M.jsx("img",{src:xwe,alt:h.text,style:{width:"1082px",height:"106px"}}),M.jsx("img",{src:bwe,className:Gu.Choose_item_progress_bar})]}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:"myClip",children:M.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},h.jump+d)}if((x=h.style)!=null&&x.image){v=Gu.Choose_item_image;const E=Tt(h.style.image,xt.ui),b=`img-option-${d}`,S=new Image;return S.src=E,S.onload=function(){let C=document.getElementById(b);S.style.width=S.naturalWidth+"px",S.style.height=S.naturalHeight+"px",S.style.position="absolute",S.alt=h.text,C&&(C.style.width=S.naturalWidth+"px",C.style.height=S.naturalHeight+"px",setTimeout(()=>{C==null||C.prepend(S),C=null},32))},M.jsx("div",{id:b,className:v,style:_,onClick:m,onMouseEnter:p?o:void 0,children:M.jsx("span",{children:h.text})},h.jump+d)}return M.jsx("div",{className:v,style:_,onClick:m,onMouseEnter:p?o:void 0,children:h.text},h.jump+d)});return Mc.render(M.jsx("div",{className:Gu.Choose_Main,children:u(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Mc.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Cwe=t=>(Ge.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Awe=t=>(t.content!==""&&t.content!=="none"?ue.dispatch(ct({key:"enableFilm",value:t.content})):ue.dispatch(ct({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Twe="_Choose_Main_4xkm5_1",Iwe="_Choose_item_4xkm5_13",Rwe="_glabalDialog_container_inner_4xkm5_28",Pwe="_glabalDialog_container_4xkm5_28",Owe="_title_4xkm5_47",Fwe="_button_4xkm5_59",Pf={Choose_Main:Twe,Choose_item:Iwe,glabalDialog_container_inner:Rwe,glabalDialog_container:Pwe,title:Owe,button:Fwe},kwe=t=>{const e=t.content.toString().trim(),r=Xt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=Xt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=ue.getState().userData.optionData.textboxFont===Sc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=eO(),u=M.jsx("div",{style:{fontFamily:s},className:Pf.glabalDialog_container,children:M.jsxs("div",{className:Pf.glabalDialog_container_inner,children:[M.jsx("div",{className:Pf.title,children:n}),M.jsx("input",{id:"user-input",className:Pf.Choose_item}),M.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&ue.dispatch(N9({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),W.gameplay.performController.unmountPerform("userInput"),Sn()},className:Pf.button,children:a})]})});return Mc.render(M.jsx("div",{className:Pf.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Mc.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Nwe="_FullScreenPerform_main_7er8a_2",Lwe="_FullScreenPerform_element_7er8a_9",Mwe="_fullScreen_video_7er8a_17",Bwe="_fadeIn_7er8a_74",Dwe="_intro_showSoftly_7er8a_1",Uwe="_slideIn_7er8a_80",jwe="_typingEffect_7er8a_86",$we="_typing_7er8a_86",Gwe="_blinkCursor_7er8a_1",Vwe="_pixelateEffect_7er8a_95",Hwe="_pixelateAnimation_7er8a_1",Xwe="_revealAnimation_7er8a_101",Wwe="_videoContainer_7er8a_115",Tl={FullScreenPerform_main:Nwe,FullScreenPerform_element:Lwe,fullScreen_video:Mwe,fadeIn:Bwe,intro_showSoftly:Dwe,slideIn:Uwe,typingEffect:jwe,typing:$we,blinkCursor:Gwe,pixelateEffect:Vwe,pixelateAnimation:Hwe,revealAnimation:Xwe,videoContainer:Wwe},zwe=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,S=0)=>{switch(b){case"fadeIn":return Tl.fadeIn;case"slideIn":return Tl.slideIn;case"typingEffect":return`${Tl.typingEffect} ${S}`;case"pixelateEffect":return Tl.pixelateEffect;case"revealAnimation":return Tl.revealAnimation;default:return Tl.fadeIn}};let o=Tl.fadeIn,s=1500,c=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const S=parseInt(b.value.toString(),10);s=isNaN(S)?s:S}b.key==="hold"&&b.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const d=c?1e3*60*60*24:1e3+s*u.length;let p=!0,v=setTimeout(()=>{p=!1},h),m=setTimeout(()=>{});const _=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{p=!1},h),b){const S=b.childNodes[0].childNodes[0].childNodes,C=S.length;S.forEach((A,I)=>{const R=Number(A.style.animationDelay.split("ms")[0]);R>0&&(A.style.animationDelay=`${R-s}ms`),I===C-1&&(R===0?(clearTimeout(m),W.gameplay.performController.unmountPerform(e)):(clearTimeout(m),c||(m=setTimeout(()=>{W.gameplay.performController.unmountPerform(e),setTimeout(Sn,0)},h))))})}};W.events.userInteractNext.on(_);const g=u.map((b,S)=>M.jsxs("div",{style:{animationDelay:`${s*S}ms`},className:o,children:[b,b===""?"":""]},"introtext"+S+Math.random().toString())),x=M.jsx("div",{style:l,children:M.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:g})});Mc.render(x,document.getElementById("introContainer"));const E=document.getElementById("introContainer");return E&&(E.style.display="block"),{performName:e,duration:d,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),W.events.userInteractNext.off(_)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}},Ywe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),qwe=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),ue.dispatch(ct({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Kwe="modulepreload",Zwe=function(t,e){return new URL(t,e).href},PB={},Jwe=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Zwe(a,n),a in PB)return;PB[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Kwe,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},HV=new Map;function Qwe(t){return t?typeof t=="string"?t:t():null}function XV(t){const e=Qwe(t);return e||(Ge.error("Get name of perform failed. There no name of the perform."),"")}function dGe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);HV.set(XV(t),e)}function eSe(t,e=[]){const r=HV.get(XV(t));if(!r||!(r instanceof Function))throw Ge.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}Jwe(()=>import("./initRegister-f9bc120b.js"),[],import.meta.url);const tSe=t=>{const e="PixiPerform"+t.content;W.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=eSe(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Ge.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=W.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=W.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},rSe=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},OB=(t,e=rSe)=>{const r=m=>new Uint8Array(m.length/2).map((_,g)=>parseInt(m.substring(2*g,2*(g+1)),16)),n=m=>r(m)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((m,_)=>i.set(m,_));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",d=0;h&&(d=11,s=n(t.substring(9,d)),s<=1&&(d+=2,f=n(t.substring(11,d))),s===1&&(d+=8,c=(m=>new DataView(r(m).buffer).getInt32(0,!0))(t.substring(13,d))));const p=256-f;for(let m=d;m<t.length;m++)if(o=t.charCodeAt(m),o!==61||l){if(o===92&&m<t.length-5&&h){const _=t.charCodeAt(m+1);_!==117&&_!==85||(o=parseInt(t.substring(m+2,m+6),16),m+=5)}if(o>255){const _=i.get(o);_&&(o=_+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+p:o-f}else l=!0;const v=a.subarray(0,u);if(h&&s===1){const m=e(v);if(m!==c){const _="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",_+`
`,"Expected: "+c+"; Got: "+m+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(_)}}return v};function Mr(){const t=Uint8Array,e=Float32Array;Mr.modules||Object.defineProperties(Mr,{modules:{value:new WeakMap},setModule:{value(r,n){Mr.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=Mr.modules.get(r);return i||(n?i=WebAssembly.compile(OB(n)):(n=r.wasm,i=Mr.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),Mr.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(Mr.concatFloat32(f,a))}return Mr.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=OB(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;Mr.getModule(Mr,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,d=f;f+=4,u.setInt32(d,h,!0);const p=f;f+=h,l.set(r,p);const v=f;f+=4,u.setInt32(v,l.byteLength-f,!0),s(f,v,p,d),n(l.slice(f,f+u.getInt32(v,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&Mr.setModule(r,n),this._wasm=new r(Mr).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var nSe=Worker;const iSe=wi(nSe),aSe=()=>globalThis.Worker||iSe;class WV extends aSe(){constructor(e,r,n,i){Mr.modules||new Mr;let a=Mr.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,d,p=new Promise(v=>{d=v});self.onmessage=({data:{id:v,command:m,data:_}})=>{let g=p,x={id:v},E;m==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:_.module},isWebWorker:{value:!0}}),h=new l(_.options),d()):m==="free"?h.free():m==="ready"?g=g.then(()=>h.ready):m==="reset"?g=g.then(()=>h.reset()):(Object.assign(x,h[m](Array.isArray(_)?_.map(b=>new Uint8Array(b)):new Uint8Array(_))),E=x.channelData?x.channelData.map(b=>b.buffer):[]),g.then(()=>self.postMessage(x,E))}}).toString()})(${n}, ${Mr}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),Mr.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(Mr).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const Sd=(t,e)=>{Object.defineProperty(t,"name",{value:e})},Kr=Symbol,zV=", ",Dt=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(zV)))})(),iu="LFE",Nv="monophonic (mono)",bh="stereo",m0="surround",In=(t,...e)=>`${[Nv,bh,`linear ${m0}`,"quadraphonic",`5.0 ${m0}`,`5.1 ${m0}`,`6.1 ${m0}`,`7.1 ${m0}`][t-1]} (${e.join(zV)})`,RA=[Nv,In(2,Dt[0][0]),In(3,Dt[0][2]),In(4,Dt[1][0],Dt[3][0]),In(5,Dt[1][2],Dt[3][0]),In(6,Dt[1][2],Dt[3][0],iu),In(7,Dt[1][2],Dt[2][0],Dt[3][4],iu),In(8,Dt[1][2],Dt[2][0],Dt[3][0],iu)],oSe=192e3,sSe=176400,YV=96e3,qV=88200,lSe=64e3,v1=48e3,rO=44100,nO=32e3,iO=24e3,aO=22050,oO=16e3,KV=12e3,ZV=11025,sO=8e3,uSe=7350,Eh="absoluteGranulePosition",qt="bandwidth",mu="bitDepth",Oo="bitrate",Qw=Oo+"Maximum",eS=Oo+"Minimum",tS=Oo+"Nominal",Lv="buffer",rS=Lv+"Fullness",yi="codec",_u=yi+"Frames",g_="coupledStreamCount",wy="crc",JV=wy+"16",QV=wy+"32",xi="data",Ut="description",th="duration",nm="emphasis",nS="hasOpusPadding",Ac="header",sp="isContinuedPacket",iS="isCopyrighted",lp="isFirstPage",aS="isHome",Tc="isLastPage",wh="isOriginal",Sh="isPrivate",oS="isVbr",ko="layer",$e="length",Vt="mode",vc=Vt+"Extension",e7="mpeg",Ch=e7+"Version",sS="numberAACFrames",lS="outputGain",m_="preSkip",uS="profile",cS=Kr(),Ah="protection",cSe="rawData",gc="segments",rn="subarray",up="version",g1="vorbis",__=g1+"Comments",y_=g1+"Setup",m1="block",fS=m1+"ingStrategy",hS=Kr(),Vu=m1+"Size",U0=m1+"size0",j0=m1+"size1",im=Kr(),_1="channel",Hu=_1+"MappingFamily",x_=_1+"MappingTable",yu=_1+"Mode",am=Kr(),jt=_1+"s",t7="copyright",dS=t7+"Id",pS=t7+"IdStart",Uc="frame",Xf=Uc+"Count",xu=Uc+"Length",y1="Number",cp=Uc+y1,Ll=Uc+"Padding",Ht=Uc+"Size",r7="Rate",vS="inputSample"+r7,lO="page",b_=lO+"Checksum",Sy=Kr(),$0=lO+"SegmentTable",va=lO+"Sequence"+y1,uO="sample",gS=uO+y1,bn=uO+r7,Ml=Kr(),bi=uO+"s",x1="stream",E_=x1+"Count",n7=x1+"Info",Th=x1+"Serial"+y1,fSe=x1+"StructureVersion",cO="total",w_=cO+"BytesOut",S_=cO+"Duration",PA=cO+"Samples",yn=Kr(),au=Kr(),mS=Kr(),b1=Kr(),Hh=Kr(),i7=Kr(),FB=Kr(),E1=Kr(),Bi=Kr(),Cd=Kr(),jc=Kr(),Mv=Kr(),w1=Kr(),a7=Kr(),Ic=Kr(),Xh=Kr(),Ad=Kr(),o7=Kr(),rl=Uint8Array,S1=DataView,Xr="reserved",ao="bad",_0="free",fO="none",s7="16bit CRC",hO=(t,e,r)=>{for(let n=0;n<t[$e];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},hSe=hO(new rl(256),t=>t,t=>t&128?7^t<<1:t<<1),ln=[hO(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],un=[hO(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){ln.push(new Uint16Array(256)),un.push(new Uint32Array(256));for(let e=0;e<=255;e++)ln[t+1][e]=ln[0][ln[t][e]>>>8]^ln[t][e]<<8,un[t+1][e]=un[t][e]>>>8^un[0][un[t][e]&255]}const dSe=t=>{let e=0;const r=t[$e];for(let n=0;n!==r;n++)e=hSe[e^t[n]];return e},pSe=t=>{const e=t[$e],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=ln[15][n>>8]^ln[14][n&255]^ln[13][t[i++]]^ln[12][t[i++]]^ln[11][t[i++]]^ln[10][t[i++]]^ln[9][t[i++]]^ln[8][t[i++]]^ln[7][t[i++]]^ln[6][t[i++]]^ln[5][t[i++]]^ln[4][t[i++]]^ln[3][t[i++]]^ln[2][t[i++]]^ln[1][t[i++]]^ln[0][t[i++]];for(;i!==e;)n=(n&255)<<8^ln[0][n>>8^t[i++]];return n},vSe=t=>{const e=t[$e],r=e-16;let n=0,i=0;for(;i<=r;)n=un[15][(t[i++]^n)&255]^un[14][(t[i++]^n>>>8)&255]^un[13][(t[i++]^n>>>16)&255]^un[12][t[i++]^n>>>24]^un[11][t[i++]]^un[10][t[i++]]^un[9][t[i++]]^un[8][t[i++]]^un[7][t[i++]]^un[6][t[i++]]^un[5][t[i++]]^un[4][t[i++]]^un[3][t[i++]]^un[2][t[i++]]^un[1][t[i++]]^un[0][t[i++]];for(;i!==e;)n=un[0][(n^t[i++])&255]^n>>>8;return n^-1},OA=(...t)=>{const e=new rl(t.reduce((r,n)=>r+n[$e],0));return t.reduce((r,n)=>(e.set(n,r),r+n[$e]),0),e},$c=t=>String.fromCharCode(...t),kB=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],Cy=t=>kB[t&15]<<4|kB[t>>4];class gSe{constructor(e){this._data=e,this._pos=e[$e]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(Cy(this._data[r-1])<<8)+Cy(this._data[r])>>7-n&255}}class mSe{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[Ic]()}[Xh](){this._isEnabled=!0}[Ic](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[a7](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[Bi](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[Cd](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const ps=new WeakMap,Tu=new WeakMap;class Td{constructor(e,r){this._codecParser=e,this._headerCache=r}*[FB](){let e;do{if(e=yield*this.Frame[jc](this._codecParser,this._headerCache,0),e)return e;this._codecParser[au](1)}while(!0)}*[E1](e){let r=yield*this[FB]();const n=Tu.get(r)[$e];if(e||this._codecParser._flushing||(yield*this.Header[Bi](this._codecParser,this._headerCache,n)))return this._headerCache[Xh](),this._codecParser[au](n),this._codecParser[b1](r),r;this._codecParser[Hh](`Missing ${Uc} at ${n} bytes from current position.`,`Dropping current ${Uc} and trying again.`),this._headerCache[Ic](),this._codecParser[au](1)}}class l7{constructor(e,r){Tu.set(this,{[Ac]:e}),this[xi]=r}}class Bv extends l7{static*[jc](e,r,n,i,a){const o=yield*e[Bi](n,i,a);if(o){const s=ps.get(o)[xu],c=ps.get(o)[bi],l=(yield*n[yn](s,a))[rn](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[Ac]=e,this[bi]=n,this[th]=n/e[bn]*1e3,this[cp]=null,this[w_]=null,this[PA]=null,this[S_]=null,Tu.get(this)[$e]=r[$e]}}const _S="unsynchronizationFlag",yS="extendedHeaderFlag",xS="experimentalFlag",bS="footerPresent";class dO{static*getID3v2Header(e,r,n){const a={};let o=yield*e[yn](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[yn](10,n),a[up]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[_S]=!!(o[5]&128),a[yS]=!!(o[5]&64),a[xS]=!!(o[5]&32),a[bS]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[$e]=10+s,new dO(a)}constructor(e){this[up]=e[up],this[_S]=e[_S],this[yS]=e[yS],this[xS]=e[xS],this[bS]=e[bS],this[$e]=e[$e]}}class Dv{constructor(e){ps.set(this,e),this[mu]=e[mu],this[Oo]=null,this[jt]=e[jt],this[yu]=e[yu],this[bn]=e[bn]}}const u7={0:[_0,_0,_0,_0,_0],16:[32,32,32,32,8],240:[ao,ao,ao,ao,ao]},om=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)u7[t<<4]=[t*32,om(t,4,0),om(t,4,-1),om(t,8,4),om(t,8,0)];const _Se=0,ySe=1,xSe=2,bSe=3,NB=4,sm="bands ",lm=" to 31",LB={0:sm+4+lm,16:sm+8+lm,32:sm+12+lm,48:sm+16+lm},tc="bitrateIndex",fp="v2",C_="v1",um="Intensity stereo ",cm=", MS stereo ",fm="on",hm="off",ESe={0:um+hm+cm+hm,16:um+fm+cm+hm,32:um+hm+cm+fm,48:um+fm+cm+fm},ES={0:{[Ut]:Xr},2:{[Ut]:"Layer III",[Ll]:1,[vc]:ESe,[C_]:{[tc]:xSe,[bi]:1152},[fp]:{[tc]:NB,[bi]:576}},4:{[Ut]:"Layer II",[Ll]:1,[vc]:LB,[bi]:1152,[C_]:{[tc]:ySe},[fp]:{[tc]:NB}},6:{[Ut]:"Layer I",[Ll]:4,[vc]:LB,[bi]:384,[C_]:{[tc]:_Se},[fp]:{[tc]:bSe}}},wS="MPEG Version ",MB="ISO/IEC ",wSe={0:{[Ut]:`${wS}2.5 (later extension of MPEG 2)`,[ko]:fp,[bn]:{0:ZV,4:KV,8:sO,12:Xr}},8:{[Ut]:Xr},16:{[Ut]:`${wS}2 (${MB}13818-3)`,[ko]:fp,[bn]:{0:aO,4:iO,8:oO,12:Xr}},24:{[Ut]:`${wS}1 (${MB}11172-3)`,[ko]:C_,[bn]:{0:rO,4:v1,8:nO,12:Xr}},length:$e},SSe={0:s7,1:fO},CSe={0:fO,1:"50/15 ms",2:Xr,3:"CCIT J.17"},BB={0:{[jt]:2,[Ut]:bh},64:{[jt]:2,[Ut]:"joint "+bh},128:{[jt]:2,[Ut]:"dual channel"},192:{[jt]:1,[Ut]:Nv}};class Dp extends Dv{static*[Bi](e,r,n){const i={},a=yield*dO.getID3v2Header(e,r,n);a&&(yield*e[yn](a[$e],n),e[au](a[$e]));const o=yield*e[yn](4,n),s=$c(o[rn](0,4)),c=r[Bi](s);if(c)return new Dp(c);if(o[0]!==255||o[1]<224)return null;const l=wSe[o[1]&24];if(l[Ut]===Xr)return null;const u=o[1]&6;if(ES[u][Ut]===Xr)return null;const f={...ES[u],...ES[u][l[ko]]};if(i[Ch]=l[Ut],i[ko]=f[Ut],i[bi]=f[bi],i[Ah]=SSe[o[1]&1],i[$e]=4,i[Oo]=u7[o[2]&240][f[tc]],i[Oo]===ao||(i[bn]=l[bn][o[2]&12],i[bn]===Xr)||(i[Ll]=o[2]&2&&f[Ll],i[Sh]=!!(o[2]&1),i[xu]=Math.floor(125*i[Oo]*i[bi]/i[bn]+i[Ll]),!i[xu]))return null;const h=o[3]&192;if(i[yu]=BB[h][Ut],i[jt]=BB[h][jt],i[vc]=f[vc][o[3]&48],i[iS]=!!(o[3]&8),i[wh]=!!(o[3]&4),i[nm]=CSe[o[3]&3],i[nm]===Xr)return null;i[mu]=16;{const{length:d,frameLength:p,samples:v,...m}=i;r[Cd](s,i,m)}return new Dp(i)}constructor(e){super(e),this[Oo]=e[Oo],this[nm]=e[nm],this[Ll]=e[Ll],this[iS]=e[iS],this[wh]=e[wh],this[Sh]=e[Sh],this[ko]=e[ko],this[vc]=e[vc],this[Ch]=e[Ch],this[Ah]=e[Ah]}}class pO extends Bv{static*[jc](e,r,n){return yield*super[jc](Dp,pO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class ASe extends Td{constructor(e,r,n){super(e,r),this.Frame=pO,this.Header=Dp,n(this[yi])}get[yi](){return e7}*[Mv](){return yield*this[E1]()}}const TSe={0:"MPEG-4",8:"MPEG-2"},ISe={0:"valid",2:ao,4:ao,6:ao},RSe={0:s7,1:fO},PSe={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},OSe={0:YV,4:qV,8:lSe,12:v1,16:rO,20:nO,24:iO,28:aO,32:oO,36:KV,40:ZV,44:sO,48:uSe,52:Xr,56:Xr,60:"frequency is written explicitly"},DB={0:{[jt]:0,[Ut]:"Defined in AOT Specific Config"},64:{[jt]:1,[Ut]:Nv},128:{[jt]:2,[Ut]:In(2,Dt[0][0])},192:{[jt]:3,[Ut]:In(3,Dt[1][3])},256:{[jt]:4,[Ut]:In(4,Dt[1][3],Dt[3][4])},320:{[jt]:5,[Ut]:In(5,Dt[1][3],Dt[3][0])},384:{[jt]:6,[Ut]:In(6,Dt[1][3],Dt[3][0],iu)},448:{[jt]:8,[Ut]:In(8,Dt[1][3],Dt[2][0],Dt[3][0],iu)}};class C1 extends Dv{static*[Bi](e,r,n){const i={},a=yield*e[yn](7,n),o=$c([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[Bi](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[Ch]=TSe[a[1]&8],i[ko]=ISe[a[1]&6],i[ko]===ao))return null;const l=a[1]&1;i[Ah]=RSe[l],i[$e]=l?7:9,i[cS]=a[2]&192,i[Ml]=a[2]&60;const u=a[2]&2;if(i[uS]=PSe[i[cS]],i[bn]=OSe[i[Ml]],i[bn]===Xr)return null;i[Sh]=!!u,i[am]=(a[2]<<8|a[3])&448,i[yu]=DB[i[am]][Ut],i[jt]=DB[i[am]][jt],i[wh]=!!(a[3]&32),i[aS]=!!(a[3]&8),i[dS]=!!(a[3]&8),i[pS]=!!(a[3]&4),i[mu]=16,i[bi]=1024,i[sS]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:d,sampleRateBits:p,frameLength:v,samples:m,numberAACFrames:_,...g}=i;r[Cd](o,i,g)}}if(i[xu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[xu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[rS]=c===2047?"VBR":c,new C1(i)}constructor(e){super(e),this[dS]=e[dS],this[pS]=e[pS],this[rS]=e[rS],this[aS]=e[aS],this[wh]=e[wh],this[Sh]=e[Sh],this[ko]=e[ko],this[$e]=e[$e],this[Ch]=e[Ch],this[sS]=e[sS],this[uS]=e[uS],this[Ah]=e[Ah]}get audioSpecificConfig(){const e=ps.get(this),r=e[cS]+64<<5|e[Ml]<<5|e[am]>>3,n=new rl(2);return new S1(n[Lv]).setUint16(0,r,!1),n}}class vO extends Bv{static*[jc](e,r,n){return yield*super[jc](C1,vO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class FSe extends Td{constructor(e,r,n){super(e,r),this.Frame=vO,this.Header=C1,n(this[yi])}get[yi](){return"aac"}*[Mv](){return yield*this[E1]()}}class mc extends Bv{static _getFrameFooterCrc16(e){return(e[e[$e]-2]<<8)+e[e[$e]-1]}static[o7](e){const r=mc._getFrameFooterCrc16(e),n=pSe(e[rn](0,-2));return r===n}constructor(e,r,n){r[n7]=n,r[JV]=mc._getFrameFooterCrc16(e),super(r,e,ps.get(r)[bi])}}const c7="get from STREAMINFO metadata block",kSe={0:"Fixed",1:"Variable"},f7={0:Xr,16:192};for(let t=2;t<16;t++)f7[t<<4]=t<6?576*2**(t-2):2**t;const NSe={0:c7,1:qV,2:sSe,3:oSe,4:sO,5:oO,6:aO,7:iO,8:nO,9:rO,10:v1,11:YV,15:ao},LSe={0:{[jt]:1,[Ut]:Nv},16:{[jt]:2,[Ut]:In(2,Dt[0][0])},32:{[jt]:3,[Ut]:In(3,Dt[0][1])},48:{[jt]:4,[Ut]:In(4,Dt[1][0],Dt[3][0])},64:{[jt]:5,[Ut]:In(5,Dt[1][1],Dt[3][0])},80:{[jt]:6,[Ut]:In(6,Dt[1][1],iu,Dt[3][0])},96:{[jt]:7,[Ut]:In(7,Dt[1][1],iu,Dt[3][4],Dt[2][0])},112:{[jt]:8,[Ut]:In(8,Dt[1][1],iu,Dt[3][0],Dt[2][0])},128:{[jt]:2,[Ut]:`${bh} (left, diff)`},144:{[jt]:2,[Ut]:`${bh} (diff, right)`},160:{[jt]:2,[Ut]:`${bh} (avg, diff)`},176:Xr,192:Xr,208:Xr,224:Xr,240:Xr},MSe={0:c7,2:8,4:12,6:Xr,8:16,10:20,12:24,14:Xr};class Gl extends Dv{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[Ad](e,r){const n={[yn]:function*(){return e}};return Gl[Bi](n,r,0).next().value}static*[Bi](e,r,n){let i=yield*e[yn](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=$c(i[rn](0,4)),s=r[Bi](o);if(s)Object.assign(a,s);else{if(a[hS]=i[1]&1,a[fS]=kSe[a[hS]],a[im]=i[2]&240,a[Ml]=i[2]&15,a[Vu]=f7[a[im]],a[Vu]===Xr||(a[bn]=NSe[a[Ml]],a[bn]===ao)||i[3]&1)return null;const l=LSe[i[3]&240];if(l===Xr||(a[jt]=l[jt],a[yu]=l[Ut],a[mu]=MSe[i[3]&14],a[mu]===Xr))return null}a[$e]=5,i=yield*e[yn](a[$e]+8,n);const c=Gl._decodeUTF8Int(i[rn](4));if(!c||(a[hS]?a[gS]=c.value:a[cp]=c.value,a[$e]+=c[$e],a[im]===96?(i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[Vu]=i[a[$e]-1]+1,a[$e]+=1):a[im]===112&&(i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[Vu]=(i[a[$e]-1]<<8)+i[a[$e]]+1,a[$e]+=2),a[bi]=a[Vu],a[Ml]===12?(i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[bn]=i[a[$e]-1]*1e3,a[$e]+=1):a[Ml]===13?(i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[bn]=(i[a[$e]-1]<<8)+i[a[$e]],a[$e]+=2):a[Ml]===14&&(i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[bn]=((i[a[$e]-1]<<8)+i[a[$e]])*10,a[$e]+=2),i[$e]<a[$e]&&(i=yield*e[yn](a[$e],n)),a[wy]=i[a[$e]-1],a[wy]!==dSe(i[rn](0,a[$e]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:d,blockSizeBits:p,crc:v,length:m,..._}=a;r[Cd](o,a,_)}return new Gl(a)}constructor(e){super(e),this[JV]=null,this[fS]=e[fS],this[Vu]=e[Vu],this[cp]=e[cp],this[gS]=e[gS],this[n7]=null}}const BSe=2,DSe=512*1024;class h7 extends Td{constructor(e,r,n){super(e,r),this.Frame=mc,this.Header=Gl,n(this[yi])}get[yi](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[yn](2,0),n=r[$e]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[Mv](){do{const e=yield*Gl[Bi](this._codecParser,this._headerCache,0);if(e){let r=ps.get(e)[$e]+BSe;for(;r<=DSe;){if(this._codecParser._flushing||(yield*Gl[Bi](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[yn](r);if(this._codecParser._flushing||(n=n[rn](0,r)),mc[o7](n)){const i=new mc(n,e);return this._headerCache[Xh](),this._codecParser[au](r),this._codecParser[b1](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[Hh](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[au](r)}else this._codecParser[au](yield*this._getNextFrameSyncOffset(1))}while(!0)}[w1](e){return e[va]===0?(this._headerCache[Xh](),this._streamInfo=e[xi][rn](13)):e[va]===1||(e[_u]=Tu.get(e)[gc].map(r=>{const n=Gl[Ad](r,this._headerCache);if(n)return new mc(r,n,this._streamInfo);this._codecParser[Hh]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class A1{static*[Bi](e,r,n){const i={};let a=yield*e[yn](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[fSe]=a[4],a[5]&248))return null;i[Tc]=!!(a[5]&4),i[lp]=!!(a[5]&2),i[sp]=!!(a[5]&1);const s=new S1(rl.from(a[rn](0,28))[Lv]);try{i[Eh]=s.getBigInt64(6,!0)}catch{}i[Th]=s.getInt32(14,!0),i[va]=s.getInt32(18,!0),i[b_]=s.getInt32(22,!0);const c=a[26];i[$e]=c+27,a=yield*e[yn](i[$e],n),i[xu]=0,i[$0]=[],i[Sy]=rl.from(a[rn](27,i[$e]));for(let l=0,u=0;l<c;l++){const f=i[Sy][l];i[xu]+=f,u+=f,(f!==255||l===c-1)&&(i[$0].push(u),u=0)}return new A1(i)}constructor(e){ps.set(this,e),this[Eh]=e[Eh],this[sp]=e[sp],this[lp]=e[lp],this[Tc]=e[Tc],this[$0]=e[$0],this[va]=e[va],this[b_]=e[b_],this[Th]=e[Th]}}class gO extends l7{static*[jc](e,r,n){const i=yield*A1[Bi](e,r,n);if(i){const a=ps.get(i)[xu],o=ps.get(i)[$e],s=o+a,c=(yield*e[yn](s,0))[rn](0,s),l=c[rn](o,s);return new gO(i,l,c)}else return null}constructor(e,r,n){super(e,r),Tu.get(this)[$e]=n[$e],this[_u]=[],this[cSe]=n,this[Eh]=e[Eh],this[QV]=e[b_],this[th]=0,this[sp]=e[sp],this[lp]=e[lp],this[Tc]=e[Tc],this[va]=e[va],this[bi]=0,this[Th]=e[Th]}}class UB extends Bv{constructor(e,r){super(r,e,r[Ht]*r[Xf]/1e3*r[bn])}}const jB={0:RA.slice(0,2),1:RA},eo="SILK-only",Ii="CELT-only",dm="Hybrid",bl="narrowband",pm="medium-band",El="wideband",Of="super-wideband",Ff="fullband",USe={0:{[Vt]:eo,[qt]:bl,[Ht]:10},8:{[Vt]:eo,[qt]:bl,[Ht]:20},16:{[Vt]:eo,[qt]:bl,[Ht]:40},24:{[Vt]:eo,[qt]:bl,[Ht]:60},32:{[Vt]:eo,[qt]:pm,[Ht]:10},40:{[Vt]:eo,[qt]:pm,[Ht]:20},48:{[Vt]:eo,[qt]:pm,[Ht]:40},56:{[Vt]:eo,[qt]:pm,[Ht]:60},64:{[Vt]:eo,[qt]:El,[Ht]:10},72:{[Vt]:eo,[qt]:El,[Ht]:20},80:{[Vt]:eo,[qt]:El,[Ht]:40},88:{[Vt]:eo,[qt]:El,[Ht]:60},96:{[Vt]:dm,[qt]:Of,[Ht]:10},104:{[Vt]:dm,[qt]:Of,[Ht]:20},112:{[Vt]:dm,[qt]:Ff,[Ht]:10},120:{[Vt]:dm,[qt]:Ff,[Ht]:20},128:{[Vt]:Ii,[qt]:bl,[Ht]:2.5},136:{[Vt]:Ii,[qt]:bl,[Ht]:5},144:{[Vt]:Ii,[qt]:bl,[Ht]:10},152:{[Vt]:Ii,[qt]:bl,[Ht]:20},160:{[Vt]:Ii,[qt]:El,[Ht]:2.5},168:{[Vt]:Ii,[qt]:El,[Ht]:5},176:{[Vt]:Ii,[qt]:El,[Ht]:10},184:{[Vt]:Ii,[qt]:El,[Ht]:20},192:{[Vt]:Ii,[qt]:Of,[Ht]:2.5},200:{[Vt]:Ii,[qt]:Of,[Ht]:5},208:{[Vt]:Ii,[qt]:Of,[Ht]:10},216:{[Vt]:Ii,[qt]:Of,[Ht]:20},224:{[Vt]:Ii,[qt]:Ff,[Ht]:2.5},232:{[Vt]:Ii,[qt]:Ff,[Ht]:5},240:{[Vt]:Ii,[qt]:Ff,[Ht]:10},248:{[Vt]:Ii,[qt]:Ff,[Ht]:20}};class Up extends Dv{static[Ad](e,r,n){const i={};if(i[jt]=e[9],i[Hu]=e[18],i[$e]=i[Hu]!==0?21+i[jt]:19,e[$e]<i[$e])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=$c(e[rn](0,i[$e]))+$c(r[rn](0,o)),c=n[Bi](s);if(c)return new Up(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[xi]=rl.from(e[rn](0,i[$e]));const l=new S1(i[xi][Lv]);if(i[mu]=16,i[m_]=l.getUint16(10,!0),i[vS]=l.getUint32(12,!0),i[bn]=v1,i[lS]=l.getInt16(16,!0),i[Hu]in jB&&(i[yu]=jB[i[Hu]][i[jt]-1],!i[yu]))return null;i[Hu]!==0&&(i[E_]=e[19],i[g_]=e[20],i[x_]=[...e[rn](21,i[jt]+21)]);const u=USe[248&r[0]];switch(i[Vt]=u[Vt],i[qt]=u[qt],i[Ht]=u[Ht],a){case 0:i[Xf]=1;break;case 1:case 2:i[Xf]=2;break;case 3:i[oS]=!!(128&r[1]),i[nS]=!!(64&r[1]),i[Xf]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:d,...p}=i;n[Cd](s,i,p)}return new Up(i)}constructor(e){super(e),this[xi]=e[xi],this[qt]=e[qt],this[Hu]=e[Hu],this[x_]=e[x_],this[g_]=e[g_],this[Xf]=e[Xf],this[Ht]=e[Ht],this[nS]=e[nS],this[vS]=e[vS],this[oS]=e[oS],this[Vt]=e[Vt],this[lS]=e[lS],this[m_]=e[m_],this[E_]=e[E_]}}class jSe extends Td{constructor(e,r,n){super(e,r),this.Frame=UB,this.Header=Up,n(this[yi]),this._identificationHeader=null}get[yi](){return"opus"}[w1](e){return e[va]===0?(this._headerCache[Xh](),this._identificationHeader=e[xi]):e[va]===1||(e[_u]=Tu.get(e)[gc].map(r=>{const n=Up[Ad](this._identificationHeader,r,this._headerCache);if(n)return new UB(r,n);this._codecParser[i7]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class $B extends Bv{constructor(e,r,n){super(r,e,n)}}const FA={};for(let t=0;t<8;t++)FA[t+6]=2**(6+t);class Ay extends Dv{static[Ad](e,r,n,i){if(e[$e]<30)throw new Error("Out of data while inside an Ogg Page");const a=$c(e[rn](0,30)),o=r[Bi](a);if(o)return new Ay(o);const s={[$e]:30};if(a.substr(0,7)!=="vorbis")return null;s[xi]=rl.from(e[rn](0,30));const c=new S1(s[xi][Lv]);if(s[up]=c.getUint32(7,!0),s[up]!==0||(s[jt]=e[11],s[yu]=RA[s[jt]-1]||"application defined",s[bn]=c.getUint32(12,!0),s[Qw]=c.getInt32(16,!0),s[tS]=c.getInt32(20,!0),s[eS]=c.getInt32(24,!0),s[j0]=FA[(e[28]&240)>>4],s[U0]=FA[e[28]&15],s[U0]>s[j0])||e[29]!==1)return null;s[mu]=32,s[y_]=i,s[__]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:d,...p}=s;r[Cd](a,s,p)}return new Ay(s)}constructor(e){super(e),this[Qw]=e[Qw],this[eS]=e[eS],this[tS]=e[tS],this[U0]=e[U0],this[j0]=e[j0],this[xi]=e[xi],this[__]=e[__],this[y_]=e[y_]}}class $Se extends Td{constructor(e,r,n){super(e,r),this.Frame=$B,n(this[yi]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[yi](){return g1}[w1](e){e[_u]=[];for(const r of Tu.get(e)[gc])if(r[0]===1)this._headerCache[Xh](),this._identificationHeader=e[xi],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=Ay[Ad](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[_u].push(new $B(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[j0]:r[U0],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new gSe(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){Cy(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((Cy(i)&126)>>1)+1!==n.count&&this._codecParser[Hh]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class GSe{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new rl,this._codec=null,this._isSupported=null}get[yi](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[Ic](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=$c(e[rn](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",jSe),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",h7),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(g1,$Se),!0;default:return!1}}_checkPageSequenceNumber(e){e[va]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[va]>1&&this._codecParser[Hh]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[va]}`),this._pageSequenceNumber=e[va]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[va],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Tu.get(e),n=ps.get(r[Ac]);let i=0;if(r[gc]=n[$0].map(a=>e[xi][rn](i,i+=a)),this._continuedPacket[$e]&&(r[gc][0]=OA(this._continuedPacket,r[gc][0]),this._continuedPacket=new rl),n[Sy][n[Sy][$e]-1]===255&&(this._continuedPacket=OA(this._continuedPacket,r[gc].pop())),this._isSupported){const a=this._parser[w1](e);return this._codecParser[b1](a),a}else return e}}class VSe extends Td{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=gO,this.Header=A1,this._streams=new Map,this._currentSerialNumber=null}get[yi](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[Mv](){const e=yield*this[E1](!0);this._currentSerialNumber=e[Th];let r=this._streams.get(this._currentSerialNumber);return r||(r=new GSe(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Tc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const SS=()=>{};class d7{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||SS,this._onCodecHeader=n||SS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?vSe:SS,this[Ic]()}get[yi](){return this._parser?this._parser[yi]:""}[Ic](){this._headerCache=new mSe(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[Ic]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new FSe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new ASe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new h7(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new VSe(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[Mv]();e&&(yield e)}}*[yn](e=0,r=0){let n;for(;this._rawData[$e]<=e+r;){if(n=yield,this._flushing)return this._rawData[rn](r);n&&(this._totalBytesIn+=n[$e],this._rawData=OA(this._rawData,n))}return this._rawData[rn](r)}[au](e){this._currentReadPosition+=e,this._rawData=this._rawData[rn](e)}[mS](e){this._sampleRate=e[Ac][bn],e[Ac][Oo]=e[th]>0?Math.round(e[xi][$e]/e[th])*8:0,e[cp]=this._frameNumber++,e[w_]=this._totalBytesOut,e[PA]=this._totalSamples,e[S_]=this._totalSamples/this._sampleRate*1e3,e[QV]=this._crc32(e[xi]),this._headerCache[a7](e[Ac][Oo],e[S_]),this._totalBytesOut+=e[xi][$e],this._totalSamples+=e[bi]}[b1](e){e[_u]?(e[_u].forEach(r=>{e[th]+=r[th],e[bi]+=r[bi],this[mS](r)}),e[PA]=this._totalSamples,e[S_]=this._totalSamples/this._sampleRate*1e3||0,e[w_]=this._totalBytesOut):this[mS](e)}_log(e,r){if(this._enableLogging){const n=[`${yi}:         ${this[yi]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${w_}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[$e]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[Hh](...e){this._log(console.warn,e)}[i7](...e){this._log(console.error,e)}}const _c=Eh,hp=_u,HSe=g_,A_=xi,p7=Ac,v7=Tc,XSe=m_,WSe=__,zSe=y_,YSe=x_,GB=jt,g7=bi,qSe=E_;function rh(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,rh.wasm||Object.defineProperty(rh,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function d(O,P){return Math.pow(O,P)}var p=(O,P,F)=>a.copyWithin(O,P,P+F),v=O=>{r("OOM")},m=O=>{a.length,v()},_={b:u,a:c,d:f,e:h,f:d,c:l,g:p,h:m};function g(O){O.j()}var x={a:_},E,b,S,C,A,I,R;this.setModule=O=>{t.setModule(rh,O)},this.getModule=()=>t.getModule(rh),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,x)).then(O=>{const P=O.exports;E=P.k,b=P.l,S=P.m,C=P.n,A=P.o,I=P.p,R=P.q,o=P.i,s(),g(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=b,this.free=R,this.create_decoder=E,this.send_setup=S,this.init_dsp=C,this.decode_packets=A,this.destroy_decoder=I}),this)}function nh(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=nh.isWebWorker,this._WASMAudioDecoderCommon=nh.WASMAudioDecoderCommon||Mr,this._EmscriptenWASM=nh.EmscriptenWASM||rh,this._module=nh.module,this._inputSize=128*1024,this._ready=this._init(),this}const kA=Symbol();class mO{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new Mr,this._init(),this[kA](nh)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new d7("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[kA](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[A_][0]===1&&this._decoder.sendSetupHeader(o[A_]),o[hp].length)){const s=o[hp][0][p7];this._decoder.sendSetupHeader(s[WSe]),this._decoder.sendSetupHeader(s[zSe]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[hp].map(s=>s[A_]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[_c])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[_c]-BigInt(i[g7])),i[v7])){const a=n.samplesDecoded-Number(i[_c]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class KSe extends WV{constructor(e){super(e,"ogg-vorbis-decoder",nh,rh)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class ZSe extends mO{constructor(){super(),super[kA](KSe)}async free(){super.free()}terminate(){this._decoder.terminate()}}Sd(mO,"OggVorbisDecoder");Sd(ZSe,"OggVorbisDecoderWebWorker");function ih(t){function e(){}function r(b){throw b}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,ih.wasm||Object.defineProperty(ih,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var b=o.buffer;a=new Uint8Array(b)}function c(b){return Math.cos(b)}function l(b){return Math.exp(b)}var u=(b,S,C)=>a.copyWithin(b,S,S+C),f=b=>{r("OOM")},h=b=>{a.length,f()},d={b:c,a:l,c:u,d:h};function p(b){b.f()}var v={a:d},m,_,g,x,E;this.setModule=b=>{t.setModule(ih,b)},this.getModule=()=>t.getModule(ih),this.instantiate=()=>(this.getModule().then(b=>WebAssembly.instantiate(b,v)).then(b=>{const S=b.exports;m=S.g,_=S.h,g=S.i,x=S.j,E=S.k,o=S.e,s(),p(S),e()}),this.ready=new Promise(b=>{e=b}).then(()=>{this.HEAP=o.buffer,this.malloc=_,this.free=E,this.opus_frame_decoder_create=m,this.opus_frame_decode_float_deinterleaved=g,this.opus_frame_decoder_destroy=x}),this)}function Qo(t={}){Qo.errors||Object.defineProperties(Qo,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(Qo.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],d=0,p=0;for(;p<u.length;){const v=u[p++],m=this._decode(v);f.push(m.outputBuffer),d+=m.samplesDecoded,m.error&&this._common.addError(h,m.error,v.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=v.length,this._outputSamples+=m.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,d,this._sampleRate)},this._isWebWorker=Qo.isWebWorker,this._WASMAudioDecoderCommon=Qo.WASMAudioDecoderCommon||Mr,this._EmscriptenWASM=Qo.EmscriptenWASM||ih,this._module=Qo.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class m7 extends WV{constructor(e){super(e,"opus-decoder",Qo,ih)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}Sd(Qo,"OpusDecoder");Sd(m7,"OpusDecoderWebWorker");class _O{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new Mr,this._decoderClass=Qo,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new d7("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[XSe],this._channels=this._forceStereo?2:e[GB],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[GB],streamCount:e[qSe],coupledStreamCount:e[HSe],channelMappingTable:e[YSe],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[hp].map(s=>s[A_]);if(o.length){this._decoder||await this._instantiateDecoder(a[hp][0][p7]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[_c])>-1&&(this._beginningSampleOffset=a[_c]-BigInt(a[g7])+BigInt(this._preSkip)),a[v7]){if(a[_c]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[_c]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let d=0;d<s.length;d++)s[d]=s[d].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return Mr.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),Mr.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),Mr.getDecodedAudioMultiChannel(...e)}}class JSe extends _O{constructor(e){super(e),this._decoderClass=m7}async free(){super.free()}}Sd(_O,"OggOpusDecoder");Sd(JSe,"OggOpusDecoderWebWorker");async function T_(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await eCe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await QSe(n)}catch(a){return console.error("Vorbis ",a),""}}}async function QSe(t){const e=new mO;await e.ready;const r=await e.decode(t);return _7(r)}async function eCe(t){const e=new _O;await e.ready;const r=await e.decode(t);return _7(r)}function _7(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=tCe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function tCe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const rCe=t=>{var a;Ge.debug("play SE");let e="effect-sound";W.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;Xt(t,"id")&&(e=`effect-sound-${((a=Xt(t,"id"))==null?void 0:a.toString())??""}`,W.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var p;const s=Xt(t,"volume");let c=document.createElement("audio");c.src=await T_(r),c.load(),n&&(c.loop=!0);const l=ue.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((p=l.optionData)==null?void 0:p.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const d={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(d),c==null||c.play(),c.onended=()=>{for(const v of W.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),W.gameplay.performController.unmountPerform(v.performName))}},1)})}},nCe={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],gameScounds:{},menuScounds:{},uiSeAudioElement:null},y7=_x({name:"saveData",initialState:nn(nCe),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},setSaveStatus:(t,e)=>{t[e.payload.key]=e.payload.value}}}),or=y7.actions,iCe=y7.reducer;function aCe(t,e){for(let r=t;r<=e;r++){const n=ue.getState().saveData.saveData[r];n&&Es.setItem(`${W.gameKey}-saves${r}`,n).then(()=>{Ge.info(`${r}`)})}}async function Uv(t,e){for(let r=t;r<=e;r++){const n=await Es.getItem(`${W.gameKey}-saves${r}`);ue.dispatch(or.saveGame({index:r,saveData:n})),Ge.info(`${r}`)}}async function oCe(){const t=ue.getState().saveData.quickSaveData;await Es.setItem(`${W.gameKey}-saves-fast`,t),Ge.info("")}async function x7(){const t=await Es.getItem(`${W.gameKey}-saves-fast`);ue.dispatch(or.setFastSave(t)),Ge.info("")}async function b7(){const t=ue.getState().saveData.unlockStorylineList;await Es.setItem(`${W.gameKey}-storyline`,{data:t}),Ge.info(" >> ")}async function yO(){const t=await Es.getItem(`${W.gameKey}-storyline`);ue.dispatch(or.setStorylineListFromStorage((t==null?void 0:t.data)??[])),Ge.info(" >> ")}async function E7(){const t=ue.getState().saveData.unlockAchieveData;await Es.setItem(`${W.gameKey}-unlock-achieve`,{data:t}),Ge.info(" >>> ")}async function sCe(){const t=await Es.getItem(`${W.gameKey}-unlock-achieve`);ue.dispatch(or.setUnlockAchieveData((t==null?void 0:t.data)||[])),Ge.info(" >>> ")}const Ty=async(t,e)=>{const r=await w7(t,!0,e);ue.dispatch(or.saveGame({index:t,saveData:r})),aCe(t,t)};async function w7(t,e=!0,r){const n=ue.getState().stage,i=nn(W.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=W.videoManager.videosByKey[W.videoManager.currentPlayingVideo];c&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:nn(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:nn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function lCe(){const t=ue.getState().stage,e=nn(W.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:nn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:nn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl}};return ue.dispatch(or.setSaveVideoData(n)),n}const uCe=t=>{const e=ue.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01;let a=!1,o="",s=!1,c=t.content==="none"||t.content==="",l="";const u=Date.now();ue.dispatch(Gp(!1));const f={current:()=>{console.log("")}};t.args.forEach(m=>{m.key==="choose"&&(o="choose:"+m.value),m.key==="continueBgm"&&m.value,m.key==="loop"?s=m.value===!0:m.key==="keep"?(a=m.value===!0,s=!0):m.key==="id"&&(l=m.value)}),l&&!c&&W.videoManager.setUrlIdMap(l,t.content);const h="videoPlay."+(l||Gh());if(c){if(!l)W.videoManager.destroy(W.videoManager.currentPlayingVideo);else{const m=W.videoManager.idURLMap[l];m&&W.videoManager.destroy(m)}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const d=()=>{let m=Xt(t,"skipOff"),_=!0;return W.gameplay.isFast&&W.gameplay.isSyncingWithOrigine?(_=!1,m&&(_=!0),s&&(_=!1),o!==""&&(_=!0,f.current())):(m||s||o!=="")&&(_=!0),a&&(_=!1),_};W.videoManager.showVideo(t.content,a);let p=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:d,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(m=>{const _=g=>{p=!0,W.gameplay.performController.unmountPerform(g.performName)};setTimeout(()=>{const g=t.content,x=ue.getState().saveData.isLoadVideo;W.videoManager.seek(g,.03),W.videoManager.setVolume(g,i),W.videoManager.setLoop(g,s);const E=o?o.slice(7).split("|").map(A=>"game/scene/"+A.split(":")[1]):[];E.length&&wd(E);const b=()=>{if(x){ue.dispatch(pt({component:"showExtra",visibility:!0}));return}for(const A of W.gameplay.performController.performList)if(A.performName===h)if(o!==""&&!s){const I=Wh(o,`${u}.txt`,""),R=W.videoManager.getDuration(g);W.videoManager.seek(g,(R||0)-.03),W.videoManager.pauseVideo(g);const O=I.sentenceList[0],P=IA(O,()=>{_(A)});W.gameplay.performController.arrangeNewPerform(P,O)}else _(A),Sn()};f.current=b;const S={performName:h,duration:a?0:1e3*60*60*24*3650,isOver:!1,isHoldOn:!1,stopFunction:(A=!1)=>{if(!a){const I=document.getElementById("currentVocal");I&&(I.volume=n.toString()),W.videoManager.destroy(g,A)}},blockingNext:d,blockingAuto:()=>!p,stopTimeout:void 0,goNextWhenOver:!0};if(m(S),!a){const I=document.getElementById("currentVocal");I&&(I.volume=0 .toString())}W.videoManager.playVideo(g);const C=ue.getState().saveData.saveData||[];if(C!=null&&C.length&&C.forEach(A=>{var I,R;(R=(I=A==null?void 0:A.nowStageState)==null?void 0:I.PerformList)==null||R.forEach(O=>{var P;((P=O==null?void 0:O.script)==null?void 0:P.content)===g&&setTimeout(()=>{ue.dispatch(Gp(!0))})})}),o&&s){const I=Wh(o,`${u}.txt`,"").sentenceList[0],R=IA(I,b);W.gameplay.performController.arrangeNewPerform(R,I)}setTimeout(()=>{lCe()},1e3),W.videoManager.onEnded(g,()=>{if(s)W.videoManager.seek(g,.03),W.videoManager.playVideo(g);else{const A=ue.getState().stage.showValueList;if(A!=null&&A.length){const I=ue.getState().stage.showValueName,R=A.filter(O=>O.showValueName!==I);ue.dispatch(ohe(R))}b()}})},100)})}},cCe=t=>{var o;ue.getState().stage.currentDialogKey;const e=t.content,r=ga(e),n=(((o=Xt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=by(e,n,r);s&&(Ge.debug(`${e}${n}`,r),(l=W.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;ue.getState().stage.currentDialogKey,(s=W.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function fCe(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const hCe=[{name:"universalSoftIn",animationGenerateFunc:zG},{name:"universalSoftOff",animationGenerateFunc:YG},{name:"testblur",animationGenerateFunc:fCe}],dCe=t=>{var s,c,l;ue.getState().stage.currentDialogKey;const e=t.content,r=Xt(t,"duration")??0,n=((s=Xt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=pCe(e);let o=()=>{};if(a){Ge.debug(`${e}${n}`,r);const u=a(n,r);(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=W.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;ue.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function pCe(t){const e=hCe.find(r=>r.name===t);return Ge.debug("",e),e?e.animationGenerateFunc:null}const vCe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),gCe=t=>{var l;ue.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};W.animationManager.addAnimation(i);const a=ga(e),o=((l=Xt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=by(e,o,a);u&&(Ge.debug(`${e}${o}`,a),(h=W.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;ue.getState().stage.currentDialogKey,(u=W.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function mCe(t){return t.content==="hide"?ue.dispatch(ct({key:"isDisableTextbox",value:!0})):ue.dispatch(ct({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const _Ce=t=>{var u;ue.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=Xt(t,"duration"),a=((u=Xt(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=Mp(a,f,i)}catch{n=[]}const o={name:e,effects:n};W.animationManager.addAnimation(o);const s=xCe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,d;(h=W.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=yCe(e,a,s);f&&(Ge.debug(`${e}${a}`,s),(d=W.gameplay.pixiStage)==null||d.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;ue.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function yCe(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=nn({...$P,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Ge.debug("",i),CV(i,e,r)}return null}function xCe(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const bCe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return Xt(t,"enter")&&W.animationManager.nextEnterAnimationName.set(e,Xt(t,"enter").toString()),Xt(t,"exit")&&W.animationManager.nextExitAnimationName.set(e+"-off",Xt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},ECe=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ge.info(`BGM${r}${e}${n}`),ue.dispatch(Z9({name:r,url:e,series:n}));const i=ue.getState().userData;return Es.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},wCe=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ge.info(`CG${r}${e}${n}`),ue.dispatch(K9({name:r,url:e,series:n}));const i=ue.getState().userData;return Es.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},xO=(t,e=!0,r=!0)=>{t&&W.backlogManager.makeBacklogEmpty(),r&&W.videoManager.destroyAll(!0),e&&W.sceneManager.resetScene(),W.gameplay.performController.removeAllPerform(),W.gameplay.resetGamePlay();const n=nn(k9),i=ue.getState().stage.GameVar;ue.dispatch(Ax(n)),e||ue.dispatch(ct({key:"GameVar",value:i})),ue.dispatch(or.setLoadVideo(!1))},SCe=t=>{xO(!0);const e=ue.dispatch,r=Tt("start.txt",xt.scene);return setTimeout(()=>{W.sceneManager.resetScene()},5),e(or.resetFastSave()),N7(),Ea(r).then(n=>{W.sceneManager.setCurrentScene(n,"start.txt",r)}),e(pt({component:"showTitle",visibility:!0})),e(pt({component:"isInGaming",visibility:!1})),OO(ue.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},CCe=t=>(TV(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),ACe=t=>(W.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Ge.warn("pixi ",e.performName);for(let r=0;r<W.gameplay.performController.performList.length;r++){const n=W.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),W.gameplay.performController.performList.splice(r,1),r--)}ue.dispatch(pa.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),dr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},TCe=t=>(dr.maxAudioLevel=Math.max(t,dr.maxAudioLevel),{OPEN_THRESHOLD:dr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:dr.maxAudioLevel*.5}),ICe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=W.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),dr.blinkTimerID=setTimeout(()=>{var a;(a=W.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;dr.blinkTimerID=setTimeout(r,i)},200))}r()},RCe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},VB=t=>{var h,d;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=W.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((d=W.gameplay.pixiStage)==null||d.performMouthSyncAnimation(o,s,f,c))};class PCe{constructor(e){Ye(this,"subject");Ye(this,"result");Ye(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function T1(t){return new PCe(t)}const OCe=t=>{Ge.debug("play vocal");const e="vocal-play",r=Xt(t,"vocal"),n=Xt(t,"volume");let i;i=ue.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");W.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const p of t.args)p.value===!0&&T1(p.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),p.key==="figureId"&&(o=`${p.value.toString()}`);ue.dispatch(ct({key:"playVocal",value:r})),ue.dispatch(ct({key:"vocal",value:r}));let d=!1;return{arrangePerformPromise:new Promise(p=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?ue.dispatch(ct({key:"vocalVolume",value:n})):ue.dispatch(ct({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const m={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(dr.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const g=c.find(x=>x.targetId===o);VB({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:g,pos:a}),clearTimeout(dr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!d,skipNextCollect:!0,stopTimeout:void 0};W.gameplay.performController.arrangeNewPerform(m,t,!1),o=o||`fig-${a}`;const _=c.find(g=>g.targetId===o);if(_){const g=s.find(b=>b.key===o);if(g&&(a=g.basePosition),!dr.audioContext){let b;b=new AudioContext,dr.analyser=b.createAnalyser(),dr.analyser.fftSize=256,dr.dataArray=new Uint8Array(dr.analyser.frequencyBinCount)}dr.analyser||(dr.analyser=dr.audioContext.createAnalyser(),dr.analyser.fftSize=256),l=dr.analyser.frequencyBinCount,dr.dataArray=new Uint8Array(l);let x=document.getElementById("currentVocal");dr.source||(dr.source=dr.audioContext.createMediaElementSource(x),dr.source.connect(dr.analyser)),dr.analyser.connect(dr.audioContext.destination),dr.audioLevelInterval=setInterval(()=>{const b=RCe(dr.analyser,dr.dataArray,l),{OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:C}=TCe(b);VB({audioLevel:b,OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a})},50);let E;E=Date.now()+1e4,ICe({key:o,animationItem:_,pos:a,animationEndTime:E}),setTimeout(()=>{clearTimeout(dr.blinkTimerID)},1e4)}v.onloadeddata=()=>{v==null||v.play()},v.onended=()=>{for(const g of W.gameplay.performController.performList)g.performName===e&&(d=!0,g.stopFunction(),W.gameplay.performController.unmountPerform(g.performName))}}},1)})}};function S7(t){switch(t){case Js.slow:return 80;case Js.normal:return 35;case Js.fast:return 3}}function FCe(t){switch(t){case Js.slow:return 800;case Js.normal:return 350;case Js.fast:return 200}}const kCe=t=>{const e=ue.getState().stage,r=ue.getState().userData,n=ue.dispatch;let i=Math.random().toString(),a=t.content;const o=Xt(t,"concat"),s=Xt(t,"notend"),c=Xt(t,"speaker"),l=Xt(t,"clear"),u=Xt(t,"vocal");o?(i=e.currentDialogKey,a=e.showText+a,n(ct({key:"currentConcatDialogPrev",value:e.showText}))):n(ct({key:"currentConcatDialogPrev",value:""})),n(ct({key:"showText",value:a})),n(ct({key:"vocal",value:""})),r.optionData.voiceInterruption===bP.no&&u===null||(n(ct({key:"playVocal",value:""})),W.gameplay.performController.unmountPerform("vocal-play",!0)),n(ct({key:"currentDialogKey",value:i}));const h=S7(r.optionData.textSpeed)*t.content.length;for(const m of t.args)if(m.key==="fontSize")switch(m.value){case"default":n(ct({key:"showTextSize",value:-1}));break;case"small":n(ct({key:"showTextSize",value:nu.small}));break;case"medium":n(ct({key:"showTextSize",value:nu.medium}));break;case"large":n(ct({key:"showTextSize",value:nu.large}));break}let d=e.showName;c!==null&&(d=c),l&&(d=""),n(ct({key:"showName",value:d})),u&&OCe(t);const p=Gh();let v=750-r.optionData.textSpeed*250;return s&&(v=0),{performName:p,duration:h+v,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},NCe=t=>{const e=ue.getState().stage,r=ue.getState().userData,n=ue.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(ct({key:"showText",value:JSON.stringify(i)})),n(ct({key:"showName",value:""})),Ge.debug("",i),setTimeout(()=>{W.events.textSettle.emit()},0);const a=Gh(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},LCe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];ue.dispatch(pa.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},MCe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await yO(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ue.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?ue.dispatch(or.addStorylineList({storyLine:o,videoData:ue.getState().saveData.saveVideoData})):ue.dispatch(or.replaceStorylineList({index:i,data:{storyLine:o,videoData:ue.getState().saveData.saveVideoData}})),b7()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),BCe=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ue.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return ue.dispatch(or.saveAllUnlockAchieveList(c)),i===-1?ue.dispatch(or.addUnlockAchieveData(s)):ue.dispatch(or.replaceUnlockAchieveData({index:i,data:s})),E7(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},HB=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function DCe(t){const e={isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSwitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=HB(r.value):r.key==="progressBarStyle"?e.progressBarStyle=HB(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),ue.dispatch(ahe(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}function UCe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,d=Math.min(h/n,1),p=u(d);t.scrollTo(i+o*p,a+s*p),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const jCe=t=>{const e=Gh();let r=0,n=0,i=0,a=!1;console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(s=>{s.key==="duration"?r=Number(s.value):s.key==="x"?n=Number(s.value):s.key==="y"?i=Number(s.value):s.key==="next"&&(a=s.value==="true")});const o=document.getElementById("camera");return o&&(Ge.info(`${n}${i}`),UCe(o,n,i,r)),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},C7=Ewe({intro:Zt(Pt.intro,zwe),changeBg:Zt(Pt.changeBg,gEe),changeFigure:Zt(Pt.changeFigure,mEe),miniAvatar:Zt(Pt.miniAvatar,qwe,{next:!0}),changeScene:Zt(Pt.changeScene,_Ee),choose:Zt(Pt.choose,IA),end:Zt(Pt.end,SCe),bgm:Zt(Pt.bgm,sge,{next:!0}),playVideo:Zt(Pt.video,uCe),setComplexAnimation:Zt(Pt.setComplexAnimation,dCe),setFilter:Zt(Pt.setFilter,vCe),pixiInit:Zt(Pt.pixiInit,ACe,{next:!0}),pixiPerform:Zt(Pt.pixi,tSe,{next:!0}),label:Zt(Pt.label,Ywe,{next:!0}),jumpLabel:Zt(Pt.jumpLabel,CCe),setVar:Zt(Pt.setVar,c_e,{next:!0}),showVars:Zt(Pt.showVars,NCe),unlockCg:Zt(Pt.unlockCg,wCe,{next:!0}),unlockBgm:Zt(Pt.unlockBgm,ECe,{next:!0}),say:Zt(Pt.say,kCe),filmMode:Zt(Pt.filmMode,Awe,{next:!0}),callScene:Zt(Pt.callScene,iye),setTextbox:Zt(Pt.setTextbox,mCe),setAnimation:Zt(Pt.setAnimation,cCe),playEffect:Zt(Pt.playEffect,rCe,{next:!0}),setTempAnimation:Zt(Pt.setTempAnimation,gCe),__commment:Zt(Pt.comment,Cwe,{next:!0}),setTransform:Zt(Pt.setTransform,_Ce),setTransition:Zt(Pt.setTransition,bCe,{next:!0}),getUserInput:Zt(Pt.getUserInput,kwe),applyStyle:Zt(Pt.applyStyle,LCe,{next:!0}),unlockAchieve:Zt(Pt.unlockAchieve,BCe,{next:!0}),unlockStoryline:Zt(Pt.unlockStoryline,MCe,{next:!0}),showValue:Zt(Pt.showValue,DCe,{next:!0}),moveCamera:Zt(Pt.moveCamera,jCe)}),A7=Object.values(C7),$Ce=A7.filter(t=>t.next).map(t=>t.scriptType),I1=new oge(mde,Tt,$Ce,A7),Wh=(t,e,r)=>{const n=I1.parse(t,e,r);return Ge.info(`${e}`,n),n};var nl=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(nl||{});const XB={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class GCe{constructor(){Ye(this,"settledScenes",[]);Ye(this,"settledAssets",[]);Ye(this,"sceneData",nn(XB));Ye(this,"sceneAssetsList",{});Ye(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=nn(XB.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{this.sceneData.currentScene=Wh(e,r,n);const o=this.sceneData.currentScene.sentenceList;r==="storyline.txt"&&this.getAllStorylineList(o),r==="achieve.txt"&&this.getAllUnlockAchieveList(o),a(this.sceneData.currentScene)})}async getAllStorylineList(e){await yO();const r=new Map,n=new Map;ue.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Pt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});ue.dispatch(or.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);ue.dispatch(or.setStorylineListFromStorage(a)),await b7()}async getAllUnlockAchieveList(e){await sCe();const r=new Map,n=new Map;ue.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Pt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});ue.dispatch(or.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);ue.dispatch(or.setUnlockAchieveData(a)),await E7()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class VCe{constructor(){Ye(this,"nextEnterAnimationName",new Map);Ye(this,"nextExitAnimationName",new Map);Ye(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class HCe{constructor(){Ye(this,"isAuto",!1);Ye(this,"isFast",!1);Ye(this,"isSyncingWithOrigine",!1);Ye(this,"autoInterval",null);Ye(this,"fastInterval",null);Ye(this,"autoTimeout",null);Ye(this,"pixiStage",null);Ye(this,"performController",new vEe)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function XCe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class WCe{constructor(){Ye(this,"textSettle",vm("text-settle"));Ye(this,"userInteractNext",vm("__NEXT"));Ye(this,"fullscreenDbClick",vm("fullscreen-dbclick"));Ye(this,"styleUpdate",vm("style-update"))}}const CS=XCe();function vm(t){return{on:(e,r)=>{CS.on(`${t}-${r??""}`,e)},emit:(e,r)=>{CS.emit(`${t}-${r??""}`,e)},off:(e,r)=>{CS.off(`${t}-${r??""}`,e)}}}var T7={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(_e){var Se=typeof _e;return _e!==null&&(Se==="object"||Se==="function")}function u(_e){return typeof _e=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"};var h=f,d=0,p=void 0,v=void 0,m=function(Se,Oe){F[d]=Se,F[d+1]=Oe,d+=2,d===2&&(v?v(N):U())};function _(_e){v=_e}function g(_e){m=_e}var x=typeof window<"u"?window:void 0,E=x||{},b=E.MutationObserver||E.WebKitMutationObserver,S=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(N)}}function I(){return typeof p<"u"?function(){p(N)}:P()}function R(){var _e=0,Se=new b(N),Oe=document.createTextNode("");return Se.observe(Oe,{characterData:!0}),function(){Oe.data=_e=++_e%2}}function O(){var _e=new MessageChannel;return _e.port1.onmessage=N,function(){return _e.port2.postMessage(0)}}function P(){var _e=setTimeout;return function(){return _e(N,1)}}var F=new Array(1e3);function N(){for(var _e=0;_e<d;_e+=2){var Se=F[_e],Oe=F[_e+1];Se(Oe),F[_e]=void 0,F[_e+1]=void 0}d=0}function B(){try{var _e=Function("return this")().require("vertx");return p=_e.runOnLoop||_e.runOnContext,I()}catch{return P()}}var U=void 0;S?U=A():b?U=R():C?U=O():x===void 0?U=B():U=P();function H(_e,Se){var Oe=this,qe=new this.constructor(G);qe[J]===void 0&&Ct(qe);var Ve=Oe._state;if(Ve){var at=arguments[Ve-1];m(function(){return Le(Ve,qe,at,Oe._result)})}else Pe(Oe,qe,_e,Se);return qe}function ee(_e){var Se=this;if(_e&&typeof _e=="object"&&_e.constructor===Se)return _e;var Oe=new Se(G);return Te(Oe,_e),Oe}var J=Math.random().toString(36).substring(2);function G(){}var L=void 0,V=1,$=2;function j(){return new TypeError("You cannot resolve a promise with itself")}function te(){return new TypeError("A promises callback cannot return that same promise.")}function ne(_e,Se,Oe,qe){try{_e.call(Se,Oe,qe)}catch(Ve){return Ve}}function pe(_e,Se,Oe){m(function(qe){var Ve=!1,at=ne(Oe,Se,function(ar){Ve||(Ve=!0,Se!==ar?Te(qe,ar):we(qe,ar))},function(ar){Ve||(Ve=!0,me(qe,ar))},"Settle: "+(qe._label||" unknown promise"));!Ve&&at&&(Ve=!0,me(qe,at))},_e)}function le(_e,Se){Se._state===V?we(_e,Se._result):Se._state===$?me(_e,Se._result):Pe(Se,void 0,function(Oe){return Te(_e,Oe)},function(Oe){return me(_e,Oe)})}function xe(_e,Se,Oe){Se.constructor===_e.constructor&&Oe===H&&Se.constructor.resolve===ee?le(_e,Se):Oe===void 0?we(_e,Se):u(Oe)?pe(_e,Se,Oe):we(_e,Se)}function Te(_e,Se){if(_e===Se)me(_e,j());else if(l(Se)){var Oe=void 0;try{Oe=Se.then}catch(qe){me(_e,qe);return}xe(_e,Se,Oe)}else we(_e,Se)}function ye(_e){_e._onerror&&_e._onerror(_e._result),je(_e)}function we(_e,Se){_e._state===L&&(_e._result=Se,_e._state=V,_e._subscribers.length!==0&&m(je,_e))}function me(_e,Se){_e._state===L&&(_e._state=$,_e._result=Se,m(ye,_e))}function Pe(_e,Se,Oe,qe){var Ve=_e._subscribers,at=Ve.length;_e._onerror=null,Ve[at]=Se,Ve[at+V]=Oe,Ve[at+$]=qe,at===0&&_e._state&&m(je,_e)}function je(_e){var Se=_e._subscribers,Oe=_e._state;if(Se.length!==0){for(var qe=void 0,Ve=void 0,at=_e._result,ar=0;ar<Se.length;ar+=3)qe=Se[ar],Ve=Se[ar+Oe],qe?Le(Oe,qe,Ve,at):Ve(at);_e._subscribers.length=0}}function Le(_e,Se,Oe,qe){var Ve=u(Oe),at=void 0,ar=void 0,Or=!0;if(Ve){try{at=Oe(qe)}catch(zn){Or=!1,ar=zn}if(Se===at){me(Se,te());return}}else at=qe;Se._state!==L||(Ve&&Or?Te(Se,at):Or===!1?me(Se,ar):_e===V?we(Se,at):_e===$&&me(Se,at))}function ze(_e,Se){try{Se(function(qe){Te(_e,qe)},function(qe){me(_e,qe)})}catch(Oe){me(_e,Oe)}}var ut=0;function wt(){return ut++}function Ct(_e){_e[J]=ut++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}function it(){return new Error("Array Methods must be provided an Array")}var lt=function(){function _e(Se,Oe){this._instanceConstructor=Se,this.promise=new Se(G),this.promise[J]||Ct(this.promise),h(Oe)?(this.length=Oe.length,this._remaining=Oe.length,this._result=new Array(this.length),this.length===0?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Oe),this._remaining===0&&we(this.promise,this._result))):me(this.promise,it())}return _e.prototype._enumerate=function(Oe){for(var qe=0;this._state===L&&qe<Oe.length;qe++)this._eachEntry(Oe[qe],qe)},_e.prototype._eachEntry=function(Oe,qe){var Ve=this._instanceConstructor,at=Ve.resolve;if(at===ee){var ar=void 0,Or=void 0,zn=!1;try{ar=Oe.then}catch(Sr){zn=!0,Or=Sr}if(ar===H&&Oe._state!==L)this._settledAt(Oe._state,qe,Oe._result);else if(typeof ar!="function")this._remaining--,this._result[qe]=Oe;else if(Ve===It){var Yn=new Ve(G);zn?me(Yn,Or):xe(Yn,Oe,ar),this._willSettleAt(Yn,qe)}else this._willSettleAt(new Ve(function(Sr){return Sr(Oe)}),qe)}else this._willSettleAt(at(Oe),qe)},_e.prototype._settledAt=function(Oe,qe,Ve){var at=this.promise;at._state===L&&(this._remaining--,Oe===$?me(at,Ve):this._result[qe]=Ve),this._remaining===0&&we(at,this._result)},_e.prototype._willSettleAt=function(Oe,qe){var Ve=this;Pe(Oe,void 0,function(at){return Ve._settledAt(V,qe,at)},function(at){return Ve._settledAt($,qe,at)})},_e}();function _t(_e){return new lt(this,_e).promise}function gr(_e){var Se=this;return h(_e)?new Se(function(Oe,qe){for(var Ve=_e.length,at=0;at<Ve;at++)Se.resolve(_e[at]).then(Oe,qe)}):new Se(function(Oe,qe){return qe(new TypeError("You must pass an array to race."))})}function mr(_e){var Se=this,Oe=new Se(G);return me(Oe,_e),Oe}function fr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ir(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var It=function(){function _e(Se){this[J]=wt(),this._result=this._state=void 0,this._subscribers=[],G!==Se&&(typeof Se!="function"&&fr(),this instanceof _e?ze(this,Se):ir())}return _e.prototype.catch=function(Oe){return this.then(null,Oe)},_e.prototype.finally=function(Oe){var qe=this,Ve=qe.constructor;return u(Oe)?qe.then(function(at){return Ve.resolve(Oe()).then(function(){return at})},function(at){return Ve.resolve(Oe()).then(function(){throw at})}):qe.then(Oe,Oe)},_e}();It.prototype.then=H,It.all=_t,It.race=gr,It.resolve=ee,It.reject=mr,It._setScheduler=_,It._setAsap=g,It._asap=m;function Er(){var _e=void 0;if(typeof c.g<"u")_e=c.g;else if(typeof self<"u")_e=self;else try{_e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Se=_e.Promise;if(Se){var Oe=null;try{Oe=Object.prototype.toString.call(Se.resolve())}catch{}if(Oe==="[object Promise]"&&!Se.cast)return}_e.Promise=It}return It.polyfill=Er,It.Promise=It,It})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,F,N){return Function.prototype.apply.call(P,F,N)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=A,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var d=10;function p(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");d=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function v(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return v(this)},h.prototype.emit=function(P){for(var F=[],N=1;N<arguments.length;N++)F.push(arguments[N]);var B=P==="error",U=this._events;if(U!==void 0)B=B&&U.error===void 0;else if(!B)return!1;if(B){var H;if(F.length>0&&(H=F[0]),H instanceof Error)throw H;var ee=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw ee.context=H,ee}var J=U[P];if(J===void 0)return!1;if(typeof J=="function")c(J,this,F);else for(var G=J.length,L=b(J,G),N=0;N<G;++N)c(L[N],this,F);return!0};function m(O,P,F,N){var B,U,H;if(p(F),U=O._events,U===void 0?(U=O._events=Object.create(null),O._eventsCount=0):(U.newListener!==void 0&&(O.emit("newListener",P,F.listener?F.listener:F),U=O._events),H=U[P]),H===void 0)H=U[P]=F,++O._eventsCount;else if(typeof H=="function"?H=U[P]=N?[F,H]:[H,F]:N?H.unshift(F):H.push(F),B=v(O),B>0&&H.length>B&&!H.warned){H.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=O,ee.type=P,ee.count=H.length,u(ee)}return O}h.prototype.addListener=function(P,F){return m(this,P,F,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,F){return m(this,P,F,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(O,P,F){var N={fired:!1,wrapFn:void 0,target:O,type:P,listener:F},B=_.bind(N);return B.listener=F,N.wrapFn=B,B}h.prototype.once=function(P,F){return p(F),this.on(P,g(this,P,F)),this},h.prototype.prependOnceListener=function(P,F){return p(F),this.prependListener(P,g(this,P,F)),this},h.prototype.removeListener=function(P,F){var N,B,U,H,ee;if(p(F),B=this._events,B===void 0)return this;if(N=B[P],N===void 0)return this;if(N===F||N.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,N.listener||F));else if(typeof N!="function"){for(U=-1,H=N.length-1;H>=0;H--)if(N[H]===F||N[H].listener===F){ee=N[H].listener,U=H;break}if(U<0)return this;U===0?N.shift():S(N,U),N.length===1&&(B[P]=N[0]),B.removeListener!==void 0&&this.emit("removeListener",P,ee||F)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var F,N,B;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[P]),this;if(arguments.length===0){var U=Object.keys(N),H;for(B=0;B<U.length;++B)H=U[B],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=N[P],typeof F=="function")this.removeListener(P,F);else if(F!==void 0)for(B=F.length-1;B>=0;B--)this.removeListener(P,F[B]);return this};function x(O,P,F){var N=O._events;if(N===void 0)return[];var B=N[P];return B===void 0?[]:typeof B=="function"?F?[B.listener||B]:[B]:F?C(B):b(B,B.length)}h.prototype.listeners=function(P){return x(this,P,!0)},h.prototype.rawListeners=function(P){return x(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):E.call(O,P)},h.prototype.listenerCount=E;function E(O){var P=this._events;if(P!==void 0){var F=P[O];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(O,P){for(var F=new Array(P),N=0;N<P;++N)F[N]=O[N];return F}function S(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),F=0;F<P.length;++F)P[F]=O[F].listener||O[F];return P}function A(O,P){return new Promise(function(F,N){function B(H){O.removeListener(P,U),N(H)}function U(){typeof O.removeListener=="function"&&O.removeListener("error",B),F([].slice.call(arguments))}R(O,P,U,{once:!0}),P!=="error"&&I(O,B,{once:!0})})}function I(O,P,F){typeof O.on=="function"&&R(O,"error",P,F)}function R(O,P,F,N){if(typeof O.on=="function")N.once?O.once(P,F):O.on(P,F);else if(typeof O.addEventListener=="function")O.addEventListener(P,function B(U){N.once&&O.removeEventListener(P,B),F(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(_){var g={};function x(b){if(g[b])return g[b].exports;var S=g[b]={i:b,l:!1,exports:{}};return _[b].call(S.exports,S,S.exports,x),S.l=!0,S.exports}x.m=_,x.c=g,x.i=function(b){return b},x.d=function(b,S,C){x.o(b,S)||Object.defineProperty(b,S,{configurable:!1,enumerable:!0,get:C})},x.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},x.n=function(b){var S=b&&b.__esModule?function(){return b.default}:function(){return b};return x.d(S,"a",S),S},x.o=function(b,S){return Object.prototype.hasOwnProperty.call(b,S)},x.p="/",x.oe=function(b){throw console.error(b),b};var E=x(x.s=ENTRY_MODULE);return E.default||E}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(_){return(_+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function d(_){return!isNaN(1*_)}function p(_,g,x){var E={};E[x]=[];var b=g.toString(),S=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!S)return E;for(var C=S[1],A=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),I;I=A.exec(b);)I[3]!=="dll-reference"&&E[x].push(I[3]);for(A=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");I=A.exec(b);)_[I[2]]||(E[x].push(I[1]),_[I[2]]=c(I[1]).m),E[I[2]]=E[I[2]]||[],E[I[2]].push(I[4]);for(var R=Object.keys(E),O=0;O<R.length;O++)for(var P=0;P<E[R[O]].length;P++)d(E[R[O]][P])&&(E[R[O]][P]=1*E[R[O]][P]);return E}function v(_){var g=Object.keys(_);return g.reduce(function(x,E){return x||_[E].length>0},!1)}function m(_,g){for(var x={main:[g]},E={main:[]},b={main:{}};v(x);)for(var S=Object.keys(x),C=0;C<S.length;C++){var A=S[C],I=x[A],R=I.pop();if(b[A]=b[A]||{},!(b[A][R]||!_[A][R])){b[A][R]=!0,E[A]=E[A]||[],E[A].push(R);for(var O=p(_,_[A][R],A),P=Object.keys(O),F=0;F<P.length;F++)x[P[F]]=x[P[F]]||[],x[P[F]]=x[P[F]].concat(O[P[F]])}}return E}o.exports=function(_,g){g=g||{};var x={main:c.m},E=g.all?{main:Object.keys(x.main)}:m(x,_),b="";Object.keys(E).filter(function(R){return R!=="main"}).forEach(function(R){for(var O=0;E[R][O];)O++;E[R].push(O),x[R][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+R+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+E[R].map(function(P){return""+JSON.stringify(P)+": "+x[R][P].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(_))+")({"+E.main.map(function(R){return""+JSON.stringify(R)+": "+x.main[R].toString()}).join(",")+"}))(self);";var S=new window.Blob([b],{type:"text/javascript"});if(g.bare)return S;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,A=C.createObjectURL(S),I=new window.Worker(A);return I.objectURL=A,I}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p=="fetch-stream-loader"||p=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p},h.supportNativeMediaPlayback=function(d){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var p=h.videoElement.canPlayType(d);return p==="probably"||p=="maybe"},h.getFeatureList=function(){var d={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return d.mseFlvPlayback=h.supportMSEH264Playback(),d.networkStreamIO=h.supportNetworkStreamIO(),d.networkLoaderName=h.getNetworkLoaderTypeName(),d.mseLiveFlvPlayback=d.mseFlvPlayback&&d.networkStreamIO,d.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),d.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),d.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),d},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,d=this._search(h.times,f);return{index:d,milliseconds:h.times[d],fileposition:h.filepositions[d]}},u.prototype._search=function(f,h){var d=0,p=f.length-1,v=0,m=0,_=p;for(h<f[0]&&(d=0,m=_+1);m<=_;)if(v=m+Math.floor((_-m)/2),v===p||h>=f[v]&&h<f[v+1]){d=v;break}else f[v]<h?m=v+1:_=v-1;return d},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function d(p,v,m,_,g){this.dts=p,this.pts=v,this.duration=m,this.originalDts=_,this.isSyncPoint=g,this.fileposition=null}return d}(),u=function(){function d(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return d.prototype.appendSyncPoint=function(p){p.isSyncPoint=!0,this.syncPoints.push(p)},d}(),f=function(){function d(){this._list=[]}return d.prototype.clear=function(){this._list=[]},d.prototype.appendArray=function(p){var v=this._list;p.length!==0&&(v.length>0&&p[0].originalDts<v[v.length-1].originalDts&&this.clear(),Array.prototype.push.apply(v,p))},d.prototype.getLastSyncPointBeforeDts=function(p){if(this._list.length==0)return null;var v=this._list,m=0,_=v.length-1,g=0,x=0,E=_;for(p<v[0].dts&&(m=0,x=E+1);x<=E;)if(g=x+Math.floor((E-x)/2),g===_||p>=v[g].dts&&p<v[g+1].dts){m=g;break}else v[g].dts<p?x=g+1:E=g-1;return this._list[m]},d}(),h=function(){function d(p){this._type=p,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),d.prototype.isEmpty=function(){return this._list.length===0},d.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},d.prototype._searchNearestSegmentBefore=function(p){var v=this._list;if(v.length===0)return-2;var m=v.length-1,_=0,g=0,x=m,E=0;if(p<v[0].originalBeginDts)return E=-1,E;for(;g<=x;)if(_=g+Math.floor((x-g)/2),_===m||p>v[_].lastSample.originalDts&&p<v[_+1].originalBeginDts){E=_;break}else v[_].originalBeginDts<p?g=_+1:x=_-1;return E},d.prototype._searchNearestSegmentAfter=function(p){return this._searchNearestSegmentBefore(p)+1},d.prototype.append=function(p){var v=this._list,m=p,_=this._lastAppendLocation,g=0;_!==-1&&_<v.length&&m.originalBeginDts>=v[_].lastSample.originalDts&&(_===v.length-1||_<v.length-1&&m.originalBeginDts<v[_+1].originalBeginDts)?g=_+1:v.length>0&&(g=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,m)},d.prototype.getLastSegmentBefore=function(p){var v=this._searchNearestSegmentBefore(p);return v>=0?this._list[v]:null},d.prototype.getLastSampleBefore=function(p){var v=this.getLastSegmentBefore(p);return v!=null?v.lastSample:null},d.prototype.getLastSyncPointBefore=function(p){for(var v=this._searchNearestSegmentBefore(p),m=this._list[v].syncPoints;m.length===0&&v>0;)v--,m=this._list[v].syncPoints;return m.length>0?m[m.length-1]:null},d}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/mse-events.js"),p=c("./src/core/media-segment-info.js"),v=c("./src/utils/exception.js"),m=function(){function _(g){this.TAG="MSEController",this._config=g,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new p.IDRSampleList}return _.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},_.prototype.on=function(g,x){this._emitter.addListener(g,x)},_.prototype.off=function(g,x){this._emitter.removeListener(g,x)},_.prototype.attachMediaElement=function(g){if(this._mediaSource)throw new v.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=g,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),g.src=this._mediaSourceObjectURL},_.prototype.detachMediaElement=function(){if(this._mediaSource){var g=this._mediaSource;for(var x in this._sourceBuffers){var E=this._pendingSegments[x];E.splice(0,E.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var b=this._sourceBuffers[x];if(b){if(g.readyState!=="closed"){try{g.removeSourceBuffer(b)}catch(S){f.default.e(this.TAG,S.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(g.readyState==="open")try{g.endOfStream()}catch(S){f.default.e(this.TAG,S.message)}g.removeEventListener("sourceopen",this.e.onSourceOpen),g.removeEventListener("sourceended",this.e.onSourceEnded),g.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},_.prototype.appendInitSegment=function(g,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(g),this._pendingSegments[g.type].push(g);return}var E=g,b=""+E.container;E.codec&&E.codec.length>0&&(b+=";codecs="+E.codec);var S=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[E.type]=E,b!==this._mimeTypes[E.type]){if(this._mimeTypes[E.type])f.default.v(this.TAG,"Notice: "+E.type+" mimeType changed, origin: "+this._mimeTypes[E.type]+", target: "+b);else{S=!0;try{var C=this._sourceBuffers[E.type]=this._mediaSource.addSourceBuffer(b);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[E.type]=b}x||this._pendingSegments[E.type].push(E),S||this._sourceBuffers[E.type]&&!this._sourceBuffers[E.type].updating&&this._doAppendSegments(),h.default.safari&&E.container==="audio/mpeg"&&E.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=E.mediaDuration/1e3,this._updateMediaSourceDuration())},_.prototype.appendMediaSegment=function(g){var x=g;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var E=this._sourceBuffers[x.type];E&&!E.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},_.prototype.seek=function(g){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var E=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{E.abort()}catch(R){f.default.e(this.TAG,R.message)}this._idrList.clear();var b=this._pendingSegments[x];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var S=0;S<E.buffered.length;S++){var C=E.buffered.start(S),A=E.buffered.end(S);this._pendingRemoveRanges[x].push({start:C,end:A})}if(E.updating||this._doRemoveRanges(),h.default.safari){var I=this._lastInitSegments[x];I&&(this._pendingSegments[x].push(I),E.updating||this._doAppendSegments())}}}},_.prototype.endOfStream=function(){var g=this._mediaSource,x=this._sourceBuffers;if(!g||g.readyState!=="open"){g&&g.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,g.endOfStream())},_.prototype.getNearestKeyframe=function(g){return this._idrList.getLastSyncPointBeforeDts(g)},_.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var g=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var E=this._sourceBuffers[x];if(E){var b=E.buffered;if(b.length>=1&&g-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},_.prototype._doCleanupSourceBuffer=function(){var g=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var E=this._sourceBuffers[x];if(E){for(var b=E.buffered,S=!1,C=0;C<b.length;C++){var A=b.start(C),I=b.end(C);if(A<=g&&g<I+3){if(g-A>=this._config.autoCleanupMaxBackwardDuration){S=!0;var R=g-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:A,end:R})}}else I<g&&(S=!0,this._pendingRemoveRanges[x].push({start:A,end:I}))}S&&!E.updating&&this._doRemoveRanges()}}},_.prototype._updateMediaSourceDuration=function(){var g=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(g.video&&g.video.updating||g.audio&&g.audio.updating)){var x=this._mediaSource.duration,E=this._pendingMediaDuration;E>0&&(isNaN(x)||E>x)&&(f.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+E),this._mediaSource.duration=E),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},_.prototype._doRemoveRanges=function(){for(var g in this._pendingRemoveRanges)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating))for(var x=this._sourceBuffers[g],E=this._pendingRemoveRanges[g];E.length&&!x.updating;){var b=E.shift();x.remove(b.start,b.end)}},_.prototype._doAppendSegments=function(){var g=this._pendingSegments;for(var x in g)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&g[x].length>0){var E=g[x].shift();if(E.timestampOffset){var b=this._sourceBuffers[x].timestampOffset,S=E.timestampOffset/1e3,C=Math.abs(b-S);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+S),this._sourceBuffers[x].timestampOffset=S),delete E.timestampOffset}if(!E.data||E.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(E.data),this._isBufferFull=!1,x==="video"&&E.hasOwnProperty("info")&&this._idrList.appendArray(E.info.syncPoints)}catch(A){this._pendingSegments[x].unshift(E),A.code===22?(this._isBufferFull||this._emitter.emit(d.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message}))}}},_.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var g=this._pendingSourceBufferInit;g.length;){var x=g.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(d.default.SOURCE_OPEN)},_.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},_.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},_.prototype._hasPendingSegments=function(){var g=this._pendingSegments;return g.video.length>0||g.audio.length>0},_.prototype._hasPendingRemoveRanges=function(){var g=this._pendingRemoveRanges;return g.video.length>0||g.audio.length>0},_.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(d.default.UPDATE_END)},_.prototype._onSourceBufferError=function(g){f.default.e(this.TAG,"SourceBuffer Error: "+g)},_}();s.default=m},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),d=c("./src/utils/logger.js"),p=c("./src/utils/logging-control.js"),v=c("./src/core/transmuxing-controller.js"),m=c("./src/core/transmuxing-events.js"),_=c("./src/core/media-info.js"),g=function(){function x(E,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[E,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},p.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:p.default.getConfig()})}catch{d.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.default(E,b)}else this._controller=new v.default(E,b);if(this._controller){var S=this._controller;S.on(m.default.IO_ERROR,this._onIOError.bind(this)),S.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),S.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),S.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),S.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),S.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),S.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),S.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),S.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),S.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),S.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),p.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(E,b){this._emitter.addListener(E,b)},x.prototype.off=function(E,b){this._emitter.removeListener(E,b)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(E){this._worker?this._worker.postMessage({cmd:"seek",param:E}):this._controller.seek(E)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(E,b){var S=this;Promise.resolve().then(function(){S._emitter.emit(m.default.INIT_SEGMENT,E,b)})},x.prototype._onMediaSegment=function(E,b){var S=this;Promise.resolve().then(function(){S._emitter.emit(m.default.MEDIA_SEGMENT,E,b)})},x.prototype._onLoadingComplete=function(){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(E){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.MEDIA_INFO,E)})},x.prototype._onMetaDataArrived=function(E){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.METADATA_ARRIVED,E)})},x.prototype._onScriptDataArrived=function(E){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.SCRIPTDATA_ARRIVED,E)})},x.prototype._onStatisticsInfo=function(E){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.STATISTICS_INFO,E)})},x.prototype._onIOError=function(E,b){var S=this;Promise.resolve().then(function(){S._emitter.emit(m.default.IO_ERROR,E,b)})},x.prototype._onDemuxError=function(E,b){var S=this;Promise.resolve().then(function(){S._emitter.emit(m.default.DEMUX_ERROR,E,b)})},x.prototype._onRecommendSeekpoint=function(E){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.RECOMMEND_SEEKPOINT,E)})},x.prototype._onLoggingConfigChanged=function(E){this._worker&&this._worker.postMessage({cmd:"logging_config",param:E})},x.prototype._onWorkerMessage=function(E){var b=E.data,S=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,S.type,S.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(S,_.default.prototype),this._emitter.emit(b.msg,S);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(b.msg,S);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(b.msg,S.type,S.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,S);break;case"logcat_callback":d.default.emitter.emit("log",S.type,S.logcat);break}},x}();s.default=g},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-info.js"),p=c("./src/demux/flv-demuxer.js"),v=c("./src/remux/mp4-remuxer.js"),m=c("./src/demux/demux-errors.js"),_=c("./src/io/io-controller.js"),g=c("./src/core/transmuxing-events.js"),x=function(){function E(b,S){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=S,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=C,C+=A.duration,A.cors=b.cors,A.withCredentials=b.withCredentials,S.referrerPolicy&&(A.referrerPolicy=S.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return E.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(b,S){this._emitter.addListener(b,S)},E.prototype.off=function(b,S){this._emitter.removeListener(b,S)},E.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},E.prototype._loadSegment=function(b,S){this._currentSegmentIndex=b;var C=this._mediaDataSource.segments[b],A=this._ioctl=new _.default(C,this._config,b);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),S?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(S)},E.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},E.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},E.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},E.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},E.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var S=this._searchSegmentIndexContains(b);if(S===this._currentSegmentIndex){var C=this._mediaInfo.segments[S];if(C==null)this._pendingSeekTime=b;else{var A=C.getNearestKeyframe(b);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var I=this._mediaInfo.segments[S];if(I==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(S);else{var A=I.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[S].timestampBase,this._loadSegment(S,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(S)}}this._enableStatisticsReporter()}},E.prototype._searchSegmentIndexContains=function(b){for(var S=this._mediaDataSource.segments,C=S.length-1,A=0;A<S.length;A++)if(b<S[A].timestampBase){C=A-1;break}return C},E.prototype._onInitChunkArrival=function(b,S){var C=this,A=null,I=0;if(S>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,I=this._demuxer.parseChunks(b,S);else if((A=p.default.probe(b)).match){this._demuxer=new p.default(A,this._config),this._remuxer||(this._remuxer=new v.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),I=this._demuxer.parseChunks(b,S)}else A=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(g.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),I=0;return I},E.prototype._onMediaInfo=function(b){var S=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,d.default.prototype));var C=Object.assign({},b);Object.setPrototypeOf(C,d.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=S._pendingSeekTime;S._pendingSeekTime=null,S.seek(A)})},E.prototype._onMetaDataArrived=function(b){this._emitter.emit(g.default.METADATA_ARRIVED,b)},E.prototype._onScriptDataArrived=function(b){this._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)},E.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},E.prototype._onIOComplete=function(b){var S=b,C=S+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(g.default.LOADING_COMPLETE),this._disableStatisticsReporter())},E.prototype._onIORedirect=function(b){var S=this._ioctl.extraData;this._mediaDataSource.segments[S].redirectedURL=b},E.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(g.default.RECOVERED_EARLY_EOF)},E.prototype._onIOException=function(b,S){f.default.e(this.TAG,"IOException: type = "+b+", code = "+S.code+", msg = "+S.msg),this._emitter.emit(g.default.IO_ERROR,b,S),this._disableStatisticsReporter()},E.prototype._onDemuxException=function(b,S){f.default.e(this.TAG,"DemuxException: type = "+b+", info = "+S),this._emitter.emit(g.default.DEMUX_ERROR,b,S)},E.prototype._onRemuxerInitSegmentArrival=function(b,S){this._emitter.emit(g.default.INIT_SEGMENT,b,S)},E.prototype._onRemuxerMediaSegmentArrival=function(b,S){if(this._pendingSeekTime==null&&(this._emitter.emit(g.default.MEDIA_SEGMENT,b,S),this._pendingResolveSeekPoint!=null&&b==="video")){var C=S.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===A&&(A=C[0].pts),this._emitter.emit(g.default.RECOMMEND_SEEKPOINT,A)}},E.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},E.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},E.prototype._reportSegmentMediaInfo=function(b){var S=this._mediaInfo.segments[b],C=Object.assign({},S);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(g.default.MEDIA_INFO,C)},E.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(g.default.STATISTICS_INFO,b)},E}();s.default=x},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),d=function(p){var v=null,m=P.bind(this);u.default.install(),p.addEventListener("message",function(F){switch(F.data.cmd){case"init":v=new f.default(F.data.param[0],F.data.param[1]),v.on(h.default.IO_ERROR,I.bind(this)),v.on(h.default.DEMUX_ERROR,R.bind(this)),v.on(h.default.INIT_SEGMENT,_.bind(this)),v.on(h.default.MEDIA_SEGMENT,g.bind(this)),v.on(h.default.LOADING_COMPLETE,x.bind(this)),v.on(h.default.RECOVERED_EARLY_EOF,E.bind(this)),v.on(h.default.MEDIA_INFO,b.bind(this)),v.on(h.default.METADATA_ARRIVED,S.bind(this)),v.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),v.on(h.default.STATISTICS_INFO,A.bind(this)),v.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":v&&(v.destroy(),v=null),p.postMessage({msg:"destroyed"});break;case"start":v.start();break;case"stop":v.stop();break;case"seek":v.seek(F.data.param);break;case"pause":v.pause();break;case"resume":v.resume();break;case"logging_config":{var N=F.data.param;l.default.applyConfig(N),N.enableCallback===!0?l.default.addLogListener(m):l.default.removeLogListener(m);break}}});function _(F,N){var B={msg:h.default.INIT_SEGMENT,data:{type:F,data:N}};p.postMessage(B,[N.data])}function g(F,N){var B={msg:h.default.MEDIA_SEGMENT,data:{type:F,data:N}};p.postMessage(B,[N.data])}function x(){var F={msg:h.default.LOADING_COMPLETE};p.postMessage(F)}function E(){var F={msg:h.default.RECOVERED_EARLY_EOF};p.postMessage(F)}function b(F){var N={msg:h.default.MEDIA_INFO,data:F};p.postMessage(N)}function S(F){var N={msg:h.default.METADATA_ARRIVED,data:F};p.postMessage(N)}function C(F){var N={msg:h.default.SCRIPTDATA_ARRIVED,data:F};p.postMessage(N)}function A(F){var N={msg:h.default.STATISTICS_INFO,data:F};p.postMessage(N)}function I(F,N){p.postMessage({msg:h.default.IO_ERROR,data:{type:F,info:N}})}function R(F,N){p.postMessage({msg:h.default.DEMUX_ERROR,data:{type:F,info:N}})}function O(F){p.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:F})}function P(F,N){p.postMessage({msg:"logcat_callback",data:{type:F,logcat:N}})}};s.default=d},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}(),d=function(){function p(){}return p.parseScriptData=function(v,m,_){var g={};try{var x=p.parseValue(v,m,_),E=p.parseValue(v,m+x.size,_-x.size);g[x.data]=E.data}catch(b){l.default.e("AMF",b.toString())}return g},p.parseObject=function(v,m,_){if(_<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var g=p.parseString(v,m,_),x=p.parseValue(v,m+g.size,_-g.size),E=x.objectEnd;return{data:{name:g.data,value:x.data},size:g.size+x.size,objectEnd:E}},p.parseVariable=function(v,m,_){return p.parseObject(v,m,_)},p.parseString=function(v,m,_){if(_<2)throw new f.IllegalStateException("Data not enough when parse String");var g=new DataView(v,m,_),x=g.getUint16(0,!h),E;return x>0?E=(0,u.default)(new Uint8Array(v,m+2,x)):E="",{data:E,size:2+x}},p.parseLongString=function(v,m,_){if(_<4)throw new f.IllegalStateException("Data not enough when parse LongString");var g=new DataView(v,m,_),x=g.getUint32(0,!h),E;return x>0?E=(0,u.default)(new Uint8Array(v,m+4,x)):E="",{data:E,size:4+x}},p.parseDate=function(v,m,_){if(_<10)throw new f.IllegalStateException("Data size invalid when parse Date");var g=new DataView(v,m,_),x=g.getFloat64(0,!h),E=g.getInt16(8,!h);return x+=E*60*1e3,{data:new Date(x),size:8+2}},p.parseValue=function(v,m,_){if(_<1)throw new f.IllegalStateException("Data not enough when parse Value");var g=new DataView(v,m,_),x=1,E=g.getUint8(0),b,S=!1;try{switch(E){case 0:b=g.getFloat64(1,!h),x+=8;break;case 1:{var C=g.getUint8(1);b=!!C,x+=1;break}case 2:{var A=p.parseString(v,m+1,_-1);b=A.data,x+=A.size;break}case 3:{b={};var I=0;for((g.getUint32(_-4,!h)&16777215)===9&&(I=3);x<_-4;){var R=p.parseObject(v,m+x,_-x-I);if(R.objectEnd)break;b[R.data.name]=R.data.value,x+=R.size}if(x<=_-3){var O=g.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 8:{b={},x+=4;var I=0;for((g.getUint32(_-4,!h)&16777215)===9&&(I=3);x<_-8;){var P=p.parseVariable(v,m+x,_-x-I);if(P.objectEnd)break;b[P.data.name]=P.data.value,x+=P.size}if(x<=_-3){var O=g.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 9:b=void 0,x=1,S=!0;break;case 10:{b=[];var F=g.getUint32(1,!h);x+=4;for(var N=0;N<F;N++){var B=p.parseValue(v,m+x,_-x);b.push(B.data),x+=B.size}break}case 11:{var U=p.parseDate(v,m+1,_-1);b=U.data,x+=U.size;break}case 12:{var H=p.parseString(v,m+1,_-1);b=H.data,x+=H.size;break}default:x=_,l.default.w("AMF","Unsupported AMF value type "+E)}}catch(ee){l.default.e("AMF",ee.toString())}return{data:b,size:x,objectEnd:S}},p}();s.default=d},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var d=Math.min(4,h),p=new Uint8Array(4);p.set(this._buffer.subarray(this._buffer_index,this._buffer_index+d)),this._current_word=new DataView(p.buffer).getUint32(0,!1),this._buffer_index+=d,this._current_word_bits_left=d*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var d=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,d}var p=this._current_word_bits_left?this._current_word:0;p=p>>>32-this._current_word_bits_left;var v=h-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(v,this._current_word_bits_left),_=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,p=p<<m|_,p},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),d=c("./src/core/media-info.js"),p=c("./src/utils/exception.js");function v(_,g){return _[g]<<24|_[g+1]<<16|_[g+2]<<8|_[g+3]}var m=function(){function _(g,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=g.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=g.hasAudioTrack,this._hasVideo=g.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new d.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var E=new ArrayBuffer(2);return new DataView(E).setInt16(0,256,!0),new Int16Array(E)[0]===256}()}return _.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},_.probe=function(g){var x=new Uint8Array(g),E={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return E;var b=(x[4]&4)>>>2!==0,S=(x[4]&1)!==0,C=v(x,5);return C<9?E:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:b,hasVideoTrack:S}},_.prototype.bindDataSource=function(g){return g.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(_.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(g){this._onTrackMetadata=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(g){this._onMediaInfo=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(g){this._onMetaDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(g){this._onScriptDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(g){this._onDataAvailable=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(g){this._timestampBase=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedDuration",{get:function(){return this._duration},set:function(g){this._durationOverrided=!0,this._duration=g,this._mediaInfo.duration=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedHasAudio",{set:function(g){this._hasAudioFlagOverrided=!0,this._hasAudio=g,this._mediaInfo.hasAudio=g},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedHasVideo",{set:function(g){this._hasVideoFlagOverrided=!0,this._hasVideo=g,this._mediaInfo.hasVideo=g},enumerable:!1,configurable:!0}),_.prototype.resetMediaInfo=function(){this._mediaInfo=new d.default},_.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},_.prototype.parseChunks=function(g,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new p.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var E=0,b=this._littleEndian;if(x===0)if(g.byteLength>13){var S=_.probe(g);E=S.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+E!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(g,E),A=C.getUint32(0,!b);A!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),E+=4}for(;E<g.byteLength;){this._dispatch=!0;var C=new DataView(g,E);if(E+11+4>g.byteLength)break;var I=C.getUint8(0),R=C.getUint32(0,!b)&16777215;if(E+11+R+4>g.byteLength)break;if(I!==8&&I!==9&&I!==18){l.default.w(this.TAG,"Unsupported tag type "+I+", skipped"),E+=11+R+4;continue}var O=C.getUint8(4),P=C.getUint8(5),F=C.getUint8(6),N=C.getUint8(7),B=F|P<<8|O<<16|N<<24,U=C.getUint32(7,!b)&16777215;U!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var H=E+11;switch(I){case 8:this._parseAudioData(g,H,R,B);break;case 9:this._parseVideoData(g,H,R,B,x+E);break;case 18:this._parseScriptData(g,H,R);break}var ee=C.getUint32(11+R,!b);ee!==11+R&&l.default.w(this.TAG,"Invalid PrevTagSize "+ee),E+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),E},_.prototype._parseScriptData=function(g,x,E){var b=u.default.parseScriptData(g,x,E);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var S=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},S)),typeof S.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=S.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof S.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=S.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof S.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=S.audiodatarate),typeof S.videodatarate=="number"&&(this._mediaInfo.videoDataRate=S.videodatarate),typeof S.width=="number"&&(this._mediaInfo.width=S.width),typeof S.height=="number"&&(this._mediaInfo.height=S.height),typeof S.duration=="number"){if(!this._durationOverrided){var C=Math.floor(S.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof S.framerate=="number"){var A=Math.floor(S.framerate*1e3);if(A>0){var I=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=I,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=I}}if(typeof S.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=S.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),S.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=S,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},_.prototype._parseKeyframesIndex=function(g){for(var x=[],E=[],b=1;b<g.times.length;b++){var S=this._timestampBase+Math.floor(g.times[b]*1e3);x.push(S),E.push(g.filepositions[b])}return{times:x,filepositions:E}},_.prototype._parseAudioData=function(g,x,E,b){if(E<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var S=new DataView(g,x,E),C=S.getUint8(0),A=C>>>4;if(A!==2&&A!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var I=0,R=(C&12)>>>2;if(R>=0&&R<=4)I=this._flvSoundRateTable[R];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var O=C&1,P=this._audioMetadata,F=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=F.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=I,P.channelCount=O===0?1:2),A===10){var N=this._parseAACAudioData(g,x+1,E-1);if(N==null)return;if(N.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var B=N.data;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.config=B.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.originalCodec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}else if(N.packetType===1){var H=this._timestampBase+b,ee={unit:N.data,length:N.data.byteLength,dts:H,pts:H};F.samples.push(ee),F.length+=N.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+N.packetType)}else if(A===2){if(!P.codec){var B=this._parseMP3AudioData(g,x+1,E-1,!0);if(B==null)return;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.codec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.audioDataRate=B.bitRate,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}var J=this._parseMP3AudioData(g,x+1,E-1,!1);if(J==null)return;var H=this._timestampBase+b,G={unit:J,length:J.byteLength,dts:H,pts:H};F.samples.push(G),F.length+=J.length}}},_.prototype._parseAACAudioData=function(g,x,E){if(E<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},S=new Uint8Array(g,x,E);return b.packetType=S[0],S[0]===0?b.data=this._parseAACAudioSpecificConfig(g,x+1,E-1):b.data=S.subarray(1),b},_.prototype._parseAACAudioSpecificConfig=function(g,x,E){var b=new Uint8Array(g,x,E),S=null,C=0,A=0,I=0,R=null;if(C=A=b[0]>>>3,I=(b[0]&7)<<1|b[1]>>>7,I<0||I>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[I],P=(b[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(R=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var F=self.navigator.userAgent.toLowerCase();return F.indexOf("firefox")!==-1?I>=6?(C=5,S=new Array(4),R=I-3):(C=2,S=new Array(2),R=I):F.indexOf("android")!==-1?(C=2,S=new Array(2),R=I):(C=5,R=I,S=new Array(4),I>=6?R=I-3:P===1&&(C=2,S=new Array(2),R=I)),S[0]=C<<3,S[0]|=(I&15)>>>1,S[1]=(I&15)<<7,S[1]|=(P&15)<<3,C===5&&(S[1]|=(R&15)>>>1,S[2]=(R&1)<<7,S[2]|=8,S[3]=0),{config:S,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+A}},_.prototype._parseMP3AudioData=function(g,x,E,b){if(E<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var S=new Uint8Array(g,x,E),C=null;if(b){if(S[0]!==255)return;var A=S[1]>>>3&3,I=(S[1]&6)>>1,R=(S[2]&240)>>>4,O=(S[2]&12)>>>2,P=S[3]>>>6&3,F=P!==3?2:1,N=0,B=0,U="mp3";switch(A){case 0:N=this._mpegAudioV25SampleRateTable[O];break;case 2:N=this._mpegAudioV20SampleRateTable[O];break;case 3:N=this._mpegAudioV10SampleRateTable[O];break}switch(I){case 1:R<this._mpegAudioL3BitRateTable.length&&(B=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(B=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(B=this._mpegAudioL1BitRateTable[R]);break}C={bitRate:B,samplingRate:N,channelCount:F,codec:U,originalCodec:U}}else C=S;return C},_.prototype._parseVideoData=function(g,x,E,b,S){if(E<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(g,x,E)[0],A=(C&240)>>>4,I=C&15;if(I!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+I);return}this._parseAVCVideoPacket(g,x+1,E-1,b,S,A)}},_.prototype._parseAVCVideoPacket=function(g,x,E,b,S,C){if(E<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,I=new DataView(g,x,E),R=I.getUint8(0),O=I.getUint32(0,!A)&16777215,P=O<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(g,x+4,E-4);else if(R===1)this._parseAVCVideoData(g,x+4,E-4,b,S,C,P);else if(R!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},_.prototype._parseAVCDecoderConfigurationRecord=function(g,x,E){if(E<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,S=this._videoTrack,C=this._littleEndian,A=new DataView(g,x,E);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=S.id,b.timescale=this._timescale,b.duration=this._duration);var I=A.getUint8(0),R=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),I!==1||R===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=A.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,F=0;F<O;F++){var N=A.getUint16(P,!C);if(P+=2,N!==0){var B=new Uint8Array(g,x+P,N);P+=N;var U=f.default.parseSPS(B);if(F===0){b.codecWidth=U.codec_size.width,b.codecHeight=U.codec_size.height,b.presentWidth=U.present_size.width,b.presentHeight=U.present_size.height,b.profile=U.profile_string,b.level=U.level_string,b.bitDepth=U.bit_depth,b.chromaFormat=U.chroma_format,b.sarRatio=U.sar_ratio,b.frameRate=U.frame_rate,(U.frame_rate.fixed===!1||U.frame_rate.fps_num===0||U.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var H=b.frameRate.fps_den,ee=b.frameRate.fps_num;b.refSampleDuration=b.timescale*(H/ee);for(var J=B.subarray(1,4),G="avc1.",L=0;L<3;L++){var V=J[L].toString(16);V.length<2&&(V="0"+V),G+=V}b.codec=G;var $=this._mediaInfo;$.width=b.codecWidth,$.height=b.codecHeight,$.fps=b.frameRate.fps,$.profile=b.profile,$.level=b.level,$.refFrames=U.ref_frames,$.chromaFormat=U.chroma_format_string,$.sarNum=b.sarRatio.width,$.sarDen=b.sarRatio.height,$.videoCodec=G,$.hasAudio?$.audioCodec!=null&&($.mimeType='video/x-flv; codecs="'+$.videoCodec+","+$.audioCodec+'"'):$.mimeType='video/x-flv; codecs="'+$.videoCodec+'"',$.isComplete()&&this._onMediaInfo($)}}}var j=A.getUint8(P);if(j===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else j>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+j);P++;for(var F=0;F<j;F++){var N=A.getUint16(P,!C);P+=2,N!==0&&(P+=N)}b.avcc=new Uint8Array(E),b.avcc.set(new Uint8Array(g,x,E),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},_.prototype._parseAVCVideoData=function(g,x,E,b,S,C,A){for(var I=this._littleEndian,R=new DataView(g,x,E),O=[],P=0,F=0,N=this._naluLengthSize,B=this._timestampBase+b,U=C===1;F<E;){if(F+4>=E){l.default.w(this.TAG,"Malformed Nalu near timestamp "+B+", offset = "+F+", dataSize = "+E);break}var H=R.getUint32(F,!I);if(N===3&&(H>>>=8),H>E-N){l.default.w(this.TAG,"Malformed Nalus near timestamp "+B+", NaluSize > DataSize!");return}var ee=R.getUint8(F+N)&31;ee===5&&(U=!0);var J=new Uint8Array(g,x+F,N+H),G={type:ee,data:J};O.push(G),P+=J.byteLength,F+=N+H}if(O.length){var L=this._videoTrack,V={units:O,length:P,isKeyframe:U,dts:B,cts:A,pts:B+A};U&&(V.fileposition=S),L.samples.push(V),L.length+=P}},_}();s.default=m},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var d=h,p=d.byteLength,v=new Uint8Array(p),m=0,_=0;_<p;_++)_>=2&&d[_]===3&&d[_-1]===0&&d[_-2]===0||(v[m]=d[_],m++);return new Uint8Array(v.buffer,0,m)},f.parseSPS=function(h){var d=f._ebsp2rbsp(h),p=new l.default(d);p.readByte();var v=p.readByte();p.readByte();var m=p.readByte();p.readUEG();var _=f.getProfileString(v),g=f.getLevelString(m),x=1,E=420,b=[0,420,422,444],S=8;if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===144)&&(x=p.readUEG(),x===3&&p.readBits(1),x<=3&&(E=b[x]),S=p.readUEG()+8,p.readUEG(),p.readBits(1),p.readBool()))for(var C=x!==3?8:12,A=0;A<C;A++)p.readBool()&&(A<6?f._skipScalingList(p,16):f._skipScalingList(p,64));p.readUEG();var I=p.readUEG();if(I===0)p.readUEG();else if(I===1){p.readBits(1),p.readSEG(),p.readSEG();for(var R=p.readUEG(),A=0;A<R;A++)p.readSEG()}var O=p.readUEG();p.readBits(1);var P=p.readUEG(),F=p.readUEG(),N=p.readBits(1);N===0&&p.readBits(1),p.readBits(1);var B=0,U=0,H=0,ee=0,J=p.readBool();J&&(B=p.readUEG(),U=p.readUEG(),H=p.readUEG(),ee=p.readUEG());var G=1,L=1,V=0,$=!0,j=0,te=0,ne=p.readBool();if(ne){if(p.readBool()){var pe=p.readByte(),le=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],xe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];pe>0&&pe<16?(G=le[pe-1],L=xe[pe-1]):pe===255&&(G=p.readByte()<<8|p.readByte(),L=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var Te=p.readBits(32),ye=p.readBits(32);$=p.readBool(),j=ye,te=Te*2,V=j/te}}var we=1;(G!==1||L!==1)&&(we=G/L);var me=0,Pe=0;if(x===0)me=1,Pe=2-N;else{var je=x===3?1:2,Le=x===1?2:1;me=je,Pe=Le*(2-N)}var ze=(P+1)*16,ut=(2-N)*((F+1)*16);ze-=(B+U)*me,ut-=(H+ee)*Pe;var wt=Math.ceil(ze*we);return p.destroy(),p=null,{profile_string:_,level_string:g,bit_depth:S,ref_frames:O,chroma_format:E,chroma_format_string:f.getChromaFormatString(E),frame_rate:{fixed:$,fps:V,fps_den:te,fps_num:j},sar_ratio:{width:G,height:L},codec_size:{width:ze,height:ut},present_size:{width:wt,height:ut}}},f._skipScalingList=function(h,d){for(var p=8,v=8,m=0,_=0;_<d;_++)v!==0&&(m=h.readSEG(),v=(p+m+256)%256),p=v===0?p:v},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),d=c("./src/player/native-player.js"),p=c("./src/player/player-events.js"),v=c("./src/player/player-errors.js"),m=c("./src/utils/logging-control.js"),_=c("./src/utils/exception.js");l.default.install();function g(S,C){var A=S;if(A==null||typeof A!="object")throw new _.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new _.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new h.default(A,C);default:return new d.default(A,C)}}function x(){return u.default.supportMSEH264Playback()}function E(){return u.default.getFeatureList()}var b={};b.createPlayer=g,b.isSupported=x,b.getFeatureList=E,b.BaseLoader=f.BaseLoader,b.LoaderStatus=f.LoaderStatus,b.LoaderErrors=f.LoaderErrors,b.Events=p.default,b.ErrorTypes=v.ErrorTypes,b.ErrorDetails=v.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=d.default,b.LoggingControl=m.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(_[x]=g[x])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function _(){this.constructor=v}v.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),d=function(p){h(v,p);function v(m,_){var g=p.call(this,"fetch-stream-loader")||this;return g.TAG="FetchStreamLoader",g._seekHandler=m,g._config=_,g._needStash=!0,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return v.isSupported=function(){try{var m=l.default.msedge&&l.default.version.minor>=15048,_=l.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&_}catch{return!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),p.prototype.destroy.call(this)},v.prototype.open=function(m,_){var g=this;this._dataSource=m,this._range=_;var x=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(x=m.redirectedURL);var E=this._seekHandler.getConfig(x,_),b=new self.Headers;if(typeof E.headers=="object"){var S=E.headers;for(var C in S)S.hasOwnProperty(C)&&b.append(C,S[C])}var A={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)b.append(C,this._config.headers[C]);m.cors===!1&&(A.mode="same-origin"),m.withCredentials&&(A.credentials="include"),m.referrerPolicy&&(A.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(E.url,A).then(function(I){if(g._requestAbort){g._status=u.LoaderStatus.kIdle,I.body.cancel();return}if(I.ok&&I.status>=200&&I.status<=299){if(I.url!==E.url&&g._onURLRedirect){var R=g._seekHandler.removeURLParameters(I.url);g._onURLRedirect(R)}var O=I.headers.get("Content-Length");return O!=null&&(g._contentLength=parseInt(O),g._contentLength!==0&&g._onContentLengthKnown&&g._onContentLengthKnown(g._contentLength)),g._pump.call(g,I.body.getReader())}else if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:I.status,msg:I.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+I.status+" "+I.statusText)}).catch(function(I){if(!(g._abortController&&g._abortController.signal.aborted))if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:I.message});else throw I})},v.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},v.prototype._pump=function(m){var _=this;return m.read().then(function(g){if(g.done)if(_._contentLength!==null&&_._receivedLength<_._contentLength){_._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,E={code:-1,msg:"Fetch stream meet Early-EOF"};if(_._onError)_._onError(x,E);else throw new f.RuntimeException(E.msg)}else _._status=u.LoaderStatus.kComplete,_._onComplete&&_._onComplete(_._range.from,_._range.from+_._receivedLength-1);else{if(_._abortController&&_._abortController.signal.aborted){_._status=u.LoaderStatus.kComplete;return}else if(_._requestAbort===!0)return _._status=u.LoaderStatus.kComplete,m.cancel();_._status=u.LoaderStatus.kBuffering;var b=g.value.buffer,S=_._range.from+_._receivedLength;_._receivedLength+=b.byteLength,_._onDataArrival&&_._onDataArrival(b,S,_._receivedLength),_._pump(m)}}).catch(function(g){if(_._abortController&&_._abortController.signal.aborted){_._status=u.LoaderStatus.kComplete;return}if(!(g.code===11&&l.default.msedge)){_._status=u.LoaderStatus.kError;var x=0,E=null;if((g.code===19||g.message==="network error")&&(_._contentLength===null||_._contentLength!==null&&_._receivedLength<_._contentLength)?(x=u.LoaderErrors.EARLY_EOF,E={code:g.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,E={code:g.code,msg:g.message}),_._onError)_._onError(x,E);else throw new f.RuntimeException(E.msg)}})},v}(u.BaseLoader);s.default=d},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),d=c("./src/io/xhr-moz-chunked-loader.js"),p=c("./src/io/xhr-range-loader.js"),v=c("./src/io/websocket-loader.js"),m=c("./src/io/range-seek-handler.js"),_=c("./src/io/param-seek-handler.js"),g=c("./src/utils/exception.js"),x=function(){function E(b,S,C){this.TAG="IOController",this._config=S,this._extraData=C,this._stashInitialSize=1024*384,S.stashInitialSize!=null&&S.stashInitialSize>0&&(this._stashInitialSize=S.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,S.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return E.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},E.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},E.prototype.isPaused=function(){return this._paused},Object.defineProperty(E.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentSpeed",{get:function(){return this._loaderClass===p.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),E.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var S=b.seekParamStart||"bstart",C=b.seekParamEnd||"bend";this._seekHandler=new _.default(S,C)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new g.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new g.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},E.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(d.default.isSupported())this._loaderClass=d.default;else if(p.default.isSupported())this._loaderClass=p.default;else throw new g.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},E.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},E.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},E.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},E.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},E.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},E.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},E.prototype._internalSeek=function(b,S){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(S),this._loader.destroy(),this._loader=null;var C={from:b,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},E.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new g.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},E.prototype._expandBuffer=function(b){for(var S=this._stashSize;S+1024*1024*1<b;)S*=2;if(S+=1024*1024*1,S!==this._bufferSize){var C=new ArrayBuffer(S);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),I=new Uint8Array(C,0,S);I.set(A,0)}this._stashBuffer=C,this._bufferSize=S}},E.prototype._normalizeSpeed=function(b){var S=this._speedNormalizeList,C=S.length-1,A=0,I=0,R=C;if(b<S[0])return S[0];for(;I<=R;){if(A=I+Math.floor((R-I)/2),A===C||b>=S[A]&&b<S[A+1])return S[A];S[A]<b?I=A+1:R=A-1}},E.prototype._adjustStashSize=function(b){var S=0;this._config.isLive||b<512?S=b:b>=512&&b<=1024?S=Math.floor(b*1.5):S=b*2,S>8192&&(S=8192);var C=S*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=S*1024},E.prototype._dispatchChunks=function(b,S){return this._currentRange.to=S+b.byteLength-1,this._onDataArrival(b,S)},E.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},E.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},E.prototype._onLoaderChunkArrival=function(b,S,C){if(!this._onDataArrival)throw new g.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var I=this._normalizeSpeed(A);this._speedNormalized!==I&&(this._speedNormalized=I,this._adjustStashSize(I))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=S),this._stashUsed+b.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var N=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(N,this._stashByteStart);if(R<N.byteLength){if(R>0){var F=new Uint8Array(N,R);P.set(F,0),this._stashUsed=F.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var R=this._dispatchChunks(b,S);if(R<b.byteLength){var O=b.byteLength-R;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(b,R),0),this._stashUsed+=O,this._stashByteStart=S+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(b,S);if(R<b.byteLength){var O=b.byteLength-R;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(b,R),0),this._stashUsed+=O,this._stashByteStart=S+R}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var F=new Uint8Array(this._stashBuffer,R);P.set(F,0)}this._stashUsed-=R,this._stashByteStart+=R}}},E.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var S=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(S,this._stashByteStart),A=S.byteLength-C;if(C<S.byteLength)if(b)l.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var I=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(S,C);I.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},E.prototype._onLoaderComplete=function(b,S){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},E.prototype._onLoaderError=function(b,S){switch(l.default.e(this.TAG,"Loader error, code = "+S.code+", msg = "+S.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,S);else throw new g.RuntimeException("IOException: "+S.msg)},E}();s.default=x},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function d(p){this._type=p||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return d.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},d.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(p){this._onContentLengthKnown=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(p){this._onURLRedirect=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(p){this._onDataArrival=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onError",{get:function(){return this._onError},set:function(p){this._onError=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onComplete",{get:function(){return this._onComplete},set:function(p){this._onComplete=p},enumerable:!1,configurable:!0}),d.prototype.open=function(p,v){throw new l.NotImplementedException("Unimplemented abstract function!")},d.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},d}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var d=f;if(h.from!==0||h.to!==-1){var p=!0;d.indexOf("?")===-1&&(d+="?",p=!1),p&&(d+="&"),d+=this._startName+"="+h.from.toString(),h.to!==-1&&(d+="&"+this._endName+"="+h.to.toString())}return{url:d,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],d=void 0,p=f.indexOf("?");p!==-1&&(d=f.substring(p+1));var v="";if(d!=null&&d.length>0)for(var m=d.split("&"),_=0;_<m.length;_++){var g=m[_].split("="),x=_>0;g[0]!==this._startName&&g[0]!==this._endName&&(x&&(v+="&"),v+=m[_])}return v.length===0?h:h+"?"+v},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var d={};if(h.from!==0||h.to!==-1){var p=void 0;h.to!==-1?p="bytes="+h.from.toString()+"-"+h.to.toString():p="bytes="+h.from.toString()+"-",d.Range=p}else this._zeroStart&&(d.Range="bytes=0-");return{url:f,headers:d}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var d=function(p,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])},d(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),h=function(d){f(p,d);function p(){var v=d.call(this,"websocket-loader")||this;return v.TAG="WebSocketLoader",v._needStash=!0,v._ws=null,v._requestAbort=!1,v._receivedLength=0,v}return p.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},p.prototype.destroy=function(){this._ws&&this.abort(),d.prototype.destroy.call(this)},p.prototype.open=function(v){try{var m=this._ws=new self.WebSocket(v.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(g){this._status=l.LoaderStatus.kError;var _={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},p.prototype.abort=function(){var v=this._ws;v&&(v.readyState===0||v.readyState===1)&&(this._requestAbort=!0,v.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},p.prototype._onWebSocketOpen=function(v){this._status=l.LoaderStatus.kBuffering},p.prototype._onWebSocketClose=function(v){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},p.prototype._onWebSocketMessage=function(v){var m=this;if(v.data instanceof ArrayBuffer)this._dispatchArrayBuffer(v.data);else if(v.data instanceof Blob){var _=new FileReader;_.onload=function(){m._dispatchArrayBuffer(_.result)},_.readAsArrayBuffer(v.data)}else{this._status=l.LoaderStatus.kError;var g={code:-1,msg:"Unsupported WebSocket message type: "+v.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},p.prototype._dispatchArrayBuffer=function(v){var m=v,_=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,_,this._receivedLength)},p.prototype._onWebSocketError=function(v){this._status=l.LoaderStatus.kError;var m={code:v.code,msg:v.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},p}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(_[x]=g[x])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function _(){this.constructor=v}v.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),d=function(p){h(v,p);function v(m,_){var g=p.call(this,"xhr-moz-chunked-loader")||this;return g.TAG="MozChunkedLoader",g._seekHandler=m,g._config=_,g._needStash=!0,g._xhr=null,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return v.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(_){return l.default.w("MozChunkedLoader",_.message),!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),p.prototype.destroy.call(this)},v.prototype.open=function(m,_){this._dataSource=m,this._range=_;var g=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(g=m.redirectedURL);var x=this._seekHandler.getConfig(g,_);this._requestURL=x.url;var E=this._xhr=new XMLHttpRequest;if(E.open("GET",x.url,!0),E.responseType="moz-chunked-arraybuffer",E.onreadystatechange=this._onReadyStateChange.bind(this),E.onprogress=this._onProgress.bind(this),E.onloadend=this._onLoadEnd.bind(this),E.onerror=this._onXhrError.bind(this),m.withCredentials&&(E.withCredentials=!0),typeof x.headers=="object"){var b=x.headers;for(var S in b)b.hasOwnProperty(S)&&E.setRequestHeader(S,b[S])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var S in b)b.hasOwnProperty(S)&&E.setRequestHeader(S,b[S])}this._status=u.LoaderStatus.kConnecting,E.send()},v.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},v.prototype._onReadyStateChange=function(m){var _=m.target;if(_.readyState===2){if(_.responseURL!=null&&_.responseURL!==this._requestURL&&this._onURLRedirect){var g=this._seekHandler.removeURLParameters(_.responseURL);this._onURLRedirect(g)}if(_.status!==0&&(_.status<200||_.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+_.status+" "+_.statusText);else this._status=u.LoaderStatus.kBuffering}},v.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var _=m.target.response,g=this._range.from+this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,g,this._receivedLength)}},v.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},v.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var _=0,g=null;if(this._contentLength&&m.loaded<this._contentLength?(_=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(_=u.LoaderErrors.EXCEPTION,g={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(_,g);else throw new f.RuntimeException(g.msg)},v}(u.BaseLoader);s.default=d},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),d=function(){var v=function(m,_){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(g[E]=x[E])},v(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");v(m,_);function g(){this.constructor=m}m.prototype=_===null?Object.create(_):(g.prototype=_.prototype,new g)}}(),p=function(v){d(m,v);function m(_,g){var x=v.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=_,x._config=g,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="arraybuffer",_.responseType==="arraybuffer"}catch(g){return l.default.w("RangeLoader",g.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(_,g){this._dataSource=_,this._range=g,this._status=f.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var _=this._currentChunkSizeKB*1024,g=this._range.from+this._receivedLength,x=g+_;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:g,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(_,g){this._lastTimeLoaded=0;var x=_.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:_.redirectedURL!=null&&(x=_.redirectedURL));var E=this._seekHandler.getConfig(x,g);this._currentRequestURL=E.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",E.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),_.withCredentials&&(b.withCredentials=!0),typeof E.headers=="object"){var S=E.headers;for(var C in S)S.hasOwnProperty(C)&&b.setRequestHeader(C,S[C])}if(typeof this._config.headers=="object"){var S=this._config.headers;for(var C in S)S.hasOwnProperty(C)&&b.setRequestHeader(C,S[C])}b.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(_){var g=_.target;if(g.readyState===2){if(g.responseURL!=null){var x=this._seekHandler.removeURLParameters(g.responseURL);g.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(g.status>=200&&g.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+g.status+" "+g.statusText)}},m.prototype._onProgress=function(_){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var g=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,g=!0;var x=_.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,g){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var E=_.loaded-this._lastTimeLoaded;this._lastTimeLoaded=_.loaded,this._speedSampler.addBytes(E)}},m.prototype._normalizeSpeed=function(_){var g=this._chunkSizeKBList,x=g.length-1,E=0,b=0,S=x;if(_<g[0])return g[0];for(;b<=S;){if(E=b+Math.floor((S-b)/2),E===x||_>=g[E]&&_<g[E+1])return g[E];g[E]<_?b=E+1:S=E-1}},m.prototype._onLoad=function(_){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var g=this._speedSampler.lastSecondKBps;if(g===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(g=this._speedSampler.currentKBps)),g!==0){var x=this._normalizeSpeed(g);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var E=_.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=E.byteLength;var S=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():S=!0,this._onDataArrival&&this._onDataArrival(E,b,this._receivedLength),S&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(_){this._status=f.LoaderStatus.kError;var g=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(g=f.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(g=f.LoaderErrors.EXCEPTION,x={code:-1,msg:_.constructor.name+" "+_.type}),this._onError)this._onError(g,x);else throw new h.RuntimeException(x.msg)},m}(f.BaseLoader);s.default=p},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/player/player-events.js"),p=c("./src/core/transmuxer.js"),v=c("./src/core/transmuxing-events.js"),m=c("./src/core/mse-controller.js"),_=c("./src/core/mse-events.js"),g=c("./src/player/player-errors.js"),x=c("./src/config.js"),E=c("./src/utils/exception.js"),b=function(){function S(C,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),C.type.toLowerCase()!=="flv")throw new E.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var I=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(I||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return S.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},S.prototype.on=function(C,A){var I=this;C===d.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){I._emitter.emit(d.default.MEDIA_INFO,I.mediaInfo)}):C===d.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){I._emitter.emit(d.default.STATISTICS_INFO,I.statisticsInfo)}),this._emitter.addListener(C,A)},S.prototype.off=function(C,A){this._emitter.removeListener(C,A)},S.prototype.attachMediaElement=function(C){var A=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(_.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(_.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(_.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(_.default.ERROR,function(I){A._emitter.emit(d.default.ERROR,g.ErrorTypes.MEDIA_ERROR,g.ErrorDetails.MEDIA_MSE_ERROR,I)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},S.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},S.prototype.load=function(){var C=this;if(!this._mediaElement)throw new E.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new E.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new p.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(A,I){C._msectl.appendInitSegment(I)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(A,I){if(C._msectl.appendMediaSegment(I),C._config.lazyLoad&&!C._config.isLive){var R=C._mediaElement.currentTime;I.info.endDts>=(R+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(d.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(d.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(A,I){C._emitter.emit(d.default.ERROR,g.ErrorTypes.NETWORK_ERROR,A,I)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(A,I){C._emitter.emit(d.default.ERROR,g.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:I})}),this._transmuxer.on(v.default.MEDIA_INFO,function(A){C._mediaInfo=A,C._emitter.emit(d.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(A){C._emitter.emit(d.default.METADATA_ARRIVED,A)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(A){C._emitter.emit(d.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(A){C._statisticsInfo=C._fillStatisticsInfo(A),C._emitter.emit(d.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(A){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},S.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},S.prototype.play=function(){return this._mediaElement.play()},S.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(S.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),S.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var A=!0,I=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();I=O.totalVideoFrames,R=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(I=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(C.decodedFrames=I,C.droppedFrames=R),C},S.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,A=this._mediaElement.currentTime,I=0,R=0;R<C.length;R++){var O=C.start(R),P=C.end(R);if(O<=A&&A<P){I=P;break}}I>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},S.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},S.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},S.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,A=this._mediaElement.buffered,I=!1,R=0;R<A.length;R++){var O=A.start(R),P=A.end(R);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(I=!0);break}}I&&(window.clearInterval(this._progressChecker),this._progressChecker=null,I&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},S.prototype._isTimepointBuffered=function(C){for(var A=this._mediaElement.buffered,I=0;I<A.length;I++){var R=A.start(I),O=A.end(I);if(C>=R&&C<O)return!0}return!1},S.prototype._internalSeek=function(C){var A=this._isTimepointBuffered(C),I=!1,R=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(I=!0,R=h.default.safari?.1:O)}if(I)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},S.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},S.prototype._checkAndResumeStuckPlayback=function(C){var A=this._mediaElement;if(C||!this._receivedCanPlay||A.readyState<2){var I=A.buffered;I.length>0&&A.currentTime<I.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+I.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=I.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},S.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},S.prototype._onvSeeking=function(C){var A=this._mediaElement.currentTime,I=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&I.length>0){var R=I.start(0);if(R<1&&A<R||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:R;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(A*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},S.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},S.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},S.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},S}();s.default=b},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),d=c("./src/utils/exception.js"),p=function(){function v(m,_){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof _=="object"&&Object.assign(this._config,_),m.type.toLowerCase()==="flv")throw new d.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new d.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return v.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(m,_){var g=this;m===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.MEDIA_INFO,g.mediaInfo)}):m===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.STATISTICS_INFO,g.statisticsInfo)}),this._emitter.addListener(m,_)},v.prototype.off=function(m,_){this._emitter.removeListener(m,_)},v.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.load=function(){if(!this._mediaElement)throw new d.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},v.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",_={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(_.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(_.width=this._mediaElement.videoWidth,_.height=this._mediaElement.videoHeight)),_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var _=!0,g=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var E=this._mediaElement.getVideoPlaybackQuality();g=E.totalVideoFrames,x=E.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(g=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):_=!1;return _&&(m.decodedFrames=g,m.droppedFrames=x),m},enumerable:!1,configurable:!0}),v.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},v.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},v}();s.default=p},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,d=null,p=Array.prototype.slice.call(arguments,1),v=p.length,m=0;m<v;m++)h+=p[m].byteLength;d=new Uint8Array(h),d[0]=h>>>24&255,d[1]=h>>>16&255,d[2]=h>>>8&255,d[3]=h&255,d.set(f,4);for(var _=8,m=0;m<v;m++)d.set(p[m],_),_+=p[m].byteLength;return d},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),d=u.moov(f),p=new Uint8Array(h.byteLength+d.byteLength);return p.set(h,0),p.set(d,h.byteLength),p},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),d=u.trak(f),p=u.mvex(f);return u.box(u.types.moov,h,d,p)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,d=f.duration,p=f.presentWidth,v=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,p>>>8&255,p&255,0,0,v>>>8&255,v&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,d=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types[".mp3"],p)},u.mp4a=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types.mp4a,p,u.esds(f))},u.esds=function(f){var h=f.config||[],d=h.length,p=new Uint8Array([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([d]).concat(h).concat([6,1,2]));return u.box(u.types.esds,p)},u.avc1=function(f){var h=f.avcc,d=f.codecWidth,p=f.codecHeight,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>>8&255,d&255,p>>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,v,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,d=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,d)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var d=f.id,p=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255])),v=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),m=u.sdtp(f),_=u.trun(f,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,p,v,_,m)},u.sdtp=function(f){for(var h=f.samples||[],d=h.length,p=new Uint8Array(4+d),v=0;v<d;v++){var m=h[v].flags;p[v+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,p)},u.trun=function(f,h){var d=f.samples||[],p=d.length,v=12+16*p,m=new Uint8Array(v);h+=8+v,m.set([0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,p&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var _=0;_<p;_++){var g=d[_].duration,x=d[_].size,E=d[_].flags,b=d[_].cts;m.set([g>>>24&255,g>>>16&255,g>>>8&255,g&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,E.isLeading<<2|E.dependsOn,E.isDependedOn<<6|E.hasRedundancy<<4|E.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*_)}return u.box(u.types.trun,m)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-segment-info.js"),p=c("./src/utils/exception.js"),v=function(){function m(_){this.TAG="MP4Remuxer",this._config=_,this._isLive=_.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new d.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new d.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(_){return _.onDataAvailable=this.remux.bind(this),_.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(_){this._onInitSegment=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(_){this._onMediaSegment=_},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(_){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(_,g){if(!this._onMediaSegment)throw new p.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(_,g),this._remuxVideo(g),this._remuxAudio(_)},m.prototype._onTrackMetadataReceived=function(_,g){var x=null,E="mp4",b=g.codec;if(_==="audio")this._audioMeta=g,g.codec==="mp3"&&this._mp3UseMpegAudio?(E="mpeg",b="",x=new Uint8Array):x=u.default.generateInitSegment(g);else if(_==="video")this._videoMeta=g,x=u.default.generateInitSegment(g);else return;if(!this._onInitSegment)throw new p.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(_,{type:_,data:x.buffer,codec:b,container:_+"/"+E,mediaDuration:g.duration})},m.prototype._calculateDtsBase=function(_,g){this._dtsBaseInited||(_.samples&&_.samples.length&&(this._audioDtsBase=_.samples[0].dts),g.samples&&g.samples.length&&(this._videoDtsBase=g.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var _=this._videoStashedLastSample,g=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};_!=null&&(x.samples.push(_),x.length=_.length);var E={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};g!=null&&(E.samples.push(g),E.length=g.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(E,!0)},m.prototype._remuxAudio=function(_,g){if(this._audioMeta!=null){var x=_,E=x.samples,b=void 0,S=-1,C=-1,A=this._audioMeta.refSampleDuration,I=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!E||E.length===0)&&!(E.length===1&&!g)){var P=0,F=null,N=0;I?(P=0,N=x.length):(P=8,N=8+x.length);var B=null;if(E.length>1&&(B=E.pop(),N-=B.length),this._audioStashedLastSample!=null){var U=this._audioStashedLastSample;this._audioStashedLastSample=null,E.unshift(U),N+=U.length}B!=null&&(this._audioStashedLastSample=B);var H=E[0].dts-this._dtsBase;if(this._audioNextDts)b=H-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var ee=this._audioSegmentInfoList.getLastSampleBefore(H);if(ee!=null){var J=H-(ee.originalDts+ee.duration);J<=3&&(J=0);var G=ee.dts+ee.duration+J;b=H-G}else b=0}if(O){var L=H-b,V=this._videoSegmentInfoList.getLastSegmentBefore(H);if(V!=null&&V.beginDts<L){var $=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if($){var j=V.beginDts,te=L-V.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+j+", duration: "+te),E.unshift({unit:$,dts:j,pts:j}),N+=$.byteLength}}else O=!1}for(var ne=[],pe=0;pe<E.length;pe++){var U=E[pe],le=U.unit,xe=U.dts-this._dtsBase,j=xe,Te=!1,ye=null,we=0;if(!(xe<-.001)){if(this._audioMeta.codec!=="mp3"){var me=xe,Pe=3;if(this._audioNextDts&&(me=this._audioNextDts),b=xe-me,b<=-Pe*A){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+xe+" ms ,curRefDts: "+me+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=Pe*A&&this._fillAudioTimestampGap&&!h.default.safari){Te=!0;var je=Math.floor(b/A);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+xe+" ms, curRefDts: "+me+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+je+" frames")),j=Math.floor(me),we=Math.floor(me+A)-j;var $=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);$==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),$=le),ye=[];for(var Le=0;Le<je;Le++){me=me+A;var ze=Math.floor(me),ut=Math.floor(me+A)-ze,wt={dts:ze,pts:ze,cts:0,unit:$,size:$.byteLength,duration:ut,originalDts:xe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};ye.push(wt),N+=wt.size}this._audioNextDts=me+A}else j=Math.floor(me),we=Math.floor(me+A)-j,this._audioNextDts=me+A}else{if(j=xe-b,pe!==E.length-1){var Ct=E[pe+1].dts-this._dtsBase-b;we=Ct-j}else if(B!=null){var Ct=B.dts-this._dtsBase-b;we=Ct-j}else ne.length>=1?we=ne[ne.length-1].duration:we=Math.floor(A);this._audioNextDts=j+we}S===-1&&(S=j),ne.push({dts:j,pts:j,cts:0,unit:U.unit,size:U.unit.byteLength,duration:we,originalDts:xe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Te&&ne.push.apply(ne,ye)}}if(ne.length===0){x.samples=[],x.length=0;return}I?F=new Uint8Array(N):(F=new Uint8Array(N),F[0]=N>>>24&255,F[1]=N>>>16&255,F[2]=N>>>8&255,F[3]=N&255,F.set(u.default.types.mdat,4));for(var pe=0;pe<ne.length;pe++){var le=ne[pe].unit;F.set(le,P),P+=le.byteLength}var it=ne[ne.length-1];C=it.dts+it.duration;var lt=new d.MediaSegmentInfo;lt.beginDts=S,lt.endDts=C,lt.beginPts=S,lt.endPts=C,lt.originalBeginDts=ne[0].originalDts,lt.originalEndDts=it.originalDts+it.duration,lt.firstSample=new d.SampleInfo(ne[0].dts,ne[0].pts,ne[0].duration,ne[0].originalDts,!1),lt.lastSample=new d.SampleInfo(it.dts,it.pts,it.duration,it.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(lt),x.samples=ne,x.sequenceNumber++;var _t=null;I?_t=new Uint8Array:_t=u.default.moof(x,S),x.samples=[],x.length=0;var gr={type:"audio",data:this._mergeBoxes(_t,F).buffer,sampleCount:ne.length,info:lt};I&&R&&(gr.timestampOffset=S),this._onMediaSegment("audio",gr)}}},m.prototype._remuxVideo=function(_,g){if(this._videoMeta!=null){var x=_,E=x.samples,b=void 0,S=-1,C=-1,A=-1,I=-1;if(!(!E||E.length===0)&&!(E.length===1&&!g)){var R=8,O=null,P=8+_.length,F=null;if(E.length>1&&(F=E.pop(),P-=F.length),this._videoStashedLastSample!=null){var N=this._videoStashedLastSample;this._videoStashedLastSample=null,E.unshift(N),P+=N.length}F!=null&&(this._videoStashedLastSample=F);var B=E[0].dts-this._dtsBase;if(this._videoNextDts)b=B-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var U=this._videoSegmentInfoList.getLastSampleBefore(B);if(U!=null){var H=B-(U.originalDts+U.duration);H<=3&&(H=0);var ee=U.dts+U.duration+H;b=B-ee}else b=0}for(var J=new d.MediaSegmentInfo,G=[],L=0;L<E.length;L++){var N=E[L],V=N.dts-this._dtsBase,$=N.isKeyframe,j=V-b,te=N.cts,ne=j+te;S===-1&&(S=j,A=ne);var pe=0;if(L!==E.length-1){var le=E[L+1].dts-this._dtsBase-b;pe=le-j}else if(F!=null){var le=F.dts-this._dtsBase-b;pe=le-j}else G.length>=1?pe=G[G.length-1].duration:pe=Math.floor(this._videoMeta.refSampleDuration);if($){var xe=new d.SampleInfo(j,ne,pe,N.dts,!0);xe.fileposition=N.fileposition,J.appendSyncPoint(xe)}G.push({dts:j,pts:ne,cts:te,units:N.units,size:N.length,isKeyframe:$,duration:pe,originalDts:V,flags:{isLeading:0,dependsOn:$?2:1,isDependedOn:$?1:0,hasRedundancy:0,isNonSync:$?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var L=0;L<G.length;L++)for(var Te=G[L].units;Te.length;){var ye=Te.shift(),we=ye.data;O.set(we,R),R+=we.byteLength}var me=G[G.length-1];if(C=me.dts+me.duration,I=me.pts+me.duration,this._videoNextDts=C,J.beginDts=S,J.endDts=C,J.beginPts=A,J.endPts=I,J.originalBeginDts=G[0].originalDts,J.originalEndDts=me.originalDts+me.duration,J.firstSample=new d.SampleInfo(G[0].dts,G[0].pts,G[0].duration,G[0].originalDts,G[0].isKeyframe),J.lastSample=new d.SampleInfo(me.dts,me.pts,me.duration,me.originalDts,me.isKeyframe),this._isLive||this._videoSegmentInfoList.append(J),x.samples=G,x.sequenceNumber++,this._forceFirstIDR){var Pe=G[0].flags;Pe.dependsOn=2,Pe.isNonSync=0}var je=u.default.moof(x,S);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(je,O).buffer,sampleCount:G.length,info:J})}}},m.prototype._mergeBoxes=function(_,g){var x=new Uint8Array(_.byteLength+g.byteLength);return x.set(_,0),x.set(g,_.byteLength),x},m}();s.default=v},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],d=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],p={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:d[0]||""},v={};if(p.browser){v[p.browser]=!0;var m=p.majorVersion.split(".");v.version={major:parseInt(p.majorVersion,10),string:p.version},m.length>1&&(v.version.minor=parseInt(m[1],10)),m.length>2&&(v.version.build=parseInt(m[2],10))}if(p.platform&&(v[p.platform]=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){v.rv&&delete v.rv;var _="msie";p.browser=_,v[_]=!0}if(v.edge){delete v.edge;var g="msedge";p.browser=g,v[g]=!0}if(v.opr){var x="opera";p.browser=x,v[x]=!0}if(v.safari&&v.android){var E="android";p.browser=E,v[E]=!0}v.name=p.browser,v.platform=p.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,v)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return d}});var l=function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(_[x]=g[x])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function _(){this.constructor=v}v.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),u=function(){function p(v){this._message=v}return Object.defineProperty(p.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),p.prototype.toString=function(){return this.name+": "+this.message},p}(),f=function(p){l(v,p);function v(m){return p.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),v}(u),h=function(p){l(v,p);function v(m){return p.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),v}(u),d=function(p){l(v,p);function v(m){return p.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),v}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",v),h.ENABLE_ERROR&&(console.error?console.error(v):console.warn?console.warn(v):console.log(v))},h.i=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",v),h.ENABLE_INFO&&(console.info?console.info(v):console.log(v))},h.w=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",v),h.ENABLE_WARN&&(console.warn?console.warn(v):console.log(v))},h.d=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",v),h.ENABLE_DEBUG&&(console.debug?console.debug(v):console.log(v))},h.v=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",v),h.ENABLE_VERBOSE&&console.log(v)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function d(){}return Object.defineProperty(d,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(p){f.default.FORCE_GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(p){f.default.GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_VERBOSE=p,f.default.ENABLE_DEBUG=p,f.default.ENABLE_INFO=p,f.default.ENABLE_WARN=p,f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(p){f.default.ENABLE_DEBUG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(p){f.default.ENABLE_VERBOSE=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(p){f.default.ENABLE_INFO=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(p){f.default.ENABLE_WARN=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),d.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},d.applyConfig=function(p){f.default.GLOBAL_TAG=p.globalTag,f.default.FORCE_GLOBAL_TAG=p.forceGlobalTag,f.default.ENABLE_VERBOSE=p.enableVerbose,f.default.ENABLE_DEBUG=p.enableDebug,f.default.ENABLE_INFO=p.enableInfo,f.default.ENABLE_WARN=p.enableWarn,f.default.ENABLE_ERROR=p.enableError,f.default.ENABLE_CALLBACK=p.enableCallback},d._notifyChange=function(){var p=d.emitter;if(p.listenerCount("change")>0){var v=d.getConfig();p.emit("change",v)}},d.registerListener=function(p){d.emitter.addListener("change",p)},d.removeListener=function(p){d.emitter.removeListener("change",p)},d.addLogListener=function(p){f.default.emitter.addListener("log",p),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,d._notifyChange())},d.removeLogListener=function(p){f.default.emitter.removeListener("log",p),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,d._notifyChange())},d}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),d=1;d<arguments.length;d++){var p=arguments[d];if(p!=null)for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,d){var p=f;if(h+d<p.length){for(;d--;)if((p[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],d=f,p=0,v=f.length;p<v;){if(d[p]<128){h.push(String.fromCharCode(d[p])),++p;continue}else if(!(d[p]<192)){if(d[p]<224){if(l(d,p,1)){var m=(d[p]&31)<<6|d[p+1]&63;if(m>=128){h.push(String.fromCharCode(m&65535)),p+=2;continue}}}else if(d[p]<240){if(l(d,p,2)){var m=(d[p]&15)<<12|(d[p+1]&63)<<6|d[p+2]&63;if(m>=2048&&(m&63488)!==55296){h.push(String.fromCharCode(m&65535)),p+=3;continue}}}else if(d[p]<248&&l(d,p,3)){var m=(d[p]&7)<<18|(d[p+1]&63)<<12|(d[p+2]&63)<<6|d[p+3]&63;if(m>65536&&m<1114112){m-=65536,h.push(String.fromCharCode(m>>>10|55296)),h.push(String.fromCharCode(m&1023|56320)),p+=4;continue}}}h.push(String.fromCharCode(65533)),++p}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(T7);var zCe=T7.exports;const NA=wi(zCe);var I7={exports:{}},AS={exports:{}};const YCe={},qCe=Object.freeze(Object.defineProperty({__proto__:null,default:YCe},Symbol.toStringTag,{value:"Module"})),R7=Nee(qCe);var WB;function er(){return WB||(WB=1,function(t,e){(function(r,n){t.exports=n()})(ot,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof ot<"u"&&ot.crypto&&(a=ot.crypto),!a&&typeof D0=="function")try{a=R7}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function g(){}return function(x){var E;return g.prototype=x,E=new g,g.prototype=null,E}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(g){var x=s(this);return g&&x.mixIn(g),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var x in g)g.hasOwnProperty(x)&&(this[x]=g[x]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(g,x){g=this.words=g||[],x!=i?this.sigBytes=x:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var x=this.words,E=g.words,b=this.sigBytes,S=g.sigBytes;if(this.clamp(),b%4)for(var C=0;C<S;C++){var A=E[C>>>2]>>>24-C%4*8&255;x[b+C>>>2]|=A<<24-(b+C)%4*8}else for(var I=0;I<S;I+=4)x[b+I>>>2]=E[I>>>2];return this.sigBytes+=S,this},clamp:function(){var g=this.words,x=this.sigBytes;g[x>>>2]&=4294967295<<32-x%4*8,g.length=n.ceil(x/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var x=[],E=0;E<g;E+=4)x.push(o());return new f.init(x,g)}}),h=c.enc={},d=h.Hex={stringify:function(g){for(var x=g.words,E=g.sigBytes,b=[],S=0;S<E;S++){var C=x[S>>>2]>>>24-S%4*8&255;b.push((C>>>4).toString(16)),b.push((C&15).toString(16))}return b.join("")},parse:function(g){for(var x=g.length,E=[],b=0;b<x;b+=2)E[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new f.init(E,x/2)}},p=h.Latin1={stringify:function(g){for(var x=g.words,E=g.sigBytes,b=[],S=0;S<E;S++){var C=x[S>>>2]>>>24-S%4*8&255;b.push(String.fromCharCode(C))}return b.join("")},parse:function(g){for(var x=g.length,E=[],b=0;b<x;b++)E[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new f.init(E,x)}},v=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(p.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return p.parse(unescape(encodeURIComponent(g)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=v.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var x,E=this._data,b=E.words,S=E.sigBytes,C=this.blockSize,A=C*4,I=S/A;g?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var R=I*C,O=n.min(R*4,S);if(R){for(var P=0;P<R;P+=C)this._doProcessBlock(b,P);x=b.splice(0,R),E.sigBytes-=O}return new f.init(x,O)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=m.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(g){return function(x,E){return new g.init(E).finalize(x)}},_createHmacHelper:function(g){return function(x,E){return new _.HMAC.init(g,E).finalize(x)}}});var _=c.algo={};return c}(Math);return r})}(AS)),AS.exports}var TS={exports:{}},zB;function R1(){return zB||(zB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var d=l[h];f.push(d.high),f.push(d.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(TS)),TS.exports}var IS={exports:{}},YB;function KCe(){return YB||(YB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(IS)),IS.exports}var RS={exports:{}},qB;function ZCe(){return qB||(qB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(RS)),RS.exports}var PS={exports:{}},KB;function tf(){return KB||(KB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],d=0;d<u;d+=3)for(var p=l[d>>>2]>>>24-d%4*8&255,v=l[d+1>>>2]>>>24-(d+1)%4*8&255,m=l[d+2>>>2]>>>24-(d+2)%4*8&255,_=p<<16|v<<8|m,g=0;g<4&&d+g*.75<u;g++)h.push(f.charAt(_>>>6*(3-g)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var d=u.charAt(64);if(d){var p=c.indexOf(d);p!==-1&&(l=p)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,m=p|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(PS)),PS.exports}var OS={exports:{}},ZB;function JCe(){return ZB||(ZB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var d=[],p=0;p<f;p+=3)for(var v=u[p>>>2]>>>24-p%4*8&255,m=u[p+1>>>2]>>>24-(p+1)%4*8&255,_=u[p+2>>>2]>>>24-(p+2)%4*8&255,g=v<<16|m<<8|_,x=0;x<4&&p+x*.75<f;x++)d.push(h.charAt(g>>>6*(3-x)&63));var E=h.charAt(64);if(E)for(;d.length%4;)d.push(E);return d.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<f.length;d++)h[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var v=c.indexOf(p);v!==-1&&(u=v)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,m=p|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(OS)),OS.exports}var FS={exports:{}},JB;function rf(){return JB||(JB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var v=0;v<64;v++)l[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,m){for(var _=0;_<16;_++){var g=m+_,x=v[g];v[g]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var E=this._hash.words,b=v[m+0],S=v[m+1],C=v[m+2],A=v[m+3],I=v[m+4],R=v[m+5],O=v[m+6],P=v[m+7],F=v[m+8],N=v[m+9],B=v[m+10],U=v[m+11],H=v[m+12],ee=v[m+13],J=v[m+14],G=v[m+15],L=E[0],V=E[1],$=E[2],j=E[3];L=f(L,V,$,j,b,7,l[0]),j=f(j,L,V,$,S,12,l[1]),$=f($,j,L,V,C,17,l[2]),V=f(V,$,j,L,A,22,l[3]),L=f(L,V,$,j,I,7,l[4]),j=f(j,L,V,$,R,12,l[5]),$=f($,j,L,V,O,17,l[6]),V=f(V,$,j,L,P,22,l[7]),L=f(L,V,$,j,F,7,l[8]),j=f(j,L,V,$,N,12,l[9]),$=f($,j,L,V,B,17,l[10]),V=f(V,$,j,L,U,22,l[11]),L=f(L,V,$,j,H,7,l[12]),j=f(j,L,V,$,ee,12,l[13]),$=f($,j,L,V,J,17,l[14]),V=f(V,$,j,L,G,22,l[15]),L=h(L,V,$,j,S,5,l[16]),j=h(j,L,V,$,O,9,l[17]),$=h($,j,L,V,U,14,l[18]),V=h(V,$,j,L,b,20,l[19]),L=h(L,V,$,j,R,5,l[20]),j=h(j,L,V,$,B,9,l[21]),$=h($,j,L,V,G,14,l[22]),V=h(V,$,j,L,I,20,l[23]),L=h(L,V,$,j,N,5,l[24]),j=h(j,L,V,$,J,9,l[25]),$=h($,j,L,V,A,14,l[26]),V=h(V,$,j,L,F,20,l[27]),L=h(L,V,$,j,ee,5,l[28]),j=h(j,L,V,$,C,9,l[29]),$=h($,j,L,V,P,14,l[30]),V=h(V,$,j,L,H,20,l[31]),L=d(L,V,$,j,R,4,l[32]),j=d(j,L,V,$,F,11,l[33]),$=d($,j,L,V,U,16,l[34]),V=d(V,$,j,L,J,23,l[35]),L=d(L,V,$,j,S,4,l[36]),j=d(j,L,V,$,I,11,l[37]),$=d($,j,L,V,P,16,l[38]),V=d(V,$,j,L,B,23,l[39]),L=d(L,V,$,j,ee,4,l[40]),j=d(j,L,V,$,b,11,l[41]),$=d($,j,L,V,A,16,l[42]),V=d(V,$,j,L,O,23,l[43]),L=d(L,V,$,j,N,4,l[44]),j=d(j,L,V,$,H,11,l[45]),$=d($,j,L,V,G,16,l[46]),V=d(V,$,j,L,C,23,l[47]),L=p(L,V,$,j,b,6,l[48]),j=p(j,L,V,$,P,10,l[49]),$=p($,j,L,V,J,15,l[50]),V=p(V,$,j,L,R,21,l[51]),L=p(L,V,$,j,H,6,l[52]),j=p(j,L,V,$,A,10,l[53]),$=p($,j,L,V,B,15,l[54]),V=p(V,$,j,L,S,21,l[55]),L=p(L,V,$,j,F,6,l[56]),j=p(j,L,V,$,G,10,l[57]),$=p($,j,L,V,O,15,l[58]),V=p(V,$,j,L,ee,21,l[59]),L=p(L,V,$,j,I,6,l[60]),j=p(j,L,V,$,U,10,l[61]),$=p($,j,L,V,C,15,l[62]),V=p(V,$,j,L,N,21,l[63]),E[0]=E[0]+L|0,E[1]=E[1]+V|0,E[2]=E[2]+$|0,E[3]=E[3]+j|0},_doFinalize:function(){var v=this._data,m=v.words,_=this._nDataBytes*8,g=v.sigBytes*8;m[g>>>5]|=128<<24-g%32;var x=n.floor(_/4294967296),E=_;m[(g+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m[(g+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v.sigBytes=(m.length+1)*4,this._process();for(var b=this._hash,S=b.words,C=0;C<4;C++){var A=S[C];S[C]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,m,_,g,x,E,b){var S=v+(m&_|~m&g)+x+b;return(S<<E|S>>>32-E)+m}function h(v,m,_,g,x,E,b){var S=v+(m&g|_&~g)+x+b;return(S<<E|S>>>32-E)+m}function d(v,m,_,g,x,E,b){var S=v+(m^_^g)+x+b;return(S<<E|S>>>32-E)+m}function p(v,m,_,g,x,E,b){var S=v+(_^(m|~g))+x+b;return(S<<E|S>>>32-E)+m}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(FS)),FS.exports}var kS={exports:{}},QB;function P7(){return QB||(QB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,d=h[0],p=h[1],v=h[2],m=h[3],_=h[4],g=0;g<80;g++){if(g<16)c[g]=u[f+g]|0;else{var x=c[g-3]^c[g-8]^c[g-14]^c[g-16];c[g]=x<<1|x>>>31}var E=(d<<5|d>>>27)+_+c[g];g<20?E+=(p&v|~p&m)+1518500249:g<40?E+=(p^v^m)+1859775393:g<60?E+=(p&v|p&m|v&m)-1894007588:E+=(p^v^m)-899497514,_=m,m=v,v=p<<30|p>>>2,p=d,d=E}h[0]=h[0]+d|0,h[1]=h[1]+p|0,h[2]=h[2]+v|0,h[3]=h[3]+m|0,h[4]=h[4]+_|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,d=u.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(d+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(kS)),kS.exports}var NS={exports:{}},eD;function bO(){return eD||(eD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function d(_){for(var g=n.sqrt(_),x=2;x<=g;x++)if(!(_%x))return!1;return!0}function p(_){return(_-(_|0))*4294967296|0}for(var v=2,m=0;m<64;)d(v)&&(m<8&&(l[m]=p(n.pow(v,1/2))),u[m]=p(n.pow(v,1/3)),m++),v++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(d,p){for(var v=this._hash.words,m=v[0],_=v[1],g=v[2],x=v[3],E=v[4],b=v[5],S=v[6],C=v[7],A=0;A<64;A++){if(A<16)f[A]=d[p+A]|0;else{var I=f[A-15],R=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=f[A-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[A]=R+f[A-7]+P+f[A-16]}var F=E&b^~E&S,N=m&_^m&g^_&g,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),U=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),H=C+U+F+u[A]+f[A],ee=B+N;C=S,S=b,b=E,E=x+H|0,x=g,g=_,_=m,m=H+ee|0}v[0]=v[0]+m|0,v[1]=v[1]+_|0,v[2]=v[2]+g|0,v[3]=v[3]+x|0,v[4]=v[4]+E|0,v[5]=v[5]+b|0,v[6]=v[6]+S|0,v[7]=v[7]+C|0},_doFinalize:function(){var d=this._data,p=d.words,v=this._nDataBytes*8,m=d.sigBytes*8;return p[m>>>5]|=128<<24-m%32,p[(m+64>>>9<<4)+14]=n.floor(v/4294967296),p[(m+64>>>9<<4)+15]=v,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(NS)),NS.exports}var LS={exports:{}},tD;function QCe(){return tD||(tD=1,function(t,e){(function(r,n,i){t.exports=n(er(),bO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(LS)),LS.exports}var MS={exports:{}},rD;function O7(){return rD||(rD=1,function(t,e){(function(r,n,i){t.exports=n(er(),R1())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=u()})();var d=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var m=this._hash.words,_=m[0],g=m[1],x=m[2],E=m[3],b=m[4],S=m[5],C=m[6],A=m[7],I=_.high,R=_.low,O=g.high,P=g.low,F=x.high,N=x.low,B=E.high,U=E.low,H=b.high,ee=b.low,J=S.high,G=S.low,L=C.high,V=C.low,$=A.high,j=A.low,te=I,ne=R,pe=O,le=P,xe=F,Te=N,ye=B,we=U,me=H,Pe=ee,je=J,Le=G,ze=L,ut=V,wt=$,Ct=j,it=0;it<80;it++){var lt,_t,gr=h[it];if(it<16)_t=gr.high=p[v+it*2]|0,lt=gr.low=p[v+it*2+1]|0;else{var mr=h[it-15],fr=mr.high,ir=mr.low,It=(fr>>>1|ir<<31)^(fr>>>8|ir<<24)^fr>>>7,Er=(ir>>>1|fr<<31)^(ir>>>8|fr<<24)^(ir>>>7|fr<<25),_e=h[it-2],Se=_e.high,Oe=_e.low,qe=(Se>>>19|Oe<<13)^(Se<<3|Oe>>>29)^Se>>>6,Ve=(Oe>>>19|Se<<13)^(Oe<<3|Se>>>29)^(Oe>>>6|Se<<26),at=h[it-7],ar=at.high,Or=at.low,zn=h[it-16],Yn=zn.high,Sr=zn.low;lt=Er+Or,_t=It+ar+(lt>>>0<Er>>>0?1:0),lt=lt+Ve,_t=_t+qe+(lt>>>0<Ve>>>0?1:0),lt=lt+Sr,_t=_t+Yn+(lt>>>0<Sr>>>0?1:0),gr.high=_t,gr.low=lt}var wa=me&je^~me&ze,Si=Pe&Le^~Pe&ut,kn=te&pe^te&xe^pe&xe,Sa=ne&le^ne&Te^le&Te,Xa=(te>>>28|ne<<4)^(te<<30|ne>>>2)^(te<<25|ne>>>7),Ho=(ne>>>28|te<<4)^(ne<<30|te>>>2)^(ne<<25|te>>>7),Gi=(me>>>14|Pe<<18)^(me>>>18|Pe<<14)^(me<<23|Pe>>>9),ul=(Pe>>>14|me<<18)^(Pe>>>18|me<<14)^(Pe<<23|me>>>9),Vi=f[it],po=Vi.high,Ci=Vi.low,on=Ct+ul,aa=wt+Gi+(on>>>0<Ct>>>0?1:0),on=on+Si,aa=aa+wa+(on>>>0<Si>>>0?1:0),on=on+Ci,aa=aa+po+(on>>>0<Ci>>>0?1:0),on=on+lt,aa=aa+_t+(on>>>0<lt>>>0?1:0),Ou=Ho+Sa,Dd=Xa+kn+(Ou>>>0<Ho>>>0?1:0);wt=ze,Ct=ut,ze=je,ut=Le,je=me,Le=Pe,Pe=we+on|0,me=ye+aa+(Pe>>>0<we>>>0?1:0)|0,ye=xe,we=Te,xe=pe,Te=le,pe=te,le=ne,ne=on+Ou|0,te=aa+Dd+(ne>>>0<on>>>0?1:0)|0}R=_.low=R+ne,_.high=I+te+(R>>>0<ne>>>0?1:0),P=g.low=P+le,g.high=O+pe+(P>>>0<le>>>0?1:0),N=x.low=N+Te,x.high=F+xe+(N>>>0<Te>>>0?1:0),U=E.low=U+we,E.high=B+ye+(U>>>0<we>>>0?1:0),ee=b.low=ee+Pe,b.high=H+me+(ee>>>0<Pe>>>0?1:0),G=S.low=G+Le,S.high=J+je+(G>>>0<Le>>>0?1:0),V=C.low=V+ut,C.high=L+ze+(V>>>0<ut>>>0?1:0),j=A.low=j+Ct,A.high=$+wt+(j>>>0<Ct>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,m=this._nDataBytes*8,_=p.sigBytes*8;v[_>>>5]|=128<<24-_%32,v[(_+128>>>10<<5)+30]=Math.floor(m/4294967296),v[(_+128>>>10<<5)+31]=m,p.sigBytes=v.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=a._createHelper(d),n.HmacSHA512=a._createHmacHelper(d)}(),r.SHA512})}(MS)),MS.exports}var BS={exports:{}},nD;function e2e(){return nD||(nD=1,function(t,e){(function(r,n,i){t.exports=n(er(),R1(),O7())})(ot,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(BS)),BS.exports}var DS={exports:{}},iD;function t2e(){return iD||(iD=1,function(t,e){(function(r,n,i){t.exports=n(er(),R1())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],d=[];(function(){for(var m=1,_=0,g=0;g<24;g++){f[m+5*_]=(g+1)*(g+2)/2%64;var x=_%5,E=(2*m+3*_)%5;m=x,_=E}for(var m=0;m<5;m++)for(var _=0;_<5;_++)h[m+5*_]=_+(2*m+3*_)%5*5;for(var b=1,S=0;S<24;S++){for(var C=0,A=0,I=0;I<7;I++){if(b&1){var R=(1<<I)-1;R<32?A^=1<<R:C^=1<<R-32}b&128?b=b<<1^113:b<<=1}d[S]=l.create(C,A)}})();var p=[];(function(){for(var m=0;m<25;m++)p[m]=l.create()})();var v=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],_=0;_<25;_++)m[_]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,_){for(var g=this._state,x=this.blockSize/2,E=0;E<x;E++){var b=m[_+2*E],S=m[_+2*E+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var C=g[E];C.high^=S,C.low^=b}for(var A=0;A<24;A++){for(var I=0;I<5;I++){for(var R=0,O=0,P=0;P<5;P++){var C=g[I+5*P];R^=C.high,O^=C.low}var F=p[I];F.high=R,F.low=O}for(var I=0;I<5;I++)for(var N=p[(I+4)%5],B=p[(I+1)%5],U=B.high,H=B.low,R=N.high^(U<<1|H>>>31),O=N.low^(H<<1|U>>>31),P=0;P<5;P++){var C=g[I+5*P];C.high^=R,C.low^=O}for(var ee=1;ee<25;ee++){var R,O,C=g[ee],J=C.high,G=C.low,L=f[ee];L<32?(R=J<<L|G>>>32-L,O=G<<L|J>>>32-L):(R=G<<L-32|J>>>64-L,O=J<<L-32|G>>>64-L);var V=p[h[ee]];V.high=R,V.low=O}var $=p[0],j=g[0];$.high=j.high,$.low=j.low;for(var I=0;I<5;I++)for(var P=0;P<5;P++){var ee=I+5*P,C=g[ee],te=p[ee],ne=p[(I+1)%5+5*P],pe=p[(I+2)%5+5*P];C.high=te.high^~ne.high&pe.high,C.low=te.low^~ne.low&pe.low}var C=g[0],le=d[A];C.high^=le.high,C.low^=le.low}},_doFinalize:function(){var m=this._data,_=m.words;this._nDataBytes*8;var g=m.sigBytes*8,x=this.blockSize*32;_[g>>>5]|=1<<24-g%32,_[(n.ceil((g+1)/x)*x>>>5)-1]|=128,m.sigBytes=_.length*4,this._process();for(var E=this._state,b=this.cfg.outputLength/8,S=b/8,C=[],A=0;A<S;A++){var I=E[A],R=I.high,O=I.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(R)}return new o.init(C,b)},clone:function(){for(var m=s.clone.call(this),_=m._state=this._state.slice(0),g=0;g<25;g++)_[g]=_[g].clone();return m}});i.SHA3=s._createHelper(v),i.HmacSHA3=s._createHmacHelper(v)}(Math),r.SHA3})}(DS)),DS.exports}var US={exports:{}},aD;function r2e(){return aD||(aD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,C){for(var A=0;A<16;A++){var I=C+A,R=S[I];S[I]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,P=d.words,F=p.words,N=l.words,B=u.words,U=f.words,H=h.words,ee,J,G,L,V,$,j,te,ne,pe;$=ee=O[0],j=J=O[1],te=G=O[2],ne=L=O[3],pe=V=O[4];for(var le,A=0;A<80;A+=1)le=ee+S[C+N[A]]|0,A<16?le+=m(J,G,L)+P[0]:A<32?le+=_(J,G,L)+P[1]:A<48?le+=g(J,G,L)+P[2]:A<64?le+=x(J,G,L)+P[3]:le+=E(J,G,L)+P[4],le=le|0,le=b(le,U[A]),le=le+V|0,ee=V,V=L,L=b(G,10),G=J,J=le,le=$+S[C+B[A]]|0,A<16?le+=E(j,te,ne)+F[0]:A<32?le+=x(j,te,ne)+F[1]:A<48?le+=g(j,te,ne)+F[2]:A<64?le+=_(j,te,ne)+F[3]:le+=m(j,te,ne)+F[4],le=le|0,le=b(le,H[A]),le=le+pe|0,$=pe,pe=ne,ne=b(te,10),te=j,j=le;le=O[1]+G+ne|0,O[1]=O[2]+L+pe|0,O[2]=O[3]+V+$|0,O[3]=O[4]+ee+j|0,O[4]=O[0]+J+te|0,O[0]=le},_doFinalize:function(){var S=this._data,C=S.words,A=this._nDataBytes*8,I=S.sigBytes*8;C[I>>>5]|=128<<24-I%32,C[(I+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(C.length+1)*4,this._process();for(var R=this._hash,O=R.words,P=0;P<5;P++){var F=O[P];O[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return R},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S}});function m(S,C,A){return S^C^A}function _(S,C,A){return S&C|~S&A}function g(S,C,A){return(S|~C)^A}function x(S,C,A){return S&A|C&~A}function E(S,C,A){return S^(C|~A)}function b(S,C){return S<<C|S>>>32-C}i.RIPEMD160=s._createHelper(v),i.HmacRIPEMD160=s._createHmacHelper(v)}(),r.RIPEMD160})}(US)),US.exports}var jS={exports:{}},oD;function EO(){return oD||(oD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),p=this._iKey=u.clone(),v=d.words,m=p.words,_=0;_<f;_++)v[_]^=1549556828,m[_]^=909522486;d.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(jS)),jS.exports}var $S={exports:{}},sD;function n2e(){return sD||(sD=1,function(t,e){(function(r,n,i){t.exports=n(er(),bO(),EO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var d=this.cfg,p=l.create(d.hasher,f),v=o.create(),m=o.create([1]),_=v.words,g=m.words,x=d.keySize,E=d.iterations;_.length<x;){var b=p.update(h).finalize(m);p.reset();for(var S=b.words,C=S.length,A=b,I=1;I<E;I++){A=p.finalize(A),p.reset();for(var R=A.words,O=0;O<C;O++)S[O]^=R[O]}v.concat(b),g[0]++}return v.sigBytes=x*4,v}});n.PBKDF2=function(f,h,d){return u.create(d).compute(f,h)}}(),r.PBKDF2})}($S)),$S.exports}var GS={exports:{}},lD;function Iu(){return lD||(lD=1,function(t,e){(function(r,n,i){t.exports=n(er(),P7(),EO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,d=this.cfg,p=d.hasher.create(),v=o.create(),m=v.words,_=d.keySize,g=d.iterations;m.length<_;){h&&p.update(h),h=p.update(u).finalize(f),p.reset();for(var x=1;x<g;x++)h=p.finalize(h),p.reset();v.concat(h)}return v.sigBytes=_*4,v}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(GS)),GS.exports}var VS={exports:{}},uD;function ui(){return uD||(uD=1,function(t,e){(function(r,n,i){t.exports=n(er(),Iu())})(ot,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,d=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,P){this.cfg=this.cfg.extend(P),this._xformMode=R,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(O){return typeof O=="string"?I:S}return function(O){return{encrypt:function(P,F,N){return R(F).encrypt(O,P,F,N)},decrypt:function(P,F,N){return R(F).decrypt(O,P,F,N)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var p=i.mode={},v=a.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),m=p.CBC=function(){var R=v.extend();R.Encryptor=R.extend({processBlock:function(P,F){var N=this._cipher,B=N.blockSize;O.call(this,P,F,B),N.encryptBlock(P,F),this._prevBlock=P.slice(F,F+B)}}),R.Decryptor=R.extend({processBlock:function(P,F){var N=this._cipher,B=N.blockSize,U=P.slice(F,F+B);N.decryptBlock(P,F),O.call(this,P,F,B),this._prevBlock=U}});function O(P,F,N){var B,U=this._iv;U?(B=U,this._iv=n):B=this._prevBlock;for(var H=0;H<N;H++)P[F+H]^=B[H]}return R}(),_=i.pad={},g=_.Pkcs7={pad:function(R,O){for(var P=O*4,F=P-R.sigBytes%P,N=F<<24|F<<16|F<<8|F,B=[],U=0;U<F;U+=4)B.push(N);var H=s.create(B,F);R.concat(H)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:g}),reset:function(){var R;d.reset.call(this);var O=this.cfg,P=O.iv,F=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=F.createEncryptor:(R=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,P&&P.words):(this._mode=R.call(F,this,P&&P.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var x=a.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),E=i.format={},b=E.OpenSSL={stringify:function(R){var O,P=R.ciphertext,F=R.salt;return F?O=s.create([1398893684,1701076831]).concat(F).concat(P):O=P,O.toString(u)},parse:function(R){var O,P=u.parse(R),F=P.words;return F[0]==1398893684&&F[1]==1701076831&&(O=s.create(F.slice(2,4)),F.splice(0,4),P.sigBytes-=16),x.create({ciphertext:P,salt:O})}},S=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(R,O,P,F){F=this.cfg.extend(F);var N=R.createEncryptor(P,F),B=N.finalize(O),U=N.cfg;return x.create({ciphertext:B,key:P,iv:U.iv,algorithm:R,mode:U.mode,padding:U.padding,blockSize:R.blockSize,formatter:F.format})},decrypt:function(R,O,P,F){F=this.cfg.extend(F),O=this._parse(O,F.format);var N=R.createDecryptor(P,F).finalize(O.ciphertext);return N},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),C=i.kdf={},A=C.OpenSSL={execute:function(R,O,P,F,N){if(F||(F=s.random(64/8)),N)var B=h.create({keySize:O+P,hasher:N}).compute(R,F);else var B=h.create({keySize:O+P}).compute(R,F);var U=s.create(B.words.slice(O),P*4);return B.sigBytes=O*4,x.create({key:B,iv:U,salt:F})}},I=a.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(R,O,P,F){F=this.cfg.extend(F);var N=F.kdf.execute(P,R.keySize,R.ivSize,F.salt,F.hasher);F.iv=N.iv;var B=S.encrypt.call(this,R,O,N.key,F);return B.mixIn(N),B},decrypt:function(R,O,P,F){F=this.cfg.extend(F),O=this._parse(O,F.format);var N=F.kdf.execute(P,R.keySize,R.ivSize,O.salt,F.hasher);F.iv=N.iv;var B=S.decrypt.call(this,R,O,N.key,F);return B}})}()})}(VS)),VS.exports}var HS={exports:{}},cD;function i2e(){return cD||(cD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(HS)),HS.exports}var XS={exports:{}},fD;function a2e(){return fD||(fD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(XS)),XS.exports}var WS={exports:{}},hD;function o2e(){return hD||(hD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var d=h.slice(0);l.encryptBlock(d,0);for(var p=0;p<u;p++)s[c+p]^=d[p]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(WS)),WS.exports}var zS={exports:{}},dD;function s2e(){return dD||(dD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(zS)),zS.exports}var YS={exports:{}},pD;function l2e(){return pD||(pD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(YS)),YS.exports}var qS={exports:{}},vD;function u2e(){return vD||(vD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(qS)),qS.exports}var KS={exports:{}},gD;function c2e(){return gD||(gD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(KS)),KS.exports}var ZS={exports:{}},mD;function f2e(){return mD||(mD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(ZS)),ZS.exports}var JS={exports:{}},_D;function h2e(){return _D||(_D=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(JS)),JS.exports}var QS={exports:{}},yD;function d2e(){return yD||(yD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(QS)),QS.exports}var eC={exports:{}},xD;function p2e(){return xD||(xD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(eC)),eC.exports}var tC={exports:{}},bD;function v2e(){return bD||(bD=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],d=[],p=[],v=[],m=[];(function(){for(var x=[],E=0;E<256;E++)E<128?x[E]=E<<1:x[E]=E<<1^283;for(var b=0,S=0,E=0;E<256;E++){var C=S^S<<1^S<<2^S<<3^S<<4;C=C>>>8^C&255^99,s[b]=C,c[C]=b;var A=x[b],I=x[A],R=x[I],O=x[C]*257^C*16843008;l[b]=O<<24|O>>>8,u[b]=O<<16|O>>>16,f[b]=O<<8|O>>>24,h[b]=O;var O=R*16843009^I*65537^A*257^b*16843008;d[C]=O<<24|O>>>8,p[C]=O<<16|O>>>16,v[C]=O<<8|O>>>24,m[C]=O,b?(b=A^x[x[x[R^A]]],S^=x[x[S]]):b=S=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,b=E.words,S=E.sigBytes/4,C=this._nRounds=S+6,A=(C+1)*4,I=this._keySchedule=[],R=0;R<A;R++)R<S?I[R]=b[R]:(x=I[R-1],R%S?S>6&&R%S==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=_[R/S|0]<<24),I[R]=I[R-S]^x);for(var O=this._invKeySchedule=[],P=0;P<A;P++){var R=A-P;if(P%4)var x=I[R];else var x=I[R-4];P<4||R<=4?O[P]=x:O[P]=d[s[x>>>24]]^p[s[x>>>16&255]]^v[s[x>>>8&255]]^m[s[x&255]]}}},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._keySchedule,l,u,f,h,s)},decryptBlock:function(x,E){var b=x[E+1];x[E+1]=x[E+3],x[E+3]=b,this._doCryptBlock(x,E,this._invKeySchedule,d,p,v,m,c);var b=x[E+1];x[E+1]=x[E+3],x[E+3]=b},_doCryptBlock:function(x,E,b,S,C,A,I,R){for(var O=this._nRounds,P=x[E]^b[0],F=x[E+1]^b[1],N=x[E+2]^b[2],B=x[E+3]^b[3],U=4,H=1;H<O;H++){var ee=S[P>>>24]^C[F>>>16&255]^A[N>>>8&255]^I[B&255]^b[U++],J=S[F>>>24]^C[N>>>16&255]^A[B>>>8&255]^I[P&255]^b[U++],G=S[N>>>24]^C[B>>>16&255]^A[P>>>8&255]^I[F&255]^b[U++],L=S[B>>>24]^C[P>>>16&255]^A[F>>>8&255]^I[N&255]^b[U++];P=ee,F=J,N=G,B=L}var ee=(R[P>>>24]<<24|R[F>>>16&255]<<16|R[N>>>8&255]<<8|R[B&255])^b[U++],J=(R[F>>>24]<<24|R[N>>>16&255]<<16|R[B>>>8&255]<<8|R[P&255])^b[U++],G=(R[N>>>24]<<24|R[B>>>16&255]<<16|R[P>>>8&255]<<8|R[F&255])^b[U++],L=(R[B>>>24]<<24|R[P>>>16&255]<<16|R[F>>>8&255]<<8|R[N&255])^b[U++];x[E]=ee,x[E+1]=J,x[E+2]=G,x[E+3]=L},keySize:256/32});n.AES=a._createHelper(g)}(),r.AES})}(tC)),tC.exports}var rC={exports:{}},ED;function g2e(){return ED||(ED=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=o.extend({_doReset:function(){for(var _=this._key,g=_.words,x=[],E=0;E<56;E++){var b=c[E]-1;x[E]=g[b>>>5]>>>31-b%32&1}for(var S=this._subKeys=[],C=0;C<16;C++){for(var A=S[C]=[],I=u[C],E=0;E<24;E++)A[E/6|0]|=x[(l[E]-1+I)%28]<<31-E%6,A[4+(E/6|0)]|=x[28+(l[E+24]-1+I)%28]<<31-E%6;A[0]=A[0]<<1|A[0]>>>31;for(var E=1;E<7;E++)A[E]=A[E]>>>(E-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var R=this._invSubKeys=[],E=0;E<16;E++)R[E]=S[15-E]},encryptBlock:function(_,g){this._doCryptBlock(_,g,this._subKeys)},decryptBlock:function(_,g){this._doCryptBlock(_,g,this._invSubKeys)},_doCryptBlock:function(_,g,x){this._lBlock=_[g],this._rBlock=_[g+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var b=x[E],S=this._lBlock,C=this._rBlock,A=0,I=0;I<8;I++)A|=f[I][((C^b[I])&h[I])>>>0];this._lBlock=C,this._rBlock=S^A}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),_[g]=this._lBlock,_[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(_,g){var x=(this._lBlock>>>_^this._rBlock)&g;this._rBlock^=x,this._lBlock^=x<<_}function v(_,g){var x=(this._rBlock>>>_^this._lBlock)&g;this._lBlock^=x,this._rBlock^=x<<_}n.DES=o._createHelper(d);var m=s.TripleDES=o.extend({_doReset:function(){var _=this._key,g=_.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=g.slice(0,2),E=g.length<4?g.slice(0,2):g.slice(2,4),b=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=d.createEncryptor(a.create(x)),this._des2=d.createEncryptor(a.create(E)),this._des3=d.createEncryptor(a.create(b))},encryptBlock:function(_,g){this._des1.encryptBlock(_,g),this._des2.decryptBlock(_,g),this._des3.encryptBlock(_,g)},decryptBlock:function(_,g){this._des3.decryptBlock(_,g),this._des2.encryptBlock(_,g),this._des1.decryptBlock(_,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(rC)),rC.exports}var nC={exports:{}},wD;function m2e(){return wD||(wD=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,v=0;p<256;p++){var m=p%h,_=f[m>>>2]>>>24-m%4*8&255;v=(v+d[p]+_)%256;var g=d[p];d[p]=d[v],d[v]=g}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,d|=u[(u[f]+u[h])%256]<<24-p*8}return this._i=f,this._j=h,d}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(nC)),nC.exports}var iC={exports:{}},SD;function _2e(){return SD||(SD=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,d=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)m[p]^=v[p+4&7];if(d){var _=d.words,g=_[0],x=_[1],E=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=E>>>16|b&4294901760,C=b<<16|E&65535;m[0]^=E,m[1]^=S,m[2]^=b,m[3]^=C,m[4]^=E,m[5]^=S,m[6]^=b,m[7]^=C;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],m=v&65535,_=v>>>16,g=((m*m>>>17)+m*_>>>15)+_*_,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=g^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(iC)),iC.exports}var aC={exports:{}},CD;function y2e(){return CD||(CD=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,d=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)v[m]^=p[m+4&7];if(d){var _=d.words,g=_[0],x=_[1],E=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=E>>>16|b&4294901760,C=b<<16|E&65535;v[0]^=E,v[1]^=S,v[2]^=b,v[3]^=C,v[4]^=E,v[5]^=S,v[6]^=b,v[7]^=C;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],m=v&65535,_=v>>>16,g=((m*m>>>17)+m*_>>>15)+_*_,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=g^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(aC)),aC.exports}var oC={exports:{}},AD;function x2e(){return AD||(AD=1,function(t,e){(function(r,n,i){t.exports=n(er(),tf(),rf(),Iu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(m,_){let g=_>>24&255,x=_>>16&255,E=_>>8&255,b=_&255,S=m.sbox[0][g]+m.sbox[1][x];return S=S^m.sbox[2][E],S=S+m.sbox[3][b],S}function h(m,_,g){let x=_,E=g,b;for(let S=0;S<s;++S)x=x^m.pbox[S],E=f(m,x)^E,b=x,x=E,E=b;return b=x,x=E,E=b,E=E^m.pbox[s],x=x^m.pbox[s+1],{left:x,right:E}}function d(m,_,g){let x=_,E=g,b;for(let S=s+1;S>1;--S)x=x^m.pbox[S],E=f(m,x)^E,b=x,x=E,E=b;return b=x,x=E,E=b,E=E^m.pbox[1],x=x^m.pbox[0],{left:x,right:E}}function p(m,_,g){for(let C=0;C<4;C++){m.sbox[C]=[];for(let A=0;A<256;A++)m.sbox[C][A]=l[C][A]}let x=0;for(let C=0;C<s+2;C++)m.pbox[C]=c[C]^_[x],x++,x>=g&&(x=0);let E=0,b=0,S=0;for(let C=0;C<s+2;C+=2)S=h(m,E,b),E=S.left,b=S.right,m.pbox[C]=E,m.pbox[C+1]=b;for(let C=0;C<4;C++)for(let A=0;A<256;A+=2)S=h(m,E,b),E=S.left,b=S.right,m.sbox[C][A]=E,m.sbox[C][A+1]=b;return!0}var v=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,_=m.words,g=m.sigBytes/4;p(u,_,g)}},encryptBlock:function(m,_){var g=h(u,m[_],m[_+1]);m[_]=g.left,m[_+1]=g.right},decryptBlock:function(m,_){var g=d(u,m[_],m[_+1]);m[_]=g.left,m[_+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(v)}(),r.Blowfish})}(oC)),oC.exports}(function(t,e){(function(r,n,i){t.exports=n(er(),R1(),KCe(),ZCe(),tf(),JCe(),rf(),P7(),bO(),QCe(),O7(),e2e(),t2e(),r2e(),EO(),n2e(),Iu(),ui(),i2e(),a2e(),o2e(),s2e(),l2e(),u2e(),c2e(),f2e(),h2e(),d2e(),p2e(),v2e(),g2e(),m2e(),_2e(),y2e(),x2e())})(ot,function(r){return r})})(I7);var b2e=I7.exports;const I_=wi(b2e);function E2e(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return I_.lib.WordArray.create(r,e.length)}async function F7(t,e,r,n){const i=I_.enc.Hex.parse(e),a=I_.enc.Hex.parse(r),o=E2e(t),s=I_.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class w2e{constructor(){Ye(this,"videosByKey");Ye(this,"idURLMap",{});Ye(this,"currentPlayingVideo","");Ye(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let d=!1;for(let _=0;_<f;_++){if(String.fromCharCode(h[_])!==u[_]){d=!1;break}d=!0}let p;if(d){const _=l.slice(f);p=await F7(_,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else p=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const v=NA.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(p)});v.attachMediaElement(a),v.load();const m={...this.videosByKey[e],player:v};this.videosByKey[e]=m,a.onloadeddata=()=>{const _=Object.keys(m.waitCommands);if(m){const g=document.createElement("canvas"),x=g.getContext("2d");g.width=480,g.height=270,x.drawImage(a,0,0,480,270);const E=g.toDataURL("image/webp",.5);g.remove(),m.poster=E}_.length&&_.forEach(g=>{if(!m){console.log("",e);return}this[g](e,m.waitCommands[g])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.style.opacity="1",i.style.zIndex=r?"6":"11")}else n?n.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}setUrlIdMap(e,r){this.idURLMap[e]=r}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class S2e{constructor(){Ye(this,"sceneManager",new GCe);Ye(this,"backlogManager",new gde(this.sceneManager));Ye(this,"animationManager",new VCe);Ye(this,"gameplay",new HCe);Ye(this,"gameName","");Ye(this,"gameKey","");Ye(this,"events",new WCe);Ye(this,"videoManager",new w2e)}}const W=new S2e,$n=k7(()=>{const t=ue.getState().userData;Dc.setItem(W.gameKey,t).then(()=>{Ge.info("")})},100),Iy=k7(()=>{Dc.getItem(W.gameKey).then(t=>{if(!t||!L7(t)){Ge.warn(""),$n();return}ue.dispatch(EP(t))})},100);function k7(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const N7=()=>{const t=ue.getState().userData;Dc.setItem(W.gameKey,t).then(()=>{Dc.getItem(W.gameKey).then(e=>{if(!e){$n();return}ue.dispatch(EP(e))}),Ge.info("")})};function L7(t){let e=!0;for(const r in pA)t.hasOwnProperty(r)||(e=!1);return e}async function C2e(){const t=await Dc.getItem(W.gameKey);if(!t||!L7(t)){const e=ue.getState().userData;return Ge.warn(""),await Dc.setItem(W.gameKey,e)}else ue.dispatch(EP(t))}var fa=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t.Game_link_button="Game_link_button",t))(fa||{}),R_=(t=>(t.slider="slider",t.sliderBg="sliderBg",t.sliderThumb="sliderThumb",t))(R_||{}),wO=(t=>(t.Load_back_button="Load_back_button",t))(wO||{}),SO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(SO||{}),CO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(CO||{}),AO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(AO||{}),jp=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(jp||{}),$r=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t.Collection_detail_left_bg="Collection_detail_left_bg",t.Collection_detail_right_content_bg="Collection_detail_right_content_bg",t.Collection_detail_right_thumbnail_bg="Collection_detail_right_thumbnail_bg",t.Collection_detail_right_desc_bg="Collection_detail_right_desc_bg",t))($r||{}),P1=(t=>(t.Option_back_button="Option_back_button",t))(P1||{}),TO=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(TO||{}),ka=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(ka||{}),IO=(t=>(t.Achievement_title="Achievement_title",t))(IO||{}),RO=(t=>(t.Storyline_title="Storyline_title",t))(RO||{}),PO=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(PO||{}),$p=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))($p||{}),Un=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t))(Un||{});const sC={title:{buttons:fa,other:$p},load:{buttons:wO,other:PO},storyline:{buttons:SO,other:RO},achievement:{buttons:CO,other:IO},extra:{buttons:AO,other:jp},option:{buttons:P1,other:ka},collection:{buttons:TO,other:$r}},Je=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},A2e={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:Je()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:Je(["hoverStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:Je(["hoverStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:Je(["hoverStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:Je(["hoverStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:Je(["hoverStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:Je(["hoverStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:Je(["hoverStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:Je(["hoverStyle"])},Game_link_button:{key:"Game_link_button",content:"",args:Je(["hoverStyle","buttonLink"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:Je()},Load_title:{key:"Load_title",content:"",args:Je(["hoverStyle"])},Load_item:{key:"Load_item",content:"",args:Je(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:Je(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:Je(["hoverStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:Je(["hoverStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:Je(["hoverStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:Je(["hoverStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:Je(["hoverStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:Je(["hoverStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:Je(["hoverStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:Je(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:Je()},Extra_indicator:{key:"Extra_indicator",content:"",args:Je(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:Je()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:Je()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:Je(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:Je(["hoverStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:Je(["hoverStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:Je(["hoverStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:Je()},Option_title:{key:"Option_title",content:"",args:Je(["hoverStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:Je(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:Je(["hoverStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:Je(["hoverStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:Je(["hoverStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:Je(["hoverStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:Je(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:Je(["hoverStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:Je(["hoverStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:Je()},Collection_img1:{key:"Collection_img1",content:"",args:Je()},Collection_img2:{key:"Collection_img2",content:"",args:Je()},Collection_img3:{key:"Collection_img3",content:"",args:Je()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:Je(["hoverStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:Je()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:Je()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:Je()},Collection_detail_left_bg:{key:"Collection_detail_left_bg",content:"",args:Je()},Collection_detail_right_content_bg:{key:"Collection_detail_right_content_bg",content:"",args:Je()},Collection_detail_right_thumbnail_bg:{key:"Collection_detail_right_thumbnail_bg",content:"",args:Je()},Collection_detail_right_desc_bg:{key:"Collection_detail_right_desc_bg",content:"",args:Je()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:Je(["hoverStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:Je(["hoverStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:Je(["hoverStyle"])}}}},T2e={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Collection_detail_left_bg:1,Collection_detail_right_content_bg:1,Collection_detail_right_thumbnail_bg:1,Collection_detail_right_desc_bg:1};var ya=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(ya||{}),Qi=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(Qi||{}),rc=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(rc||{});const kf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},gm={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnPosition:"",align:"",fontFamily:""}}},Ry={isInGaming:!1,showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:ya.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:A2e,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,isShowGameMenu:!1,escMenus:{Esc_continueGame_button:gm,Esc_backToLevel_button:gm,Esc_setting_button:gm,Esc_exitGame_button:gm},achievementUI:{Achievement_progress_bg:kf,Achievement_progress_text:kf,Achievement_progress:kf,Achievement_notUnlock:kf,Achievement_back_button:kf,Achievement_title:kf}},M7=_x({name:"gui",initialState:Ry,reducers:{setVisibility:(t,e)=>{Iy();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{Iy(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload}}}),{setVisibility:pt,setMenuPanelTag:Py,setGuiAsset:TD,setLogoImage:I2e,setShowStoryLine:LA,setshowFavorited:Gp,setGameUIConfigs:R2e,setGameR18:B7,setEscMenus:P2e,setAchievementUI:O2e}=M7.actions,F2e=M7.reducer,ue=Tne({reducer:{stage:she,GUI:F2e,userData:pde,saveData:iCe},middleware:s9({serializableCheck:!1})});let ID;function OO(t,e=0,r=100){if(Ge.info("playing bgm"+t),t===""){ID=setTimeout(()=>{ue.dispatch(ct({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=ue.getState().stage.bgm.src;ue.dispatch(ct({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(ID),ue.dispatch(ct({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function jv(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const FO=()=>{Ge.warn("");for(let t=0;t<W.gameplay.performController.performList.length;t++){const e=W.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),W.gameplay.performController.performList.splice(t,1),t--}},kO=()=>{ue.getState().stage.PerformList.forEach(e=>{jx(e.script)})},k2e=t=>{const e=ue.dispatch,r=W.backlogManager.getBacklog()[t];Ge.debug("backlog",r),Ea(r.saveScene.sceneUrl).then(async i=>{if(await W.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const s=Pv(o);wd(s)}}),W.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,W.sceneManager.sceneData.sceneStack=nn(r.saveScene.sceneStack),FO();for(let i=W.backlogManager.getBacklog().length-1;i>t;i--)W.backlogManager.getBacklog().pop();W.backlogManager.isSaveBacklogNext=!0;const n=nn(r.currentStageState);e(Ax(n)),setTimeout(kO,0),e(pt({component:"showBacklog",visibility:!1})),e(pt({component:"showTextBox",visibility:!0}))},D7=(t,e=!1)=>{const n=ue.getState().saveData.saveData[t];Ge.debug("",n),NO(n,e)};async function NO(t,e=!1){if(!t){Ge.info("");return}const r=t;try{const o=await Ea(r.sceneData.sceneUrl);if(!await W.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const l=Pv(c);wd(l)}catch(o){Ge.error("",o);return}W.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,W.sceneManager.sceneData.sceneStack=nn(r.sceneData.sceneStack),FO();const n=r.backlog;W.backlogManager.getBacklog().splice(0,W.backlogManager.getBacklog().length);for(const o of n)W.backlogManager.getBacklog().push(o);const i=nn(r.nowStageState),a=ue.dispatch;a(Ax(i)),e?(a(or.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{jx(o.script)})):setTimeout(kO,0),a(pt({component:"showTitle",visibility:!1})),a(pt({component:"showMenuPanel",visibility:!1})),a(pt({component:"showExtra",visibility:!1})),jv(ue.getState().stage.bgName)}function N2e(){`${W.gameName}${W.gameKey}`,`${W.gameName}${W.gameKey}`}async function L2e(){const t=await w7(-1,!1),e=nn(t);ue.dispatch(or.setFastSave(e)),await oCe()}async function M2e(){return await C2e(),ue.getState().saveData.quickSaveData!==null}async function B2e(){await x7();const t=ue.getState().saveData.quickSaveData;t&&NO(t)}const U7=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},D2e=()=>{xO(!0,!0,!1);const t=Tt("start.txt",xt.scene);Ea(t).then(e=>{W.sceneManager.setCurrentScene(e,"start.txt",t).then(r=>{r&&Sn()})}),ue.dispatch(or.setIsShowUnlock(!0)),ue.dispatch(or.setShowStoryline(!0)),ue.dispatch(pt({component:"showTitle",visibility:!1})),ue.dispatch(pt({component:"isInGaming",visibility:!0})),U7(ue.getState().userData.optionData.uiLight)};async function U2e(){if(jv(ue.getState().stage.bgName),await M2e()&&W.sceneManager.sceneData.currentSentenceId===0){await B2e();return}W.sceneManager.sceneData.currentSentenceId===0&&W.sceneManager.sceneData.currentScene.sceneName==="start.txt"?Sn():kO()}const j2e=async()=>{const t=Tt(nl.Storyline,xt.scene);W.sceneManager.resetScene();const e=await Ea(t);await W.sceneManager.setCurrentScene(e,nl.Storyline,t),await Sn(),ue.dispatch(LA(!0)),ue.dispatch(pt({component:"showMenuPanel",visibility:!1})),ue.dispatch(pt({component:"showTextBox",visibility:!1}))},$2e=()=>{ue.dispatch(pt({component:"showBeautyGuide",visibility:!0}))};function G2e(t){return I1.parseScssToWebgalStyleObj(t)}function Gc(t){const[e,r]=he.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function V2e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function H2e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var X2e=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(H2e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=V2e(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pi="-ms-",Oy="-moz-",ur="-webkit-",j7="comm",LO="rule",MO="decl",W2e="@import",$7="@keyframes",z2e="@layer",Y2e=Math.abs,O1=String.fromCharCode,q2e=Object.assign;function K2e(t,e){return gi(t,0)^45?(((e<<2^gi(t,0))<<2^gi(t,1))<<2^gi(t,2))<<2^gi(t,3):0}function G7(t){return t.trim()}function Z2e(t,e){return(t=e.exec(t))?t[0]:t}function cr(t,e,r){return t.replace(e,r)}function MA(t,e){return t.indexOf(e)}function gi(t,e){return t.charCodeAt(e)|0}function Vp(t,e,r){return t.slice(e,r)}function ts(t){return t.length}function BO(t){return t.length}function mm(t,e){return e.push(t),t}function J2e(t,e){return t.map(e).join("")}var F1=1,zh=1,V7=0,xa=0,Fn=0,Id="";function k1(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:F1,column:zh,length:o,return:""}}function y0(t,e){return q2e(k1("",null,null,"",null,null,0),t,{length:-t.length},e)}function Q2e(){return Fn}function eAe(){return Fn=xa>0?gi(Id,--xa):0,zh--,Fn===10&&(zh=1,F1--),Fn}function Ba(){return Fn=xa<V7?gi(Id,xa++):0,zh++,Fn===10&&(zh=1,F1++),Fn}function fs(){return gi(Id,xa)}function P_(){return xa}function $v(t,e){return Vp(Id,t,e)}function Hp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H7(t){return F1=zh=1,V7=ts(Id=t),xa=0,[]}function X7(t){return Id="",t}function O_(t){return G7($v(xa-1,BA(t===91?t+2:t===40?t+1:t)))}function tAe(t){for(;(Fn=fs())&&Fn<33;)Ba();return Hp(t)>2||Hp(Fn)>3?"":" "}function rAe(t,e){for(;--e&&Ba()&&!(Fn<48||Fn>102||Fn>57&&Fn<65||Fn>70&&Fn<97););return $v(t,P_()+(e<6&&fs()==32&&Ba()==32))}function BA(t){for(;Ba();)switch(Fn){case t:return xa;case 34:case 39:t!==34&&t!==39&&BA(Fn);break;case 40:t===41&&BA(t);break;case 92:Ba();break}return xa}function nAe(t,e){for(;Ba()&&t+Fn!==47+10;)if(t+Fn===42+42&&fs()===47)break;return"/*"+$v(e,xa-1)+"*"+O1(t===47?t:Ba())}function iAe(t){for(;!Hp(fs());)Ba();return $v(t,xa)}function aAe(t){return X7(F_("",null,null,null,[""],t=H7(t),0,[0],t))}function F_(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,d=0,p=0,v=1,m=1,_=1,g=0,x="",E=i,b=a,S=n,C=x;m;)switch(p=g,g=Ba()){case 40:if(p!=108&&gi(C,f-1)==58){MA(C+=cr(O_(g),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:C+=O_(g);break;case 9:case 10:case 13:case 32:C+=tAe(p);break;case 92:C+=rAe(P_()-1,7);continue;case 47:switch(fs()){case 42:case 47:mm(oAe(nAe(Ba(),P_()),e,r),c);break;default:C+="/"}break;case 123*v:s[l++]=ts(C)*_;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+u:_==-1&&(C=cr(C,/\f/g,"")),d>0&&ts(C)-f&&mm(d>32?PD(C+";",n,r,f-1):PD(cr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(mm(S=RD(C,e,r,l,u,i,s,x,E=[],b=[],f),a),g===123)if(u===0)F_(C,e,S,S,E,a,f,s,b);else switch(h===99&&gi(C,3)===110?100:h){case 100:case 108:case 109:case 115:F_(t,S,S,n&&mm(RD(t,S,S,0,0,i,s,x,i,E=[],f),b),i,b,f,s,n?E:b);break;default:F_(C,S,S,S,[""],b,0,s,b)}}l=u=d=0,v=_=1,x=C="",f=o;break;case 58:f=1+ts(C),d=p;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&eAe()==125)continue}switch(C+=O1(g),g*v){case 38:_=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(ts(C)-1)*_,_=1;break;case 64:fs()===45&&(C+=O_(Ba())),h=fs(),u=f=ts(x=C+=iAe(P_())),g++;break;case 45:p===45&&ts(C)==2&&(v=0)}}return a}function RD(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],d=BO(h),p=0,v=0,m=0;p<n;++p)for(var _=0,g=Vp(t,f+1,f=Y2e(v=o[p])),x=t;_<d;++_)(x=G7(v>0?h[_]+" "+g:cr(g,/&\f/g,h[_])))&&(c[m++]=x);return k1(t,e,r,i===0?LO:s,c,l,u)}function oAe(t,e,r){return k1(t,e,r,j7,O1(Q2e()),Vp(t,2,-2),0)}function PD(t,e,r,n){return k1(t,e,r,MO,Vp(t,0,n),Vp(t,n+1,-1),n)}function Ih(t,e){for(var r="",n=BO(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function sAe(t,e,r,n){switch(t.type){case z2e:if(t.children.length)break;case W2e:case MO:return t.return=t.return||t.value;case j7:return"";case $7:return t.return=t.value+"{"+Ih(t.children,n)+"}";case LO:t.value=t.props.join(",")}return ts(r=Ih(t.children,n))?t.return=t.value+"{"+r+"}":""}function lAe(t){var e=BO(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function uAe(t){return function(e){e.root||(e=e.return)&&t(e)}}function cAe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var fAe=function(e,r,n){for(var i=0,a=0;i=a,a=fs(),i===38&&a===12&&(r[n]=1),!Hp(a);)Ba();return $v(e,xa)},hAe=function(e,r){var n=-1,i=44;do switch(Hp(i)){case 0:i===38&&fs()===12&&(r[n]=1),e[n]+=fAe(xa-1,r,n);break;case 2:e[n]+=O_(i);break;case 4:if(i===44){e[++n]=fs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=O1(i)}while(i=Ba());return e},dAe=function(e,r){return X7(hAe(H7(e),r))},OD=new WeakMap,pAe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!OD.get(n))&&!i){OD.set(e,!0);for(var a=[],o=dAe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},vAe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function W7(t,e){switch(K2e(t,e)){case 5103:return ur+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ur+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ur+t+Oy+t+Pi+t+t;case 6828:case 4268:return ur+t+Pi+t+t;case 6165:return ur+t+Pi+"flex-"+t+t;case 5187:return ur+t+cr(t,/(\w+).+(:[^]+)/,ur+"box-$1$2"+Pi+"flex-$1$2")+t;case 5443:return ur+t+Pi+"flex-item-"+cr(t,/flex-|-self/,"")+t;case 4675:return ur+t+Pi+"flex-line-pack"+cr(t,/align-content|flex-|-self/,"")+t;case 5548:return ur+t+Pi+cr(t,"shrink","negative")+t;case 5292:return ur+t+Pi+cr(t,"basis","preferred-size")+t;case 6060:return ur+"box-"+cr(t,"-grow","")+ur+t+Pi+cr(t,"grow","positive")+t;case 4554:return ur+cr(t,/([^-])(transform)/g,"$1"+ur+"$2")+t;case 6187:return cr(cr(cr(t,/(zoom-|grab)/,ur+"$1"),/(image-set)/,ur+"$1"),t,"")+t;case 5495:case 3959:return cr(t,/(image-set\([^]*)/,ur+"$1$`$1");case 4968:return cr(cr(t,/(.+:)(flex-)?(.*)/,ur+"box-pack:$3"+Pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ur+t+t;case 4095:case 3583:case 4068:case 2532:return cr(t,/(.+)-inline(.+)/,ur+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ts(t)-1-e>6)switch(gi(t,e+1)){case 109:if(gi(t,e+4)!==45)break;case 102:return cr(t,/(.+:)(.+)-([^]+)/,"$1"+ur+"$2-$3$1"+Oy+(gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~MA(t,"stretch")?W7(cr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gi(t,e+1)!==115)break;case 6444:switch(gi(t,ts(t)-3-(~MA(t,"!important")&&10))){case 107:return cr(t,":",":"+ur)+t;case 101:return cr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ur+(gi(t,14)===45?"inline-":"")+"box$3$1"+ur+"$2$3$1"+Pi+"$2box$3")+t}break;case 5936:switch(gi(t,e+11)){case 114:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ur+t+Pi+t+t}return t}var gAe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case MO:e.return=W7(e.value,e.length);break;case $7:return Ih([y0(e,{value:cr(e.value,"@","@"+ur)})],i);case LO:if(e.length)return J2e(e.props,function(a){switch(Z2e(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ih([y0(e,{props:[cr(a,/:(read-\w+)/,":"+Oy+"$1")]})],i);case"::placeholder":return Ih([y0(e,{props:[cr(a,/:(plac\w+)/,":"+ur+"input-$1")]}),y0(e,{props:[cr(a,/:(plac\w+)/,":"+Oy+"$1")]}),y0(e,{props:[cr(a,/:(plac\w+)/,Pi+"input-$1")]})],i)}return""})}},mAe=[gAe],_Ae=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var m=v.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||mAe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var m=v.getAttribute("data-emotion").split(" "),_=1;_<m.length;_++)a[m[_]]=!0;s.push(v)});var c,l=[pAe,vAe];{var u,f=[sAe,uAe(function(v){u.insert(v)})],h=lAe(l.concat(i,f)),d=function(m){return Ih(aAe(m),h)};c=function(m,_,g,x){u=g,d(m?m+"{"+_.styles+"}":_.styles),x&&(p.inserted[_.name]=!0)}}var p={key:r,sheet:new X2e({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return p.sheet.hydrate(s),p};function yAe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xAe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bAe=/[A-Z]|^ms/g,EAe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z7=function(e){return e.charCodeAt(1)===45},FD=function(e){return e!=null&&typeof e!="boolean"},lC=cAe(function(t){return z7(t)?t:t.replace(bAe,"-$&").toLowerCase()}),kD=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(EAe,function(n,i,a){return rs={name:i,styles:a,next:rs},i})}return xAe[e]!==1&&!z7(e)&&typeof r=="number"&&r!==0?r+"px":r};function Xp(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return rs={name:r.name,styles:r.styles,next:rs},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)rs={name:n.name,styles:n.styles,next:rs},n=n.next;var i=r.styles+";";return i}return wAe(t,e,r)}case"function":{if(t!==void 0){var a=rs,o=r(t);return rs=a,Xp(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function wAe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Xp(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":FD(o)&&(n+=lC(a)+":"+kD(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)FD(o[s])&&(n+=lC(a)+":"+kD(a,o[s])+";");else{var c=Xp(t,e,o);switch(a){case"animation":case"animationName":{n+=lC(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var ND=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rs,uC=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";rs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=Xp(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=Xp(n,r,e[s]),i&&(a+=o[s]);ND.lastIndex=0;for(var c="",l;(l=ND.exec(a))!==null;)c+="-"+l[1];var u=yAe(a)+c;return{name:u,styles:a,next:rs}},SAe=!0;function Y7(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var CAe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||SAe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},AAe=function(e,r,n){CAe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function LD(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function MD(t,e,r){var n=[],i=Y7(t,n,r);return n.length<2?r:i+e(n)}var TAe=function(e){var r=_Ae(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered,void 0);return AAe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered),h="animation-"+f.name;return LD(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered);LD(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return MD(r.registered,n,IAe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:Y7.bind(null,r.registered),merge:MD.bind(null,r.registered,n)}},IAe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},q7=TAe({key:"css"}),RAe=q7.injectGlobal,PAe=q7.css;function DO(t){const e=Gc({classNameStyles:{},others:""}),r=tt(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=PAe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{Ge.debug(" Scss ",t);const o=(await Np.get(`game/template/${t}`)).data;e.set(G2e(o))};return he.useEffect(()=>{i()},[]),he.useEffect(()=>{RAe(e.value.others)},[e.value.others]),OAe(i),n}function OAe(t){const e=()=>{t()};he.useEffect(()=>(W.events.styleUpdate.on(e),()=>W.events.styleUpdate.off(e)),[])}function Rd(t){const e=tt(t),r=he.useRef(e);return he.useEffect(()=>{r.current=e},[e]),r}function Pd(t){he.useEffect(()=>{t()},[])}function Od(t){he.useEffect(()=>function(){t()},[])}function FAe(t){he.useEffect(()=>{t()})}const kAe="_main_1ozrm_1",NAe="_fallBack_1ozrm_16",LAe="_pause_1ozrm_32",MAe="_advance_1ozrm_51",BAe="_collect_1ozrm_67",DAe="_autoplay_1ozrm_83",UAe="_button_1ozrm_100",jAe="_button_text_1ozrm_107",$Ae="_button_on_1ozrm_115",GAe="_singleButton_1ozrm_126",VAe="_button_icon_1ozrm_139",HAe="_fastSlPreview_1ozrm_161",XAe="_fastSlEnter_1ozrm_1",WAe="_fastsave_1ozrm_175",zAe="_fastSPreview_1ozrm_175",YAe="_fastload_1ozrm_179",qAe="_fastLPreview_1ozrm_179",KAe="_slPreviewMain_1ozrm_191",ZAe="_imgContainer_1ozrm_199",JAe="_textContainer_1ozrm_207",ki={main:kAe,fallBack:NAe,pause:LAe,advance:MAe,collect:BAe,autoplay:DAe,button:UAe,button_text:jAe,button_on:$Ae,singleButton:GAe,button_icon:VAe,fastSlPreview:HAe,fastSlEnter:XAe,fastsave:WAe,fastSPreview:zAe,fastload:YAe,fastLPreview:qAe,slPreviewMain:KAe,imgContainer:ZAe,textContainer:JAe},K7=t=>{const e=document.getElementById("Button_ControlPanel_auto");e&&(t?e.className=ki.button_on:e.className=ki.singleButton)},UO=()=>{W.gameplay.isAuto=!1,K7(!1),W.gameplay.autoInterval!==null&&(clearInterval(W.gameplay.autoInterval),W.gameplay.autoInterval=null),W.gameplay.autoTimeout!==null&&(clearTimeout(W.gameplay.autoTimeout),W.gameplay.autoTimeout=null)},QAe=()=>{W.gameplay.isAuto?UO():(W.gameplay.isAuto=!0,K7(!0),W.gameplay.autoInterval=setInterval(tTe,100))},eTe=()=>{Sn(),W.gameplay.autoTimeout=null},tTe=()=>{const e=750-250*ue.getState().userData.optionData.autoSpeed;let r=!1;W.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&W.gameplay.autoTimeout===null&&(W.gameplay.autoTimeout=setTimeout(eTe,e))},Z7=t=>{const e=document.getElementById("Button_ControlPanel_fast");e&&(t?e.className=ki.button_on:e.className=ki.singleButton)},Rh=()=>{Q7()&&(W.gameplay.isFast=!1,Z7(!1),W.gameplay.fastInterval!==null&&(clearInterval(W.gameplay.fastInterval),W.gameplay.fastInterval=null))},J7=()=>{Q7()||(W.gameplay.isFast=!0,Z7(!0),W.gameplay.fastInterval=setInterval(()=>{Sn()},J9.fast_timeout))},Q7=function(){return W.gameplay.isFast},jO=()=>{Rh(),UO()},rTe=()=>{W.gameplay.isFast?Rh():J7()},nTe="_Backlog_main_jojwe_2",iTe="_backlog_soft_in_jojwe_1",aTe="_Backlog_main_out_jojwe_15",oTe="_backlog_soft_out_jojwe_1",sTe="_Backlog_main_out_IndexHide_jojwe_28",lTe="_Backlog_main_DisableScroll_jojwe_32",uTe="_backlog_top_jojwe_36",cTe="_backlog_top_icon_jojwe_42",fTe="_backlog_icon_softin_jojwe_1",hTe="_backlog_title_jojwe_62",dTe="_backlog_content_jojwe_72",pTe="_backlog_item_jojwe_84",vTe="_backlog_item_in_jojwe_1",gTe="_backlog_item_out_jojwe_94",mTe="_backlog_func_area_jojwe_104",_Te="_backlog_item_content_name_jojwe_113",yTe="_backlog_item_content_jojwe_113",xTe="_backlog_item_button_list_jojwe_137",bTe="_backlog_item_button_element_jojwe_144",ETe="_backlog_item_content_text_jojwe_157",hi={Backlog_main:nTe,backlog_soft_in:iTe,Backlog_main_out:aTe,backlog_soft_out:oTe,Backlog_main_out_IndexHide:sTe,Backlog_main_DisableScroll:lTe,backlog_top:uTe,backlog_top_icon:cTe,backlog_icon_softin:fTe,backlog_title:hTe,backlog_content:dTe,backlog_item:pTe,backlog_item_in:vTe,backlog_item_out:gTe,backlog_func_area:mTe,backlog_item_content_name:_Te,backlog_item_content:yTe,backlog_item_button_list:xTe,backlog_item_button_element:bTe,backlog_item_content_text:ETe};var wTe=Do,STe=function(){return wTe.Date.now()},CTe=STe,ATe=/\s/;function TTe(t){for(var e=t.length;e--&&ATe.test(t.charAt(e)););return e}var ITe=TTe,RTe=ITe,PTe=/^\s+/;function OTe(t){return t&&t.slice(0,RTe(t)+1).replace(PTe,"")}var FTe=OTe,kTe=FTe,BD=bs,NTe=Xx,DD=0/0,LTe=/^[-+]0x[0-9a-f]+$/i,MTe=/^0b[01]+$/i,BTe=/^0o[0-7]+$/i,DTe=parseInt;function UTe(t){if(typeof t=="number")return t;if(NTe(t))return DD;if(BD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=BD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kTe(t);var r=MTe.test(t);return r||BTe.test(t)?DTe(t.slice(2),r?2:8):LTe.test(t)?DD:+t}var jTe=UTe,$Te=bs,cC=CTe,UD=jTe,GTe="Expected a function",VTe=Math.max,HTe=Math.min;function XTe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(GTe);e=UD(e)||0,$Te(r)&&(u=!!r.leading,f="maxWait"in r,a=f?VTe(UD(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function d(S){var C=n,A=i;return n=i=void 0,l=S,o=t.apply(A,C),o}function p(S){return l=S,s=setTimeout(_,e),u?d(S):o}function v(S){var C=S-c,A=S-l,I=e-C;return f?HTe(I,a-A):I}function m(S){var C=S-c,A=S-l;return c===void 0||C>=e||C<0||f&&A>=a}function _(){var S=cC();if(m(S))return g(S);s=setTimeout(_,v(S))}function g(S){return s=void 0,h&&n?d(S):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function E(){return s===void 0?o:g(cC())}function b(){var S=cC(),C=m(S);if(n=arguments,i=this,c=S,C){if(s===void 0)return p(c);if(f)return clearTimeout(s),s=setTimeout(_,e),d(c)}return s===void 0&&(s=setTimeout(_,e)),o}return b.cancel=x,b.flush=E,b}var WTe=XTe,zTe=WTe,YTe=bs,qTe="Expected a function";function KTe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(qTe);return YTe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),zTe(t,e,{leading:n,maxWait:e,trailing:i})}var ZTe=KTe;const JTe=wi(ZTe),ah="keyboard"in navigator&&navigator.keyboard;function QTe(t){eIe(),rIe(),iIe(),nIe(),aIe(),cIe(),hIe()}function eIe(){const t=Rd(c=>c.GUI),e=L1(),r=N1(t),n=eH(t),i=oIe(t),a=lIe(t),o=sIe(t),s=he.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);Pd(()=>{document.addEventListener("contextmenu",s)}),Od(()=>{document.removeEventListener("contextmenu",s)})}let tIe=setTimeout(()=>{},0);function rIe(){const t=Rd(s=>s.GUI),e=L1(),r=N1(t),n=eH(t),i=tH(t),a=he.useCallback(JTe(()=>{Sn()},100),[]),o=he.useRef(0);he.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${hi.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=fIe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(tIe),W.gameplay.isFast=!0,setTimeout(()=>{W.gameplay.isFast=!1},150),a())},[]),Pd(()=>{}),Od(()=>{})}function nIe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=Rd(s=>s.GUI),n=he.useCallback(()=>r.current.showTitle,[r]),i=tH(r),a=L1(),o=he.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),jO()))},[]);Pd(()=>{document.addEventListener("keyup",o)}),Od(()=>{document.removeEventListener("keyup",o)})}function iIe(){const t=Rd(o=>o.GUI),e=N1(t),r=he.useCallback(o=>o.keyCode===17,[]),n=he.useCallback(o=>{r(o)&&e()&&J7()},[]),i=he.useCallback(o=>{r(o)&&e()&&Rh()},[]),a=he.useCallback(o=>{Rh()},[]);Pd(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),Od(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),FAe(()=>{e()||Rh()})}function aIe(){const t=uIe(),e=he.useCallback(async r=>{t()&&await L2e()},[]);Pd(()=>{window.addEventListener("beforeunload",e)}),Od(()=>{window.removeEventListener("beforeunload",e)})}function N1(t){return he.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function eH(t){return he.useCallback(()=>t.current.showBacklog,[t])}function oIe(t){return he.useCallback(()=>t.current.showGlobalDialog,[t])}function sIe(t){return he.useCallback(()=>t.current.showExtra,[t])}function tH(t){return he.useCallback(()=>t.current.showPanicOverlay,[t])}function lIe(t){return he.useCallback(()=>[ya.Save,ya.Load,ya.Option].includes(t.current.currentMenuTag),[t])}function uIe(){return he.useCallback(()=>W.sceneManager.sceneData.currentSentenceId!==0,[W.sceneManager.sceneData])}function L1(){const t=qr();return(e,r)=>{t(pt({component:e,visibility:r}))}}function cIe(){const t=Rd(c=>c.GUI),e=N1(t),r=L1(),n=he.useRef(!1),i=he.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=he.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}jO(),Sn(),n.current=!0}},[]),o=he.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=he.useCallback(c=>{n.current=!1},[]);Pd(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),Od(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function fIe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function hIe(){const t=tt(n=>n.userData),e=qr(),r=t.optionData.fullScreen;he.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==oo.on?(e(Ro({key:"fullScreen",value:oo.on})),$n()):(e(Ro({key:"fullScreen",value:oo.off})),$n()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const dIe=async()=>{ue.dispatch(or.setIsShowUnlock(!1));const t=Tt(nl.Achieve,xt.scene);W.sceneManager.resetScene(),Ea(t).then(e=>{W.sceneManager.setCurrentScene(e,nl.Achieve,t).then(r=>{r&&Sn()})}),ue.dispatch(pt({component:"showMenuPanel",visibility:!1})),ue.dispatch(pt({component:"showTextBox",visibility:!1})),ue.dispatch(pt({component:"showAchievement",visibility:!0}))},pIe=""+new URL("bar-bg.png",import.meta.url).href,vIe=""+new URL("bar-checked.png",import.meta.url).href;const gIe=({text:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s,key:c})=>{const l=`customText-${c}-${t}`,[u,f]=he.useState(!1);let h=e,d=n;const p=p1.debounce(()=>{i&&f(!0),a&&a()},100),v=()=>{f(!1),o&&o()};u&&(h=`${e} ${r}`,d={...n,...i});const m=document.getElementById(`${l}-text`);return m&&t&&(m.innerText=(t==null?void 0:t.replace(/\\n/g,`
`))??t),M.jsx("span",{className:h,onMouseEnter:p,onMouseLeave:v,onClick:s,style:d,id:`${l}-text`,children:t})},Yh=({src:t,hoverSrc:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,nId:l,draggable:u,isHoverStatus:f})=>{const[h,d]=he.useState(!1),[p,v]=he.useState(0),m=()=>v(S=>S+1),_=he.useRef({width:void 0,height:void 0});let g=r,x=i||{};const E=()=>{(e||a)&&d(!0),o&&o()},b=()=>{d(!1),s&&s()};return f&&(g=`${r||""} ${n||""}`,x={...i,...a}),x.width===void 0&&(x.width=_.current.width,x.height=_.current.height),M.jsx("img",{id:l,src:f&&e?e:t,className:g,onMouseEnter:E,onMouseLeave:b,draggable:u,style:x,onClick:c,onLoad:S=>{x.width===void 0&&(_.current.width=S.currentTarget.naturalWidth,_.current.height=S.currentTarget.naturalHeight,m())}})},$O=({item:t,children:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onMouseDown:c,onMouseUp:l,onClick:u,id:f})=>{const[h,d]=he.useState(!1);let p=r,v=i,m=a;if(t){if(t.args.hide)return null;v||(v=Hr(t.args.style)),m||(m=Hr(t.args.hoverStyle))}const _=p1.debounce(()=>{m&&d(!0),o&&o()},100),g=()=>{d(!1),s&&s()};return h&&(p=`${r} ${n}`,v={...i,...a}),M.jsx("div",{className:p,onMouseEnter:_,onMouseLeave:g,onClick:u,style:v,id:f,onMouseDown:c,onMouseUp:l,children:e})},Vl=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=Hr(t.args.style),i=Tt(((a=t.args.style)==null?void 0:a.image)||"",xt.background);return(o=t.args.style)!=null&&o.image?M.jsx(Yh,{defaultClass:e,src:i,style:n},r):M.jsx("div",{className:e,style:n,draggable:"false"})},Di=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c="button",checked:l=!1,onChecked:u=()=>{},text:f="",style:h,defaultText:d=""})=>{var F,N,B,U;if(t.args.hide)return null;const[p,v]=he.useState(!1),[m,_]=he.useState(!1),g=Hr(t.args.style),x=Hr(t.args.hoverStyle),{playSeClick:E}=li(),b=((F=t.args.style)==null?void 0:F.image)||"",S=(B=(N=t.args)==null?void 0:N.btnSound)!=null&&B.clickSound?Tt(t.args.btnSound.clickSound,xt.bgm):"",C=((U=t.args.hoverStyle)==null?void 0:U.image)||b,A=t,I={};he.useRef(),he.useRef(0);const R=b?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},O={...g,...h};O.width&&(I.width=O.width),O.height&&(I.height=O.height),b&&(O.backgroundSize="100% 100%",O.backgroundRepeat="no-repeat");const P=()=>{c==="checkbox"&&(E(S),u(!l)),s&&(E(S),s())};return M.jsxs($O,{onMouseEnter:()=>{_(!0),a&&(a==null||a())},onMouseLeave:()=>{_(!1),o&&(o==null||o())},onClick:P,defaultClass:`${e} ${p?"btn-clicked":""}`,defaultHoverClass:i,style:O,hoverStyle:x,children:[!!b&&M.jsx(Yh,{nId:n,src:Tt(l?C:b,xt.ui),hoverSrc:C?Tt(C,xt.ui):"",style:I,onMouseEnter:a,onMouseLeave:o,isHoverStatus:m}),A.content?M.jsx(gIe,{text:A.content,defaultClass:r,style:R},n):!b&&d]},n)},fC=({item:t,defaultClass:e,uniqueID:r,initValue:n,onChange:i,min:a,max:o,className:s,isUpdate:c})=>{var _,g,x,E,b,S,C,A,I,R,O,P;if(t.args.hide)return null;const{playSeEnter:l}=li();he.useEffect(()=>{setTimeout(()=>{const F=document.getElementById(r);F!==null&&F.setAttribute("value",(n||0).toString()),u()},1)},[]),he.useEffect(()=>{u()},[n,c]),he.useEffect(()=>{const F=Hr(t.args.sliderThumb),N=_Ie(F);N&&(hC(`#${r}::-webkit-slider-thumb`,`#${r}::-webkit-slider-thumb { ${N} }`),hC(`#${r}::-moz-range-thumb`,`#${r}::-moz-range-thumb { ${N} }`),hC(`#${r}::-ms-thumb`,`#${r}::-ms-thumb { ${N} }`))},[t.args.sliderThumb,r]);function u(){var N,B;const F=document.getElementById(`${r}-bg`);if(F!==null){const U=gu().width,H=U===2560?2:3,ee=U===2560?.5:.3333;if(r==="light"){const G=(Number(n)-50)/50*((((N=t.args.style)==null?void 0:N.width)||342)*H)+"px";F.style.width=G}else F.style.width=Number(n.toString())/100*(((B=t.args.style)==null?void 0:B.width)||342)/ee+"px"}}const f={background:"none"},h=Hr(t.args.style),d=(g=(_=t.args)==null?void 0:_.slider)!=null&&g.image?{...Hr((x=t.args)==null?void 0:x.slider),...f}:Hr((E=t.args)==null?void 0:E.slider),p=(S=(b=t.args)==null?void 0:b.sliderBg)!=null&&S.image?{...Hr((C=t.args)==null?void 0:C.sliderBg),...f}:Hr((A=t.args)==null?void 0:A.sliderBg),v=(R=(I=t.args)==null?void 0:I.slider)!=null&&R.image?Tt(t.args.slider.image,xt.ui):vIe,m=(P=(O=t.args)==null?void 0:O.sliderBg)!=null&&P.image?Tt(t.args.sliderBg.image,xt.ui):pIe;return M.jsxs($O,{style:h,defaultClass:`Option_WebGAL_slider ${e}`,children:[M.jsx("input",{className:"Rang_input",id:r,type:"range",min:a||0,max:o||100,onChange:i,onFocus:l,onMouseEnter:l}),M.jsxs("div",{className:"Slider_group",children:[M.jsx(Yh,{src:v,style:d,defaultClass:"Slider_bg",nId:`${r}-bg`,draggable:!1}),M.jsx(Yh,{src:m,style:p,defaultClass:"Slider_bg_under",draggable:!1})]})]})},mIe=({item:t,defaultClass:e,key:r,onMouseEnter:n,activeIndex:i,pageLength:a=1,indicatorDefaultClass:o,activeIndecatorClass:s,onClickIndicator:c=()=>{},onClickPrev:l=()=>{},onClickNext:u=()=>{},nextIconDefaultClass:f,prevIconDefaultClass:h})=>{var _,g,x;if(t.args.hide)return null;const d=Hr(t.args.style),p=he.useMemo(()=>Array.from({length:a}).map((E,b)=>{var S;return{content:(S=t.args.indicatorStyle)!=null&&S.image?"":(b+1).toString(),key:"",args:{hide:!1,style:t.args.indicatorStyle||{},hoverStyle:t.args.indicatorHoverStyle}}}),[a]),v=((_=t.args.indicatorLeftStyle)==null?void 0:_.image)||"",m=((g=t.args.indicatorRightStyle)==null?void 0:g.image)||"";return(x=t.args.indicatorStyle)!=null&&x.image,M.jsxs($O,{defaultClass:e,style:d,children:[v?M.jsx(Yh,{src:v,onMouseEnter:n,defaultClass:h,onClick:l}):M.jsx("div",{className:h,onMouseEnter:n,onClick:l}),p.map((E,b)=>M.jsx(Di,{item:E,defaultClass:`${o} ${b===i?s:""}`,checked:b===i,type:"checkbox",onChecked:()=>{c(b)}},b.toString())),m?M.jsx(Yh,{src:m,onMouseEnter:n,defaultClass:f,onClick:u}):M.jsx("div",{className:f,onMouseEnter:n,onClick:u})]},r)};function hC(t,e){const r=document.styleSheets[0];if(!e||e.includes("{}")){console.warn(`: ${e}`);return}for(let n=0;n<r.cssRules.length;n++)if(r.cssRules[n].selectorText===t){r.deleteRule(n),r.insertRule(e,n);return}r.insertRule(e,r.cssRules.length)}function _Ie(t){const e=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return Object.entries(t).map(([r,n])=>{const i=e(r);let a=n;return typeof n=="number"&&i!=="z-index"&&i!=="opacity"&&(a=`${n}px`),`${i}: ${a};`}).join(" ")}const yIe=()=>{const t=tt(u=>u.userData),e=tt(u=>u.GUI),r=qr(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=li(),o=e.gameUIConfigs[Un.title];var s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);const c=DO("UI/Title/title.scss"),l={[fa.Game_start_button]:()=>{D2e(),a(),r(Gp(!1))},[fa.Game_achievement_button]:()=>{dIe(),a()},[fa.Game_storyline_button]:()=>{j2e(),a()},[fa.Game_extra_button]:()=>{r(pt({component:"showExtra",visibility:!0})),a()},[fa.Game_collection_button]:()=>{$2e(),a()},[fa.Game_continue_button]:()=>{a(),r(pt({component:"showTitle",visibility:!1})),r(pt({component:"isInGaming",visibility:!0})),U2e()},[fa.Game_option_button]:()=>{a(),r(pt({component:"showMenuPanel",visibility:!0})),r(Py(ya.Option))},[fa.Game_load_button]:()=>{a(),r(pt({component:"showMenuPanel",visibility:!0})),r(Py(ya.Load))},[fa.Game_link_button]:()=>{var f,h;const u=((h=(f=o.buttons[fa.Game_link_button].args)==null?void 0:f.buttonLink)==null?void 0:h.link)??"";if(a(),u)if(s){const d=window.open("","_blank");d.location.href=u}else window.open(u)}};return M.jsxs(M.Fragment,{children:[e.showTitle&&M.jsx("div",{className:c("Title_backup_background",Cf.Title_backup_background)}),M.jsx("div",{id:"enter_game_target",onClick:()=>{OO(e.titleBgm),r(pt({component:"isEnterGame",visibility:!0})),n===oo.on&&(document.documentElement.requestFullscreen(),ah&&ah.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&M.jsxs("div",{children:[M.jsx(Vl,{defaultClass:c("Title_main",Cf.Title_main),item:o.other[$p.Title_img]}),M.jsx("div",{className:c("Title_buttonList",Cf.Title_buttonList),children:Object.keys(o.buttons).map(u=>{var d;let f=u,h=o.buttons[f];return M.jsx(Di,{item:h,defaultClass:`${Cf.Title_button} interactive`,defaultHoverClass:(d=h.args.hoverStyle)!=null&&d.image?Cf.Title_button_hover:"",defaultTextClass:Cf.Title_button_text,onClick:l[f],onMouseEnter:i},f)})})]})]})},xIe="_Logo_main_y88l5_1",bIe="_overlay_y88l5_14",EIe="_Logo_Back_y88l5_61",wIe="_animationActive_y88l5_75",SIe="_fadeout_y88l5_1",_m={Logo_main:xIe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:bIe,"fade-in":"_fade-in_y88l5_1",Logo_Back:EIe,animationActive:wIe,fadeout:SIe,"fade-in-out":"_fade-in-out_y88l5_1"},CIe=()=>{const t=qr(),e=tt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Gc(-1),a=Gc(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(pt({component:"openR18Modal",visibility:!0})),i.set(-1))};he.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return M.jsxs(M.Fragment,{children:[i.value!==-1&&M.jsx("div",{className:_m.Logo_Back+" "+(i.value===r.length-1?_m.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:_m.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),M.jsx("div",{className:_m.overlay})]})]})};R_.slider,R_.sliderBg,R_.sliderThumb;const oh=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),AIe=t=>{const e=ue.getState().GUI,r=ue.dispatch;Np.get(t).then(n=>{var o;let i=n.data;const a=I1.parseConfig(i);if(Ge.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:d,args:p,options:v}=h;switch(d){case"Title_img":{const m=Tt(p.join(""),xt.background);r(TD({asset:"titleBg",value:m})),jv(m);break}case"Game_Logo":{const m=p.map(_=>Tt(_,xt.background));r(I2e(m));break}case"Game_cursor":{let m="{}",_="{}";v.forEach(E=>{E.key==="normal"?m=E.value:E.key==="active"&&(_=E.value)});const g=JSON.parse(m),x=JSON.parse(_);RB(g,"normal"),RB(x,"active");break}case"Title_bgm":{const m=Tt(p[0],xt.bgm);r(TD({asset:"titleBgm",value:m}));break}case"Game_name":{W.gameName=p[0],document.title=p[0];break}case"Game_key":{W.gameKey=p[0],Iy(),x7(),Uv(0,0);break}case"Game_r18":{(p==null?void 0:p.length)>0&&r(B7(!!oh.get(p[0])));break}case"Game_sound":{if((v==null?void 0:v.length)>0){const m=jD(v);r(or.setSaveStatus({key:"gameScounds",value:m}))}break}case"Menu_sound":{if((v==null?void 0:v.length)>0){const m=jD(v);r(or.setSaveStatus({key:"menuScounds",value:m}))}break}case"Game_Icon":{if(p[0]){const m=Tt(p[0],xt.background),_=document.getElementById("dynamic-favicon");_&&(_.href=m+`?t=${new Date().getTime()}`)}break}case Qi.Esc_continueGame_button:case Qi.Esc_backToLevel_button:case Qi.Esc_setting_button:case Qi.Esc_exitGame_button:{if(!(v!=null&&v.length))break;let m="",_=!1;const g={},x=["x","y","scale","fontSize"];v==null||v.forEach(b=>{var S,C;typeof(b==null?void 0:b.value)=="string"&&((C=(S=b.value)==null?void 0:S.split(","))==null||C.forEach(A=>{const[I,R]=(A==null?void 0:A.split("="))||[];I==="name"?m=R:I==="hide"?_=(oh==null?void 0:oh.get(R))??!1:g[I]=x.includes(I)?Number(R):R}))});const E={...Ry.escMenus[Qi[d]].args.style};c[Qi[d]]={content:m,args:{hide:_,style:{...E,...g}}},l=!0;break}case rc.Achievement_progress_bg:case rc.Achievement_progress_text:case rc.Achievement_notUnlock:case rc.Achievement_progress:{u[rc[d]]=TIe(rc[d],p,v),f=!0;break}}if((fa[d]||$p[d])&&d!==$p.Title_bgm){const m=Un.title;Xu(s,m,h)}else if(wO[d]||PO[d]){const m=Un.load;Xu(s,m,h)}else if(SO[d]||RO[d]){const m=Un.storyline;Xu(s,m,h)}else if(CO[d]||IO[d]){const m=Un.achievement;Xu(s,m,h)}else if(P1[d]||ka[d]){const m=Un.option;Xu(s,m,h)}else if(AO[d]||jp[d]){const m=Un.extra;Xu(s,m,h)}else if(TO[d]||$r[d]){const m=Un.collection;Xu(s,m,h)}}),r(R2e(s)),l&&r(P2e(c)),f&&r(O2e(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,N2e()})};function Xu(t,e,r){const n=(i,a="")=>{const o=l=>{let u={};const f=/\{(.*?)\}/,h=l.match(f);if(h){const p=h[1].split(","),v={};p.forEach(m=>{const[_,g]=m.split("=");_&&g&&(v[_.trim()]=isNaN(Number(g.trim()))?g.trim():Number(g.trim()))}),u=v}return u},s={hide:!1,style:{}},c=["info","images","btnSound","buttonLink"];return i.forEach(l=>{if(l.key==="hide")s.hide=l.value===!0;else if(l.key.toLowerCase().endsWith("style")){const u=o(l.value);l.key==="style"&&a&&(u.image=a),s[l.key]=u}else if(c.includes(l.key)){const u=o(l.value);s[l.key]=u}}),s};if(sC[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),sC[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(sC[e].other[r.command]){let a=!1;T2e[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function TIe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...Ry.achievementUI[t].args.style},s={...Ry.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const d=/\{(.*?)\}/,p=h.match(d);if(p){const m=p[1].split(","),_={};return m.forEach(g=>{const[x,E]=g.split("=");x&&E&&(_[x.trim()]=isNaN(Number(E.trim()))?E.trim():Number(E.trim()))}),_}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}function jD(t){const e={};return t.forEach(r=>{var n;if(typeof r.value=="string"){const i=((n=r.value)==null?void 0:n.split(","))??[];e[r.key]=i!=null&&i.length?!!oh.get(i[0])||Tt(i[1],xt.bgm):!1}else e[r.key]=typeof r.value=="boolean"?!!oh.get(r.value):!1}),e}const IIe=(t,e)=>{Ge.warn(""+t+":"+e);const r=ue.dispatch;r(pt({component:"showTitle",visibility:!1})),r(pt({component:"showMenuPanel",visibility:!1})),r(pt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),xO(!0);const i=Tt(t,xt.scene);setTimeout(()=>{Ea(i).then(async a=>{if(!await W.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=W.sceneManager.sceneData.currentScene.sceneName;W.gameplay.isFast=!0,W.gameplay.isSyncingWithOrigine=!0,GO(e,s)})},16)};function GO(t,e){W.sceneManager.sceneData.currentSentenceId<t&&W.sceneManager.sceneData.currentScene.sceneName===e?(Sn(),setTimeout(()=>GO(t,e),100)):(W.gameplay.isSyncingWithOrigine=!1,W.gameplay.isFast=!1)}const RIe=()=>{window.JMP=GO};var G0=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(G0||{});const PIe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Ge.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Ge.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:G0.SYNCFC,sceneMsg:{scene:W.sceneManager.sceneData.currentScene.sceneName,sentence:W.sceneManager.sceneData.currentSentenceId},stageSyncMsg:ue.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===G0.JUMP&&IIe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===G0.EXE_COMMAND){const u=l.message,h=I1.parse(u,"temp.txt","temp.txt").sentenceList[0];jx(h)}if(l.command===G0.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),W.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),Ge.info(" Terre ")}};function OIe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function FIe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function rH(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}rH.prototype=Error.prototype;function kIe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new rH(a,"All promises were rejected"))})}catch(s){n(s)}})}var NIe=setTimeout;function nH(t){return!!(t&&typeof t.length<"u")}function LIe(){}function MIe(t,e){return function(){t.apply(e,arguments)}}function an(t){if(!(this instanceof an))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],aH(t,this)}function iH(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,an._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?DA:Wp)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Wp(e.promise,i);return}DA(e.promise,n)})}function DA(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof an){t._state=3,t._value=e,UA(t);return}else if(typeof r=="function"){aH(MIe(r,e),t);return}}t._state=1,t._value=e,UA(t)}catch(n){Wp(t,n)}}function Wp(t,e){t._state=2,t._value=e,UA(t)}function UA(t){t._state===2&&t._deferreds.length===0&&an._immediateFn(function(){t._handled||an._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)iH(t,t._deferreds[e]);t._deferreds=null}function BIe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function aH(t,e){var r=!1;try{t(function(n){r||(r=!0,DA(e,n))},function(n){r||(r=!0,Wp(e,n))})}catch(n){if(r)return;r=!0,Wp(e,n)}}an.prototype.catch=function(t){return this.then(null,t)};an.prototype.then=function(t,e){var r=new this.constructor(LIe);return iH(this,new BIe(t,e,r)),r};an.prototype.finally=OIe;an.all=function(t){return new an(function(e,r){if(!nH(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};an.any=kIe;an.allSettled=FIe;an.resolve=function(t){return t&&typeof t=="object"&&t.constructor===an?t:new an(function(e){e(t)})};an.reject=function(t){return new an(function(e,r){r(t)})};an.race=function(t){return new an(function(e,r){if(!nH(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)an.resolve(t[n]).then(e,r)})};an._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){NIe(t,0)};an._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=an);Object.assign||(Object.assign=Uee);var DIe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var UIe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-UIe}}var dC=Date.now(),$D=["ms","moz","webkit","o"];for(var pC=0;pC<$D.length&&!globalThis.requestAnimationFrame;++pC){var vC=$D[pC];globalThis.requestAnimationFrame=globalThis[vC+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[vC+"CancelAnimationFrame"]||globalThis[vC+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=DIe+dC-e;return r<0&&(r=0),dC=e,globalThis.self.setTimeout(function(){dC=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var gC=/iPhone/i,GD=/iPod/i,VD=/iPad/i,HD=/\biOS-universal(?:.+)Mac\b/i,mC=/\bAndroid(?:.+)Mobile\b/i,XD=/Android/i,Nf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ym=/Silk/i,Ms=/Windows Phone/i,WD=/\bWindows(?:.+)ARM\b/i,zD=/BlackBerry/i,YD=/BB10/i,qD=/Opera Mini/i,KD=/\b(CriOS|Chrome)(?:.+)Mobile/i,ZD=/Mobile(?:.+)Firefox\b/i,JD=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jIe(t){return function(e){return e.test(t)}}function $Ie(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=jIe(r),a={apple:{phone:i(gC)&&!i(Ms),ipod:i(GD),tablet:!i(gC)&&(i(VD)||JD(e))&&!i(Ms),universal:i(HD),device:(i(gC)||i(GD)||i(VD)||i(HD)||JD(e))&&!i(Ms)},amazon:{phone:i(Nf),tablet:!i(Nf)&&i(ym),device:i(Nf)||i(ym)},android:{phone:!i(Ms)&&i(Nf)||!i(Ms)&&i(mC),tablet:!i(Ms)&&!i(Nf)&&!i(mC)&&(i(ym)||i(XD)),device:!i(Ms)&&(i(Nf)||i(ym)||i(mC)||i(XD))||i(/\bokhttp\b/i)},windows:{phone:i(Ms),tablet:i(WD),device:i(Ms)||i(WD)},other:{blackberry:i(zD),blackberry10:i(YD),opera:i(qD),firefox:i(ZD),chrome:i(KD),device:i(zD)||i(YD)||i(qD)||i(ZD)||i(KD)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var so=$Ie(globalThis.navigator);function GIe(t){var e=!0;if(so.tablet||so.phone){if(so.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(so.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function VIe(){return!so.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var QD;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(QD||(QD={}));var e8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(e8||(e8={}));var t8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(t8||(t8={}));var r8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(r8||(r8={}));var n8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(n8||(n8={}));var i8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(i8||(i8={}));var a8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(a8||(a8={}));var o8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(o8||(o8={}));var s8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(s8||(s8={}));var jA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(jA||(jA={}));var $A;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})($A||($A={}));var GA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(GA||(GA={}));var l8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(l8||(l8={}));var u8;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(u8||(u8={}));var VA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(VA||(VA={}));var dp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(dp||(dp={}));var c8;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(c8||(c8={}));var HA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(HA||(HA={}));var f8;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(f8||(f8={}));var rt={MIPMAP_TEXTURES:GA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:HA.NONE,SPRITE_MAX_TEXTURES:GIe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:VA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:$A.CLAMP,SCALE_MODE:jA.LINEAR,PRECISION_VERTEX:dp.HIGH,PRECISION_FRAGMENT:so.apple.device?dp.HIGH:dp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:VIe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},oH={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||c,h),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],d]:c._events[p].push(d):(c._events[p]=d,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,d,p){var v=r?r+l:l;if(!this._events[v])return!1;var m=this._events[v],_=arguments.length,g,x;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),_){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,d),!0;case 6:return m.fn.call(m.context,u,f,h,d,p),!0}for(x=1,g=new Array(_-1);x<_;x++)g[x-1]=arguments[x];m.fn.apply(m.context,g)}else{var E=m.length,b;for(x=0;x<E;x++)switch(m[x].once&&this.removeListener(l,m[x].fn,void 0,!0),_){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,u);break;case 3:m[x].fn.call(m[x].context,u,f);break;case 4:m[x].fn.call(m[x].context,u,f,h);break;default:if(!g)for(b=1,g=new Array(_-1);b<_;b++)g[b-1]=arguments[b];m[x].fn.apply(m[x].context,g)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var d=r?r+l:l;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,m=[],_=p.length;v<_;v++)(p[v].fn!==u||h&&!p[v].once||f&&p[v].context!==f)&&m.push(p[v]);m.length?this._events[d]=m.length===1?m[0]:m:o(this,d)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(oH);var HIe=oH.exports;const nf=wi(HIe);var VO={exports:{}};VO.exports=M1;VO.exports.default=M1;function M1(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=sH(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,d;if(n&&(a=qIe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var p=r;p<i;p+=r)f=t[p],h=t[p+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-s,u-c),d=d!==0?32767/d:0}return zp(a,o,r,s,c,d,0),o}function sH(t,e,r,n,i){var a,o;if(i===zA(t,e,r,n)>0)for(a=e;a<r;a+=n)o=h8(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=h8(a,t[a],t[a+1],o);return o&&B1(o,o.next)&&(qp(o),o=o.next),o}function Vc(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(B1(r,r.next)||tn(r.prev,r,r.next)===0)){if(qp(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function zp(t,e,r,n,i,a,o){if(t){!o&&a&&eRe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?WIe(t,n,i,a):XIe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),qp(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=zIe(Vc(t),e,r),zp(t,e,r,n,i,a,2)):o===2&&YIe(t,e,r,n,i,a):zp(Vc(t),e,r,n,i,a,1);break}}}}function XIe(t){var e=t.prev,r=t,n=t.next;if(tn(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,d=s>c?s>l?s:l:c>l?c:l,p=n.next;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&sh(i,s,a,c,o,l,p.x,p.y)&&tn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function WIe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(tn(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,d=s<c?s<l?s:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,v=s>c?s>l?s:l:c>l?c:l,m=u>f?u>h?u:h:f>h?f:h,_=XA(d,p,e,r,n),g=XA(v,m,e,r,n),x=t.prevZ,E=t.nextZ;x&&x.z>=_&&E&&E.z<=g;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&sh(s,u,c,f,l,h,x.x,x.y)&&tn(x.prev,x,x.next)>=0||(x=x.prevZ,E.x>=d&&E.x<=v&&E.y>=p&&E.y<=m&&E!==i&&E!==o&&sh(s,u,c,f,l,h,E.x,E.y)&&tn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;x&&x.z>=_;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&sh(s,u,c,f,l,h,x.x,x.y)&&tn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;E&&E.z<=g;){if(E.x>=d&&E.x<=v&&E.y>=p&&E.y<=m&&E!==i&&E!==o&&sh(s,u,c,f,l,h,E.x,E.y)&&tn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function zIe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!B1(i,a)&&lH(i,n,n.next,a)&&Yp(i,a)&&Yp(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),qp(n),qp(n.next),n=t=a),n=n.next}while(n!==t);return Vc(n)}function YIe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&nRe(o,s)){var c=uH(o,s);o=Vc(o,o.next),c=Vc(c,c.next),zp(o,e,r,n,i,a,0),zp(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function qIe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=sH(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(rRe(l));for(i.sort(KIe),a=0;a<i.length;a++)r=ZIe(i[a],r);return r}function KIe(t,e){return t.x-e.x}function ZIe(t,e){var r=JIe(t,e);if(!r)return e;var n=uH(r,t);return Vc(n,n.next),Vc(r,r.next)}function JIe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&sh(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Yp(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&QIe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function QIe(t,e){return tn(t.prev,t,e.prev)<0&&tn(e.next,t,t.next)<0}function eRe(t,e,r,n){var i=t;do i.z===0&&(i.z=XA(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,tRe(i)}function tRe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function XA(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rRe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function sh(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function nRe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!iRe(t,e)&&(Yp(t,e)&&Yp(e,t)&&aRe(t,e)&&(tn(t.prev,t,e.prev)||tn(t,e.prev,e))||B1(t,e)&&tn(t.prev,t,t.next)>0&&tn(e.prev,e,e.next)>0)}function tn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function B1(t,e){return t.x===e.x&&t.y===e.y}function lH(t,e,r,n){var i=bm(tn(t,e,r)),a=bm(tn(t,e,n)),o=bm(tn(r,n,t)),s=bm(tn(r,n,e));return!!(i!==a&&o!==s||i===0&&xm(t,r,e)||a===0&&xm(t,n,e)||o===0&&xm(r,t,n)||s===0&&xm(r,e,n))}function xm(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function bm(t){return t>0?1:t<0?-1:0}function iRe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&lH(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Yp(t,e){return tn(t.prev,t,t.next)<0?tn(t,e,t.next)>=0&&tn(t,t.prev,e)>=0:tn(t,e,t.prev)<0||tn(t,t.next,e)<0}function aRe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function uH(t,e){var r=new WA(t.i,t.x,t.y),n=new WA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function h8(t,e,r,n){var i=new WA(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function qp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function WA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}M1.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(zA(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(zA(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;f+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function zA(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}M1.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var oRe=VO.exports;const HO=wi(oRe);var Fy={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Fy.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof ot=="object"&&ot;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,d=72,p=128,v="-",m=/^xn--/,_=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=c-l,b=Math.floor,S=String.fromCharCode,C;function A(G){throw new RangeError(x[G])}function I(G,L){for(var V=G.length,$=[];V--;)$[V]=L(G[V]);return $}function R(G,L){var V=G.split("@"),$="";V.length>1&&($=V[0]+"@",G=V[1]),G=G.replace(g,".");var j=G.split("."),te=I(j,L).join(".");return $+te}function O(G){for(var L=[],V=0,$=G.length,j,te;V<$;)j=G.charCodeAt(V++),j>=55296&&j<=56319&&V<$?(te=G.charCodeAt(V++),(te&64512)==56320?L.push(((j&1023)<<10)+(te&1023)+65536):(L.push(j),V--)):L.push(j);return L}function P(G){return I(G,function(L){var V="";return L>65535&&(L-=65536,V+=S(L>>>10&1023|55296),L=56320|L&1023),V+=S(L),V}).join("")}function F(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:c}function N(G,L){return G+22+75*(G<26)-((L!=0)<<5)}function B(G,L,V){var $=0;for(G=V?b(G/h):G>>1,G+=b(G/L);G>E*u>>1;$+=c)G=b(G/E);return b($+(E+1)*G/(G+f))}function U(G){var L=[],V=G.length,$,j=0,te=p,ne=d,pe,le,xe,Te,ye,we,me,Pe,je;for(pe=G.lastIndexOf(v),pe<0&&(pe=0),le=0;le<pe;++le)G.charCodeAt(le)>=128&&A("not-basic"),L.push(G.charCodeAt(le));for(xe=pe>0?pe+1:0;xe<V;){for(Te=j,ye=1,we=c;xe>=V&&A("invalid-input"),me=F(G.charCodeAt(xe++)),(me>=c||me>b((s-j)/ye))&&A("overflow"),j+=me*ye,Pe=we<=ne?l:we>=ne+u?u:we-ne,!(me<Pe);we+=c)je=c-Pe,ye>b(s/je)&&A("overflow"),ye*=je;$=L.length+1,ne=B(j-Te,$,Te==0),b(j/$)>s-te&&A("overflow"),te+=b(j/$),j%=$,L.splice(j++,0,te)}return P(L)}function H(G){var L,V,$,j,te,ne,pe,le,xe,Te,ye,we=[],me,Pe,je,Le;for(G=O(G),me=G.length,L=p,V=0,te=d,ne=0;ne<me;++ne)ye=G[ne],ye<128&&we.push(S(ye));for($=j=we.length,j&&we.push(v);$<me;){for(pe=s,ne=0;ne<me;++ne)ye=G[ne],ye>=L&&ye<pe&&(pe=ye);for(Pe=$+1,pe-L>b((s-V)/Pe)&&A("overflow"),V+=(pe-L)*Pe,L=pe,ne=0;ne<me;++ne)if(ye=G[ne],ye<L&&++V>s&&A("overflow"),ye==L){for(le=V,xe=c;Te=xe<=te?l:xe>=te+u?u:xe-te,!(le<Te);xe+=c)Le=le-Te,je=c-Te,we.push(S(N(Te+Le%je,0))),le=b(Le/je);we.push(S(N(le,0))),te=B(V,Pe,$==j),V=0,++$}++V,++L}return we.join("")}function ee(G){return R(G,function(L){return m.test(L)?U(L.slice(4).toLowerCase()):L})}function J(G){return R(G,function(L){return _.test(L)?"xn--"+H(L):L})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:U,encode:H,toASCII:J,toUnicode:ee},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(ot)})(Fy,Fy.exports);var sRe=Fy.exports,lRe=Error,uRe=EvalError,cRe=RangeError,fRe=ReferenceError,cH=SyntaxError,Gv=TypeError,hRe=URIError,dRe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},d8=typeof Symbol<"u"&&Symbol,pRe=dRe,vRe=function(){return typeof d8!="function"||typeof Symbol!="function"||typeof d8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pRe()},_C={__proto__:null,foo:{}},gRe=Object,mRe=function(){return{__proto__:_C}.foo===_C.foo&&!(_C instanceof gRe)},_Re="Function.prototype.bind called on incompatible ",yRe=Object.prototype.toString,xRe=Math.max,bRe="[object Function]",p8=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},ERe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},wRe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},SRe=function(e){var r=this;if(typeof r!="function"||yRe.apply(r)!==bRe)throw new TypeError(_Re+r);for(var n=ERe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,p8(n,arguments));return Object(u)===u?u:this}return r.apply(e,p8(n,arguments))},o=xRe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+wRe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},CRe=SRe,XO=Function.prototype.bind||CRe,ARe=Function.prototype.call,TRe=Object.prototype.hasOwnProperty,IRe=XO,RRe=IRe.call(ARe,TRe),zt,PRe=lRe,ORe=uRe,FRe=cRe,kRe=fRe,qh=cH,Ph=Gv,NRe=hRe,fH=Function,yC=function(t){try{return fH('"use strict"; return ('+t+").constructor;")()}catch{}},Rc=Object.getOwnPropertyDescriptor;if(Rc)try{Rc({},"")}catch{Rc=null}var xC=function(){throw new Ph},LRe=Rc?function(){try{return arguments.callee,xC}catch{try{return Rc(arguments,"callee").get}catch{return xC}}}():xC,Lf=vRe(),MRe=mRe(),Qn=Object.getPrototypeOf||(MRe?function(t){return t.__proto__}:null),Wf={},BRe=typeof Uint8Array>"u"||!Qn?zt:Qn(Uint8Array),Pc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?zt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zt:ArrayBuffer,"%ArrayIteratorPrototype%":Lf&&Qn?Qn([][Symbol.iterator]()):zt,"%AsyncFromSyncIteratorPrototype%":zt,"%AsyncFunction%":Wf,"%AsyncGenerator%":Wf,"%AsyncGeneratorFunction%":Wf,"%AsyncIteratorPrototype%":Wf,"%Atomics%":typeof Atomics>"u"?zt:Atomics,"%BigInt%":typeof BigInt>"u"?zt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":PRe,"%eval%":eval,"%EvalError%":ORe,"%Float32Array%":typeof Float32Array>"u"?zt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zt:FinalizationRegistry,"%Function%":fH,"%GeneratorFunction%":Wf,"%Int8Array%":typeof Int8Array>"u"?zt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lf&&Qn?Qn(Qn([][Symbol.iterator]())):zt,"%JSON%":typeof JSON=="object"?JSON:zt,"%Map%":typeof Map>"u"?zt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Lf||!Qn?zt:Qn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zt:Promise,"%Proxy%":typeof Proxy>"u"?zt:Proxy,"%RangeError%":FRe,"%ReferenceError%":kRe,"%Reflect%":typeof Reflect>"u"?zt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Lf||!Qn?zt:Qn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lf&&Qn?Qn(""[Symbol.iterator]()):zt,"%Symbol%":Lf?Symbol:zt,"%SyntaxError%":qh,"%ThrowTypeError%":LRe,"%TypedArray%":BRe,"%TypeError%":Ph,"%Uint8Array%":typeof Uint8Array>"u"?zt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zt:Uint32Array,"%URIError%":NRe,"%WeakMap%":typeof WeakMap>"u"?zt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zt:WeakSet};if(Qn)try{null.error}catch(t){var DRe=Qn(Qn(t));Pc["%Error.prototype%"]=DRe}var URe=function t(e){var r;if(e==="%AsyncFunction%")r=yC("async function () {}");else if(e==="%GeneratorFunction%")r=yC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=yC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Qn&&(r=Qn(i.prototype))}return Pc[e]=r,r},v8={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vv=XO,ky=RRe,jRe=Vv.call(Function.call,Array.prototype.concat),$Re=Vv.call(Function.apply,Array.prototype.splice),g8=Vv.call(Function.call,String.prototype.replace),Ny=Vv.call(Function.call,String.prototype.slice),GRe=Vv.call(Function.call,RegExp.prototype.exec),VRe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,HRe=/\\(\\)?/g,XRe=function(e){var r=Ny(e,0,1),n=Ny(e,-1);if(r==="%"&&n!=="%")throw new qh("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new qh("invalid intrinsic syntax, expected opening `%`");var i=[];return g8(e,VRe,function(a,o,s,c){i[i.length]=s?g8(c,HRe,"$1"):o||a}),i},WRe=function(e,r){var n=e,i;if(ky(v8,n)&&(i=v8[n],n="%"+i[0]+"%"),ky(Pc,n)){var a=Pc[n];if(a===Wf&&(a=URe(n)),typeof a>"u"&&!r)throw new Ph("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new qh("intrinsic "+e+" does not exist!")},Fd=function(e,r){if(typeof e!="string"||e.length===0)throw new Ph("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ph('"allowMissing" argument must be a boolean');if(GRe(/^%?[^%]*%?$/,e)===null)throw new qh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=XRe(e),i=n.length>0?n[0]:"",a=WRe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],$Re(n,jRe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],d=Ny(h,0,1),p=Ny(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new qh("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",ky(Pc,o))s=Pc[o];else if(s!=null){if(!(h in s)){if(!r)throw new Ph("base intrinsic for "+e+" exists, but the property is not available.");return}if(Rc&&u+1>=n.length){var v=Rc(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=ky(s,h),s=s[h];f&&!c&&(Pc[o]=s)}}return s},hH={exports:{}},bC,m8;function WO(){if(m8)return bC;m8=1;var t=Fd,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bC=e,bC}var zRe=Fd,k_=zRe("%Object.getOwnPropertyDescriptor%",!0);if(k_)try{k_([],"length")}catch{k_=null}var dH=k_,_8=WO(),YRe=cH,Mf=Gv,y8=dH,qRe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Mf("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Mf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mf("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!y8&&y8(e,r);if(_8)_8(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new YRe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},YA=WO(),pH=function(){return!!YA};pH.hasArrayLengthDefineBug=function(){if(!YA)return null;try{return YA([],"length",{value:1}).length!==1}catch{return!0}};var KRe=pH,ZRe=Fd,x8=qRe,JRe=KRe(),b8=dH,E8=Gv,QRe=ZRe("%Math.floor%"),ePe=function(e,r){if(typeof e!="function")throw new E8("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||QRe(r)!==r)throw new E8("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&b8){var o=b8(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(JRe?x8(e,"length",r,!0,!0):x8(e,"length",r)),e};(function(t){var e=XO,r=Fd,n=ePe,i=Gv,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=WO(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var d=s(e,o,arguments);return n(d,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(hH);var tPe=hH.exports,vH=Fd,gH=tPe,rPe=gH(vH("String.prototype.indexOf")),nPe=function(e,r){var n=vH(e,!!r);return typeof n=="function"&&rPe(e,".prototype.")>-1?gH(n):n},zO=typeof Map=="function"&&Map.prototype,EC=Object.getOwnPropertyDescriptor&&zO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ly=zO&&EC&&typeof EC.get=="function"?EC.get:null,w8=zO&&Map.prototype.forEach,YO=typeof Set=="function"&&Set.prototype,wC=Object.getOwnPropertyDescriptor&&YO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,My=YO&&wC&&typeof wC.get=="function"?wC.get:null,S8=YO&&Set.prototype.forEach,iPe=typeof WeakMap=="function"&&WeakMap.prototype,pp=iPe?WeakMap.prototype.has:null,aPe=typeof WeakSet=="function"&&WeakSet.prototype,vp=aPe?WeakSet.prototype.has:null,oPe=typeof WeakRef=="function"&&WeakRef.prototype,C8=oPe?WeakRef.prototype.deref:null,sPe=Boolean.prototype.valueOf,lPe=Object.prototype.toString,uPe=Function.prototype.toString,cPe=String.prototype.match,qO=String.prototype.slice,Hl=String.prototype.replace,fPe=String.prototype.toUpperCase,A8=String.prototype.toLowerCase,mH=RegExp.prototype.test,T8=Array.prototype.concat,ns=Array.prototype.join,hPe=Array.prototype.slice,I8=Math.floor,qA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,SC=Object.getOwnPropertySymbols,KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ji=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Kh||"symbol")?Symbol.toStringTag:null,_H=Object.prototype.propertyIsEnumerable,R8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function P8(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||mH.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-I8(-t):I8(t);if(n!==t){var i=String(n),a=qO.call(e,i.length+1);return Hl.call(i,r,"$&_")+"."+Hl.call(Hl.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Hl.call(e,r,"$&_")}var ZA=R7,O8=ZA.custom,F8=xH(O8)?O8:null,dPe=function t(e,r,n,i){var a=r||{};if(Pl(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Pl(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Pl(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Pl(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Pl(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return EH(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?P8(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?P8(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return JA(e)?"[Array]":"[Object]";var f=OPe(a,n);if(typeof i>"u")i=[];else if(bH(i,e)>=0)return"[Circular]";function h(F,N,B){if(N&&(i=hPe.call(i),i.push(N)),B){var U={depth:a.depth};return Pl(a,"quoteStyle")&&(U.quoteStyle=a.quoteStyle),t(F,U,n+1,i)}return t(F,a,n+1,i)}if(typeof e=="function"&&!k8(e)){var d=EPe(e),p=Em(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+ns.call(p,", ")+" }":"")}if(xH(e)){var v=Kh?Hl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):KA.call(e);return typeof e=="object"&&!Kh?x0(v):v}if(IPe(e)){for(var m="<"+A8.call(String(e.nodeName)),_=e.attributes||[],g=0;g<_.length;g++)m+=" "+_[g].name+"="+yH(pPe(_[g].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+A8.call(String(e.nodeName))+">",m}if(JA(e)){if(e.length===0)return"[]";var x=Em(e,h);return f&&!PPe(x)?"["+QA(x,f)+"]":"[ "+ns.call(x,", ")+" ]"}if(gPe(e)){var E=Em(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!_H.call(e,"cause")?"{ ["+String(e)+"] "+ns.call(T8.call("[cause]: "+h(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ns.call(E,", ")+" }"}if(typeof e=="object"&&o){if(F8&&typeof e[F8]=="function"&&ZA)return ZA(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(wPe(e)){var b=[];return w8&&w8.call(e,function(F,N){b.push(h(N,e,!0)+" => "+h(F,e))}),N8("Map",Ly.call(e),b,f)}if(APe(e)){var S=[];return S8&&S8.call(e,function(F){S.push(h(F,e))}),N8("Set",My.call(e),S,f)}if(SPe(e))return CC("WeakMap");if(TPe(e))return CC("WeakSet");if(CPe(e))return CC("WeakRef");if(_Pe(e))return x0(h(Number(e)));if(xPe(e))return x0(h(qA.call(e)));if(yPe(e))return x0(sPe.call(e));if(mPe(e))return x0(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===ot)return"{ [object globalThis] }";if(!vPe(e)&&!k8(e)){var C=Em(e,h),A=R8?R8(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",R=!A&&ji&&Object(e)===e&&ji in e?qO.call(Ru(e),8,-1):I?"Object":"",O=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(R||I?"["+ns.call(T8.call([],R||[],I||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+QA(C,f)+"}":P+"{ "+ns.call(C,", ")+" }"}return String(e)};function yH(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function pPe(t){return Hl.call(String(t),/"/g,"&quot;")}function JA(t){return Ru(t)==="[object Array]"&&(!ji||!(typeof t=="object"&&ji in t))}function vPe(t){return Ru(t)==="[object Date]"&&(!ji||!(typeof t=="object"&&ji in t))}function k8(t){return Ru(t)==="[object RegExp]"&&(!ji||!(typeof t=="object"&&ji in t))}function gPe(t){return Ru(t)==="[object Error]"&&(!ji||!(typeof t=="object"&&ji in t))}function mPe(t){return Ru(t)==="[object String]"&&(!ji||!(typeof t=="object"&&ji in t))}function _Pe(t){return Ru(t)==="[object Number]"&&(!ji||!(typeof t=="object"&&ji in t))}function yPe(t){return Ru(t)==="[object Boolean]"&&(!ji||!(typeof t=="object"&&ji in t))}function xH(t){if(Kh)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!KA)return!1;try{return KA.call(t),!0}catch{}return!1}function xPe(t){if(!t||typeof t!="object"||!qA)return!1;try{return qA.call(t),!0}catch{}return!1}var bPe=Object.prototype.hasOwnProperty||function(t){return t in this};function Pl(t,e){return bPe.call(t,e)}function Ru(t){return lPe.call(t)}function EPe(t){if(t.name)return t.name;var e=cPe.call(uPe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function bH(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function wPe(t){if(!Ly||!t||typeof t!="object")return!1;try{Ly.call(t);try{My.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function SPe(t){if(!pp||!t||typeof t!="object")return!1;try{pp.call(t,pp);try{vp.call(t,vp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function CPe(t){if(!C8||!t||typeof t!="object")return!1;try{return C8.call(t),!0}catch{}return!1}function APe(t){if(!My||!t||typeof t!="object")return!1;try{My.call(t);try{Ly.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function TPe(t){if(!vp||!t||typeof t!="object")return!1;try{vp.call(t,vp);try{pp.call(t,pp)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function IPe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function EH(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return EH(qO.call(t,0,e.maxStringLength),e)+n}var i=Hl.call(Hl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,RPe);return yH(i,"single",e)}function RPe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+fPe.call(e.toString(16))}function x0(t){return"Object("+t+")"}function CC(t){return t+" { ? }"}function N8(t,e,r,n){var i=n?QA(r,n):ns.call(r,", ");return t+" ("+e+") {"+i+"}"}function PPe(t){for(var e=0;e<t.length;e++)if(bH(t[e],`
`)>=0)return!1;return!0}function OPe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ns.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ns.call(Array(e+1),r)}}function QA(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ns.call(t,","+r)+`
`+e.prev}function Em(t,e){var r=JA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Pl(t,i)?e(t[i],t):""}var a=typeof SC=="function"?SC(t):[],o;if(Kh){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Pl(t,c)&&(r&&String(Number(c))===c&&c<t.length||Kh&&o["$"+c]instanceof Symbol||(mH.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof SC=="function")for(var l=0;l<a.length;l++)_H.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var wH=Fd,kd=nPe,FPe=dPe,kPe=Gv,wm=wH("%WeakMap%",!0),Sm=wH("%Map%",!0),NPe=kd("WeakMap.prototype.get",!0),LPe=kd("WeakMap.prototype.set",!0),MPe=kd("WeakMap.prototype.has",!0),BPe=kd("Map.prototype.get",!0),DPe=kd("Map.prototype.set",!0),UPe=kd("Map.prototype.has",!0),KO=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},jPe=function(t,e){var r=KO(t,e);return r&&r.value},$Pe=function(t,e,r){var n=KO(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},GPe=function(t,e){return!!KO(t,e)},VPe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new kPe("Side channel does not contain "+FPe(a))},get:function(a){if(wm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return NPe(e,a)}else if(Sm){if(r)return BPe(r,a)}else if(n)return jPe(n,a)},has:function(a){if(wm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return MPe(e,a)}else if(Sm){if(r)return UPe(r,a)}else if(n)return GPe(n,a);return!1},set:function(a,o){wm&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new wm),LPe(e,a,o)):Sm?(r||(r=new Sm),DPe(r,a,o)):(n||(n={key:{},next:null}),$Pe(n,a,o))}};return i},HPe=String.prototype.replace,XPe=/%20/g,AC={RFC1738:"RFC1738",RFC3986:"RFC3986"},ZO={default:AC.RFC3986,formatters:{RFC1738:function(t){return HPe.call(t,XPe,"+")},RFC3986:function(t){return String(t)}},RFC1738:AC.RFC1738,RFC3986:AC.RFC3986},WPe=ZO,TC=Object.prototype.hasOwnProperty,sc=Array.isArray,qo=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),zPe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(sc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},SH=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},YPe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(sc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!TC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return sc(e)&&!sc(r)&&(i=SH(e,n)),sc(e)&&sc(r)?(r.forEach(function(a,o){if(TC.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return TC.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},qPe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},KPe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ZPe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===WPe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+qo[l];continue}if(l<2048){s=s+(qo[192|l>>6]+qo[128|l&63]);continue}if(l<55296||l>=57344){s=s+(qo[224|l>>12]+qo[128|l>>6&63]+qo[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=qo[240|l>>18]+qo[128|l>>12&63]+qo[128|l>>6&63]+qo[128|l&63]}return s},JPe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return zPe(r),e},QPe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},eOe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tOe=function(e,r){return[].concat(e,r)},rOe=function(e,r){if(sc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},CH={arrayToObject:SH,assign:qPe,combine:tOe,compact:JPe,decode:KPe,encode:ZPe,isBuffer:eOe,isRegExp:QPe,maybeMap:rOe,merge:YPe},AH=VPe,N_=CH,gp=ZO,nOe=Object.prototype.hasOwnProperty,TH={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},es=Array.isArray,iOe=Array.prototype.push,IH=function(t,e){iOe.apply(t,es(e)?e:[e])},aOe=Date.prototype.toISOString,L8=gp.default,Mn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:N_.encode,encodeValuesOnly:!1,format:L8,formatter:gp.formatters[L8],indices:!1,serializeDate:function(e){return aOe.call(e)},skipNulls:!1,strictNullHandling:!1},oOe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},IC={},sOe=function t(e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,m,_,g){for(var x=e,E=g,b=0,S=!1;(E=E.get(IC))!==void 0&&!S;){var C=E.get(e);if(b+=1,typeof C<"u"){if(C===b)throw new RangeError("Cyclic object value");S=!0}typeof E.get(IC)>"u"&&(b=0)}if(typeof u=="function"?x=u(r,x):x instanceof Date?x=d(x):n==="comma"&&es(x)&&(x=N_.maybeMap(x,function(G){return G instanceof Date?d(G):G})),x===null){if(o)return l&&!m?l(r,Mn.encoder,_,"key",p):r;x=""}if(oOe(x)||N_.isBuffer(x)){if(l){var A=m?r:l(r,Mn.encoder,_,"key",p);return[v(A)+"="+v(l(x,Mn.encoder,_,"value",p))]}return[v(r)+"="+v(String(x))]}var I=[];if(typeof x>"u")return I;var R;if(n==="comma"&&es(x))m&&l&&(x=N_.maybeMap(x,l)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(es(u))R=u;else{var O=Object.keys(x);R=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,F=i&&es(x)&&x.length===1?P+"[]":P;if(a&&es(x)&&x.length===0)return F+"[]";for(var N=0;N<R.length;++N){var B=R[N],U=typeof B=="object"&&typeof B.value<"u"?B.value:x[B];if(!(s&&U===null)){var H=h&&c?B.replace(/\./g,"%2E"):B,ee=es(x)?typeof n=="function"?n(F,H):F:F+(h?"."+H:"["+H+"]");g.set(e,b);var J=AH();J.set(IC,g),IH(I,t(U,ee,n,i,a,o,s,c,n==="comma"&&m&&es(x)?null:l,u,f,h,d,p,v,m,_,J))}}return I},lOe=function(e){if(!e)return Mn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Mn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=gp.default;if(typeof e.format<"u"){if(!nOe.call(gp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=gp.formatters[n],a=Mn.filter;(typeof e.filter=="function"||es(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in TH?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Mn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Mn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Mn.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Mn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Mn.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Mn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Mn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Mn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Mn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Mn.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Mn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Mn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Mn.strictNullHandling}},uOe=function(t,e){var r=t,n=lOe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):es(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=TH[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=AH(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||IH(o,sOe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},Zh=CH,eT=Object.prototype.hasOwnProperty,cOe=Array.isArray,mn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Zh.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},fOe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},RH=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},hOe="utf8=%26%2310003%3B",dOe="utf8=%E2%9C%93",pOe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===dOe?l="utf-8":o[c]===hOe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(u,mn.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,h),mn.decoder,l,"key"),p=Zh.maybeMap(RH(u.slice(h+1),r),function(m){return r.decoder(m,mn.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=fOe(p)),u.indexOf("[]=")>-1&&(p=cOe(p)?[p]:p);var v=eT.call(n,d);v&&r.duplicates==="combine"?n[d]=Zh.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},vOe=function(t,e,r,n){for(var i=n?e:RH(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},gOe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&eT.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&eT.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),vOe(u,r,n,i)}},mOe=function(e){if(!e)return mn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?mn.charset:e.charset,n=typeof e.duplicates>"u"?mn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:mn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:mn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:mn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:mn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:mn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:mn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:mn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:mn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:mn.decoder,delimiter:typeof e.delimiter=="string"||Zh.isRegExp(e.delimiter)?e.delimiter:mn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:mn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:mn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:mn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:mn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:mn.strictNullHandling}},_Oe=function(t,e){var r=mOe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?pOe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=gOe(s,n[s],r,typeof t=="string");i=Zh.merge(i,c,r)}return r.allowSparse===!0?i:Zh.compact(i)},yOe=uOe,xOe=_Oe,bOe=ZO,EOe={formats:bOe,parse:xOe,stringify:yOe},wOe=sRe;function Lo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var SOe=/^([a-z0-9.+-]+:)/i,COe=/:[0-9]*$/,AOe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,TOe=["<",">",'"',"`"," ","\r",`
`,"	"],IOe=["{","}","|","\\","^","`"].concat(TOe),tT=["'"].concat(IOe),M8=["%","/","?",";","#"].concat(tT),B8=["/","?","#"],ROe=255,D8=/^[+a-z0-9A-Z_-]{0,63}$/,POe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,OOe={javascript:!0,"javascript:":!0},rT={javascript:!0,"javascript:":!0},Oh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},nT=EOe;function D1(t,e,r){if(t&&typeof t=="object"&&t instanceof Lo)return t;var n=new Lo;return n.parse(t,e,r),n}Lo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=AOe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=nT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=SOe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&rT[l])&&(s=s.substr(2),this.slashes=!0)}if(!rT[l]&&(f||l&&!Oh[l])){for(var h=-1,d=0;d<B8.length;d++){var p=s.indexOf(B8[d]);p!==-1&&(h===-1||p<h)&&(h=p)}var v,m;h===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",h),m!==-1&&(v=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(v)),h=-1;for(var d=0;d<M8.length;d++){var p=s.indexOf(M8[d]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var g=this.hostname.split(/\./),d=0,x=g.length;d<x;d++){var E=g[d];if(E&&!E.match(D8)){for(var b="",S=0,C=E.length;S<C;S++)E.charCodeAt(S)>127?b+="x":b+=E[S];if(!b.match(D8)){var A=g.slice(0,d),I=g.slice(d+1),R=E.match(POe);R&&(A.push(R[1]),I.unshift(R[2])),I.length&&(s="/"+I.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>ROe?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=wOe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!OOe[u])for(var d=0,x=tT.length;d<x;d++){var F=tT[d];if(s.indexOf(F)!==-1){var N=encodeURIComponent(F);N===F&&(N=escape(F)),s=s.split(F).join(N)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),e&&(this.query=nT.parse(this.query)),s=s.slice(0,U)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Oh[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",H=this.search||"";this.path=O+H}return this.href=this.format(),this};function FOe(t){return typeof t=="string"&&(t=D1(t)),t instanceof Lo?t.format():Lo.prototype.format.call(t)}Lo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=nT.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Oh[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function kOe(t,e){return D1(t,!1,!0).resolve(e)}Lo.prototype.resolve=function(t){return this.resolveObject(D1(t,!1,!0)).format()};Lo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Lo;e.parse(t,!1,!0),t=e}for(var r=new Lo,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return Oh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Oh[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!rT[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",d=r.search||"";r.path=h+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=v||p||r.host&&t.pathname,_=m,g=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!Oh[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),m=m&&(x[0]===""||g[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=x;else if(x.length)g||(g=[]),g.pop(),g=g.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(E){r.host=g.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=g.slice(-1)[0],C=(r.host||t.host||g.length>1)&&(S==="."||S==="..")||S==="",A=0,I=g.length;I>=0;I--)S=g[I],S==="."?g.splice(I,1):S===".."?(g.splice(I,1),A++):A&&(g.splice(I,1),A--);if(!m&&!_)for(;A--;A)g.unshift("..");m&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),C&&g.join("/").substr(-1)!=="/"&&g.push("");var R=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(E){r.hostname=R?"":g.length?g.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return m=m||r.host&&g.length,m&&!R&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Lo.prototype.parseHost=function(){var t=this.host,e=COe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var NOe=D1,LOe=kOe,MOe=FOe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vs;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(vs||(vs={}));var Jh;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Jh||(Jh={}));var Kp;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Kp||(Kp={}));var Xe;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Xe||(Xe={}));var La;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(La||(La={}));var Ue;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ue||(Ue={}));var ou;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ou||(ou={}));var st;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(st||(st={}));var Zp;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Zp||(Zp={}));var ni;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(ni||(ni={}));var hs;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(hs||(hs={}));var Ua;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ua||(Ua={}));var ba;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ba||(ba={}));var Vs;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Vs||(Vs={}));var By;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(By||(By={}));var No;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(No||(No={}));var pi;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(pi||(pi={}));var xn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(xn||(xn={}));var Mo;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Mo||(Mo={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yc={parse:NOe,format:MOe,resolve:LOe};rt.RETINA_PREFIX=/@([0-9\.]+)x/;rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iT=!1,U8="6.4.2";function BOe(){iT=!0}function PH(t){var e;if(!iT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+U8+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+U8+" - "+t+" - http://www.pixijs.com/");iT=!0}}var RC;function OH(){return typeof RC>"u"&&(RC=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),RC}var DOe="#f0f8ff",UOe="#faebd7",jOe="#00ffff",$Oe="#7fffd4",GOe="#f0ffff",VOe="#f5f5dc",HOe="#ffe4c4",XOe="#000000",WOe="#ffebcd",zOe="#0000ff",YOe="#8a2be2",qOe="#a52a2a",KOe="#deb887",ZOe="#5f9ea0",JOe="#7fff00",QOe="#d2691e",eFe="#ff7f50",tFe="#6495ed",rFe="#fff8dc",nFe="#dc143c",iFe="#00ffff",aFe="#00008b",oFe="#008b8b",sFe="#b8860b",lFe="#a9a9a9",uFe="#006400",cFe="#a9a9a9",fFe="#bdb76b",hFe="#8b008b",dFe="#556b2f",pFe="#ff8c00",vFe="#9932cc",gFe="#8b0000",mFe="#e9967a",_Fe="#8fbc8f",yFe="#483d8b",xFe="#2f4f4f",bFe="#2f4f4f",EFe="#00ced1",wFe="#9400d3",SFe="#ff1493",CFe="#00bfff",AFe="#696969",TFe="#696969",IFe="#1e90ff",RFe="#b22222",PFe="#fffaf0",OFe="#228b22",FFe="#ff00ff",kFe="#dcdcdc",NFe="#f8f8ff",LFe="#daa520",MFe="#ffd700",BFe="#808080",DFe="#008000",UFe="#adff2f",jFe="#808080",$Fe="#f0fff0",GFe="#ff69b4",VFe="#cd5c5c",HFe="#4b0082",XFe="#fffff0",WFe="#f0e68c",zFe="#fff0f5",YFe="#e6e6fa",qFe="#7cfc00",KFe="#fffacd",ZFe="#add8e6",JFe="#f08080",QFe="#e0ffff",eke="#fafad2",tke="#d3d3d3",rke="#90ee90",nke="#d3d3d3",ike="#ffb6c1",ake="#ffa07a",oke="#20b2aa",ske="#87cefa",lke="#778899",uke="#778899",cke="#b0c4de",fke="#ffffe0",hke="#00ff00",dke="#32cd32",pke="#faf0e6",vke="#ff00ff",gke="#800000",mke="#66cdaa",_ke="#0000cd",yke="#ba55d3",xke="#9370db",bke="#3cb371",Eke="#7b68ee",wke="#00fa9a",Ske="#48d1cc",Cke="#c71585",Ake="#191970",Tke="#f5fffa",Ike="#ffe4e1",Rke="#ffe4b5",Pke="#ffdead",Oke="#000080",Fke="#fdf5e6",kke="#808000",Nke="#6b8e23",Lke="#ffa500",Mke="#ff4500",Bke="#da70d6",Dke="#eee8aa",Uke="#98fb98",jke="#afeeee",$ke="#db7093",Gke="#ffefd5",Vke="#ffdab9",Hke="#cd853f",Xke="#ffc0cb",Wke="#dda0dd",zke="#b0e0e6",Yke="#800080",qke="#663399",Kke="#ff0000",Zke="#bc8f8f",Jke="#4169e1",Qke="#8b4513",e3e="#fa8072",t3e="#f4a460",r3e="#2e8b57",n3e="#fff5ee",i3e="#a0522d",a3e="#c0c0c0",o3e="#87ceeb",s3e="#6a5acd",l3e="#708090",u3e="#708090",c3e="#fffafa",f3e="#00ff7f",h3e="#4682b4",d3e="#d2b48c",p3e="#008080",v3e="#d8bfd8",g3e="#ff6347",m3e="#40e0d0",_3e="#ee82ee",y3e="#f5deb3",x3e="#ffffff",b3e="#f5f5f5",E3e="#ffff00",w3e="#9acd32",S3e={aliceblue:DOe,antiquewhite:UOe,aqua:jOe,aquamarine:$Oe,azure:GOe,beige:VOe,bisque:HOe,black:XOe,blanchedalmond:WOe,blue:zOe,blueviolet:YOe,brown:qOe,burlywood:KOe,cadetblue:ZOe,chartreuse:JOe,chocolate:QOe,coral:eFe,cornflowerblue:tFe,cornsilk:rFe,crimson:nFe,cyan:iFe,darkblue:aFe,darkcyan:oFe,darkgoldenrod:sFe,darkgray:lFe,darkgreen:uFe,darkgrey:cFe,darkkhaki:fFe,darkmagenta:hFe,darkolivegreen:dFe,darkorange:pFe,darkorchid:vFe,darkred:gFe,darksalmon:mFe,darkseagreen:_Fe,darkslateblue:yFe,darkslategray:xFe,darkslategrey:bFe,darkturquoise:EFe,darkviolet:wFe,deeppink:SFe,deepskyblue:CFe,dimgray:AFe,dimgrey:TFe,dodgerblue:IFe,firebrick:RFe,floralwhite:PFe,forestgreen:OFe,fuchsia:FFe,gainsboro:kFe,ghostwhite:NFe,goldenrod:LFe,gold:MFe,gray:BFe,green:DFe,greenyellow:UFe,grey:jFe,honeydew:$Fe,hotpink:GFe,indianred:VFe,indigo:HFe,ivory:XFe,khaki:WFe,lavenderblush:zFe,lavender:YFe,lawngreen:qFe,lemonchiffon:KFe,lightblue:ZFe,lightcoral:JFe,lightcyan:QFe,lightgoldenrodyellow:eke,lightgray:tke,lightgreen:rke,lightgrey:nke,lightpink:ike,lightsalmon:ake,lightseagreen:oke,lightskyblue:ske,lightslategray:lke,lightslategrey:uke,lightsteelblue:cke,lightyellow:fke,lime:hke,limegreen:dke,linen:pke,magenta:vke,maroon:gke,mediumaquamarine:mke,mediumblue:_ke,mediumorchid:yke,mediumpurple:xke,mediumseagreen:bke,mediumslateblue:Eke,mediumspringgreen:wke,mediumturquoise:Ske,mediumvioletred:Cke,midnightblue:Ake,mintcream:Tke,mistyrose:Ike,moccasin:Rke,navajowhite:Pke,navy:Oke,oldlace:Fke,olive:kke,olivedrab:Nke,orange:Lke,orangered:Mke,orchid:Bke,palegoldenrod:Dke,palegreen:Uke,paleturquoise:jke,palevioletred:$ke,papayawhip:Gke,peachpuff:Vke,peru:Hke,pink:Xke,plum:Wke,powderblue:zke,purple:Yke,rebeccapurple:qke,red:Kke,rosybrown:Zke,royalblue:Jke,saddlebrown:Qke,salmon:e3e,sandybrown:t3e,seagreen:r3e,seashell:n3e,sienna:i3e,silver:a3e,skyblue:o3e,slateblue:s3e,slategray:l3e,slategrey:u3e,snow:c3e,springgreen:f3e,steelblue:h3e,tan:d3e,teal:p3e,thistle:v3e,tomato:g3e,turquoise:m3e,violet:_3e,wheat:y3e,white:x3e,whitesmoke:b3e,yellow:E3e,yellowgreen:w3e};function Hn(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function JO(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function QO(t){return typeof t=="string"&&(t=S3e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function ra(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function C3e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[Xe.NORMAL_NPM]=Xe.NORMAL,t[Xe.ADD_NPM]=Xe.ADD,t[Xe.SCREEN_NPM]=Xe.SCREEN,e[Xe.NORMAL]=Xe.NORMAL_NPM,e[Xe.ADD]=Xe.ADD_NPM,e[Xe.SCREEN]=Xe.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var eF=C3e();function tF(t,e){return eF[e?1:0][t]}function FH(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function U1(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function rF(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function kH(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function j1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var A3e={Float32Array,Uint32Array,Int32Array,Uint8Array};function T3e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=j1(u);i[f]||(i[f]=new A3e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}function Jp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function aT(t){return!(t&t-1)&&!!t}function oT(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ds(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function xc(t){return t===0?0:t<0?-1:1}var I3e=0;function bu(){return++I3e}var j8={};function il(t,e,r){if(r===void 0&&(r=3),!j8[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),j8[e]=!0}}var sT={},da=Object.create(null),to=Object.create(null);function R3e(){var t;for(t in da)da[t].destroy();for(t in to)to[t].destroy()}function NH(){var t;for(t in da)delete da[t];for(t in to)delete to[t]}var lT=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||rt.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function LH(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var MH=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function P3e(t){var e=MH.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Cm;function BH(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Cm||(Cm=document.createElement("a")),Cm.href=t;var r=yc.parse(Cm.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Qp(t,e){var r=rt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const O3e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:to,CanvasRenderTarget:lT,DATA_URI:MH,EventEmitter:nf,ProgramCache:sT,TextureCache:da,clearTextureCache:NH,correctBlendMode:tF,createIndicesForQuads:kH,decomposeDataUri:P3e,deprecation:il,destroyTextureCache:R3e,determineCrossOrigin:BH,earcut:HO,getBufferType:j1,getResolutionOfUrl:Qp,hex2rgb:Hn,hex2string:JO,interleaveTypedArrays:T3e,isMobile:so,isPow2:aT,isWebGLSupported:OH,log2:oT,nextPow2:Jp,premultiplyBlendMode:eF,premultiplyRgba:FH,premultiplyTint:U1,premultiplyTintToRgba:rF,removeItems:ds,rgb2hex:ra,sayHello:PH,sign:xc,skipHello:BOe,string2hex:QO,trimCanvas:LH,uid:bu,url:yc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ev=Math.PI*2,nF=180/Math.PI,al=Math.PI/180,Wr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Wr||(Wr={}));var $t=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Am=[new $t,new $t,new $t,new $t],kt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Wr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=Am[0].set(e.left,e.top),h=Am[1].set(e.left,e.bottom),d=Am[2].set(e.right,e.top),p=Am[3].set(e.right,e.bottom);if(d.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(d,d),r.apply(p,p),Math.max(f.x,h.x,d.x,p.x)<=s||Math.min(f.x,h.x,d.x,p.x)>=c||Math.max(f.y,h.y,d.y,p.y)<=l||Math.min(f.y,h.y,d.y,p.y)>=u))return!1;var m=v*(h.y-f.y),_=v*(f.x-h.x),g=m*s+_*l,x=m*c+_*l,E=m*s+_*u,b=m*c+_*u;if(Math.max(g,x,E,b)<=m*f.x+_*f.y||Math.min(g,x,E,b)>=m*p.x+_*p.y)return!1;var S=v*(f.y-d.y),C=v*(d.x-f.x),A=S*s+C*l,I=S*c+C*l,R=S*s+C*u,O=S*c+C*u;return!(Math.max(A,I,R,O)<=S*f.x+C*f.y||Math.min(A,I,R,O)>=S*p.x+C*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),DH=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Wr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new kt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),UH=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Wr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new kt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Fh=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=Wr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),jH=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=Wr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Xl=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Dr=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new $t;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new $t;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(ev-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),nc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ic=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ac=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],oc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],uT=[],$H=[],Tm=Math.sign;function F3e(){for(var t=0;t<16;t++){var e=[];uT.push(e);for(var r=0;r<16;r++)for(var n=Tm(nc[t]*nc[r]+ac[t]*ic[r]),i=Tm(ic[t]*nc[r]+oc[t]*ic[r]),a=Tm(nc[t]*ac[r]+ac[t]*oc[r]),o=Tm(ic[t]*ac[r]+oc[t]*oc[r]),s=0;s<16;s++)if(nc[s]===n&&ic[s]===i&&ac[s]===a&&oc[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new Dr;c.set(nc[t],ic[t],ac[t],oc[t],0,0),$H.push(c)}}F3e();var Gr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return nc[t]},uY:function(t){return ic[t]},vX:function(t){return ac[t]},vY:function(t){return oc[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return uT[t][e]},sub:function(t,e){return uT[t][Gr.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?Gr.S:Gr.N:Math.abs(e)*2<=Math.abs(t)?t>0?Gr.E:Gr.W:e>0?t>0?Gr.SE:Gr.SW:t>0?Gr.NE:Gr.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=$H[Gr.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Hv=function(){function t(){this.worldTransform=new Dr,this.localTransform=new Dr,this.position=new Xl(this.onChange,this,0,0),this.scale=new Xl(this.onChange,this,1,1),this.pivot=new Xl(this.onChange,this,0,0),this.skew=new Xl(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.SORTABLE_CHILDREN=!1;var Qh=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?kt.EMPTY:(e=e||new kt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=o*r+c*n+u,_=s*r+l*n+f;h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*i+c*n+u,_=s*i+l*n+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*r+c*a+u,_=s*r+l*a+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*i+c*a+u,_=s*i+l*a+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,m=this.maxY,_=n;_<i;_+=2){var g=r[_],x=r[_+1],E=s*g+l*x+f,b=u*x+c*g+h;d=Math.min(d,E-a),v=Math.max(v,E+a),p=Math.min(p,b-o),m=Math.max(m,b+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cT=function(t,e){return cT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cT(t,e)};function iF(t,e){cT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dn=function(t){iF(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Hv,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Qh,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new kt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new kt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Qh);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new aF),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*nF},set:function(r){this.transform.rotation=r*al},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(nf),aF=function(t){iF(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(dn);dn.prototype.displayObjectUpdateTransform=dn.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})($8||($8={}));var G8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(G8||(G8={}));var V8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(V8||(V8={}));var H8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(H8||(H8={}));var X8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(X8||(X8={}));var W8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(W8||(W8={}));var z8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(z8||(z8={}));var Y8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Y8||(Y8={}));var q8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(q8||(q8={}));var K8;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(K8||(K8={}));var Z8;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Z8||(Z8={}));var J8;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(J8||(J8={}));var Q8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Q8||(Q8={}));var eU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(eU||(eU={}));var tU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(tU||(tU={}));var rU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(rU||(rU={}));var fT;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(fT||(fT={}));var nU;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(nU||(nU={}));var iU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(iU||(iU={}));function k3e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Vn=function(t){iF(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=rt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ds(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ds(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ds(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(k3e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==fT.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(dn);Vn.prototype.containerUpdateTransform=Vn.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var GH={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};dn.mixin(GH);var N3e=9,Im=100,L3e=0,M3e=0,aU=2,oU=1,B3e=-1e3,D3e=-1e3,U3e=2,VH=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(so.tablet||so.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Im+"px",r.style.height=Im+"px",r.style.position="absolute",r.style.top=L3e+"px",r.style.left=M3e+"px",r.style.zIndex=aU.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=oU+"px",r.style.height=oU+"px",r.style.position="absolute",r.style.top=B3e+"px",r.style.left=D3e+"px",r.style.zIndex=U3e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(so.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=c+"px",d.style.height=l+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,ds(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var m=v.hitArea,_=v.worldTransform;v.hitArea?(d.style.left=(_.tx+m.x*_.a)*f+"px",d.style.top=(_.ty+m.y*_.d)*h+"px",d.style.width=m.width*_.a*f+"px",d.style.height=m.height*_.d*h+"px"):(m=v.getBounds(),this.capHitArea(m),d.style.left=m.x*f+"px",d.style.top=m.y*h+"px",d.style.width=m.width*f+"px",d.style.height=m.height*h+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Im+"px",r.style.height=Im+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=aU.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===N3e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.TARGET_FPMS=.06;var Bo;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Bo||(Bo={}));var PC=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),en=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new PC(null,null,1/0),this.deltaMS=1/rt.TARGET_FPMS,this.elapsedMS=1/rt.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Bo.NORMAL),this._addListener(new PC(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Bo.NORMAL),this._addListener(new PC(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*rt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,rt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),HH=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Bo.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?en.shared:new en,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hT=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new $t,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dT=function(t,e){return dT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dT(t,e)};function j3e(t,e){dT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XH=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),L_=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),$3e=function(){function t(){this._tempPoint=new $t}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],d=this.recursiveFindHit(e,h,n,i,c);if(d){if(!h.parent)continue;c=!1,d&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),WH={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};dn.mixin(WH);var Rm=1,Pm={target:null,data:{global:null}},zH=function(t){j3e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new hT,i.mouse.identifier=Rm,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Rm]=i.mouse,i.interactionDataPool=[],i.eventData=new XH,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new $3e,i._tempDisplayObject=new aF,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Pm.target=null,Pm.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Pm,n,null,!0),Pm.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(en.system.add(this.tickerUpdate,this,Bo.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(en.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,d=u.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,h,d)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new L_(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=L_.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):p&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new L_(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Rm||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new hT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Rm),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(nf);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mi=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,d=f.length;h<d;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(mi.prototype,{dispatch:{value:mi.prototype.emit},run:{value:mi.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.PREFER_ENV=so.any?vs.WEBGL:vs.WEBGL2;rt.STRICT_TEXTURE_CACHE=!1;var tv=[];function $1(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=tv.length-1;i>=0;--i){var a=tv[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pT=function(t,e){return pT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pT(t,e)};function Pr(t,e){pT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vT=function(){return vT=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vT.apply(this,arguments)};function G3e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var Hc=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new mi("setRealSize"),this.onUpdate=new mi("update"),this.onError=new mi("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),af=function(t){Pr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Hc),V3e={scaleMode:ni.NEAREST,format:Ue.RGBA,alphaMode:ba.NPM},Qt=function(t){Pr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,d=n.type,p=n.target,v=n.resolution,m=n.resourceOptions;return r&&!(r instanceof Hc)&&(r=$1(r,m),r.internal=!0),i.resolution=v||rt.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:rt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:rt.ANISOTROPIC_LEVEL,i._wrapMode=f||rt.WRAP_MODE,i._scaleMode=c!==void 0?c:rt.SCALE_MODE,i.format=h||Ue.RGBA,i.type=d||st.UNSIGNED_BYTE,i.target=p||ou.TEXTURE_2D,i.alphaMode=a!==void 0?a:ba.UNPACK,i.uid=bu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=aT(this.realWidth)&&aT(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete to[this.cacheId],delete da[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=rt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+bu()}o=r._pixiId}var c=to[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new af(r,{width:n,height:i}),s=r instanceof Float32Array?st.FLOAT:st.UNSIGNED_BYTE;return new e(o,Object.assign(V3e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),to[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),to[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=to[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete to[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete to[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(nf),G1=function(t){Pr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new Qt;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Hc?this.addResourceAt(r[i],i):this.addResourceAt($1(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(Hc),oF=function(t){Pr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=ou.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(G1),gs=function(t){Pr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=BH(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Hc),V1=function(t){Pr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(gs),sF=function(t){Pr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=ou.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=ou.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=ou.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(G1),H1=function(t){Pr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;gs.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:rt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===ba.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(gs),lF=function(t){Pr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;gs.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+bu(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(gs),uF=function(t){Pr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];gs.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[d]||"video/"+d,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=en.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(gs),cF=function(t){Pr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(gs);tv.push(H1,cF,V1,uF,lF,af,sF,oF);var YH={__proto__:null,Resource:Hc,BaseImageResource:gs,INSTALLED:tv,autoDetectResource:$1,AbstractMultiResource:G1,ArrayResource:oF,BufferResource:af,CanvasResource:V1,CubeResource:sF,ImageResource:H1,SVGResource:lF,VideoResource:uF,ImageBitmapResource:cF},H3e=function(t){Pr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(af),Dy=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mi("disposeFramebuffer"),this.multisample=xn.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Qt(null,{scaleMode:ni.NEAREST,resolution:1,mipmap:Ua.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Qt(new H3e(null,{width:this.width,height:this.height}),{scaleMode:ni.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ua.OFF,format:Ue.DEPTH_COMPONENT,type:st.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),fF=function(t){Pr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:xn.NONE,n=t.call(this,null,r)||this,n.mipmap=Ua.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Dy(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Qt),hF=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=Gr.add(n,Gr.NW),this.x0=c+o*Gr.uX(n),this.y0=l+s*Gr.uY(n),n=Gr.add(n,2),this.x1=c+o*Gr.uX(n),this.y1=l+s*Gr.uY(n),n=Gr.add(n,2),this.x2=c+o*Gr.uX(n),this.y2=l+s*Gr.uY(n),n=Gr.add(n,2),this.x3=c+o*Gr.uX(n),this.y3=l+s*Gr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),sU=new hF;function Om(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var vt=function(t){Pr(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new kt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=sU,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new $t(s.x,s.y):new $t(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&da[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===sU&&(this._uvs=new hF),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=rt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof Qt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+bu(),Qt.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+bu()}o=r._pixiId}var c=da[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof Qt)?(n.resolution||(n.resolution=Qp(r)),c=new e(new Qt(r,n)),c.baseTexture.cacheId=o,Qt.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof Qt&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(Qt.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new Qt(r,Object.assign({scaleMode:rt.SCALE_MODE,resolution:Qp(n)},a)),s=o.resource;s instanceof H1&&(s.url=n);var c=new e(o);return i||(i=n),Qt.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(Qt.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),da[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),da[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=da[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete da[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)da[r.textureCacheIds[a]]===r&&delete da[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Qt),Om(e._EMPTY),Om(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new Qt(new V1(r))),Om(e._WHITE),Om(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(nf),Eu=function(t){Pr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(il("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new fF(r))},e}(vt),qH=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=xn.NONE);var i=new fF(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Eu(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=xn.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Jp(e),r=Jp(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||xn.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),gT=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=st.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),X3e=0,Rn=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=X3e++,this.disposeRunner=new mi("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Mo.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Mo.ELEMENT_ARRAY_BUFFER:Mo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),W3e={Float32Array,Uint32Array,Int32Array,Uint8Array};function z3e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=j1(u);i[f]||(i[f]=new W3e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}var lU={5126:4,5123:2,5121:1},Y3e=0,q3e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Nd=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Y3e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Rn||(r instanceof Array&&(r=new Float32Array(r)),r=new Rn(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new gT(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Rn||(e instanceof Array&&(e=new Uint16Array(e)),e=new Rn(e)),e.type=Mo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Rn,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*lU[a.type]/4),a.buffer=0}for(n.data=z3e(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Rn(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new gT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Mo.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new q3e[j1(o.buffers[s].data)](i[s]),r.buffers[s]=new Rn(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Mo.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===h&&(u+=d.size*lU[d.type]/4)}for(var s=0;s<e.length;s++){for(var p=e[s].indexBuffer.data,c=0;c<p.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=p.length}}return r},t}(),KH=function(t){Pr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Nd),dF=function(t){Pr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Rn(r.vertices),r.uvBuffer=new Rn(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Nd),K3e=0,su=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=K3e++,this.static=!!r,this.ubo=!!n,e instanceof Rn?(this.buffer=e,this.buffer.type=Mo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Rn(new Float32Array(1)),this.buffer.type=Mo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),ZH=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=xn.NONE,this.sourceFrame=new kt,this.destinationFrame=new kt,this.bindingSourceFrame=new kt,this.bindingDestinationFrame=new kt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Fm=[new $t,new $t,new $t,new $t],OC=new Dr,pF=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new qH,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new KH,this.quadUv=new dF,this.tempRect=new kt,this.activeState={},this.globalUniforms=new su({outputFrame:new kt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new ZH,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];l=Math.min(l,v.resolution),u=Math.min(u,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var m=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(OC.copyFrom(a.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var _=this.tempRect;_.x=0,_.y=0,_.width=s.sourceFrame.width,_.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,_),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Vs.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,Vs.CLEAR,r);var d=u;u=f,f=d}n[h].apply(this,u,l.renderTexture,Vs.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=Vs.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===Vs.CLEAR||r===Vs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(La.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(La.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(Dr.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=xn.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||xn.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Fm[0],i=Fm[1],a=Fm[2],o=Fm[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?OC.copyFrom(a):OC.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),Xv=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),vF=function(){function t(e){this.renderer=e,this.emptyRenderer=new Xv(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),uU=0,gF=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=uU++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=uU++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(rt.PREFER_ENV>=vs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),JH=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=xn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Z3e=new kt,mF=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Dy(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new kt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;rt.PREFER_ENV===vs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=Kp.COLOR|Kp.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new JH(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=xn.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=xn.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new Dy(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=Z3e,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new kt},t.prototype.destroy=function(){this.renderer=null},t}(),FC={5126:4,5123:2,5121:1},_F=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;rt.PREFER_ENV===vs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,d={},p={};for(var v in f)d[v]=0,p[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[h[v].buffer]+=h[v].size*FC[h[v].type];for(var v in h){var m=h[v],_=m.size;m.stride===void 0&&(d[m.buffer]===_*FC[m.type]?m.stride=0:m.stride=d[m.buffer]),m.start===void 0&&(m.start=p[m.buffer],p[m.buffer]+=_*FC[m.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var g=0;g<f.length;g++){var x=f[g];o.bind(x),n&&x._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var d=r.attributeData[l].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),QH=function(){function t(e){e===void 0&&(e=null),this.type=pi.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=rt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=pi.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function cU(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function fU(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function J3e(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||fU(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||fU(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function kC(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function eX(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return kC(2*e);case"bvec3":return kC(3*e);case"bvec4":return kC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var tX={},b0=tX;function rX(){if(b0===tX||b0&&b0.isContextLost()){var t=document.createElement("canvas"),e=void 0;rt.PREFER_ENV>=vs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),b0=e}return b0}var km;function Q3e(){if(!km){km=No.MEDIUM;var t=rX();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);km=e.precision?No.HIGH:No.MEDIUM}}return km}function hU(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===No.HIGH&&r!==No.HIGH&&(n=No.MEDIUM),"precision "+n+` float;
`+t}else if(r!==No.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var e4e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function nX(t){return e4e[t]}var Nm=null,dU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function iX(t,e){if(!Nm){var r=Object.keys(dU);Nm={};for(var n=0;n<r.length;++n){var i=r[n];Nm[t[i]]=dU[i]}}return Nm[e]}var Oc=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],t4e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},r4e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function n4e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Oc.length;c++)if(Oc[c].test(a,o)){n.push(Oc[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?t4e:r4e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var i4e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function a4e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function aX(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=i4e.replace(/%forloop%/gi,a4e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var E0;function o4e(){if(typeof E0=="boolean")return E0;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");E0=t({a:"b"},"a","b")===!0}catch{E0=!1}return E0}var s4e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,l4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,u4e=0,Lm={},Ld=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=u4e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Lm[n]?(Lm[n]++,n+="-"+Lm[n]):Lm[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=hU(this.vertexSrc,rt.PRECISION_VERTEX,No.HIGH),this.fragmentSrc=hU(this.fragmentSrc,rt.PRECISION_FRAGMENT,Q3e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return l4e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return s4e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=sT[i];return a||(sT[i]=a=new t(e,r,n)),a},t}(),Qs=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof su?this.uniformGroup=r:this.uniformGroup=new su(r):this.uniformGroup=new su({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Ld.from(e,r);return new t(i,n)},t}(),NC=0,LC=1,MC=2,BC=3,DC=4,UC=5,Pu=function(){function t(){this.data=0,this.blendMode=Xe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<NC)},set:function(e){!!(this.data&1<<NC)!==e&&(this.data^=1<<NC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<LC)},set:function(e){!!(this.data&1<<LC)!==e&&(this.data^=1<<LC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<MC)},set:function(e){!!(this.data&1<<MC)!==e&&(this.data^=1<<MC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<BC)},set:function(e){!!(this.data&1<<BC)!==e&&(this.data^=1<<BC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<UC)},set:function(e){!!(this.data&1<<UC)!==e&&(this.data^=1<<UC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<DC)},set:function(e){!!(this.data&1<<DC)!==e&&(this.data^=1<<DC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Xe.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),c4e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,f4e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,bt=function(t){Pr(e,t);function e(r,n,i){var a=this,o=Ld.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=rt.FILTER_RESOLUTION,a.multisample=rt.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Pu,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return c4e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return f4e},enumerable:!1,configurable:!0}),e}(Qs),h4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,d4e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,pU=new Dr,X1=function(){function t(e,r){this._texture=e,this.mapCoord=new Dr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(pU.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(pU));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),oX=function(t){Pr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||h4e,n||d4e,i)||this,a.maskSprite=o,a.maskMatrix=new Dr,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new X1(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(bt),yF=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new QH;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==pi.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case pi.SCISSOR:this.renderer.scissor.push(n);break;case pi.STENCIL:this.renderer.stencil.push(n);break;case pi.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===pi.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case pi.SCISSOR:this.renderer.scissor.pop();break;case pi.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case pi.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===pi.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=pi.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=pi.SCISSOR:e.type=pi.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new oX]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),sX=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),vU=new Dr,xF=function(t){Pr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?vU.copyFrom(o):vU.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(sX),bF=function(t){Pr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(sX),EF=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Dr,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Wu=new kt,w0=new kt,wF=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new kt,this.destinationFrame=new kt,this.viewportFrame=new kt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Wu.width=e.frame.width,Wu.height=e.frame.height,r=Wu),n||(w0.x=e.frame.x,w0.y=e.frame.y,w0.width=r.width,w0.height=r.height,n=w0),o=a.framebuffer):(s=i.resolution,r||(Wu.width=i.screen.width,Wu.height=i.screen.height,r=Wu),n||(n=Wu,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function p4e(t,e,r,n,i){r.buffer.update(i)}var v4e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},lX={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function uX(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=lX[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function cX(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function fX(t,e){if(!t.autoManage)return{size:0,syncFunc:p4e};for(var r=cX(t.uniforms,e),n=uX(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Oc.length;h++){var d=Oc[h];if(d.codeUbo&&d.test(c.data,l)){o.push("offset = "+c.offset/4+";",Oc[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var p=nX(c.data.type),v=Math.max(lX[c.data.type]/16,1),m=p/v,_=(4-m%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+_+`;
                }

                `)}else{var g=v4e[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+g+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var g4e=function(){function t(){}return t}(),hX=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function m4e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=iX(e,a.type),s={type:o,name:a.name,size:nX(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function _4e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=iX(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:eX(c,a.size)}}return r}function dX(t,e){var r=cU(t,t.VERTEX_SHADER,e.vertexSrc),n=cU(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||J3e(t,i,r,n),e.attributeData=m4e(i,t),e.uniformData=_4e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:eX(c.type,c.size)}}var l=new hX(i,s);return l}var y4e=0,Mm={textureCount:0,uboCount:0},SF=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=y4e++}return t.prototype.systemCheck=function(){if(!o4e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Mm.textureCount=0,Mm.uboCount=0,this.syncUniformGroup(e.uniformGroup,Mm)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=n4e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Mm,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=fX(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=dX(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function x4e(t,e){return e===void 0&&(e=[]),e[Xe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.ADD]=[t.ONE,t.ONE],e[Xe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.NONE]=[0,0],e[Xe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Xe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Xe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Xe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Xe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Xe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Xe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Xe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Xe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Xe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Xe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var b4e=0,E4e=1,w4e=2,S4e=3,C4e=4,A4e=5,CF=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Xe.NONE,this._blendEq=!1,this.map=[],this.map[b4e]=this.setBlend,this.map[E4e]=this.setOffset,this.map[w4e]=this.setCullFace,this.map[S4e]=this.setDepthTest,this.map[C4e]=this.setFrontFace,this.map[A4e]=this.setDepthMask,this.checks=[],this.defaultState=new Pu,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=x4e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),AF=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=rt.GC_MAX_IDLE,this.checkCountMax=rt.GC_MAX_CHECK_COUNT,this.mode=rt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==By.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function T4e(t){var e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,m,_,g,x,E,b,S,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[st.UNSIGNED_BYTE]=(r={},r[Ue.RGBA]=t.RGBA8,r[Ue.RGB]=t.RGB8,r[Ue.RG]=t.RG8,r[Ue.RED]=t.R8,r[Ue.RGBA_INTEGER]=t.RGBA8UI,r[Ue.RGB_INTEGER]=t.RGB8UI,r[Ue.RG_INTEGER]=t.RG8UI,r[Ue.RED_INTEGER]=t.R8UI,r[Ue.ALPHA]=t.ALPHA,r[Ue.LUMINANCE]=t.LUMINANCE,r[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[st.BYTE]=(n={},n[Ue.RGBA]=t.RGBA8_SNORM,n[Ue.RGB]=t.RGB8_SNORM,n[Ue.RG]=t.RG8_SNORM,n[Ue.RED]=t.R8_SNORM,n[Ue.RGBA_INTEGER]=t.RGBA8I,n[Ue.RGB_INTEGER]=t.RGB8I,n[Ue.RG_INTEGER]=t.RG8I,n[Ue.RED_INTEGER]=t.R8I,n),e[st.UNSIGNED_SHORT]=(i={},i[Ue.RGBA_INTEGER]=t.RGBA16UI,i[Ue.RGB_INTEGER]=t.RGB16UI,i[Ue.RG_INTEGER]=t.RG16UI,i[Ue.RED_INTEGER]=t.R16UI,i[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[st.SHORT]=(a={},a[Ue.RGBA_INTEGER]=t.RGBA16I,a[Ue.RGB_INTEGER]=t.RGB16I,a[Ue.RG_INTEGER]=t.RG16I,a[Ue.RED_INTEGER]=t.R16I,a),e[st.UNSIGNED_INT]=(o={},o[Ue.RGBA_INTEGER]=t.RGBA32UI,o[Ue.RGB_INTEGER]=t.RGB32UI,o[Ue.RG_INTEGER]=t.RG32UI,o[Ue.RED_INTEGER]=t.R32UI,o[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[st.INT]=(s={},s[Ue.RGBA_INTEGER]=t.RGBA32I,s[Ue.RGB_INTEGER]=t.RGB32I,s[Ue.RG_INTEGER]=t.RG32I,s[Ue.RED_INTEGER]=t.R32I,s),e[st.FLOAT]=(c={},c[Ue.RGBA]=t.RGBA32F,c[Ue.RGB]=t.RGB32F,c[Ue.RG]=t.RG32F,c[Ue.RED]=t.R32F,c[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[st.HALF_FLOAT]=(l={},l[Ue.RGBA]=t.RGBA16F,l[Ue.RGB]=t.RGB16F,l[Ue.RG]=t.RG16F,l[Ue.RED]=t.R16F,l),e[st.UNSIGNED_SHORT_5_6_5]=(u={},u[Ue.RGB]=t.RGB565,u),e[st.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Ue.RGBA]=t.RGBA4,f),e[st.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Ue.RGBA]=t.RGB5_A1,h),e[st.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[Ue.RGBA]=t.RGB10_A2,d[Ue.RGBA_INTEGER]=t.RGB10_A2UI,d),e[st.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[Ue.RGB]=t.R11F_G11F_B10F,p),e[st.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[Ue.RGB]=t.RGB9_E5,v),e[st.UNSIGNED_INT_24_8]=(m={},m[Ue.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[st.FLOAT_32_UNSIGNED_INT_24_8_REV]=(_={},_[Ue.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,_),e):C=(g={},g[st.UNSIGNED_BYTE]=(x={},x[Ue.RGBA]=t.RGBA,x[Ue.RGB]=t.RGB,x[Ue.ALPHA]=t.ALPHA,x[Ue.LUMINANCE]=t.LUMINANCE,x[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,x),g[st.UNSIGNED_SHORT_5_6_5]=(E={},E[Ue.RGB]=t.RGB,E),g[st.UNSIGNED_SHORT_4_4_4_4]=(b={},b[Ue.RGBA]=t.RGBA,b),g[st.UNSIGNED_SHORT_5_5_5_1]=(S={},S[Ue.RGBA]=t.RGBA,S),g),C}var M_=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=st.UNSIGNED_BYTE,this.internalFormat=Ue.RGBA,this.samplerType=0}return t}(),TF=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=T4e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new M_(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new M_(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==Zp.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new M_(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===st.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Zp.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&ds(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ua.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=hs.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Ua.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ni.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),pX={__proto__:null,FilterSystem:pF,BatchSystem:vF,ContextSystem:gF,FramebufferSystem:mF,GeometrySystem:_F,MaskSystem:yF,ScissorSystem:xF,StencilSystem:bF,ProjectionSystem:EF,RenderTextureSystem:wF,ShaderSystem:SF,StateSystem:CF,TextureGCSystem:AF,TextureSystem:TF},jC=new Dr,vX=function(t){Pr(e,t);function e(r,n){r===void 0&&(r=Jh.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},rt.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new kt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||rt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(il("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(il("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=G3e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Eu.create(vT({width:a.width,height:a.height},s));return jC.tx=-a.x,jC.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:jC,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Jh.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=JO(r),Hn(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(nf),I4e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),R4e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new I4e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),ll=function(t){Pr(e,t);function e(r){var n=t.call(this,Jh.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new mi("destroy"),contextChange:new mi("contextChange"),reset:new mi("reset"),update:new mi("update"),postrender:new mi("postrender"),prerender:new mi("prerender"),resize:new mi("resize")},n.runners.contextChange.add(n),n.globalUniforms=new su({projectionMatrix:new Dr},!0),n.addSystem(yF,"mask").addSystem(gF,"context").addSystem(CF,"state").addSystem(SF,"shader").addSystem(TF,"texture").addSystem(R4e,"buffer").addSystem(_F,"geometry").addSystem(mF,"framebuffer").addSystem(xF,"scissor").addSystem(bF,"stencil").addSystem(EF,"projection").addSystem(AF,"textureGC").addSystem(pF,"filter").addSystem(wF,"renderTexture").addSystem(vF,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,PH(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(OH())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=xn.HIGH?this.multisample=xn.HIGH:n>=xn.MEDIUM?this.multisample=xn.MEDIUM:n>=xn.LOW?this.multisample=xn.LOW:this.multisample=xn.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Eu?(il("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return il("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(vX);function gX(t){return ll.create(t)}var P4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,O4e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,mX=P4e,IF=O4e,F4e=function(){function t(e){il("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),Uy=function(){function t(){this.texArray=null,this.blend=0,this.type=La.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),jy=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),$y=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),_X=function(t){Pr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Pu.for2d(),n.size=rt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;rt.PREFER_ENV===vs.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),rt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=aX(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Uy);for(;n.length<a;)n.push(new jy);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++Qt._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,d),h=d,f=a[++u],++l),p._batchEnabled=l,p.touched=c,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var d=0;d<s.length;d++)s[d]=null;Qt._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,d=this._iIndex,p=u[f];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var m=o[v],_=m._texture.baseTexture,g=eF[_.alphaMode?1:0][m.blendMode];o[v]=null,n<v&&p.blend!==g&&(p.size=d-p.start,n=v,p=u[++f],p.texArray=r,p.start=d),this.packInterleavedGeometry(m,s,c,h,d),h+=m.vertexData.length/2*l,d+=m.indices.length,p.blend=g}n<i&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=d},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;rt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,d=l.start,p=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),rt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Jp(Math.ceil(r/8)),i=oT(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new $y(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Jp(Math.ceil(r/12)),i=oT(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,d=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?U1(r._tintRGB,p):r._tintRGB+(p*255<<24),m=0;m<h.length;m+=2)c[a++]=h[m],c[a++]=h[m+1],c[a++]=u[m],c[a++]=u[m+1],s[a++]=v,c[a++]=d;for(var m=0;m<f.length;m++)i[o++]=l+f[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(Xv),yX=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=su.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ld(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dr,default:this.defaultGroupCache[e]};return new Qs(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),RF=function(t){Pr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Rn(null,r,!1),n._indexBuffer=new Rn(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,st.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,st.FLOAT).addAttribute("aColor",n._buffer,4,!0,st.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,st.FLOAT).addIndex(n._indexBuffer),n}return e}(Nd),gU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,mU=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,xX=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:gU,fragment:mU,geometryClass:RF,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){Pr(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new yX(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(_X)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return gU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return mU},enumerable:!1,configurable:!0}),t}(),bX=xX.create(),EX={},k4e=function(t){Object.defineProperty(EX,t,{get:function(){return il("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),YH[t]}})};for(var PF in YH)k4e(PF);var wX={},N4e=function(t){Object.defineProperty(wX,t,{get:function(){return il("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),pX[t]}})};for(var PF in pX)N4e(PF);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wv=function(){function t(e){var r=this;this.stage=new Vn,e=Object.assign({forceCanvas:!1},e),this.renderer=gX(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),L4e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Wv.registerPlugin(L4e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $C=/iPhone/i,_U=/iPod/i,yU=/iPad/i,xU=/\biOS-universal(?:.+)Mac\b/i,GC=/\bAndroid(?:.+)Mobile\b/i,bU=/Android/i,Bf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Bm=/Silk/i,Bs=/Windows Phone/i,EU=/\bWindows(?:.+)ARM\b/i,wU=/BlackBerry/i,SU=/BB10/i,CU=/Opera Mini/i,AU=/\b(CriOS|Chrome)(?:.+)Mobile/i,TU=/Mobile(?:.+)Firefox\b/i,IU=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function M4e(t){return function(e){return e.test(t)}}function B4e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=M4e(r),a={apple:{phone:i($C)&&!i(Bs),ipod:i(_U),tablet:!i($C)&&(i(yU)||IU(e))&&!i(Bs),universal:i(xU),device:(i($C)||i(_U)||i(yU)||i(xU)||IU(e))&&!i(Bs)},amazon:{phone:i(Bf),tablet:!i(Bf)&&i(Bm),device:i(Bf)||i(Bm)},android:{phone:!i(Bs)&&i(Bf)||!i(Bs)&&i(GC),tablet:!i(Bs)&&!i(Bf)&&!i(GC)&&(i(Bm)||i(bU)),device:!i(Bs)&&(i(Bf)||i(Bm)||i(GC)||i(bU))||i(/\bokhttp\b/i)},windows:{phone:i(Bs),tablet:i(EU),device:i(Bs)||i(EU)},other:{blackberry:i(wU),blackberry10:i(SU),opera:i(CU),firefox:i(TU),chrome:i(AU),device:i(wU)||i(SU)||i(CU)||i(TU)||i(AU)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var lh=B4e(globalThis.navigator);function D4e(t){var e=!0;if(lh.tablet||lh.phone){if(lh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(lh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function U4e(){return!lh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var RU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(RU||(RU={}));var PU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(PU||(PU={}));var OU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(OU||(OU={}));var FU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(FU||(FU={}));var kU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(kU||(kU={}));var NU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(NU||(NU={}));var LU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(LU||(LU={}));var MU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(MU||(MU={}));var BU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(BU||(BU={}));var mT;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(mT||(mT={}));var _T;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(_T||(_T={}));var yT;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(yT||(yT={}));var DU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(DU||(DU={}));var UU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(UU||(UU={}));var xT;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(xT||(xT={}));var mp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(mp||(mp={}));var jU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(jU||(jU={}));var bT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(bT||(bT={}));var $U;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($U||($U={}));var SX={MIPMAP_TEXTURES:yT.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:bT.NONE,SPRITE_MAX_TEXTURES:D4e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:xT.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:_T.CLAMP,SCALE_MODE:mT.LINEAR,PRECISION_VERTEX:mp.HIGH,PRECISION_FRAGMENT:lh.apple.device?mp.HIGH:mp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:U4e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */SX.SORTABLE_CHILDREN=!1;var GU=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?kt.EMPTY:(e=e||new kt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=o*r+c*n+u,_=s*r+l*n+f;h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*i+c*n+u,_=s*i+l*n+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*r+c*a+u,_=s*r+l*a+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,m=o*i+c*a+u,_=s*i+l*a+f,h=m<h?m:h,d=_<d?_:d,p=m>p?m:p,v=_>v?_:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,m=this.maxY,_=n;_<i;_+=2){var g=r[_],x=r[_+1],E=s*g+l*x+f,b=u*x+c*g+h;d=Math.min(d,E-a),v=Math.max(v,E+a),p=Math.min(p,b-o),m=Math.max(m,b+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ET=function(t,e){return ET=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ET(t,e)};function OF(t,e){ET(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rv=function(t){OF(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Hv,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new GU,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new kt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new kt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new GU);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new j4e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*nF},set:function(r){this.transform.rotation=r*al},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(nf),j4e=function(t){OF(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(rv);rv.prototype.displayObjectUpdateTransform=rv.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var VU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(VU||(VU={}));var HU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(HU||(HU={}));var XU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(XU||(XU={}));var WU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(WU||(WU={}));var zU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(zU||(zU={}));var YU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(YU||(YU={}));var qU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(qU||(qU={}));var KU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(KU||(KU={}));var ZU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ZU||(ZU={}));var JU;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(JU||(JU={}));var QU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(QU||(QU={}));var e6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(e6||(e6={}));var t6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(t6||(t6={}));var r6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(r6||(r6={}));var n6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(n6||(n6={}));var i6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(i6||(i6={}));var wT;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(wT||(wT={}));var a6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(a6||(a6={}));var o6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(o6||(o6={}));function $4e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var s6=function(t){OF(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=SX.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ds(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ds(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ds(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort($4e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==wT.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(rv);s6.prototype.containerUpdateTransform=s6.prototype.updateTransform;var VC=new kt,l6=4,CX=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Eu?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=VC,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new lT(c,l,1),f=new Uint8Array(l6*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var d=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,d.data),u.context.putImageData(d,0,0),a){var p=new lT(u.width,u.height,1);p.context.scale(1,-1),p.context.drawImage(u.canvas,0,-l),u.destroy(),u=p}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Eu?o=e:e instanceof rv&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=VC,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=VC,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(l6*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dm=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function u6(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var Xs=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Dm))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return u6(this,new Dm(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return u6(this,new Dm(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Dm))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function AX(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var HC,Um=null,G4e=0,c6=200,V4e=204,H4e=1223,X4e=2;function f6(){}function h6(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function XC(t){return t.toString().replace("object ","")}var xr=function(){function t(e,r,n){if(this._dequeue=f6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=f6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xs,this.onProgress=new Xs,this.onComplete=new Xs,this.onAfterMiddleware=new Xs}return t.setExtensionLoadType=function(e,r){h6(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){h6(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof HC>"u"&&(HC=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),HC&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(XC(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(XC(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(XC(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?c6:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===G4e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=c6:n===H4e&&(n=V4e);var i=n/100|0;if(i===X4e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Um||(Um=document.createElement("a")),Um.href=e;var n=AX(Um.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(xr||(xr={}));function zu(){}function W4e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var z4e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),WC=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=zu,this.unsaturated=zu,this.empty=zu,this.drain=zu,this.error=zu,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new z4e(i,typeof o=="function"?o:zu);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,W4e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=zu,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),zC=100,Y4e=/(#[\w-]+)?$/,ja=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=WC.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Xs,this.onError=new Xs,this.onLoad=new Xs,this.onStart=new Xs,this.onComplete=new Xs;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new xr(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=zC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=AX(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=Y4e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,WC.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=zC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),WC.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(zC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();ja.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var TX=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?ja.shared:new ja},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),IX=function(){function t(){}return t.add=function(){xr.setExtensionLoadType("svg",xr.LOAD_TYPE.XHR),xr.setExtensionXhrType("svg",xr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===xr.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;vt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),q4e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function K4e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=q4e.charAt(i[a])}return e}function Z4e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===xr.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+K4e(t.xhr.responseText),t.type=xr.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=xr.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}ja.registerPlugin({use:Z4e});ja.registerPlugin(IX);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yr,Ot;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Ot||(Ot={}));var nv=(yr={},yr[Ot.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,yr[Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,yr[Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,yr[Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,yr[Ot.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,yr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,yr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,yr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,yr[Ot.COMPRESSED_R11_EAC]=.5,yr[Ot.COMPRESSED_SIGNED_R11_EAC]=.5,yr[Ot.COMPRESSED_RG11_EAC]=1,yr[Ot.COMPRESSED_SIGNED_RG11_EAC]=1,yr[Ot.COMPRESSED_RGB8_ETC2]=.5,yr[Ot.COMPRESSED_RGBA8_ETC2_EAC]=1,yr[Ot.COMPRESSED_SRGB8_ETC2]=.5,yr[Ot.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,yr[Ot.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yr[Ot.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yr[Ot.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,yr[Ot.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,yr[Ot.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,yr[Ot.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,yr[Ot.COMPRESSED_RGB_ETC1_WEBGL]=.5,yr[Ot.COMPRESSED_RGB_ATC_WEBGL]=.5,yr[Ot.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,yr[Ot.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,yr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ST=function(t,e){return ST=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ST(t,e)};function RX(t,e){ST(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function J4e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function Q4e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var PX=function(t){RX(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new $y(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return J4e(this,void 0,Promise,function(){var r,n,i;return Q4e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new $y(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(af),Gy=function(t){RX(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,d=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*nv[n],m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?f:d,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(r.buffer,u,v)},u+=v,f=f>>1||1,h=h>>1||1,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*nv[n];return l},e}(PX),OX=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===xr.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=yc.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,p,d,function(m){if(m.error){r(m.error);return}var _=m.texture,g=_===void 0?null:_,x=m.textures,E=x===void 0?{}:x;Object.assign(e,{texture:g,textures:E}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function FX(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new vt(new Qt(a,Object.assign({mipmap:Ua.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);Qt.addToCache(s,c),vt.addToCache(a,c),o===0&&(Qt.addToCache(s,t),vt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var S0,xo;xr.setExtensionXhrType("dds",xr.XHR_RESPONSE_TYPE.BUFFER);var YC=4,jm=124,eNe=32,d6=20,tNe=542327876,$m={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},rNe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Gm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},So;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(So||(So={}));var CT;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(CT||(CT={}));var nNe=1,iNe=2,aNe=4,oNe=64,sNe=512,lNe=131072,uNe=827611204,cNe=861165636,fNe=894720068,hNe=808540228,dNe=4,pNe=(S0={},S0[uNe]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,S0[cNe]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,S0[fNe]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,S0),vNe=(xo={},xo[So.DXGI_FORMAT_BC1_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,xo[So.DXGI_FORMAT_BC1_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,xo[So.DXGI_FORMAT_BC2_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,xo[So.DXGI_FORMAT_BC2_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,xo[So.DXGI_FORMAT_BC3_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,xo[So.DXGI_FORMAT_BC3_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,xo[So.DXGI_FORMAT_BC1_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,xo[So.DXGI_FORMAT_BC2_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,xo[So.DXGI_FORMAT_BC3_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,xo),kX=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,FX(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==tNe)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,jm/Uint32Array.BYTES_PER_ELEMENT),a=i[$m.HEIGHT],o=i[$m.WIDTH],s=i[$m.MIPMAP_COUNT],c=new Uint32Array(e,$m.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,eNe/Uint32Array.BYTES_PER_ELEMENT),l=c[nNe];if(l&aNe){var u=c[rNe.FOURCC];if(u!==hNe){var f=pNe[u],h=YC+jm,d=new Uint8Array(e,h),p=new Gy(d,{format:f,width:o,height:a,levels:s});return[p]}var v=YC+jm,m=new Uint32Array(r.buffer,v,d6/Uint32Array.BYTES_PER_ELEMENT),_=m[Gm.DXGI_FORMAT],g=m[Gm.RESOURCE_DIMENSION],x=m[Gm.MISC_FLAG],E=m[Gm.ARRAY_SIZE],b=vNe[_];if(b===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+_);if(x===dNe)throw new Error("DDSLoader does not support cubemap textures");if(g===CT.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var S=new Array,C=YC+jm+d6;if(E===1)S.push(new Uint8Array(e,C));else{for(var A=nv[b],I=0,R=o,O=a,P=0;P<s;P++){var F=Math.max(1,R+3&-4),N=Math.max(1,O+3&-4),B=F*N*A;I+=B,R=R>>>1,O=O>>>1}for(var U=C,P=0;P<E;P++)S.push(new Uint8Array(e,U,I)),U+=I}return S.map(function(H){return new Gy(H,{format:b,width:o,height:a,levels:s})})}throw l&oNe?new Error("DDSLoader does not support uncompressed texture data."):l&sNe?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&lNe?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&iNe?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),wl,Ds,C0;xr.setExtensionXhrType("ktx",xr.XHR_RESPONSE_TYPE.BUFFER);var p6=[171,75,84,88,32,49,49,187,13,10,26,10],gNe=67305985,bo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},qC=64,AT=(wl={},wl[st.UNSIGNED_BYTE]=1,wl[st.UNSIGNED_SHORT]=2,wl[st.INT]=4,wl[st.UNSIGNED_INT]=4,wl[st.FLOAT]=4,wl[st.HALF_FLOAT]=8,wl),NX=(Ds={},Ds[Ue.RGBA]=4,Ds[Ue.RGB]=3,Ds[Ue.RG]=2,Ds[Ue.RED]=1,Ds[Ue.LUMINANCE]=1,Ds[Ue.LUMINANCE_ALPHA]=2,Ds[Ue.ALPHA]=1,Ds),LX=(C0={},C0[st.UNSIGNED_SHORT_4_4_4_4]=2,C0[st.UNSIGNED_SHORT_5_5_5_1]=2,C0[st.UNSIGNED_SHORT_5_6_5]=2,C0),MX=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=FX(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var d=new vt(new Qt(f.resource,{mipmap:Ua.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);s&&(d.baseTexture.ktxKeyValueData=s),Qt.addToCache(d.baseTexture,p),vt.addToCache(d,p),h===0&&(u[n]=d,Qt.addToCache(d.baseTexture,n),vt.addToCache(d,n)),u[p]=d}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(bo.ENDIANNESS,!0)===gNe,a=n.getUint32(bo.GL_TYPE,i),o=n.getUint32(bo.GL_FORMAT,i),s=n.getUint32(bo.GL_INTERNAL_FORMAT,i),c=n.getUint32(bo.PIXEL_WIDTH,i),l=n.getUint32(bo.PIXEL_HEIGHT,i)||1,u=n.getUint32(bo.PIXEL_DEPTH,i)||1,f=n.getUint32(bo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(bo.NUMBER_OF_FACES,i),d=n.getUint32(bo.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(bo.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,m=4,_=c+3&-4,g=l+3&-4,x=new Array(f),E=c*l;a===0&&(E=_*g);var b;if(a!==0?AT[a]?b=AT[a]*NX[o]:b=LX[a]:b=nv[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var S=t.loadKeyValueData?t.parseKvData(n,p,i):null,C=E*b,A=C,I=c,R=l,O=_,P=g,F=qC+p,N=0;N<d;N++){for(var B=n.getUint32(F,i),U=F+4,H=0;H<f;H++){var ee=x[H];ee||(ee=x[H]=new Array(d)),ee[N]={levelID:N,levelWidth:d>1||a!==0?I:O,levelHeight:d>1||a!==0?R:P,levelBuffer:new Uint8Array(r,U,A)},U+=A}F+=B+4,F=F%4!==0?F+4-F%4:F,I=I>>1||1,R=R>>1||1,O=I+v-1&~(v-1),P=R+m-1&~(m-1),A=O*P*b}return a!==0?{uncompressed:x.map(function(J){var G=J[0].levelBuffer,L=!1;return a===st.FLOAT?G=new Float32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4):a===st.UNSIGNED_INT?(L=!0,G=new Uint32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)):a===st.INT&&(L=!0,G=new Int32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)),{resource:new af(G,{width:J[0].levelWidth,height:J[0].levelHeight}),type:a,format:L?t.convertFormatToInteger(o):o}}),kvData:S}:{compressed:x.map(function(J){return new Gy(null,{format:s,width:c,height:l,levels:d,levelBuffers:J})}),kvData:S}},t.validate=function(e,r){for(var n=0;n<p6.length;n++)if(r.getUint8(n)!==p6[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case Ue.RGBA:return Ue.RGBA_INTEGER;case Ue.RGB:return Ue.RGB_INTEGER;case Ue.RG:return Ue.RG_INTEGER;case Ue.RED:return Ue.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(qC+a,n),s=qC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var TT=function(t,e){return TT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},TT(t,e)};function BX(t,e){TT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mNe=function(t){BX(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Xe.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Hn(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Vn),v6=function(){function t(e,r,n){this.geometry=new Nd,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||st.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Rn(kH(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Rn(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Rn(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===st.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===st.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===st.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===st.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),_Ne=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,yNe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,DX=function(t){BX(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Dr,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:st.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Qs.from(yNe,_Ne,{}),n.state=Pu.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=tF(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=FH(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,d=0,p=0;d<s;d+=a,p+=1){var v=s-d;v>a&&(v=a),p>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[p];m.uploadDynamic(n,d,v);var _=r._bufferUpdateIDs[p]||0;h=h||m._updateID<_,h&&(m._updateID=r._updateID,m.uploadStatic(n,d,v)),o.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,v*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new v6(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new v6(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var d=r[n+h],p=d._texture,v=d.scale.x,m=d.scale.y,_=p.trim,g=p.orig;_?(l=_.x-d.anchor.x*g.width,c=l+_.width,f=_.y-d.anchor.y*g.height,u=f+_.height):(c=g.width*(1-d.anchor.x),l=g.width*-d.anchor.x,u=g.height*(1-d.anchor.y),f=g.height*-d.anchor.y),a[s]=l*v,a[s+1]=f*m,a[s+o]=c*v,a[s+o+1]=f*m,a[s+o*2]=c*v,a[s+o*2+1]=u*m,a[s+o*3]=l*v,a[s+o*3+1]=u*m,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?U1(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Xv);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ys;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Ys||(Ys={}));var qs;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(qs||(qs={}));var ed={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},FF=function(){function t(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IT=function(t,e){return IT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},IT(t,e)};function kF(t,e){IT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g6(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,d=i-o-1,p=o,v=o+1;r=[t[p],t[h]],t[h]=r[0],t[p]=r[1],n=[t[v],t[d]],t[d]=n[0],t[v]=n[1]}}}var NF={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){g6(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];g6(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=HO(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},iv={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===Wr.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===Wr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var d=Math.ceil(2.3*Math.sqrt(o+s)),p=d*8+(i?4:0)+(a?4:0);if(e.length=p,p!==0){if(d===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,m=d*4+(i?2:0)+2,_=m,g=p;{var x=i+o,E=a,b=r+x,S=r-x,C=n+E;if(e[v++]=b,e[v++]=C,e[--m]=C,e[--m]=S,a){var A=n-E;e[_++]=S,e[_++]=A,e[--g]=A,e[--g]=b}}for(var I=1;I<d;I++){var R=Math.PI/2*(I/d),x=i+Math.cos(R)*o,E=a+Math.sin(R)*s,b=r+x,S=r-x,C=n+E,A=n-E;e[v++]=b,e[v++]=C,e[--m]=C,e[--m]=S,e[_++]=S,e[_++]=A,e[--g]=A,e[--g]=b}{var x=i,E=a+s,b=r+x,S=r-x,C=n+E,A=n-E;e[v++]=b,e[v++]=C,e[--g]=A,e[--g]=b,i&&(e[v++]=S,e[v++]=C,e[--g]=A,e[--g]=S)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==Wr.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},UX={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Df(t,e,r){var n=e-t;return t+n*r}function Vm(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,d=0,p=0,v=0,m=0;v<=s;++v)m=v/s,l=Df(t,r,m),u=Df(e,n,m),f=Df(r,i,m),h=Df(n,a,m),d=Df(l,f,m),p=Df(u,h,m),!(v===0&&c[c.length-2]===d&&c[c.length-1]===p)&&c.push(d,p);return c}var jX={build:function(t){if(td.nextRoundedRectBehavior){iv.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(Vm(n,i+s,n,i,n+s,i,r),Vm(n+a-s,i,n+a,i,n+a,i+s,r),Vm(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),Vm(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(td.nextRoundedRectBehavior){iv.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=HO(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function m6(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,d;o?(h=n,d=-r):(h=-n,d=r);var p=c+h,v=l+d,m=u+h,_=f+d;return s.push(p,v),s.push(m,_),2}function Uf(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,d=f-u,p=Math.abs(d),v=Math.sqrt(c*c+l*l),m=(15*p*Math.sqrt(v)/Math.PI>>0)+1,_=d/m;if(h+=_,s){o.push(t,e),o.push(r,n);for(var g=1,x=h;g<m;g++,x+=_)o.push(t,e),o.push(t+Math.sin(x)*v,e+Math.cos(x)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var g=1,x=h;g<m;g++,x+=_)o.push(t+Math.sin(x)*v,e+Math.cos(x)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return m*2}function xNe(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new $t(n[0],n[1]),s=new $t(n[n.length-2],n[n.length-1]),c=r.type!==Wr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,d=n.length/2,p=n.length,v=h.length/2,m=a.width/2,_=m*m,g=a.miterLimit*a.miterLimit,x=n[0],E=n[1],b=n[2],S=n[3],C=0,A=0,I=-(E-S),R=x-b,O=0,P=0,F=Math.sqrt(I*I+R*R);I/=F,R/=F,I*=m,R*=m;var N=a.alignment,B=(1-N)*2,U=N*2;c||(a.cap===qs.ROUND?p+=Uf(x-I*(B-U)*.5,E-R*(B-U)*.5,x-I*B,E-R*B,x+I*U,E+R*U,h,!0)+2:a.cap===qs.SQUARE&&(p+=m6(x,E,I,R,B,U,!0,h))),h.push(x-I*B,E-R*B),h.push(x+I*U,E+R*U);for(var H=1;H<d-1;++H){x=n[(H-1)*2],E=n[(H-1)*2+1],b=n[H*2],S=n[H*2+1],C=n[(H+1)*2],A=n[(H+1)*2+1],I=-(E-S),R=x-b,F=Math.sqrt(I*I+R*R),I/=F,R/=F,I*=m,R*=m,O=-(S-A),P=b-C,F=Math.sqrt(O*O+P*P),O/=F,P/=F,O*=m,P*=m;var ee=b-x,J=E-S,G=b-C,L=A-S,V=J*G-L*ee,$=V<0;if(Math.abs(V)<.1){h.push(b-I*B,S-R*B),h.push(b+I*U,S+R*U);continue}var j=(-I+x)*(-R+S)-(-I+b)*(-R+E),te=(-O+C)*(-P+S)-(-O+b)*(-P+A),ne=(ee*te-G*j)/V,pe=(L*j-J*te)/V,le=(ne-b)*(ne-b)+(pe-S)*(pe-S),xe=b+(ne-b)*B,Te=S+(pe-S)*B,ye=b-(ne-b)*U,we=S-(pe-S)*U,me=Math.min(ee*ee+J*J,G*G+L*L),Pe=$?B:U,je=me+Pe*Pe*_,Le=le<=je;Le?a.join===Ys.BEVEL||le/_>g?($?(h.push(xe,Te),h.push(b+I*U,S+R*U),h.push(xe,Te),h.push(b+O*U,S+P*U)):(h.push(b-I*B,S-R*B),h.push(ye,we),h.push(b-O*B,S-P*B),h.push(ye,we)),p+=2):a.join===Ys.ROUND?$?(h.push(xe,Te),h.push(b+I*U,S+R*U),p+=Uf(b,S,b+I*U,S+R*U,b+O*U,S+P*U,h,!0)+4,h.push(xe,Te),h.push(b+O*U,S+P*U)):(h.push(b-I*B,S-R*B),h.push(ye,we),p+=Uf(b,S,b-I*B,S-R*B,b-O*B,S-P*B,h,!1)+4,h.push(b-O*B,S-P*B),h.push(ye,we)):(h.push(xe,Te),h.push(ye,we)):(h.push(b-I*B,S-R*B),h.push(b+I*U,S+R*U),a.join===Ys.ROUND?$?p+=Uf(b,S,b+I*U,S+R*U,b+O*U,S+P*U,h,!0)+2:p+=Uf(b,S,b-I*B,S-R*B,b-O*B,S-P*B,h,!1)+2:a.join===Ys.MITER&&le/_<=g&&($?(h.push(ye,we),h.push(ye,we)):(h.push(xe,Te),h.push(xe,Te)),p+=2),h.push(b-O*B,S-P*B),h.push(b+O*U,S+P*U),p+=2)}x=n[(d-2)*2],E=n[(d-2)*2+1],b=n[(d-1)*2],S=n[(d-1)*2+1],I=-(E-S),R=x-b,F=Math.sqrt(I*I+R*R),I/=F,R/=F,I*=m,R*=m,h.push(b-I*B,S-R*B),h.push(b+I*U,S+R*U),c||(a.cap===qs.ROUND?p+=Uf(b-I*(B-U)*.5,S-R*(B-U)*.5,b-I*B,S-R*B,b+I*U,S+R*U,h,!1)+2:a.cap===qs.SQUARE&&(p+=m6(b,S,I,R,B,U,!1,h)));for(var ze=e.indices,ut=ed.epsilon*ed.epsilon,H=v;H<p+v-2;++H)x=h[H*2],E=h[H*2+1],b=h[(H+1)*2],S=h[(H+1)*2+1],C=h[(H+2)*2],A=h[(H+2)*2+1],!(Math.abs(x*(S-A)+b*(A-E)+C*(E-S))<ut)&&ze.push(H,H+1,H+2)}}function bNe(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==Wr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function RT(t,e){t.lineStyle.native?bNe(t,e):xNe(t,e)}var PT=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,d=Math.abs(l*h-u*f);if(d<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var p=l*l+u*u,v=f*f+h*h,m=l*f+u*h,_=a*Math.sqrt(p)/d,g=a*Math.sqrt(v)/d,x=_*m/p,E=g*m/v,b=_*h+g*u,S=_*f+g*l,C=u*(g+x),A=l*(g+x),I=h*(_+E),R=f*(_+E),O=Math.atan2(A-S,C-b),P=Math.atan2(R-S,I-b);return{cx:b+e,cy:S+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=ed._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/ev)*40),h=u/(f*2),d=h*2,p=Math.cos(h),v=Math.sin(h),m=f-1,_=m%1/m,g=0;g<=m;++g){var x=g+_*g,E=h+o+d*x,b=Math.cos(E),S=-Math.sin(E);l.push((p*b+v*S)*a+n,(p*-S+v*b)*a+i)}},t}(),$X=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,d=0,p=0,v=0,m=0,_=0,g=0,x=0,E=0,b=e,S=r,C=1;C<=l;++C)f=C/l,h=f*f,d=h*f,p=1-f,v=p*p,m=v*p,_=m*e+3*v*f*n+3*p*h*a+d*s,g=m*r+3*v*f*i+3*p*h*o+d*c,x=b-_,E=S-g,b=_,S=g,u+=Math.sqrt(x*x+E*E);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=ed._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,d=0,p=0,v=0;s.push(c,l);for(var m=1,_=0;m<=u;++m)_=m/u,f=1-_,h=f*f,d=h*f,p=_*_,v=p*_,s.push(d*c+3*h*_*e+3*f*p*n+v*a,d*l+3*h*_*r+3*f*p*i+v*o)},t}(),GX=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),d=l*l+u*u,p=2*Math.sqrt(f+h+d),v=Math.sqrt(f),m=2*f*v,_=2*Math.sqrt(d),g=h/v;return(m*p+v*h*(p-_)+(4*d*f-h*h)*Math.log((2*v+g+p)/(g+_)))/(4*m)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=ed._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),VX=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Yu,B_=(Yu={},Yu[Wr.POLY]=NF,Yu[Wr.CIRC]=iv,Yu[Wr.ELIP]=iv,Yu[Wr.RECT]=UX,Yu[Wr.RREC]=jX,Yu),OT=[],V0=[],FT=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),jf=new $t,ENe=new Qh,HX=function(t){kF(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Qh,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),V0.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),OT.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new FT(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new FT(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,jf):jf.copyFrom(r),a.shape.contains(jf.x,jf.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(jf.x,jf.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=B_[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var d=h===0?l:u;if(d.visible){var p=d.texture.baseTexture,v=this.indices.length,m=this.points.length/2;p.wrapMode=hs.REPEAT,h===0?this.processFill(c):this.processLine(c);var _=this.points.length/2-m;_!==0&&(a&&!this._compareStyles(o,d)&&(a.end(v,m),a=null),a||(a=OT.pop()||new VX,a.begin(d,v,m),this.batches.push(a),o=d),this.addUvs(this.points,n,d.texture,m,_,d.matrix))}}}var g=this.indices.length,x=this.points.length/2;if(a&&a.end(g,x),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var E=x>65535&&r;this.indicesUint16=E?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Qt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),V0.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=V0.pop();o||(o=new Uy,o.texArray=new jy),o.texArray.count=0,o.start=0,o.size=0,o.type=La.TRIANGLES;var s=0,c=null,l=0,u=!1,f=La.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,m=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,f=u?La.LINES:La.TRIANGLES,c=null,s=p,r++),c!==m&&(c=m,m._batchEnabled!==r&&(s===p&&(r++,s=0,o.size>0&&(o=V0.pop(),o||(o=new Uy,o.texArray=new jy),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=hs.REPEAT,o.texArray.elements[o.texArray.count++]=m,s++)),o.size+=d.size,h+=d.size,l=m._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,l,d.attribSize,d.attribStart)}Qt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)NF.triangulate(r,this);else{var n=B_[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){RT(r,this);for(var n=0;n<r.holes.length;n++)RT(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=B_[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=ENe,i=Dr.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||Dr.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==Wr.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===Wr.RECT||c===Wr.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===Wr.CIRC){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.radius+f,d.radius+f)}else if(c===Wr.ELIP){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.width+f,p.height+f)}else{var v=s;r.addVerticesMatrix(i,v.points,0,v.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=U1(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var d=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=d}c++,n.push(f/u.width,h/u.height)}var p=i.baseTexture;(u.width<p.width||u.height<p.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,d=l.y/l.height,p=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),m=i+2;m<c;m+=2)p=Math.min(p,Math.floor(r[m]+s)),v=Math.min(v,Math.floor(r[m+1]+s));h-=p,d-=v;for(var m=i;m<c;m+=2)r[m]=(r[m]+h)*u,r[m+1]=(r[m+1]+d)*f},e.BATCHABLE_SIZE=100,e}(RF),XX=function(t){kF(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=qs.BUTT,r.join=Ys.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(FF),wNe=new Float32Array(3),KC={},td=function(t){kF(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new FF,n._lineStyle=new XX,n._matrix=null,n._holeMode=!1,n.state=Pu.for2d(),n._geometry=r||new HX,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Xe.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:vt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:qs.BUTT,join:Ys.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Fh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Fh,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),GX.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),$X.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=PT.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,d=c.endAngle,p=c.anticlockwise;this.arc(l,u,f,h,d,p)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=ev:s&&a<=o&&(a+=ev);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var d=Math.abs(h[h.length-2]-l),p=Math.abs(h[h.length-1]-u);d<f&&p<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return PT.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:vt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:vt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new kt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new jH(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new DH(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new UH(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new Fh(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Wr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:Hn(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!KC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dr,default:su.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;KC[i]=new Qs(l,c)}n=KC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Hn(this.tint,wNe),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,d=0;d<u.length;d+=2){var p=u[d],v=u[d+1];f[h++]=i*p+o*v+c,f[h++]=s*v+a*p+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new $t,e}(Vn),SNe={buildPoly:NF,buildCircle:iv,buildRectangle:UX,buildRoundedRectangle:jX,buildLine:RT,ArcUtils:PT,BezierUtils:$X,QuadraticUtils:GX,BatchPart:VX,FILL_COMMANDS:B_,BATCH_POOL:OT,DRAW_CALL_POOL:V0};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kT=function(t,e){return kT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kT(t,e)};function CNe(t,e){kT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var A0=new $t,ANe=new Uint16Array([0,1,2,0,2,3]),Na=function(t){CNe(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Xl(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Xe.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||vt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=ANe,n.pluginName="batch",n.isSprite=!0,n._roundPixels=rt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xc(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,d=this._anchor,p=0,v=0,m=0,_=0;if(f?(v=f.x-d._x*h.width,p=v+f.width,_=f.y-d._y*h.height,m=_+f.height):(v=-d._x*h.width,p=v+h.width,_=-d._y*h.height,m=_+h.height),u[0]=i*v+o*_+c,u[1]=s*_+a*v+l,u[2]=i*p+o*_+c,u[3]=s*_+a*p+l,u[4]=i*p+o*m+c,u[5]=s*m+a*p+l,u[6]=i*v+o*m+c,u[7]=s*m+a*v+l,this._roundPixels)for(var g=rt.RESOLUTION,x=0;x<u.length;++x)u[x]=Math.round((u[x]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=-a._x*i.width,p=d+i.width,v=-a._y*i.height,m=v+i.height;n[0]=s*d+l*v+f,n[1]=u*v+c*d+h,n[2]=s*p+l*v+f,n[3]=u*v+c*p+h,n[4]=s*p+l*m+f,n[5]=u*m+c*p+h,n[6]=s*d+l*m+f,n[7]=u*m+c*d+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Qh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new kt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,A0);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return A0.x>=a&&A0.x<a+n&&(o=-i*this.anchor.y,A0.y>=o&&A0.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof vt?r:vt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=xc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=xc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||vt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vn);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var NT=function(t,e){return NT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},NT(t,e)};function TNe(t,e){NT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rd;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(rd||(rd={}));var ZC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:rd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},INe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Xc=function(){function t(e){this.styleID=0,this.reset(),QC(this,e,e)}return t.prototype.clone=function(){var e={};return QC(e,this,ZC),new t(e)},t.prototype.reset=function(){QC(this,ZC,ZC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=JC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=JC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){RNe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=JC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&INe.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function _6(t){return typeof t=="number"?JO(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function JC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=_6(t[e]);return t}else return _6(t)}function RNe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function QC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Uo=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=d,f=Math.max(f,d)}var p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,p,m,l,u,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),d=!f,p=r.wordWrapWidth+l,v=t.tokenize(e),m=0;m<v.length;m++){var _=v[m];if(t.isNewline(_)){if(!h){s+=t.addLine(o),d=!f,o="",a=0;continue}_=" "}if(f){var g=t.isBreakingSpace(_),x=t.isBreakingSpace(o[o.length-1]);if(g&&x)continue}var E=t.getFromCache(_,l,c,i);if(E>p)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(_,r.breakWords))for(var b=t.wordWrapSplit(_),S=0;S<b.length;S++){for(var C=b[S],A=1;b[S+A];){var I=b[S+A],R=C[C.length-1];if(!t.canBreakChars(R,I,_,S,r.breakWords))C+=I;else break;A++}S+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>p&&(s+=t.addLine(o),d=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=m===v.length-1;s+=t.addLine(_,!P),d=!1,o="",a=0}else E+a>p&&(d=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(_)||d)&&(o+=_,a+=E)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(r.ascent=s-h,d=u-f,p=!1,h=c;h>s;--h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();Uo._fonts={};Uo.METRICS_STRING="|q";Uo.BASELINE_SYMBOL="M";Uo.BASELINE_MULTIPLIER=1.4;Uo.HEIGHT_MULTIPLIER=2;Uo._newlines=[10,13];Uo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var PNe={texture:!0,children:!1,baseTexture:!0},LF=function(t){TNe(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=vt.from(i);return s.orig=new kt,s.trim=new kt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=rt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=Uo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,m=0;m<v;++m){var _=n.dropShadow&&m===0,g=_?Math.ceil(Math.max(1,s)+n.padding*2):0,x=g*this._resolution;if(_){i.fillStyle="black",i.strokeStyle="black";var E=n.dropShadowColor,b=Hn(typeof E=="number"?E:QO(E)),S=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=S,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+x}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var A=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(A=0);for(var I=0;I<c.length;I++)d=n.strokeThickness/2,p=n.strokeThickness/2+I*l+h.ascent+A,n.align==="right"?d+=f-u[I]:n.align==="center"&&(d+=(f-u[I])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[I],d+n.padding,p+n.padding-g,!0),n.fill&&this.drawLetterSpacing(c[I],d+n.padding,p+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,d=0;d<u.length;++d){var p=u[d];a?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);for(var v="",m=d+1;m<u.length;++m)v+=u[m];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=LH(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var d=f.length+1,p=1;p<d;++p)h.push(p/d);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===rd.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var m=i.lineHeight*(p-1)+v,_=i.lineHeight*p,g=_;p>0&&m>_&&(g=(_+m)/2);var x=_+v,E=i.lineHeight*(p+1),b=x;p+1<n.length&&E<x&&(b=(x+E)/2);for(var S=(b-g)/u,C=0;C<f.length;C++){var A=0;typeof h[C]=="number"?A=h[C]:A=C/f.length;var I=Math.min(1,Math.max(0,g/u+A*S));I=Number(I.toFixed(5)),o.addColorStop(I,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var R=f.length+1,O=1,p=0;p<f.length;p++){var P=void 0;typeof h[p]=="number"?P=h[p]:P=O/R,o.addColorStop(P,f[p]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},PNe,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=xc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=xc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Xc?this._style=r:this._style=new Xc(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Na);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var LT=function(t,e){return LT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},LT(t,e)};function ONe(t,e){LT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WX=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function FNe(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof vt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function kNe(t,e){if(t.baseTexture instanceof Qt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function NNe(t,e){if(t._texture&&t._texture instanceof vt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function LNe(t,e){return e instanceof LF?(e.updateText(!0),!0):!1}function MNe(t,e){if(e instanceof Xc){var r=e.toFontString();return Uo.measureFont(r),!0}return!1}function BNe(t,e){if(t instanceof LF){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function DNe(t,e){return t instanceof Xc?(e.indexOf(t)===-1&&e.push(t),!0):!1}var zX=function(){function t(e){var r=this;this.limiter=new WX(rt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(BNe),this.registerFindHook(DNe),this.registerFindHook(FNe),this.registerFindHook(kNe),this.registerFindHook(NNe),this.registerUploadHook(LNe),this.registerUploadHook(MNe)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,en.system.addOnce(this.tick,this,Bo.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)en.system.addOnce(this.tick,this,Bo.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Vn)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&en.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function YX(t,e){return e instanceof Qt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function UNe(t,e){if(!(e instanceof td))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&YX(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function jNe(t,e){return t instanceof td?(e.push(t),!0):!1}var qX=function(t){ONe(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(jNe),n.registerUploadHook(YX),n.registerUploadHook(UNe),n}return e}(zX),$Ne=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var KX=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof vt?e:null,this.baseTexture=e instanceof Qt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Qp(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new kt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new kt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new kt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new kt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new vt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),vt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),ZX=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==xr.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),m=yc.resolve(e.url.replace(a.baseUrl,""),p);if(a.resources[v]||Object.values(a.resources).some(function(g){return yc.format(yc.parse(g.url))===m}))return"continue";var _={crossOrigin:e.crossOrigin,loadType:xr.LOAD_TYPE.XHR,xhrType:xr.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,m,_)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,a.baseUrl);a.add(o,d,h,function(v){if(v.error){r(v.error);return}var m=new KX(v.texture,e.data,e.url);m.parse(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:yc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MT=function(t,e){return MT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},MT(t,e)};function JX(t,e){MT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T0=new $t,GNe=function(t){JX(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new Hv,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new X1(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new kt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,T0);var n=this._width,i=this._height,a=-n*this.anchor._x;if(T0.x>=a&&T0.x<a+n){var o=-i*this.anchor._y;if(T0.y>=o&&T0.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof vt?r:vt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(Na),VNe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,y6=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,HNe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,XNe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,WNe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Hm=new Dr,QX=function(t){JX(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new dF,n.state=Pu.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Qs.from(y6,VNe,n),this.shader=r.context.webGLVersion>1?Qs.from(XNe,WNe,n):Qs.from(y6,HNe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==hs.CLAMP:l.wrapMode===hs.CLAMP&&(l.wrapMode=hs.REPEAT));var d=h?this.simpleShader:this.shader,p=c.width,v=c.height,m=r._width,_=r._height;Hm.set(u.a*p/m,u.b*p/_,u.c*v/m,u.d*v/_,u.tx/m,u.ty/_),Hm.invert(),h?Hm.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=Hm.toArray(!0),d.uniforms.uColor=rF(r.tint,r.worldAlpha,d.uniforms.uColor,l.alphaMode),d.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),d.uniforms.uSampler=c,n.shader.bind(d),n.geometry.bind(i),this.state.blendMode=tF(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Xv);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BT=function(t,e){return BT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},BT(t,e)};function MF(t,e){BT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eW=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),e2=new $t,x6=new Fh,nd=function(t){MF(e,t);function e(r,n,i,a){a===void 0&&(a=La.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Pu.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=rt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===La.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],m=i[p*2+1];d[p*2]=s*v+l*m+f,d[p*2+1]=c*v+u*m+h}if(this._roundPixels)for(var _=rt.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*_|0)/_);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new eW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,e2);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=x6.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],x6.contains(e2.x,e2.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vn),zNe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,YNe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,id=function(t){MF(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:Dr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||Ld.from(YNe,zNe),a)||this,i._colorDirty=!1,i.uvMatrix=new X1(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;rF(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Qs),zv=function(t){MF(e,t);function e(r,n,i){var a=t.call(this)||this,o=new Rn(r),s=new Rn(n,!0),c=new Rn(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,st.FLOAT).addAttribute("aTextureCoord",s,2,!1,st.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Nd);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DT=function(t,e){return DT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DT(t,e)};function qNe(t,e){DT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var av=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),KNe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),d=isNaN(h)?f:h;s[u]=d}n[a].push(s)}var p=new av;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),UT=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new av,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),ZNe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return UT.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return UT.parse(r)},t}(),t2=[KNe,UT,ZNe];function tW(t){for(var e=0;e<t2.length;e++)if(t2[e].test(t))return t2[e];return null}function JNe(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,v=1;v<p;++v)d.push(v/p);if(h.unshift(o[0]),d.unshift(0),h.push(o[o.length-1]),d.push(1),r.fillGradientType===rd.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var m=0,_=a.fontProperties.fontSize+r.strokeThickness,g=_/f,v=0;v<i.length;v++)for(var x=a.lineHeight*v,E=0;E<h.length;E++){var b=0;typeof d[E]=="number"?b=d[E]:b=E/h.length;var S=x/f+b*g,C=Math.max(m,S);C=Math.min(C,1),s.addColorStop(C,h[E]),m=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var A=h.length+1,I=1,v=0;v<h.length;v++){var R=void 0;typeof d[v]=="number"?R=d[v]:R=I/A,s.addColorStop(R,h[v]),I++}}return s}function QNe(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=JNe(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=Hn(typeof f=="number"?f:QO(f)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function rW(t){return Array.from?Array.from(t):t.split("")}function eLe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,rW(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function D_(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var lc=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=Qp(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var d=e.page[h],p=d.id,v=d.file;f[p]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[p].baseTexture.alphaMode=ba.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var m=e.char[h],p=m.id,_=m.page,g=e.char[h],x=g.x,E=g.y,b=g.width,S=g.height,C=g.xoffset,A=g.yoffset,I=g.xadvance;x/=u,E/=u,b/=u,S/=u,C/=u,A/=u,I/=u;var R=new kt(x+f[_].frame.x/u,E+f[_].frame.y/u,b,S);this.chars[p]={xOffset:C,yOffset:A,xAdvance:I,kerning:{},texture:new vt(f[_].baseTexture,R),page:_}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,F=O.second,N=O.amount;P/=u,F/=u,N/=u,this.chars[F]&&(this.chars[F].kerning[P]=N)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof av)i=e;else{var a=tW(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof vt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=eLe(a),f=r instanceof Xc?r:new Xc(r),h=c,d=new av;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,m,_,g,x=0,E=[],b=0;b<u.length;b++){m||(m=document.createElement("canvas"),m.width=c,m.height=l,_=m.getContext("2d"),g=new Qt(m,{resolution:s}),E.push(new vt(g)),d.page.push({id:E.length-1,file:""}));var S=Uo.measureText(u[b],f,!1,m),C=S.width,A=Math.ceil(S.height),I=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(v>=l-A*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--b,m=null,_=null,g=null,v=0,p=0,x=0;continue}if(x=Math.max(A+S.fontProperties.descent,x),I*s+p>=h){--b,v+=x*s,v=Math.ceil(v),p=0,x=0;continue}QNe(m,_,S,p,v,s,f);var R=D_(S.text);d.char.push({id:R,page:E.length-1,x:p/s,y:v/s,width:I,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(I+2*o)*s,p=Math.ceil(p)}for(var b=0,O=u.length;b<O;b++)for(var P=u[b],F=0;F<O;F++){var N=u[F],B=_.measureText(P).width,U=_.measureText(N).width,H=_.measureText(P+N).width,ee=H-(B+U);ee&&d.kerning.push({first:D_(P),second:D_(N),amount:ee})}var J=new t(d,E,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=J,J},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),tLe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,rLe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,nLe=[],iLe=[],b6=[],aLe=function(t){qNe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!lc.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||lc.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Xl(function(){i.dirty=!0},i,0,0),i._roundPixels=rt.ROUND_PIXELS,i.dirty=!0,i._resolution=rt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=lc.available[this._fontName],i=this._fontSize/n.size,a=new $t,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=rW(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?nLe:iLe,d=null,p=0,v=0,m=0,_=-1,g=0,x=0,E=0,b=0,S=0;S<u.length;S++){var C=u[S],A=D_(C);if(/(?:\s)/.test(C)&&(_=S,g=p,b++),C==="\r"||C===`
`){s.push(p),c.push(-1),v=Math.max(v,p),++m,++x,a.x=0,a.y+=n.lineHeight,d=null,b=0;continue}var I=n.chars[A];if(I){d&&I.kerning[d]&&(a.x+=I.kerning[d]);var R=b6.pop()||{texture:vt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $t};R.texture=I.texture,R.line=m,R.charCode=A,R.position.x=a.x+I.xOffset+this._letterSpacing/2,R.position.y=a.y+I.yOffset,R.prevSpaces=b,o.push(R),p=R.position.x+Math.max(I.xAdvance,I.texture.orig.width),a.x+=I.xAdvance+this._letterSpacing,E=Math.max(E,I.yOffset+I.texture.height),d=A,_!==-1&&f>0&&a.x>f&&(++x,ds(o,1+_-x,1+S-_),S=_,_=-1,s.push(g),c.push(o.length>0?o[o.length-1].prevSpaces:0),v=Math.max(v,g),m++,a.x=0,a.y+=n.lineHeight,d=null,b=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(p=g),s.push(p),v=Math.max(v,p),c.push(-1));for(var P=[],S=0;S<=m;S++){var F=0;this._align==="right"?F=v-s[S]:this._align==="center"?F=(v-s[S])/2:this._align==="justify"&&(F=c[S]<0?0:(v-s[S])/c[S]),P.push(F)}for(var N=o.length,B={},U=[],H=this._activePagesMeshData,S=0;S<H.length;S++)h.push(H[S]);for(var S=0;S<N;S++){var ee=o[S].texture,J=ee.baseTexture.uid;if(!B[J]){var G=h.pop();if(!G){var L=new zv,V=void 0,$=void 0;n.distanceFieldType==="none"?(V=new id(vt.EMPTY),$=Xe.NORMAL):(V=new id(vt.EMPTY,{program:Ld.from(rLe,tLe),uniforms:{uFWidth:0}}),$=Xe.NORMAL_NPM);var j=new nd(L,V);j.blendMode=$,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:j,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var te=this._textureCache;te[J]=te[J]||new vt(ee.baseTexture),G.mesh.texture=te[J],G.mesh.tint=this._tint,U.push(G),B[J]=G}B[J].total++}for(var S=0;S<H.length;S++)U.indexOf(H[S])===-1&&this.removeChild(H[S].mesh);for(var S=0;S<U.length;S++)U[S].mesh.parent!==this&&this.addChild(U[S].mesh);this._activePagesMeshData=U;for(var S in B){var G=B[S],ne=G.total;if(!(((r=G.indices)===null||r===void 0?void 0:r.length)>6*ne)||G.vertices.length<nd.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*ne),G.uvs=new Float32Array(4*2*ne),G.indices=new Uint16Array(6*ne);else for(var pe=G.total,le=G.vertices,xe=pe*4*2;xe<le.length;xe++)le[xe]=0;G.mesh.size=6*ne}for(var S=0;S<N;S++){var C=o[S],Te=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Te=Math.round(Te));var ye=Te*i,we=C.position.y*i,ee=C.texture,me=B[ee.baseTexture.uid],Pe=ee.frame,je=ee._uvs,Le=me.index++;me.indices[Le*6+0]=0+Le*4,me.indices[Le*6+1]=1+Le*4,me.indices[Le*6+2]=2+Le*4,me.indices[Le*6+3]=0+Le*4,me.indices[Le*6+4]=2+Le*4,me.indices[Le*6+5]=3+Le*4,me.vertices[Le*8+0]=ye,me.vertices[Le*8+1]=we,me.vertices[Le*8+2]=ye+Pe.width*i,me.vertices[Le*8+3]=we,me.vertices[Le*8+4]=ye+Pe.width*i,me.vertices[Le*8+5]=we+Pe.height*i,me.vertices[Le*8+6]=ye,me.vertices[Le*8+7]=we+Pe.height*i,me.uvs[Le*8+0]=je.x0,me.uvs[Le*8+1]=je.y0,me.uvs[Le*8+2]=je.x1,me.uvs[Le*8+3]=je.y1,me.uvs[Le*8+4]=je.x2,me.uvs[Le*8+5]=je.y2,me.uvs[Le*8+6]=je.x3,me.uvs[Le*8+7]=je.y3}this._textWidth=v*i,this._textHeight=(a.y+n.lineHeight)*i;for(var S in B){var G=B[S];if(this.anchor.x!==0||this.anchor.y!==0)for(var ze=0,ut=this._textWidth*this.anchor.x,wt=this._textHeight*this.anchor.y,Ct=0;Ct<G.total;Ct++)G.vertices[ze++]-=ut,G.vertices[ze++]-=wt,G.vertices[ze++]-=ut,G.vertices[ze++]-=wt,G.vertices[ze++]-=ut,G.vertices[ze++]-=wt,G.vertices[ze++]-=ut,G.vertices[ze++]-=wt;this._maxLineHeight=E*i;var it=G.mesh.geometry.getBuffer("aVertexPosition"),lt=G.mesh.geometry.getBuffer("aTextureCoord"),_t=G.mesh.geometry.getIndex();it.data=G.vertices,lt.data=G.uvs,_t.data=G.indices,it.update(),lt.update(),_t.update()}for(var S=0;S<o.length;S++)b6.push(o[S])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=lc.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),d=Math.sqrt(u*u+f*f),p=(Math.abs(h)+Math.abs(d))/2,v=this._fontSize/o,m=0,_=this._activePagesMeshData;m<_.length;m++){var g=_[m];g.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!lc.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Vn),nW=function(){function t(){}return t.add=function(){xr.setExtensionXhrType("fnt",xr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=tW(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=lc.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===u){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:xr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,p,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jT=function(t,e){return jT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jT(t,e)};function oLe(t,e){jT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sLe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,iW=function(t){oLe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,mX,sLe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $T=function(t,e){return $T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$T(t,e)};function aW(t,e){$T(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lLe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function uLe(t,e){var r=Math.ceil(t/2),n=lLe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var cLe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fLe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hLe(t){for(var e=cLe[t],r=e.length,n=fLe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var E6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(E6||(E6={}));var w6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(w6||(w6={}));var S6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(S6||(S6={}));var C6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(C6||(C6={}));var A6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(A6||(A6={}));var T6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(T6||(T6={}));var I6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(I6||(I6={}));var R6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(R6||(R6={}));var P6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(P6||(P6={}));var O6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(O6||(O6={}));var F6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(F6||(F6={}));var k6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(k6||(k6={}));var N6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(N6||(N6={}));var ov;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ov||(ov={}));var L6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(L6||(L6={}));var M6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(M6||(M6={}));var B6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(B6||(B6={}));var D6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(D6||(D6={}));var U6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(U6||(U6={}));var sv=function(t){aW(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=rt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=uLe(o,r),l=hLe(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,ov.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,ov.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(bt),dLe=function(t){aW(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=rt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new sv(!0,r,n,i,a),o.blurYFilter=new sv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,ov.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GT=function(t,e){return GT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GT(t,e)};function pLe(t,e){GT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vLe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,VT=function(t){pLe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,IF,vLe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,d=i+s*(1-i),p=s*(1-i)-c*a,v=s*(1-i)-c*a,m=s*(1-i)+c*a,_=i+s*(1-i),g=[l,u,f,0,0,h,d,p,0,0,v,m,_,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,d=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(d,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(bt);VT.prototype.grayscale=VT.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var HT=function(t,e){return HT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},HT(t,e)};function gLe(t,e){HT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mLe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,_Le=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,yLe=function(t){gLe(e,t);function e(r,n){var i=this,a=new Dr;return r.renderable=!1,i=t.call(this,_Le,mLe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new $t(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XT=function(t,e){return XT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},XT(t,e)};function xLe(t,e){XT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bLe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,ELe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,wLe=function(t){xLe(e,t);function e(){return t.call(this,bLe,ELe)||this}return e}(bt);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var WT=function(t,e){return WT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},WT(t,e)};function SLe(t,e){WT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CLe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,ALe=function(t){SLe(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,IF,CLe,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var j6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(j6||(j6={}));var $6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})($6||($6={}));var G6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(G6||(G6={}));var V6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(V6||(V6={}));var H6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(H6||(H6={}));var X6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(X6||(X6={}));var W6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(W6||(W6={}));var z6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(z6||(z6={}));var Y6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Y6||(Y6={}));var q6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(q6||(q6={}));var K6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(K6||(K6={}));var Z6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Z6||(Z6={}));var J6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(J6||(J6={}));var Q6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Q6||(Q6={}));var e5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(e5||(e5={}));var t5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(t5||(t5={}));var r5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(r5||(r5={}));var zT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(zT||(zT={}));var n5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(n5||(n5={}));var oW=new Dr;dn.prototype._cacheAsBitmap=!1;dn.prototype._cacheData=null;dn.prototype._cacheAsBitmapResolution=null;dn.prototype._cacheAsBitmapMultisample=zT.NONE;var TLe=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(dn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new TLe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});dn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};dn.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(rt.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Eu.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+bu();this._cacheData.textureCacheId=f,Qt.addToCache(u.baseTexture,f),vt.addToCache(u,f);var h=this.transform.localTransform.copyTo(oW).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new Na(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};dn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};dn.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(rt.RESOLUTION);var o=Eu.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+bu();this._cacheData.textureCacheId=s,Qt.addToCache(o.baseTexture,s),vt.addToCache(o,s);var c=oW;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new Na(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};dn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};dn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};dn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Qt.removeFromCache(this._cacheData.textureCacheId),vt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};dn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */dn.prototype.name=null;Vn.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */dn.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new $t),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YT=function(t,e){return YT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},YT(t,e)};function Md(t,e){YT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sW=function(t){Md(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var d=o*s,u=0;u<d;u++){var p=u%o,v=u/o|0,m=v*this.segWidth+p,_=v*this.segWidth+p+1,g=(v+1)*this.segWidth+p,x=(v+1)*this.segWidth+p+1;a.push(m,_,g,_,x,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(zv),lW=function(t){Md(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var d=h*4;if(this.textureScale>0){var p=l.x-r[h].x,v=l.y-r[h].y,m=Math.sqrt(p*p+v*v);l=r[h],c+=m/u}else c=h/(f-1);o[d]=c,o[d+1]=0,o[d+2]=c,o[d+3]=1}for(var _=0,h=0;h<f-1;h++){var d=h*2;s[_++]=d,s[_++]=d+1,s[_++]=d+2,s[_++]=d+2,s[_++]=d+1,s[_++]=d+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=d,o*=d,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(zv),ILe=function(t){Md(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new lW(r.height,n,i),s=new id(r);return i>0&&(r.baseTexture.wrapMode=hs.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(nd),uW=function(t){Md(e,t);function e(r,n,i){var a=this,o=new sW(r.width,r.height,n,i),s=new id(vt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(nd),cW=function(t){Md(e,t);function e(r,n,i,a,o){r===void 0&&(r=vt.EMPTY);var s=this,c=new zv(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new id(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(nd),Xm=10,RLe=function(t){Md(e,t);function e(r,n,i,a,o){n===void 0&&(n=Xm),i===void 0&&(i=Xm),a===void 0&&(a=Xm),o===void 0&&(o=Xm);var s=t.call(this,vt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(uW);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qT=function(t,e){return qT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qT(t,e)};function PLe(t,e){qT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OLe=function(t){PLe(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof vt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(vt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(vt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof vt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Na);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ll.registerPlugin("accessibility",VH);ll.registerPlugin("extract",CX);ll.registerPlugin("interaction",zH);ll.registerPlugin("particle",DX);ll.registerPlugin("prepare",qX);ll.registerPlugin("batch",bX);ll.registerPlugin("tilingSprite",QX);ja.registerPlugin(nW);ja.registerPlugin(OX);ja.registerPlugin(kX);ja.registerPlugin(MX);ja.registerPlugin(ZX);Wv.registerPlugin(HH);Wv.registerPlugin(TX);var FLe="6.4.2",fW={AlphaFilter:iW,BlurFilter:dLe,BlurFilterPass:sv,ColorMatrixFilter:VT,DisplacementFilter:yLe,FXAAFilter:wLe,NoiseFilter:ALe};const kLe=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return ba},AbstractBatchRenderer:_X,AbstractMultiResource:G1,AbstractRenderer:vX,AccessibilityManager:VH,AnimatedSprite:OLe,AppLoaderPlugin:TX,Application:Wv,ArrayResource:oF,Attribute:gT,get BLEND_MODES(){return Xe},get BUFFER_BITS(){return Kp},get BUFFER_TYPE(){return Mo},BaseImageResource:gs,BasePrepare:zX,BaseRenderTexture:fF,BaseTexture:Qt,BatchDrawCall:Uy,BatchGeometry:RF,BatchPluginFactory:xX,BatchRenderer:bX,BatchShaderGenerator:yX,BatchSystem:vF,BatchTextureArray:jy,BitmapFont:lc,BitmapFontData:av,BitmapFontLoader:nW,BitmapText:aLe,BlobResource:PX,Bounds:Qh,Buffer:Rn,BufferResource:af,get CLEAR_MODES(){return Vs},CanvasResource:V1,Circle:DH,CompressedTextureLoader:OX,CompressedTextureResource:Gy,Container:Vn,ContextSystem:gF,CountLimiter:WX,CubeResource:sF,DDSLoader:kX,DEG_TO_RAD:al,get DRAW_MODES(){return La},DisplayObject:dn,get ENV(){return vs},Ellipse:UH,Extract:CX,get FORMATS(){return Ue},FORMATS_TO_COMPONENTS:NX,FillStyle:FF,Filter:bt,FilterState:ZH,FilterSystem:pF,Framebuffer:Dy,FramebufferSystem:mF,get GC_MODES(){return By},GLFramebuffer:JH,GLProgram:hX,GLTexture:M_,GRAPHICS_CURVES:ed,Geometry:Nd,GeometrySystem:_F,Graphics:td,GraphicsData:FT,GraphicsGeometry:HX,IGLUniformData:g4e,INSTALLED:tv,get INTERNAL_FORMATS(){return Ot},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:nv,ImageBitmapResource:cF,ImageResource:H1,InteractionData:hT,InteractionEvent:XH,InteractionManager:zH,InteractionTrackingData:L_,KTXLoader:MX,get LINE_CAP(){return qs},get LINE_JOIN(){return Ys},LineStyle:XX,Loader:ja,get LoaderResource(){return xr},get MASK_TYPES(){return pi},get MIPMAP_MODES(){return Ua},get MSAA_QUALITY(){return xn},MaskData:QH,MaskSystem:yF,Matrix:Dr,Mesh:nd,MeshBatchUvs:eW,MeshGeometry:zv,MeshMaterial:id,NineSlicePlane:RLe,ObjectRenderer:Xv,ObservablePoint:Xl,PI_2:ev,get PRECISION(){return No},ParticleContainer:mNe,ParticleRenderer:DX,PlaneGeometry:sW,Point:$t,Polygon:Fh,Prepare:qX,Program:Ld,ProjectionSystem:EF,Quad:KH,QuadUv:dF,RAD_TO_DEG:nF,get RENDERER_TYPE(){return Jh},Rectangle:kt,RenderTexture:Eu,RenderTexturePool:qH,RenderTextureSystem:wF,Renderer:ll,Resource:Hc,RopeGeometry:lW,RoundedRectangle:jH,Runner:mi,get SAMPLER_TYPES(){return Zp},get SCALE_MODES(){return ni},get SHAPES(){return Wr},SVGResource:lF,ScissorSystem:xF,Shader:Qs,ShaderSystem:SF,SimpleMesh:cW,SimplePlane:uW,SimpleRope:ILe,Sprite:Na,SpriteMaskFilter:oX,Spritesheet:KX,SpritesheetLoader:ZX,State:Pu,StateSystem:CF,StencilSystem:bF,System:F4e,get TARGETS(){return ou},get TEXT_GRADIENT(){return rd},get TYPES(){return st},TYPES_TO_BYTES_PER_COMPONENT:AT,TYPES_TO_BYTES_PER_PIXEL:LX,TemporaryDisplayObject:aF,Text:LF,TextMetrics:Uo,TextStyle:Xc,Texture:vt,TextureGCSystem:AF,TextureLoader:IX,TextureMatrix:X1,TextureSystem:TF,TextureUvs:hF,Ticker:en,TickerPlugin:HH,TilingSprite:GNe,TilingSpriteRenderer:QX,TimeLimiter:$Ne,Transform:Hv,get UPDATE_PRIORITY(){return Bo},UniformGroup:su,VERSION:FLe,VideoResource:uF,ViewableBuffer:$y,get WRAP_MODES(){return hs},accessibleTarget:GH,autoDetectRenderer:gX,autoDetectResource:$1,checkMaxIfStatementsInShader:aX,createUBOElements:uX,defaultFilterVertex:IF,defaultVertex:mX,filters:fW,generateProgram:dX,generateUniformBufferSync:fX,getTestContext:rX,getUBOData:cX,graphicsUtils:SNe,groupD8:Gr,interactiveTarget:WH,isMobile:so,resources:EX,settings:rt,systems:wX,uniformParsers:Oc,utils:O3e},Symbol.toStringTag,{value:"Module"}));let Wm;const NLe=new Uint8Array(16);function LLe(){if(!Wm&&(Wm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wm(NLe)}const di=[];for(let t=0;t<256;++t)di.push((t+256).toString(16).slice(1));function MLe(t,e=0){return di[t[e+0]]+di[t[e+1]]+di[t[e+2]]+di[t[e+3]]+"-"+di[t[e+4]]+di[t[e+5]]+"-"+di[t[e+6]]+di[t[e+7]]+"-"+di[t[e+8]]+di[t[e+9]]+"-"+di[t[e+10]]+di[t[e+11]]+di[t[e+12]]+di[t[e+13]]+di[t[e+14]]+di[t[e+15]]}const BLe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i5={randomUUID:BLe};function I0(t,e,r){if(i5.randomUUID&&!e&&!t)return i5.randomUUID();t=t||{};const n=t.random||(t.rng||LLe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return MLe(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KT=function(t,e){return KT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KT(t,e)};function DLe(t,e){KT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ULe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jLe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,$Le=function(t){DLe(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,ULe,jLe)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(bt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZT=function(t,e){return ZT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZT(t,e)};function GLe(t,e){ZT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var VLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,HLe=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,XLe=function(t){GLe(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,VLe,HLe)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JT=function(t,e){return JT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JT(t,e)};function WLe(t,e){JT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YLe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,qLe=function(t){WLe(e,t);function e(r){var n=t.call(this,zLe,YLe)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(bt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QT=function(t,e){return QT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QT(t,e)};function KLe(t,e){QT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JLe=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,QLe=function(t){KLe(e,t);function e(r){var n=t.call(this,ZLe,JLe)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=vt.from(n._canvas,{scaleMode:ni.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*al;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(bt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eI=function(t,e){return eI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eI(t,e)};function eMe(t,e){eI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,rMe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,nMe=function(t){eMe(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,tMe,rMe)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tI=function(t,e){return tI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tI(t,e)};function iMe(t,e){tI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,oMe=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,sMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,lMe=function(t){iMe(e,t);function e(r){var n=t.call(this,aMe,sMe.replace("${perlin}",oMe))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new $t,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*al;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(bt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rI=function(t,e){return rI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rI(t,e)};function uMe(t,e){rI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){uMe(e,t);function e(r){var n=t.call(this,cMe,fMe)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(bt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nI=function(t,e){return nI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nI(t,e)};function hMe(t,e){nI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pMe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,vMe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,Vy=function(t){hMe(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,dMe,i?vMe:pMe)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new $t,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,d=this._quality-1,p=0;p<d;p++)c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof $t?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iI=function(t,e){return iI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iI(t,e)};function hW(t,e){iI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gMe=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,mMe=function(t){hW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,dW,gMe)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(bt),_Me=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){hW(e,t);function e(r){var n=t.call(this,dW,_Me)||this;n.bloomScale=1,n.brightness=1,n._resolution=rt.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new mMe(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new Vy(a):new Vy(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:rt.FILTER_RESOLUTION},e})(bt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aI=function(t,e){return aI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aI(t,e)};function yMe(t,e){aI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bMe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){yMe(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,xMe,bMe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oI=function(t,e){return oI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oI(t,e)};function EMe(t,e){oI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,SMe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){EMe(e,t);function e(r){var n=t.call(this,wMe,SMe)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/al},set:function(r){this._angle=r*al,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return ra(this.uniforms.lightColor)},set:function(r){Hn(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return ra(this.uniforms.shadowColor)},set:function(r){Hn(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sI=function(t,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sI(t,e)};function CMe(t,e){sI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){CMe(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=rt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof $t?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new sv(!0,s,n,i,a),o.blurYFilter=new sv(!1,c,n,i,a),o.blurYFilter.blendMode=Xe.SCREEN,o.defaultFilter=new iW,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lI=function(t,e){return lI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lI(t,e)};function AMe(t,e){lI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,IMe=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){AMe(e,t);function e(r){var n=t.call(this,TMe,IMe)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(bt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uI=function(t,e){return uI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uI(t,e)};function RMe(t,e){uI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){RMe(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,PMe,OMe)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof vt||(r=vt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Ua.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?ni.NEAREST:ni.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Ua.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(bt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cI=function(t,e){return cI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cI(t,e)};function FMe(t,e){cI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){FMe(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,kMe,NMe)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(Hn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fI=function(t,e){return fI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fI(t,e)};function LMe(t,e){fI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var MMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,BMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){LMe(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,MMe,BMe)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(Hn(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(Hn(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hI(t,e)};function DMe(t,e){hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var UMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jMe=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){DMe(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,UMe,jMe)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dI=function(t,e){return dI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dI(t,e)};function $Me(t,e){dI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,VMe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){$Me(e,t);function e(){return t.call(this,GMe,VMe)||this}return e})(bt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pI=function(t,e){return pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pI(t,e)};function HMe(t,e){pI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){HMe(e,t);function e(r){var n=t.call(this,XMe,WMe)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(bt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vI=function(t,e){return vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vI(t,e)};function zMe(t,e){vI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hy=function(){return Hy=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Hy.apply(this,arguments)},YMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){zMe(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=rt.FILTER_RESOLUTION;var i=r?Hy(Hy({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new bt(YMe,qMe),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new $t,n._tintFilter.resolution=l,n._blurFilter=a?new Vy(a):new Vy(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,d=i.alpha,p=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=d,n.color=p,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/al},set:function(r){this.angle=r*al,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return ra(this._tintFilter.uniforms.color)},set:function(r){Hn(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:rt.FILTER_RESOLUTION},e})(bt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gI(t,e)};function KMe(t,e){gI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JMe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){KMe(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,ZMe,JMe)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mI(t,e)};function QMe(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,tBe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){QMe(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,eBe,tBe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return ra(this.uniforms.glowColor)},set:function(r){Hn(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(bt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_I(t,e)};function rBe(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){rBe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,nBe,iBe)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new Xl(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yI=function(t,e){return yI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yI(t,e)};function aBe(t,e){yI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){aBe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,oBe,sBe.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=Hn(c):s[0]=ra(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=Hn(l):s[1]=ra(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xI(t,e)};function lBe(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){lBe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,uBe,cBe.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return ra(this.uniforms.outlineColor)},set:function(r){Hn(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(bt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bI=function(t,e){return bI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bI(t,e)};function fBe(t,e){bI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dBe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){fBe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,hBe,dBe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EI(t,e)};function pBe(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){pBe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,vBe,gBe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wI=function(t,e){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wI(t,e)};function mBe(t,e){wI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _Be=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,xBe=function(t){mBe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,_Be,yBe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(bt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SI(t,e)};function bBe(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var EBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){bBe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,EBe,wBe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(Hn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CI=function(t,e){return CI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CI(t,e)};function W1(t,e){CI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,CBe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,pW=function(t){W1(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,SBe,CBe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new $t(0,window.innerHeight/2),o.uniforms.end=a||new $t(600,window.innerHeight/2),o.uniforms.delta=new $t(30,30),o.uniforms.texSize=new $t(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(bt),ABe=function(t){W1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(pW),TBe=function(t){W1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(pW);(function(t){W1(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new ABe(r,n,i,a),o.tiltShiftYFilter=new TBe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AI(t,e)};function IBe(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var RBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PBe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){IBe(e,t);function e(r){var n=t.call(this,RBe,PBe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new $t},e})(bt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TI(t,e)};function OBe(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function FBe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var kBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){OBe(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=FBe(i,["maxKernelSize"]);return n=t.call(this,kBe,NBe.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(bt);const II="shockwaveFilter";function LBe(t,e){const r=t.containerFilters.get(II);if(r)return r;if(e){const n=new xBe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(II,n),n}}function MBe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function BBe(t,e){if(e===0)t.removeFilter(II);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const RI=0,PI="radiusAlphaFilter";class DBe extends bt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new $t(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function UBe(t,e){const r=t.containerFilters.get(PI);if(r)return r;if(e){const n=new DBe(new $t(.5,.5),RI);return n.radius=RI,t.addFilter(n),t.containerFilters.set(PI,n),n}}function jBe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:RI}function $Be(t,e){if(e===0)t.removeFilter(PI);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class r2 extends Vn{constructor(){super();Ye(this,"containerFilters",new Map);Ye(this,"baseX",0);Ye(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new fW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new $Le;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new XLe;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new qLe;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new QLe;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new nMe;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new lMe;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return LBe(this,r)}get shockwaveFilter(){return MBe(this)}set shockwaveFilter(r){BBe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return UBe(this,r)}get radiusAlphaFilter(){return jBe(this)}set radiusAlphaFilter(r){$Be(this,r)}}var Ft;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(Ft||(Ft={}));var Xy=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),z;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(z||(z={}));var At;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(At||(At={}));var zr;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(zr||(zr={}));var hn;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(hn||(hn={}));var mt;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(mt||(mt={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OI=function(t,e){return OI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},OI(t,e)};function Bd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");OI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function a5(t){switch(t.toLowerCase()){case"nearest":return ea.Nearest;case"linear":return ea.Linear;case"mipmap":return ea.MipMap;case"mipmapnearestnearest":return ea.MipMapNearestNearest;case"mipmaplinearnearest":return ea.MipMapLinearNearest;case"mipmapnearestlinear":return ea.MipMapNearestLinear;case"mipmaplinearlinear":return ea.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var ea;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(ea||(ea={}));var Wl;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(Wl||(Wl={}));var FI=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),GBe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),VBe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new o5,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=ea.Nearest,i.uWrap=Wl.ClampToEdge,i.vWrap=Wl.ClampToEdge,n.push(i)}var s=new s5;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new HBe(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=a5(o[1]),s.magFilter=a5(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=Wl.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=Wl.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var d=o[1],p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,l.rotate=p},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new o5,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var d=c[o[0]];d&&d()}i.pages.push(s),r(s.name,function(I){if(I===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=I,s.pma&&(I.alphaMode=ba.PMA),I.valid||I.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=I.realWidth,s.height=I.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new GBe;var p=new s5;p.name=f,p.page=s;for(var v=null,m=null;;){var _=a.readEntry(o,f=a.readLine());if(_==0)break;var d=u[o[0]];if(d)d();else{v==null&&(v=[],m=[]),v.push(o[0]);for(var g=[],x=0;x<_;x++)g.push(parseInt(o[x+1]));m.push(g)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var E=s.baseTexture.resolution;l.x/=E,l.y/=E,l.width/=E,l.height/=E,l.originalWidth/=E,l.originalHeight/=E,l.offsetX/=E,l.offsetY/=E;var b=l.rotate%4!==0,S=new kt(l.x,l.y,b?l.height:l.width,b?l.width:l.height),C=new kt(0,0,l.originalWidth,l.originalHeight),A=new kt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);p.texture=new vt(p.page.baseTexture,S,C,A,l.rotate),p.index=l.index,p.texture.updateUvs(),i.regions.push(p)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),HBe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),o5=function(){function t(){this.minFilter=ea.Nearest,this.magFilter=ea.Nearest,this.uWrap=Wl.ClampToEdge,this.vWrap=Wl.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==ea.Linear?e.scaleMode=ni.LINEAR:this.minFilter==ea.Nearest?e.scaleMode=ni.NEAREST:(e.mipmap=Ua.POW2,r==ea.MipMapNearestNearest?e.scaleMode=ni.NEAREST:e.scaleMode=ni.LINEAR)},t}(),s5=function(t){Bd(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(FI),XBe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),WBe=Math.fround||XBe,vW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),gW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),De=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),K=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),zBe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),YBe=function(t){Bd(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(zBe),mW=function(t){Bd(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(YBe),ce=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?WBe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),z1=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),lv=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),BF=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new z1(function(){return ce.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===Ft.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=ce.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],d=l[u+1];e=Math.min(e,h),r=Math.min(r,d),n=Math.max(n,h),i=Math.max(i,d)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],d=0;d<s;d+=2){var p=o[d],v=o[d+1],m=f*v-h*p,_=f-p,g=h-v,x=c*g-l*_,E=(u*_-c*m)/x;if((E>=f&&E<=p||E>=p&&E<=f)&&(E>=r&&E<=i||E>=i&&E<=r)){var b=(u*g-l*m)/x;if((b>=h&&b<=v||b>=v&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}f=p,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),qBe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Sl=[0,0,0],KBe=function(t){Bd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(Na),ZBe=function(t){Bd(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(cW),Yv=function(t){Bd(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===Ft.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===Ft.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===Ft.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:Vn.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return ra(this.tintRgb)},set:function(r){this.tintRgb=Hn(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:qBe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),d=this.slotContainers[l];if(!h){d.visible=!1;continue}var p=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,m=h.color;switch(h!=null&&h.type){case Ft.Region:var _=d.transform;if(_.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var g=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[g]!==void 0)f.sprites[g].visible=!0;else{var x=this.createSprite(f,h,g);d.addChild(x)}f.currentSprite=f.sprites[g],f.currentSpriteName=g}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?p=f.currentSprite.color:(Sl[0]=s[0]*f.color.r*m.r,Sl[1]=s[1]*f.color.g*m.g,Sl[2]=s[2]*f.color.b*m.b,f.currentSprite.tint=ra(Sl)),f.currentSprite.blendMode=f.blendMode;break;case Ft.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var E=new Hv;E._parentID=-1,E._worldID=d.transform._worldID,d.transform=E}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var b=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==b){var S=b;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[S]!==void 0)f.meshes[S].visible=!0;else{var C=this.createMesh(f,h);d.addChild(C)}f.currentMesh=f.meshes[S],f.currentMeshName=h.name,f.currentMeshId=S}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?p=f.currentMesh.color:(Sl[0]=s[0]*f.color.r*m.r,Sl[1]=s[1]*f.color.g*m.g,Sl[2]=s[2]*f.color.b*m.b,f.currentMesh.tint=ra(Sl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case Ft.Clipping:f.currentGraphics||(this.createGraphics(f,h),d.addChild(f.clippingContainer),d.addChild(f.currentGraphics)),this.updateGraphics(f,h),d.alpha=1,d.visible=!0;continue;default:d.visible=!1;continue}if(d.visible=!0,p){var A=f.color.r*m.r,I=f.color.g*m.g,R=f.color.b*m.b;p.setLight(s[0]*A+c[0]*(1-A),s[1]*I+c[1]*(1-I),s[2]*R+c[2]*(1-R)),f.darkColor?(A=f.darkColor.r,I=f.darkColor.g,R=f.darkColor.b):(A=0,I=0,R=0),p.setDark(s[0]*A+c[0]*(1-A),s[1]*I+c[1]*(1-I),s[2]*R+c[2]*(1-R))}d.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,F=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],d=this.slotContainers[O[l].data.index];if(F||d.parent!==null&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),f.currentGraphics&&f.getAttachment())F=f.clippingContainer,P=f.getAttachment(),F.children.length=0,this.children[l]=d,P.endSlot===f.data&&(P.endSlot=null);else if(F){var N=this.tempClipContainers[l];N||(N=this.tempClipContainers[l]=this.newContainer(),N.visible=!1),this.children[l]=N,d.parent=null,F.addChild(d),P.endSlot==f.data&&(F.renderable=!0,F=null,P=null)}else this.children[l]=d}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*K.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}Vn.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),La.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Fh([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new FI,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new FI,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new Vn},e.prototype.newSprite=function(r){return new KBe(r)},e.prototype.newGraphics=function(){return new td},e.prototype.newMesh=function(r,n,i,a,o){return new ZBe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(Vn);Object.defineProperty(Yv.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function JBe(t){return t.type===xr.TYPE.JSON}function QBe(t){return t.xhrType===xr.XHR_RESPONSE_TYPE.BUFFER}xr.setExtensionXhrType("skel",xr.XHR_RESPONSE_TYPE.BUFFER);var eDe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=JBe(r)&&r.data.bones,a=QBe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,d=h.indexOf("?");d>0&&(h=h.substr(0,d)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var p={crossOrigin:r.crossOrigin,xhrType:xr.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},m=r.url.substr(0,r.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var _=c.imageNamePrefix||r.name+"_atlas_page_",g=c.images?l5(c.images):c.image?l5({default:c.image}):c.imageLoader?c.imageLoader(this,_,m,v):tDe(this,_,m,v);function x(E){new VBe(E,g,function(b){b&&e.parseData(r,o,b,s),n()})}c.atlasRawData?x(c.atlasRawData):this.add(r.name+"_atlas",h,p,function(E){E.error?n():x(E.data)})}}},t}();function tDe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=ba.PMA),a(u.texture.baseTexture))})}}function l5(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kI(t,e)};function Zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var DF=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),of=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,m=h.c,_=h.b,g=h.d,x=n,E=o;E<i;x+=2,E+=s){var b=u[x],S=u[x+1];a[E]=b*v+S*m+d,a[E+1]=b*_+S*g+p}return}for(var C=0,A=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var E=o,m=A*3;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],S=u[m+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}else for(var B=l,E=o,m=A*3,U=A<<1;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],S=u[m+1]+B[U+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),ce.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=ce.newFloatArray(this.vertices.length),ce.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(DF),_W=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.BoundingBox,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(of),yW=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Clipping,n.color=new De(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(of),Y1=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Mesh,n.color=new De(1,1,1,1),n.tempColor=new De(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ce.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ce.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),ce.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(of),uv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Path,n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ce.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(of),xW=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Point,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(of),UF=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor==null?null:new De,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),jF=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new De(1,1,1,1),n.offset=ce.newFloatArray(8),n.uvs=ce.newFloatArray(8),n.tempColor=new De(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,m=o*u,_=s*l+this.y,g=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-g,x[e.OY2]=_+h,x[e.OX3]=v-g,x[e.OY3]=_+m,x[e.OX4]=v-p,x[e.OY4]=d+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof UF?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ce.arrayCopy(this.uvs,0,r.uvs,0,8),ce.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(DF),rDe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),nDe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new mW(2),t}(),wn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),ai;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(ai||(ai={}));var Ss=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ce.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var m=h,_=d,g=p+t.BEZIER_SIZE-1;p<g;p+=2)v[p]=m,v[p+1]=_,h+=u,d+=f,u+=c,f+=l,m+=h,_+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Fa=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(ai.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.rotation=u.data.rotation;return;case z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case z.setup:u.rotation=u.data.rotation+h*o;break;case z.first:case z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case z.add:u.rotation+=h*o}return}var d=wn.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],m=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),_=l[d+e.ROTATION]-p;switch(_=p+(_-(16384-(16384.499999999996-_/360|0))*360)*m,s){case z.setup:u.rotation=u.data.rotation+(_-(16384-(16384.499999999996-_/360|0))*360)*o;break;case z.first:case z.replace:_+=u.data.rotation-u.rotation;case z.add:u.rotation+=(_-(16384-(16384.499999999996-_/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Ss),Wc=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.x=u.data.x,u.y=u.data.y;return;case z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=wn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case z.first:case z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case z.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Ss),$F=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=wn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,_=0;if(c==At.mixOut)switch(s){case z.setup:m=u.data.scaleX,_=u.data.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.first:case z.replace:m=u.scaleX,_=u.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.add:m=u.scaleX,_=u.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-u.data.scaleX)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-u.data.scaleY)*o}else switch(s){case z.setup:m=Math.abs(u.data.scaleX)*K.signum(f),_=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=_+(h-_)*o;break;case z.first:case z.replace:m=Math.abs(u.scaleX)*K.signum(f),_=Math.abs(u.scaleY)*K.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=_+(h-_)*o;break;case z.add:m=K.signum(f),_=K.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*_+(h-Math.abs(u.data.scaleY)*_)*o}}}},e}(Wc),GF=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=wn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case z.first:case z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case z.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(Wc),cv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color);return;case z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var _=u.length;d=u[_+e.PREV_R],p=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A]}else{var g=wn.binarySearch(u,i,e.ENTRIES);d=u[g+e.PREV_R],p=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A];var x=u[g],E=this.getCurvePercent(g/e.ENTRIES-1,1-(i-x)/(u[g+e.PREV_TIME]-x));d+=(u[g+e.R]-d)*E,p+=(u[g+e.G]-p)*E,v+=(u[g+e.B]-v)*E,m+=(u[g+e.A]-m)*E}if(o==1)l.color.set(d,p,v,m);else{var f=l.color;s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(m-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Ss),fv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case z.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,m=0,_=0,g=0,x=0,E=0,b=0;if(i>=u[u.length-e.ENTRIES]){var S=u.length;v=u[S+e.PREV_R],m=u[S+e.PREV_G],_=u[S+e.PREV_B],g=u[S+e.PREV_A],x=u[S+e.PREV_R2],E=u[S+e.PREV_G2],b=u[S+e.PREV_B2]}else{var C=wn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],_=u[C+e.PREV_B],g=u[C+e.PREV_A],x=u[C+e.PREV_R2],E=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],I=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*I,m+=(u[C+e.G]-m)*I,_+=(u[C+e.B]-_)*I,g+=(u[C+e.A]-g)*I,x+=(u[C+e.R2]-x)*I,E+=(u[C+e.G2]-E)*I,b+=(u[C+e.B2]-b)*I}if(o==1)l.color.set(v,m,_,g),l.darkColor.set(x,E,b,1);else{var f=l.color,h=l.darkColor;s==z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(_-f.b)*o,(g-f.a)*o),h.add((x-h.r)*o,(E-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Ss),bc=function(){function t(e){this.frames=ce.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(ai.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==At.mixOut){o==z.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==z.setup||o==z.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=wn.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),u5=null,VF=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r),n.frameVertices=new Array(r),u5==null&&(u5=ce.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(ai.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof of)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=z.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;break}var m=ce.setArraySize(f,d);if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++)m[g]+=(_[g]-m[g])*o;else{o=1-o;for(var g=0;g<d;g++)m[g]*=o}}return}var x=ce.setArraySize(f,d);if(i>=p[p.length-1]){var E=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var _=v.vertices,b=0;b<d;b++)x[b]+=E[b]-_[b];else for(var S=0;S<d;S++)x[S]+=E[S]}else ce.arrayCopy(E,0,x,0,d);else switch(s){case z.setup:{var C=u;if(C.bones==null)for(var _=C.vertices,A=0;A<d;A++){var I=_[A];x[A]=I+(E[A]-I)*o}else for(var R=0;R<d;R++)x[R]=E[R]*o;break}case z.first:case z.replace:for(var O=0;O<d;O++)x[O]+=(E[O]-x[O])*o;break;case z.add:var v=u;if(v.bones==null)for(var _=v.vertices,P=0;P<d;P++)x[P]+=(E[P]-_[P])*o;else for(var F=0;F<d;F++)x[F]+=E[F]*o}return}var N=wn.binarySearch(p,i),B=h[N-1],U=h[N],H=p[N],ee=this.getCurvePercent(N-1,1-(i-H)/(p[N-1]-H));if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var _=v.vertices,J=0;J<d;J++){var G=B[J];x[J]+=G+(U[J]-G)*ee-_[J]}else for(var L=0;L<d;L++){var G=B[L];x[L]+=G+(U[L]-G)*ee}}else for(var V=0;V<d;V++){var G=B[V];x[V]=G+(U[V]-G)*ee}else switch(s){case z.setup:{var $=u;if($.bones==null)for(var _=$.vertices,j=0;j<d;j++){var G=B[j],I=_[j];x[j]=I+(G+(U[j]-G)*ee-I)*o}else for(var te=0;te<d;te++){var G=B[te];x[te]=(G+(U[te]-G)*ee)*o}break}case z.first:case z.replace:for(var ne=0;ne<d;ne++){var G=B[ne];x[ne]+=(G+(U[ne]-G)*ee-x[ne])*o}break;case z.add:var v=u;if(v.bones==null)for(var _=v.vertices,pe=0;pe<d;pe++){var G=B[pe];x[pe]+=(G+(U[pe]-G)*ee-_[pe])*o}else for(var le=0;le<d;le++){var G=B[le];x[le]+=(G+(U[le]-G)*ee)*o}}}}},e}(Ss),q1=function(){function t(e){this.frames=ce.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return ai.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=wn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),kh=function(){function t(e){this.frames=ce.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return ai.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==At.mixOut&&o==z.setup){ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==z.setup||o==z.first)&&ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=wn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ce.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),hv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case z.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==At.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=wn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f+e.PREV_SOFTNESS],p=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*v-u.data.mix)*o,u.softness=u.data.softness+(d+(l[f+e.SOFTNESS]-d)*v-u.data.softness)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*v-u.mix)*o,u.softness+=(d+(l[f+e.SOFTNESS]-d)*v-u.softness)*o,c==At.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(Ss),dv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var _=wn.binarySearch(l,i,e.ENTRIES);h=l[_+e.PREV_ROTATE],d=l[_+e.PREV_TRANSLATE],p=l[_+e.PREV_SCALE],v=l[_+e.PREV_SHEAR];var g=l[_],x=this.getCurvePercent(_/e.ENTRIES-1,1-(i-g)/(l[_+e.PREV_TIME]-g));h+=(l[_+e.ROTATE]-h)*x,d+=(l[_+e.TRANSLATE]-d)*x,p+=(l[_+e.SCALE]-p)*x,v+=(l[_+e.SHEAR]-v)*x}if(s==z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Ss),ad=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.position=u.data.position;return;case z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=wn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Ss),HF=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.spacing=u.data.spacing;return;case z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=wn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(ad),pv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=wn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Ss),bW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new wW(this),this.propertyIDs=new vW,this.animationsChanged=!1,this.trackEntryPool=new z1(function(){return new EW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==z.add)for(var p=0;p<h;p++){ce.webkit602BugfixHelper(l,c);var v=d[p];v instanceof bc?this.applyAttachmentTimeline(v,e,f,c,!0):v.apply(e,u,f,r,l,c,At.mixIn)}else{var m=s.timelineMode,_=s.timelinesRotation.length==0;_&&ce.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,p=0;p<h;p++){var x=d[p],E=m[p]==t.SUBSEQUENT?c:z.setup;x instanceof Fa?this.applyRotateTimeline(x,e,f,l,E,g,p<<1,_):x instanceof bc?this.applyAttachmentTimeline(x,e,f,c,!0):(ce.webkit602BugfixHelper(l,c),x.apply(e,u,f,r,l,E,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,S=e.slots,C=0,A=e.slots.length;C<A;C++){var I=S[C];if(I.attachmentState==b){var R=I.data.attachmentName;I.setAttachment(R==null?null:e.getAttachment(I.data.index,R))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,At.mixOut);else{var m=i.timelineMode,_=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&ce.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var E=h[v],b=At.mixOut,S=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!c&&E instanceof kh)continue;S=n,C=p;break;case t.FIRST:S=z.setup,C=p;break;case t.HOLD_SUBSEQUENT:S=n,C=d;break;case t.HOLD_FIRST:S=z.setup,C=d;break;default:S=z.setup;var A=_[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,E instanceof Fa?this.applyRotateTimeline(E,r,u,C,S,x,v<<1,g):E instanceof bc?this.applyAttachmentTimeline(E,r,u,S,s):(ce.webkit602BugfixHelper(C,n),c&&E instanceof kh&&S==z.setup&&(b=At.mixIn),E.apply(r,l,u,o,C,S,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==z.setup||i==z.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=wn.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,d=0;if(n<u[0])switch(a){case z.setup:f.rotation=f.data.rotation;default:return;case z.first:h=f.rotation,d=f.data.rotation}else if(h=a==z.setup?f.data.rotation:f.rotation,n>=u[u.length-Fa.ENTRIES])d=f.data.rotation+u[u.length+Fa.PREV_ROTATION];else{var p=wn.binarySearch(u,n,Fa.ENTRIES),v=u[p+Fa.PREV_ROTATION],m=u[p],_=l.getCurvePercent((p>>1)-1,1-(n-m)/(u[p+Fa.PREV_TIME]-m));d=u[p+Fa.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*_+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var g=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)g=o[s];else{var E=0,b=0;c?(E=0,b=x):(E=o[s],b=o[s+1]);var S=x>0,C=E>=0;K.signum(b)!=K.signum(x)&&Math.abs(b)<=90&&(Math.abs(E)>180&&(E+=360*K.signum(E)),C=S),g=x+E-E%360,C!=S&&(g+=360*K.signum(E)),o[s]=g}o[s+1]=x,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=z.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=z.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ce.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ce.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof bc||l instanceof kh||l instanceof q1||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new wn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),EW=function(){function t(){this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),wW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ki.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ki.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ki.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ki.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ki.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ki.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ki.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Ki.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Ki.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Ki.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Ki.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Ki.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Ki;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ki||(Ki={}));var iDe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),SW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),XF=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new jF(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new Y1(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new _W(r)},t.prototype.newPathAttachment=function(e,r){return new uv(r)},t.prototype.newPointAttachment=function(e,r){return new xW(r)},t.prototype.newClippingAttachment=function(e,r){return new yW(r)},t}(),NI=function(){function t(e,r,n){if(this.matrix=new Dr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,m=c.matrix.b,_=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=m*e+_*r+c.matrix.ty,this.data.transformMode){case mt.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,E=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*E,l.c=p*x+v*b,l.b=m*g+_*E,l.d=m*x+_*b;return}case mt.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case mt.NoRotationOrReflection:{var S=p*p+m*m,C=0;S>1e-4?(S=Math.abs(p*_-v*m)/S,p/=this.skeleton.scaleX,m/=this.skeleton.scaleY,v=m*S,_=p*S,C=Math.atan2(m,p)*K.radDeg):(p=0,m=0,C=90-Math.atan2(_,v)*K.radDeg);var A=n+o-C,I=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(I)*a,E=K.sinDeg(A)*i,b=K.sinDeg(I)*a;l.a=p*g-v*E,l.c=p*x-v*b,l.b=m*g+_*E,l.d=m*x+_*b;break}case mt.NoScale:case mt.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,F=(m*R+_*O)/f,S=Math.sqrt(P*P+F*F);S>1e-5&&(S=1/S),P*=S,F*=S,S=Math.sqrt(P*P+F*F),this.data.transformMode==mt.NoScale&&p*_-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var N=Math.PI/2+Math.atan2(F,P),B=Math.cos(N)*S,U=Math.sin(N)*S,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,E=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=P*g+B*E,l.c=P*x+B*b,l.b=F*g+U*E,l.d=F*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),WF=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=mt.Normal,this.skinRequired=!1,this.color=new De,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),K1=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),zF=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),YF=function(){function t(e){this.name=e}return t}(),CW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0;switch(e.data.transformMode){case mt.OnlyTranslation:p=r-e.worldX,v=n-e.worldY;break;case mt.NoRotationOrReflection:var m=Math.abs(l*h-u*f)/(l*l+f*f),_=l/e.skeleton.scaleX,g=f/e.skeleton.scaleY;u=-g*m*e.skeleton.scaleX,h=_*m*e.skeleton.scaleY,d+=Math.atan2(g,_)*K.radDeg;default:var x=r-c.tx,E=n-c.ty,b=l*h-u*f;p=(x*h-E*u)/b-e.ax,v=(E*l-x*f)/b-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var S=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case mt.NoScale:case mt.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var A=e.data.length*S,I=Math.sqrt(p*p+v*v);if(i&&I<A||a&&I>A&&A>1e-4){var m=(I/A-1)*s+1;S*=m,o&&(C*=m)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,S,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,d=e.ascaleY,p=r.ascaleX,v=e.matrix,m=0,_=0,g=0;f<0?(f=-f,m=180,g=-1):(m=0,g=1),d<0&&(d=-d,g=-g),p<0?(p=-p,_=180):_=0;var x=r.ax,E=0,b=0,S=0,C=v.a,A=v.c,I=v.b,R=v.d,O=Math.abs(f-d)<=1e-4;O?(E=r.ay,b=C*x+A*E+v.tx,S=I*x+R*E+v.ty):(E=0,b=C*x+v.tx,S=I*x+v.ty);var P=e.parent.matrix;C=P.a,A=P.c,I=P.b,R=P.d;var F=1/(C*R-A*I),N=b-P.tx,B=S-P.ty,U=(N*R-B*A)*F-l,H=(B*C-N*I)*F-u,ee=Math.sqrt(U*U+H*H),J=r.data.length*p,G,L;if(ee<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(x,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}N=n-P.tx,B=i-P.ty;var V=(N*R-B*A)*F-l,$=(B*C-N*I)*F-u,j=V*V+$*$;if(s!=0){s*=f*(p+1)/2;var te=Math.sqrt(j),ne=te-ee-J*f+s;if(ne>0){var pe=Math.min(1,ne/(s*2))-1;pe=(ne-s*(1-pe*pe))/te,V-=pe*V,$-=pe*$,j=V*V+$*$}}e:if(O){J*=f;var le=(j-ee*ee-J*J)/(2*ee*J);le<-1?le=-1:le>1&&(le=1,o&&(h*=(Math.sqrt(j)/(ee+J)-1)*c+1)),L=Math.acos(le)*a,C=ee+J*le,A=J*Math.sin(L),G=Math.atan2($*C-V*A,V*C+$*A)}else{C=f*J,A=d*J;var xe=C*C,Te=A*A,ye=Math.atan2($,V);I=Te*ee*ee+xe*j-xe*Te;var we=-2*Te*ee,me=Te-xe;if(R=we*we-4*me*I,R>=0){var Pe=Math.sqrt(R);we<0&&(Pe=-Pe),Pe=-(we+Pe)/2;var je=Pe/me,Le=I/Pe,ze=Math.abs(je)<Math.abs(Le)?je:Le;if(ze*ze<=j){B=Math.sqrt(j-ze*ze)*a,G=ye-Math.atan2(B,ze),L=Math.atan2(B/d,(ze-ee)/f);break e}}var ut=K.PI,wt=ee-C,Ct=wt*wt,it=0,lt=0,_t=ee+C,gr=_t*_t,mr=0;I=-C*ee/(xe-Te),I>=-1&&I<=1&&(I=Math.acos(I),N=C*Math.cos(I)+ee,B=A*Math.sin(I),R=N*N+B*B,R<Ct&&(ut=I,Ct=R,wt=N,it=B),R>gr&&(lt=I,gr=R,_t=N,mr=B)),j<=(Ct+gr)/2?(G=ye-Math.atan2(it*a,wt),L=ut*a):(G=ye-Math.atan2(mr*a,_t),L=lt*a)}var fr=Math.atan2(E,x)*g,ir=e.arotation;G=(G-fr)*K.radDeg+m-ir,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(l,u,ir+G*c,h,e.ascaleY,0,0),ir=r.arotation,L=((L+fr)*K.radDeg-r.ashearX)*g+_-ir,L>180?L-=360:L<-180&&(L+=360),r.updateWorldTransformWith(x,E,ir+L*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),qF=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(K1),KF=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(K1),jn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(jn||(jn={}));var AW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof uv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==jn.Length,l=o.rotateMode,u=l==hn.Tangent,f=l==hn.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=ce.setArraySize(this.spaces,d),m=null,_=this.spacing;if(f||c){f&&(m=ce.setArraySize(this.lengths,h));for(var g=0,x=d-1;g<x;){var E=p[g],b=E.data.length;if(b<t.epsilon)f&&(m[g]=0),v[++g]=0;else{var S=b*E.matrix.a,C=b*E.matrix.b,A=Math.sqrt(S*S+C*C);f&&(m[g]=A),v[++g]=(c?b+_:_)*A/b}}}else for(var g=1;g<d;g++)v[g]=_;var I=this.computeWorldPositions(e,d,u,o.positionMode==zr.Percent,s==jn.Percent),R=I[0],O=I[1],P=o.offsetRotation,F=!1;if(P==0)F=l==hn.Chain;else{F=!1;var N=this.target.bone.matrix;P*=N.a*N.d-N.b*N.c>0?K.degRad:-K.degRad}for(var g=0,N=3;g<h;g++,N+=3){var E=p[g],B=E.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var S=I[N],C=I[N+1],U=S-R,H=C-O;if(f){var ee=m[g];if(ee!=0){var J=(Math.sqrt(U*U+H*H)/ee-1)*r+1;B.a*=J,B.b*=J}}if(R=S,O=C,a){var G=B.a,L=B.c,V=B.b,$=B.d,j=0,te=0,ne=0;if(u?j=I[N-1]:v[g+1]==0?j=I[N+2]:j=Math.atan2(H,U),j-=Math.atan2(V,G),F){te=Math.cos(j),ne=Math.sin(j);var pe=E.data.length;R+=(pe*(te*G-ne*V)-U)*r,O+=(pe*(ne*G+te*V)-H)*r}else j+=P;j>K.PI?j-=K.PI2:j<-K.PI&&(j+=K.PI2),j*=r,te=Math.cos(j),ne=Math.sin(j),B.a=te*G-ne*V,B.c=te*L-ne*$,B.b=ne*G+te*V,B.d=ne*L+te*$}E.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ce.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var m=v[d];if(i&&(s*=m),a)for(var _=0;_<r;_++)c[_]*=m;u=ce.setArraySize(this.world,8);for(var _=0,g=0,x=0;_<r;_++,g+=3){var E=c[_];s+=E;var b=s;if(f)b%=m,b<0&&(b+=m),x=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>m){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-m,u,0,l,g);continue}for(;;x++){var S=v[x];if(!(b>S)){if(x==0)b/=S;else{var C=v[x-1];b=(b-C)/(S-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||_>0&&E==0)}return l}f?(h+=2,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ce.setArraySize(this.curves,d),I=0,R=u[0],O=u[1],P=0,F=0,N=0,B=0,U=0,H=0,ee=0,J=0,G=0,L=0,V=0,$=0,j=0,te=0,_=0,ne=2;_<d;_++,ne+=6)P=u[ne],F=u[ne+1],N=u[ne+2],B=u[ne+3],U=u[ne+4],H=u[ne+5],ee=(R-P*2+N)*.1875,J=(O-F*2+B)*.1875,G=((P-N)*3-R+U)*.09375,L=((F-B)*3-O+H)*.09375,V=ee*2+G,$=J*2+L,j=(P-R)*.75+ee+G*.16666667,te=(F-O)*.75+J+L*.16666667,I+=Math.sqrt(j*j+te*te),j+=V,te+=$,V+=G,$+=L,I+=Math.sqrt(j*j+te*te),j+=V,te+=$,I+=Math.sqrt(j*j+te*te),j+=V+G,te+=$+L,I+=Math.sqrt(j*j+te*te),A[_]=I,R=U,O=H;if(i&&(s*=I),a)for(var _=0;_<r;_++)c[_]*=I;for(var pe=this.segments,le=0,_=0,g=0,x=0,xe=0;_<r;_++,g+=3){var E=c[_];s+=E;var b=s;if(f)b%=I,b<0&&(b+=I),x=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>I){this.addAfterPosition(b-I,u,h-4,l,g);continue}for(;;x++){var Te=A[x];if(!(b>Te)){if(x==0)b/=Te;else{var C=A[x-1];b=(b-C)/(Te-C)}break}}if(x!=p){p=x;var ye=x*6;for(R=u[ye],O=u[ye+1],P=u[ye+2],F=u[ye+3],N=u[ye+4],B=u[ye+5],U=u[ye+6],H=u[ye+7],ee=(R-P*2+N)*.03,J=(O-F*2+B)*.03,G=((P-N)*3-R+U)*.006,L=((F-B)*3-O+H)*.006,V=ee*2+G,$=J*2+L,j=(P-R)*.3+ee+G*.16666667,te=(F-O)*.3+J+L*.16666667,le=Math.sqrt(j*j+te*te),pe[0]=le,ye=1;ye<8;ye++)j+=V,te+=$,V+=G,$+=L,le+=Math.sqrt(j*j+te*te),pe[ye]=le;j+=V,te+=$,le+=Math.sqrt(j*j+te*te),pe[8]=le,j+=V+G,te+=$+L,le+=Math.sqrt(j*j+te*te),pe[9]=le,xe=0}for(b*=le;;xe++){var we=pe[xe];if(!(b>we)){if(xe==0)b/=we;else{var C=pe[xe-1];b=xe+(b-C)/(we-C)}break}}this.addCurvePosition(b*.1,R,O,P,F,N,B,U,H,l,g,n||_>0&&E==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,m=v*v,_=m*v,g=v*e,x=g*3,E=v*x,b=x*e,S=r*_+i*E+o*b+c*p,C=n*_+a*E+s*b+l*p;u[f]=S,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*g*2+s*d),S-(r*m+i*g*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),TW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new lv,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,m=p.length;v<m;v++){var _=p[v],g=!1,x=_.matrix;if(e!=0){var E=x.a,b=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(S,E)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var I=Math.cos(A),R=Math.sin(A);x.a=I*E-R*S,x.c=I*b-R*C,x.b=R*E+I*S,x.d=R*b+I*C,g=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,g=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),F=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(F-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),F=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(F-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,g=!0}if(i>0){var b=x.c,C=x.d,N=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(N-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=N+(A+d)*i;var P=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,g=!0}g&&(_.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,m=p.length;v<m;v++){var _=p[v],g=!1,x=_.matrix;if(e!=0){var E=x.a,b=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var I=Math.cos(A),R=Math.sin(A);x.a=I*E-R*S,x.c=I*b-R*C,x.b=R*E+I*S,x.d=R*b+I*C,g=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,g=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,g=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var b=x.c,C=x.d;A=Math.atan2(C,b)+(A-K.PI/2+d)*i;var P=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,g=!0}g&&(_.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t}(),IW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new NI(n,this,null);else{var a=this.bones[n.parent.index];i=new NI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new UF(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new CW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new TW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new AW(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof uv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof uv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof jF)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof Y1){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var m=0,_=d.length;m<_;m+=2){var g=d[m],x=d[m+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),ZF=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),JF=function(){function t(e,r,n){if(this.color=new De(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),QF=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(K1),LI=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Wy=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof Y1?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new LI(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new LI(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),RW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new ZF;n.name="";var i=new Xy(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new WF(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&De.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),d=n.bones[i.readInt(!0)],f=new JF(c,h,d);De.rgba8888ToColor(f.color,i.readInt32());var p=i.readInt32();p!=-1&&De.rgb888ToColor(f.darkColor=new De,p),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new qF(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new QF(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new KF(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==zr.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==jn.Length||f.spacingMode==jn.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var _=this.readSkin(i,n,!0,o);_!=null&&(n.defaultSkin=_,n.skins.push(_));{var c=n.skins.length;for(ce.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var g=this.linkedMeshes[c],x=g.skin==null?n.defaultSkin:n.findSkin(g.skin);if(x==null)throw new Error("Skin not found: "+g.skin);var E=x.getAttachment(g.slotIndex,g.parent);if(E==null)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?E:g.mesh,g.mesh.setParentMesh(E)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new YF(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Wy("default")}else{a=new Wy(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),d=this.readAttachment(e,r,a,l,h,i);d!=null&&a.setAttachment(l,h,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case Ft.Region:{var f=e.readStringRef(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),m=e.readFloat(),_=e.readFloat(),g=e.readFloat(),x=e.readInt32();f==null&&(f=c);var E=this.attachmentLoader.newRegionAttachment(n,c,f);return E==null?null:(E.path=f,E.x=d*s,E.y=p*s,E.scaleX=v,E.scaleY=m,E.rotation=h,E.width=_*s,E.height=g*s,De.rgba8888ToColor(E.color,x),E)}case Ft.BoundingBox:{var b=e.readInt(!0),S=this.readVertices(e,b),x=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=b<<1,C.vertices=S.vertices,C.bones=S.bones,o&&De.rgba8888ToColor(C.color,x),C)}case Ft.Mesh:{var f=e.readStringRef(),x=e.readInt32(),b=e.readInt(!0),A=this.readFloatArray(e,b<<1,1),I=this.readShortArray(e),S=this.readVertices(e,b),R=e.readInt(!0),O=null,_=0,g=0;o&&(O=this.readShortArray(e),_=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,De.rgba8888ToColor(P.color,x),P.bones=S.bones,P.vertices=S.vertices,P.worldVerticesLength=b<<1,P.triangles=I,P.regionUVs=new Float32Array(A),P.hullLength=R<<1,o&&(P.edges=O,P.width=_*s,P.height=g*s),P)}case Ft.LinkedMesh:{var f=e.readStringRef(),x=e.readInt32(),F=e.readStringRef(),N=e.readStringRef(),B=e.readBoolean(),_=0,g=0;o&&(_=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,De.rgba8888ToColor(P.color,x),o&&(P.width=_*s,P.height=g*s),this.linkedMeshes.push(new aDe(P,F,i,N,B)),P)}case Ft.Path:{for(var U=e.readBoolean(),H=e.readBoolean(),b=e.readInt(!0),S=this.readVertices(e,b),ee=ce.newArray(b/3,0),J=0,G=ee.length;J<G;J++)ee[J]=e.readFloat()*s;var x=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=U,f.constantSpeed=H,f.worldVerticesLength=b<<1,f.vertices=S.vertices,f.bones=S.bones,f.lengths=ee,o&&De.rgba8888ToColor(f.color,x),f)}case Ft.Point:{var h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),x=o?e.readInt32():0,L=this.attachmentLoader.newPointAttachment(n,c);return L==null?null:(L.x=d*s,L.y=p*s,L.rotation=h,o&&De.rgba8888ToColor(L.color,x),L)}case Ft.Clipping:{var V=e.readInt(!0),b=e.readInt(!0),S=this.readVertices(e,b),x=o?e.readInt32():0,$=this.attachmentLoader.newClippingAttachment(n,c);return $==null?null:($.endSlot=r.slots[V],$.worldVerticesLength=b<<1,$.vertices=S.vertices,$.bones=S.bones,o&&De.rgba8888ToColor($.color,x),$)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new oDe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=ce.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new De,c=new De,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.SLOT_ATTACHMENT:{var m=new bc(v);m.slotIndex=f;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readStringRef());i.push(m),o=Math.max(o,m.frames[v-1]);break}case t.SLOT_COLOR:{var m=new cv(v);m.slotIndex=f;for(var _=0;_<v;_++){var g=e.readFloat();De.rgba8888ToColor(s,e.readInt32()),m.setFrame(_,g,s.r,s.g,s.b,s.a),_<v-1&&this.readCurve(e,_,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*cv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var m=new fv(v);m.slotIndex=f;for(var _=0;_<v;_++){var g=e.readFloat();De.rgba8888ToColor(s,e.readInt32()),De.rgb888ToColor(c,e.readInt32()),m.setFrame(_,g,s.r,s.g,s.b,s.a,c.r,c.g,c.b),_<v-1&&this.readCurve(e,_,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*fv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var x=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.BONE_ROTATE:{var m=new Fa(v);m.boneIndex=x;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat()),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Fa.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var m=void 0,E=1;p==t.BONE_SCALE?m=new $F(v):p==t.BONE_SHEAR?m=new GF(v):(m=new Wc(v),E=a),m.boneIndex=x;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat()*E,e.readFloat()*E),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Wc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),m=new hv(v);m.ikConstraintIndex=b;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*hv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),m=new dv(v);m.transformConstraintIndex=b;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*dv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),S=n.pathConstraints[b],h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.PATH_POSITION:case t.PATH_SPACING:{var m=void 0,E=1;p==t.PATH_SPACING?(m=new HF(v),(S.spacingMode==jn.Length||S.spacingMode==jn.Fixed)&&(E=a)):(m=new ad(v),S.positionMode==zr.Fixed&&(E=a)),m.pathConstraintIndex=b;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat()*E),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*ad.ENTRIES]);break}case t.PATH_MIX:{var m=new pv(v);m.pathConstraintIndex=b;for(var _=0;_<v;_++)m.setFrame(_,e.readFloat(),e.readFloat(),e.readFloat()),_<v-1&&this.readCurve(e,_,m);i.push(m),o=Math.max(o,m.frames[(v-1)*pv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,d=e.readInt(!0);h<d;h++)for(var f=e.readInt(!0),A=0,I=e.readInt(!0);A<I;A++){var R=C.getAttachment(f,e.readStringRef()),O=R.bones!=null,P=R.vertices,F=O?P.length/3*2:P.length,v=e.readInt(!0),m=new VF(v);m.slotIndex=f,m.attachment=R;for(var _=0;_<v;_++){var g=e.readFloat(),N=void 0,B=e.readInt(!0);if(B==0)N=O?ce.newFloatArray(F):P;else{N=ce.newFloatArray(F);var U=e.readInt(!0);if(B+=U,a==1)for(var H=U;H<B;H++)N[H]=e.readFloat();else for(var H=U;H<B;H++)N[H]=e.readFloat()*a;if(!O)for(var H=0,ee=N.length;H<ee;H++)N[H]+=P[H]}m.setFrame(_,g,N),_<v-1&&this.readCurve(e,_,m)}i.push(m),o=Math.max(o,m.frames[v-1])}var J=e.readInt(!0);if(J>0){for(var m=new kh(J),G=n.slots.length,l=0;l<J;l++){for(var g=e.readFloat(),L=e.readInt(!0),V=ce.newArray(G,0),h=G-1;h>=0;h--)V[h]=-1;for(var $=ce.newArray(G-L,0),j=0,te=0,h=0;h<L;h++){for(var f=e.readInt(!0);j!=f;)$[te++]=j++;V[j+e.readInt(!0)]=j++}for(;j<G;)$[te++]=j++;for(var h=G-1;h>=0;h--)V[h]==-1&&(V[h]=$[--te]);m.setFrame(l,g,V)}i.push(m),o=Math.max(o,m.frames[J-1])}var ne=e.readInt(!0);if(ne>0){for(var m=new q1(ne),l=0;l<ne;l++){var g=e.readFloat(),pe=n.events[e.readInt(!0)],le=new zF(g,pe);le.intValue=e.readInt(!1),le.floatValue=e.readFloat(),le.stringValue=e.readBoolean()?e.readString():pe.stringValue,le.data.audioPath!=null&&(le.volume=e.readFloat(),le.balance=e.readFloat()),m.setFrame(l,le)}i.push(m),o=Math.max(o,m.frames[ne-1])}return new wn(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[mt.Normal,mt.OnlyTranslation,mt.NoRotationOrReflection,mt.NoScale,mt.NoScaleOrReflection],t.PositionModeValues=[zr.Fixed,zr.Percent],t.SpacingModeValues=[jn.Length,jn.Fixed,jn.Percent],t.RotateModeValues=[hn.Tangent,hn.Chain,hn.ChainScale],t.BlendModeValues=[Xe.NORMAL,Xe.ADD,Xe.MULTIPLY,Xe.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),aDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),oDe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),sDe=function(t){Zr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(BF),PW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new ZF,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new WF(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],d=h.name,p=h.bone,v=n.findBone(p);if(v==null)throw new Error("Slot bone not found: "+p);var f=new JF(n.slots.length,d,v),m=this.getValue(h,"color",null);m!=null&&f.color.setFromString(m);var _=this.getValue(h,"dark",null);_!=null&&(f.darkColor=new De(1,1,1,1),f.darkColor.setFromString(_)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var g=i.ik[s],f=new qF(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],E=n.findBone(p);if(E==null)throw new Error("IK bone not found: "+p);f.bones.push(E)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(g,"mix",1),f.softness=this.getValue(g,"softness",0)*r,f.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,f.compress=this.getValue(g,"compress",!1),f.stretch=this.getValue(g,"stretch",!1),f.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var g=i.transform[s],f=new QF(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],E=n.findBone(p);if(E==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(E)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(g,"local",!1),f.relative=this.getValue(g,"relative",!1),f.offsetRotation=this.getValue(g,"rotation",0),f.offsetX=this.getValue(g,"x",0)*r,f.offsetY=this.getValue(g,"y",0)*r,f.offsetScaleX=this.getValue(g,"scaleX",0),f.offsetScaleY=this.getValue(g,"scaleY",0),f.offsetShearY=this.getValue(g,"shearY",0),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),f.scaleMix=this.getValue(g,"scaleMix",1),f.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var g=i.path[s],f=new KF(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],E=n.findBone(p);if(E==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(E)}var b=g.target;if(f.target=n.findSlot(b),f.target==null)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),f.offsetRotation=this.getValue(g,"rotation",0),f.position=this.getValue(g,"position",0),f.positionMode==zr.Fixed&&(f.position*=r),f.spacing=this.getValue(g,"spacing",0),(f.spacingMode==jn.Length||f.spacingMode==jn.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var S=i.skins[s],C=new Wy(S.name);if(S.bones)for(var A=0;A<S.bones.length;A++){var E=n.findBone(S.bones[A]);if(E==null)throw new Error("Skin bone not found: "+S.bones[s]);C.bones.push(E)}if(S.ik)for(var A=0;A<S.ik.length;A++){var I=n.findIkConstraint(S.ik[A]);if(I==null)throw new Error("Skin IK constraint not found: "+S.ik[s]);C.constraints.push(I)}if(S.transform)for(var A=0;A<S.transform.length;A++){var I=n.findTransformConstraint(S.transform[A]);if(I==null)throw new Error("Skin transform constraint not found: "+S.transform[s]);C.constraints.push(I)}if(S.path)for(var A=0;A<S.path.length;A++){var I=n.findPathConstraint(S.path[A]);if(I==null)throw new Error("Skin path constraint not found: "+S.path[s]);C.constraints.push(I)}for(var d in S.attachments){var R=n.findSlot(d);if(R==null)throw new Error("Slot not found: "+d);var h=S.attachments[d];for(var O in h){var P=this.readAttachment(h[O],C,R.index,O,n);P!=null&&C.setAttachment(R.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,F=this.linkedMeshes.length;s<F;s++){var N=this.linkedMeshes[s],C=N.skin==null?n.defaultSkin:n.findSkin(N.skin);if(C==null)throw new Error("Skin not found: "+N.skin);var B=C.getAttachment(N.slotIndex,N.parent);if(B==null)throw new Error("Parent mesh not found: "+N.parent);N.mesh.deformAttachment=N.inheritDeform?B:N.mesh,N.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var U in i.events){var H=i.events[U],f=new YF(U);f.intValue=this.getValue(H,"int",0),f.floatValue=this.getValue(H,"float",0),f.stringValue=this.getValue(H,"string",""),f.audioPath=this.getValue(H,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(H,"volume",1),f.balance=this.getValue(H,"balance",0)),n.events.push(f)}if(i.animations)for(var ee in i.animations){var J=i.animations[ee];this.readAnimation(J,ee,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var d=this.getValue(e,"parent",null);if(d!=null)return this.linkedMeshes.push(new lDe(h,this.getValue(e,"skin",null),n,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ce.newArray(v/3,0),_=0;_<e.lengths.length;_++)m[_]=e.lengths[_]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var E=this.getValue(e,"end",null);if(E!=null){var b=a.findSlot(E);if(b==null)throw new Error("Clipping end slot not found: "+E);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new bc(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new cv(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new De;m.setFromString(v.color||"ffffffff"),h.setFrame(d,this.getValue(v,"time",0),m.r,m.g,m.b,m.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*cv.ENTRIES])}else if(u=="twoColor"){var h=new fv(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],_=new De,g=new De;_.setFromString(v.light),g.setFromString(v.dark),h.setFrame(d,this.getValue(v,"time",0),_.r,_.g,_.b,_.a,g.r,g.g,g.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*fv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var E=e.bones[x],b=n.findBoneIndex(x);if(b==-1)throw new Error("Bone not found: "+x);for(var u in E){var f=E[u];if(u==="rotate"){var h=new Fa(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Fa.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,S=1,C=0;u==="scale"?(h=new $F(f.length),C=1):u==="shear"?h=new GF(f.length):(h=new Wc(f.length),S=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],A=this.getValue(v,"x",C),I=this.getValue(v,"y",C);h.setFrame(d,this.getValue(v,"time",0),A*S,I*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Wc.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var R in e.ik){var O=e.ik[R],P=n.findIkConstraint(R),h=new hv(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*hv.ENTRIES])}if(e.transform)for(var R in e.transform){var O=e.transform[R],P=n.findTransformConstraint(R),h=new dv(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*dv.ENTRIES])}if(e.path)for(var R in e.path){var O=e.path[R],F=n.findPathConstraintIndex(R);if(F==-1)throw new Error("Path constraint not found: "+R);var N=n.pathConstraints[F];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,S=1;u==="spacing"?(h=new HF(f.length),(N.spacingMode==jn.Length||N.spacingMode==jn.Fixed)&&(S=i)):(h=new ad(f.length),N.positionMode==zr.Fixed&&(S=i)),h.pathConstraintIndex=F;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,u,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ad.ENTRIES])}else if(u==="mix"){var h=new pv(f.length);h.pathConstraintIndex=F;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*pv.ENTRIES])}}}if(e.deform)for(var B in e.deform){var U=e.deform[B],H=n.findSkin(B);if(H!=null)for(var s in U){var c=U[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],ee=H.getAttachment(l,u);if(ee==null)throw new Error("Deform attachment not found: "+f.name);var J=ee.bones!=null,G=ee.vertices,L=J?G.length/3*2:G.length,h=new VF(f.length);h.slotIndex=l,h.attachment=ee;for(var d=0,V=0;V<f.length;V++){var v=f[V],$=void 0,j=this.getValue(v,"vertices",null);if(j==null)$=J?ce.newFloatArray(L):G;else{$=ce.newFloatArray(L);var te=this.getValue(v,"offset",0);if(ce.arrayCopy(j,0,$,te,j.length),i!=1)for(var p=te,ne=p+j.length;p<ne;p++)$[p]*=i;if(!J)for(var p=0;p<L;p++)$[p]+=G[p]}h.setFrame(d,this.getValue(v,"time",0),$),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var pe=e.drawOrder;if(pe==null&&(pe=e.draworder),pe!=null){for(var h=new kh(pe.length),le=n.slots.length,d=0,V=0;V<pe.length;V++){var xe=pe[V],Te=null,ye=this.getValue(xe,"offsets",null);if(ye!=null){Te=ce.newArray(le,-1);for(var we=ce.newArray(le-ye.length,0),me=0,Pe=0,p=0;p<ye.length;p++){var je=ye[p],l=n.findSlotIndex(je.slot);if(l==-1)throw new Error("Slot not found: "+je.slot);for(;me!=l;)we[Pe++]=me++;Te[me+je.offset]=me++}for(;me<le;)we[Pe++]=me++;for(var p=le-1;p>=0;p--)Te[p]==-1&&(Te[p]=we[--Pe])}h.setFrame(d++,this.getValue(xe,"time",0),Te)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new q1(e.events.length),d=0,p=0;p<e.events.length;p++){var Le=e.events[p],ze=n.findEvent(Le.name);if(ze==null)throw new Error("Event not found: "+Le.name);var ut=new zF(ce.toSinglePrecision(this.getValue(Le,"time",0)),ze);ut.intValue=this.getValue(Le,"int",ze.intValue),ut.floatValue=this.getValue(Le,"float",ze.floatValue),ut.stringValue=this.getValue(Le,"string",ze.stringValue),ut.data.audioPath!=null&&(ut.volume=this.getValue(Le,"volume",1),ut.balance=this.getValue(Le,"balance",0)),h.setFrame(d++,ut)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new wn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Xe.NORMAL;if(e=="additive")return Xe.ADD;if(e=="multiply")return Xe.MULTIPLY;if(e=="screen")return Xe.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return zr.Fixed;if(e=="percent")return zr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return jn.Length;if(e=="fixed")return jn.Fixed;if(e=="percent")return jn.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return hn.Tangent;if(e=="chain")return hn.Chain;if(e=="chainscale")return hn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return mt.Normal;if(e=="onlytranslation")return mt.OnlyTranslation;if(e=="norotationorreflection")return mt.NoRotationOrReflection;if(e=="noscale")return mt.NoScale;if(e=="noscaleorreflection")return mt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),lDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),uDe=function(t){Zr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new IW(r),this.skeleton.updateWorldTransform(),this.stateData=new SW(r),this.state=new bW(this.stateData)},e}(Yv);const cDe=Object.freeze(Object.defineProperty({__proto__:null,Animation:wn,AnimationState:bW,AnimationStateAdapter:iDe,AnimationStateData:SW,AtlasAttachmentLoader:XF,Attachment:DF,AttachmentTimeline:bc,Bone:NI,BoneData:WF,BoundingBoxAttachment:_W,ClippingAttachment:yW,ColorTimeline:cv,ConstraintData:K1,CurveTimeline:Ss,DeformTimeline:VF,DrawOrderTimeline:kh,Event:zF,EventData:YF,EventQueue:wW,EventTimeline:q1,get EventType(){return Ki},IkConstraint:CW,IkConstraintData:qF,IkConstraintTimeline:hv,JitterEffect:rDe,MeshAttachment:Y1,PathAttachment:uv,PathConstraint:AW,PathConstraintData:KF,PathConstraintMixTimeline:pv,PathConstraintPositionTimeline:ad,PathConstraintSpacingTimeline:HF,PointAttachment:xW,RegionAttachment:jF,RotateTimeline:Fa,ScaleTimeline:$F,ShearTimeline:GF,Skeleton:IW,SkeletonBinary:RW,SkeletonBounds:sDe,SkeletonData:ZF,SkeletonJson:PW,Skin:Wy,SkinEntry:LI,Slot:UF,SlotData:JF,get SpacingMode(){return jn},Spine:uDe,SwirlEffect:nDe,get TimelineType(){return ai},TrackEntry:EW,TransformConstraint:TW,TransformConstraintData:QF,TransformConstraintTimeline:dv,TranslateTimeline:Wc,TwoColorTimeline:fv,VertexAttachment:of},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MI=function(t,e){return MI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MI(t,e)};function Cn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");MI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ek=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),sf=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,m=h.c,_=h.b,g=h.d,x=n,E=o;E<i;x+=2,E+=s){var b=u[x],S=u[x+1];a[E]=b*v+S*m+d,a[E+1]=b*_+S*g+p}return}for(var C=0,A=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var E=o,m=A*3;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],S=u[m+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}else for(var B=l,E=o,m=A*3,U=A<<1;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],S=u[m+1]+B[U+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(ek),OW=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.BoundingBox,n.color=new De(1,1,1,1),n}return e}(sf),FW=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Clipping,n.color=new De(.2275,.2275,.8078,1),n}return e}(sf),tk=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Mesh,n.color=new De(1,1,1,1),n.inheritDeform=!1,n.tempColor=new De(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(sf),vv=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Path,n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e}(sf),kW=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Point,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e}(sf),rk=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor==null?null:new De,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),nk=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new De(1,1,1,1),n.offset=ce.newFloatArray(8),n.uvs=ce.newFloatArray(8),n.tempColor=new De(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,m=o*u,_=s*l+this.y,g=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-g,x[e.OY2]=_+h,x[e.OX3]=v-g,x[e.OY3]=_+m,x[e.OX4]=v-p,x[e.OY4]=d+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof rk?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(ek),fDe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),hDe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new mW(2),t}(),Xn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),oi;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(oi||(oi={}));var Cs=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ce.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var m=h,_=d,g=p+t.BEZIER_SIZE-1;p<g;p+=2)v[p]=m,v[p+1]=_,h+=u,d+=f,u+=c,f+=l,m+=h,_+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Io=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(oi.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.rotation=u.data.rotation;return;case z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case z.setup:u.rotation=u.data.rotation+h*o;break;case z.first:case z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case z.add:u.rotation+=h*o}return}var d=Xn.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],m=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),_=l[d+e.ROTATION]-p;switch(_=p+(_-(16384-(16384.499999999996-_/360|0))*360)*m,s){case z.setup:u.rotation=u.data.rotation+(_-(16384-(16384.499999999996-_/360|0))*360)*o;break;case z.first:case z.replace:_+=u.data.rotation-u.rotation;case z.add:u.rotation+=(_-(16384-(16384.499999999996-_/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Cs),gv=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.x=u.data.x,u.y=u.data.y;return;case z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case z.first:case z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case z.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Cs),NW=function(t){Cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,_=0;if(c==At.mixOut)switch(s){case z.setup:m=u.data.scaleX,_=u.data.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.first:case z.replace:m=u.scaleX,_=u.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.add:m=u.scaleX,_=u.scaleY,u.scaleX=m+(Math.abs(f)*K.signum(m)-u.data.scaleX)*o,u.scaleY=_+(Math.abs(h)*K.signum(_)-u.data.scaleY)*o}else switch(s){case z.setup:m=Math.abs(u.data.scaleX)*K.signum(f),_=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=_+(h-_)*o;break;case z.first:case z.replace:m=Math.abs(u.scaleX)*K.signum(f),_=Math.abs(u.scaleY)*K.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=_+(h-_)*o;break;case z.add:m=K.signum(f),_=K.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*_+(h-Math.abs(u.data.scaleY)*_)*o}}},e}(gv),LW=function(t){Cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case z.first:case z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case z.add:u.shearX+=f*o,u.shearY+=h*o}},e}(gv),BI=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color);return;case z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var _=u.length;d=u[_+e.PREV_R],p=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A]}else{var g=Xn.binarySearch(u,i,e.ENTRIES);d=u[g+e.PREV_R],p=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A];var x=u[g],E=this.getCurvePercent(g/e.ENTRIES-1,1-(i-x)/(u[g+e.PREV_TIME]-x));d+=(u[g+e.R]-d)*E,p+=(u[g+e.G]-p)*E,v+=(u[g+e.B]-v)*E,m+=(u[g+e.A]-m)*E}if(o==1)l.color.set(d,p,v,m);else{var f=l.color;s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(m-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Cs),DI=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case z.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,m=0,_=0,g=0,x=0,E=0,b=0;if(i>=u[u.length-e.ENTRIES]){var S=u.length;v=u[S+e.PREV_R],m=u[S+e.PREV_G],_=u[S+e.PREV_B],g=u[S+e.PREV_A],x=u[S+e.PREV_R2],E=u[S+e.PREV_G2],b=u[S+e.PREV_B2]}else{var C=Xn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],_=u[C+e.PREV_B],g=u[C+e.PREV_A],x=u[C+e.PREV_R2],E=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],I=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*I,m+=(u[C+e.G]-m)*I,_+=(u[C+e.B]-_)*I,g+=(u[C+e.A]-g)*I,x+=(u[C+e.R2]-x)*I,E+=(u[C+e.G2]-E)*I,b+=(u[C+e.B2]-b)*I}if(o==1)l.color.set(v,m,_,g),l.darkColor.set(x,E,b,1);else{var f=l.color,h=l.darkColor;s==z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(_-f.b)*o,(g-f.a)*o),h.add((x-h.r)*o,(E-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Cs),zy=function(){function t(e){this.frames=ce.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(oi.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==At.mixOut&&o==z.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==z.setup||o==z.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=Xn.binarySearch(u,n,1)-1;var d=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))},t}(),c5=null,MW=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r),n.frameVertices=new Array(r),c5==null&&(c5=ce.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(oi.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof sf)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=z.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;break}var m=ce.setArraySize(f,d);if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++)m[g]+=(_[g]-m[g])*o;else{o=1-o;for(var g=0;g<d;g++)m[g]*=o}}return}var x=ce.setArraySize(f,d);if(i>=p[p.length-1]){var E=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++)x[g]+=E[g]-_[g];else for(var g=0;g<d;g++)x[g]+=E[g]}else ce.arrayCopy(E,0,x,0,d);else switch(s){case z.setup:{var b=u;if(b.bones==null)for(var _=b.vertices,g=0;g<d;g++){var S=_[g];x[g]=S+(E[g]-S)*o}else for(var g=0;g<d;g++)x[g]=E[g]*o;break}case z.first:case z.replace:for(var g=0;g<d;g++)x[g]+=(E[g]-x[g])*o;case z.add:var v=u;if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++)x[g]+=(E[g]-_[g])*o;else for(var g=0;g<d;g++)x[g]+=E[g]*o}return}var C=Xn.binarySearch(p,i),A=h[C-1],I=h[C],R=p[C],O=this.getCurvePercent(C-1,1-(i-R)/(p[C-1]-R));if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++){var P=A[g];x[g]+=P+(I[g]-P)*O-_[g]}else for(var g=0;g<d;g++){var P=A[g];x[g]+=P+(I[g]-P)*O}}else for(var g=0;g<d;g++){var P=A[g];x[g]=P+(I[g]-P)*O}else switch(s){case z.setup:{var F=u;if(F.bones==null)for(var _=F.vertices,g=0;g<d;g++){var P=A[g],S=_[g];x[g]=S+(P+(I[g]-P)*O-S)*o}else for(var g=0;g<d;g++){var P=A[g];x[g]=(P+(I[g]-P)*O)*o}break}case z.first:case z.replace:for(var g=0;g<d;g++){var P=A[g];x[g]+=(P+(I[g]-P)*O-x[g])*o}break;case z.add:var v=u;if(v.bones==null)for(var _=v.vertices,g=0;g<d;g++){var P=A[g];x[g]+=(P+(I[g]-P)*O-_[g])*o}else for(var g=0;g<d;g++){var P=A[g];x[g]+=(P+(I[g]-P)*O)*o}}}},e}(Cs),BW=function(){function t(e){this.frames=ce.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return oi.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=Xn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Yy=function(){function t(e){this.frames=ce.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return oi.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==At.mixOut&&o==z.setup){ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==z.setup||o==z.first)&&ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=Xn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ce.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),UI=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case z.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==At.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=Xn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*p-u.data.mix)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*p-u.mix)*o,c==At.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Cs),jI=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var _=Xn.binarySearch(l,i,e.ENTRIES);h=l[_+e.PREV_ROTATE],d=l[_+e.PREV_TRANSLATE],p=l[_+e.PREV_SCALE],v=l[_+e.PREV_SHEAR];var g=l[_],x=this.getCurvePercent(_/e.ENTRIES-1,1-(i-g)/(l[_+e.PREV_TIME]-g));h+=(l[_+e.ROTATE]-h)*x,d+=(l[_+e.TRANSLATE]-d)*x,p+=(l[_+e.SCALE]-p)*x,v+=(l[_+e.SHEAR]-v)*x}if(s==z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Cs),qy=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.position=u.data.position;return;case z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Xn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Cs),DW=function(t){Cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.spacing=u.data.spacing;return;case z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Xn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(qy),$I=function(t){Cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Cs),UW=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new $W(this),this.propertyIDs=new vW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new z1(function(){return new jW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==z.add)for(var p=0;p<h;p++)ce.webkit602BugfixHelper(l,c),d[p].apply(e,u,f,r,l,c,At.mixIn);else{var v=s.timelineMode,m=s.timelinesRotation.length==0;m&&ce.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,p=0;p<h;p++){var g=d[p],x=v[p]==t.SUBSEQUENT?c:z.setup;g instanceof Io?this.applyRotateTimeline(g,e,f,l,x,_,p<<1,m):(ce.webkit602BugfixHelper(l,c),g.apply(e,u,f,r,l,x,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,At.mixOut);else{var m=i.timelineMode,_=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&ce.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var E=h[v],b=At.mixOut,S=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!s&&E instanceof zy||!c&&E instanceof Yy)continue;S=n,C=p;break;case t.FIRST:S=z.setup,C=p;break;case t.HOLD:S=z.setup,C=d;break;default:S=z.setup;var A=_[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,E instanceof Io?this.applyRotateTimeline(E,r,u,C,S,x,v<<1,g):(ce.webkit602BugfixHelper(C,n),S==z.setup&&(E instanceof zy?s&&(b=At.mixOut):E instanceof Yy&&c&&(b=At.mixOut)),E.apply(r,l,u,o,C,S,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,d=0;if(n<u[0])switch(a){case z.setup:f.rotation=f.data.rotation;default:return;case z.first:h=f.rotation,d=f.data.rotation}else if(h=a==z.setup?f.data.rotation:f.rotation,n>=u[u.length-Io.ENTRIES])d=f.data.rotation+u[u.length+Io.PREV_ROTATION];else{var p=Xn.binarySearch(u,n,Io.ENTRIES),v=u[p+Io.PREV_ROTATION],m=u[p],_=l.getCurvePercent((p>>1)-1,1-(n-m)/(u[p+Io.PREV_TIME]-m));d=u[p+Io.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*_+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var g=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)g=o[s];else{var E=0,b=0;c?(E=0,b=x):(E=o[s],b=o[s+1]);var S=x>0,C=E>=0;K.signum(b)!=K.signum(x)&&Math.abs(b)<=90&&(Math.abs(E)>180&&(E+=360*K.signum(E)),C=S),g=x+E-E%360,C!=S&&(g+=360*K.signum(E)),o[s]=g}o[s+1]=x,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=z.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ce.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ce.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Xn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),jW=function(){function t(){this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),$W=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Zi.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Zi.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Zi.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Zi.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Zi.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Zi.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Zi.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Zi.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Zi.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Zi.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Zi.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Zi.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Zi;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Zi||(Zi={}));var dDe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),GW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),VW=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new nk(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new tk(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new OW(r)},t.prototype.newPathAttachment=function(e,r){return new vv(r)},t.prototype.newPointAttachment=function(e,r){return new kW(r)},t.prototype.newClippingAttachment=function(e,r){return new FW(r)},t}(),GI=function(){function t(e,r,n){if(this.matrix=new Dr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,m=c.matrix.b,_=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=m*e+_*r+c.matrix.ty,this.data.transformMode){case mt.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,E=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*E,l.c=p*x+v*b,l.b=m*g+_*E,l.d=m*x+_*b;return}case mt.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case mt.NoRotationOrReflection:{var S=p*p+m*m,C=0;S>1e-4?(S=Math.abs(p*_-v*m)/S,v=m*S,_=p*S,C=Math.atan2(m,p)*K.radDeg):(p=0,m=0,C=90-Math.atan2(_,v)*K.radDeg);var A=n+o-C,I=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(I)*a,E=K.sinDeg(A)*i,b=K.sinDeg(I)*a;l.a=p*g-v*E,l.c=p*x-v*b,l.b=m*g+_*E,l.d=m*x+_*b;break}case mt.NoScale:case mt.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,F=(m*R+_*O)/f,S=Math.sqrt(P*P+F*F);S>1e-5&&(S=1/S),P*=S,F*=S,S=Math.sqrt(P*P+F*F),this.data.transformMode==mt.NoScale&&p*_-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var N=Math.PI/2+Math.atan2(F,P),B=Math.cos(N)*S,U=Math.sin(N)*S,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,E=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=P*g+B*E,l.c=P*x+B*b,l.b=F*g+U*E,l.d=F*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),HW=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=mt.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),XW=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),WW=function(){function t(e){this.name=e}return t}(),zW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,d=(f*c.a-u*c.b)*l-e.ay,p=Math.atan2(d,h)*K.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var v=e.ascaleX,m=e.ascaleY;if(i||a){var _=e.data.length*v,g=Math.sqrt(h*h+d*d);if(i&&g<_||a&&g>_&&_>1e-4){var x=(g/_-1)*s+1;v*=x,o&&(m*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,v,m,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,d=r.ascaleX,p=e.matrix,v=0,m=0,_=0;u<0?(u=-u,v=180,_=-1):(v=0,_=1),h<0&&(h=-h,_=-_),d<0?(d=-d,m=180):m=0;var g=r.ax,x=0,E=0,b=0,S=p.a,C=p.c,A=p.b,I=p.d,R=Math.abs(u-h)<=1e-4;R?(x=r.ay,E=S*g+C*x+p.tx,b=A*g+I*x+p.ty):(x=0,E=S*g+p.tx,b=A*g+p.ty);var O=e.parent.matrix;S=O.a,C=O.c,A=O.b,I=O.d;var P=1/(S*I-C*A),F=n-O.tx,N=i-O.ty,B=(F*I-N*C)*P-c,U=(N*S-F*A)*P-l,H=B*B+U*U;F=E-O.tx,N=b-O.ty;var ee=(F*I-N*C)*P-c,J=(N*S-F*A)*P-l,G=Math.sqrt(ee*ee+J*J),L=r.data.length*d,V=0,$=0;e:if(R){L*=u;var j=(H-G*G-L*L)/(2*G*L);j<-1?j=-1:j>1&&(j=1,o&&G+L>1e-4&&(f*=(Math.sqrt(H)/(G+L)-1)*s+1)),$=Math.acos(j)*a,S=G+L*j,C=L*Math.sin($),V=Math.atan2(U*S-B*C,B*S+U*C)}else{S=u*L,C=h*L;var te=S*S,ne=C*C,pe=Math.atan2(U,B);A=ne*G*G+te*H-te*ne;var le=-2*ne*G,xe=ne-te;if(I=le*le-4*xe*A,I>=0){var Te=Math.sqrt(I);le<0&&(Te=-Te),Te=-(le+Te)/2;var ye=Te/xe,we=A/Te,me=Math.abs(ye)<Math.abs(we)?ye:we;if(me*me<=H){N=Math.sqrt(H-me*me)*a,V=pe-Math.atan2(N,me),$=Math.atan2(N/h,(me-G)/u);break e}}var Pe=K.PI,je=G-S,Le=je*je,ze=0,ut=0,wt=G+S,Ct=wt*wt,it=0;A=-S*G/(te-ne),A>=-1&&A<=1&&(A=Math.acos(A),F=S*Math.cos(A)+G,N=C*Math.sin(A),I=F*F+N*N,I<Le&&(Pe=A,Le=I,je=F,ze=N),I>Ct&&(ut=A,Ct=I,wt=F,it=N)),H<=(Le+Ct)/2?(V=pe-Math.atan2(ze*a,je),$=Pe*a):(V=pe-Math.atan2(it*a,wt),$=ut*a)}var lt=Math.atan2(x,g)*_,_t=e.arotation;V=(V-lt)*K.radDeg+v-_t,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(c,l,_t+V*s,f,e.ascaleY,0,0),_t=r.arotation,$=(($+lt)*K.radDeg-r.ashearX)*_+m-_t,$>180?$-=360:$<-180&&($+=360),r.updateWorldTransformWith(g,x,_t+$*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),YW=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),qW=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),ro;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(ro||(ro={}));var KW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof vv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==ro.Length,l=o.rotateMode,u=l==hn.Tangent,f=l==hn.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=ce.setArraySize(this.spaces,d),m=null,_=this.spacing;if(f||c){f&&(m=ce.setArraySize(this.lengths,h));for(var g=0,x=d-1;g<x;){var E=p[g],b=E.data.length;if(b<t.epsilon)f&&(m[g]=0),v[++g]=0;else{var S=b*E.matrix.a,C=b*E.matrix.b,A=Math.sqrt(S*S+C*C);f&&(m[g]=A),v[++g]=(c?b+_:_)*A/b}}}else for(var g=1;g<d;g++)v[g]=_;var I=this.computeWorldPositions(e,d,u,o.positionMode==zr.Percent,s==ro.Percent),R=I[0],O=I[1],P=o.offsetRotation,F=!1;if(P==0)F=l==hn.Chain;else{F=!1;var N=this.target.bone.matrix;P*=N.a*N.d-N.b*N.c>0?K.degRad:-K.degRad}for(var g=0,N=3;g<h;g++,N+=3){var E=p[g],B=E.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var S=I[N],C=I[N+1],U=S-R,H=C-O;if(f){var ee=m[g];if(ee!=0){var J=(Math.sqrt(U*U+H*H)/ee-1)*r+1;B.a*=J,B.b*=J}}if(R=S,O=C,a){var G=B.a,L=B.c,V=B.b,$=B.d,j=0,te=0,ne=0;if(u?j=I[N-1]:v[g+1]==0?j=I[N+2]:j=Math.atan2(H,U),j-=Math.atan2(V,G),F){te=Math.cos(j),ne=Math.sin(j);var pe=E.data.length;R+=(pe*(te*G-ne*V)-U)*r,O+=(pe*(ne*G+te*V)-H)*r}else j+=P;j>K.PI?j-=K.PI2:j<-K.PI&&(j+=K.PI2),j*=r,te=Math.cos(j),ne=Math.sin(j),B.a=te*G-ne*V,B.c=te*L-ne*$,B.b=ne*G+te*V,B.d=ne*L+te*$}E.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ce.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var m=v[d];if(i&&(s*=m),a)for(var _=0;_<r;_++)c[_]*=m;u=ce.setArraySize(this.world,8);for(var _=0,g=0,x=0;_<r;_++,g+=3){var E=c[_];s+=E;var b=s;if(f)b%=m,b<0&&(b+=m),x=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>m){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-m,u,0,l,g);continue}for(;;x++){var S=v[x];if(!(b>S)){if(x==0)b/=S;else{var C=v[x-1];b=(b-C)/(S-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||_>0&&E==0)}return l}f?(h+=2,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ce.setArraySize(this.curves,d),I=0,R=u[0],O=u[1],P=0,F=0,N=0,B=0,U=0,H=0,ee=0,J=0,G=0,L=0,V=0,$=0,j=0,te=0,_=0,ne=2;_<d;_++,ne+=6)P=u[ne],F=u[ne+1],N=u[ne+2],B=u[ne+3],U=u[ne+4],H=u[ne+5],ee=(R-P*2+N)*.1875,J=(O-F*2+B)*.1875,G=((P-N)*3-R+U)*.09375,L=((F-B)*3-O+H)*.09375,V=ee*2+G,$=J*2+L,j=(P-R)*.75+ee+G*.16666667,te=(F-O)*.75+J+L*.16666667,I+=Math.sqrt(j*j+te*te),j+=V,te+=$,V+=G,$+=L,I+=Math.sqrt(j*j+te*te),j+=V,te+=$,I+=Math.sqrt(j*j+te*te),j+=V+G,te+=$+L,I+=Math.sqrt(j*j+te*te),A[_]=I,R=U,O=H;if(i&&(s*=I),a)for(var _=0;_<r;_++)c[_]*=I;for(var pe=this.segments,le=0,_=0,g=0,x=0,xe=0;_<r;_++,g+=3){var E=c[_];s+=E;var b=s;if(f)b%=I,b<0&&(b+=I),x=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>I){this.addAfterPosition(b-I,u,h-4,l,g);continue}for(;;x++){var Te=A[x];if(!(b>Te)){if(x==0)b/=Te;else{var C=A[x-1];b=(b-C)/(Te-C)}break}}if(x!=p){p=x;var ye=x*6;for(R=u[ye],O=u[ye+1],P=u[ye+2],F=u[ye+3],N=u[ye+4],B=u[ye+5],U=u[ye+6],H=u[ye+7],ee=(R-P*2+N)*.03,J=(O-F*2+B)*.03,G=((P-N)*3-R+U)*.006,L=((F-B)*3-O+H)*.006,V=ee*2+G,$=J*2+L,j=(P-R)*.3+ee+G*.16666667,te=(F-O)*.3+J+L*.16666667,le=Math.sqrt(j*j+te*te),pe[0]=le,ye=1;ye<8;ye++)j+=V,te+=$,V+=G,$+=L,le+=Math.sqrt(j*j+te*te),pe[ye]=le;j+=V,te+=$,le+=Math.sqrt(j*j+te*te),pe[8]=le,j+=V+G,te+=$+L,le+=Math.sqrt(j*j+te*te),pe[9]=le,xe=0}for(b*=le;;xe++){var we=pe[xe];if(!(b>we)){if(xe==0)b/=we;else{var C=pe[xe-1];b=xe+(b-C)/(we-C)}break}}this.addCurvePosition(b*.1,R,O,P,F,N,B,U,H,l,g,n||_>0&&E==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,m=v*v,_=m*v,g=v*e,x=g*3,E=v*x,b=x*e,S=r*_+i*E+o*b+c*p,C=n*_+a*E+s*b+l*p;u[f]=S,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*g*2+s*d),S-(r*m+i*g*2+o*d)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),ZW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new lv,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,m=p.length;v<m;v++){var _=p[v],g=!1,x=_.matrix;if(e!=0){var E=x.a,b=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(S,E)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var I=Math.cos(A),R=Math.sin(A);x.a=I*E-R*S,x.c=I*b-R*C,x.b=R*E+I*S,x.d=R*b+I*C,g=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,g=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),F=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(F-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),F=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(F-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,g=!0}if(i>0){var b=x.c,C=x.d,N=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(N-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=N+(A+d)*i;var P=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,g=!0}g&&(_.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,m=p.length;v<m;v++){var _=p[v],g=!1,x=_.matrix;if(e!=0){var E=x.a,b=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var I=Math.cos(A),R=Math.sin(A);x.a=I*E-R*S,x.c=I*b-R*C,x.b=R*E+I*S,x.d=R*b+I*C,g=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,g=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,g=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var b=x.c,C=x.d;A=Math.atan2(C,b)+(A-K.PI/2+d)*i;var P=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,g=!0}g&&(_.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),JW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new GI(n,this,null);else{var a=this.bones[n.parent.index];i=new GI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new rk(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new zW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new ZW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new KW(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var d=a[h];if(d.data.order==n){this.sortIkConstraint(d);continue e}}for(var h=0;h<l;h++){var d=o[h];if(d.data.order==n){this.sortTransformConstraint(d);continue e}}for(var h=0;h<u;h++){var d=s[h];if(d.data.order==n){this.sortPathConstraint(d);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof vv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof vv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,d=null,p=f.getAttachment();if(p instanceof nk)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof tk){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var m=0,_=d.length;m<_;m+=2){var g=d[m],x=d[m+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),pDe=function(t){Cn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(BF),QW=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),ez=function(){function t(e,r,n){if(this.color=new De(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),tz=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),rz=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),nz=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new QW,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new HW(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,d=f.bone,p=n.findBone(d);if(p==null)throw new Error("Slot bone not found: "+d);var u=new ez(n.slots.length,h,p),v=this.getValue(f,"color",null);v!=null&&u.color.setFromString(v);var m=this.getValue(f,"dark",null);m!=null&&(u.darkColor=new De(1,1,1,1),u.darkColor.setFromString(m)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var _=i.ik[o],u=new YW(_.name);u.order=this.getValue(_,"order",0);for(var g=0;g<_.bones.length;g++){var d=_.bones[g],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);u.bones.push(x)}var E=_.target;if(u.target=n.findBone(E),u.target==null)throw new Error("IK target bone not found: "+E);u.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,u.mix=this.getValue(_,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var _=i.transform[o],u=new tz(_.name);u.order=this.getValue(_,"order",0);for(var g=0;g<_.bones.length;g++){var d=_.bones[g],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var E=_.target;if(u.target=n.findBone(E),u.target==null)throw new Error("Transform constraint target bone not found: "+E);u.local=this.getValue(_,"local",!1),u.relative=this.getValue(_,"relative",!1),u.offsetRotation=this.getValue(_,"rotation",0),u.offsetX=this.getValue(_,"x",0)*r,u.offsetY=this.getValue(_,"y",0)*r,u.offsetScaleX=this.getValue(_,"scaleX",0),u.offsetScaleY=this.getValue(_,"scaleY",0),u.offsetShearY=this.getValue(_,"shearY",0),u.rotateMix=this.getValue(_,"rotateMix",1),u.translateMix=this.getValue(_,"translateMix",1),u.scaleMix=this.getValue(_,"scaleMix",1),u.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var _=i.path[o],u=new qW(_.name);u.order=this.getValue(_,"order",0);for(var g=0;g<_.bones.length;g++){var d=_.bones[g],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var E=_.target;if(u.target=n.findSlot(E),u.target==null)throw new Error("Path target slot not found: "+E);u.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),u.offsetRotation=this.getValue(_,"rotation",0),u.position=this.getValue(_,"position",0),u.positionMode==zr.Fixed&&(u.position*=r),u.spacing=this.getValue(_,"spacing",0),(u.spacingMode==ro.Length||u.spacingMode==ro.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(_,"rotateMix",1),u.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var S=i.skins[b],C=new rz(b);for(var h in S){var A=n.findSlotIndex(h);if(A==-1)throw new Error("Slot not found: "+h);var f=S[h];for(var I in f){var R=this.readAttachment(f[I],C,A,I,n);R!=null&&C.addAttachment(A,I,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var F=C.getAttachment(P.slotIndex,P.parent);if(F==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(F)}if(this.linkedMeshes.length=0,i.events)for(var N in i.events){var B=i.events[N],u=new WW(N);u.intValue=this.getValue(B,"int",0),u.floatValue=this.getValue(B,"float",0),u.stringValue=this.getValue(B,"string",""),u.audioPath=this.getValue(B,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(B,"volume",1),u.balance=this.getValue(B,"balance",0)),n.events.push(u)}if(i.animations)for(var U in i.animations){var H=i.animations[U];this.readAnimation(H,U,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var d=this.getValue(e,"parent",null);if(d!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new vDe(h,this.getValue(e,"skin",null),n,d)),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ce.newArray(v/3,0),_=0;_<e.lengths.length;_++)m[_]=e.lengths[_]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var E=this.getValue(e,"end",null);if(E!=null){var b=a.findSlot(E);if(b==null)throw new Error("Clipping end slot not found: "+E);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new zy(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new BI(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new De;m.setFromString(v.color||"ffffffff"),h.setFrame(d,v.time,m.r,m.g,m.b,m.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*BI.ENTRIES])}else if(u=="twoColor"){var h=new DI(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],_=new De,g=new De;_.setFromString(v.light),g.setFromString(v.dark),h.setFrame(d,v.time,_.r,_.g,_.b,_.a,g.r,g.g,g.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*DI.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var E=e.bones[x],b=n.findBoneIndex(x);if(b==-1)throw new Error("Bone not found: "+x);for(var u in E){var f=E[u];if(u==="rotate"){var h=new Io(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,v.angle),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Io.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,S=1;u==="scale"?h=new NW(f.length):u==="shear"?h=new LW(f.length):(h=new gv(f.length),S=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],C=this.getValue(v,"x",0),A=this.getValue(v,"y",0);h.setFrame(d,v.time,C*S,A*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*gv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var I in e.ik){var R=e.ik[I],O=n.findIkConstraint(I),h=new UI(R.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var d=0,p=0;p<R.length;p++){var v=R[p];h.setFrame(d,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*UI.ENTRIES])}if(e.transform)for(var I in e.transform){var R=e.transform[I],O=n.findTransformConstraint(I),h=new jI(R.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var d=0,p=0;p<R.length;p++){var v=R[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jI.ENTRIES])}if(e.paths)for(var I in e.paths){var R=e.paths[I],P=n.findPathConstraintIndex(I);if(P==-1)throw new Error("Path constraint not found: "+I);var F=n.pathConstraints[P];for(var u in R){var f=R[u];if(u==="position"||u==="spacing"){var h=null,S=1;u==="spacing"?(h=new DW(f.length),(F.spacingMode==ro.Length||F.spacingMode==ro.Fixed)&&(S=i)):(h=new qy(f.length),F.positionMode==zr.Fixed&&(S=i)),h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,u,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qy.ENTRIES])}else if(u==="mix"){var h=new $I(f.length);h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$I.ENTRIES])}}}if(e.deform)for(var N in e.deform){var B=e.deform[N],U=n.findSkin(N);if(U!=null)for(var s in B){var c=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],H=U.getAttachment(l,u);if(H==null)throw new Error("Deform attachment not found: "+f.name);var ee=H.bones!=null,J=H.vertices,G=ee?J.length/3*2:J.length,h=new MW(f.length);h.slotIndex=l,h.attachment=H;for(var d=0,L=0;L<f.length;L++){var v=f[L],V=void 0,$=this.getValue(v,"vertices",null);if($==null)V=ee?ce.newFloatArray(G):J;else{V=ce.newFloatArray(G);var j=this.getValue(v,"offset",0);if(ce.arrayCopy($,0,V,j,$.length),i!=1)for(var p=j,te=p+$.length;p<te;p++)V[p]*=i;if(!ee)for(var p=0;p<G;p++)V[p]+=J[p]}h.setFrame(d,v.time,V),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ne=e.drawOrder;if(ne==null&&(ne=e.draworder),ne!=null){for(var h=new Yy(ne.length),pe=n.slots.length,d=0,L=0;L<ne.length;L++){var le=ne[L],xe=null,Te=this.getValue(le,"offsets",null);if(Te!=null){xe=ce.newArray(pe,-1);for(var ye=ce.newArray(pe-Te.length,0),we=0,me=0,p=0;p<Te.length;p++){var Pe=Te[p],l=n.findSlotIndex(Pe.slot);if(l==-1)throw new Error("Slot not found: "+Pe.slot);for(;we!=l;)ye[me++]=we++;xe[we+Pe.offset]=we++}for(;we<pe;)ye[me++]=we++;for(var p=pe-1;p>=0;p--)xe[p]==-1&&(xe[p]=ye[--me])}h.setFrame(d++,le.time,xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new BW(e.events.length),d=0,p=0;p<e.events.length;p++){var je=e.events[p],Le=n.findEvent(je.name);if(Le==null)throw new Error("Event not found: "+je.name);var ze=new XW(ce.toSinglePrecision(je.time),Le);ze.intValue=this.getValue(je,"int",Le.intValue),ze.floatValue=this.getValue(je,"float",Le.floatValue),ze.stringValue=this.getValue(je,"string",Le.stringValue),ze.data.audioPath!=null&&(ze.volume=this.getValue(je,"volume",1),ze.balance=this.getValue(je,"balance",0)),h.setFrame(d++,ze)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Xn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Xe.NORMAL;if(e=="additive")return Xe.ADD;if(e=="multiply")return Xe.MULTIPLY;if(e=="screen")return Xe.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return zr.Fixed;if(e=="percent")return zr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return ro.Length;if(e=="fixed")return ro.Fixed;if(e=="percent")return ro.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return hn.Tangent;if(e=="chain")return hn.Chain;if(e=="chainscale")return hn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return mt.Normal;if(e=="onlytranslation")return mt.OnlyTranslation;if(e=="norotationorreflection")return mt.NoRotationOrReflection;if(e=="noscale")return mt.NoScale;if(e=="noscaleorreflection")return mt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),vDe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),gDe=function(t){Cn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new JW(r),this.skeleton.updateWorldTransform(),this.stateData=new GW(r),this.state=new UW(this.stateData)},e}(Yv);const mDe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Xn,AnimationState:UW,AnimationStateAdapter2:dDe,AnimationStateData:GW,AtlasAttachmentLoader:VW,Attachment:ek,AttachmentTimeline:zy,Bone:GI,BoneData:HW,BoundingBoxAttachment:OW,ClippingAttachment:FW,ColorTimeline:BI,CurveTimeline:Cs,DeformTimeline:MW,DrawOrderTimeline:Yy,Event:XW,EventData:WW,EventQueue:$W,EventTimeline:BW,get EventType(){return Zi},IkConstraint:zW,IkConstraintData:YW,IkConstraintTimeline:UI,JitterEffect:fDe,MeshAttachment:tk,PathAttachment:vv,PathConstraint:KW,PathConstraintData:qW,PathConstraintMixTimeline:$I,PathConstraintPositionTimeline:qy,PathConstraintSpacingTimeline:DW,PointAttachment:kW,RegionAttachment:nk,RotateTimeline:Io,ScaleTimeline:NW,ShearTimeline:LW,Skeleton:JW,SkeletonBounds:pDe,SkeletonData:QW,SkeletonJson:nz,Skin:rz,Slot:rk,SlotData:ez,get SpacingMode(){return ro},Spine:gDe,SwirlEffect:hDe,get TimelineType(){return oi},TrackEntry:jW,TransformConstraint:ZW,TransformConstraintData:tz,TransformConstraintTimeline:jI,TranslateTimeline:gv,TwoColorTimeline:DI,VertexAttachment:sf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VI=function(t,e){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},VI(t,e)};function Mt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");VI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ik=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),ms=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,m=h.c,_=h.b,g=h.d,x=n,E=o;E<i;x+=2,E+=s){var b=u[x],S=u[x+1];a[E]=b*v+S*m+d,a[E+1]=b*_+S*g+p}return}for(var C=0,A=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var E=o,m=A*3;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],S=u[m+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}else for(var B=l,E=o,m=A*3,U=A<<1;E<i;E+=s){var P=0,F=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],S=u[m+1]+B[U+1],N=u[m+2];P+=(b*h.a+S*h.c+h.tx)*N,F+=(b*h.b+S*h.d+h.ty)*N}a[E]=P,a[E+1]=F}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),ce.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=ce.newFloatArray(this.vertices.length),ce.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(ik),iz=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.BoundingBox,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(ms),az=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Clipping,n.endSlot=null,n.color=new De(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(ms),Z1=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Ft.Mesh,i.region=null,i.triangles=[],i.color=new De(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new De(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ce.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ce.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),ce.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(ms),mv=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ce.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(ms),oz=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ft.Point,n.x=0,n.y=0,n.rotation=0,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(ms),ak=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Ft.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new De(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=ce.newFloatArray(8),i.uvs=ce.newFloatArray(8),i.tempColor=new De(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,d=this.y,p=a*u+h,v=a*f,m=o*u+d,_=o*f,g=s*u+h,x=s*f,E=c*u+d,b=c*f,S=this.offset;S[0]=p-_,S[1]=m+v,S[2]=p-b,S[3]=E+v,S[4]=g-b,S[5]=E+x,S[6]=g-_,S[7]=m+x;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,d=c.b,p=c.d,v=0,m=0;v=s[0],m=s[1],n[i]=v*f+m*h+l,n[i+1]=v*d+m*p+u,i+=a,v=s[2],m=s[3],n[i]=v*f+m*h+l,n[i+1]=v*d+m*p+u,i+=a,v=s[4],m=s[5],n[i]=v*f+m*h+l,n[i+1]=v*d+m*p+u,i+=a,v=s[6],m=s[7],n[i]=v*f+m*h+l,n[i+1]=v*d+m*p+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ce.arrayCopy(this.uvs,0,r.uvs,0,8),ce.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(ik),ok=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return ce.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),ei;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(ei||(ei={}));var sk=[ei.hold,ei.once,ei.loop,ei.pingpong,ei.onceReverse,ei.loopReverse,ei.pingpongReverse],J1=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new gW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),sr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},pn=function(){function t(e,r){this.propertyIds=r,this.frames=ce.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),jo=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=ce.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=ce.newFloatArray(n);ce.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,m=(o-c*2+u)*.03,_=((s-l)*3-a+f)*.006,g=((c-u)*3-o+h)*.006,x=v*2+_,E=m*2+g,b=(s-a)*.3+v+_*.16666667,S=(c-o)*.3+m+g*.16666667,C=a+b,A=o+S,I=p+18;p<I;p+=2)d[p]=C,d[p+1]=A,b+=x,S+=E,x+=_,E+=g,C+=b,A+=S},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],d=o[l-1];return d+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-d)},e}(pn),$o=function(t){Mt(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(jo),Q1=function(t){Mt(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(jo),_v=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.rotation=l.data.rotation;return;case z.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.rotation=l.data.rotation+f*o;break;case z.first:case z.replace:f+=l.data.rotation-l.rotation;case z.add:l.rotation+=f*o}}},e}($o),lk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.x+"|"+i,sr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.x=l.data.x,l.y=l.data.y;return;case z.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,d=pn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var m=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*m,h+=(u[d+3+2]-h)*m;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case z.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case z.first:case z.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case z.add:l.x+=f*o,l.y+=h*o}}},e}(Q1),uk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.x=l.data.x;return;case z.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.x=l.data.x+f*o;break;case z.first:case z.replace:l.x+=(l.data.x+f-l.x)*o;break;case z.add:l.x+=f*o}}},e}($o),ck=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.y=l.data.y;return;case z.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.y=l.data.y+f*o;break;case z.first:case z.replace:l.y+=(l.data.y+f-l.y)*o;break;case z.add:l.y+=f*o}}},e}($o),fk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleX+"|"+i,sr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,d=pn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var m=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*m,h+=(u[d+3+2]-h)*m;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==z.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var _=0,g=0;if(c==At.mixOut)switch(s){case z.setup:_=l.data.scaleX,g=l.data.scaleY,l.scaleX=_+(Math.abs(f)*K.signum(_)-_)*o,l.scaleY=g+(Math.abs(h)*K.signum(g)-g)*o;break;case z.first:case z.replace:_=l.scaleX,g=l.scaleY,l.scaleX=_+(Math.abs(f)*K.signum(_)-_)*o,l.scaleY=g+(Math.abs(h)*K.signum(g)-g)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case z.setup:_=Math.abs(l.data.scaleX)*K.signum(f),g=Math.abs(l.data.scaleY)*K.signum(h),l.scaleX=_+(f-_)*o,l.scaleY=g+(h-g)*o;break;case z.first:case z.replace:_=Math.abs(l.scaleX)*K.signum(f),g=Math.abs(l.scaleY)*K.signum(h),l.scaleX=_+(f-_)*o,l.scaleY=g+(h-g)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(Q1),hk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleX=l.data.scaleX;return;case z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==z.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==At.mixOut)switch(s){case z.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.first:case z.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case z.setup:h=Math.abs(l.data.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case z.first:case z.replace:h=Math.abs(l.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}($o),dk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleY=l.data.scaleY;return;case z.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==z.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==At.mixOut)switch(s){case z.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.first:case z.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case z.setup:h=Math.abs(l.data.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case z.first:case z.replace:h=Math.abs(l.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case z.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}($o),pk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearX+"|"+i,sr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case z.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,d=pn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var m=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*m,h+=(u[d+3+2]-h)*m;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case z.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case z.first:case z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case z.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(Q1),vk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearX=l.data.shearX;return;case z.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.shearX=l.data.shearX+f*o;break;case z.first:case z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case z.add:l.shearX+=f*o}}},e}($o),gk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearY=l.data.shearY;return;case z.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.shearY=l.data.shearY+f*o;break;case z.first:case z.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case z.add:l.shearY+=f*o}}},e}($o),mk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case z.setup:f.setFromColor(h);return;case z.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,m=0,_=pn.search(u,i,5),g=this.curves[_/5];switch(g){case 0:var x=u[_];d=u[_+1],p=u[_+2],v=u[_+3],m=u[_+4];var E=(i-x)/(u[_+5]-x);d+=(u[_+5+1]-d)*E,p+=(u[_+5+2]-p)*E,v+=(u[_+5+3]-v)*E,m+=(u[_+5+4]-m)*E;break;case 1:d=u[_+1],p=u[_+2],v=u[_+3],m=u[_+4];break;default:d=this.getBezierValue(i,_,1,g-2),p=this.getBezierValue(i,_,2,g+18-2),v=this.getBezierValue(i,_,3,g+18*2-2),m=this.getBezierValue(i,_,4,g+18*3-2)}o==1?f.set(d,p,v,m):(s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(m-f.a)*o))}},e}(jo),_k=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case z.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case z.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var d=0,p=0,v=0,m=pn.search(u,i,4),_=this.curves[m>>2];switch(_){case 0:var g=u[m];d=u[m+1],p=u[m+2],v=u[m+3];var x=(i-g)/(u[m+4]-g);d+=(u[m+4+1]-d)*x,p+=(u[m+4+2]-p)*x,v+=(u[m+4+3]-v)*x;break;case 1:d=u[m+1],p=u[m+2],v=u[m+3];break;default:d=this.getBezierValue(i,m,1,_-2),p=this.getBezierValue(i,m,2,_+18-2),v=this.getBezierValue(i,m,3,_+18*2-2)}if(o==1)f.r=d,f.g=p,f.b=v;else{if(s==z.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(d-f.r)*o,f.g+=(p-f.g)*o,f.b+=(v-f.b)*o}}},e}(jo),yk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case z.setup:u.a=f.a;return;case z.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==z.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}($o),xk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.alpha+"|"+i,sr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case z.setup:f.setFromColor(d),h.r=p.r,h.g=p.g,h.b=p.b;return;case z.first:f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,m=0,_=0,g=0,x=0,E=0,b=0,S=pn.search(u,i,8),C=this.curves[S>>3];switch(C){case 0:var A=u[S];v=u[S+1],m=u[S+2],_=u[S+3],g=u[S+4],x=u[S+5],E=u[S+6],b=u[S+7];var I=(i-A)/(u[S+8]-A);v+=(u[S+8+1]-v)*I,m+=(u[S+8+2]-m)*I,_+=(u[S+8+3]-_)*I,g+=(u[S+8+4]-g)*I,x+=(u[S+8+5]-x)*I,E+=(u[S+8+6]-E)*I,b+=(u[S+8+7]-b)*I;break;case 1:v=u[S+1],m=u[S+2],_=u[S+3],g=u[S+4],x=u[S+5],E=u[S+6],b=u[S+7];break;default:v=this.getBezierValue(i,S,1,C-2),m=this.getBezierValue(i,S,2,C+18-2),_=this.getBezierValue(i,S,3,C+18*2-2),g=this.getBezierValue(i,S,4,C+18*3-2),x=this.getBezierValue(i,S,5,C+18*4-2),E=this.getBezierValue(i,S,6,C+18*5-2),b=this.getBezierValue(i,S,7,C+18*6-2)}if(o==1)f.set(v,m,_,g),h.r=x,h.g=E,h.b=b;else{if(s==z.setup){f.setFromColor(l.data.color);var p=l.data.darkColor;h.r=p.r,h.g=p.g,h.b=p.b}f.add((v-f.r)*o,(m-f.g)*o,(_-f.b)*o,(g-f.a)*o),h.r+=(x-h.r)*o,h.g+=(E-h.g)*o,h.b+=(b-h.b)*o}}},e}(jo),bk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case z.setup:f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b;return;case z.first:f.r+=(d.r-f.r)*o,f.g+=(d.g-f.g)*o,f.b+=(d.b-f.b)*o,h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,m=0,_=0,g=0,x=0,E=0,b=pn.search(u,i,7),S=this.curves[b/7];switch(S){case 0:var C=u[b];v=u[b+1],m=u[b+2],_=u[b+3],g=u[b+4],x=u[b+5],E=u[b+6];var A=(i-C)/(u[b+7]-C);v+=(u[b+7+1]-v)*A,m+=(u[b+7+2]-m)*A,_+=(u[b+7+3]-_)*A,g+=(u[b+7+4]-g)*A,x+=(u[b+7+5]-x)*A,E+=(u[b+7+6]-E)*A;break;case 1:v=u[b+1],m=u[b+2],_=u[b+3],g=u[b+4],x=u[b+5],E=u[b+6];break;default:v=this.getBezierValue(i,b,1,S-2),m=this.getBezierValue(i,b,2,S+18-2),_=this.getBezierValue(i,b,3,S+18*2-2),g=this.getBezierValue(i,b,4,S+18*3-2),x=this.getBezierValue(i,b,5,S+18*4-2),E=this.getBezierValue(i,b,6,S+18*5-2)}if(o==1)f.r=v,f.g=m,f.b=_,h.r=g,h.g=x,h.b=E;else{if(s==z.setup){var d=l.data.color,p=l.data.darkColor;f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b}f.r+=(v-f.r)*o,f.g+=(m-f.g)*o,f.b+=(_-f.b)*o,h.r+=(g-h.r)*o,h.g+=(x-h.g)*o,h.b+=(E-h.b)*o}}},e}(jo),Ec=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r,[sr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==At.mixOut){s==z.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==z.setup||s==z.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[pn.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(pn),Ek=function(t){Mt(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[sr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,m=u*.03-c*.06,_=((s-l)*3-a+f)*.006,g=(c-u+.33333333)*.018,x=v*2+_,E=m*2+g,b=(s-a)*.3+v+_*.16666667,S=c*.3+m+g*.16666667,C=a+b,A=S,I=p+18;p<I;p+=2)d[p]=C,d[p+1]=A,b+=x,S+=E,x+=_,E+=g,C+=b,A+=S},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof ms)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=z.setup);var h=this.vertices,d=h[0].length,p=this.frames;if(i<p[0]){switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;return}f.length=d;var v=u;if(v.bones){o=1-o;for(var _=0;_<d;_++)f[_]*=o}else for(var m=v.vertices,_=0;_<d;_++)f[_]+=(m[_]-f[_])*o}return}if(f.length=d,i>=p[p.length-1]){var g=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones)for(var E=0;E<d;E++)f[E]+=g[E];else for(var m=v.vertices,x=0;x<d;x++)f[x]+=g[x]-m[x]}else ce.arrayCopy(g,0,f,0,d);else switch(s){case z.setup:{var b=u;if(b.bones)for(var A=0;A<d;A++)f[A]=g[A]*o;else for(var m=b.vertices,S=0;S<d;S++){var C=m[S];f[S]=C+(g[S]-C)*o}break}case z.first:case z.replace:for(var I=0;I<d;I++)f[I]+=(g[I]-f[I])*o;break;case z.add:var v=u;if(v.bones)for(var O=0;O<d;O++)f[O]+=g[O]*o;else for(var m=v.vertices,R=0;R<d;R++)f[R]+=(g[R]-m[R])*o}return}var P=pn.search1(p,i),F=this.getCurvePercent(i,P),N=h[P],B=h[P+1];if(o==1)if(s==z.add){var v=u;if(v.bones)for(var ee=0;ee<d;ee++){var H=N[ee];f[ee]+=H+(B[ee]-H)*F}else for(var m=v.vertices,U=0;U<d;U++){var H=N[U];f[U]+=H+(B[U]-H)*F-m[U]}}else for(var J=0;J<d;J++){var H=N[J];f[J]=H+(B[J]-H)*F}else switch(s){case z.setup:{var G=u;if(G.bones)for(var V=0;V<d;V++){var H=N[V];f[V]=(H+(B[V]-H)*F)*o}else for(var m=G.vertices,L=0;L<d;L++){var H=N[L],C=m[L];f[L]=C+(H+(B[L]-H)*F-C)*o}break}case z.first:case z.replace:for(var $=0;$<d;$++){var H=N[$];f[$]+=(H+(B[$]-H)*F-f[$])*o}break;case z.add:var v=u;if(v.bones)for(var te=0;te<d;te++){var H=N[te];f[te]+=(H+(B[te]-H)*F)*o}else for(var m=v.vertices,j=0;j<d;j++){var H=N[j];f[j]+=(H+(B[j]-H)*F-m[j])*o}}}}},e}(jo),eb=function(t){Mt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=pn.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+sr.event],e}(pn),Nh=function(t){Mt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==At.mixOut){s==z.setup&&ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==z.setup||s==z.first)&&ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=pn.search1(this.frames,i),u=this.drawOrders[l];if(!u)ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,d=0,p=u.length;d<p;d++)f[d]=h[u[d]]},e.propertyIds=[""+sr.drawOrder],e}(pn),wk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case z.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,d=pn.search(u,i,6),p=this.curves[d/6];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var m=(i-v)/(u[d+6]-v);f+=(u[d+6+1]-f)*m,h+=(u[d+6+2]-h)*m;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}s==z.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==At.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==At.mixIn&&(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0))}},e}(jo),Sk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case z.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case z.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,d,p,v,m,_,g=pn.search(u,i,7),x=this.curves[g/7];switch(x){case 0:var E=u[g];h=u[g+1],d=u[g+2],p=u[g+3],v=u[g+4],m=u[g+5],_=u[g+6];var b=(i-E)/(u[g+7]-E);h+=(u[g+7+1]-h)*b,d+=(u[g+7+2]-d)*b,p+=(u[g+7+3]-p)*b,v+=(u[g+7+4]-v)*b,m+=(u[g+7+5]-m)*b,_+=(u[g+7+6]-_)*b;break;case 1:h=u[g+1],d=u[g+2],p=u[g+3],v=u[g+4],m=u[g+5],_=u[g+6];break;default:h=this.getBezierValue(i,g,1,x-2),d=this.getBezierValue(i,g,2,x+18-2),p=this.getBezierValue(i,g,3,x+18*2-2),v=this.getBezierValue(i,g,4,x+18*3-2),m=this.getBezierValue(i,g,5,x+18*4-2),_=this.getBezierValue(i,g,6,x+18*5-2)}if(s==z.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(d-f.mixX)*o,l.mixY=f.mixY+(p-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(m-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(_-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(m-l.mixScaleY)*o,l.mixShearY+=(_-l.mixShearY)*o}},e}(jo),Ck=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.position=l.data.position;return;case z.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==z.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}($o),Ak=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.spacing=l.data.spacing;return;case z.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==z.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}($o),Tk=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case z.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,d,p=pn.search(u,i,4),v=this.curves[p>>2];switch(v){case 0:var m=u[p];f=u[p+1],h=u[p+2],d=u[p+3];var _=(i-m)/(u[p+4]-m);f+=(u[p+4+1]-f)*_,h+=(u[p+4+2]-h)*_,d+=(u[p+4+3]-d)*_;break;case 1:f=u[p+1],h=u[p+2],d=u[p+3];break;default:f=this.getBezierValue(i,p,1,v-2),h=this.getBezierValue(i,p,2,v+18-2),d=this.getBezierValue(i,p,3,v+18*2-2)}if(s==z.setup){var g=l.data;l.mixRotate=g.mixRotate+(f-g.mixRotate)*o,l.mixX=g.mixX+(h-g.mixX)*o,l.mixY=g.mixY+(d-g.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(d-l.mixY)*o}},e}(jo),Ik=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,[sr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof ms)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==z.setup||s==z.first)&&(l.sequenceIndex=-1);return}var d=pn.search(h,i,e.ENTRIES),p=h[d],v=h[d+e.MODE],m=h[d+e.DELAY];if(this.attachment.sequence){var _=v>>4,g=this.attachment.sequence.regions.length,x=sk[v&15];if(x!=ei.hold)switch(_+=(i-p)/m+1e-5|0,x){case ei.once:_=Math.min(g-1,_);break;case ei.loop:_%=g;break;case ei.pingpong:{var E=(g<<1)-2;_=E==0?0:_%E,_>=g&&(_=E-_);break}case ei.onceReverse:_=Math.max(g-1-_,0);break;case ei.loopReverse:_=g-1-_%g;break;case ei.pingpongReverse:{var E=(g<<1)-2;_=E==0?0:(_+g-1)%E,_>=g&&(_=E-_)}}l.sequenceIndex=_}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(pn),sz=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new uz(this),this.propertyIDs=new gW,this.animationsChanged=!1,this.trackEntryPool=new z1(function(){return new lz}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,d=r;s.reverse&&(h=s.animation.duration-h,d=null);var p=s.animation.timelines,v=p.length;if(a==0&&l==1||c==z.add)for(var m=0;m<v;m++){ce.webkit602BugfixHelper(l,c);var _=p[m];_ instanceof Ec?this.applyAttachmentTimeline(_,e,h,c,!0):_.apply(e,u,h,d,l,c,At.mixIn)}else{var g=s.timelineMode,x=s.shortestRotation,E=!x&&s.timelinesRotation.length!=v<<1;E&&(s.timelinesRotation.length=v<<1);for(var m=0;m<v;m++){var b=p[m],S=g[m]==n2?c:z.setup;!x&&b instanceof _v?this.applyRotateTimeline(b,e,h,l,S,s.timelinesRotation,m<<1,E):b instanceof Ec?this.applyAttachmentTimeline(b,e,h,c,!0):(ce.webkit602BugfixHelper(l,c),b.apply(e,u,h,d,l,S,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+d5,A=e.slots,I=0,R=e.slots.length;I<R;I++){var O=A[I];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,d=i.getAnimationTime(),p=d,v=null;if(i.reverse?p=i.animation.duration-p:a<i.eventThreshold&&(v=this.events),n==z.add)for(var m=0;m<l;m++)c[m].apply(r,h,p,v,f,n,At.mixOut);else{var _=i.timelineMode,g=i.timelineHoldMix,x=i.shortestRotation,E=!x&&i.timelinesRotation.length!=l<<1;E&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var m=0;m<l;m++){var b=c[m],S=At.mixOut,C=void 0,A=0;switch(_[m]){case n2:if(!s&&b instanceof Nh)continue;C=n,A=f;break;case f5:C=z.setup,A=f;break;case h5:C=n,A=u;break;case i2:C=z.setup,A=u;break;default:C=z.setup;var I=g[m];A=u*Math.max(0,1-I.mixTime/I.mixDuration);break}i.totalAlpha+=A,!x&&b instanceof _v?this.applyRotateTimeline(b,r,p,A,C,i.timelinesRotation,m<<1,E):b instanceof Ec?this.applyAttachmentTimeline(b,r,p,C,o):(ce.webkit602BugfixHelper(A,n),s&&b instanceof Nh&&C==z.setup&&(S=At.mixIn),b.apply(r,h,p,v,A,C,S))}}return e.mixDuration>0&&this.queueEvents(i,d),this.events.length=0,i.nextAnimationLast=d,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==z.setup||i==z.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[pn.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+d5))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+xDe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case z.setup:l.rotation=l.data.rotation;default:return;case z.first:f=l.rotation,h=l.data.rotation}else f=a==z.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var d=0,p=h-f;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)d=o[s];else{var v=0,m=0;c?(v=0,m=p):(v=o[s],m=o[s+1]);var _=p>0,g=v>=0;K.signum(m)!=K.signum(p)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*K.signum(v)),g=_),d=p+v-v%360,g!=_&&(d+=360*K.signum(v)),o[s]=d}o[s+1]=p,l.rotation=f+d*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=z.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=z.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?i2:h5;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=n2;else if(!r||l instanceof Ec||l instanceof Nh||l instanceof eb||!r.animation.hasTimeline(u))a[c]=f5;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=yDe,o[c]=f;continue e}break}a[c]=i2}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new J1("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),lz=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),uz=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ji.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ji.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ji.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ji.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ji.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ji.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ji.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case Ji.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case Ji.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case Ji.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case Ji.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case Ji.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),Ji;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ji||(Ji={}));var _De=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),n2=0,f5=1,h5=2,i2=3,yDe=4,d5=1,xDe=2,cz=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),Rk=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new ak(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Z1(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new iz(r)},t.prototype.newPathAttachment=function(e,r){return new mv(r)},t.prototype.newPointAttachment=function(e,r){return new oz(r)},t.prototype.newClippingAttachment=function(e,r){return new az(r)},t}(),HI=function(){function t(e,r,n){if(this.matrix=new Dr,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,m=c.matrix.b,_=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=m*e+_*r+c.matrix.ty,this.data.transformMode){case mt.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,E=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*E,l.c=p*x+v*b,l.b=m*g+_*E,l.d=m*x+_*b;return}case mt.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case mt.NoRotationOrReflection:{var S=p*p+m*m,C=0;S>1e-4?(S=Math.abs(p*_-v*m)/S,p/=u,m/=f,v=m*S,_=p*S,C=Math.atan2(m,p)*K.radDeg):(p=0,m=0,C=90-Math.atan2(_,v)*K.radDeg);var A=n+o-C,I=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(I)*a,E=K.sinDeg(A)*i,b=K.sinDeg(I)*a;l.a=p*g-v*E,l.c=p*x-v*b,l.b=m*g+_*E,l.d=m*x+_*b;break}case mt.NoScale:case mt.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,F=(m*R+_*O)/f,S=Math.sqrt(P*P+F*F);S>1e-5&&(S=1/S),P*=S,F*=S,S=Math.sqrt(P*P+F*F),this.data.transformMode==mt.NoScale&&p*_-v*m<0!=(u<0!=f<0)&&(S=-S);var N=Math.PI/2+Math.atan2(F,P),B=Math.cos(N)*S,U=Math.sin(N)*S,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,E=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=P*g+B*E,l.c=P*x+B*b,l.b=F*g+U*E,l.d=F*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),Pk=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=mt.Normal,this.skinRequired=!1,this.color=new De,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),tb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),Ok=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),Fk=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),fz=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0,m=e.skeleton.scaleX,_=-e.skeleton.scaleY;switch(e.data.transformMode){case mt.OnlyTranslation:p=r-e.worldX,v=n-e.worldY,v=-v;break;case mt.NoRotationOrReflection:var g=Math.abs(l*h-u*f)/(l*l+f*f),x=l/m,E=f/_;u=-E*g*m,h=x*g*_,d+=Math.atan2(E,x)*K.radDeg;default:var b=r-c.tx,S=n-c.ty,C=l*h-u*f;p=(b*h-S*u)/C-e.ax,v=(S*l-b*f)/C-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var A=e.ascaleX,I=e.ascaleY;if(i||a){switch(e.data.transformMode){case mt.NoScale:case mt.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var R=e.data.length*A,O=Math.sqrt(p*p+v*v);if(i&&O<R||a&&O>R&&R>1e-4){var g=(O/R-1)*s+1;A*=g,o&&(I*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,A,I,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,d=e.ascaleY,p=h,v=d,m=r.ascaleX,_=e.matrix,g=0,x=0,E=0;h<0?(h=-h,g=180,E=-1):(g=0,E=1),d<0&&(d=-d,E=-E),m<0?(m=-m,x=180):x=0;var b=r.ax,S=0,C=0,A=0,I=_.a,R=_.c,O=_.b,P=_.d,F=Math.abs(h-d)<=1e-4;!F||o?(S=0,C=I*b+_.tx,A=O*b+_.ty):(S=r.ay,C=I*b+R*S+_.tx,A=O*b+P*S+_.ty);var N=e.parent.matrix;if(!N)throw new Error("IK parent must itself have a parent.");I=N.a,R=N.c,O=N.b,P=N.d;var B=1/(I*P-R*O),U=C-N.tx,H=A-N.ty,ee=(U*P-H*R)*B-u,J=(H*I-U*O)*B-f,G=Math.sqrt(ee*ee+J*J),L=r.data.length*m,V,$;if(G<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,S,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}U=n-N.tx,H=i-N.ty;var j=(U*P-H*R)*B-u,te=(H*I-U*O)*B-f,ne=j*j+te*te;if(c!=0){c*=h*(m+1)*.5;var pe=Math.sqrt(ne),le=pe-G-L*h+c;if(le>0){var xe=Math.min(1,le/(c*2))-1;xe=(le-c*(1-xe*xe))/pe,j-=xe*j,te-=xe*te,ne=j*j+te*te}}e:if(F){L*=h;var Te=(ne-G*G-L*L)/(2*G*L);Te<-1?(Te=-1,$=Math.PI*a):Te>1?(Te=1,$=0,o&&(I=(Math.sqrt(ne)/(G+L)-1)*l+1,p*=I,s&&(v*=I))):$=Math.acos(Te)*a,I=G+L*Te,R=L*Math.sin($),V=Math.atan2(te*I-j*R,j*I+te*R)}else{I=h*L,R=d*L;var ye=I*I,we=R*R,me=Math.atan2(te,j);O=we*G*G+ye*ne-ye*we;var Pe=-2*we*G,je=we-ye;if(P=Pe*Pe-4*je*O,P>=0){var Le=Math.sqrt(P);Pe<0&&(Le=-Le),Le=-(Pe+Le)*.5;var ze=Le/je,ut=O/Le,wt=Math.abs(ze)<Math.abs(ut)?ze:ut;if(wt*wt<=ne){H=Math.sqrt(ne-wt*wt)*a,V=me-Math.atan2(H,wt),$=Math.atan2(H/d,(wt-G)/h);break e}}var Ct=K.PI,it=G-I,lt=it*it,_t=0,gr=0,mr=G+I,fr=mr*mr,ir=0;O=-I*G/(ye-we),O>=-1&&O<=1&&(O=Math.acos(O),U=I*Math.cos(O)+G,H=R*Math.sin(O),P=U*U+H*H,P<lt&&(Ct=O,lt=P,it=U,_t=H),P>fr&&(gr=O,fr=P,mr=U,ir=H)),ne<=(lt+fr)*.5?(V=me-Math.atan2(_t*a,it),$=Ct*a):(V=me-Math.atan2(ir*a,mr),$=gr*a)}var It=Math.atan2(S,b)*E,Er=e.arotation;V=(V-It)*K.radDeg+g-Er,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(u,f,Er+V*l,p,v,0,0),Er=r.arotation,$=(($+It)*K.radDeg-r.ashearX)*E+x-Er,$>180?$-=360:$<-180&&($+=360),r.updateWorldTransformWith(b,S,Er+$*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),kk=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),Nk=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=zr.Fixed,n.spacingMode=Pn.Fixed,n.rotateMode=hn.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),Pn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(Pn||(Pn={}));var hz=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof mv){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==hn.Tangent,s=a.rotateMode==hn.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=ce.setArraySize(this.spaces,u),h=s?this.lengths=ce.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case Pn.Percent:if(s)for(var p=0,v=u-1;p<v;p++){var m=c[p],_=m.data.length;if(_<t.epsilon)h[p]=0;else{var g=_*m.matrix.a,x=_*m.matrix.b;h[p]=Math.sqrt(g*g+x*x)}}ce.arrayFill(f,1,u,d);break;case Pn.Proportional:for(var E=0,p=0,v=u-1;p<v;){var m=c[p],_=m.data.length;if(_<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var g=_*m.matrix.a,x=_*m.matrix.b,b=Math.sqrt(g*g+x*x);s&&(h[p]=b),f[++p]=b,E+=b}}if(E>0){E=u/E*d;for(var p=1;p<u;p++)f[p]*=E}break;default:for(var S=a.spacingMode==Pn.Length,p=0,v=u-1;p<v;){var m=c[p],_=m.data.length;if(_<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var g=_*m.matrix.a,x=_*m.matrix.b,C=Math.sqrt(g*g+x*x);s&&(h[p]=C),f[++p]=(S?_+d:d)*C/_}}}var A=this.computeWorldPositions(e,u,o),I=A[0],R=A[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==hn.Chain;else{P=!1;var F=this.target.bone.matrix;O*=F.a*F.d-F.b*F.c>0?K.degRad:-K.degRad}for(var p=0,F=3;p<l;p++,F+=3){var m=c[p],N=m.matrix;N.tx+=(I-N.tx)*n,N.ty+=(R-N.ty)*i;var g=A[F],x=A[F+1],B=g-I,U=x-R;if(s){var H=h[p];if(H!=0){var ee=(Math.sqrt(B*B+U*U)/H-1)*r+1;N.a*=ee,N.b*=ee}}if(I=g,R=x,r>0){var J=N.a,G=N.c,L=N.b,V=N.d,$=0,j=0,te=0;if(o?$=A[F-1]:f[p+1]==0?$=A[F+2]:$=Math.atan2(U,B),$-=Math.atan2(L,J),P){j=Math.cos($),te=Math.sin($);var ne=m.data.length;I+=(ne*(j*J-te*L)-B)*r,R+=(ne*(te*J+j*L)-U)*r}else $+=O;$>K.PI?$-=K.PI2:$<-K.PI&&($+=K.PI2),$*=r,j=Math.cos($),te=Math.sin($),N.a=j*J-te*L,N.c=j*G-te*V,N.b=te*J+j*L,N.d=te*G+j*V}m.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=ce.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var d=e.lengths;f-=l?1:2;var p=d[f];this.data.positionMode==zr.Percent&&(a*=p);var v;switch(this.data.spacingMode){case Pn.Percent:v=p;break;case Pn.Proportional:v=p/r;break;default:v=1}c=ce.setArraySize(this.world,8);for(var m=0,_=0,g=0;m<r;m++,_+=3){var x=o[m]*v;a+=x;var E=a;if(l)E%=p,E<0&&(E+=p),g=0;else if(E<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(E,c,0,s,_);continue}else if(E>p){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(E-p,c,0,s,_);continue}for(;;g++){var b=d[g];if(!(E>b)){if(g==0)E/=b;else{var S=d[g-1];E=(E-S)/(b-S)}break}}g!=h&&(h=g,l&&g==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,g*6+2,8,c,0,2)),this.addCurvePosition(E,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,_,n||m>0&&x==0)}return s}l?(u+=2,c=ce.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=ce.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=ce.setArraySize(this.curves,f),A=0,I=c[0],R=c[1],O=0,P=0,F=0,N=0,B=0,U=0,H=0,ee=0,J=0,G=0,L=0,V=0,$=0,j=0,m=0,te=2;m<f;m++,te+=6)O=c[te],P=c[te+1],F=c[te+2],N=c[te+3],B=c[te+4],U=c[te+5],H=(I-O*2+F)*.1875,ee=(R-P*2+N)*.1875,J=((O-F)*3-I+B)*.09375,G=((P-N)*3-R+U)*.09375,L=H*2+J,V=ee*2+G,$=(O-I)*.75+H+J*.16666667,j=(P-R)*.75+ee+G*.16666667,A+=Math.sqrt($*$+j*j),$+=L,j+=V,L+=J,V+=G,A+=Math.sqrt($*$+j*j),$+=L,j+=V,A+=Math.sqrt($*$+j*j),$+=L+J,j+=V+G,A+=Math.sqrt($*$+j*j),C[m]=A,I=B,R=U;this.data.positionMode==zr.Percent&&(a*=A);var ne;switch(this.data.spacingMode){case Pn.Percent:ne=A;break;case Pn.Proportional:ne=A/r;break;default:ne=1}for(var pe=this.segments,le=0,m=0,_=0,g=0,xe=0;m<r;m++,_+=3){var x=o[m]*ne;a+=x;var E=a;if(l)E%=A,E<0&&(E+=A),g=0;else if(E<0){this.addBeforePosition(E,c,0,s,_);continue}else if(E>A){this.addAfterPosition(E-A,c,u-4,s,_);continue}for(;;g++){var Te=C[g];if(!(E>Te)){if(g==0)E/=Te;else{var S=C[g-1];E=(E-S)/(Te-S)}break}}if(g!=h){h=g;var ye=g*6;for(I=c[ye],R=c[ye+1],O=c[ye+2],P=c[ye+3],F=c[ye+4],N=c[ye+5],B=c[ye+6],U=c[ye+7],H=(I-O*2+F)*.03,ee=(R-P*2+N)*.03,J=((O-F)*3-I+B)*.006,G=((P-N)*3-R+U)*.006,L=H*2+J,V=ee*2+G,$=(O-I)*.3+H+J*.16666667,j=(P-R)*.3+ee+G*.16666667,le=Math.sqrt($*$+j*j),pe[0]=le,ye=1;ye<8;ye++)$+=L,j+=V,L+=J,V+=G,le+=Math.sqrt($*$+j*j),pe[ye]=le;$+=L,j+=V,le+=Math.sqrt($*$+j*j),pe[8]=le,$+=L+J,j+=V+G,le+=Math.sqrt($*$+j*j),pe[9]=le,xe=0}for(E*=le;;xe++){var we=pe[xe];if(!(E>we)){if(xe==0)E/=we;else{var S=pe[xe-1];E=xe+(E-S)/(we-S)}break}}this.addCurvePosition(E*.1,I,R,O,P,F,N,B,U,s,_,n||m>0&&x==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var d=e*e,p=d*e,v=1-e,m=v*v,_=m*v,g=v*e,x=g*3,E=v*x,b=x*e,S=r*_+i*E+o*b+c*p,C=n*_+a*E+s*b+l*p;u[f]=S,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*m+a*g*2+s*d),S-(r*m+i*g*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),dz=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor?new De:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof ms)||!(this.attachment instanceof ms)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),pz=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new lv,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,m=this.data.offsetShearY*p,_=this.bones,g=0,x=_.length;g<x;g++){var E=_[g],b=E.matrix;if(e!=0){var S=b.a,C=b.c,A=b.b,I=b.d,R=Math.atan2(h,u)-Math.atan2(A,S)+v;R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);b.a=O*S-P*A,b.c=O*C-P*I,b.b=P*S+O*A,b.d=P*C+O*I}if(s){var F=this.temp;c.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),b.tx+=(F.x-b.tx)*r,b.ty+=(F.y-b.ty)*n}if(i!=0){var N=Math.sqrt(b.a*b.a+b.b*b.b);N!=0&&(N=(N+(Math.sqrt(u*u+h*h)-N+this.data.offsetScaleX)*i)/N),b.a*=N,b.b*=N}if(a!=0){var N=Math.sqrt(b.c*b.c+b.d*b.d);N!=0&&(N=(N+(Math.sqrt(f*f+d*d)-N+this.data.offsetScaleY)*a)/N),b.c*=N,b.d*=N}if(o>0){var C=b.c,I=b.d,B=Math.atan2(I,C),R=Math.atan2(d,f)-Math.atan2(h,u)-(B-Math.atan2(b.b,b.a));R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R=B+(R+m)*o;var N=Math.sqrt(C*C+I*I);b.c=Math.cos(R)*N,b.d=Math.sin(R)*N}E.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,m=this.data.offsetShearY*p,_=this.bones,g=0,x=_.length;g<x;g++){var E=_[g],b=E.matrix;if(e!=0){var S=b.a,C=b.c,A=b.b,I=b.d,R=Math.atan2(h,u)+v;R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);b.a=O*S-P*A,b.c=O*C-P*I,b.b=P*S+O*A,b.d=P*C+O*I}if(s){var F=this.temp;c.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),b.tx+=F.x*r,b.ty+=F.y*n}if(i!=0){var N=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=N,b.b*=N}if(a!=0){var N=(Math.sqrt(f*f+d*d)-1+this.data.offsetScaleY)*a+1;b.c*=N,b.d*=N}if(o>0){var R=Math.atan2(d,f)-Math.atan2(h,u);R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2);var C=b.c,I=b.d;R=Math.atan2(I,C)+(R-K.PI/2+m)*o;var N=Math.sqrt(C*C+I*I);b.c=Math.cos(R)*N,b.d=Math.sin(R)*N}E.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var d=s.arotation-h+this.data.offsetRotation;d-=(16384-(16384.499999999996-d/360|0))*360,h+=d*e}var p=f.ax,v=f.ay;p+=(s.ax-p+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var m=f.ascaleX,_=f.ascaleY;i!=0&&m!=0&&(m=(m+(s.ascaleX-m+this.data.offsetScaleX)*i)/m),a!=0&&_!=0&&(_=(_+(s.ascaleY-_+this.data.offsetScaleY)*a)/_);var g=f.ashearY;if(o!=0){var d=s.ashearY-g+this.data.offsetShearY;d-=(16384-(16384.499999999996-d/360|0))*360,g+=d*o}f.updateWorldTransformWith(p,v,h,m,_,f.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,d=f.ax+(s.ax+this.data.offsetX)*r,p=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),m=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),_=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(d,p,h,v,m,f.ashearX,_)}},t}(),vz=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new HI(n,this,null);else{var a=this.bones[n.parent.index];i=new HI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new dz(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new fz(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new pz(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new hz(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof mv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof mv){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=K.cosDeg(r.rotation+r.shearX)*r.scaleX,l=K.cosDeg(s)*r.scaleY,u=K.sinDeg(r.rotation+r.shearX)*r.scaleX,f=K.sinDeg(s)*r.scaleY,h=this.scaleX,d=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*d,r.matrix.d=(a*l+o*f)*d;for(var p=this._updateCache,v=0,m=p.length;v<m;v++){var _=p[v];_!=r&&_.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new lv,r=new lv;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof ak)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f,d,0,2);else if(p instanceof Z1){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d)for(var m=0,_=d.length;m<_;m+=2){var g=d[m],x=d[m+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Lk=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),Mk=function(){function t(e,r,n){if(this.index=0,this.color=new De(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=Xe.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),Bk=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),XI=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Ky=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof Z1?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new XI(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new XI(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),gz=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Lk;n.name="";var i=new Xy(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var p=f==0?null:n.bones[i.readInt(!0)],v=new Pk(f,d,p);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&De.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var m=i.readString();if(!m)throw new Error("Slot name must not be null.");var _=n.bones[i.readInt(!0)],v=new Mk(f,m,_);De.rgba8888ToColor(v.color,i.readInt32());var g=i.readInt32();g!=-1&&De.rgb888ToColor(v.darkColor=new De,g),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("IK constraint data name must not be null.");var v=new kk(E);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var S=i.readString();if(!S)throw new Error("Transform constraint data name must not be null.");var v=new Bk(S);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var v=new Nk(C);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==zr.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==Pn.Length||v.spacingMode==Pn.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var A=this.readSkin(i,n,!0,l);A&&(n.defaultSkin=A,n.skins.push(A));{var f=n.skins.length;for(ce.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var I=this.readSkin(i,n,!1,l);if(!I)throw new Error("readSkin() should not have returned null.");n.skins[f]=I}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var R=this.linkedMeshes[f],I=R.skin?n.findSkin(R.skin):n.defaultSkin;if(!I)throw new Error("Not skin found for linked mesh.");if(!R.parent)throw new Error("Linked mesh parent must not be null");var O=I.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error("Parent mesh not found: "+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var v=new Fk(P);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var F=i.readString();if(!F)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,F,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Ky("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Ky(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var d=e.readStringRef();if(!d)throw new Error("Attachment name must not be null");var p=this.readAttachment(e,r,a,u,d,i);p&&a.setAttachment(u,d,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case Ft.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),m=e.readFloat(),_=e.readInt32(),g=this.readSequence(e);l||(l=c);var x=this.attachmentLoader.newRegionAttachment(n,c,l,g);return x?(x.path=l,x.x=f*s,x.y=h*s,x.scaleX=d,x.scaleY=p,x.rotation=u,x.width=v*s,x.height=m*s,De.rgba8888ToColor(x.color,_),x.sequence=g,g==null&&x.updateRegion(),x):null}case Ft.BoundingBox:{var E=e.readInt(!0),b=this.readVertices(e,E),_=o?e.readInt32():0,S=this.attachmentLoader.newBoundingBoxAttachment(n,c);return S?(S.worldVerticesLength=E<<1,S.vertices=b.vertices,S.bones=b.bones,o&&De.rgba8888ToColor(S.color,_),S):null}case Ft.Mesh:{var l=e.readStringRef(),_=e.readInt32(),E=e.readInt(!0),C=this.readFloatArray(e,E<<1,1),A=this.readShortArray(e),b=this.readVertices(e,E),I=e.readInt(!0),g=this.readSequence(e),R=[],v=0,m=0;o&&(R=this.readShortArray(e),v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,g);return O?(O.path=l,De.rgba8888ToColor(O.color,_),O.bones=b.bones,O.vertices=b.vertices,O.worldVerticesLength=E<<1,O.triangles=A,O.regionUVs=new Float32Array(C),O.hullLength=I<<1,O.sequence=g,o&&(O.edges=R,O.width=v*s,O.height=m*s),O):null}case Ft.LinkedMesh:{var l=e.readStringRef(),_=e.readInt32(),P=e.readStringRef(),F=e.readStringRef(),N=e.readBoolean(),g=this.readSequence(e),v=0,m=0;o&&(v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,g);return O?(O.path=l,De.rgba8888ToColor(O.color,_),O.sequence=g,o&&(O.width=v*s,O.height=m*s),this.linkedMeshes.push(new bDe(O,P,i,F,N)),O):null}case Ft.Path:{for(var B=e.readBoolean(),U=e.readBoolean(),E=e.readInt(!0),b=this.readVertices(e,E),H=ce.newArray(E/3,0),ee=0,J=H.length;ee<J;ee++)H[ee]=e.readFloat()*s;var _=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=B,l.constantSpeed=U,l.worldVerticesLength=E<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=H,o&&De.rgba8888ToColor(l.color,_),l):null}case Ft.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),_=o?e.readInt32():0,G=this.attachmentLoader.newPointAttachment(n,c);return G?(G.x=f*s,G.y=h*s,G.rotation=u,o&&De.rgba8888ToColor(G.color,_),G):null}case Ft.Clipping:{var L=e.readInt(!0),E=e.readInt(!0),b=this.readVertices(e,E),_=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,c);return V?(V.endSlot=r.slots[L],V.worldVerticesLength=E<<1,V.vertices=b.vertices,V.bones=b.bones,o&&De.rgba8888ToColor(V.color,_),V):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new ok(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?p5:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new EDe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=ce.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),d=h-1;switch(f){case kDe:{for(var p=new Ec(h,c),v=0;v<h;v++)p.setFrame(v,e.readFloat(),e.readStringRef());i.push(p);break}case NDe:{for(var m=e.readInt(!0),p=new mk(h,m,c),_=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,_,g,x,E,b),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,g,A,1),Yt(e,p,S++,v,1,_,C,x,I,1),Yt(e,p,S++,v,2,_,C,E,R,1),Yt(e,p,S++,v,3,_,C,b,O,1)}_=C,g=A,x=I,E=R,b=O}i.push(p);break}case LDe:{for(var m=e.readInt(!0),p=new _k(h,m,c),_=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,_,g,x,E),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,g,A,1),Yt(e,p,S++,v,1,_,C,x,I,1),Yt(e,p,S++,v,2,_,C,E,R,1)}_=C,g=A,x=I,E=R}i.push(p);break}case MDe:{for(var m=e.readInt(!0),p=new xk(h,m,c),_=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,_,g,x,E,b,A,I,R),v!=d;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,g,P,1),Yt(e,p,S++,v,1,_,C,x,F,1),Yt(e,p,S++,v,2,_,C,E,N,1),Yt(e,p,S++,v,3,_,C,b,B,1),Yt(e,p,S++,v,4,_,C,A,U,1),Yt(e,p,S++,v,5,_,C,I,H,1),Yt(e,p,S++,v,6,_,C,R,ee,1)}_=C,g=P,x=F,E=N,b=B,A=U,I=H,R=ee}i.push(p);break}case BDe:{for(var m=e.readInt(!0),p=new bk(h,m,c),_=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,_,g,x,E,A,I,R),v!=d;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,g,P,1),Yt(e,p,S++,v,1,_,C,x,F,1),Yt(e,p,S++,v,2,_,C,E,N,1),Yt(e,p,S++,v,3,_,C,A,U,1),Yt(e,p,S++,v,4,_,C,I,H,1),Yt(e,p,S++,v,5,_,C,R,ee,1)}_=C,g=P,x=F,E=N,A=U,I=H,R=ee}i.push(p);break}case DDe:{for(var p=new yk(h,e.readInt(!0),c),_=e.readFloat(),b=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,_,b),v!=d;v++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,b,O,1)}_=C,b=O}i.push(p)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var J=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var G=e.readByte(),h=e.readInt(!0),m=e.readInt(!0);switch(G){case wDe:i.push(Us(e,new _v(h,m,J),1));break;case SDe:i.push(a2(e,new lk(h,m,J),a));break;case CDe:i.push(Us(e,new uk(h,m,J),a));break;case ADe:i.push(Us(e,new ck(h,m,J),a));break;case TDe:i.push(a2(e,new fk(h,m,J),1));break;case IDe:i.push(Us(e,new hk(h,m,J),1));break;case RDe:i.push(Us(e,new dk(h,m,J),1));break;case PDe:i.push(a2(e,new pk(h,m,J),1));break;case ODe:i.push(Us(e,new vk(h,m,J),1));break;case FDe:i.push(Us(e,new gk(h,m,J),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new wk(h,e.readInt(!0),L),_=e.readFloat(),V=e.readFloat(),$=e.readFloat()*a,v=0,S=0;p.setFrame(v,_,V,$,e.readByte(),e.readBoolean(),e.readBoolean()),v!=d;v++){var C=e.readFloat(),j=e.readFloat(),te=e.readFloat()*a;switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,V,j,1),Yt(e,p,S++,v,1,_,C,$,te,a)}_=C,V=j,$=te}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new Sk(h,e.readInt(!0),L),_=e.readFloat(),ne=e.readFloat(),pe=e.readFloat(),le=e.readFloat(),xe=e.readFloat(),Te=e.readFloat(),ye=e.readFloat(),v=0,S=0;p.setFrame(v,_,ne,pe,le,xe,Te,ye),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),me=e.readFloat(),Pe=e.readFloat(),je=e.readFloat(),Le=e.readFloat(),ze=e.readFloat();switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,ne,we,1),Yt(e,p,S++,v,1,_,C,pe,me,1),Yt(e,p,S++,v,2,_,C,le,Pe,1),Yt(e,p,S++,v,3,_,C,xe,je,1),Yt(e,p,S++,v,4,_,C,Te,Le,1),Yt(e,p,S++,v,5,_,C,ye,ze,1)}_=C,ne=we,pe=me,le=Pe,xe=je,Te=Le,ye=ze}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var L=e.readInt(!0),ut=n.pathConstraints[L],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case jDe:i.push(Us(e,new Ck(e.readInt(!0),e.readInt(!0),L),ut.positionMode==zr.Fixed?a:1));break;case $De:i.push(Us(e,new Ak(e.readInt(!0),e.readInt(!0),L),ut.spacingMode==Pn.Length||ut.spacingMode==Pn.Fixed?a:1));break;case GDe:for(var p=new Tk(e.readInt(!0),e.readInt(!0),L),_=e.readFloat(),ne=e.readFloat(),pe=e.readFloat(),le=e.readFloat(),v=0,S=0,d=p.getFrameCount()-1;p.setFrame(v,_,ne,pe,le),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),me=e.readFloat(),Pe=e.readFloat();switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,ne,we,1),Yt(e,p,S++,v,1,_,C,pe,me,1),Yt(e,p,S++,v,2,_,C,le,Pe,1)}_=C,ne=we,pe=me,le=Pe}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var wt=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),Ct=0,it=e.readInt(!0);Ct<it;Ct++){var lt=e.readStringRef();if(!lt)throw new Error("attachmentName must not be null.");var _t=wt.getAttachment(c,lt),f=this.readDeformTimelineType(e),h=e.readInt(!0),d=h-1;switch(f){case p5:{for(var gr=_t,mr=gr.bones,fr=gr.vertices,ir=mr?fr.length/3*2:fr.length,m=e.readInt(!0),p=new Ek(h,m,c,gr),_=e.readFloat(),v=0,S=0;;v++){var It=void 0,Er=e.readInt(!0);if(Er==0)It=mr?ce.newFloatArray(ir):fr;else{It=ce.newFloatArray(ir);var _e=e.readInt(!0);if(Er+=_e,a==1)for(var Se=_e;Se<Er;Se++)It[Se]=e.readFloat();else for(var Se=_e;Se<Er;Se++)It[Se]=e.readFloat()*a;if(!mr)for(var Se=0,Oe=It.length;Se<Oe;Se++)It[Se]+=fr[Se]}if(p.setFrame(v,_,It),v==d)break;var C=e.readFloat();switch(e.readByte()){case Co:p.setStepped(v);break;case Ao:Yt(e,p,S++,v,0,_,C,0,1,1)}_=C}i.push(p);break}case UDe:{for(var p=new Ik(h,c,_t),v=0;v<h;v++){var _=e.readFloat(),qe=e.readInt32();p.setFrame(v,_,sk[qe&15],qe>>4,e.readFloat())}i.push(p);break}}}var Ve=e.readInt(!0);if(Ve>0){for(var p=new Nh(Ve),at=n.slots.length,o=0;o<Ve;o++){for(var _=e.readFloat(),ar=e.readInt(!0),Or=ce.newArray(at,0),l=at-1;l>=0;l--)Or[l]=-1;for(var zn=ce.newArray(at-ar,0),Yn=0,Sr=0,l=0;l<ar;l++){for(var c=e.readInt(!0);Yn!=c;)zn[Sr++]=Yn++;Or[Yn+e.readInt(!0)]=Yn++}for(;Yn<at;)zn[Sr++]=Yn++;for(var l=at-1;l>=0;l--)Or[l]==-1&&(Or[l]=zn[--Sr]);p.setFrame(o,_,Or)}i.push(p)}var wa=e.readInt(!0);if(wa>0){for(var p=new eb(wa),o=0;o<wa;o++){var _=e.readFloat(),Si=n.events[e.readInt(!0)],kn=new Ok(_,Si);kn.intValue=e.readInt(!1),kn.floatValue=e.readFloat(),kn.stringValue=e.readBoolean()?e.readString():Si.stringValue,kn.data.audioPath&&(kn.volume=e.readFloat(),kn.balance=e.readFloat()),p.setFrame(o,kn)}i.push(p)}for(var Sa=0,o=0,s=i.length;o<s;o++)Sa=Math.max(Sa,i[o].getDuration());return new J1(r,i,Sa)},t.BlendModeValues=[Xe.NORMAL,Xe.ADD,Xe.MULTIPLY,Xe.SCREEN],t}(),bDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),EDe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function Us(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Co:e.setStepped(a);break;case Ao:Yt(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function a2(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case Co:e.setStepped(o);break;case Ao:Yt(t,e,s++,o,0,n,l,i,u,r),Yt(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function Yt(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var wDe=0,SDe=1,CDe=2,ADe=3,TDe=4,IDe=5,RDe=6,PDe=7,ODe=8,FDe=9,kDe=0,NDe=1,LDe=2,MDe=3,BDe=4,DDe=5,p5=0,UDe=1,jDe=0,$De=1,GDe=2,Co=1,Ao=2,VDe=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(BF),mz=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Lk,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=ve(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new Pk(n.bones.length,l.name,u);h.length=ve(l,"length",0)*r,h.x=ve(l,"x",0)*r,h.y=ve(l,"y",0)*r,h.rotation=ve(l,"rotation",0),h.scaleX=ve(l,"scaleX",1),h.scaleY=ve(l,"scaleY",1),h.shearX=ve(l,"shearX",0),h.shearY=ve(l,"shearY",0),h.transformMode=ce.enumValue(mt,ve(l,"transform","Normal")),h.skinRequired=ve(l,"skin",!1);var d=ve(l,"color",null);d&&h.color.setFromString(d),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var p=i.slots[c],v=n.findBone(p.bone);if(!v)throw new Error("Couldn't find bone "+p.bone+" for slot "+p.name);var h=new Mk(n.slots.length,p.name,v),d=ve(p,"color",null);d&&h.color.setFromString(d);var m=ve(p,"dark",null);m&&(h.darkColor=De.fromString(m)),h.attachmentName=ve(p,"attachment",null),h.blendMode=t.blendModeFromString(ve(p,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var _=i.ik[c],h=new kk(_.name);h.order=ve(_,"order",0),h.skinRequired=ve(_,"skin",!1);for(var g=0;g<_.bones.length;g++){var x=_.bones[g],E=n.findBone(x);if(E==null)throw new Error("IK bone not found: "+x);h.bones.push(E)}h.target=n.findBone(_.target),h.mix=ve(_,"mix",1),h.softness=ve(_,"softness",0)*r,h.bendDirection=ve(_,"bendPositive",!0)?1:-1,h.compress=ve(_,"compress",!1),h.stretch=ve(_,"stretch",!1),h.uniform=ve(_,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var _=i.transform[c],h=new Bk(_.name);h.order=ve(_,"order",0),h.skinRequired=ve(_,"skin",!1);for(var g=0;g<_.bones.length;g++){var x=_.bones[g],E=n.findBone(x);if(!E)throw new Error("Couldn't find bone "+x+" for transform constraint "+_.name+".");h.bones.push(E)}var b=_.target,S=n.findBone(b);if(!S)throw new Error("Couldn't find target bone "+b+" for transform constraint "+_.name+".");h.target=S,h.local=ve(_,"local",!1),h.relative=ve(_,"relative",!1),h.offsetRotation=ve(_,"rotation",0),h.offsetX=ve(_,"x",0)*r,h.offsetY=ve(_,"y",0)*r,h.offsetScaleX=ve(_,"scaleX",0),h.offsetScaleY=ve(_,"scaleY",0),h.offsetShearY=ve(_,"shearY",0),h.mixRotate=ve(_,"mixRotate",1),h.mixX=ve(_,"mixX",1),h.mixY=ve(_,"mixY",h.mixX),h.mixScaleX=ve(_,"mixScaleX",1),h.mixScaleY=ve(_,"mixScaleY",h.mixScaleX),h.mixShearY=ve(_,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var _=i.path[c],h=new Nk(_.name);h.order=ve(_,"order",0),h.skinRequired=ve(_,"skin",!1);for(var g=0;g<_.bones.length;g++){var x=_.bones[g],E=n.findBone(x);if(!E)throw new Error("Couldn't find bone "+x+" for path constraint "+_.name+".");h.bones.push(E)}var b=_.target,S=n.findSlot(b);if(!S)throw new Error("Couldn't find target slot "+b+" for path constraint "+_.name+".");h.target=S,h.positionMode=ce.enumValue(zr,ve(_,"positionMode","Percent")),h.spacingMode=ce.enumValue(Pn,ve(_,"spacingMode","Length")),h.rotateMode=ce.enumValue(hn,ve(_,"rotateMode","Tangent")),h.offsetRotation=ve(_,"rotation",0),h.position=ve(_,"position",0),h.positionMode==zr.Fixed&&(h.position*=r),h.spacing=ve(_,"spacing",0),(h.spacingMode==Pn.Length||h.spacingMode==Pn.Fixed)&&(h.spacing*=r),h.mixRotate=ve(_,"mixRotate",1),h.mixX=ve(_,"mixX",1),h.mixY=ve(_,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],A=new Ky(C.name);if(C.bones)for(var g=0;g<C.bones.length;g++){var x=C.bones[g],E=n.findBone(x);if(!E)throw new Error("Couldn't find bone "+x+" for skin "+C.name+".");A.bones.push(E)}if(C.ik)for(var g=0;g<C.ik.length;g++){var I=C.ik[g],R=n.findIkConstraint(I);if(!R)throw new Error("Couldn't find IK constraint "+I+" for skin "+C.name+".");A.constraints.push(R)}if(C.transform)for(var g=0;g<C.transform.length;g++){var I=C.transform[g],R=n.findTransformConstraint(I);if(!R)throw new Error("Couldn't find transform constraint "+I+" for skin "+C.name+".");A.constraints.push(R)}if(C.path)for(var g=0;g<C.path.length;g++){var I=C.path[g],R=n.findPathConstraint(I);if(!R)throw new Error("Couldn't find path constraint "+I+" for skin "+C.name+".");A.constraints.push(R)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var p=C.attachments[O];for(var F in p){var N=this.readAttachment(p[F],A,P.index,F,n);N&&A.setAttachment(P.index,F,N)}}n.skins.push(A),A.name=="default"&&(n.defaultSkin=A)}for(var c=0,B=this.linkedMeshes.length;c<B;c++){var U=this.linkedMeshes[c],A=U.skin?n.findSkin(U.skin):n.defaultSkin;if(!A)throw new Error("Skin not found: "+U.skin);var H=A.getAttachment(U.slotIndex,U.parent);if(!H)throw new Error("Parent mesh not found: "+U.parent);U.mesh.timelineAttachment=U.inheritTimeline?H:U.mesh,U.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,i.events)for(var ee in i.events){var J=i.events[ee],h=new Fk(ee);h.intValue=ve(J,"int",0),h.floatValue=ve(J,"float",0),h.stringValue=ve(J,"string",""),h.audioPath=ve(J,"audio",null),h.audioPath&&(h.volume=ve(J,"volume",1),h.balance=ve(J,"balance",0)),n.events.push(h)}if(i.animations)for(var G in i.animations){var L=i.animations[G];this.readAnimation(L,G,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=ve(e,"name",i),ve(e,"type","region")){case"region":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=ve(e,"x",0)*o,l.y=ve(e,"y",0)*o,l.scaleX=ve(e,"scaleX",1),l.scaleY=ve(e,"scaleY",1),l.rotation=ve(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=ve(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=ve(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=ve(e,"color",null);u&&h.color.setFromString(u),h.width=ve(e,"width",0)*o,h.height=ve(e,"height",0)*o,h.sequence=c;var d=ve(e,"parent",null);if(d)return this.linkedMeshes.push(new HDe(h,ve(e,"skin",null),n,d,ve(e,"timelines",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=ve(e,"edges",null),h.hullLength=ve(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=ve(e,"closed",!1),s.constantSpeed=ve(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var m=ce.newArray(v/3,0),_=0;_<e.lengths.length;_++)m[_]=e.lengths[_]*o;s.lengths=m;var u=ve(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(!g)return null;g.x=ve(e,"x",0)*o,g.y=ve(e,"y",0)*o,g.rotation=ve(e,"rotation",0);var u=ve(e,"color",null);return u&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(!x)return null;var E=ve(e,"end",null);if(E!=null){var b=a.findSlot(E);if(b==null)throw new Error("Clipping end slot not found: "+E);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=ve(e,"color",null);return u&&x.color.setFromString(u),x}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new ok(ve(e,"count",0));return r.start=ve(e,"start",1),r.digits=ve(e,"digits",0),r.setupIndex=ve(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var d=new Ec(h,l),p=0;p<h;p++){var v=f[p];d.setFrame(p,ve(v,"time",0),ve(v,"name",null))}a.push(d)}else if(u=="rgba"){for(var d=new mk(h,h<<2,l),v=f[0],m=ve(v,"time",0),_=De.fromString(v.color),p=0,g=0;;p++){d.setFrame(p,m,_.r,_.g,_.b,_.a);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),b=De.fromString(x.color),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,_.r,b.r,1),g=Jt(S,d,g,p,1,m,E,_.g,b.g,1),g=Jt(S,d,g,p,2,m,E,_.b,b.b,1),g=Jt(S,d,g,p,3,m,E,_.a,b.a,1)),m=E,_=b,v=x}a.push(d)}else if(u=="rgb"){for(var d=new _k(h,h*3,l),v=f[0],m=ve(v,"time",0),_=De.fromString(v.color),p=0,g=0;;p++){d.setFrame(p,m,_.r,_.g,_.b);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),b=De.fromString(x.color),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,_.r,b.r,1),g=Jt(S,d,g,p,1,m,E,_.g,b.g,1),g=Jt(S,d,g,p,2,m,E,_.b,b.b,1)),m=E,_=b,v=x}a.push(d)}else if(u=="alpha")a.push(Ko(f,new yk(h,h,l),0,1));else if(u=="rgba2"){for(var d=new xk(h,h*7,l),v=f[0],m=ve(v,"time",0),_=De.fromString(v.light),C=De.fromString(v.dark),p=0,g=0;;p++){d.setFrame(p,m,_.r,_.g,_.b,_.a,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),b=De.fromString(x.light),A=De.fromString(x.dark),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,_.r,b.r,1),g=Jt(S,d,g,p,1,m,E,_.g,b.g,1),g=Jt(S,d,g,p,2,m,E,_.b,b.b,1),g=Jt(S,d,g,p,3,m,E,_.a,b.a,1),g=Jt(S,d,g,p,4,m,E,C.r,A.r,1),g=Jt(S,d,g,p,5,m,E,C.g,A.g,1),g=Jt(S,d,g,p,6,m,E,C.b,A.b,1)),m=E,_=b,C=A,v=x}a.push(d)}else if(u=="rgb2"){for(var d=new bk(h,h*6,l),v=f[0],m=ve(v,"time",0),_=De.fromString(v.light),C=De.fromString(v.dark),p=0,g=0;;p++){d.setFrame(p,m,_.r,_.g,_.b,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),b=De.fromString(x.light),A=De.fromString(x.dark),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,_.r,b.r,1),g=Jt(S,d,g,p,1,m,E,_.g,b.g,1),g=Jt(S,d,g,p,2,m,E,_.b,b.b,1),g=Jt(S,d,g,p,3,m,E,C.r,A.r,1),g=Jt(S,d,g,p,4,m,E,C.g,A.g,1),g=Jt(S,d,g,p,5,m,E,C.b,A.b,1)),m=E,_=b,C=A,v=x}a.push(d)}}}}if(e.bones)for(var I in e.bones){var R=e.bones[I],O=n.findBone(I);if(!O)throw new Error("Bone not found: "+I);var P=O.index;for(var u in R){var f=R[u],F=f.length;if(F!=0){if(u==="rotate")a.push(Ko(f,new _v(F,F,P),0,1));else if(u==="translate"){var d=new lk(F,F<<1,P);a.push(o2(f,d,"x","y",0,i))}else if(u==="translatex"){var d=new uk(F,F,P);a.push(Ko(f,d,0,i))}else if(u==="translatey"){var d=new ck(F,F,P);a.push(Ko(f,d,0,i))}else if(u==="scale"){var d=new fk(F,F<<1,P);a.push(o2(f,d,"x","y",1,1))}else if(u==="scalex"){var d=new hk(F,F,P);a.push(Ko(f,d,1,1))}else if(u==="scaley"){var d=new dk(F,F,P);a.push(Ko(f,d,1,1))}else if(u==="shear"){var d=new pk(F,F<<1,P);a.push(o2(f,d,"x","y",0,1))}else if(u==="shearx"){var d=new vk(F,F,P);a.push(Ko(f,d,0,1))}else if(u==="sheary"){var d=new gk(F,F,P);a.push(Ko(f,d,0,1))}}}}if(e.ik)for(var N in e.ik){var B=e.ik[N],v=B[0];if(v){var U=n.findIkConstraint(N);if(!U)throw new Error("IK Constraint not found: "+N);for(var H=n.ikConstraints.indexOf(U),d=new wk(B.length,B.length<<1,H),m=ve(v,"time",0),ee=ve(v,"mix",1),J=ve(v,"softness",0)*i,p=0,g=0;;p++){d.setFrame(p,m,ee,J,ve(v,"bendPositive",!0)?1:-1,ve(v,"compress",!1),ve(v,"stretch",!1));var x=B[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),G=ve(x,"mix",1),L=ve(x,"softness",0)*i,S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,ee,G,1),g=Jt(S,d,g,p,1,m,E,J,L,i)),m=E,ee=G,J=L,v=x}a.push(d)}}if(e.transform)for(var N in e.transform){var f=e.transform[N],v=f[0];if(v){var U=n.findTransformConstraint(N);if(!U)throw new Error("Transform constraint not found: "+N);for(var H=n.transformConstraints.indexOf(U),d=new Sk(f.length,f.length*6,H),m=ve(v,"time",0),V=ve(v,"mixRotate",1),$=ve(v,"mixX",1),j=ve(v,"mixY",$),te=ve(v,"mixScaleX",1),ne=ve(v,"mixScaleY",te),pe=ve(v,"mixShearY",1),p=0,g=0;;p++){d.setFrame(p,m,V,$,j,te,ne,pe);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),le=ve(x,"mixRotate",1),xe=ve(x,"mixX",1),Te=ve(x,"mixY",xe),ye=ve(x,"mixScaleX",1),we=ve(x,"mixScaleY",ye),me=ve(x,"mixShearY",1),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,V,le,1),g=Jt(S,d,g,p,1,m,E,$,xe,1),g=Jt(S,d,g,p,2,m,E,j,Te,1),g=Jt(S,d,g,p,3,m,E,te,ye,1),g=Jt(S,d,g,p,4,m,E,ne,we,1),g=Jt(S,d,g,p,5,m,E,pe,me,1)),m=E,V=le,$=xe,j=Te,te=ye,ne=we,te=ye,v=x}a.push(d)}}if(e.path)for(var N in e.path){var B=e.path[N],U=n.findPathConstraint(N);if(!U)throw new Error("Path constraint not found: "+N);var H=n.pathConstraints.indexOf(U);for(var u in B){var f=B[u],v=f[0];if(v){var Pe=f.length;if(u==="position"){var d=new Ck(Pe,Pe,H);a.push(Ko(f,d,0,U.positionMode==zr.Fixed?i:1))}else if(u==="spacing"){var d=new Ak(Pe,Pe,H);a.push(Ko(f,d,0,U.spacingMode==Pn.Length||U.spacingMode==Pn.Fixed?i:1))}else if(u==="mix"){for(var d=new Tk(Pe,Pe*3,H),m=ve(v,"time",0),V=ve(v,"mixRotate",1),$=ve(v,"mixX",1),j=ve(v,"mixY",$),p=0,g=0;;p++){d.setFrame(p,m,V,$,j);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),le=ve(x,"mixRotate",1),xe=ve(x,"mixX",1),Te=ve(x,"mixY",xe),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,V,le,1),g=Jt(S,d,g,p,1,m,E,$,xe,1),g=Jt(S,d,g,p,2,m,E,j,Te,1)),m=E,V=le,$=xe,j=Te,v=x}a.push(d)}}}}if(e.deform){e.attachments={};for(var je in e.deform){var Le=e.deform[je],ze=e.attachments[je]={};for(var o in Le){var s=Le[o],ut=ze[o]={};for(var wt in s)ut[wt]={deform:s[wt]}}}}if(e.attachments)for(var Ct in e.attachments){var it=e.attachments[Ct],lt=n.findSkin(Ct);if(lt!=null)for(var _t in it){var s=it[_t],c=n.findSlot(_t);if(!c)throw new Error("Slot not found: "+_t);var l=c.index;for(var gr in s){var mr=s[gr],fr=lt.getAttachment(l,gr);for(var ir in mr){var f=mr[ir],v=f[0];if(v){if(ir=="deform"){for(var It=fr.bones,Er=fr.vertices,_e=It?Er.length/3*2:Er.length,d=new Ek(f.length,f.length,l,fr),m=ve(v,"time",0),p=0,g=0;;p++){var Se=void 0,Oe=ve(v,"vertices",null);if(!Oe)Se=It?ce.newFloatArray(_e):Er;else{Se=ce.newFloatArray(_e);var qe=ve(v,"offset",0);if(ce.arrayCopy(Oe,0,Se,qe,Oe.length),i!=1)for(var Ve=qe,at=Ve+Oe.length;Ve<at;Ve++)Se[Ve]*=i;if(!It)for(var Ve=0;Ve<_e;Ve++)Se[Ve]+=Er[Ve]}d.setFrame(p,m,Se);var x=f[p+1];if(!x){d.shrink(g);break}var E=ve(x,"time",0),S=v.curve;S&&(g=Jt(S,d,g,p,0,m,E,0,1,1)),m=E,v=x}a.push(d)}else if(ir=="sequence"){for(var d=new Ik(f.length,l,fr),ar=0,p=0;p<f.length;p++){var Or=ve(v,"delay",ar),m=ve(v,"time",0),zn=ei[ve(v,"mode","hold")],Yn=ve(v,"index",0);d.setFrame(p,m,zn,Yn,Or),ar=Or,v=f[p+1]}a.push(d)}}}}}}if(e.drawOrder){for(var d=new Nh(e.drawOrder.length),Sr=n.slots.length,p=0,Ve=0;Ve<e.drawOrder.length;Ve++,p++){var wa=e.drawOrder[Ve],Si=null,kn=ve(wa,"offsets",null);if(kn){Si=ce.newArray(Sr,-1);for(var Sa=ce.newArray(Sr-kn.length,0),Xa=0,Ho=0,Gi=0;Gi<kn.length;Gi++){var ul=kn[Gi],c=n.findSlot(ul.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Xa!=l;)Sa[Ho++]=Xa++;Si[Xa+ul.offset]=Xa++}for(;Xa<Sr;)Sa[Ho++]=Xa++;for(var Gi=Sr-1;Gi>=0;Gi--)Si[Gi]==-1&&(Si[Gi]=Sa[--Ho])}d.setFrame(p,ve(wa,"time",0),Si)}a.push(d)}if(e.events){for(var d=new eb(e.events.length),p=0,Ve=0;Ve<e.events.length;Ve++,p++){var Vi=e.events[Ve],po=n.findEvent(Vi.name);if(!po)throw new Error("Event not found: "+Vi.name);var Ci=new Ok(ce.toSinglePrecision(ve(Vi,"time",0)),po);Ci.intValue=ve(Vi,"int",po.intValue),Ci.floatValue=ve(Vi,"float",po.floatValue),Ci.stringValue=ve(Vi,"string",po.stringValue),Ci.data.audioPath&&(Ci.volume=ve(Vi,"volume",1),Ci.balance=ve(Vi,"balance",0)),d.setFrame(p,Ci)}a.push(d)}for(var on=0,Ve=0,at=a.length;Ve<at;Ve++)on=Math.max(on,a[Ve].getDuration());if(isNaN(on))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new J1(r,a,on))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Xe.NORMAL;if(e=="additive")return Xe.ADD;if(e=="multiply")return Xe.MULTIPLY;if(e=="screen")return Xe.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),HDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function Ko(t,e,r,n){for(var i=t[0],a=ve(i,"time",0),o=ve(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=ve(l,"time",0),f=ve(l,"value",r)*n;i.curve&&(s=Jt(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function o2(t,e,r,n,i,a){for(var o=t[0],s=ve(o,"time",0),c=ve(o,r,i)*a,l=ve(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var d=ve(h,"time",0),p=ve(h,r,i)*a,v=ve(h,n,i)*a,m=o.curve;m&&(u=Jt(m,e,u,f,0,s,d,c,p,a),u=Jt(m,e,u,f,1,s,d,l,v,a)),s=d,c=p,l=v,o=h}}function Jt(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,d=t[u+2],p=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,d,p,o,c),r+1}function ve(t,e,r){return t[e]!==void 0?t[e]:r}var XDe=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new vz(r),this.skeleton.updateWorldTransform(),this.stateData=new cz(r),this.state=new sz(this.stateData)},e}(Yv);const WDe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:yk,Animation:J1,AnimationState:sz,AnimationStateAdapter:_De,AnimationStateData:cz,AtlasAttachmentLoader:Rk,Attachment:ik,AttachmentTimeline:Ec,Bone:HI,BoneData:Pk,BoundingBoxAttachment:iz,ClippingAttachment:az,ConstraintData:tb,CurveTimeline:jo,CurveTimeline1:$o,CurveTimeline2:Q1,DeformTimeline:Ek,DrawOrderTimeline:Nh,Event:Ok,EventData:Fk,EventQueue:uz,EventTimeline:eb,get EventType(){return Ji},IkConstraint:fz,IkConstraintData:kk,IkConstraintTimeline:wk,MeshAttachment:Z1,PathAttachment:mv,PathConstraint:hz,PathConstraintData:Nk,PathConstraintMixTimeline:Tk,PathConstraintPositionTimeline:Ck,PathConstraintSpacingTimeline:Ak,PointAttachment:oz,RGB2Timeline:bk,RGBA2Timeline:xk,RGBATimeline:mk,RGBTimeline:_k,RegionAttachment:ak,RotateTimeline:_v,ScaleTimeline:fk,ScaleXTimeline:hk,ScaleYTimeline:dk,Sequence:ok,get SequenceMode(){return ei},SequenceModeValues:sk,SequenceTimeline:Ik,ShearTimeline:pk,ShearXTimeline:vk,ShearYTimeline:gk,Skeleton:vz,SkeletonBinary:gz,SkeletonBounds:VDe,SkeletonData:Lk,SkeletonJson:mz,Skin:Ky,SkinEntry:XI,Slot:dz,SlotData:Mk,get SpacingMode(){return Pn},Spine:XDe,Timeline:pn,TrackEntry:lz,TransformConstraint:pz,TransformConstraintData:Bk,TransformConstraintTimeline:Sk,TranslateTimeline:lk,TranslateXTimeline:uk,TranslateYTimeline:ck,VertexAttachment:ms},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WI=function(t,e){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},WI(t,e)};function _z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");WI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var On;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(On||(On={}));function Zy(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?On.VER37:e==="3.8"?On.VER38:e==="4.0"?On.VER40:e==="4.1"?On.VER41:r<On.VER37?On.VER37:On.UNKNOWN}var zDe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Zy(i);if(a===On.VER38&&(n=new RW(new XF(e))),i=this.readVersionNewFormat(r),a=Zy(i),(a===On.VER40||a===On.VER41)&&(n=new gz(new Rk(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Xy(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Xy(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),YDe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Zy(n),a=null;if(i===On.VER37&&(a=new nz(new VW(e))),i===On.VER38&&(a=new PW(new XF(e))),(i===On.VER40||i===On.VER41)&&(a=new mz(new Rk(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),qDe=function(t){_z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new zDe},e.prototype.createJsonParser=function(){return new YDe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){ja.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(eDe),KDe=function(t){_z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Zy(r.version),i=null;if(n===On.VER37&&(i=mDe),n===On.VER38&&(i=cDe),(n===On.VER40||n===On.VER41)&&(i=WDe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Yv);qDe.registerLoaderPlugin();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)},YI=function(){return YI=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},YI.apply(this,arguments)},Fc={},yz={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.loop=Ks.conditional=Ks.parse=void 0;Ks.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};Ks.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};Ks.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),_n.readBits=_n.readArray=_n.readUnsigned=_n.readString=_n.peekBytes=_n.readBytes=_n.peekByte=_n.readByte=_n.buildStream=void 0;_n.buildStream=function(t){return{data:t,pos:0}};var ZDe=function(){return function(t){return t.data[t.pos++]}};_n.readByte=ZDe;_n.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var rb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};_n.readBytes=rb;_n.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};_n.readString=function(t){return function(e){return Array.from(rb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};_n.readUnsigned=function(t){return function(e){var r=rb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};_n.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=rb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};_n.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Ks,r=_n,n={blocks:function(u){for(var f=[],h=u.data.length,d=0,p=(0,r.readByte)()(u);p!==0&&p;p=(0,r.readByte)()(u)){if(u.pos+p>=h){var v=h-u.pos;f.push((0,r.readBytes)(v)(u)),d+=v;break}f.push((0,r.readBytes)(p)(u)),d+=p}for(var m=new Uint8Array(d),_=0,g=0;g<f.length;g++)m.set(f[g],_),_+=f[g].length;return m}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(yz);var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.deinterlace=void 0;Jy.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.lzw=void 0;Qy.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,d,p,v,m,_,g,x=4096,E=r,b=new Array(r),S=new Array(x),C=new Array(x),A=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)S[u]=0,C[u]=u;for(d=p=v=m=_=g=0,f=0;f<E;){if(m===0){if(p<o){d+=e[g]<<p,p+=8,g++;continue}if(u=d&a,d>>=o,p-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){A[m++]=C[u],l=u,v=u;continue}for(c=u,u==n&&(A[m++]=v,u=l);u>i;)A[m++]=C[u],u=S[u];v=255&C[u],A[m++]=v,n<x&&(S[n]=l,C[n]=v,!(++n&a)&&n<x&&(o++,a+=n)),l=c}m--,b[_++]=A[m],f++}for(f=_;f<E;f++)b[f]=0;return b},Object.defineProperty(Fc,"__esModule",{value:!0});var zm,xz=Fc.decompressFrames=Fc.decompressFrame=bz=Fc.parseGIF=void 0,JDe=(zm=yz)&&zm.__esModule?zm:{default:zm},QDe=Ks,e8e=_n,t8e=Jy,r8e=Qy,bz=Fc.parseGIF=function(t){var e=new Uint8Array(t);return(0,QDe.parse)((0,e8e.buildStream)(e),JDe.default)},Ez=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,r8e.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,t8e.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],d=s.colorTable[h]||[0,0,0];l[f]=d[0],l[f+1]=d[1],l[f+2]=d[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Fc.decompressFrame=Ez;xz=Fc.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return Ez(r,t.gct,e)})};var n8e=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,d){var p={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&d.indexOf(v)<0&&(p[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(v=Object.getOwnPropertySymbols(h);m<v.length;m++)d.indexOf(v[m])<0&&Object.prototype.propertyIsEnumerable.call(h,v[m])&&(p[v[m]]=h[v[m]])}return p}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,vt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}zI(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=bz(r);(function(N){for(var B,U=null,H=0,ee=N.frames;H<ee.length;H++){var J=ee[H];U=(B=J.gce)!==null&&B!==void 0?B:U,"image"in J&&!("gce"in J)&&(J.gce=U)}})(i);var a=xz(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,d=0;d<a.length;d++){var p=a[d],v=p.disposalType,m=v===void 0?2:v,_=p.delay,g=_===void 0?h:_,x=p.patch,E=p.dims,b=E.width,S=E.height,C=E.left,A=E.top;l.width=b,l.height=S,u.clearRect(0,0,b,S);var I=u.createImageData(b,S);I.data.set(x),u.putImageData(I,0,0),c.drawImage(l,C,A);var R=c.getImageData(0,0,s.width,s.height);m!==2&&m!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+g,imageData:R}),f+=g}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,F=O.height;return new e(o,YI({width:P,height:F},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/rt.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:ni.LINEAR,fps:en.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(Na);window.PIXI=kLe;class i8e{constructor(){Ye(this,"currentApp",null);Ye(this,"effectsContainer");Ye(this,"frameDuration",16.67);Ye(this,"notUpdateBacklogEffects",!1);Ye(this,"figureContainer");Ye(this,"figureObjects",[]);Ye(this,"backgroundContainer");Ye(this,"backgroundObjects",[]);Ye(this,"stageAnimations",[]);Ye(this,"assetLoader",new ja);Ye(this,"loadQueue",[]);Ye(this,"live2dFigureRecorder",[]);Ye(this,"lockTransformTarget",[]);Ye(this,"stageWidth",gu().width||Cc.width);Ye(this,"stageHeight",gu().height||Cc.height);Ye(this,"MAX_TEX_COUNT",10);const e=new Wv({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),Dk&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new Vn,this.effectsContainer.zIndex=3,this.figureContainer=new Vn,this.figureContainer.zIndex=2,this.backgroundContainer=new Vn,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:I0(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:I0(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};ue.dispatch(pa.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new Na(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,m=u*d;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new Na(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,m=u*d;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}addBg(e,r,n,i){var h,d;const a=this.assetLoader,o=new r2;this.backgroundObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e);const l=(p,v,m,_)=>{fetch(p).then(g=>g.arrayBuffer()).then(n8e.fromBuffer).then(g=>{v&&(g.transform=v.transform),m&&(g.width=gt(m)),_&&(g.height=gt(_)),o.addChild(g)})};this.backgroundContainer.addChild(o);const u=I0();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var v,m;const p=(m=(v=a.resources)==null?void 0:v[r])==null?void 0:m.texture;if(p&&this.getStageObjByUuid(u)){const _=p.width,g=p.height,x=this.stageWidth/_,E=this.stageHeight/g,b=Math.max(x,E),S=new Na(p);if(S.scale.x=b,S.scale.y=b,S.anchor.set(.5),r.includes(".gif")){l(r,S,n,i);return}S.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(S)}};this.cacheGC(),(d=(h=a.resources)==null?void 0:h[r])!=null&&d.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center"){var u,f;const i=this.assetLoader,a=new r2;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(a);const c=I0();this.figureObjects.push({uuid:c,key:e,pixiContainer:a,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const l=()=>{var d,p;const h=(p=(d=i.resources)==null?void 0:d[r])==null?void 0:p.texture;if(h&&this.getStageObjByUuid(c)){const v=h.width,m=h.height,_=this.stageWidth/v,g=this.stageHeight/m,x=Math.min(_,g),E=new Na(h);E.scale.x=x,E.scale.y=x,E.anchor.set(.5),E.position.y=this.stageHeight/2;const b=v*x,S=m*x;a.setBaseY(this.stageHeight/2),S<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-S/2),n==="center"&&a.setBaseX(this.stageWidth/2),n==="left"&&a.setBaseX(b/2),n==="right"&&a.setBaseX(this.stageWidth-b/2),a.pivot.set(0,this.stageHeight/2),a.addChild(E)}};this.cacheGC(),(f=(u=i.resources)==null?void 0:u[r])!=null&&f.texture?l():this.loadAsset(r,l)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new r2;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=I0();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var d,p;console.log(this.assetLoader.resources);const h=(d=this.assetLoader.resources)==null?void 0:d[i];if(h&&this.getStageObjByUuid(l)){const v=new KDe(h.spineData),m=((p=h==null?void 0:h.spineData)==null?void 0:p.y)??0;console.log(v);const _=v.width,g=v.height,x=this.stageWidth/_,E=this.stageHeight/g;v.y=-(E*m)/2,console.log(v.state),v.state.setAnimation(0,"07",!0);const b=Math.min(x,E),S=new Na;S.addChild(v),S.scale.x=b,S.scale.y=b,S.anchor.set(.5),S.position.y=this.stageHeight/2;const C=_*b,A=g*b;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(S)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const d=(l==null?void 0:l.internalModel)??void 0;(o=(a=d==null?void 0:d.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,d,p;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const m=a.pixiContainer.children;for(const _ of m)_!=null&&_.internalModel&&((s=(o=_==null?void 0:_.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=_==null?void 0:_.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=_==null?void 0:_.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((p=(d=_==null?void 0:_.internalModel)==null?void 0:d.coreModel)==null||p.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){NH()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n){this.loadQueue.unshift({url:e,callback:r,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Ge.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){s2==null||s2(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const s2=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),a8e={version:"IdolTime 1.0.0"},o8e=navigator.userAgent,Dk=!!o8e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s8e=()=>{Ge.info(a8e.version),Ge.info("Made with  by IdolTime"),Dk&&alert(`iOS 
| iOS `),l8e("./game/userStyleSheet.css"),u8e(),AIe("./game/config.txt");const t=Tt("start.txt",xt.scene);Ea(t).then(async e=>{const r=await W.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const i=Pv(n);wd(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");ue.dispatch(or.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),W.gameplay.pixiStage=new i8e,RIe(),PIe()};function l8e(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function u8e(){Np.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)Np.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};W.animationManager.addAnimation(i)}})})}const c8e="_Menu_main_x2m75_1",f8e="_Menu_ShowSoftly_x2m75_1",h8e="_Menu_TagContent_x2m75_10",v5={Menu_main:c8e,Menu_ShowSoftly:f8e,Menu_TagContent:h8e},d8e="_Save_Load_main_r8j2k_2",p8e="_extra_video_main_r8j2k_12",v8e="_goback_r8j2k_16",g8e="_Elements_in_r8j2k_1",m8e="_extraVideo_goback_r8j2k_36",_8e="_Save_Load_title_r8j2k_41",y8e="_Save_title_text_r8j2k_57",x8e="_Load_title_text_r8j2k_65",b8e="_Save_Load_top_buttonList_r8j2k_73",E8e="_extra_video_top_buttonList_r8j2k_78",w8e="_Save_Load_top_button_r8j2k_73",S8e="_Save_Load_top_button_on_r8j2k_107",C8e="_Load_top_button_on_r8j2k_120",A8e="_Load_top_button_r8j2k_120",T8e="_Save_Load_content_r8j2k_133",I8e="_Save_Load_content_element_r8j2k_142",R8e="_Elements_in_transform_r8j2k_1",P8e="_Save_Load_content_element_top_r8j2k_158",O8e="_Save_Load_content_element_top_index_r8j2k_165",F8e="_Load_content_elememt_top_index_r8j2k_174",k8e="_Save_Load_content_element_top_date_r8j2k_178",N8e="_Load_content_element_top_date_r8j2k_189",L8e="_Save_Load_content_text_r8j2k_193",M8e="_Save_Load_content_text_padding_r8j2k_207",B8e="_Save_Load_content_speaker_r8j2k_211",D8e="_Load_content_speaker_r8j2k_220",U8e="_Load_content_text_r8j2k_224",j8e="_Save_Load_content_miniRen_r8j2k_228",$8e="_Save_Load_content_miniRen_bg_r8j2k_235",G8e="_Save_Load_content_miniRen_figure_r8j2k_242",V8e="_Save_Load_content_miniRen_figLeft_r8j2k_250",H8e="_Save_Load_content_miniRen_figRight_r8j2k_255",Ke={Save_Load_main:d8e,extra_video_main:p8e,goback:v8e,Elements_in:g8e,extraVideo_goback:m8e,Save_Load_title:_8e,Save_title_text:y8e,Load_title_text:x8e,Save_Load_top_buttonList:b8e,extra_video_top_buttonList:E8e,Save_Load_top_button:w8e,Save_Load_top_button_on:S8e,Load_top_button_on:C8e,Load_top_button:A8e,Save_Load_content:T8e,Save_Load_content_element:I8e,Elements_in_transform:R8e,Save_Load_content_element_top:P8e,Save_Load_content_element_top_index:O8e,Load_content_elememt_top_index:F8e,Save_Load_content_element_top_date:k8e,Load_content_element_top_date:N8e,Save_Load_content_text:L8e,Save_Load_content_text_padding:M8e,Save_Load_content_speaker:B8e,Load_content_speaker:D8e,Load_content_text:U8e,Save_Load_content_miniRen:j8e,Save_Load_content_miniRen_bg:$8e,Save_Load_content_miniRen_figure:G8e,Save_Load_content_miniRen_figLeft:V8e,Save_Load_content_miniRen_figRight:H8e},X8e="_GlobalDialog_main_101j8_2",W8e="_showGlobalDialog_101j8_1",z8e="_glabalDialog_container_inner_101j8_17",Y8e="_glabalDialog_container_101j8_17",q8e="_title_101j8_36",K8e="_button_list_101j8_41",Z8e="_button_101j8_41",qu={GlobalDialog_main:X8e,showGlobalDialog:W8e,glabalDialog_container_inner:z8e,glabalDialog_container:Y8e,title:q8e,button_list:K8e,button:Z8e};function J8e(){const t=tt(e=>e.GUI.showGlobalDialog);return M.jsx(M.Fragment,{children:t&&M.jsx("div",{id:"globalDialogContainer"})})}function wz(t){const{playSeClick:e,playSeEnter:r}=eO();ue.dispatch(pt({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),g5()},i=()=>{e(),t.rightFunc(),g5()},a=M.jsx("div",{className:qu.GlobalDialog_main,children:M.jsx("div",{className:qu.glabalDialog_container,children:M.jsxs("div",{className:qu.glabalDialog_container_inner,children:[M.jsx("div",{className:qu.title,children:t.title}),M.jsxs("div",{className:qu.button_list,children:[M.jsx("div",{className:`${qu.button} interactive`,onClick:n,onMouseEnter:r,children:t.leftText}),M.jsx("div",{className:`${qu.button} interactive`,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{Mc.render(a,document.getElementById("globalDialogContainer"))},100)}function g5(){ue.dispatch(pt({component:"showGlobalDialog",visibility:!1}))}function Uk(t,e){if(t==null)return{};var r=rwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Q8e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const eUe=wi(Q8e);var tUe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function m5(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(eUe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(tUe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var rUe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,nUe=/^\s*$/,iUe=Object.create(null);function Sz(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(Sz,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var aUe={parse:function(t,e){e||(e={}),e.components||(e.components=iUe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(rUe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),d=l+c.length,p=t.charAt(d);if(h){var v=m5(c);return a<0?(n.push(v),n):((u=i[a]).children.push(v),n)}if(f&&(a++,(r=m5(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!p||p==="<"||r.children.push({type:"text",content:t.slice(d,t.indexOf("<",d))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&p!=="<"&&p)){u=a===-1?n:i[a].children;var m=t.indexOf("<",d),_=t.slice(d,m===-1?void 0:m);nUe.test(_)&&(_=" "),(m>-1&&a+u.length>=0||_!==" ")&&u.push({type:"text",content:_})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+Sz("",r)},"")}};function U_(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var _5={};function ex(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&_5[e[0]]||(typeof e[0]=="string"&&(_5[e[0]]=new Date),U_.apply(void 0,e))}var Cz=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function y5(t,e,r){t.loadNamespaces(e,Cz(t,r))}function x5(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Cz(t,n))}function oUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function sUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return ex("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):oUe(t,e,r)}var lUe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uUe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},cUe=function(e){return uUe[e]},fUe=function(e){return e.replace(lUe,cUe)};function b5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fUe};function hUe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qI=E5(E5({},qI),t)}function Az(){return qI}var Tz;function dUe(t){Tz=t}function jk(){return Tz}var pUe=["format"],vUe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function w5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function u2(t){return t?t.props?t.props.children:t.children:[]}function gUe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return he.isValidElement(e)})}function H0(t){return Array.isArray(t)?t:[t]}function mUe(t,e){var r=Dn({},e);return r.props=Object.assign(t.props,e.props),r}function Iz(t,e){if(!t)return"";var r="",n=H0(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(he.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=Iz(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)U_("Trans: the passed in value is invalid - seems you passed in a null child.");else if(ri(a)==="object"){var f=a.format,h=Uk(a,pUe),d=Object.keys(h);if(d.length===1){var p=f?"".concat(d[0],", ").concat(f):d[0];r+="{{".concat(p,"}}")}else U_("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else U_("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function _Ue(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(m){var _=H0(m);_.forEach(function(g){typeof g!="string"&&(l2(g)?l(u2(g)):ri(g)==="object"&&!he.isValidElement(g)&&Object.assign(c,g))})}l(t);var u=aUe.parse("<0>".concat(e,"</0>")),f=Dn(Dn({},c),i);function h(m,_,g){var x=u2(m),E=p(x,_.children,g);return gUe(x)&&E.length===0?x:E}function d(m,_,g,x,E){m.dummy&&(m.children=_),g.push(he.cloneElement(m,Dn(Dn({},m.props),{},{key:x}),E?void 0:_))}function p(m,_,g){var x=H0(m),E=H0(_);return E.reduce(function(b,S,C){var A=S.children&&S.children[0]&&S.children[0].content&&r.services.interpolator.interpolate(S.children[0].content,f,r.language);if(S.type==="tag"){var I=x[parseInt(S.name,10)];!I&&g.length===1&&g[0][S.name]&&(I=g[0][S.name]),I||(I={});var R=Object.keys(S.attrs).length!==0?mUe({props:S.attrs},I):I,O=he.isValidElement(R),P=O&&l2(S,!0)&&!S.voidElement,F=s&&ri(R)==="object"&&R.dummy&&!O,N=ri(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,S.name);if(typeof R=="string"){var B=r.services.interpolator.interpolate(R,f,r.language);b.push(B)}else if(l2(R)||P){var U=h(R,S,g);d(R,U,b,C)}else if(F){var H=p(x,S.children,g);b.push(he.cloneElement(R,Dn(Dn({},R.props),{},{key:C}),H))}else if(Number.isNaN(parseFloat(S.name)))if(N){var ee=h(R,S,g);d(R,ee,b,C,S.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(S.name)>-1)if(S.voidElement)b.push(he.createElement(S.name,{key:"".concat(S.name,"-").concat(C)}));else{var J=p(x,S.children,g);b.push(he.createElement(S.name,{key:"".concat(S.name,"-").concat(C)},J))}else if(S.voidElement)b.push("<".concat(S.name," />"));else{var G=p(x,S.children,g);b.push("<".concat(S.name,">").concat(G,"</").concat(S.name,">"))}else if(ri(R)==="object"&&!O){var L=S.children[0]?A:null;L&&b.push(L)}else S.children.length===1&&A?b.push(he.cloneElement(R,Dn(Dn({},R.props),{},{key:C}),A)):b.push(he.cloneElement(R,Dn(Dn({},R.props),{},{key:C})))}else if(S.type==="text"){var V=n.transWrapTextNodes,$=a?n.unescape(r.services.interpolator.interpolate(S.content,f,r.language)):r.services.interpolator.interpolate(S.content,f,r.language);V?b.push(he.createElement(V,{key:"".concat(S.name,"-").concat(C)},$)):b.push($)}return b},[])}var v=p([{dummy:!0,children:t||[]}],u,H0(t||[]));return u2(v[0])}function yUe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=Uk(t,vUe),m=h||jk();if(!m)return ex("You will need to pass in an i18next instance by using i18nextReactModule"),e;var _=d||m.t.bind(m)||function(P){return P};a&&(s.context=a);var g=Dn(Dn({},Az()),m.options&&m.options.react),x=f||_.ns||m.options&&m.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var E=l||Iz(e,g)||g.transEmptyNodeValue||i,b=g.hashTransKey,S=i||(b?b(E):E),C=c?s.interpolation:{interpolation:Dn(Dn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=Dn(Dn(Dn(Dn({},s),{},{count:r},c),C),{},{defaultValue:E,ns:x}),I=S?_(S,A):E,R=_Ue(u||e,I,m,g,A,p),O=n!==void 0?n:g.defaultTransParent;return O?he.createElement(O,v,R):R}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r9(n.key),n)}}function Vo(t,e,r){return e&&S5(t.prototype,e),r&&S5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var xUe={type:"3rdParty",init:function(e){hUe(e.options.react),dUe(e)}},Rz=he.createContext(),bUe=function(){function t(){Go(this,t),this.usedNamespaces={}}return Vo(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),EUe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function C5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wUe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SUe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=Uk(t,EUe),m=he.useContext(Rz)||{},_=m.i18n,g=m.defaultNS,x=h||_||jk(),E=d||x&&x.t.bind(x);return yUe(wUe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||E&&E.ns||g||x&&x.options&&x.options.defaultNS,i18n:x,t:d,shouldUnescape:p},v))}function Pz(t){if(Array.isArray(t))return t}function CUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oz(t,e){if(t){if(typeof t=="string")return A5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(t,e)}}function Fz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AUe(t,e){return Pz(t)||CUe(t,e)||Oz(t,e)||Fz()}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TUe=function(e,r){var n=he.useRef();return he.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=he.useContext(Rz)||{},i=n.i18n,a=n.defaultNS,o=r||i||jk();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new bUe),!o){ex("You will need to pass in an i18next instance by using initReactI18next");var s=function(I,R){return typeof R=="string"?R:R&&ri(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(I)?I[I.length-1]:I},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&ex("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=c2(c2(c2({},Az()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var d=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(A){return sUe(A,o,l)});function p(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=he.useState(p),m=AUe(v,2),_=m[0],g=m[1],x=h.join();e.lng&&(x="".concat(e.lng).concat(x));var E=TUe(x),b=he.useRef(!0);he.useEffect(function(){var A=l.bindI18n,I=l.bindI18nStore;b.current=!0,!d&&!u&&(e.lng?x5(o,e.lng,h,function(){b.current&&g(p)}):y5(o,h,function(){b.current&&g(p)})),d&&E&&E!==x&&b.current&&g(p);function R(){b.current&&g(p)}return A&&o&&o.on(A,R),I&&o&&o.store.on(I,R),function(){b.current=!1,A&&o&&A.split(" ").forEach(function(O){return o.off(O,R)}),I&&o&&I.split(" ").forEach(function(O){return o.store.off(O,R)})}},[o,x]);var S=he.useRef(!0);he.useEffect(function(){b.current&&!S.current&&g(p),S.current=!1},[o,f]);var C=[_,o,d];if(C.t=_,C.i18n=o,C.ready=d,d||!d&&!u)return C;throw new Promise(function(A){e.lng?x5(o,e.lng,h,function(){return A()}):y5(o,h,function(){return A()})})}function _s(t){const{t:e}=nb(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const IUe=()=>{const{playSePageChange:t,playSeEnter:e,playSeDialogOpen:r}=li(),n=tt(d=>d.userData),i=tt(d=>d.saveData),a=qr(),o=[];for(let d=1;d<=20;d++){let p=Ke.Save_Load_top_button;d===n.optionData.slPage&&(p=p+" "+Ke.Save_Load_top_button_on);const v=M.jsx("div",{onClick:()=>{a(my(d)),$n(),t()},onMouseEnter:e,className:`${p} interactive`,children:M.jsx("div",{className:Ke.Save_Load_top_button_text,children:d})},"Save_element_page"+d);o.push(v)}const s=_s("common."),c=[],l=(n.optionData.slPage-1)*10+1,u=l+9;he.useEffect(()=>{Uv(l,u)},[l,u]);let f=0;for(let d=l;d<=u;d++){f++;const p=i.saveData[d];let v=M.jsx("div",{});if(p){const _=p.nowStageState.showName===""?"":`${p.nowStageState.showName}`;v=M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[M.jsx("div",{className:Ke.Save_Load_content_element_top_index,children:p.index}),M.jsx("div",{className:Ke.Save_Load_content_element_top_date,children:p.saveTime})]}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage})}),M.jsxs("div",{className:Ke.Save_Load_content_text,children:[M.jsx("div",{className:Ke.Save_Load_content_speaker,children:_}),M.jsx("div",{className:Ke.Save_Load_content_text_padding,children:p.nowStageState.showText})]})]})}const m=M.jsx("div",{onClick:()=>{i.saveData[d]?(r(),wz({title:h("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{Ty(d),$n()},rightFunc:()=>{}})):(t(),Ty(d))},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`},children:v},"saveElement_"+d);c.push(m)}const h=_s("menu.");return M.jsxs("div",{className:Ke.Save_Load_main,children:[M.jsxs("div",{className:Ke.Save_Load_top,children:[M.jsx("div",{className:Ke.Save_Load_title,children:M.jsx("div",{className:Ke.Save_title_text,children:h("saving.title")})}),M.jsx("div",{className:Ke.Save_Load_top_buttonList,children:o})]}),M.jsx("div",{className:Ke.Save_Load_content,id:"Save_content_page_"+n.optionData.slPage,children:c})]})},RUe=()=>{var m,_,g,x,E,b,S;const t=qr(),{playSeClick:e,playSeEnter:r,playSePageChange:n}=li(),i=tt(C=>C.userData),a=tt(C=>C.saveData),o=tt(C=>C.GUI.gameUIConfigs[Un.load]),s=[];for(let C=1;C<=20;C++){let A=Ke.Save_Load_top_button+" "+Ke.Load_top_button;C===i.optionData.slPage&&(A=A+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on);const I=M.jsx("div",{onClick:()=>{t(my(C)),$n(),n()},onMouseEnter:r,className:`${A} interactive`,children:M.jsx("div",{className:Ke.Save_Load_top_button_text,style:v((m=o==null?void 0:o.other)==null?void 0:m.Load_indicator,{hasDisplay:!1,imgType:xt.ui}),children:C})},"Load_element_page"+C);s.push(I)}const c=[],l=(i.optionData.slPage-1)*10+1,u=l+9;he.useEffect(()=>{Uv(l,u)},[l,u]);let f=0;for(let C=l;C<=u;C++){f++;const A=a.saveData[C];let I=M.jsx("div",{});if(A){const O=A.nowStageState.showName===""?"":`${A.nowStageState.showName}`;I=M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[M.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:A.index}),M.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,children:A.saveTime})]}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:A.previewImage})}),M.jsxs("div",{className:Ke.Save_Load_content_text,children:[M.jsx("div",{className:Ke.Save_Load_content_speaker+" "+Ke.Load_content_speaker,children:O}),M.jsx("div",{className:Ke.Save_Load_content_text_padding,children:A.nowStageState.showText})]})]})}const R=M.jsx("div",{onClick:()=>{D7(C),e()},onMouseEnter:r,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`,...v((_=o==null?void 0:o.other)==null?void 0:_.Load_locked_item,{hasDisplay:!0,imgType:xt.ui})},children:I},"loadElement_"+C);c.push(R)}const h=_s("menu."),d=()=>{e(),t(pt({component:"showMenuPanel",visibility:!1}))};function p(C,A){return Tt(C,A)}function v(C,{hasDisplay:A=!1,id:I="",imgType:R}){const O={},P=C==null?void 0:C.args;if(!P||P!=null&&P.hide&&!A)return O;P!=null&&P.hide&&A&&(O.display="none");const F=P.style,N=/\.(png|jpeg|jpg|webp|icon|fig)$/;if(F!=null&&F.image)if(N.test(F.image)&&R)O.backgroundImage=`url(${p(F==null?void 0:F.image,R)})`,O.position=F.position,O.backgroundSize="100% 100%",O.backgroundRepeat="no-repeat";else{const B=document.getElementById(I);B&&(B.innerText=F==null?void 0:F.image)}return F!=null&&F.scale&&(O.transform=`scale(${F.scale})`),typeof(F==null?void 0:F.x)=="number"&&(O.top=`${gt(F.x)}px`),typeof(F==null?void 0:F.y)=="number"&&(O.top=`${gt(F.y)}px`),F!=null&&F.width&&(O.width=`${gt(F.width)}px`),F!=null&&F.height&&(O.height=`${gt(F.height)}px`),F!=null&&F.height&&(O.height=`${gt(F.height)}px`),F!=null&&F.fontColor&&(O.color=F.fontColor),F!=null&&F.fontSize&&(O.fontSize=F.fontSize),O}return M.jsxs("div",{className:Ke.Save_Load_main,style:v((g=o==null?void 0:o.other)==null?void 0:g.Load_bg,{hasDisplay:!1,imgType:xt.background}),children:[M.jsxs("div",{className:Ke.Save_Load_top,children:[M.jsx("div",{className:`${Ke.goback} interactive`,style:v((x=o==null?void 0:o.buttons)==null?void 0:x.Load_back_button,{hasDisplay:!0,imgType:xt.ui}),onClick:d,onMouseEnter:r}),M.jsx("div",{className:Ke.Save_Load_title,style:v((E=o==null?void 0:o.other)==null?void 0:E.Load_title,{hasDisplay:!0,id:(b=o==null?void 0:o.other)==null?void 0:b.Load_title.key}),children:M.jsx("div",{id:(S=o==null?void 0:o.other)==null?void 0:S.Load_title.key,className:Ke.Load_title_text,children:h("loadSaving.title")})}),M.jsx("div",{className:Ke.Save_Load_top_buttonList,children:s})]}),M.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+i.optionData.slPage,children:c})]})},PUe="_Options_main_1i312_2",OUe="_Options_bg_1i312_11",FUe="_Options_back_1i312_23",kUe="_Options_checkbox_1i312_39",NUe="_Options_main_slider_1i312_57",LUe="_Options_light_slider_1i312_67",MUe="_label_1i312_77",BUe="_Options_sound_slider_1i312_83",DUe="_Options_checkbox_window_1i312_94",UUe="_Options_checkbox_active_1i312_101",jUe="_Options_top_1i312_105",$Ue="_Options_title_1i312_112",GUe="_Option_title_text_1i312_121",VUe="_Elements_in_1i312_1",HUe="_Option_title_text_shadow_1i312_130",XUe="_Option_title_text_ts_1i312_137",WUe="_Options_main_content_1i312_144",zUe="_Options_main_content_half_1i312_151",YUe="_About_title_text_1i312_161",qUe="_About_text_1i312_169",KUe="_Options_page_container_1i312_188",ZUe="_Options_button_list_1i312_194",JUe="_Options_page_button_1i312_198",QUe="_Options_page_button_active_1i312_210",Eo={Options_main:PUe,Options_bg:OUe,Options_back:FUe,Options_checkbox:kUe,Options_main_slider:NUe,Options_light_slider:LUe,label:MUe,Options_sound_slider:BUe,Options_checkbox_window:DUe,Options_checkbox_active:UUe,Options_top:jUe,Options_title:$Ue,Option_title_text:GUe,Elements_in:VUe,Option_title_text_shadow:HUe,Option_title_text_ts:XUe,Options_main_content:WUe,Options_main_content_half:zUe,About_title_text:YUe,About_text:qUe,Options_page_container:KUe,Options_button_list:ZUe,Options_page_button:JUe,Options_page_button_active:QUe},e6e="_OptionVideoSize_main_obggw_1",t6e="_label_obggw_5",r6e="_Options_checkbox_obggw_9",n6e="_Options_checkbox_1080P_obggw_24",i6e="_Options_checkbox_720P_obggw_28",a6e="_Options_checkbox_active_obggw_32",o6e="_option_item_obggw_35",s6e="_option_item_checkbox_obggw_49",l6e="_option_item_checkbox_active_obggw_60",Cl={OptionVideoSize_main:e6e,label:t6e,Options_checkbox:r6e,Options_checkbox_1080P:n6e,Options_checkbox_720P:i6e,Options_checkbox_active:a6e,option_item:o6e,option_item_checkbox:s6e,option_item_checkbox_active:l6e},u6e=t=>{const e=qr(),{playSeEnter:r,playSeClick:n}=li(),i=tt(p=>p.userData),[a,o]=he.useState(Oi.Size720P),[s,c]=he.useState(!1),l=tt(p=>p.GUI.gameUIConfigs[Un.option]),u=[Oi.Size1080P,Oi.Size720P];function f(){let p=1440,v=2560;const m=(a==null?void 0:a.split("x"))||[];(m==null?void 0:m.length)===2&&(v=parseInt(m[0])*2,p=parseInt(m[1])*2,e(ct({key:"storyLineBgX",value:parseInt(m[0])})),e(ct({key:"storyLineBgY",value:parseInt(m[1])})));const _=window.innerHeight,g=window.innerWidth,x=_/p,E=g/v,b=g/p,S=_/v;let C=(p-_)/2,A=(v-g)/2,I=v/2-g/2,R=p/2-_/2,O="",P="";const F=document.getElementById("root"),N=document.getElementById("Title_enter_page"),B=document.getElementById("ebg"),U=[F,N];if(F&&(F.style.width=`${v}px`,F.style.height=`${p}px`),N&&(N.style.width=`${v}px`,N.style.height=`${p}px`),g>_){const H=document.getElementById("ebg");H&&(H.style.height="100vh",H.style.width="100vw",P=""),A=-A,C=-C,g*(9/16)>=_&&(O=`translate(${A}px, ${C}px) scale(${x},${x})`),g*(9/16)<_&&(O=`translate(${A}px, ${C}px) scale(${E},${E})`)}else if(B&&(B.style.height=`${p}px`,B.style.width=`${v}px`),R=-R,_*(9/16)>=g&&(P=`rotate(90deg) translate(${R}px, ${I}px) scale(${b*1.75},${b*1.75})`,O=`rotate(90deg) translate(${R}px, ${I}px) scale(${b},${b})`),_*(9/16)<g&&(P=`rotate(90deg) translate(${R}px, ${I}px) scale(${S*1.75},${S*1.75})`,O=`rotate(90deg) translate(${R}px, ${I}px) scale(${S},${S})`),window&&(window!=null&&window.isIOSDevice)){const H=g/v;O=`translate(${-A}px, ${-C}px) scale(${H},${H})`}B&&(B.style.transform=P);for(const H of U)H&&(H.style.transform=O);h(v,p)}he.useEffect(()=>{var p;s&&(f(),window.onload=f,window.onresize=f,setTimeout(()=>{c(!1)},500),t!=null&&t.onUpdate&&((p=t.onUpdate)==null||p.call(t)))},[s]);function h(p,v){const m=document.documentElement;m.style.setProperty("--screenWidth",`${p}px`),m.style.setProperty("--screenHeight",`${v}px`);const _=a===Oi.Size1080P?3:2,g=a===Oi.Size1080P?3.2:2,x=a===Oi.Size1080P?.3333:.5;m.style.setProperty("--scale-factor",`${x}`),m.style.setProperty("--options_checkbox_top",`${239*_}px`),m.style.setProperty("--options_checkbox_left",`${441*_}px`),m.style.setProperty("--options_checkbox_window_top",`${218*g}px`),m.style.setProperty("--options_checkbox_window_left",`${661*_}px`),m.style.setProperty("--options_checkbox_1080P_top",`${266*g}px`),m.style.setProperty("--options_checkbox_1080P_left",`${441*_}px`),m.style.setProperty("--options_checkbox_720P_top",`${266*g}px`),m.style.setProperty("--options_checkbox_720P_left",`${640*_}px`),m.style.setProperty("--options_light_slider_top",`${375*_}px`),m.style.setProperty("--options_light_slider_left",`${622*_}px`),m.style.setProperty("--options_sound_slider_top",`${445*_}px`),m.style.setProperty("--options_sound_slider_left",`${622*_}px`),m.style.setProperty("--options_light_main_top",`${510*_}px`),m.style.setProperty("--options_light_main_left",`${622*_}px`)}function d(){const p=document.getElementById("Title_enter_page"),v=document.getElementById("root");p&&(p.style.width=`${a===Oi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,p.style.height=`${a===Oi.Size1080P?`${1080*2}px`:`${720*2}px`}`),v&&(v.style.width=`${a===Oi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,v.style.height=`${a===Oi.Size1080P?`${1080*2}px`:`${720*2}px`}`)}return M.jsxs("div",{className:Cl.OptionVideoSize_main,children:[t.label&&M.jsx("label",{className:Cl.label,children:t.label}),M.jsx(Di,{type:"checkbox",checked:i.optionData.videoSize===Oi.Size1080P,item:l.other[ka.Option_videoSize1080_checkbox],defaultClass:`${Cl.Options_checkbox} ${Cl.Options_checkbox_1080P} ${i.optionData.videoSize===Oi.Size1080P?Cl.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[0]),gu(u[0]),o(u[0]),d(),e(Ro({key:"videoSize",value:u[0]})),$n(),c(!0)}},ka.Option_videoSize1080_checkbox),M.jsx(Di,{type:"checkbox",checked:i.optionData.videoSize===Oi.Size720P,item:l.other[ka.Option_videoSize720_checkbox],defaultClass:`${Cl.Options_checkbox} ${Cl.Options_checkbox_720P} ${i.optionData.videoSize===Oi.Size720P?Cl.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[1]),gu(u[1]),o(u[1]),d(),e(Ro({key:"videoSize",value:u[1]})),$n(),c(!0)}},ka.Option_videoSize720_checkbox)]})},Ym={min:50,max:100},c6e=()=>{const{playSeEnter:t,playSeSwitch:e,playSeClick:r}=li(),n=tt(c=>c.userData);Gc(0);const[i,a]=he.useState(!1);he.useEffect(Iy,[]);const o=qr(),s=tt(c=>c.GUI.gameUIConfigs[Un.option]);return _s("menu.options."),M.jsxs("div",{className:Eo.Options_main,children:[M.jsx(Vl,{item:s.other[ka.Option_bg],defaultClass:Eo.Options_bg}),M.jsx(Di,{item:s.buttons[P1.Option_back_button],defaultClass:`${Eo.Options_back} interactive`,onMouseEnter:t,onClick:()=>{r(),o(pt({component:"showMenuPanel",visibility:!1}))}}),M.jsx(Di,{checked:n.optionData.fullScreen===oo.on,item:s.other[ka.Option_fullscreen_checkbox],defaultClass:`${Eo.Options_checkbox} ${n.optionData.fullScreen?"":Eo.Options_checkbox_active} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),o(Ro({key:"fullScreen",value:oo.on})),$n()}}),M.jsx(Di,{checked:n.optionData.fullScreen===oo.off,item:s.other[ka.Option_window_checkbox],defaultClass:`${Eo.Options_checkbox} ${Eo.Options_checkbox_window} ${n.optionData.fullScreen?Eo.Options_checkbox_active:""} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),o(Ro({key:"fullScreen",value:oo.off})),$n()}}),M.jsx(u6e,{onUpdate:()=>a(!i)}),M.jsx(fC,{item:s.other[ka.Options_light_slider],defaultClass:`${Eo.Options_light_slider} interactive`,initValue:n.optionData.uiLight,uniqueID:"light",min:Ym.min,max:Ym.max,isUpdate:i,onChange:c=>{let l=Number(c.target.value);l<Ym.min&&(l=Ym.min),U7(l),o(Ro({key:"uiLight",value:l})),$n()}}),M.jsx(fC,{item:s.other[ka.Option_effect_volume_slider],defaultClass:`${Eo.Options_sound_slider} interactive`,initValue:n.optionData.seVolume,uniqueID:"seVolume",isUpdate:i,onChange:c=>{const l=c.target.value;o(Ro({key:"seVolume",value:Number(l)})),o(Ro({key:"uiSeVolume",value:Number(l)})),$n()}}),M.jsx(fC,{initValue:n.optionData.volumeMain,item:s.other[ka.Option_global_volume_slider],defaultClass:`${Eo.Options_main_slider} interactive`,uniqueID:"volumeMain",isUpdate:i,onChange:c=>{const l=c.target.value;o(Ro({key:"volumeMain",value:Number(l)})),$n()}})]})},f6e=()=>{const t=tt(r=>r.GUI);let e;switch(t.currentMenuTag){case ya.Save:e=M.jsx(IUe,{});break;case ya.Load:e=M.jsx(RUe,{});break;case ya.Option:e=M.jsx(c6e,{});break}return M.jsx(M.Fragment,{children:t.showMenuPanel&&M.jsx("div",{className:v5.Menu_main,children:M.jsx("div",{className:v5.Menu_TagContent,children:e})})})},h6e="_MainStage_main_9enex_1",d6e="_MainStage_main_container_9enex_10",p6e="_MainStage_bgContainer_9enex_17",v6e="_MainStage_showBgSoftly_9enex_1",g6e="_MainStage_bgContainer_Settled_9enex_27",m6e="_MainStage_oldBgContainer_9enex_37",_6e="_MainStage_oldBgFadeout_9enex_1",y6e="_MainStage_oldBgContainer_Settled_9enex_47",x6e="_pixiContainer_9enex_72",b6e="_chooseContainer_9enex_77",f2={MainStage_main:h6e,MainStage_main_container:d6e,MainStage_bgContainer:p6e,MainStage_showBgSoftly:v6e,MainStage_bgContainer_Settled:g6e,MainStage_oldBgContainer:m6e,MainStage_oldBgFadeout:_6e,MainStage_oldBgContainer_Settled:y6e,pixiContainer:x6e,chooseContainer:b6e};function E6e(){const t=tt(r=>r.userData.optionData.textboxFont);function e(){return T1(t).with(Sc.song,()=>'"", serif').with(Sc.lxgw,()=>'"LXGW", serif').with(Sc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function I5(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const w6e="_TextBox_EventHandler_sfdz2_1",S6e="_TextBox_Container_sfdz2_9",C6e="_showSoftly_sfdz2_1",A6e="_TextBox_main_sfdz2_17",T6e="_TextBox_Background_sfdz2_38",I6e="_TextBox_textElement_start_sfdz2_51",R6e="_TextDelayShow_sfdz2_1",P6e="_outer_sfdz2_57",O6e="_inner_sfdz2_69",F6e="_zhanwei_sfdz2_78",k6e="_TextBox_textElement_Settled_sfdz2_83",N6e="_TextBox_showName_sfdz2_88",L6e="_TextBox_ShowName_Background_sfdz2_101",M6e="_miniAvatarContainer_sfdz2_116",B6e="_miniAvatarImg_sfdz2_126",D6e="_nameContainer_sfdz2_134",U6e="_outerName_sfdz2_140",j6e="_innerName_sfdz2_151",$6e="_text_sfdz2_158",kr={TextBox_EventHandler:w6e,TextBox_Container:S6e,showSoftly:C6e,TextBox_main:A6e,TextBox_Background:T6e,TextBox_textElement_start:I6e,TextDelayShow:R6e,outer:P6e,inner:O6e,zhanwei:F6e,TextBox_textElement_Settled:k6e,TextBox_showName:N6e,TextBox_ShowName_Background:L6e,miniAvatarContainer:M6e,miniAvatarImg:B6e,nameContainer:D6e,outerName:U6e,innerName:j6e,text:$6e};function G6e(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:d,textboxOpacity:p}=t,v=DO("Stage/TextBox/textbox.scss");he.useEffect(()=>{function g(){[...document.querySelectorAll(".Textelement_start")].forEach(b=>{b.className=v("TextBox_textElement_Settled",kr.TextBox_textElement_Settled)})}return W.events.textSettle.on(g),()=>{W.events.textSettle.off(g)}},[]);let m=0;const _=e.map((g,x)=>{const E=g.map((b,S)=>{let C=m*r;m++;let A=n.length;return n!==""&&S>=A&&(C=C-A*r),S<A?M.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",kr.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:M.jsxs("span",{className:kr.zhanwei,children:[b,M.jsx("span",{className:v("outer",kr.outer),children:b}),d&&M.jsx("span",{className:v("inner",kr.inner),children:b})]})},i+S):M.jsx("span",{"data-text":b,id:`${C}`,className:`${v("TextBox_textElement_start",kr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:M.jsxs("span",{className:kr.zhanwei,children:[b,M.jsx("span",{className:v("outer",kr.outer),children:b}),d&&M.jsx("span",{className:v("inner",kr.inner),children:b})]})},i+S)});return M.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${x}`)});return M.jsx(M.Fragment,{children:a&&M.jsxs("div",{className:kr.TextBox_Container,children:[M.jsx("div",{className:v("TextBox_main",kr.TextBox_main)+" "+v("TextBox_Background",kr.TextBox_Background),style:{opacity:`${p/100}`,left:l===""?25:void 0}}),M.jsxs("div",{id:"textBoxMain",className:v("TextBox_main",kr.TextBox_main),style:{fontFamily:f,left:l===""?25:void 0},children:[M.jsx("div",{id:"miniAvatar",className:v("miniAvatarContainer",kr.miniAvatarContainer),children:l!==""&&M.jsx("img",{className:v("miniAvatarImg",kr.miniAvatarImg),alt:"miniAvatar",src:l})}),u!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:v("TextBox_showName",kr.TextBox_showName)+" "+v("TextBox_ShowName_Background",kr.TextBox_ShowName_Background),style:{opacity:`${p/100}`,fontSize:"200%"},children:M.jsx("div",{style:{opacity:0},children:u.split("").map((g,x)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:kr.zhanwei,children:[g,M.jsx("span",{className:v("outerName",kr.outerName),children:g}),d&&M.jsx("span",{className:v("innerName",kr.innerName),children:g})]})},g+x))})}),M.jsx("div",{className:v("TextBox_showName",kr.TextBox_showName),style:{fontSize:"200%"},children:u.split("").map((g,x)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:kr.zhanwei,children:[g,M.jsx("span",{className:v("outerName",kr.outerName),children:g}),d&&M.jsx("span",{className:v("innerName",kr.innerName),children:g})]})},g+x))},u)]}),M.jsx("div",{className:v("text",kr.text),style:{fontSize:c,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em"},children:_})]})]})})}const kz=navigator.userAgent,V6e=/firefox/i.test(kz),H6e=/^((?!chrome|android).)*safari/i.test(kz),X6e=()=>{const[t,e]=he.useState(!0);he.useEffect(()=>{const g=()=>{const x=gu().height||Cc.height,E=gu().width||Cc.width,b=window.innerHeight,S=window.innerWidth,C=b/x,A=S/E,I=S/x,R=b/E;[C,A,I,R].forEach(O=>{O<=.2?e(!1):e(!0)})};return window.addEventListener("resize",g),g(),()=>{window.removeEventListener("resize",g)}},[]);const r=tt(g=>g.stage),n=tt(g=>g.userData),i=S7(n.optionData.textSpeed),a=FCe(n.optionData.textSpeed);let o=I5(n.optionData.textSize)+"%";const s=E6e(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=I5(r.showTextSize)+"%",l=r.showTextSize);const u=T1(n.optionData.textSize).with(nu.small,()=>3).with(nu.medium,()=>2).with(nu.large,()=>2).default(()=>2),f=Nz(r.showText,u),h=r.showName,d=r.currentConcatDialogPrev,p=r.currentDialogKey,v=r.miniAvatar,m=n.optionData.textboxOpacity,_=G6e;return M.jsx(_,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:d,fontSize:o,currentDialogKey:p,isSafari:H6e,isFirefox:V6e,miniAvatar:v,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:m})};function R5(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function Nz(t,e,r){return t.split("|").map(o=>z6e(o)).map(o=>{const s=[];return o.forEach((c,l)=>{T1(c.type).with("SegmentType.String",()=>{const u=W6e(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=M.jsxs("ruby",{children:[u.text,M.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function W6e(t){if(!t)return[];const e=[];let r="",n=R5(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(R5(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function z6e(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const Y6e=()=>{var x;const t=tt(E=>E.stage),e=tt(E=>E.GUI.titleBgm),r=tt(E=>E.GUI.showTitle),n=tt(E=>E.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((x=n.optionData)==null?void 0:x.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=tt(E=>E.GUI.isEnterGame),[h,d]=he.useState(""),[p,v]=he.useState(""),[m,_]=he.useState(setTimeout(()=>{},0)),g=(E,b,S)=>{S>=0?E.volume=0:E.volume=b;const C=10,A=b/S*C,I=()=>{const R=setTimeout(()=>{E.volume+A>=b?E.volume=b:E.volume+A<=0?(E.volume=0,ue.dispatch(ct({key:"bgm",value:{src:"",enter:0,volume:100}}))):(E.volume+=A,I())},C);_(R)};I()};return he.useEffect(()=>{clearTimeout(m);const E=document.getElementById("currentBgm");E&&(s===0?E.volume=o:g(E,o,s))},[h,o,s]),he.useEffect(()=>{(async()=>{var S;const b=await T_(r?e:t.bgm.src);d(b),(S=document.getElementById("currentBgm"))==null||S.load()})()},[r,e,t.bgm.src]),he.useEffect(()=>{Ge.debug(`${o}`)},[o]),he.useEffect(()=>{Ge.debug(`: ${s}`)},[s]),he.useEffect(()=>{Ge.debug(`${a}`);const E=document.getElementById("currentVocal");E&&(E.volume=a.toString())},[a]),he.useEffect(()=>{var C;if(c==="")return;const E=ue.getState().stage.currentPlayAudio,b=ue.getState().stage.hasCustomClickSe;E&&b&&(E==null?void 0:E.id)==="uiSe-clickSe"&&(E==null||E.pause(),E.volume=0,(C=E==null?void 0:E.remove)==null||C.call(E),ue.dispatch(ct({key:"currentPlayAudio",value:null}))),(async()=>{var R;const A=await T_(c),I=document.createElement("audio");I.src=A,b&&(I.id="uiSe-clickSe",ue.dispatch(ct({key:"currentPlayAudio",value:I})),ue.dispatch(ct({key:"hasCustomClickSe",value:!1}))),I.load(),I.loop=!1,isNaN(u)?(Ge.error("UI SE Vol is NaN"),I.volume=isNaN(l)?i/100:l/100):I.volume=u,(R=I==null?void 0:I.play)==null||R.call(I),I.addEventListener("ended",()=>{var O;(O=I==null?void 0:I.remove)==null||O.call(I)}),ue.dispatch(ct({key:"uiSe",value:""}))})()},[c]),he.useEffect(()=>{Ge.debug(`: ${l}`)},[l]),he.useEffect(()=>{Ge.debug(`: ${u}`)},[u]),he.useEffect(()=>{Ge.debug(`: ${t.playVocal}`),T_(t.playVocal).then(E=>{v(E),document.getElementById("currentVocal").load()})},[t.playVocal]),M.jsxs("div",{children:[M.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),M.jsx("audio",{id:"currentVocal",src:p})]})},q6e=()=>{const t=tt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),M.jsx("div",{className:Tl.FullScreenPerform_main,style:{width:e,height:r,top:n},children:M.jsx("div",{id:"videoContainer"})})},K6e="_TextBox_EventHandler_449dq_2",Z6e="_TextBox_main_449dq_10",J6e="_showSoftly_449dq_1",Q6e="_TextBox_textElement_449dq_38",e5e="_TextBox_textElement_start_449dq_43",t5e="_TextDelayShow_449dq_1",r5e="_TextBox_textElement_Settled_449dq_48",n5e="_TextBox_showName_449dq_52",i5e="_miniAvatarContainer_449dq_68",a5e="_miniAvatarImg_449dq_76",h2={TextBox_EventHandler:K6e,TextBox_main:Z6e,showSoftly:J6e,TextBox_textElement:Q6e,TextBox_textElement_start:e5e,TextDelayShow:t5e,TextBox_textElement_Settled:r5e,TextBox_showName:n5e,miniAvatarContainer:i5e,miniAvatarImg:a5e},o5e=()=>{const t=tt(o=>o.stage),e=tt(o=>o.userData);he.useEffect(()=>{});const r=vde.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?M.jsx("span",{id:`${c}`,className:h2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):M.jsx("span",{id:`${c}`,className:h2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return M.jsx("div",{id:"textBoxMain",className:h2.TextBox_main,children:M.jsx("div",{style:{fontSize:n},children:a})})};function s5e(t){const e=t.bgName;he.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=W.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&P5(c),(i=W.gameplay.pixiStage)==null||i.addBg(r,e,o,s),jv(e),Ge.debug(""),setTimeout(()=>{const{duration:l,animation:u}=Nl("bg-main","enter",!0);W.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&P5(o)}},[e])}function P5(t){var i,a;(i=W.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=W.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=Nl("bg-main-off","exit",!0);W.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=W.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=W.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}function l5e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;he.useEffect(()=>{var s;for(const c of a)(s=W.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),he.useEffect(()=>{var s;for(const c of o)(s=W.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),he.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&js(f,c,t.effects),R0(void 0,s,r,"center"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Nl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ge.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&js(f,c,t.effects)}},[r]),he.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&js(f,c,t.effects),R0(void 0,s,e,"left"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Nl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ge.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&js(f,c,t.effects)}},[e]),he.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&js(f,c,t.effects),R0(void 0,s,n,"right"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Nl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&js(f,c,t.effects)}},[n]),he.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,d=`${f.key}-softin`;if(f.name!==""){const p=(c=W.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);p?p.sourceUrl!==f.name&&(js(p,d,t.effects),R0(void 0,h,f.name,f.basePosition),Ge.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Nl(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,d,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0)):(R0(void 0,h,f.name,f.basePosition),Ge.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Nl(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,d,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0))}else{const p=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);p&&p.sourceUrl!==f.name&&js(p,d,t.effects)}}const s=(u=W.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(p=>p.key===h)<0){const p=`${f.key}-softin`;js(f,p,t.effects)}}}},[i])}function js(t,e,r){var c,l,u;if((c=W.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),W.gameplay.isFast){Ge.info(""),(l=W.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=W.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Nl(i,"exit");W.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.removeAnimation(a),(h=W.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function R0(t,...e){var n,i;const r=e[1];return r.endsWith(".json")?u5e(...e):r.endsWith(".skel")?(n=W.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e):(i=W.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function u5e(...t){}function c5e(t){const e=t.effects;setTimeout(()=>{f5e(e)},10)}function f5e(t){var r,n,i,a;const e=((r=W.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=W.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=W.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,O5(c.transform))}}else{const u=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,O5($P))}}}}function O5(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function h5e(){const t=tt(e=>e.stage);return s5e(t),l5e(t),c5e(t),M.jsx("div",{style:{display:"none"}})}const d5e="_introContainer_119k8_1",p5e={introContainer:d5e};function v5e(){return M.jsx("div",{className:p5e.introContainer,id:"introContainer"})}const g5e="_variableNameWrapper_1f0qs_1",m5e="_progressBarBg_1f0qs_10",_5e="_progressBar_1f0qs_10",y5e="_affinityWrapper_1f0qs_21",x5e="_bounceIn_1f0qs_57",b5e="_fadeOutUp_1f0qs_72",d2={variableNameWrapper:g5e,progressBarBg:m5e,progressBar:_5e,affinityWrapper:y5e,bounceIn:x5e,fadeOutUp:b5e},E5e=()=>{const t=tt(o=>o.stage);tt(o=>o.GUI);const[e,r]=he.useState([]),[n,i]=he.useState([]),a=he.useMemo(()=>{const o=new Map,s=t.showValues;return s!=null&&s.length&&s.forEach(c=>{o.set(c.key,c.value)}),o},[t]);return he.useEffect(()=>{t.showValueList.forEach((o,s)=>{if(o.isShowValueSwitch&&n[s]){const c=a.get(o.showValueName);o.showProgress&&typeof c=="number"&&setTimeout(()=>{const l=document.getElementById(`myRect-${s}`),u=c/(o.maxValue??100)*n[s].width;l==null||l.setAttribute("width",u.toString())},16)}})},[t.showValueList,n]),M.jsx(M.Fragment,{children:t.showValueList.map((o,s)=>{if(o.isShowValueSwitch){const c=e[s]||{width:0,height:0},l=n[s]||{width:0,height:0};return M.jsxs("div",{className:d2.variableNameWrapper,style:{position:"fixed",left:gt(o.showValueAxisX)+"px",top:gt(o.showValueAxisY)+"px",backgroundColor:o.showProgress?"transparent":"#08c"},children:[!o.showProgress&&(String(a.get(o.showValueName))||""),o.showProgress&&o.progressBarBgStyle&&M.jsx("img",{src:Tt(o.progressBarBgStyle.image,xt.ui),alt:"progress",className:d2.progressBarBg,style:c.width?{width:c.width,height:c.height,opacity:1}:void 0,onLoad:u=>{r([...e,{width:gt(u.currentTarget.naturalWidth),height:gt(u.currentTarget.naturalHeight)}])}}),o.showProgress&&o.progressBarStyle&&M.jsxs(M.Fragment,{children:[M.jsx("img",{src:Tt(o.progressBarStyle.image,xt.ui),alt:"progress",className:d2.progressBar,style:l.width?{width:l.width,height:l.height,opacity:1,clipPath:`url(#myClip-${s})`}:void 0,onLoad:u=>{i([...n,{width:gt(u.currentTarget.naturalWidth),height:gt(u.currentTarget.naturalHeight)}])}}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:`myClip-${s}`,children:M.jsx("rect",{id:`myRect-${s}`,width:"0",height:l.height,style:{fill:"#ffffff"}})})})})]})]},o.showValueName+s.toString())}return null})})};function F5(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function w5e(t,e,r){!e.controlsVisibility&&F5(t)&&r(pt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!F5(t)&&r(pt({component:"controlsVisibility",visibility:!1}))}function S5e(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let p2=null;function C5e(t,e,r,n){S5e(e,r)?(p2&&clearTimeout(p2),n(pt({component:"controlsVisibility",visibility:!0})),p2=setTimeout(()=>{n(pt({component:"controlsVisibility",visibility:!1}))},1e3)):w5e(t,r,n)}const A5e=()=>{const t=tt(n=>n.stage),e=tt(n=>n.GUI),r=qr();return QTe(),M.jsxs("div",{className:f2.MainStage_main,children:[M.jsx(q6e,{}),M.jsx(h5e,{}),M.jsx("div",{id:"pixiContianer",className:f2.pixiContainer,style:{zIndex:Dk?"-5":void 0}}),M.jsx("div",{id:"chooseContainer",className:f2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&M.jsx(X6e,{}),e.showTextBox&&t.enableFilm!==""&&M.jsx(o5e,{}),M.jsx(Y6e,{}),M.jsx("div",{onClick:()=>{if(!e.showTextBox){r(pt({component:"showTextBox",visibility:!0}));return}jO(),Sn()},onDoubleClick:()=>{W.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&C5e(n,t,e,r)}),M.jsx(v5e,{}),t.isShowValueSwitch&&M.jsx(E5e,{})]})},T5e=""+new URL("gaming-continue.png",import.meta.url).href,I5e=""+new URL("gaming-stop.png",import.meta.url).href,R5e=()=>{const t=_s("gaming."),{i18n:e}=nb(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=li();he.useState(!1);const[a,o]=he.useState(!1),[s,c]=he.useState(!1);let l=null;const f=e.language==="fr";let h="150%";f&&(h="125%");const d=tt(I=>I.GUI),p=tt(I=>I.stage),v=qr(),m=tt(I=>I.saveData.saveData);if(t("noSaving"),m[0]){const I=m[0];ki.slPreviewMain,ki.imgContainer,I.previewImage,ki.textContainer,I.nowStageState.showName,I.nowStageState.showText}const _=async()=>{for(let I=1;I<=20;I++){const R=(I-1)*10+1,O=R+9;await Uv(R,O);const P=ue.getState().saveData.saveData;for(let F=1;F<P.length;F++){const N=(I-1)*10+F;if(!P[F])return N}}return(20-1)*10+9},g=async I=>{if(I.stopPropagation(),n(),d.showFavorited)return;v(Gp(!0));const R=await _();Ty(R),$n()},x=I=>{c(!0);const R=()=>{c(!1),clearTimeout(l),clearInterval(l),document.removeEventListener("mouseup",R)};document.addEventListener("mouseup",R),l=setTimeout(()=>{l=setInterval(()=>{I==="fallBack"?E():I==="forward"&&b()},200)},500)},E=()=>{s||n();const I=W.videoManager.currentPlayingVideo;W.videoManager.backward(I)},b=()=>{s||n();const I=W.videoManager.currentPlayingVideo;W.videoManager.forward(I)},S=()=>{n();const I=W.videoManager.currentPlayingVideo;a?(o(!1),W.videoManager.playVideo(I)):(o(!0),W.videoManager.pauseVideo(I))},C=()=>{var O,P,F;let I=!0;if((F=(P=(O=W.gameplay)==null?void 0:O.performController)==null?void 0:P.performList)==null||F.forEach(N=>{N.performName==="choose"&&(I=!1)}),!I)return;n();const R=W.videoManager.currentPlayingVideo;W.videoManager.destroy(R),W.gameplay.isFast=!0,W.gameplay.isSyncingWithOrigine=!0,Sn(),setTimeout(()=>{W.gameplay.isFast=!1,W.gameplay.isSyncingWithOrigine=!1},1e3)},A=()=>{var R;const I=(R=d.gameUIConfigs[Un.title])==null?void 0:R.buttons[fa.Game_extra_button];return!(!I||I.args.hide)};return M.jsx(M.Fragment,{children:d.showTextBox&&p.enableFilm===""&&M.jsxs("div",{className:ki.main,style:{visibility:d.controlsVisibility?"visible":"hidden"},children:[M.jsx("span",{className:`${ki.fallBack} interactive`,onMouseEnter:r,onClick:()=>{E()},onMouseDown:()=>x("fallBack")}),M.jsx("span",{className:`${ki.pause} interactive`,onMouseEnter:r,onClick:S,children:M.jsx("img",{src:a?I5e:T5e,className:ki.icon})}),M.jsx("span",{className:`${ki.advance} interactive`,onMouseEnter:r,onClick:b,onMouseDown:()=>x("forward")}),!ue.getState().saveData.isLoadVideo&&M.jsx("span",{className:`${ki.autoplay} interactive`,onMouseEnter:r,onClick:C}),A()&&M.jsxs("span",{className:`${ki.singleButton} interactive`,style:{fontSize:h},onClick:g,onMouseEnter:r,children:[M.jsx("span",{className:ki.button_icon}),M.jsx("span",{className:ki.button_text,children:t(`${d.showFavorited?"buttons.collected":"buttons.collection"}`)})]})]})})};var P5e=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function k5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(r),!0).forEach(function(n){O5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O5e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F5e(t,e){if(t==null)return{};var r=k5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k5e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var N5e={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function L5e(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function M5e(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var Lz=he.createContext(N5e);Lz.Provider;function ib(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=F5e(n,P5e),d=he.useContext(Lz),p=he.useMemo(L5e,[]),v=M5e(p,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},d),m=[d.prefix+"-icon"];return m.push(d.prefix+"-icon-"+t),e&&d.rtl&&m.push(d.prefix+"-icon-rtl"),f&&m.push(d.prefix+"-icon-spin"),u&&m.push(u),ti.createElement("span",N5(N5({},h),{},{className:m.join(" ")}),r(v))}}const B5e=ib("close-small",!1,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M14 14L34 34",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M14 34L34 14",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),D5e=ib("hamburger-button",!1,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),U5e=ib("return",!0,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),j5e=ib("volume-notice",!0,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),$5e=()=>{var h,d;const t=_s("gaming."),{playSeEnter:e,playSeClick:r}=li(),n=tt(p=>p.GUI),i=qr(),a="0.8em",[o,s]=he.useState(!1),[c,l]=he.useState(!1);let u=he.useRef();const f=he.useMemo(()=>{let p=[];for(let v=0;v<W.backlogManager.getBacklog().length;v++){const m=W.backlogManager.getBacklog()[v],_=Nz(m.currentStageState.showText,3,!0),x=G5e(_).map((b,S)=>M.jsx("div",{children:b.map((C,A)=>C==="<br />"?M.jsx("br",{},`br${A}`):C)},`backlog-line-${S}`)),E=M.jsxs("div",{className:hi.backlog_item,style:{animationDelay:`${20*(W.backlogManager.getBacklog().length-v)}ms`},children:[M.jsxs("div",{className:hi.backlog_func_area,children:[M.jsxs("div",{className:hi.backlog_item_button_list,children:[M.jsx("div",{onClick:b=>{r(),k2e(v),b.preventDefault(),b.stopPropagation()},onMouseEnter:e,className:`${hi.backlog_item_button_element} interactive`,children:M.jsx(U5e,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}),m.currentStageState.vocal?M.jsx("div",{onClick:()=>{r();const b=document.getElementById("backlog_audio_play_element_"+v);if(b){b.currentTime=0;const S=ue.getState().userData,C=S.optionData.volumeMain;b.volume=C*.01*S.optionData.vocalVolume*.01,b==null||b.play()}},onMouseEnter:e,className:`${hi.backlog_item_button_element} interactive`,children:M.jsx(j5e,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}):null]}),M.jsx("div",{className:hi.backlog_item_content_name,children:m.currentStageState.showName})]}),M.jsx("div",{className:hi.backlog_item_content,children:M.jsx("span",{className:hi.backlog_item_content_text,children:x})}),M.jsx("audio",{id:"backlog_audio_play_element_"+v,src:m.currentStageState.vocal})]},"backlogItem"+m.currentStageState.showText+m.saveScene.currentSentenceId);p.unshift(E)}return p},[((d=(h=W.backlogManager.getBacklog()[W.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:d.currentSentenceId)??0]);return he.useEffect(()=>{n.showBacklog?(u.current&&clearTimeout(u.current),s(!1),l(!0),setTimeout(()=>{l(!1)},0)):u.current=setTimeout(()=>{s(!0),u.current=void 0},700+80)},[n.showBacklog]),M.jsx(M.Fragment,{children:M.jsxs("div",{className:`
          ${n.showBacklog?hi.Backlog_main:hi.Backlog_main_out}
          ${o?hi.Backlog_main_out_IndexHide:""}
          `,children:[M.jsxs("div",{className:hi.backlog_top,children:[M.jsx(B5e,{className:`${hi.backlog_top_icon} interactive`,onClick:()=>{r(),i(pt({component:"showBacklog",visibility:!1})),i(pt({component:"showTextBox",visibility:!0}))},onMouseEnter:e,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),M.jsx("div",{className:hi.backlog_title,onClick:()=>{Ge.info("Rua! Testing")},children:t("buttons.backlog")})]}),n.showBacklog&&M.jsx("div",{className:`${hi.backlog_content} ${c?hi.Backlog_main_DisableScroll:""}`,children:f})]})})};function G5e(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const V5e="_extra_1jomy_2",H5e="_extra_top_1jomy_13",X5e="_extra_top_icon_1jomy_18",W5e="_extra_icon_softin_1jomy_1",z5e="_extra_title_1jomy_38",Y5e="_mainContainer_1jomy_49",q5e="_bgmContainer_1jomy_57",K5e="_bgmListContainer_1jomy_74",Z5e="_bgmPlayerMain_1jomy_89",J5e="_bgmControlButton_1jomy_93",Q5e="_bgmName_1jomy_108",eje="_bgmElement_1jomy_116",tje="_bgmElement_active_1jomy_146",rje="_cgMain_1jomy_151",nje="_cgContainer_1jomy_156",ije="_cgElement_1jomy_168",aje="_cgShowDiv_1jomy_183",oje="_cgShowDivWarpper_1jomy_192",sje="_cgNav_1jomy_201",lje="_cgNav_active_1jomy_220",uje="_showFullContainer_1jomy_230",cje="_showFullCgMain_1jomy_243",fje="_fullCgIn_1jomy_1",hje="_editDialogMark_1jomy_264",dje="_editDialog_1jomy_264",pje="_editDialog_content_1jomy_286",vje="_editDialog_footer_1jomy_302",gje="_button_1jomy_309",mje="_bgmElement_In_1jomy_1",Ol={extra:V5e,extra_top:H5e,extra_top_icon:X5e,extra_icon_softin:W5e,extra_title:z5e,mainContainer:Y5e,bgmContainer:q5e,bgmListContainer:K5e,bgmPlayerMain:Z5e,bgmControlButton:J5e,bgmName:Q5e,bgmElement:eje,bgmElement_active:tje,cgMain:rje,cgContainer:nje,cgElement:ije,cgShowDiv:aje,cgShowDivWarpper:oje,cgNav:sje,cgNav_active:lje,showFullContainer:uje,showFullCgMain:cje,fullCgIn:fje,editDialogMark:hje,editDialog:dje,editDialog_content:pje,editDialog_footer:vje,button:gje,bgmElement_In:mje},_je=t=>{const[e,r]=he.useState("");he.useEffect(()=>{t.value&&r(t.value)},[]);const n=()=>{t.onConfirm(e)},i=()=>{t.onCancel()};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Ol.editDialogMark}),M.jsxs("div",{className:Ol.editDialog,children:[M.jsxs("div",{className:Ol.editDialog_content,children:[M.jsx("label",{children:""}),M.jsx("input",{value:e,onChange:a=>{r(a.target.value)}})]}),M.jsxs("div",{className:Ol.editDialog_footer,children:[M.jsx("span",{className:Ol.button,onClick:n,children:""}),M.jsx("span",{className:Ol.button,onClick:i,children:""})]})]})]})};let qm="",L5=0;const yje=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=li(),n=tt(g=>g.userData),i=tt(g=>g.saveData),a=qr(),[o,s]=he.useState(!1),c=tt(g=>g.GUI.gameUIConfigs[Un.extra]);for(let g=1;g<=20;g++){let x=Ke.Save_Load_top_button+" "+Ke.Load_top_button;g===n.optionData.slPage&&(x=x+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on),Ke.Save_Load_top_button_text,""+g}const l=[],u=(n.optionData.slPage-1)*10+1,f=u+9;he.useEffect(()=>{Uv(u,f)},[u,f]);const h=(g,x,E)=>{g.stopPropagation(),qm=x.saveName||x.saveTime,L5=E,setTimeout(()=>{s(!0)},100)},d=()=>{s(!1),qm=""},p=g=>{qm="",Ty(L5,g),$n(),s(!1)};let v=0;for(let g=u;g<=f;g++){v++;const x=i.saveData[g];let E=M.jsx("div",{});x&&(E=M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Ke.Save_Load_content_element_top,children:M.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:x.index})}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:x.previewImage})}),M.jsx("div",{children:M.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,style:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:S=>h(S,x,g),title:`${x.saveName||x.saveTime}`,children:x.saveName||x.saveTime})})]}));const b=M.jsx("div",{onClick:()=>{a(Gp(!0)),D7(g,!0),t()},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${v*30}ms`},children:E},"loadElement_"+g);l.push(b)}const m=_s("menu."),_=()=>{t(),a(pt({component:"showExtra",visibility:!1})),a(or.setLoadVideo(!1))};return M.jsxs(M.Fragment,{children:[M.jsx(Di,{item:c.buttons.Extra_back_button,defaultClass:`${Ke.goback} ${Ke.extraVideo_goback} interactive`,onClick:_,onMouseEnter:e}),M.jsx(Di,{item:c.other[jp.Extra_title],defaultClass:Ke.Save_Load_title,defaultTextClass:Ke.Load_title_text,defaultText:m("extra.title")}),M.jsx(mIe,{item:c.other[jp.Extra_indicator],activeIndex:n.optionData.slPage,defaultClass:`${Ke.Save_Load_top_buttonList} ${Ke.extra_video_top_buttonList} interactive`,pageLength:20,indicatorDefaultClass:`${Ke.Save_Load_top_button} ${Ke.Load_top_button} interactive`,activeIndecatorClass:`${Ke.Save_Load_top_button_on} ${Ke.Load_top_button_on}`,onClickIndicator:g=>{a(my(g)),$n(),r()}}),M.jsx("div",{className:`${Ke.Save_Load_main} ${Ke.extra_video_main}`,children:M.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:l})}),o&&M.jsx(_je,{value:qm,onCancel:d,onConfirm:p})]})};function xje(){li();const t=tt(r=>r.GUI.showExtra),e=qr();return _s("extra."),he.useEffect(()=>{t&&e(or.setLoadVideo(!0))},[t]),M.jsx(M.Fragment,{children:t&&M.jsx("div",{className:Ol.extra,children:M.jsx("div",{className:Ol.mainContainer,children:M.jsx(yje,{})})})})}const bje="_tag_yghix_2",Eje="_container_yghix_17",wje="_showContainer_yghix_1",Sje="_singleButton_yghix_33",Cje="_button_text_yghix_37",Zn={tag:bje,container:Eje,showContainer:wje,singleButton:Sje,button_text:Cje},ab=()=>{const t=ue.dispatch;FO(),UO(),Rh(),t(ct({key:"playVocal",value:""})),t(pt({component:"showTitle",visibility:!0})),t(or.setIsShowUnlock(!1)),t(or.setShowStoryline(!1)),jv(ue.getState().GUI.titleBg)},Aje=()=>{const t=Gc(!1),e=tt(a=>a.stage),r=qr(),n=(a,o)=>{r(pt({component:a,visibility:o}))},i=a=>{r(Py(a))};return M.jsx(M.Fragment,{children:e.enableFilm!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Zn.tag,onClick:()=>{t.set(!t.value)},children:M.jsx(D5e,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&M.jsxs("div",{className:Zn.container,children:[M.jsx("span",{className:Zn.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / BACKLOG"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:M.jsx("span",{className:Zn.button_text,children:" / REPLAY VOICE"})}),M.jsx("span",{id:"Button_ControlPanel_auto",className:Zn.singleButton,onClick:()=>{QAe(),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / AUTO"})}),M.jsx("span",{id:"Button_ControlPanel_fast",className:Zn.singleButton,onClick:()=>{rTe(),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / FAST"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Save),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / SAVE"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Load),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / LOAD"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Option),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / OPTIONS"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),ab()},children:M.jsx("span",{className:Zn.button_text,children:" / TITLE"})})]})]})})},Tje="_devPanelMain_11x6i_1",Ije="_devPanelOpener_11x6i_13",M5={devPanelMain:Tje,devPanelOpener:Ije};function Rje(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function Pje(){function t(){return!!window.location.hash.match(/dev/)}const e=Gc(!1),r=Gc(window.location.hash),n=tt(c=>c.stage);he.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=nb(),s=M.jsxs(M.Fragment,{children:[M.jsx("div",{onClick:()=>Rje(),children:"Save PIXI Screenshot"}),M.jsxs("div",{children:["Current Language:",o.language]}),M.jsx("div",{onClick:()=>{var c;return(c=W.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),M.jsx("div",{children:"Stage State"}),M.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return M.jsxs(M.Fragment,{children:[i&&e.value&&M.jsxs("div",{className:M5.devPanelMain,children:[M.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[M.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),M.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),M.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&M.jsx("div",{onClick:()=>e.set(!0),className:M5.devPanelOpener,children:"Open Dev Panel"})]})}function Oje(t){return yd[t]}function Fje(){const{i18n:t}=nb(),e=Rd(n=>n.userData),r=qr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??yd.zhCn,o=Oje(a);t.changeLanguage(o),r(Ro({key:"language",value:a})),Ge.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&$n()}}const kje="_trans_8uz61_2",Nje="_langWrapper_8uz61_10",Lje="_lang_8uz61_10",Mje="_langSelect_8uz61_29",Bje="_langSelectButton_8uz61_35",P0={trans:kje,langWrapper:Nje,lang:Lje,langSelect:Mje,langSelectButton:Bje};function Dje(){const t=Fje(),[e,r]=he.useState(!1);he.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return M.jsx(M.Fragment,{children:e&&M.jsx("div",{className:P0.trans,children:M.jsxs("div",{className:P0.langWrapper,children:[M.jsx("div",{className:P0.lang,children:"LANGUAGE SELECT"}),M.jsx("div",{className:P0.langSelect,children:Object.keys(wM).map(i=>M.jsx("div",{className:P0.langSelectButton,onClick:()=>n(yd[i]),children:wM[i]},i))})]})})})}const Uje=()=>{const t=tt(n=>n.GUI),[e,r]=he.useState(!1);return he.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function jje(){const t=tt(i=>i.userData),e=tt(i=>i.GUI);qr();const r=t.optionData.fullScreen,n=e.isEnterGame;he.useEffect(()=>{switch(r){case oo.on:{n&&(document.documentElement.requestFullscreen(),ah&&ah.lock(["Escape","F11"]));break}case oo.off:{document.fullscreenElement&&(document.exitFullscreen(),ah&&ah.unlock());break}}},[r])}const $je="_storyLine_lb50l_2",Gje="_bg_animation_lb50l_1",Vje="_goBack_lb50l_13",Hje="_storyLine_content_lb50l_31",Xje="_storyLine_item_lb50l_40",Wje="_info_card_lb50l_49",zje="_playButton_icon_lb50l_68",Yje="_name_lb50l_85",Ku={storyLine:$je,bg_animation:Gje,goBack:Vje,storyLine_content:Hje,storyLine_item:Xje,info_card:Wje,playButton_icon:zje,name:Yje},qje={storylineBg:"",storylineBgX:1280,storylineBgY:720},Kje=()=>{const{playSeClick:t,playSeEnter:e}=li(),r=qr(),n=tt(h=>h.GUI);tt(h=>h.stage),tt(h=>h.saveData);const i=tt(h=>h.saveData.allStorylineData),a=tt(h=>h.GUI.gameUIConfigs[Un.storyline]),[o,s]=he.useState(qje);he.useEffect(()=>{yO(),n.showStoryLine&&(r(or.setShowStoryline(!1)),c())},[n.showStoryLine]);async function c(){var m,_,g,x;const h=Tt(nl.Storyline,xt.scene),d=await Ea(h),v=Wh(d,nl.Storyline,h).sentenceList;if((v==null?void 0:v.length)>0&&((m=v[0])==null?void 0:m.commandRaw)==="changeBg"){const E=((_=v[0])==null?void 0:_.content)??"";let b=1280,S=720;const C=window.localStorage.getItem("game-screen-size"),A=(C==null?void 0:C.split("x"))??[];(A==null?void 0:A.length)>0&&A[0]==="1920"&&(b=Number(A[0]),S=Number(A[1])),(x=(g=v[0])==null?void 0:g.args)==null||x.forEach(I=>{(I==null?void 0:I.key)==="x"?b=Number(I==null?void 0:I.value):(I==null?void 0:I.key)==="y"&&(S=Number(I==null?void 0:I.value))}),s({storylineBg:E,storylineBgX:b,storylineBgY:S})}}const l=()=>{t(),ab(),r(LA(!1))},u=(h,d)=>{h.stopPropagation(),r(LA(!1)),r(or.setIsShowUnlock(!0)),NO(d.videoData)};function f(h){return Tt(h,xt.ui)}return M.jsx(M.Fragment,{children:n.showStoryLine&&M.jsxs("div",{className:Ku.storyLine,id:"camera",children:[M.jsx(Di,{item:a.buttons.Storyline_back_button,defaultClass:`${Ku.goBack} interactive`,onClick:l,onMouseEnter:e}),M.jsx("div",{className:Ku.storyLine_content,style:{width:gt(o.storylineBgX),height:o.storylineBgY>720?gt(o.storylineBgY):"100%",backgroundImage:`url("${o.storylineBg}")`,backgroundSize:o.storylineBgX&&o.storylineBgY&&`${gt(o.storylineBgX)}px ${gt(o.storylineBgY)}px`},children:(i==null?void 0:i.map((h,d)=>{const{name:p,thumbnailUrl:v,x:m,y:_,isUnlock:g,isHideName:x}=h.storyLine;return g?M.jsx("div",{className:`${Ku.storyLine_item} interactive`,style:v?{top:`${gt(_)}px`,left:`${gt(m)}px`,backgroundImage:`url("${f(v)}")`}:{},onClick:E=>u(E,h),children:M.jsxs("div",{className:Ku.info_card,children:[M.jsx("span",{className:Ku.playButton_icon,style:{width:x?"100%":"50%"}}),x?null:M.jsx("span",{className:Ku.name,children:p})]})},`storyLine-${d}`):null}))??null})]})})},Zje="_achievement_1qy4h_1",Jje="_bg_animation_1qy4h_1",Qje="_goback_1qy4h_14",e$e="_achievement_content_1qy4h_32",t$e="_achievement_current_1qy4h_39",r$e="_text_1qy4h_52",n$e="_number_1qy4h_57",i$e="_pregessBar_1qy4h_62",a$e="_pregressBar_inner_1qy4h_71",o$e="_achievement_content_bg_1qy4h_80",s$e="_achievement_list_1qy4h_89",l$e="_achievement_item_1qy4h_93",u$e="_unlockname_1qy4h_106",c$e="_ripple_1qy4h_124",f$e="_info_card_1qy4h_127",h$e="_condition_1qy4h_159",d$e="_condition_bg_active_1qy4h_168",p$e="_time_1qy4h_171",v$e="_description_1qy4h_172",g$e="_info_card_position_right_1qy4h_177",m$e="_achievement_item_bg_active_1qy4h_181",An={achievement:Zje,bg_animation:Jje,goback:Qje,achievement_content:e$e,achievement_current:t$e,text:r$e,number:n$e,pregessBar:i$e,pregressBar_inner:a$e,achievement_content_bg:o$e,achievement_list:s$e,achievement_item:l$e,unlockname:u$e,ripple:c$e,"ripple-effect":"_ripple-effect_1qy4h_1",info_card:f$e,condition:h$e,condition_bg_active:d$e,time:p$e,description:v$e,info_card_position_right:g$e,achievement_item_bg_active:m$e},_$e={achieveBg:"",achieveBgX:1280,achieveBgY:720},y$e=()=>{var I,R;const{playSeClick:t,playSeEnter:e}=li(),r=tt(O=>O.GUI);tt(O=>O.stage);const n=tt(O=>O.saveData),i=qr(),[a,o]=he.useState(null),[s,c]=he.useState(null),[l,u]=he.useState(null),[f,h]=he.useState(null),[d,p]=he.useState(_$e),[v,m]=he.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),_=tt(O=>O.GUI.gameUIConfigs[Un.achievement]);he.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),ue.dispatch(or.setIsShowUnlock(!1)),g())},[r.showAchievement]);async function g(){var B,U,H,ee;const O=Tt(nl.Achieve,xt.scene),P=await Ea(O),N=Wh(P,nl.Achieve,O).sentenceList;if((N==null?void 0:N.length)>0&&((B=N[0])==null?void 0:B.commandRaw)==="changeBg"){const J=((U=N[0])==null?void 0:U.content)??"";let G=1280,L=720;const V=window.localStorage.getItem("game-screen-size"),$=(V==null?void 0:V.split("x"))??[];($==null?void 0:$.length)>0&&$[0]==="1920"&&(G=Number($[0]),L=Number($[1])),(ee=(H=N[0])==null?void 0:H.args)==null||ee.forEach(j=>{(j==null?void 0:j.key)==="x"?G=Number(j==null?void 0:j.value):(j==null?void 0:j.key)==="y"&&(L=Number(j==null?void 0:j.value))}),p({achieveBg:J,achieveBgX:G,achieveBgY:L})}setTimeout(()=>{x()},100)}async function x(){var B;const O=ue.getState().saveData.allUnlockAchieveList,P=((B=ue.getState().saveData.unlockAchieveData)==null?void 0:B.length)??0,F=O.length||0,N=(P/F*100).toFixed(2)+"%";m({unlocked:P,allTotal:F,currentProgress:N})}const E=O=>Tt(O,xt.ui),b=(O,P)=>O+500>=P,S=(O,P)=>O>=P?P-100:O,C=()=>{t(),ab(),i(pt({component:"showAchievement",visibility:!1}))},A=()=>{var G,L,V,$,j,te,ne,pe,le,xe,Te,ye,we,me,Pe,je;const O=(G=a==null?void 0:a.args)!=null&&G.hide?"":(a==null?void 0:a.content)??"",P=s!=null&&s.content?Tt(s==null?void 0:s.content,xt.background):"",F=(V=(L=l==null?void 0:l.args)==null?void 0:L.style)!=null&&V.image?Tt(l.args.style.image,xt.ui):"",N=(j=($=l==null?void 0:l.args)==null?void 0:$.hoverStyle)!=null&&j.image?Tt(l==null?void 0:l.args.hoverStyle.image,xt.ui):"";let B={};P&&(B={backgroundColor:"transparent",borderRadius:"initial"});const U=(te=s==null?void 0:s.args)!=null&&te.hide?{}:{...Hr((ne=s==null?void 0:s.args)==null?void 0:ne.style),backgroundImage:`url(${P})`,...B},H=(pe=a==null?void 0:a.args)!=null&&pe.hide?{}:{...(le=a==null?void 0:a.args)==null?void 0:le.style,color:(Te=(xe=a==null?void 0:a.args)==null?void 0:xe.style)==null?void 0:Te.fontColor,transform:(ye=a==null?void 0:a.args.style)!=null&&ye.scale?`scale(${a.args.style.scale})`:""},ee=(we=l==null?void 0:l.args)!=null&&we.hide?{}:{backgroundImage:`url(${F})`,...Hr((me=l==null?void 0:l.args)==null?void 0:me.style)},J=(Pe=l==null?void 0:l.args)!=null&&Pe.hide?{}:{backgroundImage:`url(${N})`,...Hr((je=l==null?void 0:l.args)==null?void 0:je.hoverStyle)};return M.jsx("div",{className:An.achievement_content,children:M.jsxs("div",{className:An.achievement_current,style:U||{},children:[M.jsx("span",{className:An.text,style:H||{},children:O}),M.jsx("span",{className:An.number,style:H||{},children:`${v.unlocked}/${v.allTotal}`}),M.jsx("span",{className:An.pregessBar,style:ee||{},children:M.jsx("span",{className:An.pregressBar_inner,style:{...J,width:v.currentProgress}})})]})})};return M.jsx(M.Fragment,{children:r.showAchievement&&M.jsxs("div",{className:An.achievement,id:"camera",children:[M.jsx(Di,{item:_.buttons.Achievement_back_button,defaultClass:`${An.goback} interactive`,onClick:C,onMouseEnter:e}),A(),M.jsx("div",{className:An.achievement_content_bg,style:{width:d!=null&&d.achieveBgX?gt(d.achieveBgX):"100%",height:(d==null?void 0:d.achieveBgY)>720?gt(d.achieveBgY):"100%",backgroundImage:`url("${d==null?void 0:d.achieveBg}")`,backgroundSize:(d==null?void 0:d.achieveBgX)&&(d==null?void 0:d.achieveBgY)&&`${gt(d.achieveBgX)}px ${gt(d.achieveBgY)}px`},children:((I=n.allUnlockAchieveList)==null?void 0:I.length)>0&&M.jsx("div",{className:An.achievement_list,children:((R=n.allUnlockAchieveList)==null?void 0:R.map(({unlockname:O,x:P,y:F,url:N,isShowUnlock:B,saveTime:U,condition:H},ee)=>{var G,L,V,$,j,te,ne,pe,le,xe;const J=f!=null&&f.args.hide?{}:{width:(L=(G=f==null?void 0:f.args)==null?void 0:G.style)!=null&&L.width?`${gt(f.args.style.width)}px`:void 0,height:($=(V=f==null?void 0:f.args)==null?void 0:V.style)!=null&&$.height?`${gt(f.args.style.height)}px`:void 0};return M.jsxs("div",{className:`${An.achievement_item} ${B?An.achievement_item_bg_active:""}`,style:{top:`${gt(F)}px`,left:`${S(gt(P),gt((d==null?void 0:d.achieveBgX)??""))}px`,backgroundImage:`url("${E(B?N:!(f!=null&&f.args.hide)&&((te=(j=f==null?void 0:f.args)==null?void 0:j.style)!=null&&te.image)?(pe=(ne=f==null?void 0:f.args)==null?void 0:ne.style)==null?void 0:pe.image:"")}")`,transform:` scale(${(xe=(le=f==null?void 0:f.args)==null?void 0:le.style)==null?void 0:xe.scale})`,...J},children:[B&&M.jsx("div",{className:An.ripple}),B&&M.jsx("span",{className:An.unlockname,children:O}),M.jsxs("div",{className:`${An.info_card} ${b(gt(P),gt((d==null?void 0:d.achieveBgX)??0))?An.info_card_position_right:""}`,children:[H&&M.jsx("span",{className:`${An.condition} ${B?An.condition_bg_active:""}`,children:H}),U&&M.jsx("span",{className:An.time,children:`${U}`}),M.jsxs("span",{className:An.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${ee}`)}))??null})})]})})};var Bl=(t=>(t.Video="video",t.Image="image",t.Placeholder="placeholder",t))(Bl||{});const x$e="_beautyGuideImageDialog_14r48_1",b$e="_mark_14r48_10",E$e="_content_14r48_21",w$e="_content_bg_14r48_35",S$e="_imgWrapper_14r48_46",C$e="_fade_14r48_1",A$e="_btnsWrapper_14r48_59",T$e="_btn_14r48_59",I$e="_btn_prev_disabled_14r48_79",R$e="_btn_next_disabled_14r48_80",P$e="_btn_txt_14r48_83",O$e="_hideButtonBgc_14r48_90",qi={beautyGuideImageDialog:x$e,mark:b$e,content:E$e,content_bg:w$e,imgWrapper:S$e,fade:C$e,btnsWrapper:A$e,btn:T$e,btn_prev_disabled:I$e,btn_next_disabled:R$e,btn_txt:P$e,hideButtonBgc:O$e},KI=({url:t,videoPlayerRef:e,...r})=>{const n=he.useRef(null);return he.useEffect(()=>{if(NA.isSupported()&&n.current){const i=t.endsWith(".flv")?"flv":"mp4";fetch(t).then(a=>a.status>200?null:a.arrayBuffer()).then(async a=>{if(!a)return;const o="ENCRYPTED",s=o.length,c=new Uint8Array(a.slice(0,s));let l=!1;for(let h=0;h<s;h++){if(String.fromCharCode(c[h])!==o[h]){l=!1;break}l=!0}let u;if(l){const h=a.slice(s);u=await F7(h,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",i)}else u=new Blob([new Uint8Array(a)],{type:`video/${i==="mp4"?"mp4":"x-flv"}`});const f=NA.createPlayer({type:t.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(u)});e&&(e.current=f),f.attachMediaElement(n.current),f.load()})}return()=>{}},[t]),M.jsx("video",{ref:n,...r,style:{width:"100%",height:"auto"}})},F$e=t=>{var p,v,m,_,g,x;const e=qr(),{playSeClick:r,playSeEnter:n}=li(),[i,a]=he.useState((t==null?void 0:t.imgUrl)??""),[o,s]=he.useState(0),[c,l]=he.useState({}),u=tt(E=>E.GUI.gameUIConfigs[Un.collection]);he.useEffect(()=>{var E,b,S;if(((E=t.contentList)==null?void 0:E.length)>0){const C=t.contentList.findIndex(A=>A.url===t.imgUrl);C>-1&&s(C)}if(t.show){const C=Hr((S=(b=u==null?void 0:u.other[$r.Collection_detail_dialog_bg])==null?void 0:b.args)==null?void 0:S.style);l(C)}},[t.contentList,t.show]);const f=()=>{r(),e(pt({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const E=o-1;E<0||(s(E),a(t.contentList[E].url))},d=()=>{r();const E=o+1;E>t.contentList.length-1||(s(E),a(t.contentList[E].url))};return M.jsxs("div",{className:qi.beautyGuideImageDialog,children:[M.jsx("div",{className:`${qi.mark} interactive`,onClick:f}),M.jsxs("div",{className:qi.content,style:Hr((v=(p=u==null?void 0:u.other[$r.Collection_detail_dialog_bg])==null?void 0:p.args)==null?void 0:v.style),children:[M.jsx(Vl,{item:u.other[$r.Collection_detail_dialog_bg],defaultClass:qi.content_bg}),M.jsx("div",{className:qi.imgWrapper,children:(m=t.contentList)==null?void 0:m.map((E,b)=>E.type===Bl.Image&&b===o?M.jsx("img",{src:E.url,className:qi.transitionImage},`img-${b}`):E.type===Bl.Video&&b===o?M.jsx(KI,{url:E.url,className:qi.transitionImage,muted:!0,autoPlay:!0,loop:!0},`img-${b}`):null)}),M.jsxs("div",{className:qi.btnsWrapper,children:[M.jsx(Di,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`
              ${qi.btn} 
              ${o<1?qi.btn_prev_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?qi.hideButtonBgc:""} interactive`,onClick:h,onMouseEnter:n}),M.jsxs("span",{className:qi.btn_txt,style:Hr((g=(_=u==null?void 0:u.other[$r==null?void 0:$r.Collection_detail_dialog_text])==null?void 0:_.args)==null?void 0:g.style)??{},children:[o+1,"/",((x=t.contentList)==null?void 0:x.length)??0,""]}),M.jsx(Di,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`
              ${qi.btn} 
              ${o+1>=t.contentList.length?qi.btn_next_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?qi.hideButtonBgc:""} interactive`,onClick:d,onMouseEnter:n})]})]})]})},k$e="_beautyGuideDetail_main_8duce_1",N$e="_beautyGuide_detail_bg_8duce_14",L$e="_goback_8duce_25",M$e="_beautyGuideDetail_left_8duce_43",B$e="_left_box_8duce_51",D$e="_beautyGuide_detail_left_bg_8duce_59",U$e="_pictureUrl_8duce_71",j$e="_personal_info_8duce_82",$$e="_name_8duce_86",G$e="_info_8duce_93",V$e="_beautyGuideDetail_right_8duce_113",H$e="_contentWrapper_8duce_121",X$e="_content_8duce_121",W$e="_content_bg_8duce_132",z$e="_content_img_8duce_149",Y$e="_thumbnailWrapper_8duce_160",q$e="_thumbnail_box_8duce_171",K$e="_video_mark_8duce_195",Z$e="_desc_text_8duce_206",J$e="_desc_bg_8duce_223",Q$e="_hideBgc_8duce_238",Ar={beautyGuideDetail_main:k$e,beautyGuide_detail_bg:N$e,goback:L$e,beautyGuideDetail_left:M$e,left_box:B$e,beautyGuide_detail_left_bg:D$e,pictureUrl:U$e,personal_info:j$e,name:$$e,info:G$e,beautyGuideDetail_right:V$e,contentWrapper:H$e,content:X$e,content_bg:W$e,content_img:z$e,thumbnailWrapper:Y$e,thumbnail_box:q$e,video_mark:K$e,desc_text:Z$e,desc_bg:J$e,hideBgc:Q$e},e9e=t=>{var v,m,_,g,x,E,b,S,C,A,I,R,O,P,F,N,B,U,H,ee,J,G;const e=qr(),{playSeClick:r,playSeEnter:n}=li(),i=tt(L=>L.GUI),[a,o]=he.useState(null),[s,c]=he.useState(""),l=ti.useRef(null),[u,f]=he.useState([]),h=tt(L=>L.GUI.gameUIConfigs[Un.collection]);he.useEffect(()=>{var V,$,j;const L=t.info;if(L!=null&&L.contentList&&((V=L==null?void 0:L.contentList)==null?void 0:V.length)>0)f(L.contentList),o(L.contentList[0]);else{const te=((j=($=h.other[$r.Collection_detail_right_thumbnail_bg])==null?void 0:$.args)==null?void 0:j.style)??{},ne=[],pe=te!=null&&te.image?Tt(te.image,xt.background):"";for(let le=0;le<5;le++)ne.push({key:"placeholder",type:"placeholder",url:pe});f(ne)}},[t]);const d=()=>{r(),e(pt({component:"showBeautyGuideDetail",visibility:!1}))},p=L=>{r(),c(L),l.current&&l.current.pause(),e(pt({component:"showBeautyGuideImageDialog",visibility:!0}))};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Ar.beautyGuideDetail_main,children:[M.jsx(Vl,{item:h.other[$r.Collection_detail_bg],defaultClass:Ar.beautyGuide_detail_bg}),M.jsx(Di,{item:h.buttons.Collection_back_button,defaultClass:`${Ar.goback} interactive`,onClick:d,onMouseEnter:n}),M.jsx("div",{className:Ar.beautyGuideDetail_left,children:M.jsxs("div",{className:Ar.left_box,style:Hr((m=(v=h.other[$r.Collection_detail_left_bg])==null?void 0:v.args)==null?void 0:m.style),children:[M.jsx(Vl,{item:h.other[$r.Collection_detail_left_bg],defaultClass:Ar.beautyGuide_detail_left_bg}),M.jsx("div",{className:Ar.pictureUrl,children:M.jsx("img",{src:(_=t.info)==null?void 0:_.image,alt:""})}),M.jsxs("div",{className:Ar.personal_info,children:[M.jsx("h3",{className:Ar.name,style:(t==null?void 0:t.infoItemStyle)??{},children:((g=t.info)==null?void 0:g.name)??""}),M.jsxs("div",{className:Ar.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((x=t.info)==null?void 0:x.height)??""})]}),M.jsxs("div",{className:Ar.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((E=t.info)==null?void 0:E.weight)??""})]}),M.jsxs("div",{className:Ar.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((b=t.info)==null?void 0:b.bustSize)??""})]}),M.jsxs("div",{className:Ar.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((S=t.info)==null?void 0:S.waistSize)??""})]}),M.jsxs("div",{className:Ar.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((C=t.info)==null?void 0:C.hipSize)??""})]})]})]})}),M.jsxs("div",{className:Ar.beautyGuideDetail_right,children:[M.jsxs("div",{className:`${Ar.desc_text} 
              ${(I=(A=h.other[$r.Collection_detail_right_desc_bg])==null?void 0:A.args)!=null&&I.style.image?Ar.hideBgc:""}`,style:{...Hr((O=(R=h.other[$r.Collection_detail_right_desc_bg])==null?void 0:R.args)==null?void 0:O.style),display:(F=(P=h.other[$r.Collection_detail_right_desc_bg])==null?void 0:P.args)!=null&&F.hide?"none":"flex"},children:[M.jsx(Vl,{item:h.other[$r.Collection_detail_right_desc_bg],defaultClass:Ar.desc_bg}),M.jsx("span",{children:((N=t.info)==null?void 0:N.description)??""})]}),M.jsxs("div",{className:Ar.contentWrapper,style:{display:(U=(B=h.other[$r.Collection_detail_right_content_bg])==null?void 0:B.args)!=null&&U.hide?"none":"block"},children:[M.jsxs("div",{className:`${Ar.content} 
                ${(ee=(H=h.other[$r.Collection_detail_right_content_bg])==null?void 0:H.args)!=null&&ee.style.image?Ar.hideBgc:""}`,style:Hr((G=(J=h.other[$r.Collection_detail_right_content_bg])==null?void 0:J.args)==null?void 0:G.style),children:[M.jsx(Vl,{item:h.other[$r.Collection_detail_right_content_bg],defaultClass:Ar.content_bg}),a&&M.jsxs(M.Fragment,{children:[a.type==="video"&&M.jsx(KI,{videoPlayerRef:l,url:a.url,controls:!0,autoPlay:!i.showBeautyGuideImageDialog,loop:!0,muted:!0},a.url),a.type==="image"&&M.jsx("img",{className:`${Ar.content_img} interactive`,src:a.url,onClick:()=>{p(a.url)}})]})]}),M.jsx("div",{className:Ar.thumbnailWrapper,children:M.jsx("div",{children:(u==null?void 0:u.map((L,V)=>{var $,j;return M.jsxs("div",{className:Ar.thumbnail_box,style:Hr((j=($=h.other[$r.Collection_detail_right_thumbnail_bg])==null?void 0:$.args)==null?void 0:j.style),onClick:()=>{L.type!==Bl.Placeholder&&o(L)},children:[L.type===Bl.Placeholder&&M.jsx("img",{src:L.url,alt:""}),L.type===Bl.Image&&M.jsx("img",{src:L.url,alt:""}),L.type===Bl.Video&&M.jsx(KI,{url:L.url,controls:!1,loop:!0,muted:!0}),L.type===Bl.Video&&M.jsx("div",{className:Ar.video_mark,children:M.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:M.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${V}`)}))??null})})]})]})]}),i.showBeautyGuideImageDialog&&M.jsx(F$e,{imgUrl:s,contentList:u||[],show:i.showBeautyGuideImageDialog})]})},t9e="_beautyGuide_main_jpgiy_1",r9e="_bg_animation_jpgiy_1",n9e="_beautyGuide_bg_jpgiy_16",i9e="_beautyGuide_header_jpgiy_27",a9e="_goback_jpgiy_33",o9e="_title_jpgiy_51",s9e="_beautyGuide_content_jpgiy_57",l9e="_item_jpgiy_63",Zu={beautyGuide_main:t9e,bg_animation:r9e,beautyGuide_bg:n9e,beautyGuide_header:i9e,goback:a9e,title:o9e,beautyGuide_content:s9e,item:l9e},u9e=()=>{const t=qr(),e=tt(b=>b.GUI),{playSeClick:r,playSeEnter:n}=li(),[i,a]=he.useState(null),o=tt(b=>b.GUI.gameUIConfigs[Un.collection]),[s,c]=he.useState([]),[l,u]=he.useState({}),[f,h]=he.useState(null),[d,p]=he.useState({}),[v,m]=he.useState({}),[_,g]=he.useState({});he.useEffect(()=>{if(e.showBeautyGuide){const b=[],S=(o==null?void 0:o.other)??{},C={},A={};let I=1;Object.entries(S).forEach(([R,O])=>{var P,F,N,B,U,H,ee,J;if(R!=null&&R.includes("Collection_img")){const G=(P=O==null?void 0:O.args)==null?void 0:P.info;let L=((F=O==null?void 0:O.args)==null?void 0:F.style)??{};const V=(N=O==null?void 0:O.args)==null?void 0:N.images,$=(B=O==null?void 0:O.args)==null?void 0:B.videos;A[`Collection_img_info${I}`]={color:L==null?void 0:L.customColor,fontSize:L!=null&&L.customFontSize?`${gt(L.customFontSize)}px`:""},L=Hr(L);const j=wwe(V),te=Swe($),ne=(G==null?void 0:G.image)&&Tt(G==null?void 0:G.image,xt.ui)||"",pe=((H=(U=O==null?void 0:O.args)==null?void 0:U.style)==null?void 0:H.image)&&Tt((J=(ee=O==null?void 0:O.args)==null?void 0:ee.style)==null?void 0:J.image,xt.ui)||"";b.push({avatar:pe,name:G==null?void 0:G.name,image:ne,height:G==null?void 0:G.height,weight:G==null?void 0:G.weight,bustSize:G==null?void 0:G.bustSize,waistSize:G==null?void 0:G.waistSize,hipSize:G==null?void 0:G.hipSize,description:(G==null?void 0:G.description)??"",contentList:te.concat(j)}),C[`Collection_img${I}`]=L,I++}}),p(A),u(C),m(C),c(b)}},[e.showBeautyGuide]);const x=()=>{r(),a(null),g({}),t(pt({component:"showBeautyGuide",visibility:!1}))},E=(b,S)=>{r(),a(b),h(l[`Collection_img${S+1}`]),g(d[`Collection_img_info${S+1}`]),t(pt({component:"showBeautyGuideDetail",visibility:!0}))};return M.jsxs(M.Fragment,{children:[e.showBeautyGuide&&M.jsxs("div",{className:Zu.beautyGuide_main,children:[M.jsx(Vl,{item:o.other[$r.Collection_bg],defaultClass:Zu.beautyGuide_bg}),M.jsxs("div",{className:Zu.beautyGuide_header,children:[M.jsx(Di,{item:o.buttons.Collection_back_button,defaultClass:`${Zu.goback} interactive`,onClick:x,onMouseEnter:n}),M.jsx(Di,{item:o.other.Collection_title,defaultClass:Zu.title})]}),M.jsx("div",{className:Zu.beautyGuide_content,children:s.map((b,S)=>b!=null&&b.avatar?M.jsx("div",{className:`${Zu.item} interactive`,onClick:()=>E(b,S),onMouseEnter:n,children:M.jsx("img",{src:b.avatar,style:v[`Collection_img${S+1}`]})},`${b==null?void 0:b.name}$-${S}`):null)})]}),e.showBeautyGuideDetail&&M.jsx(e9e,{info:i,infoItemStyle:f,infoTextStyle:_,detailRightDescBgStyle:o.other[$r.Collection_detail_right_desc_bg]})]})},c9e="_modalR18_main_jr75s_1",f9e="_footer_jr75s_16",B5={modalR18_main:c9e,"fade-in":"_fade-in_jr75s_1",footer:f9e},h9e=""+new URL("r18-exit-btn-default.png",import.meta.url).href,d9e=""+new URL("r18-exit-btn-active.png",import.meta.url).href,p9e=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,v9e=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,g9e=()=>{_s("r18.");const t=qr(),e=tt(p=>p.GUI),{playSeClick:r,playSeEnter:n}=li(),[i,a]=he.useState(!1),[o,s]=he.useState(!1),[c,l]=he.useState({width:void 0,height:void 0,opacity:0}),[u,f]=he.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(B7(!1))},d=()=>{r(),window.location.href="/"};return M.jsx(M.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&M.jsx("div",{className:`${B5.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:M.jsxs("div",{className:B5.footer,children:[M.jsx("div",{id:"exitButton",className:"interactive",children:M.jsx("img",{src:i?d9e:h9e,onClick:d,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:p=>{l({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:c})}),M.jsx("div",{id:"confirmButton",className:"interactive",children:M.jsx("img",{src:o?v9e:p9e,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:p=>{f({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:u})})]})})})},m9e="_gameMenuPanelWrapper_n6icn_1",_9e="_gameMenuPanel_n6icn_1",y9e="_menuButton_n6icn_12",x9e="_gameMenuPanelContentWrapper_n6icn_26",b9e="_mask_n6icn_34",E9e="_gameMenuPanelContent_n6icn_26",w9e="_content_n6icn_54",S9e="_buttons_wrapper_n6icn_59",C9e="_button_n6icn_59",A9e="_button_text_n6icn_93",T9e="_button_custom_n6icn_96",Zo={gameMenuPanelWrapper:m9e,gameMenuPanel:_9e,menuButton:y9e,gameMenuPanelContentWrapper:x9e,mask:b9e,gameMenuPanelContent:E9e,content:w9e,buttons_wrapper:S9e,button:C9e,button_text:A9e,button_custom:T9e},I9e=()=>{const t=_s("gaming."),e=qr(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=li(),a=tt(h=>h.GUI),o=DO("UI/GameMenuPanel/gameMenuPanel.scss"),s=(h,d)=>{e(pt({component:h,visibility:d}))};he.useEffect(()=>{const h=d=>{d.keyCode===27&&(n(),s("isShowGameMenu",!a.isShowGameMenu))};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[]);const c=h=>{e(Py(h))},l=()=>{n(),s("isShowGameMenu",!0)},u={[Qi.Esc_continueGame_button]:()=>{n(),s("isShowGameMenu",!1)},[Qi.Esc_backToLevel_button]:()=>{n(),s("isShowGameMenu",!1),ab()},[Qi.Esc_setting_button]:()=>{n(),c(ya.Option),s("isShowGameMenu",!1),s("showMenuPanel",!0)},[Qi.Esc_exitGame_button]:()=>{n(),i(),wz({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{s("isShowGameMenu",!1),s("isInGaming",!1),window.location.href="/"}})}},f=h=>{var x,E;const d=a.escMenus[h];if(!d||d.args.hide)return null;const p={},v={};let m=Zo.button;const _=`escMenu-${h}`;if(d.args.style){const b=d.args.style;b.btnPosition!=="custom"&&(p.alignSelf=b.btnPosition),typeof b.align=="string"&&(p.textAlign=b.align),typeof b.fontFamily=="string"&&b.fontFamily&&(p.fontFamily=b.fontFamily),typeof b.x=="number"&&b.btnPosition==="custom"&&(p.position="fixed",p.left=gt(b.x)+"px"),typeof b.y=="number"&&b.btnPosition=="custom"&&(p.position="fixed",p.top=gt(b.y)+"px"),typeof b.scale=="number"&&(p.transform?p.transform+=`scale(${b.scale})`:p.transform=`scale(${b.scale})`),typeof b.fontSize=="number"&&b.fontSize&&(v.fontSize=gt(b.fontSize)+"px"),typeof b.fontColor=="string"&&b.fontColor[0]==="#"&&(p.color=b.fontColor)}if((x=d.args.style)!=null&&x.btnImage){let b=document.getElementById(_);if(m=Zo.button_custom,!b){const S=Tt(d.args.style.btnImage,xt.ui),C=new Image;C.src=S,C.onload=function(){let A=document.getElementById(_);C.style.width=C.naturalWidth+"px",C.style.height=C.naturalHeight+"px",C.alt=d.content,A&&(A.style.width=C.naturalWidth+"px",A.style.height=C.naturalHeight+"px",setTimeout(()=>{A==null||A.prepend(C),A=null},32))}}}const g=document.getElementById(`${_}-text`);return g&&(d!=null&&d.content)&&(g.innerText=((E=d.content)==null?void 0:E.replace(/\\n/g,`
`))??""),M.jsx("span",{id:_,className:`${o("button",m)} interactive`,onMouseEnter:r,onClick:u[h],style:p,children:M.jsx("span",{className:Zo.button_text,style:v,id:`${_}-text`})},h)};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Zo.gameMenuPanel,children:M.jsx("div",{className:Zo.menuButton,onClick:l,onMouseEnter:r})}),a.isShowGameMenu&&M.jsxs("div",{className:Zo.gameMenuPanelContentWrapper,children:[M.jsx("div",{className:Zo.mask}),M.jsx("div",{className:Zo.gameMenuPanelContent,children:M.jsx("div",{className:Zo.content,children:M.jsxs("div",{className:Zo.buttons_wrapper,children:[f(Qi.Esc_continueGame_button),f(Qi.Esc_backToLevel_button),f(Qi.Esc_setting_button),f(Qi.Esc_exitGame_button)]})})})]})]})};function R9e(){return he.useEffect(()=>{s8e()},[]),jje(),M.jsxs("div",{className:"App",children:[M.jsx(Dje,{}),M.jsx(A5e,{}),M.jsx(R5e,{}),M.jsx(Aje,{}),M.jsx($5e,{}),M.jsx(yIe,{}),M.jsx(CIe,{}),M.jsx(xje,{}),M.jsx(f6e,{}),M.jsx(J8e,{}),M.jsx(Uje,{}),M.jsx(Pje,{}),M.jsx(Kje,{}),M.jsx(y$e,{}),M.jsx(u9e,{}),M.jsx(g9e,{}),M.jsx(I9e,{})]})}function lu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZI(t,e){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZI(t,e)}function ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZI(t,e)}function qv(t,e){if(e&&(ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(t)}function ys(t){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ys(t)}function P9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O9e(t){return Pz(t)||P9e(t)||Oz(t)||Fz()}function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var F9e={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},k9e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Go(this,t),this.init(e,r)}return Vo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||F9e,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,U5(U5({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),ss=new k9e,wu=function(){function t(){Go(this,t),this.observers={}}return Vo(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function O0(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function j5(t){return t==null?"":""+t}function N9e(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function $k(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function $5(t,e,r){var n=$k(t,e,Object),i=n.obj,a=n.k;i[a]=r}function L9e(t,e,r,n){var i=$k(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function tx(t,e){var r=$k(t,e),n=r.obj,i=r.k;if(n)return n[i]}function M9e(t,e,r){var n=tx(t,r);return n!==void 0?n:tx(e,r)}function Mz(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):Mz(t[n],e[n],r):t[n]=e[n]);return t}function $f(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var B9e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function D9e(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return B9e[e]}):t}var sb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,U9e=[" ",",","?","!",";"];function j9e(t,e,r){e=e||"",r=r||"";var n=U9e.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function rx(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?rx(c,l,r):void 0}i=i[n[a]]}return i}}function G5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $9e(t){var e=G9e();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qv(this,i)}}function G9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var V9e=function(t){ob(r,t);var e=$9e(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Go(this,r),i=e.call(this),sb&&wu.call(lu(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Vo(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=tx(this.data,u);return f||!l||typeof o!="string"?f:rx(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),$5(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=tx(this.data,u)||{};s?Mz(f,o,c):f=Km(Km({},f),o),$5(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Km(Km({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(wu),Bz={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H9e(t){var e=X9e();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qv(this,i)}}function X9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var H5={},X5=function(t){ob(r,t);var e=H9e(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Go(this,r),i=e.call(this),sb&&wu.call(lu(i)),N9e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,lu(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ss.create("translator"),i}return Vo(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!j9e(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(ri(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),ri(a)==="object"&&(a=Ri({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,d=h[h.length-1],p=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){var m=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(d).concat(m).concat(f),usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:"".concat(d).concat(m).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:f}var _=this.resolve(i,a),g=_&&_.res,x=_&&_.usedKey||f,E=_&&_.exactUsedKey||f,b=Object.prototype.toString.apply(g),S=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(A&&g&&I&&S.indexOf(b)<0&&!(typeof C=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,g,Ri(Ri({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(_.res=R,_):R}if(l){var O=b==="[object Array]",P=O?[]:{},F=O?E:x;for(var N in g)if(Object.prototype.hasOwnProperty.call(g,N)){var B="".concat(F).concat(l).concat(N);P[N]=this.translate(B,Ri(Ri({},a),{joinArrays:!1,ns:h})),P[N]===B&&(P[N]=g[N])}g=P}}else if(A&&typeof C=="string"&&b==="[object Array]")g=g.join(C),g&&(g=this.extendTranslation(g,i,a,o));else{var U=!1,H=!1,ee=a.count!==void 0&&typeof a.count!="string",J=r.hasDefaultValue(a),G=ee?this.pluralResolver.getSuffix(p,a.count,a):"",L=a["defaultValue".concat(G)]||a.defaultValue;!this.isValidLookup(g)&&J&&(U=!0,g=L),this.isValidLookup(g)||(H=!0,g=f);var V=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,$=V&&H?void 0:g,j=J&&L!==g&&this.options.updateMissing;if(H||U||j){if(this.logger.log(j?"updateKey":"missingKey",p,d,f,j?L:g),l){var te=this.resolve(f,Ri(Ri({},a),{},{keySeparator:!1}));te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ne=[],pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(var le=0;le<pe.length;le++)ne.push(pe[le]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(a.lng||this.language):ne.push(a.lng||this.language);var xe=function(ye,we,me){var Pe=J&&me!==g?me:$;s.options.missingKeyHandler?s.options.missingKeyHandler(ye,d,we,Pe,j,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ye,d,we,Pe,j,a),s.emit("missingKey",ye,d,we,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?ne.forEach(function(Te){s.pluralResolver.getSuffixes(Te,a).forEach(function(ye){xe([Te],f+ye,a["defaultValue".concat(ye)]||L)})}):xe(ne,f,L))}g=this.extendTranslation(g,i,a,_,o),H&&g===f&&this.options.appendNamespaceToMissingKey&&(g="".concat(d,":").concat(f)),(H||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,U?g:void 0):g=this.options.parseMissingKeyHandler(g))}return c?(_.res=g,_):g}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Ri(Ri({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Ri(Ri({},o),{interpolation:Ri(Ri({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=Ri(Ri({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),u){var p=i.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var g=arguments.length,x=new Array(g),E=0;E<g;E++)x[E]=arguments[E];return c&&c[0]===x[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(a[0])),null):l.translate.apply(l,x.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,_=typeof m=="string"?[m]:m;return i!=null&&_&&_.length&&o.applyPostProcessor!==!1&&(i=Bz.handle(_,i,a,this.options&&this.options.postProcessPassResolved?Ri({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var d=a.extractFromKey(h,o),p=d.key;c=p;var v=d.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",_=m&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",x=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(E){a.isValidLookup(s)||(f=E,!H5["".concat(x[0],"-").concat(E)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(H5["".concat(x[0],"-").concat(E)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(b){if(!a.isValidLookup(s)){u=b;var S=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(S,p,b,E,o);else{var C;m&&(C=a.pluralResolver.getSuffix(b,o.count,o));var A="".concat(a.options.pluralSeparator,"zero");if(m&&(S.push(p+C),_&&S.push(p+A)),g){var I="".concat(p).concat(a.options.contextSeparator).concat(o.context);S.push(I),m&&(S.push(I+C),_&&S.push(I+A))}}for(var R;R=S.pop();)a.isValidLookup(s)||(l=R,s=a.getResource(b,E,R,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(wu);function v2(t){return t.charAt(0).toUpperCase()+t.slice(1)}var W5=function(){function t(e){Go(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ss.create("languageUtils")}return Vo(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=v2(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=v2(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=v2(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),W9e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],z9e={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},Y9e=["v1","v2","v3"],z5={zero:0,one:1,two:2,few:3,many:4,other:5};function q9e(){var t={};return W9e.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:z9e[e.fc]}})}),t}var K9e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Go(this,t),this.languageUtils=e,this.options=r,this.logger=ss.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=q9e()}return Vo(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return z5[o]-z5[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!Y9e.includes(this.options.compatibilityJSON)}}]),t}();function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q5(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=M9e(t,e,r);return!a&&i&&typeof r=="string"&&(a=rx(t,r,n),a===void 0&&(a=rx(e,r,n))),a}var Z9e=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Go(this,t),this.logger=ss.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Vo(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:D9e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?$f(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?$f(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?$f(n.nestingPrefix):n.nestingPrefixEscaped||$f("$t("),this.nestingSuffix=n.nestingSuffix?$f(n.nestingSuffix):n.nestingSuffixEscaped||$f(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(m){return m.replace(/\$/g,"$$$$")}var h=function(_){if(_.indexOf(o.formatSeparator)<0){var g=q5(n,u,_,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(g,void 0,i,wo(wo(wo({},a),n),{},{interpolationkey:_})):g}var x=_.split(o.formatSeparator),E=x.shift().trim(),b=x.join(o.formatSeparator).trim();return o.format(q5(n,u,E,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,wo(wo(wo({},a),n),{},{interpolationkey:E}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(_){return f(_)}},{regex:this.regexp,safeValue:function(_){return o.escapeValue?f(o.escape(_)):f(_)}}];return v.forEach(function(m){for(l=0;s=m.regex.exec(r);){var _=s[1].trim();if(c=h(_),c===void 0)if(typeof d=="function"){var g=d(r,s,a);c=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,_))c="";else if(p){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(_," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=j5(c));var x=m.safeValue(c);if(r=r.replace(s[0],x),p?(m.regex.lastIndex+=c.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(d,p){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var m=d.split(new RegExp("".concat(v,"[ ]*{"))),_="{".concat(m[1]);d=m[0],_=this.interpolate(_,c);var g=_.match(/'/g),x=_.match(/"/g);(g&&g.length%2===0&&!x||x.length%2!==0)&&(_=_.replace(/'/g,'"'));try{c=JSON.parse(_),p&&(c=wo(wo({},p),c))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(v).concat(_)}return delete c.defaultValue,d}for(;o=this.nestingRegexp.exec(r);){var u=[];c=wo({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=j5(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(d,p){return i.format(d,p,a.lng,wo(wo({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function K5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J9e(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=O9e(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function Gf(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var Q9e=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Go(this,t),this.logger=ss.create("formatter"),this.options=e,this.formats={number:Gf(function(r,n){var i=new Intl.NumberFormat(r,$s({},n));return function(a){return i.format(a)}}),currency:Gf(function(r,n){var i=new Intl.NumberFormat(r,$s($s({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Gf(function(r,n){var i=new Intl.DateTimeFormat(r,$s({},n));return function(a){return i.format(a)}}),relativetime:Gf(function(r,n){var i=new Intl.RelativeTimeFormat(r,$s({},n));return function(a){return i.format(a,n.range||"day")}}),list:Gf(function(r,n){var i=new Intl.ListFormat(r,$s({},n));return function(a){return i.format(a)}})},this.init(e)}return Vo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Gf(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=J9e(u),h=f.formatName,d=f.formatOptions;if(a.formats[h]){var p=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},m=v.locale||v.lng||o.locale||o.lng||i;p=a.formats[h](l,m,$s($s($s({},d),o),v))}catch(_){a.logger.warn(_)}return p}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eGe(t){var e=tGe();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qv(this,i)}}function tGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rGe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var nGe=function(t){ob(r,t);var e=eGe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Go(this,r),o=e.call(this),sb&&wu.call(lu(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=ss.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return Vo(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(d){var p=!0;a.forEach(function(v){var m="".concat(d,"|").concat(v);!o.reload&&c.store.hasResourceBundle(d,v)?c.state[m]=2:c.state[m]<0||(c.state[m]===1?u[m]===void 0&&(u[m]=!0):(c.state[m]=1,p=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),h[v]===void 0&&(h[v]=!0)))}),p||(f[d]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){L9e(f.loaded,[c],l),rGe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var d=f.loaded[h];d.length&&d.forEach(function(p){u[h][p]===void 0&&(u[h][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(v,m){if(s.readingCalls--,s.waitingReads.length>0){var _=s.waitingReads.shift();s.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(v&&m&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(v,m)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var d=h(i,a);d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=J5(J5({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,a,o,s,f):d=h(i,a,o,s),d&&typeof d.then=="function"?d.then(function(p){return u(null,p)}).catch(u):u(null,d)}catch(p){u(p)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(wu);function Q5(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(ri(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),ri(e[2])==="object"||ri(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ej(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iGe(t){var e=aGe();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qv(this,i)}}function aGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zm(){}function oGe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var nx=function(t){ob(r,t);var e=iGe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Go(this,r),n=e.call(this),sb&&wu.call(lu(n)),n.options=ej(i),n.services={},n.logger=ss,n.modules={external:[]},oGe(lu(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),qv(n,lu(n));setTimeout(function(){n.init(i,a)},0)}return n}return Vo(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=Q5();this.options=Jo(Jo(Jo({},s),this.options),ej(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Jo(Jo({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(_){return _?typeof _=="function"?new _:_:null}if(!this.options.isClone){this.modules.logger?ss.init(c(this.modules.logger),this.options):ss.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Q9e);var u=new W5(this.options);this.store=new V9e(this.options.resources,this.options);var f=this.services;f.logger=ss,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new K9e(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Z9e(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new nGe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(_){for(var g=arguments.length,x=new Array(g>1?g-1:0),E=1;E<g;E++)x[E-1]=arguments[E];i.emit.apply(i,[_].concat(x))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new X5(this.services,this.options),this.translator.on("*",function(_){for(var g=arguments.length,x=new Array(g>1?g-1:0),E=1;E<g;E++)x[E-1]=arguments[E];i.emit.apply(i,[_].concat(x))}),this.modules.external.forEach(function(_){_.init&&_.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Zm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(_){i[_]=function(){var g;return(g=i.store)[_].apply(g,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(_){i[_]=function(){var g;return(g=i.store)[_].apply(g,arguments),i}});var v=O0(),m=function(){var g=function(E,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(b),o(E,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zm,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(d){if(d){var p=a.services.languageUtils.toResolveHierarchy(d);p.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=O0();return i||(i=this.languages),a||(a=this.options.ns),o||(o=Zm),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Bz.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=O0();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,d){d?(c(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);d&&(o.language||c(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(ri(f)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([u,f].concat(p))}else h=Jo({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var m=s.options.keySeparator||".",_;return h.keyPrefix&&Array.isArray(u)?_=u.map(function(g){return"".concat(h.keyPrefix).concat(m).concat(g)}):_=h.keyPrefix?"".concat(h.keyPrefix).concat(m).concat(u):u,s.t(_,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(d,p){var v=a.services.backendConnector.state["".concat(d,"|").concat(p)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=O0();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=O0();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new W5(Q5());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zm,s=Jo(Jo(Jo({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=Jo({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new X5(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(wu);Ga(nx,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new nx(t,e)});var $i=nx.createInstance();$i.createInstance=nx.createInstance;$i.createInstance;$i.dir;$i.init;$i.loadResources;$i.reloadResources;$i.use;$i.changeLanguage;$i.getFixedT;$i.t;$i.exists;$i.setDefaultNamespace;$i.hasLoadedNamespace;$i.loadNamespaces;$i.loadLanguages;$i.use(xUe).init({resources:fde||{},lng:yd[hde]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Mc.render(M.jsx(ti.StrictMode,{children:M.jsx(SUe,{children:M.jsx(mwe,{store:ue,children:M.jsx(R9e,{})})})}),document.getElementById("root"));export{Vn as C,Cc as S,vt as T,W,Na as a,dGe as r,gu as u};
