var Mte=Object.defineProperty;var Bte=(t,e,r)=>e in t?Mte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ct=(t,e,r)=>(Bte(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dte(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Nj={exports:{}},Wv={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var SN=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable;function $te(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Gte(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ER=Gte()?Object.assign:function(t,e){for(var r,n=$te(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)Ute.call(r,o)&&(n[o]=r[o]);if(SN){i=SN(r);for(var s=0;s<i.length;s++)jte.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const Vte=Xi(ER);var Lj={exports:{}},Rr={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=ER,Ed=60103,Mj=60106;Rr.Fragment=60107;Rr.StrictMode=60108;Rr.Profiler=60114;var Bj=60109,Dj=60110,Uj=60112;Rr.Suspense=60113;var jj=60115,$j=60116;if(typeof Symbol=="function"&&Symbol.for){var Oo=Symbol.for;Ed=Oo("react.element"),Mj=Oo("react.portal"),Rr.Fragment=Oo("react.fragment"),Rr.StrictMode=Oo("react.strict_mode"),Rr.Profiler=Oo("react.profiler"),Bj=Oo("react.provider"),Dj=Oo("react.context"),Uj=Oo("react.forward_ref"),Rr.Suspense=Oo("react.suspense"),jj=Oo("react.memo"),$j=Oo("react.lazy")}var CN=typeof Symbol=="function"&&Symbol.iterator;function Hte(t){return t===null||typeof t!="object"?null:(t=CN&&t[CN]||t["@@iterator"],typeof t=="function"?t:null)}function Yv(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vj={};function Sd(t,e,r){this.props=t,this.context=e,this.refs=Vj,this.updater=r||Gj}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Yv(85));this.updater.enqueueSetState(this,t,e,"setState")};Sd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hj(){}Hj.prototype=Sd.prototype;function CR(t,e,r){this.props=t,this.context=e,this.refs=Vj,this.updater=r||Gj}var AR=CR.prototype=new Hj;AR.constructor=CR;SR(AR,Sd.prototype);AR.isPureReactComponent=!0;var TR={current:null},Xj=Object.prototype.hasOwnProperty,zj={key:!0,ref:!0,__self:!0,__source:!0};function Wj(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Xj.call(e,n)&&!zj.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ed,type:t,key:a,ref:o,props:i,_owner:TR.current}}function Xte(t,e){return{$$typeof:Ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IR(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ed}function zte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var AN=/\/+/g;function Jw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zte(""+t.key):e.toString(36)}function S_(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ed:case Mj:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Jw(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(AN,"$&/")+"/"),S_(i,e,r,"",function(l){return l})):i!=null&&(IR(i)&&(i=Xte(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(AN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+Jw(a,s);o+=S_(a,e,r,c,i)}else if(c=Hte(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+Jw(a,s++),o+=S_(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Yv(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function gm(t,e,r){if(t==null)return t;var n=[],i=0;return S_(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Wte(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var Yj={current:null};function wl(){var t=Yj.current;if(t===null)throw Error(Yv(321));return t}var Yte={ReactCurrentDispatcher:Yj,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:TR,IsSomeRendererActing:{current:!1},assign:SR};Rr.Children={map:gm,forEach:function(t,e,r){gm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gm(t,function(){e++}),e},toArray:function(t){return gm(t,function(e){return e})||[]},only:function(t){if(!IR(t))throw Error(Yv(143));return t}};Rr.Component=Sd;Rr.PureComponent=CR;Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yte;Rr.cloneElement=function(t,e,r){if(t==null)throw Error(Yv(267,t));var n=SR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=TR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)Xj.call(e,c)&&!zj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Ed,type:t.type,key:i,ref:a,props:n,_owner:o}};Rr.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Dj,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Bj,_context:t},t.Consumer=t};Rr.createElement=Wj;Rr.createFactory=function(t){var e=Wj.bind(null,t);return e.type=t,e};Rr.createRef=function(){return{current:null}};Rr.forwardRef=function(t){return{$$typeof:Uj,render:t}};Rr.isValidElement=IR;Rr.lazy=function(t){return{$$typeof:$j,_payload:{_status:-1,_result:t},_init:Wte}};Rr.memo=function(t,e){return{$$typeof:jj,type:t,compare:e===void 0?null:e}};Rr.useCallback=function(t,e){return wl().useCallback(t,e)};Rr.useContext=function(t,e){return wl().useContext(t,e)};Rr.useDebugValue=function(){};Rr.useEffect=function(t,e){return wl().useEffect(t,e)};Rr.useImperativeHandle=function(t,e,r){return wl().useImperativeHandle(t,e,r)};Rr.useLayoutEffect=function(t,e){return wl().useLayoutEffect(t,e)};Rr.useMemo=function(t,e){return wl().useMemo(t,e)};Rr.useReducer=function(t,e,r){return wl().useReducer(t,e,r)};Rr.useRef=function(t){return wl().useRef(t)};Rr.useState=function(t){return wl().useState(t)};Rr.version="17.0.2";Lj.exports=Rr;var ve=Lj.exports;const Vr=Xi(ve);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qte=ve,qj=60103;Wv.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var TN=Symbol.for;qj=TN("react.element"),Wv.Fragment=TN("react.fragment")}var Kte=qte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zte=Object.prototype.hasOwnProperty,Jte={key:!0,ref:!0,__self:!0,__source:!0};function Kj(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Zte.call(e,n)&&!Jte.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:qj,type:t,key:a,ref:o,props:i,_owner:Kte.current}}Wv.jsx=Kj;Wv.jsxs=Kj;Nj.exports=Wv;var N=Nj.exports,Zj={exports:{}},So={},Jj={exports:{}},Qj={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var D=t.unstable_now();c(!0,D),c=null}catch(z){throw setTimeout(u,0),z}};e=function(D){c!==null?setTimeout(e,0,D):(c=D,setTimeout(u,0))},r=function(D,z){l=setTimeout(D,z)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,v=null,m=-1,g=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<D?Math.floor(1e3/D):5};var y=new MessageChannel,w=y.port2;y.port1.onmessage=function(){if(v!==null){var D=t.unstable_now();_=D+g;try{v(!0,D)?w.postMessage(null):(d=!1,v=null)}catch(z){throw w.postMessage(null),z}}else d=!1},e=function(D){v=D,d||(d=!0,w.postMessage(null))},r=function(D,z){m=f(function(){D(t.unstable_now())},z)},n=function(){h(m),m=-1}}function b(D,z){var V=D.length;D.push(z);e:for(;;){var G=V-1>>>1,ie=D[G];if(ie!==void 0&&0<A(ie,z))D[G]=z,D[V]=ie,V=G;else break e}}function E(D){return D=D[0],D===void 0?null:D}function C(D){var z=D[0];if(z!==void 0){var V=D.pop();if(V!==z){D[0]=V;e:for(var G=0,ie=D.length;G<ie;){var se=2*(G+1)-1,me=D[se],ue=se+1,we=D[ue];if(me!==void 0&&0>A(me,V))we!==void 0&&0>A(we,me)?(D[G]=we,D[ue]=V,G=ue):(D[G]=me,D[se]=V,G=se);else if(we!==void 0&&0>A(we,V))D[G]=we,D[ue]=V,G=ue;else break e}}return z}return null}function A(D,z){var V=D.sortIndex-z.sortIndex;return V!==0?V:D.id-z.id}var T=[],R=[],O=1,P=null,k=3,L=!1,B=!1,U=!1;function X(D){for(var z=E(R);z!==null;){if(z.callback===null)C(R);else if(z.startTime<=D)C(R),z.sortIndex=z.expirationTime,b(T,z);else break;z=E(R)}}function ee(D){if(U=!1,X(D),!B)if(E(T)!==null)B=!0,e(ne);else{var z=E(R);z!==null&&r(ee,z.startTime-D)}}function ne(D,z){B=!1,U&&(U=!1,n()),L=!0;var V=k;try{for(X(z),P=E(T);P!==null&&(!(P.expirationTime>z)||D&&!t.unstable_shouldYield());){var G=P.callback;if(typeof G=="function"){P.callback=null,k=P.priorityLevel;var ie=G(P.expirationTime<=z);z=t.unstable_now(),typeof ie=="function"?P.callback=ie:P===E(T)&&C(T),X(z)}else C(T);P=E(T)}if(P!==null)var se=!0;else{var me=E(R);me!==null&&r(ee,me.startTime-z),se=!1}return se}finally{P=null,k=V,L=!1}}var W=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){B||L||(B=!0,e(ne))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(D){switch(k){case 1:case 2:case 3:var z=3;break;default:z=k}var V=k;k=z;try{return D()}finally{k=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=k;k=D;try{return z()}finally{k=V}},t.unstable_scheduleCallback=function(D,z,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=V+ie,D={id:O++,callback:z,priorityLevel:D,startTime:V,expirationTime:ie,sortIndex:-1},V>G?(D.sortIndex=V,b(R,D),E(T)===null&&D===E(R)&&(U?n():U=!0,r(ee,V-G))):(D.sortIndex=ie,b(T,D),B||L||(B=!0,e(ne))),D},t.unstable_wrapCallback=function(D){var z=k;return function(){var V=k;k=z;try{return D.apply(this,arguments)}finally{k=V}}}})(Qj);Jj.exports=Qj;var Qte=Jj.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=ve,gn=ER,Ai=Qte;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ox)throw Error(et(227));var e9=new Set,Xp={};function df(t,e){rd(t,e),rd(t+"Capture",e)}function rd(t,e){for(Xp[t]=e,t=0;t<e.length;t++)e9.add(e[t])}var gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ere=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IN=Object.prototype.hasOwnProperty,RN={},PN={};function tre(t){return IN.call(PN,t)?!0:IN.call(RN,t)?!1:ere.test(t)?PN[t]=!0:(RN[t]=!0,!1)}function rre(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nre(t,e,r,n){if(e===null||typeof e>"u"||rre(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ya(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hi[t]=new ya(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hi[e]=new ya(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hi[t]=new ya(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hi[t]=new ya(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hi[t]=new ya(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hi[t]=new ya(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hi[t]=new ya(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hi[t]=new ya(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hi[t]=new ya(t,5,!1,t.toLowerCase(),null,!1,!1)});var RR=/[\-:]([a-z])/g;function PR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(RR,PR);Hi[e]=new ya(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(RR,PR);Hi[e]=new ya(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(RR,PR);Hi[e]=new ya(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hi[t]=new ya(t,1,!1,t.toLowerCase(),null,!1,!1)});Hi.xlinkHref=new ya("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hi[t]=new ya(t,1,!1,t.toLowerCase(),null,!0,!0)});function OR(t,e,r,n){var i=Hi.hasOwnProperty(e)?Hi[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(nre(e,r,i,n)&&(r=null),n||i===null?tre(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pf=Ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ap=60103,Ac=60106,Wl=60107,kR=60108,mp=60114,FR=60109,NR=60110,kx=60112,_p=60113,fy=60120,Fx=60115,LR=60116,MR=60121,BR=60128,t9=60129,DR=60130,MC=60131;if(typeof Symbol=="function"&&Symbol.for){var mi=Symbol.for;ap=mi("react.element"),Ac=mi("react.portal"),Wl=mi("react.fragment"),kR=mi("react.strict_mode"),mp=mi("react.profiler"),FR=mi("react.provider"),NR=mi("react.context"),kx=mi("react.forward_ref"),_p=mi("react.suspense"),fy=mi("react.suspense_list"),Fx=mi("react.memo"),LR=mi("react.lazy"),MR=mi("react.block"),mi("react.scope"),BR=mi("react.opaque.id"),t9=mi("react.debug_trace_mode"),DR=mi("react.offscreen"),MC=mi("react.legacy_hidden")}var ON=typeof Symbol=="function"&&Symbol.iterator;function E0(t){return t===null||typeof t!="object"?null:(t=ON&&t[ON]||t["@@iterator"],typeof t=="function"?t:null)}var Qw;function op(t){if(Qw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qw=e&&e[1]||""}return`
`+Qw+t}var eE=!1;function mm(t,e){if(!t||eE)return"";eE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{eE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?op(t):""}function ire(t){switch(t.tag){case 5:return op(t.type);case 16:return op("Lazy");case 13:return op("Suspense");case 19:return op("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 22:return t=mm(t.type._render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function Ph(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wl:return"Fragment";case Ac:return"Portal";case mp:return"Profiler";case kR:return"StrictMode";case _p:return"Suspense";case fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NR:return(t.displayName||"Context")+".Consumer";case FR:return(t._context.displayName||"Context")+".Provider";case kx:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Fx:return Ph(t.type);case MR:return Ph(t._render);case LR:e=t._payload,t=t._init;try{return Ph(t(e))}catch{}}return null}function wu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function r9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function are(t){var e=r9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _m(t){t._valueTracker||(t._valueTracker=are(t))}function n9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=r9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BC(t,e){var r=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function kN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=wu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i9(t,e){e=e.checked,e!=null&&OR(t,"checked",e,!1)}function DC(t,e){i9(t,e);var r=wu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?UC(t,e.type,r):e.hasOwnProperty("defaultValue")&&UC(t,e.type,wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function UC(t,e,r){(e!=="number"||hy(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function ore(t){var e="";return Ox.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function jC(t,e){return t=gn({children:void 0},e),(e=ore(e.children))&&(t.children=e),t}function Oh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+wu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $C(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(et(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:wu(r)}}function a9(t,e){var r=wu(e.value),n=wu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function LN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var GC={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function o9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ym,s9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==GC.svg||"innerHTML"in t)t.innerHTML=e;else{for(ym=ym||document.createElement("div"),ym.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ym.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sre=["Webkit","ms","Moz","O"];Object.keys(yp).forEach(function(t){sre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yp[e]=yp[t]})});function l9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yp.hasOwnProperty(t)&&yp[t]?(""+e).trim():e+"px"}function u9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=l9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lre=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HC(t,e){if(e){if(lre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function XC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function UR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zC=null,kh=null,Fh=null;function MN(t){if(t=Kv(t)){if(typeof zC!="function")throw Error(et(280));var e=t.stateNode;e&&(e=Ux(e),zC(t.stateNode,t.type,e))}}function c9(t){kh?Fh?Fh.push(t):Fh=[t]:kh=t}function f9(){if(kh){var t=kh,e=Fh;if(Fh=kh=null,MN(t),e)for(t=0;t<e.length;t++)MN(e[t])}}function jR(t,e){return t(e)}function h9(t,e,r,n,i){return t(e,r,n,i)}function $R(){}var d9=jR,Tc=!1,tE=!1;function GR(){(kh!==null||Fh!==null)&&($R(),f9())}function ure(t,e,r){if(tE)return t(e,r);tE=!0;try{return d9(t,e,r)}finally{tE=!1,GR()}}function Wp(t,e){var r=t.stateNode;if(r===null)return null;var n=Ux(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var WC=!1;if(gl)try{var S0={};Object.defineProperty(S0,"passive",{get:function(){WC=!0}}),window.addEventListener("test",S0,S0),window.removeEventListener("test",S0,S0)}catch{WC=!1}function cre(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var xp=!1,dy=null,py=!1,YC=null,fre={onError:function(t){xp=!0,dy=t}};function hre(t,e,r,n,i,a,o,s,c){xp=!1,dy=null,cre.apply(fre,arguments)}function dre(t,e,r,n,i,a,o,s,c){if(hre.apply(this,arguments),xp){if(xp){var l=dy;xp=!1,dy=null}else throw Error(et(198));py||(py=!0,YC=l)}}function vf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function p9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BN(t){if(vf(t)!==t)throw Error(et(188))}function pre(t){var e=t.alternate;if(!e){if(e=vf(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return BN(i),t;if(a===n)return BN(i),e;a=a.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function v9(t){if(t=pre(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function DN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var g9,VR,m9,_9,qC=!1,xs=[],ou=null,su=null,lu=null,Yp=new Map,qp=new Map,C0=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KC(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function jN(t,e){switch(t){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":su=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":Yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(e.pointerId)}}function A0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=KC(e,r,n,i,a),e!==null&&(e=Kv(e),e!==null&&VR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vre(t,e,r,n,i){switch(e){case"focusin":return ou=A0(ou,t,e,r,n,i),!0;case"dragenter":return su=A0(su,t,e,r,n,i),!0;case"mouseover":return lu=A0(lu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Yp.set(a,A0(Yp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,qp.set(a,A0(qp.get(a)||null,t,e,r,n,i)),!0}return!1}function gre(t){var e=Ic(t.target);if(e!==null){var r=vf(e);if(r!==null){if(e=r.tag,e===13){if(e=p9(r),e!==null){t.blockedOn=e,_9(t.lanePriority,function(){Ai.unstable_runWithPriority(t.priority,function(){m9(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function C_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=WR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Kv(r),e!==null&&VR(e),t.blockedOn=r,!1;e.shift()}return!0}function $N(t,e,r){C_(t)&&r.delete(e)}function mre(){for(qC=!1;0<xs.length;){var t=xs[0];if(t.blockedOn!==null){t=Kv(t.blockedOn),t!==null&&g9(t);break}for(var e=t.targetContainers;0<e.length;){var r=WR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&xs.shift()}ou!==null&&C_(ou)&&(ou=null),su!==null&&C_(su)&&(su=null),lu!==null&&C_(lu)&&(lu=null),Yp.forEach($N),qp.forEach($N)}function T0(t,e){t.blockedOn===e&&(t.blockedOn=null,qC||(qC=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,mre)))}function y9(t){function e(i){return T0(i,t)}if(0<xs.length){T0(xs[0],t);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ou!==null&&T0(ou,t),su!==null&&T0(su,t),lu!==null&&T0(lu,t),Yp.forEach(e),qp.forEach(e),r=0;r<C0.length;r++)n=C0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<C0.length&&(r=C0[0],r.blockedOn===null);)gre(r),r.blockedOn===null&&C0.shift()}function xm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dh={animationend:xm("Animation","AnimationEnd"),animationiteration:xm("Animation","AnimationIteration"),animationstart:xm("Animation","AnimationStart"),transitionend:xm("Transition","TransitionEnd")},rE={},x9={};gl&&(x9=document.createElement("div").style,"AnimationEvent"in window||(delete dh.animationend.animation,delete dh.animationiteration.animation,delete dh.animationstart.animation),"TransitionEvent"in window||delete dh.transitionend.transition);function Nx(t){if(rE[t])return rE[t];if(!dh[t])return t;var e=dh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in x9)return rE[t]=e[r];return t}var b9=Nx("animationend"),w9=Nx("animationiteration"),E9=Nx("animationstart"),S9=Nx("transitionend"),C9=new Map,HR=new Map,_re=["abort","abort",b9,"animationEnd",w9,"animationIteration",E9,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",S9,"transitionEnd","waiting","waiting"];function XR(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),HR.set(n,e),C9.set(n,i),df(i,[n])}}var yre=Ai.unstable_now;yre();var Zr=8;function uh(t){if(1&t)return Zr=15,1;if(2&t)return Zr=14,2;if(4&t)return Zr=13,4;var e=24&t;return e!==0?(Zr=12,e):t&32?(Zr=11,32):(e=192&t,e!==0?(Zr=10,e):t&256?(Zr=9,256):(e=3584&t,e!==0?(Zr=8,e):t&4096?(Zr=7,4096):(e=4186112&t,e!==0?(Zr=6,e):(e=62914560&t,e!==0?(Zr=5,e):t&67108864?(Zr=4,67108864):t&134217728?(Zr=3,134217728):(e=805306368&t,e!==0?(Zr=2,e):1073741824&t?(Zr=1,1073741824):(Zr=8,t))))))}function xre(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function bre(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(et(358,t))}}function Kp(t,e){var r=t.pendingLanes;if(r===0)return Zr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Zr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=uh(c),i=Zr):(s&=a,s!==0&&(n=uh(s),i=Zr))}else a=r&~o,a!==0?(n=uh(a),i=Zr):s!==0&&(n=uh(s),i=Zr);if(n===0)return 0;if(n=31-Eu(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(uh(e),i<=Zr)return e;Zr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Eu(e),i=1<<r,n|=t[r],e&=~i;return n}function A9(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vy(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=ch(24&~e),t===0?vy(10,e):t;case 10:return t=ch(192&~e),t===0?vy(8,e):t;case 8:return t=ch(3584&~e),t===0&&(t=ch(4186112&~e),t===0&&(t=512)),t;case 2:return e=ch(805306368&~e),e===0&&(e=268435456),e}throw Error(et(358,t))}function ch(t){return t&-t}function nE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Lx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Eu(e),t[e]=r}var Eu=Math.clz32?Math.clz32:Sre,wre=Math.log,Ere=Math.LN2;function Sre(t){return t===0?32:31-(wre(t)/Ere|0)|0}var Cre=Ai.unstable_UserBlockingPriority,Are=Ai.unstable_runWithPriority,A_=!0;function Tre(t,e,r,n){Tc||$R();var i=zR,a=Tc;Tc=!0;try{h9(i,t,e,r,n)}finally{(Tc=a)||GR()}}function Ire(t,e,r,n){Are(Cre,zR.bind(null,t,e,r,n))}function zR(t,e,r,n){if(A_){var i;if((i=(e&4)===0)&&0<xs.length&&-1<UN.indexOf(t))t=KC(null,t,e,r,n),xs.push(t);else{var a=WR(t,e,r,n);if(a===null)i&&jN(t,n);else{if(i){if(-1<UN.indexOf(t)){t=KC(a,t,e,r,n),xs.push(t);return}if(vre(a,t,e,r,n))return;jN(t,n)}U9(t,e,n,null,r)}}}}function WR(t,e,r,n){var i=UR(n);if(i=Ic(i),i!==null){var a=vf(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=p9(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return U9(t,e,n,i,r),null}var Jl=null,YR=null,T_=null;function T9(){if(T_)return T_;var t,e=YR,r=e.length,n,i="value"in Jl?Jl.value:Jl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return T_=i.slice(t,1<n?1-n:void 0)}function I_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bm(){return!0}function GN(){return!1}function Za(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bm:GN,this.isPropagationStopped=GN,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bm)},persist:function(){},isPersistent:bm}),e}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qR=Za(Cd),qv=gn({},Cd,{view:0,detail:0}),Rre=Za(qv),iE,aE,I0,Mx=gn({},qv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==I0&&(I0&&t.type==="mousemove"?(iE=t.screenX-I0.screenX,aE=t.screenY-I0.screenY):aE=iE=0,I0=t),iE)},movementY:function(t){return"movementY"in t?t.movementY:aE}}),VN=Za(Mx),Pre=gn({},Mx,{dataTransfer:0}),Ore=Za(Pre),kre=gn({},qv,{relatedTarget:0}),oE=Za(kre),Fre=gn({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),Nre=Za(Fre),Lre=gn({},Cd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mre=Za(Lre),Bre=gn({},Cd,{data:0}),HN=Za(Bre),Dre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ure={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $re(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jre[t])?!!e[t]:!1}function KR(){return $re}var Gre=gn({},qv,{key:function(t){if(t.key){var e=Dre[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=I_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ure[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KR,charCode:function(t){return t.type==="keypress"?I_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?I_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vre=Za(Gre),Hre=gn({},Mx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=Za(Hre),Xre=gn({},qv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KR}),zre=Za(Xre),Wre=gn({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yre=Za(Wre),qre=gn({},Mx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kre=Za(qre),Zre=[9,13,27,32],ZR=gl&&"CompositionEvent"in window,bp=null;gl&&"documentMode"in document&&(bp=document.documentMode);var Jre=gl&&"TextEvent"in window&&!bp,I9=gl&&(!ZR||bp&&8<bp&&11>=bp),zN=String.fromCharCode(32),WN=!1;function R9(t,e){switch(t){case"keyup":return Zre.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ph=!1;function Qre(t,e){switch(t){case"compositionend":return P9(e);case"keypress":return e.which!==32?null:(WN=!0,zN);case"textInput":return t=e.data,t===zN&&WN?null:t;default:return null}}function ene(t,e){if(ph)return t==="compositionend"||!ZR&&R9(t,e)?(t=T9(),T_=YR=Jl=null,ph=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I9&&e.locale!=="ko"?null:e.data;default:return null}}var tne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tne[t.type]:e==="textarea"}function O9(t,e,r,n){c9(n),e=gy(e,"onChange"),0<e.length&&(r=new qR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wp=null,Zp=null;function rne(t){M9(t,0)}function Bx(t){var e=gh(t);if(n9(e))return t}function nne(t,e){if(t==="change")return e}var k9=!1;if(gl){var sE;if(gl){var lE="oninput"in document;if(!lE){var qN=document.createElement("div");qN.setAttribute("oninput","return;"),lE=typeof qN.oninput=="function"}sE=lE}else sE=!1;k9=sE&&(!document.documentMode||9<document.documentMode)}function KN(){wp&&(wp.detachEvent("onpropertychange",F9),Zp=wp=null)}function F9(t){if(t.propertyName==="value"&&Bx(Zp)){var e=[];if(O9(e,Zp,t,UR(t)),t=rne,Tc)t(e);else{Tc=!0;try{jR(t,e)}finally{Tc=!1,GR()}}}}function ine(t,e,r){t==="focusin"?(KN(),wp=e,Zp=r,wp.attachEvent("onpropertychange",F9)):t==="focusout"&&KN()}function ane(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bx(Zp)}function one(t,e){if(t==="click")return Bx(e)}function sne(t,e){if(t==="input"||t==="change")return Bx(e)}function lne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vo=typeof Object.is=="function"?Object.is:lne,une=Object.prototype.hasOwnProperty;function Jp(t,e){if(vo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!une.call(e,r[n])||!vo(t[r[n]],e[r[n]]))return!1;return!0}function ZN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function JN(t,e){var r=ZN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ZN(r)}}function N9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QN(){for(var t=window,e=hy();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hy(t.document)}return e}function ZC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cne=gl&&"documentMode"in document&&11>=document.documentMode,vh=null,JC=null,Ep=null,QC=!1;function eL(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QC||vh==null||vh!==hy(n)||(n=vh,"selectionStart"in n&&ZC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ep&&Jp(Ep,n)||(Ep=n,n=gy(JC,"onSelect"),0<n.length&&(e=new qR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vh)))}XR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);XR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);XR(_re,2);for(var tL="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),uE=0;uE<tL.length;uE++)HR.set(tL[uE],0);rd("onMouseEnter",["mouseout","mouseover"]);rd("onMouseLeave",["mouseout","mouseover"]);rd("onPointerEnter",["pointerout","pointerover"]);rd("onPointerLeave",["pointerout","pointerover"]);df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));df("onBeforeInput",["compositionend","keypress","textInput","paste"]);df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L9=new Set("cancel close invalid load scroll toggle".split(" ").concat(sp));function rL(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dre(n,e,void 0,t),t.currentTarget=null}function M9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;rL(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;rL(i,s,l),a=c}}}if(py)throw t=YC,py=!1,YC=null,t}function en(t,e){var r=$9(e),n=t+"__bubble";r.has(n)||(D9(e,t,2,!1),r.add(n))}var nL="_reactListening"+Math.random().toString(36).slice(2);function B9(t){t[nL]||(t[nL]=!0,e9.forEach(function(e){L9.has(e)||iL(e,!1,t,null),iL(e,!0,t,null)}))}function iL(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&L9.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=$9(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),D9(a,t,i,e),o.add(s))}function D9(t,e,r,n){var i=HR.get(e);switch(i===void 0?2:i){case 0:i=Tre;break;case 1:i=Ire;break;default:i=zR}r=i.bind(null,e,r,t),i=void 0,!WC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function U9(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ic(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}ure(function(){var l=a,u=UR(r),f=[];e:{var h=C9.get(t);if(h!==void 0){var p=qR,d=t;switch(t){case"keypress":if(I_(r)===0)break e;case"keydown":case"keyup":p=Vre;break;case"focusin":d="focus",p=oE;break;case"focusout":d="blur",p=oE;break;case"beforeblur":case"afterblur":p=oE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ore;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zre;break;case b9:case w9:case E9:p=Nre;break;case S9:p=Yre;break;case"scroll":p=Rre;break;case"wheel":p=Kre;break;case"copy":case"cut":case"paste":p=Mre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XN}var v=(e&4)!==0,m=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var _=l,y;_!==null;){y=_;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=Wp(_,g),w!=null&&v.push(Qp(_,w,y)))),m)break;_=_.return}0<v.length&&(h=new p(h,d,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(Ic(d)||d[Ad]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?Ic(d):null,d!==null&&(m=vf(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(v=VN,w="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=XN,w="onPointerLeave",g="onPointerEnter",_="pointer"),m=p==null?h:gh(p),y=d==null?h:gh(d),h=new v(w,_+"leave",p,r,u),h.target=m,h.relatedTarget=y,w=null,Ic(u)===l&&(v=new v(g,_+"enter",d,r,u),v.target=y,v.relatedTarget=m,w=v),m=w,p&&d)t:{for(v=p,g=d,_=0,y=v;y;y=Vf(y))_++;for(y=0,w=g;w;w=Vf(w))y++;for(;0<_-y;)v=Vf(v),_--;for(;0<y-_;)g=Vf(g),y--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=Vf(v),g=Vf(g)}v=null}else v=null;p!==null&&aL(f,h,p,v,!1),d!==null&&m!==null&&aL(f,m,d,v,!0)}}e:{if(h=l?gh(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=nne;else if(YN(h))if(k9)b=sne;else{b=ane;var E=ine}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=one);if(b&&(b=b(t,l))){O9(f,b,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&UC(h,"number",h.value)}switch(E=l?gh(l):window,t){case"focusin":(YN(E)||E.contentEditable==="true")&&(vh=E,JC=l,Ep=null);break;case"focusout":Ep=JC=vh=null;break;case"mousedown":QC=!0;break;case"contextmenu":case"mouseup":case"dragend":QC=!1,eL(f,r,u);break;case"selectionchange":if(cne)break;case"keydown":case"keyup":eL(f,r,u)}var C;if(ZR)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ph?R9(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(I9&&r.locale!=="ko"&&(ph||A!=="onCompositionStart"?A==="onCompositionEnd"&&ph&&(C=T9()):(Jl=u,YR="value"in Jl?Jl.value:Jl.textContent,ph=!0)),E=gy(l,A),0<E.length&&(A=new HN(A,t,null,r,u),f.push({event:A,listeners:E}),C?A.data=C:(C=P9(r),C!==null&&(A.data=C)))),(C=Jre?Qre(t,r):ene(t,r))&&(l=gy(l,"onBeforeInput"),0<l.length&&(u=new HN("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}M9(f,e)})}function Qp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gy(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wp(t,r),a!=null&&n.unshift(Qp(t,a,i)),a=Wp(t,e),a!=null&&n.push(Qp(t,a,i))),t=t.return}return n}function Vf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aL(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=Wp(r,a),c!=null&&o.unshift(Qp(r,c,s))):i||(c=Wp(r,a),c!=null&&o.push(Qp(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function my(){}var cE=null,fE=null;function j9(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function eA(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oL=typeof setTimeout=="function"?setTimeout:void 0,fne=typeof clearTimeout=="function"?clearTimeout:void 0;function JR(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Nh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function sL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hE=0;function hne(t){return{$$typeof:BR,toString:t,valueOf:t}}var Dx=Math.random().toString(36).slice(2),Ql="__reactFiber$"+Dx,_y="__reactProps$"+Dx,Ad="__reactContainer$"+Dx,lL="__reactEvents$"+Dx;function Ic(t){var e=t[Ql];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ad]||r[Ql]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sL(t);t!==null;){if(r=t[Ql])return r;t=sL(t)}return e}t=r,r=t.parentNode}return null}function Kv(t){return t=t[Ql]||t[Ad],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function Ux(t){return t[_y]||null}function $9(t){var e=t[lL];return e===void 0&&(e=t[lL]=new Set),e}var tA=[],mh=-1;function Uu(t){return{current:t}}function nn(t){0>mh||(t.current=tA[mh],tA[mh]=null,mh--)}function Pn(t,e){mh++,tA[mh]=t.current,t.current=e}var Su={},ia=Uu(Su),Ra=Uu(!1),Jc=Su;function nd(t,e){var r=t.type.contextTypes;if(!r)return Su;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(t){return t=t.childContextTypes,t!=null}function yy(){nn(Ra),nn(ia)}function uL(t,e,r){if(ia.current!==Su)throw Error(et(168));Pn(ia,e),Pn(Ra,r)}function G9(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(et(108,Ph(e)||"Unknown",i));return gn({},r,n)}function R_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Su,Jc=ia.current,Pn(ia,t),Pn(Ra,Ra.current),!0}function cL(t,e,r){var n=t.stateNode;if(!n)throw Error(et(169));r?(t=G9(t,e,Jc),n.__reactInternalMemoizedMergedChildContext=t,nn(Ra),nn(ia),Pn(ia,t)):nn(Ra),Pn(Ra,r)}var QR=null,$c=null,dne=Ai.unstable_runWithPriority,eP=Ai.unstable_scheduleCallback,rA=Ai.unstable_cancelCallback,pne=Ai.unstable_shouldYield,fL=Ai.unstable_requestPaint,nA=Ai.unstable_now,vne=Ai.unstable_getCurrentPriorityLevel,jx=Ai.unstable_ImmediatePriority,V9=Ai.unstable_UserBlockingPriority,H9=Ai.unstable_NormalPriority,X9=Ai.unstable_LowPriority,z9=Ai.unstable_IdlePriority,dE={},gne=fL!==void 0?fL:function(){},al=null,P_=null,pE=!1,hL=nA(),ta=1e4>hL?nA:function(){return nA()-hL};function id(){switch(vne()){case jx:return 99;case V9:return 98;case H9:return 97;case X9:return 96;case z9:return 95;default:throw Error(et(332))}}function W9(t){switch(t){case 99:return jx;case 98:return V9;case 97:return H9;case 96:return X9;case 95:return z9;default:throw Error(et(332))}}function Qc(t,e){return t=W9(t),dne(t,e)}function ev(t,e,r){return t=W9(t),eP(t,e,r)}function Ms(){if(P_!==null){var t=P_;P_=null,rA(t)}Y9()}function Y9(){if(!pE&&al!==null){pE=!0;var t=0;try{var e=al;Qc(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),al=null}catch(r){throw al!==null&&(al=al.slice(t+1)),eP(jx,Ms),r}finally{pE=!1}}}var mne=pf.ReactCurrentBatchConfig;function jo(t,e){if(t&&t.defaultProps){e=gn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var xy=Uu(null),by=null,_h=null,wy=null;function tP(){wy=_h=by=null}function rP(t){var e=xy.current;nn(xy),t.type._context._currentValue=e}function q9(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Lh(t,e){by=t,wy=_h=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xo=!0),t.firstContext=null)}function wo(t,e){if(wy!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(wy=t,e=1073741823),e={context:t,observedBits:e,next:null},_h===null){if(by===null)throw Error(et(308));_h=e,by.dependencies={lanes:0,firstContext:e,responders:null}}else _h=_h.next=e;return t._currentValue}var Xl=!1;function nP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function K9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cu(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function dL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function tv(t,e,r,n){var i=t.updateQueue;Xl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,f,s):p,s==null)break e;f=gn({},f,s);break e;case 2:Xl=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Jv|=o,t.lanes=o,t.memoizedState=f}}function pL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var Z9=new Ox.Component().refs;function Ey(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $x={isMounted:function(t){return(t=t._reactInternals)?vf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wa(),i=fu(t),a=uu(n,i);a.payload=e,r!=null&&(a.callback=r),cu(t,a),hu(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wa(),i=fu(t),a=uu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),cu(t,a),hu(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wa(),n=fu(t),i=uu(r,n);i.tag=2,e!=null&&(i.callback=e),cu(t,i),hu(t,n,r)}};function vL(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Jp(r,n)||!Jp(i,a):!0}function J9(t,e,r){var n=!1,i=Su,a=e.contextType;return typeof a=="object"&&a!==null?a=wo(a):(i=Pa(e)?Jc:ia.current,n=e.contextTypes,a=(n=n!=null)?nd(t,i):Su),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$x,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function gL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$x.enqueueReplaceState(e,e.state,null)}function iA(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Z9,nP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=wo(a):(a=Pa(e)?Jc:ia.current,i.context=nd(t,a)),tv(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ey(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$x.enqueueReplaceState(i,i.state,null),tv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var wm=Array.isArray;function R0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===Z9&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,t))}return t}function Em(t,e){if(t.type!=="textarea")throw Error(et(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Q9(t){function e(m,g){if(t){var _=m.lastEffect;_!==null?(_.nextEffect=g,m.lastEffect=g):m.firstEffect=m.lastEffect=g,g.nextEffect=null,g.flags=8}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Au(m,g),m.index=0,m.sibling=null,m}function a(m,g,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags=2,g):_):(m.flags=2,g)):g}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,g,_,y){return g===null||g.tag!==6?(g=yE(_,m.mode,y),g.return=m,g):(g=i(g,_),g.return=m,g)}function c(m,g,_,y){return g!==null&&g.elementType===_.type?(y=i(g,_.props),y.ref=R0(m,g,_),y.return=m,y):(y=N_(_.type,_.key,_.props,null,m.mode,y),y.ref=R0(m,g,_),y.return=m,y)}function l(m,g,_,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=xE(_,m.mode,y),g.return=m,g):(g=i(g,_.children||[]),g.return=m,g)}function u(m,g,_,y,w){return g===null||g.tag!==7?(g=Uh(_,m.mode,y,w),g.return=m,g):(g=i(g,_),g.return=m,g)}function f(m,g,_){if(typeof g=="string"||typeof g=="number")return g=yE(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ap:return _=N_(g.type,g.key,g.props,null,m.mode,_),_.ref=R0(m,null,g),_.return=m,_;case Ac:return g=xE(g,m.mode,_),g.return=m,g}if(wm(g)||E0(g))return g=Uh(g,m.mode,_,null),g.return=m,g;Em(m,g)}return null}function h(m,g,_,y){var w=g!==null?g.key:null;if(typeof _=="string"||typeof _=="number")return w!==null?null:s(m,g,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ap:return _.key===w?_.type===Wl?u(m,g,_.props.children,y,w):c(m,g,_,y):null;case Ac:return _.key===w?l(m,g,_,y):null}if(wm(_)||E0(_))return w!==null?null:u(m,g,_,y,null);Em(m,_)}return null}function p(m,g,_,y,w){if(typeof y=="string"||typeof y=="number")return m=m.get(_)||null,s(g,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ap:return m=m.get(y.key===null?_:y.key)||null,y.type===Wl?u(g,m,y.props.children,w,y.key):c(g,m,y,w);case Ac:return m=m.get(y.key===null?_:y.key)||null,l(g,m,y,w)}if(wm(y)||E0(y))return m=m.get(_)||null,u(g,m,y,w,null);Em(g,y)}return null}function d(m,g,_,y){for(var w=null,b=null,E=g,C=g=0,A=null;E!==null&&C<_.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var T=h(m,E,_[C],y);if(T===null){E===null&&(E=A);break}t&&E&&T.alternate===null&&e(m,E),g=a(T,g,C),b===null?w=T:b.sibling=T,b=T,E=A}if(C===_.length)return r(m,E),w;if(E===null){for(;C<_.length;C++)E=f(m,_[C],y),E!==null&&(g=a(E,g,C),b===null?w=E:b.sibling=E,b=E);return w}for(E=n(m,E);C<_.length;C++)A=p(E,m,C,_[C],y),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),g=a(A,g,C),b===null?w=A:b.sibling=A,b=A);return t&&E.forEach(function(R){return e(m,R)}),w}function v(m,g,_,y){var w=E0(_);if(typeof w!="function")throw Error(et(150));if(_=w.call(_),_==null)throw Error(et(151));for(var b=w=null,E=g,C=g=0,A=null,T=_.next();E!==null&&!T.done;C++,T=_.next()){E.index>C?(A=E,E=null):A=E.sibling;var R=h(m,E,T.value,y);if(R===null){E===null&&(E=A);break}t&&E&&R.alternate===null&&e(m,E),g=a(R,g,C),b===null?w=R:b.sibling=R,b=R,E=A}if(T.done)return r(m,E),w;if(E===null){for(;!T.done;C++,T=_.next())T=f(m,T.value,y),T!==null&&(g=a(T,g,C),b===null?w=T:b.sibling=T,b=T);return w}for(E=n(m,E);!T.done;C++,T=_.next())T=p(E,m,C,T.value,y),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),g=a(T,g,C),b===null?w=T:b.sibling=T,b=T);return t&&E.forEach(function(O){return e(m,O)}),w}return function(m,g,_,y){var w=typeof _=="object"&&_!==null&&_.type===Wl&&_.key===null;w&&(_=_.props.children);var b=typeof _=="object"&&_!==null;if(b)switch(_.$$typeof){case ap:e:{for(b=_.key,w=g;w!==null;){if(w.key===b){switch(w.tag){case 7:if(_.type===Wl){r(m,w.sibling),g=i(w,_.props.children),g.return=m,m=g;break e}break;default:if(w.elementType===_.type){r(m,w.sibling),g=i(w,_.props),g.ref=R0(m,w,_),g.return=m,m=g;break e}}r(m,w);break}else e(m,w);w=w.sibling}_.type===Wl?(g=Uh(_.props.children,m.mode,y,_.key),g.return=m,m=g):(y=N_(_.type,_.key,_.props,null,m.mode,y),y.ref=R0(m,g,_),y.return=m,m=y)}return o(m);case Ac:e:{for(w=_.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){r(m,g.sibling),g=i(g,_.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=xE(_,m.mode,y),g.return=m,m=g}return o(m)}if(typeof _=="string"||typeof _=="number")return _=""+_,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,_),g.return=m,m=g):(r(m,g),g=yE(_,m.mode,y),g.return=m,m=g),o(m);if(wm(_))return d(m,g,_,y);if(E0(_))return v(m,g,_,y);if(b&&Em(m,_),typeof _>"u"&&!w)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(et(152,Ph(m.type)||"Component"))}return r(m,g)}}var Sy=Q9(!0),e$=Q9(!1),Zv={},Ss=Uu(Zv),rv=Uu(Zv),nv=Uu(Zv);function Rc(t){if(t===Zv)throw Error(et(174));return t}function aA(t,e){switch(Pn(nv,e),Pn(rv,t),Pn(Ss,Zv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=VC(e,t)}nn(Ss),Pn(Ss,e)}function ad(){nn(Ss),nn(rv),nn(nv)}function mL(t){Rc(nv.current);var e=Rc(Ss.current),r=VC(e,t.type);e!==r&&(Pn(rv,t),Pn(Ss,r))}function iP(t){rv.current===t&&(nn(Ss),nn(rv))}var Rn=Uu(0);function Cy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ul=null,eu=null,Cs=!1;function t$(t,e){var r=go(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function _L(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function oA(t){if(Cs){var e=eu;if(e){var r=e;if(!_L(t,e)){if(e=Nh(r.nextSibling),!e||!_L(t,e)){t.flags=t.flags&-1025|2,Cs=!1,ul=t;return}t$(ul,r)}ul=t,eu=Nh(e.firstChild)}else t.flags=t.flags&-1025|2,Cs=!1,ul=t}}function yL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ul=t}function Sm(t){if(t!==ul)return!1;if(!Cs)return yL(t),Cs=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!eA(e,t.memoizedProps))for(e=eu;e;)t$(t,e),e=Nh(e.nextSibling);if(yL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){eu=Nh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}eu=null}}else eu=ul?Nh(t.stateNode.nextSibling):null;return!0}function vE(){eu=ul=null,Cs=!1}var Mh=[];function aP(){for(var t=0;t<Mh.length;t++)Mh[t]._workInProgressVersionPrimary=null;Mh.length=0}var Sp=pf.ReactCurrentDispatcher,yo=pf.ReactCurrentBatchConfig,iv=0,Xn=null,ea=null,Li=null,Ay=!1,Cp=!1;function Sa(){throw Error(et(321))}function oP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vo(t[r],e[r]))return!1;return!0}function sP(t,e,r,n,i,a){if(iv=a,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sp.current=t===null||t.memoizedState===null?yne:xne,t=r(n,i),Cp){a=0;do{if(Cp=!1,!(25>a))throw Error(et(301));a+=1,Li=ea=null,e.updateQueue=null,Sp.current=bne,t=r(n,i)}while(Cp)}if(Sp.current=Py,e=ea!==null&&ea.next!==null,iv=0,Li=ea=Xn=null,Ay=!1,e)throw Error(et(300));return t}function Pc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?Xn.memoizedState=Li=t:Li=Li.next=t,Li}function gf(){if(ea===null){var t=Xn.alternate;t=t!==null?t.memoizedState:null}else t=ea.next;var e=Li===null?Xn.memoizedState:Li.next;if(e!==null)Li=e,ea=t;else{if(t===null)throw Error(et(310));ea=t,t={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},Li===null?Xn.memoizedState=Li=t:Li=Li.next=t}return Li}function bs(t,e){return typeof e=="function"?e(t):e}function P0(t){var e=gf(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=ea,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((iv&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Xn.lanes|=l,Jv|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,vo(n,e.memoizedState)||(Xo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function O0(t){var e=gf(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);vo(a,e.memoizedState)||(Xo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function xL(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(iv&t)===t)&&(e._workInProgressVersionPrimary=n,Mh.push(e))),t)return r(e._source);throw Mh.push(e),Error(et(350))}function r$(t,e,r,n){var i=ga;if(i===null)throw Error(et(349));var a=e._getVersion,o=a(e._source),s=Sp.current,c=s.useState(function(){return xL(i,e,r)}),l=c[1],u=c[0];c=Li;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var v=Xn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var m=a(e._source);if(!vo(o,m)){m=r(e._source),vo(u,m)||(l(m),m=fu(v),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var g=i.entanglements,_=m;0<_;){var y=31-Eu(_),w=1<<y;g[y]|=m,_&=~w}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=h.getSnapshot,g=h.setSnapshot;try{g(m(e._source));var _=fu(v);i.mutableReadLanes|=_&i.pendingLanes}catch(y){g(function(){throw y})}})},[e,n]),vo(p,r)&&vo(d,e)&&vo(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:bs,lastRenderedState:u},t.dispatch=l=cP.bind(null,Xn,t),c.queue=t,c.baseQueue=null,u=xL(i,e,r),c.memoizedState=c.baseState=u),u}function n$(t,e,r){var n=gf();return r$(n,t,e,r)}function k0(t){var e=Pc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},t=t.dispatch=cP.bind(null,Xn,t),[e.memoizedState,t]}function Ty(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null},Xn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function bL(t){var e=Pc();return t={current:t},e.memoizedState=t}function Iy(){return gf().memoizedState}function sA(t,e,r,n){var i=Pc();Xn.flags|=t,i.memoizedState=Ty(1|e,r,void 0,n===void 0?null:n)}function lP(t,e,r,n){var i=gf();n=n===void 0?null:n;var a=void 0;if(ea!==null){var o=ea.memoizedState;if(a=o.destroy,n!==null&&oP(n,o.deps)){Ty(e,r,a,n);return}}Xn.flags|=t,i.memoizedState=Ty(1|e,r,a,n)}function wL(t,e){return sA(516,4,t,e)}function Ry(t,e){return lP(516,4,t,e)}function i$(t,e){return lP(4,2,t,e)}function a$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o$(t,e,r){return r=r!=null?r.concat([t]):null,lP(4,2,a$.bind(null,e,t),r)}function uP(){}function s$(t,e){var r=gf();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l$(t,e){var r=gf();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _ne(t,e){var r=id();Qc(98>r?98:r,function(){t(!0)}),Qc(97<r?97:r,function(){var n=yo.transition;yo.transition=1;try{t(!1),e()}finally{yo.transition=n}})}function cP(t,e,r){var n=Wa(),i=fu(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Xn||o!==null&&o===Xn)Cp=Ay=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,vo(c,s))return}catch{}finally{}hu(t,i,n)}}var Py={readContext:wo,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useOpaqueIdentifier:Sa,unstable_isNewReconciler:!1},yne={readContext:wo,useCallback:function(t,e){return Pc().memoizedState=[t,e===void 0?null:e],t},useContext:wo,useEffect:wL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sA(4,2,a$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sA(4,2,t,e)},useMemo:function(t,e){var r=Pc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Pc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=cP.bind(null,Xn,t),[n.memoizedState,t]},useRef:bL,useState:k0,useDebugValue:uP,useDeferredValue:function(t){var e=k0(t),r=e[0],n=e[1];return wL(function(){var i=yo.transition;yo.transition=1;try{n(t)}finally{yo.transition=i}},[t]),r},useTransition:function(){var t=k0(!1),e=t[0];return t=_ne.bind(null,t[1]),bL(t),[t,e]},useMutableSource:function(t,e,r){var n=Pc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},r$(n,t,e,r)},useOpaqueIdentifier:function(){if(Cs){var t=!1,e=hne(function(){throw t||(t=!0,r("r:"+(hE++).toString(36))),Error(et(355))}),r=k0(e)[1];return!(Xn.mode&2)&&(Xn.flags|=516,Ty(5,function(){r("r:"+(hE++).toString(36))},void 0,null)),e}return e="r:"+(hE++).toString(36),k0(e),e},unstable_isNewReconciler:!1},xne={readContext:wo,useCallback:s$,useContext:wo,useEffect:Ry,useImperativeHandle:o$,useLayoutEffect:i$,useMemo:l$,useReducer:P0,useRef:Iy,useState:function(){return P0(bs)},useDebugValue:uP,useDeferredValue:function(t){var e=P0(bs),r=e[0],n=e[1];return Ry(function(){var i=yo.transition;yo.transition=1;try{n(t)}finally{yo.transition=i}},[t]),r},useTransition:function(){var t=P0(bs)[0];return[Iy().current,t]},useMutableSource:n$,useOpaqueIdentifier:function(){return P0(bs)[0]},unstable_isNewReconciler:!1},bne={readContext:wo,useCallback:s$,useContext:wo,useEffect:Ry,useImperativeHandle:o$,useLayoutEffect:i$,useMemo:l$,useReducer:O0,useRef:Iy,useState:function(){return O0(bs)},useDebugValue:uP,useDeferredValue:function(t){var e=O0(bs),r=e[0],n=e[1];return Ry(function(){var i=yo.transition;yo.transition=1;try{n(t)}finally{yo.transition=i}},[t]),r},useTransition:function(){var t=O0(bs)[0];return[Iy().current,t]},useMutableSource:n$,useOpaqueIdentifier:function(){return O0(bs)[0]},unstable_isNewReconciler:!1},wne=pf.ReactCurrentOwner,Xo=!1;function Ca(t,e,r,n){e.child=t===null?e$(e,null,r,n):Sy(e,t.child,r,n)}function EL(t,e,r,n,i){r=r.render;var a=e.ref;return Lh(e,i),n=sP(t,e,r,n,a,i),t!==null&&!Xo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,cl(t,e,i)):(e.flags|=1,Ca(t,e,n,i),e.child)}function SL(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!gP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,u$(t,e,o,n,i,a)):(t=N_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Jp,r(i,n)&&t.ref===e.ref)?cl(t,e,a):(e.flags|=1,t=Au(o,n),t.ref=e.ref,t.return=e,e.child=t)}function u$(t,e,r,n,i,a){if(t!==null&&Jp(t.memoizedProps,n)&&t.ref===e.ref)if(Xo=!1,(a&i)!==0)t.flags&16384&&(Xo=!0);else return e.lanes=t.lanes,cl(t,e,a);return lA(t,e,r,n,a)}function gE(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Am(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Am(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Am(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Am(e,n);return Ca(t,e,i,r),e.child}function c$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function lA(t,e,r,n,i){var a=Pa(r)?Jc:ia.current;return a=nd(e,a),Lh(e,i),r=sP(t,e,r,n,a,i),t!==null&&!Xo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,cl(t,e,i)):(e.flags|=1,Ca(t,e,r,i),e.child)}function CL(t,e,r,n,i){if(Pa(r)){var a=!0;R_(e)}else a=!1;if(Lh(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),J9(e,r,n),iA(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=wo(l):(l=Pa(r)?Jc:ia.current,l=nd(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&gL(e,o,n,l),Xl=!1;var h=e.memoizedState;o.state=h,tv(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Ra.current||Xl?(typeof u=="function"&&(Ey(e,r,u,n),c=e.memoizedState),(s=Xl||vL(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,K9(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:jo(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wo(c):(c=Pa(r)?Jc:ia.current,c=nd(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&gL(e,o,n,c),Xl=!1,h=e.memoizedState,o.state=h,tv(e,n,o,i);var d=e.memoizedState;s!==f||h!==d||Ra.current||Xl?(typeof p=="function"&&(Ey(e,r,p,n),d=e.memoizedState),(l=Xl||vL(e,r,l,n,h,d,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return uA(t,e,r,n,a,i)}function uA(t,e,r,n,i,a){c$(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&cL(e,r,!1),cl(t,e,a);n=e.stateNode,wne.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Sy(e,t.child,null,a),e.child=Sy(e,null,s,a)):Ca(t,e,s,a),e.memoizedState=n.state,i&&cL(e,r,!0),e.child}function AL(t){var e=t.stateNode;e.pendingContext?uL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uL(t,e.context,!1),aA(t,e.containerInfo)}var Cm={dehydrated:null,retryLane:0};function TL(t,e,r){var n=e.pendingProps,i=Rn.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Pn(Rn,i&1),t===null?(n.fallback!==void 0&&oA(e),t=n.children,i=n.fallback,a?(t=IL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Cm,t):typeof n.unstable_expectedLoadTime=="number"?(t=IL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Cm,e.lanes=33554432,t):(r=mP({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=PL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Cm,n):(r=RL(t,e,n.children,r),e.memoizedState=null,r):a?(n=PL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Cm,n):(r=RL(t,e,n.children,r),e.memoizedState=null,r)}function IL(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=mP(e,i,0,null),r=Uh(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function RL(t,e,r,n){var i=t.child;return t=i.sibling,r=Au(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function PL(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Au(o,s),t!==null?n=Au(t,n):(n=Uh(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function OL(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q9(t.return,e)}function mE(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function kL(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ca(t,e,n.children,r),n=Rn.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OL(t,r);else if(t.tag===19)OL(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pn(Rn,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Cy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),mE(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}mE(e,!0,r,null,a,e.lastEffect);break;case"together":mE(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function cl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jv|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=Au(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Au(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var f$,cA,h$,d$;f$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cA=function(){};h$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Rc(Ss.current);var a=null;switch(r){case"input":i=BC(t,i),n=BC(t,n),a=[];break;case"option":i=jC(t,i),n=jC(t,n),a=[];break;case"select":i=gn({},i,{value:void 0}),n=gn({},n,{value:void 0}),a=[];break;case"textarea":i=$C(t,i),n=$C(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=my)}HC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Xp.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Xp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&en("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===BR?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};d$=function(t,e,r,n){r!==n&&(e.flags|=4)};function F0(t,e){if(!Cs)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ene(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Pa(e.type)&&yy(),null;case 3:return ad(),nn(Ra),nn(ia),aP(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sm(e)?e.flags|=4:n.hydrate||(e.flags|=256)),cA(e),null;case 5:iP(e);var i=Rc(nv.current);if(r=e.type,t!==null&&e.stateNode!=null)h$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(et(166));return null}if(t=Rc(Ss.current),Sm(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ql]=e,n[_y]=a,r){case"dialog":en("cancel",n),en("close",n);break;case"iframe":case"object":case"embed":en("load",n);break;case"video":case"audio":for(t=0;t<sp.length;t++)en(sp[t],n);break;case"source":en("error",n);break;case"img":case"image":case"link":en("error",n),en("load",n);break;case"details":en("toggle",n);break;case"input":kN(n,a),en("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},en("invalid",n);break;case"textarea":NN(n,a),en("invalid",n)}HC(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Xp.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&en("scroll",n));switch(r){case"input":_m(n),FN(n,a,!0);break;case"textarea":_m(n),LN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=my)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===GC.html&&(t=o9(r)),t===GC.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ql]=e,t[_y]=n,f$(t,e,!1,!1),e.stateNode=t,o=XC(r,n),r){case"dialog":en("cancel",t),en("close",t),i=n;break;case"iframe":case"object":case"embed":en("load",t),i=n;break;case"video":case"audio":for(i=0;i<sp.length;i++)en(sp[i],t);i=n;break;case"source":en("error",t),i=n;break;case"img":case"image":case"link":en("error",t),en("load",t),i=n;break;case"details":en("toggle",t),i=n;break;case"input":kN(t,n),i=BC(t,n),en("invalid",t);break;case"option":i=jC(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gn({},n,{value:void 0}),en("invalid",t);break;case"textarea":NN(t,n),i=$C(t,n),en("invalid",t);break;default:i=n}HC(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?u9(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s9(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zp(t,c):typeof c=="number"&&zp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&en("scroll",t):c!=null&&OR(t,a,c,o))}switch(r){case"input":_m(t),FN(t,n,!1);break;case"textarea":_m(t),LN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+wu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Oh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Oh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=my)}j9(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)d$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));r=Rc(nv.current),Rc(Ss.current),Sm(e)?(n=e.stateNode,r=e.memoizedProps,n[Ql]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ql]=e,e.stateNode=n)}return null;case 13:return nn(Rn),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Sm(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Rn.current&1?Ui===0&&(Ui=3):((Ui===0||Ui===3)&&(Ui=4),ga===null||!(Jv&134217727)&&!(Id&134217727)||Bh(ga,ra))),(n||r)&&(e.flags|=4),null);case 4:return ad(),cA(e),t===null&&B9(e.stateNode.containerInfo),null;case 10:return rP(e),null;case 17:return Pa(e.type)&&yy(),null;case 19:if(nn(Rn),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)F0(n,!1);else{if(Ui!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Cy(t),o!==null){for(e.flags|=64,F0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Pn(Rn,Rn.current&1|2),e.child}t=t.sibling}n.tail!==null&&ta()>gA&&(e.flags|=64,a=!0,F0(n,!1),e.lanes=33554432)}else{if(!a)if(t=Cy(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),F0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Cs)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ta()-n.renderingStartTime>gA&&r!==1073741824&&(e.flags|=64,a=!0,F0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=ta(),r.sibling=null,e=Rn.current,Pn(Rn,a?e&1|2:e&1),r):null;case 23:case 24:return vP(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(et(156,e.tag))}function Sne(t){switch(t.tag){case 1:Pa(t.type)&&yy();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ad(),nn(Ra),nn(ia),aP(),e=t.flags,e&64)throw Error(et(285));return t.flags=e&-4097|64,t;case 5:return iP(t),null;case 13:return nn(Rn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return nn(Rn),null;case 4:return ad(),null;case 10:return rP(t),null;case 23:case 24:return vP(),null;default:return null}}function fP(t,e){try{var r="",n=e;do r+=ire(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function fA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cne=typeof WeakMap=="function"?WeakMap:Map;function p$(t,e,r){r=uu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ky||(ky=!0,mA=n),fA(t,e)},r}function v$(t,e,r){r=uu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return fA(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ws===null?ws=new Set([this]):ws.add(this),fA(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var Ane=typeof WeakSet=="function"?WeakSet:Set;function FL(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){du(t,r)}else e.current=null}function Tne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:jo(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&JR(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(et(163))}function Ine(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(S$(r,t),Mne(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:jo(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&pL(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}pL(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&j9(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&y9(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(et(163))}function NL(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=l9("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function LL(t,e){if($c&&typeof $c.onCommitFiberUnmount=="function")try{$c.onCommitFiberUnmount(QR,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)S$(e,r);else{n=e;try{i()}catch(a){du(n,a)}}r=r.next}while(r!==t)}break;case 1:if(FL(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){du(e,a)}break;case 5:FL(e);break;case 4:g$(t,e)}}function ML(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function BL(t){return t.tag===5||t.tag===3||t.tag===4}function DL(t){e:{for(var e=t.return;e!==null;){if(BL(e))break e;e=e.return}throw Error(et(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(et(161))}r.flags&16&&(zp(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||BL(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?hA(t,r,e):dA(t,r,e)}function hA(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=my));else if(n!==4&&(t=t.child,t!==null))for(hA(t,e,r),t=t.sibling;t!==null;)hA(t,e,r),t=t.sibling}function dA(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(dA(t,e,r),t=t.sibling;t!==null;)dA(t,e,r),t=t.sibling}function g$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(et(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(LL(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(LL(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function _E(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[_y]=n,t==="input"&&n.type==="radio"&&n.name!=null&&i9(r,n),XC(t,i),e=XC(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?u9(r,s):o==="dangerouslySetInnerHTML"?s9(r,s):o==="children"?zp(r,s):OR(r,o,s,e)}switch(t){case"input":DC(r,n);break;case"textarea":a9(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Oh(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Oh(r,!!n.multiple,n.defaultValue,!0):Oh(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(et(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,y9(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(pP=ta(),NL(e.child,!0)),UL(e);return;case 19:UL(e);return;case 17:return;case 23:case 24:NL(e,e.memoizedState!==null);return}throw Error(et(163))}function UL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ane),e.forEach(function(n){var i=Une.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rne(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Pne=Math.ceil,Oy=pf.ReactCurrentDispatcher,hP=pf.ReactCurrentOwner,jt=0,ga=null,hi=null,ra=0,ef=0,pA=Uu(0),Ui=0,Gx=null,Td=0,Jv=0,Id=0,dP=0,vA=null,pP=0,gA=1/0;function Rd(){gA=ta()+500}var mt=null,ky=!1,mA=null,ws=null,Cu=!1,Ap=null,lp=90,_A=[],yA=[],pl=null,Tp=0,xA=null,O_=-1,sl=0,k_=0,Ip=null,F_=!1;function Wa(){return jt&48?ta():O_!==-1?O_:O_=ta()}function fu(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return id()===99?1:2;if(sl===0&&(sl=Td),mne.transition!==0){k_!==0&&(k_=vA!==null?vA.pendingLanes:0),t=sl;var e=4186112&~k_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=id(),jt&4&&t===98?t=vy(12,sl):(t=xre(t),t=vy(t,sl)),t}function hu(t,e,r){if(50<Tp)throw Tp=0,xA=null,Error(et(185));if(t=Vx(t,e),t===null)return null;Lx(t,e,r),t===ga&&(Id|=e,Ui===4&&Bh(t,ra));var n=id();e===1?jt&8&&!(jt&48)?bA(t):(Eo(t,r),jt===0&&(Rd(),Ms())):(!(jt&4)||n!==98&&n!==99||(pl===null?pl=new Set([t]):pl.add(t)),Eo(t,r)),vA=t}function Vx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Eo(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Eu(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,uh(c);var u=Zr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=Kp(t,t===ga?ra:0),e=Zr,n===0)r!==null&&(r!==dE&&rA(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==dE&&rA(r)}e===15?(r=bA.bind(null,t),al===null?(al=[r],P_=eP(jx,Y9)):al.push(r),r=dE):e===14?r=ev(99,bA.bind(null,t)):(r=bre(e),r=ev(r,m$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function m$(t){if(O_=-1,k_=sl=0,jt&48)throw Error(et(327));var e=t.callbackNode;if(ju()&&t.callbackNode!==e)return null;var r=Kp(t,t===ga?ra:0);if(r===0)return null;var n=r,i=jt;jt|=16;var a=b$();(ga!==t||ra!==n)&&(Rd(),Dh(t,n));do try{Fne();break}catch(s){x$(t,s)}while(1);if(tP(),Oy.current=a,jt=i,hi!==null?n=0:(ga=null,ra=0,n=Ui),Td&Id)Dh(t,0);else if(n!==0){if(n===2&&(jt|=64,t.hydrate&&(t.hydrate=!1,JR(t.containerInfo)),r=A9(t),r!==0&&(n=up(t,r))),n===1)throw e=Gx,Dh(t,0),Bh(t,r),Eo(t,ta()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(et(345));case 2:pc(t);break;case 3:if(Bh(t,r),(r&62914560)===r&&(n=pP+500-ta(),10<n)){if(Kp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oL(pc.bind(null,t),n);break}pc(t);break;case 4:if(Bh(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Eu(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=ta()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pne(r/1960))-r,10<r){t.timeoutHandle=oL(pc.bind(null,t),r);break}pc(t);break;case 5:pc(t);break;default:throw Error(et(329))}}return Eo(t,ta()),t.callbackNode===e?m$.bind(null,t):null}function Bh(t,e){for(e&=~dP,e&=~Id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Eu(e),n=1<<r;t[r]=-1,e&=~n}}function bA(t){if(jt&48)throw Error(et(327));if(ju(),t===ga&&t.expiredLanes&ra){var e=ra,r=up(t,e);Td&Id&&(e=Kp(t,e),r=up(t,e))}else e=Kp(t,0),r=up(t,e);if(t.tag!==0&&r===2&&(jt|=64,t.hydrate&&(t.hydrate=!1,JR(t.containerInfo)),e=A9(t),e!==0&&(r=up(t,e))),r===1)throw r=Gx,Dh(t,0),Bh(t,e),Eo(t,ta()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,pc(t),Eo(t,ta()),null}function One(){if(pl!==null){var t=pl;pl=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Eo(e,ta())})}Ms()}function _$(t,e){var r=jt;jt|=1;try{return t(e)}finally{jt=r,jt===0&&(Rd(),Ms())}}function y$(t,e){var r=jt;jt&=-2,jt|=8;try{return t(e)}finally{jt=r,jt===0&&(Rd(),Ms())}}function Am(t,e){Pn(pA,ef),ef|=e,Td|=e}function vP(){ef=pA.current,nn(pA)}function Dh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fne(r)),hi!==null)for(r=hi.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&yy();break;case 3:ad(),nn(Ra),nn(ia),aP();break;case 5:iP(n);break;case 4:ad();break;case 13:nn(Rn);break;case 19:nn(Rn);break;case 10:rP(n);break;case 23:case 24:vP()}r=r.return}ga=t,hi=Au(t.current,null),ra=ef=Td=e,Ui=0,Gx=null,dP=Id=Jv=0}function x$(t,e){do{var r=hi;try{if(tP(),Sp.current=Py,Ay){for(var n=Xn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ay=!1}if(iv=0,Li=ea=Xn=null,Cp=!1,hP.current=null,r===null||r.return===null){Ui=1,Gx=e,hi=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=ra,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Rn.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var v=h.memoizedProps;p=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var m=h.updateQueue;if(m===null){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var _=uu(-1,1);_.tag=2,cu(s,_)}s.lanes|=1;break e}c=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new Cne,c=new Set,y.set(l,c)):(c=y.get(l),c===void 0&&(c=new Set,y.set(l,c))),!c.has(s)){c.add(s);var w=Dne.bind(null,a,l,s);l.then(w,w)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Ph(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ui!==5&&(Ui=2),c=fP(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var b=p$(h,a,e);dL(h,b);break e;case 1:a=c;var E=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ws===null||!ws.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var A=v$(h,a,e);dL(h,A);break e}}h=h.return}while(h!==null)}E$(r)}catch(T){e=T,hi===r&&r!==null&&(hi=r=r.return);continue}break}while(1)}function b$(){var t=Oy.current;return Oy.current=Py,t===null?Py:t}function up(t,e){var r=jt;jt|=16;var n=b$();ga===t&&ra===e||Dh(t,e);do try{kne();break}catch(i){x$(t,i)}while(1);if(tP(),jt=r,Oy.current=n,hi!==null)throw Error(et(261));return ga=null,ra=0,Ui}function kne(){for(;hi!==null;)w$(hi)}function Fne(){for(;hi!==null&&!pne();)w$(hi)}function w$(t){var e=C$(t.alternate,t,ef);t.memoizedProps=t.pendingProps,e===null?E$(t):hi=e,hP.current=null}function E$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=Sne(e),r!==null){r.flags&=2047,hi=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=Ene(r,e,ef),r!==null){hi=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||ef&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){hi=e;return}hi=e=t}while(e!==null);Ui===0&&(Ui=5)}function pc(t){var e=id();return Qc(99,Nne.bind(null,t,e)),null}function Nne(t,e){do ju();while(Ap!==null);if(jt&48)throw Error(et(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(et(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-Eu(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(pl!==null&&!(n&24)&&pl.has(t)&&pl.delete(t),t===ga&&(hi=ga=null,ra=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=jt,jt|=32,hP.current=null,cE=A_,o=QN(),ZC(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,p=0,d=0,v=o,m=null;t:for(;;){for(var g;v!==s||a!==0&&v.nodeType!==3||(f=u+a),v!==c||l!==0&&v.nodeType!==3||(h=u+l),v.nodeType===3&&(u+=v.nodeValue.length),(g=v.firstChild)!==null;)m=v,v=g;for(;;){if(v===o)break t;if(m===s&&++p===a&&(f=u),m===c&&++d===l&&(h=u),(g=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=g}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;fE={focusedElem:o,selectionRange:s},A_=!1,Ip=null,F_=!1,mt=n;do try{Lne()}catch(T){if(mt===null)throw Error(et(330));du(mt,T),mt=mt.nextEffect}while(mt!==null);Ip=null,mt=n;do try{for(o=t;mt!==null;){var _=mt.flags;if(_&16&&zp(mt.stateNode,""),_&128){var y=mt.alternate;if(y!==null){var w=y.ref;w!==null&&(typeof w=="function"?w(null):w.current=null)}}switch(_&1038){case 2:DL(mt),mt.flags&=-3;break;case 6:DL(mt),mt.flags&=-3,_E(mt.alternate,mt);break;case 1024:mt.flags&=-1025;break;case 1028:mt.flags&=-1025,_E(mt.alternate,mt);break;case 4:_E(mt.alternate,mt);break;case 8:s=mt,g$(o,s);var b=s.alternate;ML(s),b!==null&&ML(b)}mt=mt.nextEffect}}catch(T){if(mt===null)throw Error(et(330));du(mt,T),mt=mt.nextEffect}while(mt!==null);if(w=fE,y=QN(),_=w.focusedElem,o=w.selectionRange,y!==_&&_&&_.ownerDocument&&N9(_.ownerDocument.documentElement,_)){for(o!==null&&ZC(_)&&(y=o.start,w=o.end,w===void 0&&(w=y),"selectionStart"in _?(_.selectionStart=y,_.selectionEnd=Math.min(w,_.value.length)):(w=(y=_.ownerDocument||document)&&y.defaultView||window,w.getSelection&&(w=w.getSelection(),s=_.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!w.extend&&b>o&&(s=o,o=b,b=s),s=JN(_,b),a=JN(_,o),s&&a&&(w.rangeCount!==1||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),w.removeAllRanges(),b>o?(w.addRange(y),w.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),w.addRange(y)))))),y=[],w=_;w=w.parentNode;)w.nodeType===1&&y.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<y.length;_++)w=y[_],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}A_=!!cE,fE=cE=null,t.current=r,mt=n;do try{for(_=t;mt!==null;){var E=mt.flags;if(E&36&&Ine(_,mt.alternate,mt),E&128){y=void 0;var C=mt.ref;if(C!==null){var A=mt.stateNode;switch(mt.tag){case 5:y=A;break;default:y=A}typeof C=="function"?C(y):C.current=y}}mt=mt.nextEffect}}catch(T){if(mt===null)throw Error(et(330));du(mt,T),mt=mt.nextEffect}while(mt!==null);mt=null,gne(),jt=i}else t.current=r;if(Cu)Cu=!1,Ap=t,lp=e;else for(mt=n;mt!==null;)e=mt.nextEffect,mt.nextEffect=null,mt.flags&8&&(E=mt,E.sibling=null,E.stateNode=null),mt=e;if(n=t.pendingLanes,n===0&&(ws=null),n===1?t===xA?Tp++:(Tp=0,xA=t):Tp=0,r=r.stateNode,$c&&typeof $c.onCommitFiberRoot=="function")try{$c.onCommitFiberRoot(QR,r,void 0,(r.current.flags&64)===64)}catch{}if(Eo(t,ta()),ky)throw ky=!1,t=mA,mA=null,t;return jt&8||Ms(),null}function Lne(){for(;mt!==null;){var t=mt.alternate;F_||Ip===null||(mt.flags&8?DN(mt,Ip)&&(F_=!0):mt.tag===13&&Rne(t,mt)&&DN(mt,Ip)&&(F_=!0));var e=mt.flags;e&256&&Tne(t,mt),!(e&512)||Cu||(Cu=!0,ev(97,function(){return ju(),null})),mt=mt.nextEffect}}function ju(){if(lp!==90){var t=97<lp?97:lp;return lp=90,Qc(t,Bne)}return!1}function Mne(t,e){_A.push(e,t),Cu||(Cu=!0,ev(97,function(){return ju(),null}))}function S$(t,e){yA.push(e,t),Cu||(Cu=!0,ev(97,function(){return ju(),null}))}function Bne(){if(Ap===null)return!1;var t=Ap;if(Ap=null,jt&48)throw Error(et(331));var e=jt;jt|=32;var r=yA;yA=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(et(330));du(a,c)}}for(r=_A,_A=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(et(330));du(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return jt=e,Ms(),!0}function jL(t,e,r){e=fP(r,e),e=p$(t,e,1),cu(t,e),e=Wa(),t=Vx(t,1),t!==null&&(Lx(t,1,e),Eo(t,e))}function du(t,e){if(t.tag===3)jL(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){jL(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ws===null||!ws.has(n))){t=fP(e,t);var i=v$(r,t,1);if(cu(r,i),i=Wa(),r=Vx(r,1),r!==null)Lx(r,1,i),Eo(r,i);else if(typeof n.componentDidCatch=="function"&&(ws===null||!ws.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Dne(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wa(),t.pingedLanes|=t.suspendedLanes&r,ga===t&&(ra&r)===r&&(Ui===4||Ui===3&&(ra&62914560)===ra&&500>ta()-pP?Dh(t,0):dP|=r),Eo(t,e)}function Une(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(sl===0&&(sl=Td),e=ch(62914560&~sl),e===0&&(e=4194304)):e=id()===99?1:2:e=1),r=Wa(),t=Vx(t,e),t!==null&&(Lx(t,e,r),Eo(t,r))}var C$;C$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Ra.current)Xo=!0;else if(r&n)Xo=!!(t.flags&16384);else{switch(Xo=!1,e.tag){case 3:AL(e),vE();break;case 5:mL(e);break;case 1:Pa(e.type)&&R_(e);break;case 4:aA(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Pn(xy,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?TL(t,e,r):(Pn(Rn,Rn.current&1),e=cl(t,e,r),e!==null?e.sibling:null);Pn(Rn,Rn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return kL(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(Rn,Rn.current),n)break;return null;case 23:case 24:return e.lanes=0,gE(t,e,r)}return cl(t,e,r)}else Xo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=nd(e,ia.current),Lh(e,r),i=sP(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pa(n)){var a=!0;R_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nP(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Ey(e,n,o,t),i.updater=$x,e.stateNode=i,i._reactInternals=e,iA(e,n,t,r),e=uA(null,e,n,!0,a,r)}else e.tag=0,Ca(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=$ne(i),t=jo(i,t),a){case 0:e=lA(null,e,i,t,r);break e;case 1:e=CL(null,e,i,t,r);break e;case 11:e=EL(null,e,i,t,r);break e;case 14:e=SL(null,e,i,jo(i.type,t),n,r);break e}throw Error(et(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jo(n,i),lA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jo(n,i),CL(t,e,n,i,r);case 3:if(AL(e),n=e.updateQueue,t===null||n===null)throw Error(et(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,K9(t,e),tv(e,n,null,r),n=e.memoizedState.element,n===i)vE(),e=cl(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(eu=Nh(e.stateNode.containerInfo.firstChild),ul=e,a=Cs=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Mh.push(a);for(r=e$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Ca(t,e,n,r),vE();e=e.child}return e;case 5:return mL(e),t===null&&oA(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,eA(n,i)?o=null:a!==null&&eA(n,a)&&(e.flags|=16),c$(t,e),Ca(t,e,o,r),e.child;case 6:return t===null&&oA(e),null;case 13:return TL(t,e,r);case 4:return aA(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sy(e,null,n,r):Ca(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jo(n,i),EL(t,e,n,i,r);case 7:return Ca(t,e,e.pendingProps,r),e.child;case 8:return Ca(t,e,e.pendingProps.children,r),e.child;case 12:return Ca(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Pn(xy,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=vo(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Ra.current){e=cl(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=uu(-1,r&-r),l.tag=2,cu(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),q9(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ca(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Lh(e,r),i=wo(i,a.unstable_observedBits),n=n(i),e.flags|=1,Ca(t,e,n,r),e.child;case 14:return i=e.type,a=jo(i,e.pendingProps),a=jo(i.type,a),SL(t,e,i,a,n,r);case 15:return u$(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jo(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Pa(n)?(t=!0,R_(e)):t=!1,Lh(e,r),J9(e,n,i),iA(e,n,i,r),uA(null,e,n,!0,t,r);case 19:return kL(t,e,r);case 23:return gE(t,e,r);case 24:return gE(t,e,r)}throw Error(et(156,e.tag))};function jne(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function go(t,e,r,n){return new jne(t,e,r,n)}function gP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $ne(t){if(typeof t=="function")return gP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kx)return 11;if(t===Fx)return 14}return 2}function Au(t,e){var r=t.alternate;return r===null?(r=go(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function N_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")gP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wl:return Uh(r.children,i,a,e);case t9:o=8,i|=16;break;case kR:o=8,i|=1;break;case mp:return t=go(12,r,e,i|8),t.elementType=mp,t.type=mp,t.lanes=a,t;case _p:return t=go(13,r,e,i),t.type=_p,t.elementType=_p,t.lanes=a,t;case fy:return t=go(19,r,e,i),t.elementType=fy,t.lanes=a,t;case DR:return mP(r,i,a,e);case MC:return t=go(24,r,e,i),t.elementType=MC,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FR:o=10;break e;case NR:o=9;break e;case kx:o=11;break e;case Fx:o=14;break e;case LR:o=16,n=null;break e;case MR:o=22;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=go(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Uh(t,e,r,n){return t=go(7,t,n,e),t.lanes=r,t}function mP(t,e,r,n){return t=go(23,t,n,e),t.elementType=DR,t.lanes=r,t}function yE(t,e,r){return t=go(6,t,null,e),t.lanes=r,t}function xE(t,e,r){return e=go(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gne(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=nE(0),this.expirationTimes=nE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nE(0),this.mutableSourceEagerHydrationData=null}function Vne(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ac,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Fy(t,e,r,n){var i=e.current,a=Wa(),o=fu(i);e:if(r){r=r._reactInternals;t:{if(vf(r)!==r||r.tag!==1)throw Error(et(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Pa(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(et(171))}if(r.tag===1){var c=r.type;if(Pa(c)){r=G9(r,c,s);break e}}r=s}else r=Su;return e.context===null?e.context=r:e.pendingContext=r,e=uu(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),cu(i,e),hu(i,o,a),o}function bE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $L(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _P(t,e){$L(t,e),(t=t.alternate)&&$L(t,e)}function Hne(){return null}function yP(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Gne(t,e,r!=null&&r.hydrate===!0),e=go(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,nP(e),t[Ad]=r.current,B9(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}yP.prototype.render=function(t){Fy(t,this._internalRoot,null,null)};yP.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Fy(null,t,null,function(){e[Ad]=null})};function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xne(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new yP(t,0,e?{hydrate:!0}:void 0)}function Hx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=bE(o);s.call(l)}}Fy(e,o,t,i)}else{if(a=r._reactRootContainer=Xne(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=bE(o);c.call(l)}}y$(function(){Fy(e,o,t,i)})}return bE(o)}g9=function(t){if(t.tag===13){var e=Wa();hu(t,4,e),_P(t,4)}};VR=function(t){if(t.tag===13){var e=Wa();hu(t,67108864,e),_P(t,67108864)}};m9=function(t){if(t.tag===13){var e=Wa(),r=fu(t);hu(t,r,e),_P(t,r)}};_9=function(t,e){return e()};zC=function(t,e,r){switch(e){case"input":if(DC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ux(n);if(!i)throw Error(et(90));n9(n),DC(n,i)}}}break;case"textarea":a9(t,r);break;case"select":e=r.value,e!=null&&Oh(t,!!r.multiple,e,!1)}};jR=_$;h9=function(t,e,r,n,i){var a=jt;jt|=4;try{return Qc(98,t.bind(null,e,r,n,i))}finally{jt=a,jt===0&&(Rd(),Ms())}};$R=function(){!(jt&49)&&(One(),ju())};d9=function(t,e){var r=jt;jt|=2;try{return t(e)}finally{jt=r,jt===0&&(Rd(),Ms())}};function A$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(e))throw Error(et(200));return Vne(t,e,null,r)}var zne={Events:[Kv,gh,Ux,c9,f9,ju,{current:!1}]},N0={findFiberByHostInstance:Ic,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Wne={bundleType:N0.bundleType,version:N0.version,rendererPackageName:N0.rendererPackageName,rendererConfig:N0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v9(t),t===null?null:t.stateNode},findFiberByHostInstance:N0.findFiberByHostInstance||Hne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{QR=Tm.inject(Wne),$c=Tm}catch{}}So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zne;So.createPortal=A$;So.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):Error(et(268,Object.keys(t)));return t=v9(e),t=t===null?null:t.stateNode,t};So.flushSync=function(t,e){var r=jt;if(r&48)return t(e);jt|=1;try{if(t)return Qc(99,t.bind(null,e))}finally{jt=r,Ms()}};So.hydrate=function(t,e,r){if(!Qv(e))throw Error(et(200));return Hx(null,t,e,!0,r)};So.render=function(t,e,r){if(!Qv(e))throw Error(et(200));return Hx(null,t,e,!1,r)};So.unmountComponentAtNode=function(t){if(!Qv(t))throw Error(et(40));return t._reactRootContainer?(y$(function(){Hx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ad]=null})}),!0):!1};So.unstable_batchedUpdates=_$;So.unstable_createPortal=function(t,e){return A$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};So.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qv(r))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return Hx(t,e,r,!1,n)};So.version="17.0.2";function T$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T$)}catch(t){console.error(t)}}T$(),Zj.exports=So;var I$=Zj.exports;const Tu=Xi(I$);const Yne="_Title_main_1x8jv_1",qne="_Title_buttonList_1x8jv_8",Kne="_Title_button_1x8jv_8",Zne="_Title_button_text_1x8jv_40",Jne="_Title_button_custom_1x8jv_47",Qne="_Title_backup_background_1x8jv_66",L0={Title_main:Yne,Title_buttonList:qne,Title_button:Kne,Title_button_text:Zne,Title_button_custom:Jne,Title_backup_background:Qne};function Vo(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Iu(t){return!!t&&!!t[fn]}function ml(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===lie}(t)||Array.isArray(t)||!!t[YL]||!!(!((e=t.constructor)===null||e===void 0)&&e[YL])||xP(t)||bP(t))}function tf(t,e,r){r===void 0&&(r=!1),Pd(t)===0?(r?Object.keys:$h)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Pd(t){var e=t[fn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xP(t)?2:bP(t)?3:0}function jh(t,e){return Pd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function eie(t,e){return Pd(t)===2?t.get(e):t[e]}function R$(t,e,r){var n=Pd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function P$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xP(t){return oie&&t instanceof Map}function bP(t){return sie&&t instanceof Set}function vc(t){return t.o||t.t}function wP(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=k$(t);delete e[fn];for(var r=$h(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function EP(t,e){return e===void 0&&(e=!1),SP(t)||Iu(t)||!ml(t)||(Pd(t)>1&&(t.set=t.add=t.clear=t.delete=tie),Object.freeze(t),e&&tf(t,function(r,n){return EP(n,!0)},!0)),t}function tie(){Vo(2)}function SP(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function As(t){var e=CA[t];return e||Vo(18,t),e}function rie(t,e){CA[t]||(CA[t]=e)}function wA(){return av}function wE(t,e){e&&(As("Patches"),t.u=[],t.s=[],t.v=e)}function Ny(t){EA(t),t.p.forEach(nie),t.p=null}function EA(t){t===av&&(av=t.l)}function GL(t){return av={p:[],l:av,h:t,m:!0,_:0}}function nie(t){var e=t[fn];e.i===0||e.i===1?e.j():e.g=!0}function EE(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||As("ES5").S(e,t,n),n?(r[fn].P&&(Ny(e),Vo(4)),ml(t)&&(t=Ly(e,t),e.l||My(e,t)),e.u&&As("Patches").M(r[fn].t,t,e.u,e.s)):t=Ly(e,r,[]),Ny(e),e.u&&e.v(e.u,e.s),t!==O$?t:void 0}function Ly(t,e,r){if(SP(e))return e;var n=e[fn];if(!n)return tf(e,function(s,c){return VL(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return My(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=wP(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),tf(a,function(s,c){return VL(t,n,i,s,c,r,o)}),My(t,i,!1),r&&t.u&&As("Patches").N(n,r,t.u,t.s)}return n.o}function VL(t,e,r,n,i,a,o){if(Iu(i)){var s=Ly(t,i,a&&e&&e.i!==3&&!jh(e.R,n)?a.concat(n):void 0);if(R$(r,n,s),!Iu(s))return;t.m=!1}else o&&r.add(i);if(ml(i)&&!SP(i)){if(!t.h.D&&t._<1)return;Ly(t,i),e&&e.A.l||My(t,i)}}function My(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&EP(e,r)}function SE(t,e){var r=t[fn];return(r?vc(r):t)[e]}function HL(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Yl(t){t.P||(t.P=!0,t.l&&Yl(t.l))}function CE(t){t.o||(t.o=wP(t.t))}function SA(t,e,r){var n=xP(e)?As("MapSet").F(e,r):bP(e)?As("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:wA(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=ov;o&&(c=[s],l=cp);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):As("ES5").J(e,r);return(r?r.A:wA()).p.push(n),n}function iie(t){return Iu(t)||Vo(22,t),function e(r){if(!ml(r))return r;var n,i=r[fn],a=Pd(r);if(i){if(!i.P&&(i.i<4||!As("ES5").K(i)))return i.t;i.I=!0,n=XL(r,a),i.I=!1}else n=XL(r,a);return tf(n,function(o,s){i&&eie(i.t,o)===s||R$(n,o,e(s))}),a===3?new Set(n):n}(t)}function XL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return wP(t)}function aie(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[fn];return ov.get(c,a)},set:function(c){var l=this[fn];ov.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][fn];if(!s.P)switch(s.i){case 5:n(s)&&Yl(s);break;case 4:r(s)&&Yl(s)}}}function r(a){for(var o=a.t,s=a.k,c=$h(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==fn){var f=o[u];if(f===void 0&&!jh(o,u))return!0;var h=s[u],p=h&&h[fn];if(p?p.t!==f:!P$(h,f))return!0}}var d=!!o[fn];return c.length!==$h(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};rie("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=k$(f);delete d[fn];for(var v=$h(d),m=0;m<v.length;m++){var g=v[m];d[g]=t(g,u||!!d[g].enumerable)}return Object.create(Object.getPrototypeOf(f),d)}(s,a),l={i:s?5:4,A:o?o.A:wA(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,fn,{value:l,writable:!0}),c},S:function(a,o,s){s?Iu(o)&&o[fn].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[fn];if(u){var f=u.t,h=u.k,p=u.R,d=u.i;if(d===4)tf(h,function(y){y!==fn&&(f[y]!==void 0||jh(f,y)?p[y]||c(h[y]):(p[y]=!0,Yl(u)))}),tf(f,function(y){h[y]!==void 0||jh(h,y)||(p[y]=!1,Yl(u))});else if(d===5){if(n(u)&&(Yl(u),p.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)p[v]=!1;else for(var m=f.length;m<h.length;m++)p[m]=!0;for(var g=Math.min(h.length,f.length),_=0;_<g;_++)h.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&c(h[_])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var zL,av,CP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oie=typeof Map<"u",sie=typeof Set<"u",WL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",O$=CP?Symbol.for("immer-nothing"):((zL={})["immer-nothing"]=!0,zL),YL=CP?Symbol.for("immer-draftable"):"__$immer_draftable",fn=CP?Symbol.for("immer-state"):"__$immer_state",lie=""+Object.prototype.constructor,$h=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,k$=Object.getOwnPropertyDescriptors||function(t){var e={};return $h(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},CA={},ov={get:function(t,e){if(e===fn)return t;var r=vc(t);if(!jh(r,e))return function(i,a,o){var s,c=HL(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!ml(n)?n:n===SE(t.t,e)?(CE(t),t.o[e]=SA(t.A.h,n,t)):n},has:function(t,e){return e in vc(t)},ownKeys:function(t){return Reflect.ownKeys(vc(t))},set:function(t,e,r){var n=HL(vc(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=SE(vc(t),e),a=i==null?void 0:i[fn];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(P$(r,i)&&(r!==void 0||jh(t.t,e)))return!0;CE(t),Yl(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return SE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,CE(t),Yl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=vc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Vo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Vo(12)}},cp={};tf(ov,function(t,e){cp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),cp.deleteProperty=function(t,e){return cp.set.call(this,t,e,void 0)},cp.set=function(t,e,r){return ov.set.call(this,t[0],e,r,t[0])};var uie=function(){function t(r){var n=this;this.O=WL,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(v){var m=this;v===void 0&&(v=s);for(var g=arguments.length,_=Array(g>1?g-1:0),y=1;y<g;y++)_[y-1]=arguments[y];return c.produce(v,function(w){var b;return(b=a).call.apply(b,[m,w].concat(_))})}}var l;if(typeof a!="function"&&Vo(6),o!==void 0&&typeof o!="function"&&Vo(7),ml(i)){var u=GL(n),f=SA(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?Ny(u):EA(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return wE(u,o),EE(v,u)},function(v){throw Ny(u),v}):(wE(u,o),EE(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===O$&&(l=void 0),n.D&&EP(l,!0),o){var p=[],d=[];As("Patches").M(i,l,p,d),o(p,d)}return l}Vo(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){ml(r)||Vo(8),Iu(r)&&(r=iie(r));var n=GL(this),i=SA(this,r,void 0);return i[fn].C=!0,EA(n),i},e.finishDraft=function(r,n){var i=r&&r[fn],a=i.A;return wE(a,n),EE(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!WL&&Vo(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=As("Patches").$;return Iu(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),Ka=new uie,F$=Ka.produce;Ka.produceWithPatches.bind(Ka);Ka.setAutoFreeze.bind(Ka);Ka.setUseProxies.bind(Ka);Ka.applyPatches.bind(Ka);Ka.createDraft.bind(Ka);Ka.finishDraft.bind(Ka);function Ei(t){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(t)}function cie(t,e){if(Ei(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$(t){var e=cie(t,"string");return Ei(e)=="symbol"?e:e+""}function Ja(t,e,r){return e=N$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ZL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),AE=function(){return Math.random().toString(36).substring(7).split("").join(".")},By={INIT:"@@redux/INIT"+AE(),REPLACE:"@@redux/REPLACE"+AE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+AE()}};function fie(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function L$(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qi(1));return r(L$)(t,e)}if(typeof t!="function")throw new Error(Qi(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(Qi(3));return a}function f(v){if(typeof v!="function")throw new Error(Qi(4));if(c)throw new Error(Qi(5));var m=!0;return l(),s.push(v),function(){if(m){if(c)throw new Error(Qi(6));m=!1,l();var _=s.indexOf(v);s.splice(_,1),o=null}}}function h(v){if(!fie(v))throw new Error(Qi(7));if(typeof v.type>"u")throw new Error(Qi(8));if(c)throw new Error(Qi(9));try{c=!0,a=i(a,v)}finally{c=!1}for(var m=o=s,g=0;g<m.length;g++){var _=m[g];_()}return v}function p(v){if(typeof v!="function")throw new Error(Qi(10));i=v,h({type:By.REPLACE})}function d(){var v,m=f;return v={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Qi(11));function y(){_.next&&_.next(u())}y();var w=m(y);return{unsubscribe:w}}},v[ZL]=function(){return this},v}return h({type:By.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[ZL]=d,n}function hie(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:By.INIT});if(typeof n>"u")throw new Error(Qi(12));if(typeof r(void 0,{type:By.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qi(13))})}function die(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{hie(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var p=a[h],d=r[p],v=c[p],m=d(v,l);if(typeof m>"u")throw l&&l.type,new Error(Qi(14));f[p]=m,u=u||m!==v}return u=u||a.length!==Object.keys(c).length,u?f:c}}function Dy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function pie(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Qi(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=Dy.apply(void 0,s)(i.dispatch),KL(KL({},i),{},{dispatch:a})}}}function M$(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var B$=M$();B$.withExtraArgument=M$;const JL=B$;var D$=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vie=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},od=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},gie=Object.defineProperty,mie=Object.defineProperties,_ie=Object.getOwnPropertyDescriptors,QL=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,xie=Object.prototype.propertyIsEnumerable,eM=function(t,e,r){return e in t?gie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},pu=function(t,e){for(var r in e||(e={}))yie.call(e,r)&&eM(t,r,e[r]);if(QL)for(var n=0,i=QL(e);n<i.length;n++){var r=i[n];xie.call(e,r)&&eM(t,r,e[r])}return t},TE=function(t,e){return mie(t,_ie(e))},bie=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},wie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dy:Dy.apply(null,arguments)};function Eie(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function vu(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return pu(pu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var Sie=function(t){D$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,od([void 0],r[0].concat(this)))):new(e.bind.apply(e,od([void 0],r.concat(this))))},e}(Array),Cie=function(t){D$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,od([void 0],r[0].concat(this)))):new(e.bind.apply(e,od([void 0],r.concat(this))))},e}(Array);function AA(t){return ml(t)?F$(t,function(){}):t}function Aie(t){return typeof t=="boolean"}function Tie(){return function(e){return U$(e)}}function U$(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new Sie;return r&&(Aie(r)?n.push(JL):n.push(JL.withExtraArgument(r.extraArgument))),n}var Iie=!0;function Rie(t){var e=Tie(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(Eie(i))p=die(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var v=pie.apply(void 0,d),m=Dy;c&&(m=wie(pu({trace:!Iie},typeof c=="object"&&c)));var g=new Cie(v),_=g;Array.isArray(h)?_=od([v],h):typeof h=="function"&&(_=h(g));var y=m.apply(void 0,_);return L$(p,u,y)}function j$(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function Pie(t){return typeof t=="function"}function Oie(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?j$(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(Pie(t))c=function(){return AA(t())};else{var l=AA(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var p=od([a[h.type]],o.filter(function(d){var v=d.matcher;return v(h)}).map(function(d){var v=d.reducer;return v}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,v){if(v)if(Iu(d)){var m=d,g=v(m,h);return g===void 0?d:g}else{if(ml(d))return F$(d,function(_){return v(_,h)});var g=v(d,h);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return d},f)}return u.getInitialState=c,u}function kie(t,e){return t+"/"+e}function eg(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:AA(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=kie(e,u),p,d;"reducer"in f?(p=f.reducer,d=f.prepare):p=f,a[u]=p,o[h]=p,s[u]=d?vu(h,d):vu(h)});function c(){var u=typeof t.extraReducers=="function"?j$(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,p=u[1],d=p===void 0?[]:p,v=u[2],m=v===void 0?void 0:v,g=pu(pu({},h),o);return Oie(r,function(_){for(var y in g)_.addCase(y,g[y]);for(var w=0,b=d;w<b.length;w++){var E=b[w];_.addMatcher(E.matcher,E.reducer)}m&&_.addDefaultCase(m)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var Fie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nie=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=Fie[Math.random()*64|0];return e},Lie=["name","message","stack","code"],IE=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),tM=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Mie=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=Lie;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=vu(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:TE(pu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=vu(e+"/pending",function(l,u,f){return{payload:void 0,meta:TE(pu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=vu(e+"/rejected",function(l,u,f,h,p){return{payload:h,error:(n&&n.serializeError||Mie)(l||"Rejected"),meta:TE(pu({},p||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):Nie(),d=new s,v;function m(_){v=_,d.abort()}var g=function(){return bie(this,null,function(){var _,y,w,b,E,C,A;return vie(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),b=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:h}),Die(b)?[4,b]:[3,2];case 1:b=T.sent(),T.label=2;case 2:if(b===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(R,O){return d.signal.addEventListener("abort",function(){return O({name:"AbortError",message:v||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:f,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:p,signal:d.signal,abort:m,rejectWithValue:function(R,O){return new IE(R,O)},fulfillWithValue:function(R,O){return new tM(R,O)}})).then(function(R){if(R instanceof IE)throw R;return R instanceof tM?i(R.payload,p,l,R.meta):i(R,p,l)})])];case 3:return w=T.sent(),[3,5];case 4:return C=T.sent(),w=C instanceof IE?o(null,p,l,C.payload,C.meta):o(C,p,l),[3,5];case 5:return A=n&&!n.dispatchConditionRejection&&o.match(w)&&w.meta.condition,A||u(w),[2,w]}})})}();return Object.assign(g,{abort:m,requestId:p,arg:l,unwrap:function(){return g.then(Bie)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Bie(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Die(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var AP="listenerMiddleware";vu(AP+"/add");vu(AP+"/removeAll");vu(AP+"/remove");var rM;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);aie();function Uie(){this.__data__=[],this.size=0}var jie=Uie;function $ie(t,e){return t===e||t!==t&&e!==e}var TP=$ie,Gie=TP;function Vie(t,e){for(var r=t.length;r--;)if(Gie(t[r][0],e))return r;return-1}var Xx=Vie,Hie=Xx,Xie=Array.prototype,zie=Xie.splice;function Wie(t){var e=this.__data__,r=Hie(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():zie.call(e,r,1),--this.size,!0}var Yie=Wie,qie=Xx;function Kie(t){var e=this.__data__,r=qie(e,t);return r<0?void 0:e[r][1]}var Zie=Kie,Jie=Xx;function Qie(t){return Jie(this.__data__,t)>-1}var eae=Qie,tae=Xx;function rae(t,e){var r=this.__data__,n=tae(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var nae=rae,iae=jie,aae=Yie,oae=Zie,sae=eae,lae=nae;function Od(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Od.prototype.clear=iae;Od.prototype.delete=aae;Od.prototype.get=oae;Od.prototype.has=sae;Od.prototype.set=lae;var zx=Od,uae=zx;function cae(){this.__data__=new uae,this.size=0}var fae=cae;function hae(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var dae=hae;function pae(t){return this.__data__.get(t)}var vae=pae;function gae(t){return this.__data__.has(t)}var mae=gae,_ae=typeof At=="object"&&At&&At.Object===Object&&At,$$=_ae,yae=$$,xae=typeof self=="object"&&self&&self.Object===Object&&self,bae=yae||xae||Function("return this")(),es=bae,wae=es,Eae=wae.Symbol,tg=Eae,nM=tg,G$=Object.prototype,Sae=G$.hasOwnProperty,Cae=G$.toString,M0=nM?nM.toStringTag:void 0;function Aae(t){var e=Sae.call(t,M0),r=t[M0];try{t[M0]=void 0;var n=!0}catch{}var i=Cae.call(t);return n&&(e?t[M0]=r:delete t[M0]),i}var Tae=Aae,Iae=Object.prototype,Rae=Iae.toString;function Pae(t){return Rae.call(t)}var Oae=Pae,iM=tg,kae=Tae,Fae=Oae,Nae="[object Null]",Lae="[object Undefined]",aM=iM?iM.toStringTag:void 0;function Mae(t){return t==null?t===void 0?Lae:Nae:aM&&aM in Object(t)?kae(t):Fae(t)}var rg=Mae;function Bae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bs=Bae,Dae=rg,Uae=Bs,jae="[object AsyncFunction]",$ae="[object Function]",Gae="[object GeneratorFunction]",Vae="[object Proxy]";function Hae(t){if(!Uae(t))return!1;var e=Dae(t);return e==$ae||e==Gae||e==jae||e==Vae}var V$=Hae,Xae=es,zae=Xae["__core-js_shared__"],Wae=zae,RE=Wae,oM=function(){var t=/[^.]+$/.exec(RE&&RE.keys&&RE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yae(t){return!!oM&&oM in t}var qae=Yae,Kae=Function.prototype,Zae=Kae.toString;function Jae(t){if(t!=null){try{return Zae.call(t)}catch{}try{return t+""}catch{}}return""}var H$=Jae,Qae=V$,eoe=qae,toe=Bs,roe=H$,noe=/[\\^$.*+?()[\]{}|]/g,ioe=/^\[object .+?Constructor\]$/,aoe=Function.prototype,ooe=Object.prototype,soe=aoe.toString,loe=ooe.hasOwnProperty,uoe=RegExp("^"+soe.call(loe).replace(noe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function coe(t){if(!toe(t)||eoe(t))return!1;var e=Qae(t)?uoe:ioe;return e.test(roe(t))}var foe=coe;function hoe(t,e){return t==null?void 0:t[e]}var doe=hoe,poe=foe,voe=doe;function goe(t,e){var r=voe(t,e);return poe(r)?r:void 0}var mf=goe,moe=mf,_oe=es,yoe=moe(_oe,"Map"),IP=yoe,xoe=mf,boe=xoe(Object,"create"),Wx=boe,sM=Wx;function woe(){this.__data__=sM?sM(null):{},this.size=0}var Eoe=woe;function Soe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Coe=Soe,Aoe=Wx,Toe="__lodash_hash_undefined__",Ioe=Object.prototype,Roe=Ioe.hasOwnProperty;function Poe(t){var e=this.__data__;if(Aoe){var r=e[t];return r===Toe?void 0:r}return Roe.call(e,t)?e[t]:void 0}var Ooe=Poe,koe=Wx,Foe=Object.prototype,Noe=Foe.hasOwnProperty;function Loe(t){var e=this.__data__;return koe?e[t]!==void 0:Noe.call(e,t)}var Moe=Loe,Boe=Wx,Doe="__lodash_hash_undefined__";function Uoe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Boe&&e===void 0?Doe:e,this}var joe=Uoe,$oe=Eoe,Goe=Coe,Voe=Ooe,Hoe=Moe,Xoe=joe;function kd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kd.prototype.clear=$oe;kd.prototype.delete=Goe;kd.prototype.get=Voe;kd.prototype.has=Hoe;kd.prototype.set=Xoe;var zoe=kd,lM=zoe,Woe=zx,Yoe=IP;function qoe(){this.size=0,this.__data__={hash:new lM,map:new(Yoe||Woe),string:new lM}}var Koe=qoe;function Zoe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Joe=Zoe,Qoe=Joe;function ese(t,e){var r=t.__data__;return Qoe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Yx=ese,tse=Yx;function rse(t){var e=tse(this,t).delete(t);return this.size-=e?1:0,e}var nse=rse,ise=Yx;function ase(t){return ise(this,t).get(t)}var ose=ase,sse=Yx;function lse(t){return sse(this,t).has(t)}var use=lse,cse=Yx;function fse(t,e){var r=cse(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var hse=fse,dse=Koe,pse=nse,vse=ose,gse=use,mse=hse;function Fd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fd.prototype.clear=dse;Fd.prototype.delete=pse;Fd.prototype.get=vse;Fd.prototype.has=gse;Fd.prototype.set=mse;var RP=Fd,_se=zx,yse=IP,xse=RP,bse=200;function wse(t,e){var r=this.__data__;if(r instanceof _se){var n=r.__data__;if(!yse||n.length<bse-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new xse(n)}return r.set(t,e),this.size=r.size,this}var Ese=wse,Sse=zx,Cse=fae,Ase=dae,Tse=vae,Ise=mae,Rse=Ese;function Nd(t){var e=this.__data__=new Sse(t);this.size=e.size}Nd.prototype.clear=Cse;Nd.prototype.delete=Ase;Nd.prototype.get=Tse;Nd.prototype.has=Ise;Nd.prototype.set=Rse;var PP=Nd;function Pse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Ose=Pse,kse=mf,Fse=function(){try{var t=kse(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Nse=Fse,uM=Nse;function Lse(t,e,r){e=="__proto__"&&uM?uM(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var X$=Lse,Mse=X$,Bse=TP,Dse=Object.prototype,Use=Dse.hasOwnProperty;function jse(t,e,r){var n=t[e];(!(Use.call(t,e)&&Bse(n,r))||r===void 0&&!(e in t))&&Mse(t,e,r)}var OP=jse,$se=OP,Gse=X$;function Vse(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?Gse(r,s,c):$se(r,s,c)}return r}var qx=Vse;function Hse(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Xse=Hse;function zse(t){return t!=null&&typeof t=="object"}var _f=zse,Wse=rg,Yse=_f,qse="[object Arguments]";function Kse(t){return Yse(t)&&Wse(t)==qse}var Zse=Kse,cM=Zse,Jse=_f,z$=Object.prototype,Qse=z$.hasOwnProperty,ele=z$.propertyIsEnumerable,tle=cM(function(){return arguments}())?cM:function(t){return Jse(t)&&Qse.call(t,"callee")&&!ele.call(t,"callee")},W$=tle,rle=Array.isArray,El=rle,Uy={exports:{}};function nle(){return!1}var ile=nle;Uy.exports;(function(t,e){var r=es,n=ile,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(Uy,Uy.exports);var kP=Uy.exports,ale=9007199254740991,ole=/^(?:0|[1-9]\d*)$/;function sle(t,e){var r=typeof t;return e=e??ale,!!e&&(r=="number"||r!="symbol"&&ole.test(t))&&t>-1&&t%1==0&&t<e}var FP=sle,lle=9007199254740991;function ule(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lle}var NP=ule,cle=rg,fle=NP,hle=_f,dle="[object Arguments]",ple="[object Array]",vle="[object Boolean]",gle="[object Date]",mle="[object Error]",_le="[object Function]",yle="[object Map]",xle="[object Number]",ble="[object Object]",wle="[object RegExp]",Ele="[object Set]",Sle="[object String]",Cle="[object WeakMap]",Ale="[object ArrayBuffer]",Tle="[object DataView]",Ile="[object Float32Array]",Rle="[object Float64Array]",Ple="[object Int8Array]",Ole="[object Int16Array]",kle="[object Int32Array]",Fle="[object Uint8Array]",Nle="[object Uint8ClampedArray]",Lle="[object Uint16Array]",Mle="[object Uint32Array]",tn={};tn[Ile]=tn[Rle]=tn[Ple]=tn[Ole]=tn[kle]=tn[Fle]=tn[Nle]=tn[Lle]=tn[Mle]=!0;tn[dle]=tn[ple]=tn[Ale]=tn[vle]=tn[Tle]=tn[gle]=tn[mle]=tn[_le]=tn[yle]=tn[xle]=tn[ble]=tn[wle]=tn[Ele]=tn[Sle]=tn[Cle]=!1;function Ble(t){return hle(t)&&fle(t.length)&&!!tn[cle(t)]}var Dle=Ble;function Ule(t){return function(e){return t(e)}}var LP=Ule,jy={exports:{}};jy.exports;(function(t,e){var r=$$,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(jy,jy.exports);var MP=jy.exports,jle=Dle,$le=LP,fM=MP,hM=fM&&fM.isTypedArray,Gle=hM?$le(hM):jle,Y$=Gle,Vle=Xse,Hle=W$,Xle=El,zle=kP,Wle=FP,Yle=Y$,qle=Object.prototype,Kle=qle.hasOwnProperty;function Zle(t,e){var r=Xle(t),n=!r&&Hle(t),i=!r&&!n&&zle(t),a=!r&&!n&&!i&&Yle(t),o=r||n||i||a,s=o?Vle(t.length,String):[],c=s.length;for(var l in t)(e||Kle.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Wle(l,c)))&&s.push(l);return s}var q$=Zle,Jle=Object.prototype;function Qle(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Jle;return t===r}var BP=Qle;function eue(t,e){return function(r){return t(e(r))}}var K$=eue,tue=K$,rue=tue(Object.keys,Object),nue=rue,iue=BP,aue=nue,oue=Object.prototype,sue=oue.hasOwnProperty;function lue(t){if(!iue(t))return aue(t);var e=[];for(var r in Object(t))sue.call(t,r)&&r!="constructor"&&e.push(r);return e}var uue=lue,cue=V$,fue=NP;function hue(t){return t!=null&&fue(t.length)&&!cue(t)}var Z$=hue,due=q$,pue=uue,vue=Z$;function gue(t){return vue(t)?due(t):pue(t)}var Kx=gue,mue=qx,_ue=Kx;function yue(t,e){return t&&mue(e,_ue(e),t)}var xue=yue;function bue(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var wue=bue,Eue=Bs,Sue=BP,Cue=wue,Aue=Object.prototype,Tue=Aue.hasOwnProperty;function Iue(t){if(!Eue(t))return Cue(t);var e=Sue(t),r=[];for(var n in t)n=="constructor"&&(e||!Tue.call(t,n))||r.push(n);return r}var Rue=Iue,Pue=q$,Oue=Rue,kue=Z$;function Fue(t){return kue(t)?Pue(t,!0):Oue(t)}var DP=Fue,Nue=qx,Lue=DP;function Mue(t,e){return t&&Nue(e,Lue(e),t)}var Bue=Mue,$y={exports:{}};$y.exports;(function(t,e){var r=es,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})($y,$y.exports);var Due=$y.exports;function Uue(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var jue=Uue;function $ue(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Gue=$ue;function Vue(){return[]}var J$=Vue,Hue=Gue,Xue=J$,zue=Object.prototype,Wue=zue.propertyIsEnumerable,dM=Object.getOwnPropertySymbols,Yue=dM?function(t){return t==null?[]:(t=Object(t),Hue(dM(t),function(e){return Wue.call(t,e)}))}:Xue,UP=Yue,que=qx,Kue=UP;function Zue(t,e){return que(t,Kue(t),e)}var Jue=Zue;function Que(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Q$=Que,ece=K$,tce=ece(Object.getPrototypeOf,Object),eG=tce,rce=Q$,nce=eG,ice=UP,ace=J$,oce=Object.getOwnPropertySymbols,sce=oce?function(t){for(var e=[];t;)rce(e,ice(t)),t=nce(t);return e}:ace,tG=sce,lce=qx,uce=tG;function cce(t,e){return lce(t,uce(t),e)}var fce=cce,hce=Q$,dce=El;function pce(t,e,r){var n=e(t);return dce(t)?n:hce(n,r(t))}var rG=pce,vce=rG,gce=UP,mce=Kx;function _ce(t){return vce(t,mce,gce)}var nG=_ce,yce=rG,xce=tG,bce=DP;function wce(t){return yce(t,bce,xce)}var iG=wce,Ece=mf,Sce=es,Cce=Ece(Sce,"DataView"),Ace=Cce,Tce=mf,Ice=es,Rce=Tce(Ice,"Promise"),Pce=Rce,Oce=mf,kce=es,Fce=Oce(kce,"Set"),aG=Fce,Nce=mf,Lce=es,Mce=Nce(Lce,"WeakMap"),Bce=Mce,TA=Ace,IA=IP,RA=Pce,PA=aG,OA=Bce,oG=rg,Ld=H$,pM="[object Map]",Dce="[object Object]",vM="[object Promise]",gM="[object Set]",mM="[object WeakMap]",_M="[object DataView]",Uce=Ld(TA),jce=Ld(IA),$ce=Ld(RA),Gce=Ld(PA),Vce=Ld(OA),gc=oG;(TA&&gc(new TA(new ArrayBuffer(1)))!=_M||IA&&gc(new IA)!=pM||RA&&gc(RA.resolve())!=vM||PA&&gc(new PA)!=gM||OA&&gc(new OA)!=mM)&&(gc=function(t){var e=oG(t),r=e==Dce?t.constructor:void 0,n=r?Ld(r):"";if(n)switch(n){case Uce:return _M;case jce:return pM;case $ce:return vM;case Gce:return gM;case Vce:return mM}return e});var Zx=gc,Hce=Object.prototype,Xce=Hce.hasOwnProperty;function zce(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Xce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Wce=zce,Yce=es,qce=Yce.Uint8Array,sG=qce,yM=sG;function Kce(t){var e=new t.constructor(t.byteLength);return new yM(e).set(new yM(t)),e}var jP=Kce,Zce=jP;function Jce(t,e){var r=e?Zce(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Qce=Jce,efe=/\w*$/;function tfe(t){var e=new t.constructor(t.source,efe.exec(t));return e.lastIndex=t.lastIndex,e}var rfe=tfe,xM=tg,bM=xM?xM.prototype:void 0,wM=bM?bM.valueOf:void 0;function nfe(t){return wM?Object(wM.call(t)):{}}var ife=nfe,afe=jP;function ofe(t,e){var r=e?afe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var sfe=ofe,lfe=jP,ufe=Qce,cfe=rfe,ffe=ife,hfe=sfe,dfe="[object Boolean]",pfe="[object Date]",vfe="[object Map]",gfe="[object Number]",mfe="[object RegExp]",_fe="[object Set]",yfe="[object String]",xfe="[object Symbol]",bfe="[object ArrayBuffer]",wfe="[object DataView]",Efe="[object Float32Array]",Sfe="[object Float64Array]",Cfe="[object Int8Array]",Afe="[object Int16Array]",Tfe="[object Int32Array]",Ife="[object Uint8Array]",Rfe="[object Uint8ClampedArray]",Pfe="[object Uint16Array]",Ofe="[object Uint32Array]";function kfe(t,e,r){var n=t.constructor;switch(e){case bfe:return lfe(t);case dfe:case pfe:return new n(+t);case wfe:return ufe(t,r);case Efe:case Sfe:case Cfe:case Afe:case Tfe:case Ife:case Rfe:case Pfe:case Ofe:return hfe(t,r);case vfe:return new n;case gfe:case yfe:return new n(t);case mfe:return cfe(t);case _fe:return new n;case xfe:return ffe(t)}}var Ffe=kfe,Nfe=Bs,EM=Object.create,Lfe=function(){function t(){}return function(e){if(!Nfe(e))return{};if(EM)return EM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Mfe=Lfe,Bfe=Mfe,Dfe=eG,Ufe=BP;function jfe(t){return typeof t.constructor=="function"&&!Ufe(t)?Bfe(Dfe(t)):{}}var $fe=jfe,Gfe=Zx,Vfe=_f,Hfe="[object Map]";function Xfe(t){return Vfe(t)&&Gfe(t)==Hfe}var zfe=Xfe,Wfe=zfe,Yfe=LP,SM=MP,CM=SM&&SM.isMap,qfe=CM?Yfe(CM):Wfe,Kfe=qfe,Zfe=Zx,Jfe=_f,Qfe="[object Set]";function ehe(t){return Jfe(t)&&Zfe(t)==Qfe}var the=ehe,rhe=the,nhe=LP,AM=MP,TM=AM&&AM.isSet,ihe=TM?nhe(TM):rhe,ahe=ihe,ohe=PP,she=Ose,lhe=OP,uhe=xue,che=Bue,fhe=Due,hhe=jue,dhe=Jue,phe=fce,vhe=nG,ghe=iG,mhe=Zx,_he=Wce,yhe=Ffe,xhe=$fe,bhe=El,whe=kP,Ehe=Kfe,She=Bs,Che=ahe,Ahe=Kx,The=DP,Ihe=1,Rhe=2,Phe=4,lG="[object Arguments]",Ohe="[object Array]",khe="[object Boolean]",Fhe="[object Date]",Nhe="[object Error]",uG="[object Function]",Lhe="[object GeneratorFunction]",Mhe="[object Map]",Bhe="[object Number]",cG="[object Object]",Dhe="[object RegExp]",Uhe="[object Set]",jhe="[object String]",$he="[object Symbol]",Ghe="[object WeakMap]",Vhe="[object ArrayBuffer]",Hhe="[object DataView]",Xhe="[object Float32Array]",zhe="[object Float64Array]",Whe="[object Int8Array]",Yhe="[object Int16Array]",qhe="[object Int32Array]",Khe="[object Uint8Array]",Zhe="[object Uint8ClampedArray]",Jhe="[object Uint16Array]",Qhe="[object Uint32Array]",Kr={};Kr[lG]=Kr[Ohe]=Kr[Vhe]=Kr[Hhe]=Kr[khe]=Kr[Fhe]=Kr[Xhe]=Kr[zhe]=Kr[Whe]=Kr[Yhe]=Kr[qhe]=Kr[Mhe]=Kr[Bhe]=Kr[cG]=Kr[Dhe]=Kr[Uhe]=Kr[jhe]=Kr[$he]=Kr[Khe]=Kr[Zhe]=Kr[Jhe]=Kr[Qhe]=!0;Kr[Nhe]=Kr[uG]=Kr[Ghe]=!1;function L_(t,e,r,n,i,a){var o,s=e&Ihe,c=e&Rhe,l=e&Phe;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!She(t))return t;var u=bhe(t);if(u){if(o=_he(t),!s)return hhe(t,o)}else{var f=mhe(t),h=f==uG||f==Lhe;if(whe(t))return fhe(t,s);if(f==cG||f==lG||h&&!i){if(o=c||h?{}:xhe(t),!s)return c?phe(t,che(o,t)):dhe(t,uhe(o,t))}else{if(!Kr[f])return i?t:{};o=yhe(t,f,s)}}a||(a=new ohe);var p=a.get(t);if(p)return p;a.set(t,o),Che(t)?t.forEach(function(m){o.add(L_(m,e,r,m,t,a))}):Ehe(t)&&t.forEach(function(m,g){o.set(g,L_(m,e,r,g,t,a))});var d=l?c?ghe:vhe:c?The:Ahe,v=u?void 0:d(t);return she(v||t,function(m,g){v&&(g=m,m=t[g]),lhe(o,g,L_(m,e,r,g,t,a))}),o}var ede=L_,tde=ede,rde=1,nde=4;function ide(t){return tde(t,rde|nde)}var ade=ide;const vn=Xi(ade);var Bt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t))(Bt||{});function Im(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const fG={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],popUpImageName:"",popUpImageNameLeft:"",popUpImageNameRight:"",freePopUpImage:[],popUpImageAssociatedAnimation:[],popImgLive2dMotion:[],popImgLive2dExpression:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",gameSe:"",gameScounds:[],menuScounds:[],miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:Im().defaultWidth,storyLineBgY:Im().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:Im().defaultWidth,achieveBgY:Im().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[],showAffinityChangeList:[]},$P=eg({name:"stage",initialState:vn(fG),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Bt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},setPopUpImageLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.popImgLive2dMotion.findIndex(a=>a.target===r);i<0?t.popImgLive2dMotion.push({target:r,motion:n}):t.popImgLive2dMotion[i].motion=n},setPopUpImageLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.popImgLive2dExpression.findIndex(a=>a.target===r);i<0?t.popImgLive2dExpression.push({target:r,expression:n}):t.popImgLive2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload},addShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=[...t.showAffinityChangeList,e.payload]},updateShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=e.payload}}}),{resetStageState:Jx,setStage:Ot,setStageVar:hG,setAchieveBg:ode,setUnlockAchieve:fHe,setStoryLineBg:hHe,addShowValues:Hf,addShowValueList:sde,updateShowValueList:lde,addShowAffinityChangeList:ude,updateShowAffinityChangeList:cde}=$P.actions,Gn=$P.actions,fde=$P.reducer;function yh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof yh=="function"&&yh;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var v=n[l][1][d];return o(v||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof yh=="function"&&yh,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=d,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var m,g,_=p.length;_;){for(g=p,p=[],m=-1;++m<_;)g[m]();_=p.length}h=!1}n.exports=v;function v(m){p.push(m)===1&&!h&&s()}}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,E){if(typeof b!="function"&&this.state===l||typeof E!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var A=this.state===l?b:E;p(C,A,this.outcome)}else this.queue.push(new h(C,b,E));return C};function h(b,E,C){this.promise=b,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,E,C){a(function(){var A;try{A=E(C)}catch(T){return s.reject(b,T)}A===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,A)})}s.resolve=function(b,E){var C=m(d,E);if(C.status==="error")return s.reject(b,C.value);var A=C.value;if(A)v(b,A);else{b.state=l,b.outcome=E;for(var T=-1,R=b.queue.length;++T<R;)b.queue[T].callFulfilled(E)}return b},s.reject=function(b,E){b.state=c,b.outcome=E;for(var C=-1,A=b.queue.length;++C<A;)b.queue[C].callRejected(E);return b};function d(b){var E=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof E=="function")return function(){E.apply(b,arguments)}}function v(b,E){var C=!1;function A(P){C||(C=!0,s.reject(b,P))}function T(P){C||(C=!0,s.resolve(b,P))}function R(){E(T,A)}var O=m(R);O.status==="error"&&A(O.value)}function m(b,E){var C={};try{C.value=b(E),C.status="success"}catch(A){C.status="error",C.value=A}return C}f.resolve=g;function g(b){return b instanceof this?b:s.resolve(new this(o),b)}f.reject=_;function _(b){var E=new this(o);return s.reject(E,b)}f.all=y;function y(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var T=new Array(C),R=0,O=-1,P=new this(o);++O<C;)k(b[O],O);return P;function k(L,B){E.resolve(L).then(U,function(X){A||(A=!0,s.reject(P,X))});function U(X){T[B]=X,++R===C&&!A&&(A=!0,s.resolve(P,T))}}}f.race=w;function w(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var T=-1,R=new this(o);++T<C;)O(b[T]);return R;function O(P){E.resolve(P).then(function(k){A||(A=!0,s.resolve(R,k))},function(k){A||(A=!0,s.reject(R,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J};function o(J,ce){if(!(J instanceof ce))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var J=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ce=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!J||ce)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(J,ce){J=J||[],ce=ce||{};try{return new Blob(J,ce)}catch(pe){if(pe.name!=="TypeError")throw pe;for(var re=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ge=new re,be=0;be<J.length;be+=1)ge.append(J[be]);return ge.getBlob(ce.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(J,ce){ce&&J.then(function(re){ce(null,re)},function(re){ce(re)})}function p(J,ce,re){typeof ce=="function"&&J.then(ce),typeof re=="function"&&J.catch(re)}function d(J){return typeof J!="string"&&(console.warn(J+" used as a key, but it is not a string."),J=String(J)),J}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",g=void 0,_={},y=Object.prototype.toString,w="readonly",b="readwrite";function E(J){for(var ce=J.length,re=new ArrayBuffer(ce),ge=new Uint8Array(re),be=0;be<ce;be++)ge[be]=J.charCodeAt(be);return re}function C(J){return new f(function(ce){var re=J.transaction(m,b),ge=u([""]);re.objectStore(m).put(ge,"key"),re.onabort=function(be){be.preventDefault(),be.stopPropagation(),ce(!1)},re.oncomplete=function(){var be=navigator.userAgent.match(/Chrome\/(\d+)/),pe=navigator.userAgent.match(/Edge\//);ce(pe||!be||parseInt(be[1],10)>=43)}}).catch(function(){return!1})}function A(J){return typeof g=="boolean"?f.resolve(g):C(J).then(function(ce){return g=ce,g})}function T(J){var ce=_[J.name],re={};re.promise=new f(function(ge,be){re.resolve=ge,re.reject=be}),ce.deferredOperations.push(re),ce.dbReady?ce.dbReady=ce.dbReady.then(function(){return re.promise}):ce.dbReady=re.promise}function R(J){var ce=_[J.name],re=ce.deferredOperations.pop();if(re)return re.resolve(),re.promise}function O(J,ce){var re=_[J.name],ge=re.deferredOperations.pop();if(ge)return ge.reject(ce),ge.promise}function P(J,ce){return new f(function(re,ge){if(_[J.name]=_[J.name]||z(),J.db)if(ce)T(J),J.db.close();else return re(J.db);var be=[J.name];ce&&be.push(J.version);var pe=c.open.apply(c,be);ce&&(pe.onupgradeneeded=function(De){var ze=pe.result;try{ze.createObjectStore(J.storeName),De.oldVersion<=1&&ze.createObjectStore(m)}catch(Ke){if(Ke.name==="ConstraintError")console.warn('The database "'+J.name+'" has been upgraded from version '+De.oldVersion+" to version "+De.newVersion+', but the storage "'+J.storeName+'" already exists.');else throw Ke}}),pe.onerror=function(De){De.preventDefault(),ge(pe.error)},pe.onsuccess=function(){var De=pe.result;De.onversionchange=function(ze){ze.target.close()},re(De),R(J)}})}function k(J){return P(J,!1)}function L(J){return P(J,!0)}function B(J,ce){if(!J.db)return!0;var re=!J.db.objectStoreNames.contains(J.storeName),ge=J.version<J.db.version,be=J.version>J.db.version;if(ge&&(J.version!==ce&&console.warn('The database "'+J.name+`" can't be downgraded from version `+J.db.version+" to version "+J.version+"."),J.version=J.db.version),be||re){if(re){var pe=J.db.version+1;pe>J.version&&(J.version=pe)}return!0}return!1}function U(J){return new f(function(ce,re){var ge=new FileReader;ge.onerror=re,ge.onloadend=function(be){var pe=btoa(be.target.result||"");ce({__local_forage_encoded_blob:!0,data:pe,type:J.type})},ge.readAsBinaryString(J)})}function X(J){var ce=E(atob(J.data));return u([ce],{type:J.type})}function ee(J){return J&&J.__local_forage_encoded_blob}function ne(J){var ce=this,re=ce._initReady().then(function(){var ge=_[ce._dbInfo.name];if(ge&&ge.dbReady)return ge.dbReady});return p(re,J,J),re}function W(J){T(J);for(var ce=_[J.name],re=ce.forages,ge=0;ge<re.length;ge++){var be=re[ge];be._dbInfo.db&&(be._dbInfo.db.close(),be._dbInfo.db=null)}return J.db=null,k(J).then(function(pe){return J.db=pe,B(J)?L(J):pe}).then(function(pe){J.db=ce.db=pe;for(var De=0;De<re.length;De++)re[De]._dbInfo.db=pe}).catch(function(pe){throw O(J,pe),pe})}function D(J,ce,re,ge){ge===void 0&&(ge=1);try{var be=J.db.transaction(J.storeName,ce);re(null,be)}catch(pe){if(ge>0&&(!J.db||pe.name==="InvalidStateError"||pe.name==="NotFoundError"))return f.resolve().then(function(){if(!J.db||pe.name==="NotFoundError"&&!J.db.objectStoreNames.contains(J.storeName)&&J.version<=J.db.version)return J.db&&(J.version=J.db.version+1),L(J)}).then(function(){return W(J).then(function(){D(J,ce,re,ge-1)})}).catch(re);re(pe)}}function z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(J){var ce=this,re={db:null};if(J)for(var ge in J)re[ge]=J[ge];var be=_[re.name];be||(be=z(),_[re.name]=be),be.forages.push(ce),ce._initReady||(ce._initReady=ce.ready,ce.ready=ne);var pe=[];function De(){return f.resolve()}for(var ze=0;ze<be.forages.length;ze++){var Ke=be.forages[ze];Ke!==ce&&pe.push(Ke._initReady().catch(De))}var Ze=be.forages.slice(0);return f.all(pe).then(function(){return re.db=be.db,k(re)}).then(function(tt){return re.db=tt,B(re,ce._defaultConfig.version)?L(re):tt}).then(function(tt){re.db=be.db=tt,ce._dbInfo=re;for(var _t=0;_t<Ze.length;_t++){var ir=Ze[_t];ir!==ce&&(ir._dbInfo.db=re.db,ir._dbInfo.version=re.version)}})}function G(J,ce){var re=this;J=d(J);var ge=new f(function(be,pe){re.ready().then(function(){D(re._dbInfo,w,function(De,ze){if(De)return pe(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.get(J);Ze.onsuccess=function(){var tt=Ze.result;tt===void 0&&(tt=null),ee(tt)&&(tt=X(tt)),be(tt)},Ze.onerror=function(){pe(Ze.error)}}catch(tt){pe(tt)}})}).catch(pe)});return h(ge,ce),ge}function ie(J,ce){var re=this,ge=new f(function(be,pe){re.ready().then(function(){D(re._dbInfo,w,function(De,ze){if(De)return pe(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.openCursor(),tt=1;Ze.onsuccess=function(){var _t=Ze.result;if(_t){var ir=_t.value;ee(ir)&&(ir=X(ir));var Tr=J(ir,_t.key,tt++);Tr!==void 0?be(Tr):_t.continue()}else be()},Ze.onerror=function(){pe(Ze.error)}}catch(_t){pe(_t)}})}).catch(pe)});return h(ge,ce),ge}function se(J,ce,re){var ge=this;J=d(J);var be=new f(function(pe,De){var ze;ge.ready().then(function(){return ze=ge._dbInfo,y.call(ce)==="[object Blob]"?A(ze.db).then(function(Ke){return Ke?ce:U(ce)}):ce}).then(function(Ke){D(ge._dbInfo,b,function(Ze,tt){if(Ze)return De(Ze);try{var _t=tt.objectStore(ge._dbInfo.storeName);Ke===null&&(Ke=void 0);var ir=_t.put(Ke,J);tt.oncomplete=function(){Ke===void 0&&(Ke=null),pe(Ke)},tt.onabort=tt.onerror=function(){var Tr=ir.error?ir.error:ir.transaction.error;De(Tr)}}catch(Tr){De(Tr)}})}).catch(De)});return h(be,re),be}function me(J,ce){var re=this;J=d(J);var ge=new f(function(be,pe){re.ready().then(function(){D(re._dbInfo,b,function(De,ze){if(De)return pe(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.delete(J);ze.oncomplete=function(){be()},ze.onerror=function(){pe(Ze.error)},ze.onabort=function(){var tt=Ze.error?Ze.error:Ze.transaction.error;pe(tt)}}catch(tt){pe(tt)}})}).catch(pe)});return h(ge,ce),ge}function ue(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){D(ce._dbInfo,b,function(pe,De){if(pe)return be(pe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.clear();De.oncomplete=function(){ge()},De.onabort=De.onerror=function(){var Ze=Ke.error?Ke.error:Ke.transaction.error;be(Ze)}}catch(Ze){be(Ze)}})}).catch(be)});return h(re,J),re}function we(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){D(ce._dbInfo,w,function(pe,De){if(pe)return be(pe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.count();Ke.onsuccess=function(){ge(Ke.result)},Ke.onerror=function(){be(Ke.error)}}catch(Ze){be(Ze)}})}).catch(be)});return h(re,J),re}function Be(J,ce){var re=this,ge=new f(function(be,pe){if(J<0){be(null);return}re.ready().then(function(){D(re._dbInfo,w,function(De,ze){if(De)return pe(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=!1,tt=Ke.openKeyCursor();tt.onsuccess=function(){var _t=tt.result;if(!_t){be(null);return}J===0||Ze?be(_t.key):(Ze=!0,_t.advance(J))},tt.onerror=function(){pe(tt.error)}}catch(_t){pe(_t)}})}).catch(pe)});return h(ge,ce),ge}function Fe(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){D(ce._dbInfo,w,function(pe,De){if(pe)return be(pe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.openKeyCursor(),Ze=[];Ke.onsuccess=function(){var tt=Ke.result;if(!tt){ge(Ze);return}Ze.push(tt.key),tt.continue()},Ke.onerror=function(){be(Ke.error)}}catch(tt){be(tt)}})}).catch(be)});return h(re,J),re}function Ee(J,ce){ce=v.apply(this,arguments);var re=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||re.name,J.storeName=J.storeName||re.storeName);var ge=this,be;if(!J.name)be=f.reject("Invalid arguments");else{var pe=J.name===re.name&&ge._dbInfo.db,De=pe?f.resolve(ge._dbInfo.db):k(J).then(function(ze){var Ke=_[J.name],Ze=Ke.forages;Ke.db=ze;for(var tt=0;tt<Ze.length;tt++)Ze[tt]._dbInfo.db=ze;return ze});J.storeName?be=De.then(function(ze){if(ze.objectStoreNames.contains(J.storeName)){var Ke=ze.version+1;T(J);var Ze=_[J.name],tt=Ze.forages;ze.close();for(var _t=0;_t<tt.length;_t++){var ir=tt[_t];ir._dbInfo.db=null,ir._dbInfo.version=Ke}var Tr=new f(function(Ir,ln){var $r=c.open(J.name,Ke);$r.onerror=function(la){var Rl=$r.result;Rl.close(),ln(la)},$r.onupgradeneeded=function(){var la=$r.result;la.deleteObjectStore(J.storeName)},$r.onsuccess=function(){var la=$r.result;la.close(),Ir(la)}});return Tr.then(function(Ir){Ze.db=Ir;for(var ln=0;ln<tt.length;ln++){var $r=tt[ln];$r._dbInfo.db=Ir,R($r._dbInfo)}}).catch(function(Ir){throw(O(J,Ir)||f.resolve()).catch(function(){}),Ir})}}):be=De.then(function(ze){T(J);var Ke=_[J.name],Ze=Ke.forages;ze.close();for(var tt=0;tt<Ze.length;tt++){var _t=Ze[tt];_t._dbInfo.db=null}var ir=new f(function(Tr,Ir){var ln=c.deleteDatabase(J.name);ln.onerror=function(){var $r=ln.result;$r&&$r.close(),Ir(ln.error)},ln.onblocked=function(){console.warn('dropInstance blocked for database "'+J.name+'" until all open connections are closed')},ln.onsuccess=function(){var $r=ln.result;$r&&$r.close(),Tr($r)}});return ir.then(function(Tr){Ke.db=Tr;for(var Ir=0;Ir<Ze.length;Ir++){var ln=Ze[Ir];R(ln._dbInfo)}}).catch(function(Tr){throw(O(J,Tr)||f.resolve()).catch(function(){}),Tr})})}return h(be,ce),be}var Ae={_driver:"asyncStorage",_initStorage:V,_support:l(),iterate:ie,getItem:G,setItem:se,removeItem:me,clear:ue,length:we,key:Be,keys:Fe,dropInstance:Ee};function Ge(){return typeof openDatabase=="function"}var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",Xe=/^~~local_forage_type~([^~]+)~/,qe="__lfsc__:",Et=qe.length,Rt="arbf",ft="blob",ht="si08",St="ui08",rr="uic8",Ht="si16",nr="si32",Gt="ur16",xt="ui32",Zt="fl32",Oe="fl64",j=Et+Rt.length,de=Object.prototype.toString;function Se(J){var ce=J.length*.75,re=J.length,ge,be=0,pe,De,ze,Ke;J[J.length-1]==="="&&(ce--,J[J.length-2]==="="&&ce--);var Ze=new ArrayBuffer(ce),tt=new Uint8Array(Ze);for(ge=0;ge<re;ge+=4)pe=We.indexOf(J[ge]),De=We.indexOf(J[ge+1]),ze=We.indexOf(J[ge+2]),Ke=We.indexOf(J[ge+3]),tt[be++]=pe<<2|De>>4,tt[be++]=(De&15)<<4|ze>>2,tt[be++]=(ze&3)<<6|Ke&63;return Ze}function ke(J){var ce=new Uint8Array(J),re="",ge;for(ge=0;ge<ce.length;ge+=3)re+=We[ce[ge]>>2],re+=We[(ce[ge]&3)<<4|ce[ge+1]>>4],re+=We[(ce[ge+1]&15)<<2|ce[ge+2]>>6],re+=We[ce[ge+2]&63];return ce.length%3===2?re=re.substring(0,re.length-1)+"=":ce.length%3===1&&(re=re.substring(0,re.length-2)+"=="),re}function ae(J,ce){var re="";if(J&&(re=de.call(J)),J&&(re==="[object ArrayBuffer]"||J.buffer&&de.call(J.buffer)==="[object ArrayBuffer]")){var ge,be=qe;J instanceof ArrayBuffer?(ge=J,be+=Rt):(ge=J.buffer,re==="[object Int8Array]"?be+=ht:re==="[object Uint8Array]"?be+=St:re==="[object Uint8ClampedArray]"?be+=rr:re==="[object Int16Array]"?be+=Ht:re==="[object Uint16Array]"?be+=Gt:re==="[object Int32Array]"?be+=nr:re==="[object Uint32Array]"?be+=xt:re==="[object Float32Array]"?be+=Zt:re==="[object Float64Array]"?be+=Oe:ce(new Error("Failed to get type for BinaryArray"))),ce(be+ke(ge))}else if(re==="[object Blob]"){var pe=new FileReader;pe.onload=function(){var De=Ve+J.type+"~"+ke(this.result);ce(qe+ft+De)},pe.readAsArrayBuffer(J)}else try{ce(JSON.stringify(J))}catch(De){console.error("Couldn't convert value into a JSON string: ",J),ce(null,De)}}function Ie(J){if(J.substring(0,Et)!==qe)return JSON.parse(J);var ce=J.substring(j),re=J.substring(Et,j),ge;if(re===ft&&Xe.test(ce)){var be=ce.match(Xe);ge=be[1],ce=ce.substring(be[0].length)}var pe=Se(ce);switch(re){case Rt:return pe;case ft:return u([pe],{type:ge});case ht:return new Int8Array(pe);case St:return new Uint8Array(pe);case rr:return new Uint8ClampedArray(pe);case Ht:return new Int16Array(pe);case Gt:return new Uint16Array(pe);case nr:return new Int32Array(pe);case xt:return new Uint32Array(pe);case Zt:return new Float32Array(pe);case Oe:return new Float64Array(pe);default:throw new Error("Unkown type: "+re)}}var H={serialize:ae,deserialize:Ie,stringToBuffer:Se,bufferToString:ke};function Ue(J,ce,re,ge){J.executeSql("CREATE TABLE IF NOT EXISTS "+ce.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],re,ge)}function pt(J){var ce=this,re={db:null};if(J)for(var ge in J)re[ge]=typeof J[ge]!="string"?J[ge].toString():J[ge];var be=new f(function(pe,De){try{re.db=openDatabase(re.name,String(re.version),re.description,re.size)}catch(ze){return De(ze)}re.db.transaction(function(ze){Ue(ze,re,function(){ce._dbInfo=re,pe()},function(Ke,Ze){De(Ze)})},De)});return re.serializer=H,be}function F(J,ce,re,ge,be,pe){J.executeSql(re,ge,be,function(De,ze){ze.code===ze.SYNTAX_ERR?De.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ce.storeName],function(Ke,Ze){Ze.rows.length?pe(Ke,ze):Ue(Ke,ce,function(){Ke.executeSql(re,ge,be,pe)},pe)},pe):pe(De,ze)},pe)}function Re(J,ce){var re=this;J=d(J);var ge=new f(function(be,pe){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT * FROM "+De.storeName+" WHERE key = ? LIMIT 1",[J],function(Ke,Ze){var tt=Ze.rows.length?Ze.rows.item(0).value:null;tt&&(tt=De.serializer.deserialize(tt)),be(tt)},function(Ke,Ze){pe(Ze)})})}).catch(pe)});return h(ge,ce),ge}function Pe(J,ce){var re=this,ge=new f(function(be,pe){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT * FROM "+De.storeName,[],function(Ke,Ze){for(var tt=Ze.rows,_t=tt.length,ir=0;ir<_t;ir++){var Tr=tt.item(ir),Ir=Tr.value;if(Ir&&(Ir=De.serializer.deserialize(Ir)),Ir=J(Ir,Tr.key,ir+1),Ir!==void 0){be(Ir);return}}be()},function(Ke,Ze){pe(Ze)})})}).catch(pe)});return h(ge,ce),ge}function q(J,ce,re,ge){var be=this;J=d(J);var pe=new f(function(De,ze){be.ready().then(function(){ce===void 0&&(ce=null);var Ke=ce,Ze=be._dbInfo;Ze.serializer.serialize(ce,function(tt,_t){_t?ze(_t):Ze.db.transaction(function(ir){F(ir,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[J,tt],function(){De(Ke)},function(Tr,Ir){ze(Ir)})},function(ir){if(ir.code===ir.QUOTA_ERR){if(ge>0){De(q.apply(be,[J,Ke,re,ge-1]));return}ze(ir)}})})}).catch(ze)});return h(pe,re),pe}function le(J,ce,re){return q.apply(this,[J,ce,re,1])}function Ce(J,ce){var re=this;J=d(J);var ge=new f(function(be,pe){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"DELETE FROM "+De.storeName+" WHERE key = ?",[J],function(){be()},function(Ke,Ze){pe(Ze)})})}).catch(pe)});return h(ge,ce),ge}function dt(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(De){F(De,pe,"DELETE FROM "+pe.storeName,[],function(){ge()},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,J),re}function Qe(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(De){F(De,pe,"SELECT COUNT(key) as c FROM "+pe.storeName,[],function(ze,Ke){var Ze=Ke.rows.item(0).c;ge(Ze)},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,J),re}function ot(J,ce){var re=this,ge=new f(function(be,pe){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT key FROM "+De.storeName+" WHERE id = ? LIMIT 1",[J+1],function(Ke,Ze){var tt=Ze.rows.length?Ze.rows.item(0).key:null;be(tt)},function(Ke,Ze){pe(Ze)})})}).catch(pe)});return h(ge,ce),ge}function Ft(J){var ce=this,re=new f(function(ge,be){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(De){F(De,pe,"SELECT key FROM "+pe.storeName,[],function(ze,Ke){for(var Ze=[],tt=0;tt<Ke.rows.length;tt++)Ze.push(Ke.rows.item(tt).key);ge(Ze)},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,J),re}function Ln(J){return new f(function(ce,re){J.transaction(function(ge){ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(be,pe){for(var De=[],ze=0;ze<pe.rows.length;ze++)De.push(pe.rows.item(ze).name);ce({db:J,storeNames:De})},function(be,pe){re(pe)})},function(ge){re(ge)})})}function lr(J,ce){ce=v.apply(this,arguments);var re=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||re.name,J.storeName=J.storeName||re.storeName);var ge=this,be;return J.name?be=new f(function(pe){var De;J.name===re.name?De=ge._dbInfo.db:De=openDatabase(J.name,"","",0),J.storeName?pe({db:De,storeNames:[J.storeName]}):pe(Ln(De))}).then(function(pe){return new f(function(De,ze){pe.db.transaction(function(Ke){function Ze(Tr){return new f(function(Ir,ln){Ke.executeSql("DROP TABLE IF EXISTS "+Tr,[],function(){Ir()},function($r,la){ln(la)})})}for(var tt=[],_t=0,ir=pe.storeNames.length;_t<ir;_t++)tt.push(Ze(pe.storeNames[_t]));f.all(tt).then(function(){De()}).catch(function(Tr){ze(Tr)})},function(Ke){ze(Ke)})})}):be=f.reject("Invalid arguments"),h(be,ce),be}var Ct={_driver:"webSQLStorage",_initStorage:pt,_support:Ge(),iterate:Pe,getItem:Re,setItem:le,removeItem:Ce,clear:dt,length:Qe,key:ot,keys:Ft,dropInstance:lr};function Ar(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function on(J,ce){var re=J.name+"/";return J.storeName!==ce.storeName&&(re+=J.storeName+"/"),re}function qn(){var J="_localforage_support_test";try{return localStorage.setItem(J,!0),localStorage.removeItem(J),!1}catch{return!0}}function Al(){return!qn()||localStorage.length>0}function Tl(J){var ce=this,re={};if(J)for(var ge in J)re[ge]=J[ge];return re.keyPrefix=on(J,ce._defaultConfig),Al()?(ce._dbInfo=re,re.serializer=H,f.resolve()):f.reject()}function sn(J){var ce=this,re=ce.ready().then(function(){for(var ge=ce._dbInfo.keyPrefix,be=localStorage.length-1;be>=0;be--){var pe=localStorage.key(be);pe.indexOf(ge)===0&&localStorage.removeItem(pe)}});return h(re,J),re}function zi(J,ce){var re=this;J=d(J);var ge=re.ready().then(function(){var be=re._dbInfo,pe=localStorage.getItem(be.keyPrefix+J);return pe&&(pe=be.serializer.deserialize(pe)),pe});return h(ge,ce),ge}function Mn(J,ce){var re=this,ge=re.ready().then(function(){for(var be=re._dbInfo,pe=be.keyPrefix,De=pe.length,ze=localStorage.length,Ke=1,Ze=0;Ze<ze;Ze++){var tt=localStorage.key(Ze);if(tt.indexOf(pe)===0){var _t=localStorage.getItem(tt);if(_t&&(_t=be.serializer.deserialize(_t)),_t=J(_t,tt.substring(De),Ke++),_t!==void 0)return _t}}});return h(ge,ce),ge}function La(J,ce){var re=this,ge=re.ready().then(function(){var be=re._dbInfo,pe;try{pe=localStorage.key(J)}catch{pe=null}return pe&&(pe=pe.substring(be.keyPrefix.length)),pe});return h(ge,ce),ge}function sa(J){var ce=this,re=ce.ready().then(function(){for(var ge=ce._dbInfo,be=localStorage.length,pe=[],De=0;De<be;De++){var ze=localStorage.key(De);ze.indexOf(ge.keyPrefix)===0&&pe.push(ze.substring(ge.keyPrefix.length))}return pe});return h(re,J),re}function Af(J){var ce=this,re=ce.keys().then(function(ge){return ge.length});return h(re,J),re}function Lb(J,ce){var re=this;J=d(J);var ge=re.ready().then(function(){var be=re._dbInfo;localStorage.removeItem(be.keyPrefix+J)});return h(ge,ce),ge}function Mb(J,ce,re){var ge=this;J=d(J);var be=ge.ready().then(function(){ce===void 0&&(ce=null);var pe=ce;return new f(function(De,ze){var Ke=ge._dbInfo;Ke.serializer.serialize(ce,function(Ze,tt){if(tt)ze(tt);else try{localStorage.setItem(Ke.keyPrefix+J,Ze),De(pe)}catch(_t){(_t.name==="QuotaExceededError"||_t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ze(_t),ze(_t)}})})});return h(be,re),be}function Bb(J,ce){if(ce=v.apply(this,arguments),J=typeof J!="function"&&J||{},!J.name){var re=this.config();J.name=J.name||re.name,J.storeName=J.storeName||re.storeName}var ge=this,be;return J.name?be=new f(function(pe){J.storeName?pe(on(J,ge._defaultConfig)):pe(J.name+"/")}).then(function(pe){for(var De=localStorage.length-1;De>=0;De--){var ze=localStorage.key(De);ze.indexOf(pe)===0&&localStorage.removeItem(ze)}}):be=f.reject("Invalid arguments"),h(be,ce),be}var Db={_driver:"localStorageWrapper",_initStorage:Tl,_support:Ar(),iterate:Mn,getItem:zi,setItem:Mb,removeItem:Lb,clear:sn,length:Af,key:La,keys:sa,dropInstance:Bb},Ub=function(ce,re){return ce===re||typeof ce=="number"&&typeof re=="number"&&isNaN(ce)&&isNaN(re)},Tf=function(ce,re){for(var ge=ce.length,be=0;be<ge;){if(Ub(ce[be],re))return!0;be++}return!1},Cg=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},ss={},Ag={},Il={INDEXEDDB:Ae,WEBSQL:Ct,LOCALSTORAGE:Db},jb=[Il.INDEXEDDB._driver,Il.WEBSQL._driver,Il.LOCALSTORAGE._driver],Wu=["dropInstance"],If=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Wu),Tg={description:"",driver:jb.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $b(J,ce){J[ce]=function(){var re=arguments;return J.ready().then(function(){return J[ce].apply(J,re)})}}function o0(){for(var J=1;J<arguments.length;J++){var ce=arguments[J];if(ce)for(var re in ce)ce.hasOwnProperty(re)&&(Cg(ce[re])?arguments[0][re]=ce[re].slice():arguments[0][re]=ce[re])}return arguments[0]}var Gb=function(){function J(ce){o(this,J);for(var re in Il)if(Il.hasOwnProperty(re)){var ge=Il[re],be=ge._driver;this[re]=be,ss[be]||this.defineDriver(ge)}this._defaultConfig=o0({},Tg),this._config=o0({},this._defaultConfig,ce),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return J.prototype.config=function(re){if((typeof re>"u"?"undefined":a(re))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ge in re){if(ge==="storeName"&&(re[ge]=re[ge].replace(/\W/g,"_")),ge==="version"&&typeof re[ge]!="number")return new Error("Database version must be a number.");this._config[ge]=re[ge]}return"driver"in re&&re.driver?this.setDriver(this._config.driver):!0}else return typeof re=="string"?this._config[re]:this._config},J.prototype.defineDriver=function(re,ge,be){var pe=new f(function(De,ze){try{var Ke=re._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!re._driver){ze(Ze);return}for(var tt=If.concat("_initStorage"),_t=0,ir=tt.length;_t<ir;_t++){var Tr=tt[_t],Ir=!Tf(Wu,Tr);if((Ir||re[Tr])&&typeof re[Tr]!="function"){ze(Ze);return}}var ln=function(){for(var Rl=function(Rg){return function(){var Xb=new Error("Method "+Rg+" is not implemented by the current driver"),Pg=f.reject(Xb);return h(Pg,arguments[arguments.length-1]),Pg}},s0=0,Ig=Wu.length;s0<Ig;s0++){var Rf=Wu[s0];re[Rf]||(re[Rf]=Rl(Rf))}};ln();var $r=function(Rl){ss[Ke]&&console.info("Redefining LocalForage driver: "+Ke),ss[Ke]=re,Ag[Ke]=Rl,De()};"_support"in re?re._support&&typeof re._support=="function"?re._support().then($r,ze):$r(!!re._support):$r(!0)}catch(la){ze(la)}});return p(pe,ge,be),pe},J.prototype.driver=function(){return this._driver||null},J.prototype.getDriver=function(re,ge,be){var pe=ss[re]?f.resolve(ss[re]):f.reject(new Error("Driver not found."));return p(pe,ge,be),pe},J.prototype.getSerializer=function(re){var ge=f.resolve(H);return p(ge,re),ge},J.prototype.ready=function(re){var ge=this,be=ge._driverSet.then(function(){return ge._ready===null&&(ge._ready=ge._initDriver()),ge._ready});return p(be,re,re),be},J.prototype.setDriver=function(re,ge,be){var pe=this;Cg(re)||(re=[re]);var De=this._getSupportedDrivers(re);function ze(){pe._config.driver=pe.driver()}function Ke(_t){return pe._extend(_t),ze(),pe._ready=pe._initStorage(pe._config),pe._ready}function Ze(_t){return function(){var ir=0;function Tr(){for(;ir<_t.length;){var Ir=_t[ir];return ir++,pe._dbInfo=null,pe._ready=null,pe.getDriver(Ir).then(Ke).catch(Tr)}ze();var ln=new Error("No available storage method found.");return pe._driverSet=f.reject(ln),pe._driverSet}return Tr()}}var tt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=tt.then(function(){var _t=De[0];return pe._dbInfo=null,pe._ready=null,pe.getDriver(_t).then(function(ir){pe._driver=ir._driver,ze(),pe._wrapLibraryMethodsWithReady(),pe._initDriver=Ze(De)})}).catch(function(){ze();var _t=new Error("No available storage method found.");return pe._driverSet=f.reject(_t),pe._driverSet}),p(this._driverSet,ge,be),this._driverSet},J.prototype.supports=function(re){return!!Ag[re]},J.prototype._extend=function(re){o0(this,re)},J.prototype._getSupportedDrivers=function(re){for(var ge=[],be=0,pe=re.length;be<pe;be++){var De=re[be];this.supports(De)&&ge.push(De)}return ge},J.prototype._wrapLibraryMethodsWithReady=function(){for(var re=0,ge=If.length;re<ge;re++)$b(this,If[re])},J.prototype.createInstance=function(re){return new J(re)},J}(),Vb=new Gb;n.exports=Vb},{3:3}]},{},[4])(4)})})(dG);var rf=dG.exports;const Co=Xi(rf);var GP={exports:{}},pG=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},hde=pG,yf=Object.prototype.toString;function VP(t){return yf.call(t)==="[object Array]"}function kA(t){return typeof t>"u"}function dde(t){return t!==null&&!kA(t)&&t.constructor!==null&&!kA(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function pde(t){return yf.call(t)==="[object ArrayBuffer]"}function vde(t){return typeof FormData<"u"&&t instanceof FormData}function gde(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function mde(t){return typeof t=="string"}function _de(t){return typeof t=="number"}function vG(t){return t!==null&&typeof t=="object"}function M_(t){if(yf.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yde(t){return yf.call(t)==="[object Date]"}function xde(t){return yf.call(t)==="[object File]"}function bde(t){return yf.call(t)==="[object Blob]"}function gG(t){return yf.call(t)==="[object Function]"}function wde(t){return vG(t)&&gG(t.pipe)}function Ede(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Sde(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Cde(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function HP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),VP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function FA(){var t={};function e(i,a){M_(t[a])&&M_(i)?t[a]=FA(t[a],i):M_(i)?t[a]=FA({},i):VP(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)HP(arguments[r],e);return t}function Ade(t,e,r){return HP(e,function(i,a){r&&typeof i=="function"?t[a]=hde(i,r):t[a]=i}),t}function Tde(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Qa={isArray:VP,isArrayBuffer:pde,isBuffer:dde,isFormData:vde,isArrayBufferView:gde,isString:mde,isNumber:_de,isObject:vG,isPlainObject:M_,isUndefined:kA,isDate:yde,isFile:xde,isBlob:bde,isFunction:gG,isStream:wde,isURLSearchParams:Ede,isStandardBrowserEnv:Cde,forEach:HP,merge:FA,extend:Ade,trim:Sde,stripBOM:Tde},Xf=Qa;function IM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var mG=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Xf.isURLSearchParams(r))i=r.toString();else{var a=[];Xf.forEach(r,function(c,l){c===null||typeof c>"u"||(Xf.isArray(c)?l=l+"[]":c=[c],Xf.forEach(c,function(f){Xf.isDate(f)?f=f.toISOString():Xf.isObject(f)&&(f=JSON.stringify(f)),a.push(IM(l)+"="+IM(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Ide=Qa;function Qx(){this.handlers=[]}Qx.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Qx.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Qx.prototype.forEach=function(e){Ide.forEach(this.handlers,function(n){n!==null&&e(n)})};var Rde=Qx,Pde=Qa,Ode=function(e,r){Pde.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},_G=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},PE,RM;function yG(){if(RM)return PE;RM=1;var t=_G;return PE=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},PE}var OE,PM;function kde(){if(PM)return OE;PM=1;var t=yG();return OE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},OE}var kE,OM;function Fde(){if(OM)return kE;OM=1;var t=Qa;return kE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),kE}var FE,kM;function Nde(){return kM||(kM=1,FE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),FE}var NE,FM;function Lde(){return FM||(FM=1,NE=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),NE}var LE,NM;function Mde(){if(NM)return LE;NM=1;var t=Nde(),e=Lde();return LE=function(n,i){return n&&!t(i)?e(n,i):i},LE}var ME,LM;function Bde(){if(LM)return ME;LM=1;var t=Qa,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ME=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},ME}var BE,MM;function Dde(){if(MM)return BE;MM=1;var t=Qa;return BE=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),BE}var DE,BM;function e1(){if(BM)return DE;BM=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,DE=t,DE}var UE,DM;function UM(){if(DM)return UE;DM=1;var t=Qa,e=kde(),r=Fde(),n=mG,i=Mde(),a=Bde(),o=Dde(),s=yG(),c=t1(),l=e1();return UE=function(f){return new Promise(function(p,d){var v=f.data,m=f.headers,g=f.responseType,_;function y(){f.cancelToken&&f.cancelToken.unsubscribe(_),f.signal&&f.signal.removeEventListener("abort",_)}t.isFormData(v)&&delete m["Content-Type"];var w=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",E=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+E)}var C=i(f.baseURL,f.url);w.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),w.timeout=f.timeout;function A(){if(w){var R="getAllResponseHeaders"in w?a(w.getAllResponseHeaders()):null,O=!g||g==="text"||g==="json"?w.responseText:w.response,P={data:O,status:w.status,statusText:w.statusText,headers:R,config:f,request:w};e(function(L){p(L),y()},function(L){d(L),y()},P),w=null}}if("onloadend"in w?w.onloadend=A:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(A)},w.onabort=function(){w&&(d(s("Request aborted",f,"ECONNABORTED",w)),w=null)},w.onerror=function(){d(s("Network Error",f,null,w)),w=null},w.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),d(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},t.isStandardBrowserEnv()){var T=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;T&&(m[f.xsrfHeaderName]=T)}"setRequestHeader"in w&&t.forEach(m,function(O,P){typeof v>"u"&&P.toLowerCase()==="content-type"?delete m[P]:w.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(w.withCredentials=!!f.withCredentials),g&&g!=="json"&&(w.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&w.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(_=function(R){w&&(d(!R||R&&R.type?new l("canceled"):R),w.abort(),w=null)},f.cancelToken&&f.cancelToken.subscribe(_),f.signal&&(f.signal.aborted?_():f.signal.addEventListener("abort",_))),v||(v=null),w.send(v)})},UE}var jE,jM;function t1(){if(jM)return jE;jM=1;var t=Qa,e=Ode,r=_G,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=UM()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),jE=s,jE}var Ude=Qa,jde=t1(),$de=function(e,r,n){var i=this||jde;return Ude.forEach(n,function(o){e=o.call(i,e,r)}),e},$E,$M;function xG(){return $M||($M=1,$E=function(e){return!!(e&&e.__CANCEL__)}),$E}var GM=Qa,GE=$de,Gde=xG(),Vde=t1(),Hde=e1();function VE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hde("canceled")}var Xde=function(e){VE(e),e.headers=e.headers||{},e.data=GE.call(e,e.data,e.headers,e.transformRequest),e.headers=GM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),GM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Vde.adapter;return r(e).then(function(i){return VE(e),i.data=GE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Gde(i)||(VE(e),i&&i.response&&(i.response.data=GE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Ga=Qa,bG=function(e,r){r=r||{};var n={};function i(u,f){return Ga.isPlainObject(u)&&Ga.isPlainObject(f)?Ga.merge(u,f):Ga.isPlainObject(f)?Ga.merge({},f):Ga.isArray(f)?f.slice():f}function a(u){if(Ga.isUndefined(r[u])){if(!Ga.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Ga.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Ga.isUndefined(r[u])){if(!Ga.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Ga.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);Ga.isUndefined(p)&&h!==c||(n[f]=p)}),n},HE,VM;function wG(){return VM||(VM=1,HE={version:"0.24.0"}),HE}var zde=wG().version,XP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){XP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var HM={};XP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+zde+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!HM[o]&&(HM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Wde(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var Yde={assertOptions:Wde,validators:XP},EG=Qa,qde=mG,XM=Rde,zM=Xde,r1=bG,SG=Yde,zf=SG.validators;function ng(t){this.defaults=t,this.interceptors={request:new XM,response:new XM}}ng.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=r1(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&SG.assertOptions(r,{silentJSONParsing:zf.transitional(zf.boolean),forcedJSONParsing:zf.transitional(zf.boolean),clarifyTimeoutError:zf.transitional(zf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[zM,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=zM(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};ng.prototype.getUri=function(e){return e=r1(this.defaults,e),qde(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};EG.forEach(["delete","get","head","options"],function(e){ng.prototype[e]=function(r,n){return this.request(r1(n||{},{method:e,url:r,data:(n||{}).data}))}});EG.forEach(["post","put","patch"],function(e){ng.prototype[e]=function(r,n,i){return this.request(r1(i||{},{method:e,url:r,data:n}))}});var Kde=ng,XE,WM;function Zde(){if(WM)return XE;WM=1;var t=e1();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},XE=e,XE}var zE,YM;function Jde(){return YM||(YM=1,zE=function(e){return function(n){return e.apply(null,n)}}),zE}var WE,qM;function Qde(){return qM||(qM=1,WE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),WE}var KM=Qa,e0e=pG,B_=Kde,t0e=bG,r0e=t1();function CG(t){var e=new B_(t),r=e0e(B_.prototype.request,e);return KM.extend(r,B_.prototype,e),KM.extend(r,e),r.create=function(i){return CG(t0e(t,i))},r}var Ds=CG(r0e);Ds.Axios=B_;Ds.Cancel=e1();Ds.CancelToken=Zde();Ds.isCancel=xG();Ds.VERSION=wG().version;Ds.all=function(e){return Promise.all(e)};Ds.spread=Jde();Ds.isAxiosError=Qde();GP.exports=Ds;GP.exports.default=Ds;var n0e=GP.exports,i0e=n0e;const a0e=i0e;class o0e{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&a0e.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var s0e=o0e;const l0e=Xi(s0e),Je=new l0e,u0e={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},c0e={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},f0e={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:"",collection:"",collected:"",continue:"",backToLevel:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},h0e={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},d0e={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},p0e={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Md=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Md||{});const ZM={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},v0e={en:{translation:u0e},zhCn:{translation:f0e},jp:{translation:c0e},fr:{translation:h0e},de:{translation:d0e},zhTw:{translation:p0e}},g0e=0;var AG=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(AG||{}),gu=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(gu||{}),Gc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Gc||{}),zP=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(zP||{}),Ts=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Ts||{}),TG=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(TG||{});const IG={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:AG.normal,textSize:gu.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Gc.song,textboxOpacity:75,language:Md.zhCn,voiceInterruption:zP.yes,fullScreen:Ts.off,uiLight:100,videoSize:TG.Size720P},NA={optionData:IG,globalGameVar:{},appreciationData:{bgm:[],cg:[]},token:""},RG=eg({name:"userData",initialState:vn(NA),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,IG)},resetAllData(t){Object.assign(t,vn(NA))},setToken(t,e){t.token=e.payload}}}),{setUserData:dHe,resetUserData:WP,setOptionData:$o,setGlobalVar:m0e,setSlPage:Gy,unlockCgInUserData:PG,unlockBgmInUserData:OG,resetOptionSet:pHe,resetAllData:vHe,setToken:_0e}=RG.actions,y0e=RG.reducer,kG={backlog_size:200,fast_timeout:50},x0e={textInitialDelay:80};class b0e{constructor(e){ct(this,"isSaveBacklogNext",!1);ct(this,"backlog",[]);ct(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=fe.getState().stage,r=vn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:vn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>kG.backlog_size;)this.getBacklog().shift()}}var zt=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font",t))(zt||{});const Wt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;case 8:r=`./game/image/${t}`;break;case 9:r=`./game/font/${t}`;break;default:r="";break}return r}},w0e=(t,e)=>{(!Y.sceneManager.sceneAssetsList[e]||!Object.values(Y.sceneManager.sceneAssetsList[e]).length)&&(Y.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=Y.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(B0(e),Je.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",B0(e),Y.videoManager.preloadVideo(r.url)):(n[r.url]="loading",E0e(r.url,3,1e3,()=>{n[r.url]="success",B0(e)},()=>{n[r.url]="error",B0(e);const i=Y.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&Y.sceneManager.settledAssets.splice(i,1)}),Y.sceneManager.settledAssets.push(r.url)))}t.length===0&&B0(e)},B0=t=>{const e=Y.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");Y.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},E0e=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],p=["mp4","webm","ogg","flv"],d=["wav","mp3","ogg"];return h.includes(f)?u.blob():d.includes(f)||p.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var st;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage"})(st||(st={}));st.intro,st.changeBg,st.changeFigure,st.miniAvatar,st.changeScene,st.choose,st.end,st.bgm,st.video,st.setComplexAnimation,st.setFilter,st.pixiInit,st.pixi,st.label,st.jumpLabel,st.setVar,st.callScene,st.showVars,st.unlockCg,st.unlockBgm,st.say,st.filmMode,st.callScene,st.setTextbox,st.setAnimation,st.playEffect,st.applyStyle,st.unlockAchieve,st.unlockStoryline,st.showValue,st.payProduct,st.finishTrial,st.moveCamera,st.changeAffinity,st.unlockAffinity,st.popUpImage;st.bgm,st.pixi,st.pixiInit,st.label,st.if,st.miniAvatar,st.setVar,st.unlockBgm,st.unlockCg,st.filmMode,st.playEffect,st.showValue;var Zn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font"})(Zn||(Zn={}));function FG(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Zn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function S0e(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of FG(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function C0e(t){return t.replaceAll("\r","").split(`
`).map(r=>S0e(r)).filter(r=>r.command!=="")}const JM=(t,e,r)=>{let n={type:st.say,additionalArgs:[]};const i=A0e(t,e,r);return n.type=i,i===st.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=T0e(n,i,e),n};function A0e(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??st.say}function T0e(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const I0e=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case st.playEffect:return r(t,Zn.vocal);case st.changeBg:return r(t,Zn.background);case st.changeFigure:return r(t,Zn.figure);case st.bgm:return r(t,Zn.bgm);case st.callScene:return r(t,Zn.scene);case st.changeScene:return r(t,Zn.scene);case st.miniAvatar:return r(t,Zn.figure);case st.video:return r(t,Zn.video);case st.choose:return R0e(t,r);case st.unlockBgm:return r(t,Zn.bgm);case st.unlockCg:return r(t,Zn.background);default:return t}};function R0e(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Zn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const P0e=(t,e,r)=>{const n=[];return t===st.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Zn.vocal})}),e==="none"||e===""||(t===st.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Zn.background}),t===st.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Zn.figure}),t===st.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Zn.figure}),t===st.video&&n.push({name:e,url:e,lineNumber:0,type:Zn.video}),t===st.bgm&&n.push({name:e,url:e,lineNumber:0,type:Zn.bgm})),n},O0e=(t,e)=>{const r=[];return(t===st.changeScene||t===st.callScene)&&r.push(e),(t===st.choose||t===st.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},k0e=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:st.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=JM(u,r,n),i=l.type;for(const d of l.additionalArgs)i===st.say&&d.key==="speaker"||s.push(d)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=JM(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(f);if(p){const d=f.substring(p.index,t.length);f=f.substring(0,p.index);for(const v of FG(d,e))s.push(v)}return a=I0e(f,i,e),c=P0e(i,a,s),o=O0e(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F0e=typeof Rm=="object"&&Rm&&Rm.Object===Object&&Rm,N0e=F0e,L0e=N0e,M0e=typeof self=="object"&&self&&self.Object===Object&&self,B0e=L0e||M0e||Function("return this")(),n1=B0e,D0e=n1,U0e=D0e.Symbol,NG=U0e,QM=NG,LG=Object.prototype,j0e=LG.hasOwnProperty,$0e=LG.toString,D0=QM?QM.toStringTag:void 0;function G0e(t){var e=j0e.call(t,D0),r=t[D0];try{t[D0]=void 0;var n=!0}catch{}var i=$0e.call(t);return n&&(e?t[D0]=r:delete t[D0]),i}var V0e=G0e,H0e=Object.prototype,X0e=H0e.toString;function z0e(t){return X0e.call(t)}var W0e=z0e,eB=NG,Y0e=V0e,q0e=W0e,K0e="[object Null]",Z0e="[object Undefined]",tB=eB?eB.toStringTag:void 0;function J0e(t){return t==null?t===void 0?Z0e:K0e:tB&&tB in Object(t)?Y0e(t):q0e(t)}var Q0e=J0e;function epe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var MG=epe,tpe=Q0e,rpe=MG,npe="[object AsyncFunction]",ipe="[object Function]",ape="[object GeneratorFunction]",ope="[object Proxy]";function spe(t){if(!rpe(t))return!1;var e=tpe(t);return e==ipe||e==ape||e==npe||e==ope}var lpe=spe,upe=n1,cpe=upe["__core-js_shared__"],fpe=cpe,YE=fpe,rB=function(){var t=/[^.]+$/.exec(YE&&YE.keys&&YE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hpe(t){return!!rB&&rB in t}var dpe=hpe,ppe=Function.prototype,vpe=ppe.toString;function gpe(t){if(t!=null){try{return vpe.call(t)}catch{}try{return t+""}catch{}}return""}var mpe=gpe,_pe=lpe,ype=dpe,xpe=MG,bpe=mpe,wpe=/[\\^$.*+?()[\]{}|]/g,Epe=/^\[object .+?Constructor\]$/,Spe=Function.prototype,Cpe=Object.prototype,Ape=Spe.toString,Tpe=Cpe.hasOwnProperty,Ipe=RegExp("^"+Ape.call(Tpe).replace(wpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rpe(t){if(!xpe(t)||ype(t))return!1;var e=_pe(t)?Ipe:Epe;return e.test(bpe(t))}var Ppe=Rpe;function Ope(t,e){return t==null?void 0:t[e]}var kpe=Ope,Fpe=Ppe,Npe=kpe;function Lpe(t,e){var r=Npe(t,e);return Fpe(r)?r:void 0}var YP=Lpe,Mpe=YP,Bpe=Mpe(Object,"create"),i1=Bpe,nB=i1;function Dpe(){this.__data__=nB?nB(null):{},this.size=0}var Upe=Dpe;function jpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $pe=jpe,Gpe=i1,Vpe="__lodash_hash_undefined__",Hpe=Object.prototype,Xpe=Hpe.hasOwnProperty;function zpe(t){var e=this.__data__;if(Gpe){var r=e[t];return r===Vpe?void 0:r}return Xpe.call(e,t)?e[t]:void 0}var Wpe=zpe,Ype=i1,qpe=Object.prototype,Kpe=qpe.hasOwnProperty;function Zpe(t){var e=this.__data__;return Ype?e[t]!==void 0:Kpe.call(e,t)}var Jpe=Zpe,Qpe=i1,eve="__lodash_hash_undefined__";function tve(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qpe&&e===void 0?eve:e,this}var rve=tve,nve=Upe,ive=$pe,ave=Wpe,ove=Jpe,sve=rve;function Bd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bd.prototype.clear=nve;Bd.prototype.delete=ive;Bd.prototype.get=ave;Bd.prototype.has=ove;Bd.prototype.set=sve;var lve=Bd;function uve(){this.__data__=[],this.size=0}var cve=uve;function fve(t,e){return t===e||t!==t&&e!==e}var hve=fve,dve=hve;function pve(t,e){for(var r=t.length;r--;)if(dve(t[r][0],e))return r;return-1}var a1=pve,vve=a1,gve=Array.prototype,mve=gve.splice;function _ve(t){var e=this.__data__,r=vve(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mve.call(e,r,1),--this.size,!0}var yve=_ve,xve=a1;function bve(t){var e=this.__data__,r=xve(e,t);return r<0?void 0:e[r][1]}var wve=bve,Eve=a1;function Sve(t){return Eve(this.__data__,t)>-1}var Cve=Sve,Ave=a1;function Tve(t,e){var r=this.__data__,n=Ave(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Ive=Tve,Rve=cve,Pve=yve,Ove=wve,kve=Cve,Fve=Ive;function Dd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dd.prototype.clear=Rve;Dd.prototype.delete=Pve;Dd.prototype.get=Ove;Dd.prototype.has=kve;Dd.prototype.set=Fve;var Nve=Dd,Lve=YP,Mve=n1,Bve=Lve(Mve,"Map"),Dve=Bve,iB=lve,Uve=Nve,jve=Dve;function $ve(){this.size=0,this.__data__={hash:new iB,map:new(jve||Uve),string:new iB}}var Gve=$ve;function Vve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Hve=Vve,Xve=Hve;function zve(t,e){var r=t.__data__;return Xve(e)?r[typeof e=="string"?"string":"hash"]:r.map}var o1=zve,Wve=o1;function Yve(t){var e=Wve(this,t).delete(t);return this.size-=e?1:0,e}var qve=Yve,Kve=o1;function Zve(t){return Kve(this,t).get(t)}var Jve=Zve,Qve=o1;function ege(t){return Qve(this,t).has(t)}var tge=ege,rge=o1;function nge(t,e){var r=rge(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ige=nge,age=Gve,oge=qve,sge=Jve,lge=tge,uge=ige;function Ud(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ud.prototype.clear=age;Ud.prototype.delete=oge;Ud.prototype.get=sge;Ud.prototype.has=lge;Ud.prototype.set=uge;var cge=Ud,fge="__lodash_hash_undefined__";function hge(t){return this.__data__.set(t,fge),this}var dge=hge;function pge(t){return this.__data__.has(t)}var vge=pge,gge=cge,mge=dge,_ge=vge;function Vy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new gge;++e<r;)this.add(t[e])}Vy.prototype.add=Vy.prototype.push=mge;Vy.prototype.has=_ge;var yge=Vy;function xge(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var bge=xge;function wge(t){return t!==t}var Ege=wge;function Sge(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Cge=Sge,Age=bge,Tge=Ege,Ige=Cge;function Rge(t,e,r){return e===e?Ige(t,e,r):Age(t,Tge,r)}var Pge=Rge,Oge=Pge;function kge(t,e){var r=t==null?0:t.length;return!!r&&Oge(t,e,0)>-1}var Fge=kge;function Nge(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Lge=Nge;function Mge(t,e){return t.has(e)}var Bge=Mge,Dge=YP,Uge=n1,jge=Dge(Uge,"Set"),$ge=jge;function Gge(){}var Vge=Gge;function Hge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var BG=Hge,qE=$ge,Xge=Vge,zge=BG,Wge=1/0,Yge=qE&&1/zge(new qE([,-0]))[1]==Wge?function(t){return new qE(t)}:Xge,qge=Yge,Kge=yge,Zge=Fge,Jge=Lge,Qge=Bge,eme=qge,tme=BG,rme=200;function nme(t,e,r){var n=-1,i=Zge,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Jge;else if(a>=rme){var l=e?null:eme(t);if(l)return tme(l);o=!1,i=Qge,c=new Kge}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var ime=nme,ame=ime;function ome(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ame(t,void 0,e):[]}var sme=ome;const lme=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(p=>{const d=k0e(p,i,a,o);return l=[...l,...d.sentenceAssets],u=[...u,...d.subScene],d});l=sme(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(p=>h.includes(p.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function ume(t){const[e,r]=cme(t);return{classNameStyles:e,others:r}}function cme(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class fme{constructor(e,r,n,i){ct(this,"assetsPrefetcher");ct(this,"assetSetter");ct(this,"ADD_NEXT_ARG_LIST");ct(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return lme(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return C0e(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return ume(e)}}function qt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const hme=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=qt(t,"enter"),a=qt(t,"volume");return r!==""&&fe.dispatch(OG({name:r,url:e,series:n})),ak(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function DG(t,e){return function(){return t.apply(e,arguments)}}const{toString:dme}=Object.prototype,{getPrototypeOf:qP}=Object,s1=(t=>e=>{const r=dme.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ts=t=>(t=t.toLowerCase(),e=>s1(e)===t),l1=t=>e=>typeof e===t,{isArray:jd}=Array,sv=l1("undefined");function pme(t){return t!==null&&!sv(t)&&t.constructor!==null&&!sv(t.constructor)&&Ya(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UG=ts("ArrayBuffer");function vme(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UG(t.buffer),e}const gme=l1("string"),Ya=l1("function"),jG=l1("number"),u1=t=>t!==null&&typeof t=="object",mme=t=>t===!0||t===!1,D_=t=>{if(s1(t)!=="object")return!1;const e=qP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_me=ts("Date"),yme=ts("File"),xme=ts("Blob"),bme=ts("FileList"),wme=t=>u1(t)&&Ya(t.pipe),Eme=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ya(t.append)&&((e=s1(t))==="formdata"||e==="object"&&Ya(t.toString)&&t.toString()==="[object FormData]"))},Sme=ts("URLSearchParams"),[Cme,Ame,Tme,Ime]=["ReadableStream","Request","Response","Headers"].map(ts),Rme=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ig(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),jd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function $G(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Oc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),GG=t=>!sv(t)&&t!==Oc;function LA(){const{caseless:t}=GG(this)&&this||{},e={},r=(n,i)=>{const a=t&&$G(e,i)||i;D_(e[a])&&D_(n)?e[a]=LA(e[a],n):D_(n)?e[a]=LA({},n):jd(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ig(arguments[n],r);return e}const Pme=(t,e,r,{allOwnKeys:n}={})=>(ig(e,(i,a)=>{r&&Ya(i)?t[a]=DG(i,r):t[a]=i},{allOwnKeys:n}),t),Ome=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kme=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Fme=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&qP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Nme=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Lme=t=>{if(!t)return null;if(jd(t))return t;let e=t.length;if(!jG(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Mme=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qP(Uint8Array)),Bme=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Dme=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Ume=ts("HTMLFormElement"),jme=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),aB=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$me=ts("RegExp"),VG=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ig(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},Gme=t=>{VG(t,(e,r)=>{if(Ya(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ya(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vme=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return jd(t)?n(t):n(String(t).split(e)),r},Hme=()=>{},Xme=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,KE="abcdefghijklmnopqrstuvwxyz",oB="0123456789",HG={DIGIT:oB,ALPHA:KE,ALPHA_DIGIT:KE+KE.toUpperCase()+oB},zme=(t=16,e=HG.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Wme(t){return!!(t&&Ya(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Yme=t=>{const e=new Array(10),r=(n,i)=>{if(u1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=jd(n)?[]:{};return ig(n,(o,s)=>{const c=r(o,i+1);!sv(c)&&(a[s]=c)}),e[i]=void 0,a}}return n};return r(t,0)},qme=ts("AsyncFunction"),Kme=t=>t&&(u1(t)||Ya(t))&&Ya(t.then)&&Ya(t.catch),XG=((t,e)=>t?setImmediate:e?((r,n)=>(Oc.addEventListener("message",({source:i,data:a})=>{i===Oc&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Oc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ya(Oc.postMessage)),Zme=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||XG,Le={isArray:jd,isArrayBuffer:UG,isBuffer:pme,isFormData:Eme,isArrayBufferView:vme,isString:gme,isNumber:jG,isBoolean:mme,isObject:u1,isPlainObject:D_,isReadableStream:Cme,isRequest:Ame,isResponse:Tme,isHeaders:Ime,isUndefined:sv,isDate:_me,isFile:yme,isBlob:xme,isRegExp:$me,isFunction:Ya,isStream:wme,isURLSearchParams:Sme,isTypedArray:Mme,isFileList:bme,forEach:ig,merge:LA,extend:Pme,trim:Rme,stripBOM:Ome,inherits:kme,toFlatObject:Fme,kindOf:s1,kindOfTest:ts,endsWith:Nme,toArray:Lme,forEachEntry:Bme,matchAll:Dme,isHTMLForm:Ume,hasOwnProperty:aB,hasOwnProp:aB,reduceDescriptors:VG,freezeMethods:Gme,toObjectSet:Vme,toCamelCase:jme,noop:Hme,toFiniteNumber:Xme,findKey:$G,global:Oc,isContextDefined:GG,ALPHABET:HG,generateString:zme,isSpecCompliantForm:Wme,toJSONObject:Yme,isAsyncFn:qme,isThenable:Kme,setImmediate:XG,asap:Zme};function Yt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Le.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zG=Yt.prototype,WG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WG[t]={value:t}});Object.defineProperties(Yt,WG);Object.defineProperty(zG,"isAxiosError",{value:!0});Yt.from=(t,e,r,n,i,a)=>{const o=Object.create(zG);return Le.toFlatObject(t,o,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),Yt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const Jme=null;function MA(t){return Le.isPlainObject(t)||Le.isArray(t)}function YG(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function sB(t,e,r){return t?t.concat(e).map(function(i,a){return i=YG(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function Qme(t){return Le.isArray(t)&&!t.some(MA)}const e_e=Le.toFlatObject(Le,{},null,function(e){return/^is[A-Z]/.test(e)});function c1(t,e,r){if(!Le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!Le.isUndefined(m[v])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(e);if(!Le.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Le.isDate(d))return d.toISOString();if(!c&&Le.isBlob(d))throw new Yt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(d)||Le.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,v,m){let g=d;if(d&&!m&&typeof d=="object"){if(Le.endsWith(v,"{}"))v=n?v:v.slice(0,-2),d=JSON.stringify(d);else if(Le.isArray(d)&&Qme(d)||(Le.isFileList(d)||Le.endsWith(v,"[]"))&&(g=Le.toArray(d)))return v=YG(v),g.forEach(function(y,w){!(Le.isUndefined(y)||y===null)&&e.append(o===!0?sB([v],w,a):o===null?v:v+"[]",l(y))}),!1}return MA(d)?!0:(e.append(sB(m,v,a),l(d)),!1)}const f=[],h=Object.assign(e_e,{defaultVisitor:u,convertValue:l,isVisitable:MA});function p(d,v){if(!Le.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(d),Le.forEach(d,function(g,_){(!(Le.isUndefined(g)||g===null)&&i.call(e,g,Le.isString(_)?_.trim():_,v,h))===!0&&p(g,v?v.concat(_):[_])}),f.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),e}function lB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function KP(t,e){this._pairs=[],t&&c1(t,this,e)}const qG=KP.prototype;qG.append=function(e,r){this._pairs.push([e,r])};qG.toString=function(e){const r=e?function(n){return e.call(this,n,lB)}:lB;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function t_e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KG(t,e,r){if(!e)return t;const n=r&&r.encode||t_e,i=r&&r.serialize;let a;if(i?a=i(e,r):a=Le.isURLSearchParams(e)?e.toString():new KP(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class r_e{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,function(n){n!==null&&e(n)})}}const uB=r_e,ZG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},n_e=typeof URLSearchParams<"u"?URLSearchParams:KP,i_e=typeof FormData<"u"?FormData:null,a_e=typeof Blob<"u"?Blob:null,o_e={isBrowser:!0,classes:{URLSearchParams:n_e,FormData:i_e,Blob:a_e},protocols:["http","https","file","blob","url","data"]},ZP=typeof window<"u"&&typeof document<"u",s_e=(t=>ZP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),l_e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),u_e=ZP&&window.location.href||"http://localhost",c_e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZP,hasStandardBrowserEnv:s_e,hasStandardBrowserWebWorkerEnv:l_e,origin:u_e},Symbol.toStringTag,{value:"Module"})),Yo={...c_e,...o_e};function f_e(t,e){return c1(t,new Yo.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Yo.isNode&&Le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function h_e(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function d_e(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function JG(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=a>=r.length;return o=!o&&Le.isArray(i)?i.length:o,c?(Le.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Le.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Le.isArray(i[o])&&(i[o]=d_e(i[o])),!s)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const r={};return Le.forEachEntry(t,(n,i)=>{e(h_e(n),i,r,0)}),r}return null}function p_e(t,e,r){if(Le.isString(t))try{return(e||JSON.parse)(t),Le.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const JP={transitional:ZG,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Le.isObject(e);if(a&&Le.isHTMLForm(e)&&(e=new FormData(e)),Le.isFormData(e))return i?JSON.stringify(JG(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return f_e(e,this.formSerializer).toString();if((s=Le.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return c1(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),p_e(e)):e}],transformResponse:[function(e){const r=this.transitional||JP.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?Yt.from(s,Yt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yo.classes.FormData,Blob:Yo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{JP.headers[t]={}});const QP=JP,v_e=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g_e=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&v_e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},cB=Symbol("internals");function U0(t){return t&&String(t).trim().toLowerCase()}function U_(t){return t===!1||t==null?t:Le.isArray(t)?t.map(U_):String(t)}function m_e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const __e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ZE(t,e,r,n,i){if(Le.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Le.isString(e)){if(Le.isString(n))return e.indexOf(n)!==-1;if(Le.isRegExp(n))return n.test(e)}}function y_e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function x_e(t,e){const r=Le.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class f1{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,c,l){const u=U0(c);if(!u)throw new Error("header name must be a non-empty string");const f=Le.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=U_(s))}const o=(s,c)=>Le.forEach(s,(l,u)=>a(l,u,c));if(Le.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Le.isString(e)&&(e=e.trim())&&!__e(e))o(g_e(e),r);else if(Le.isHeaders(e))for(const[s,c]of e.entries())a(c,s,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=U0(e),e){const n=Le.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return m_e(i);if(Le.isFunction(r))return r.call(this,i,n);if(Le.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=U0(e),e){const n=Le.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ZE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=U0(o),o){const s=Le.findKey(n,o);s&&(!r||ZE(n,n[s],s,r))&&(delete n[s],i=!0)}}return Le.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||ZE(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Le.forEach(this,(i,a)=>{const o=Le.findKey(n,a);if(o){r[o]=U_(i),delete r[a];return}const s=e?y_e(a):String(a).trim();s!==a&&delete r[a],r[s]=U_(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Le.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[cB]=this[cB]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=U0(o);n[s]||(x_e(i,o),n[s]=!0)}return Le.isArray(e)?e.forEach(a):a(e),this}}f1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(f1.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Le.freezeMethods(f1);const qo=f1;function JE(t,e){const r=this||QP,n=e||r,i=qo.from(n.headers);let a=n.data;return Le.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function QG(t){return!!(t&&t.__CANCEL__)}function $d(t,e,r){Yt.call(this,t??"canceled",Yt.ERR_CANCELED,e,r),this.name="CanceledError"}Le.inherits($d,Yt,{__CANCEL__:!0});function e7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Yt("Request failed with status code "+r.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function b_e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function w_e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[a];o||(o=l),r[i]=c,n[i]=l;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-o<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function E_e(t,e){let r=0,n=1e3/e,i,a;const o=(l,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(i=l,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const Hy=(t,e,r=3)=>{let n=0;const i=w_e(50,250);return E_e(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,c=o-n,l=i(c),u=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},r)},fB=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},hB=t=>(...e)=>Le.asap(()=>t(...e)),S_e=Yo.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=Le.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),C_e=Yo.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];Le.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Le.isString(n)&&o.push("path="+n),Le.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function T_e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function t7(t,e){return t&&!A_e(e)?T_e(t,e):e}const dB=t=>t instanceof qo?{...t}:t;function nf(t,e){e=e||{};const r={};function n(l,u,f){return Le.isPlainObject(l)&&Le.isPlainObject(u)?Le.merge.call({caseless:f},l,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function i(l,u,f){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function a(l,u){if(!Le.isUndefined(u))return n(void 0,u)}function o(l,u){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function s(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,u)=>i(dB(l),dB(u),!0)};return Le.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||i,h=f(t[u],e[u],u);Le.isUndefined(h)&&f!==s||(r[u]=h)}),r}const r7=t=>{const e=nf({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=qo.from(o),e.url=KG(t7(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(Le.isFormData(r)){if(Yo.hasStandardBrowserEnv||Yo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Yo.hasStandardBrowserEnv&&(n&&Le.isFunction(n)&&(n=n(e)),n||n!==!1&&S_e(e.url))){const l=i&&a&&C_e.read(a);l&&o.set(i,l)}return e},I_e=typeof XMLHttpRequest<"u",R_e=I_e&&function(t){return new Promise(function(r,n){const i=r7(t);let a=i.data;const o=qo.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:l}=i,u,f,h,p,d;function v(){p&&p(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function g(){if(!m)return;const y=qo.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};e7(function(C){r(C),v()},function(C){n(C),v()},b),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(n(new Yt("Request aborted",Yt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new Yt("Network Error",Yt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||ZG;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Yt(w,b.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,t,m)),m=null},a===void 0&&o.setContentType(null),"setRequestHeader"in m&&Le.forEach(o.toJSON(),function(w,b){m.setRequestHeader(b,w)}),Le.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),s&&s!=="json"&&(m.responseType=i.responseType),l&&([h,d]=Hy(l,!0),m.addEventListener("progress",h)),c&&m.upload&&([f,p]=Hy(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=y=>{m&&(n(!y||y.type?new $d(null,t,m):y),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=b_e(i.url);if(_&&Yo.protocols.indexOf(_)===-1){n(new Yt("Unsupported protocol "+_+":",Yt.ERR_BAD_REQUEST,t));return}m.send(a||null)})},P_e=(t,e)=>{let r=new AbortController,n;const i=function(c){if(!n){n=!0,o();const l=c instanceof Error?c:this.reason;r.abort(l instanceof Yt?l:new $d(l instanceof Error?l.message:l))}};let a=e&&setTimeout(()=>{i(new Yt(`timeout ${e} of ms exceeded`,Yt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=o,[s,()=>{a&&clearTimeout(a),a=null}]},O_e=P_e,k_e=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},F_e=async function*(t,e,r){for await(const n of t)yield*k_e(ArrayBuffer.isView(n)?n:await r(String(n)),e)},pB=(t,e,r,n,i)=>{const a=F_e(t,e,i);let o=0,s,c=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await a.next();if(u){c(),l.close();return}let h=f.byteLength;if(r){let p=o+=h;r(p)}l.enqueue(new Uint8Array(f))}catch(u){throw c(u),u}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},h1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",n7=h1&&typeof ReadableStream=="function",BA=h1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),i7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},N_e=n7&&i7(()=>{let t=!1;const e=new Request(Yo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),vB=64*1024,DA=n7&&i7(()=>Le.isReadableStream(new Response("").body)),Xy={stream:DA&&(t=>t.body)};h1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xy[e]&&(Xy[e]=Le.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Yt(`Response type '${e}' is not supported`,Yt.ERR_NOT_SUPPORT,n)})})})(new Response);const L_e=async t=>{if(t==null)return 0;if(Le.isBlob(t))return t.size;if(Le.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Le.isArrayBufferView(t)||Le.isArrayBuffer(t))return t.byteLength;if(Le.isURLSearchParams(t)&&(t=t+""),Le.isString(t))return(await BA(t)).byteLength},M_e=async(t,e)=>{const r=Le.toFiniteNumber(t.getContentLength());return r??L_e(e)},B_e=h1&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=r7(t);l=l?(l+"").toLowerCase():"text";let[p,d]=i||a||o?O_e([i,a],o):[],v,m;const g=()=>{!v&&setTimeout(()=>{p&&p.unsubscribe()}),v=!0};let _;try{if(c&&N_e&&r!=="get"&&r!=="head"&&(_=await M_e(u,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(Le.isFormData(n)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[A,T]=fB(_,Hy(hB(c)));n=pB(E.body,vB,A,T,BA)}}Le.isString(f)||(f=f?"include":"omit"),m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f});let y=await fetch(m);const w=DA&&(l==="stream"||l==="response");if(DA&&(s||w)){const E={};["status","statusText","headers"].forEach(R=>{E[R]=y[R]});const C=Le.toFiniteNumber(y.headers.get("content-length")),[A,T]=s&&fB(C,Hy(hB(s),!0))||[];y=new Response(pB(y.body,vB,A,()=>{T&&T(),w&&g()},BA),E)}l=l||"text";let b=await Xy[Le.findKey(Xy,l)||"text"](y,t);return!w&&g(),d&&d(),await new Promise((E,C)=>{e7(E,C,{data:b,headers:qo.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:m})})}catch(y){throw g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,t,m),{cause:y.cause||y}):Yt.from(y,y&&y.code,t,m)}}),UA={http:Jme,xhr:R_e,fetch:B_e};Le.forEach(UA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gB=t=>`- ${t}`,D_e=t=>Le.isFunction(t)||t===null||t===!1,a7={getAdapter:t=>{t=Le.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!D_e(r)&&(n=UA[(o=String(r)).toLowerCase()],n===void 0))throw new Yt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(gB).join(`
`):" "+gB(a[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:UA};function QE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $d(null,t)}function mB(t){return QE(t),t.headers=qo.from(t.headers),t.data=JE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),a7.getAdapter(t.adapter||QP.adapter)(t).then(function(n){return QE(t),n.data=JE.call(t,t.transformResponse,n),n.headers=qo.from(n.headers),n},function(n){return QG(n)||(QE(t),n&&n.response&&(n.response.data=JE.call(t,t.transformResponse,n.response),n.response.headers=qo.from(n.response.headers))),Promise.reject(n)})}const o7="1.7.3",eO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{eO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const _B={};eO.transitional=function(e,r,n){function i(a,o){return"[Axios v"+o7+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new Yt(i(o," has been removed"+(r?" in "+r:"")),Yt.ERR_DEPRECATED);return r&&!_B[o]&&(_B[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function U_e(t,e,r){if(typeof t!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Yt("option "+a+" must be "+c,Yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Yt("Unknown option "+a,Yt.ERR_BAD_OPTION)}}const jA={assertOptions:U_e,validators:eO},Ul=jA.validators;class zy{constructor(e){this.defaults=e,this.interceptors={request:new uB,response:new uB}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=nf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&jA.assertOptions(n,{silentJSONParsing:Ul.transitional(Ul.boolean),forcedJSONParsing:Ul.transitional(Ul.boolean),clarifyTimeoutError:Ul.transitional(Ul.boolean)},!1),i!=null&&(Le.isFunction(i)?r.paramsSerializer={serialize:i}:jA.assertOptions(i,{encode:Ul.function,serialize:Ul.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Le.merge(a.common,a[r.method]);a&&Le.forEach(["delete","get","head","post","put","patch","common"],d=>{delete a[d]}),r.headers=qo.concat(o,a);const s=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!c){const d=[mB.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),h=d.length,u=Promise.resolve(r);f<h;)u=u.then(d[f++],d[f++]);return u}h=s.length;let p=r;for(f=0;f<h;){const d=s[f++],v=s[f++];try{p=d(p)}catch(m){v.call(this,m);break}}try{u=mB.call(this,p)}catch(d){return Promise.reject(d)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=nf(this.defaults,e);const r=t7(e.baseURL,e.url);return KG(r,e.params,e.paramsSerializer)}}Le.forEach(["delete","get","head","options"],function(e){zy.prototype[e]=function(r,n){return this.request(nf(n||{},{method:e,url:r,data:(n||{}).data}))}});Le.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(nf(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}zy.prototype[e]=r(),zy.prototype[e+"Form"]=r(!0)});const j_=zy;class tO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new $d(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new tO(function(i){e=i}),cancel:e}}}const j_e=tO;function $_e(t){return function(r){return t.apply(null,r)}}function G_e(t){return Le.isObject(t)&&t.isAxiosError===!0}const $A={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($A).forEach(([t,e])=>{$A[e]=t});const V_e=$A;function s7(t){const e=new j_(t),r=DG(j_.prototype.request,e);return Le.extend(r,j_.prototype,e,{allOwnKeys:!0}),Le.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return s7(nf(t,i))},r}const ni=s7(QP);ni.Axios=j_;ni.CanceledError=$d;ni.CancelToken=j_e;ni.isCancel=QG;ni.VERSION=o7;ni.toFormData=c1;ni.AxiosError=Yt;ni.Cancel=ni.CanceledError;ni.all=function(e){return Promise.all(e)};ni.spread=$_e;ni.isAxiosError=G_e;ni.mergeConfig=nf;ni.AxiosHeaders=qo;ni.formToJSON=t=>JG(Le.isHTMLForm(t)?new FormData(t):t);ni.getAdapter=a7.getAdapter;ni.HttpStatusCode=V_e;ni.default=ni;const sd=ni,Na=t=>new Promise(e=>{sd.get(t).then(r=>{const n=r.data.toString();e(n)})}),H_e={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},d1=t=>{var n;let e=H_e;e=(((n=PV[t.command])==null?void 0:n.scriptFunction)??dH.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>Y.gameplay.performController.arrangeNewPerform(i,t)):Y.gameplay.performController.arrangeNewPerform(e,t)},X_e=t=>{Na(t.sceneUrl).then(async e=>{await Y.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(Y.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Je.debug("",Y.sceneManager.sceneData.currentScene),Wn())})};var rO={},lv={document:{}},l7=Object.prototype.hasOwnProperty,u7=function(t){return p1(t)?t.toLowerCase():t},Rp=Array.isArray,z_e=function(t){return p1(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(u7=z_e);var W_e,nO=Object.prototype.toString,c7=Object.getPrototypeOf,eS=v7("ng");lv.angular||(lv.angular={});lv.document.documentMode;function Y_e(t){if(t==null||oO(t))return!1;if(Rp(t)||p1(t)||W_e)return!0;var e="length"in Object(t)&&t.length;return aO(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function xn(t,e,r){var n,i;if(t)if(d7(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Rp(t)||Y_e(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==xn)t.forEach(e,r,t);else if(h7(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)l7.call(t,n)&&e.call(r,t[n],n,t);return t}function q_e(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function iO(){}iO.$inject=[];function K_e(t){return typeof t>"u"}function xh(t){return typeof t<"u"}function f7(t){return t!==null&&typeof t=="object"}function h7(t){return t!==null&&typeof t=="object"&&!c7(t)}function p1(t){return typeof t=="string"}function aO(t){return typeof t=="number"}function d7(t){return typeof t=="function"}function oO(t){return t&&t.window===t}function p7(t){return t&&t.$evalAsync&&t.$watch}var Z_e=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function J_e(t){return t&&aO(t.length)&&Z_e.test(nO.call(t))}function Q_e(t){return nO.call(t)==="[object ArrayBuffer]"}function eye(t,e){var r=[],n=[];if(e){if(J_e(e)||Q_e(e))throw eS("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw eS("cpi","Can't copy! Source and destination are identical.");return Rp(e)?e.length=0:xn(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(Rp(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(h7(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)l7.call(s,u)&&(c[u]=a(s[u]));return q_e(c,l),c}function a(s){if(!f7(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(oO(s)||p7(s))throw eS("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=Rp(s)?[]:Object.create(c7(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(nO.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(d7(s.cloneNode))return s.cloneNode(!0)}}function tye(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:oO(e)?r="$WINDOW":e&&lv.document===e?r="$DOCUMENT":p7(e)&&(r="$SCOPE"),r}function rye(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}rye(lv.document);function nye(){return Object.create(null)}function iye(t){var e=[];return JSON.stringify(t,function(r,n){if(n=tye(r,n),f7(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):K_e(t)?"undefined":typeof t!="string"?iye(t):t}function v7(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?yB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(yB(n[c]));return new e(a)}}var bh=v7("$parse");({}).constructor.prototype.valueOf;function g7(t){return t+""}var $_=nye();xn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){$_[t]=!0});var aye={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},GA=function(e){this.options=e};GA.prototype={constructor:GA,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=$_[e],a=$_[r],o=$_[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=xh(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw bh("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=u7(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=aye[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Ye=function(e,r){this.lexer=e,this.options=r};Ye.Program="Program";Ye.ExpressionStatement="ExpressionStatement";Ye.AssignmentExpression="AssignmentExpression";Ye.ConditionalExpression="ConditionalExpression";Ye.LogicalExpression="LogicalExpression";Ye.BinaryExpression="BinaryExpression";Ye.UnaryExpression="UnaryExpression";Ye.CallExpression="CallExpression";Ye.MemberExpression="MemberExpression";Ye.Identifier="Identifier";Ye.Literal="Literal";Ye.ArrayExpression="ArrayExpression";Ye.Property="Property";Ye.ObjectExpression="ObjectExpression";Ye.ThisExpression="ThisExpression";Ye.LocalsExpression="LocalsExpression";Ye.NGValueParameter="NGValueParameter";Ye.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Ye.Program,body:t}},expressionStatement:function(){return{type:Ye.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!y7(t))throw bh("lval","Trying to assign a value to a non l-value");t={type:Ye.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Ye.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Ye.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Ye.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Ye.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=eye(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Ye.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Ye.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Ye.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Ye.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Ye.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Ye.Identifier,name:t.text}},constant:function(){return{type:Ye.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ye.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Ye.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ye.ObjectExpression,properties:t}},throwError:function(t,e){throw bh("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw bh("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw bh("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Ye.ThisExpression},$locals:{type:Ye.LocalsExpression}}};function oye(t,e){return typeof t<"u"?t:e}function m7(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function sye(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function yi(t,e){var r,n,i;switch(t.type){case Ye.Program:r=!0,xn(t.body,function(a){yi(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Ye.Literal:t.constant=!0,t.toWatch=[];break;case Ye.UnaryExpression:yi(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Ye.BinaryExpression:yi(t.left,e),yi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Ye.LogicalExpression:yi(t.left,e),yi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Ye.ConditionalExpression:yi(t.test,e),yi(t.alternate,e),yi(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Ye.Identifier:t.constant=!1,t.toWatch=[t];break;case Ye.MemberExpression:yi(t.object,e),t.computed&&yi(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Ye.CallExpression:i=t.filter?sye(e,t.callee.name):!1,r=i,n=[],xn(t.arguments,function(a){yi(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Ye.AssignmentExpression:yi(t.left,e),yi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Ye.ArrayExpression:r=!0,n=[],xn(t.elements,function(a){yi(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ObjectExpression:r=!0,n=[],xn(t.properties,function(a){yi(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ThisExpression:t.constant=!1,t.toWatch=[];break;case Ye.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function _7(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function y7(t){return t.type===Ye.Identifier||t.type===Ye.MemberExpression}function x7(t){if(t.body.length===1&&y7(t.body[0].expression))return{type:Ye.AssignmentExpression,left:t.body[0].expression,right:{type:Ye.NGValueParameter},operator:"="}}function b7(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Ye.Literal||t.body[0].expression.type===Ye.ArrayExpression||t.body[0].expression.type===Ye.ObjectExpression)}function w7(t){return t.constant}function E7(t,e){this.astBuilder=t,this.$filter=e}E7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},yi(r,e.$filter);var n="",i;if(this.stage="assign",i=x7(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=_7(r.body);e.stage="inputs",xn(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,g7,oye,m7);return this.state=this.stage=void 0,c.ast=r,c.literal=b7(r),c.constant=w7(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return xn(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return xn(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||iO,!a&&xh(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Ye.Program:xn(t.body,function(p,d){c.recurse(p.expression,void 0,void 0,function(v){s=v}),d!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case Ye.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Ye.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Ye.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Ye.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case Ye.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case Ye.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case Ye.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var p=null,d=c.current().inAssignment;t.computed?(s=c.nextId(),d||c.state.computing==="assign"?p=c.unsafeComputedMember(o,s):p=c.computedMember(o,s)):(d||c.state.computing==="assign"?p=c.unsafeNonComputedMember(o,t.property.name):p=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Ye.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(p),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Ye.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case Ye.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],xn(t.arguments,function(p){var d=c.nextId();c.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(xn(t.arguments,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(v){l.push(v)})}),o.name){var p=c.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case Ye.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case Ye.ArrayExpression:l=[],xn(t.elements,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Ye.ObjectExpression:l=[],f=!1,xn(t.properties,function(p){p.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),xn(t.properties,function(p){p.computed?(o=c.nextId(),c.recurse(p.key,o)):o=p.key.type===Ye.Identifier?p.key.name:""+p.key.value,s=c.nextId(),c.recurse(p.value,s),c.assign(c.unsafeMember(e,o,p.computed),s)})):(xn(t.properties,function(p){c.recurse(p.value,t.constant?void 0:c.nextId(),void 0,function(d){l.push(c.escape(p.key.type===Ye.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Ye.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Ye.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Ye.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(p1(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(aO(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw bh("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function S7(t,e){this.astBuilder=t,this.$filter=e}S7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);yi(r,e.$filter);var n,i;(n=x7(r))&&(i=this.recurse(n));var a=_7(r.body),o;a&&(o=[],xn(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];xn(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?iO:r.body.length===1?s[0]:function(l,u){var f;return xn(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=b7(r),c.constant=w7(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Ye.Literal:return this.value(t.value,e);case Ye.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Ye.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Ye.Identifier:return a.identifier(t.name,e,r);case Ye.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Ye.CallExpression:return o=[],xn(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var p=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,c,l,u));h=f.value.apply(f.context,p)}return e?{value:h}:h};case Ye.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case Ye.ArrayExpression:return o=[],xn(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case Ye.ObjectExpression:return o=[],xn(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Ye.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case Ye.ThisExpression:return function(s){return e?{value:s}:s};case Ye.LocalsExpression:return function(s,c){return e?{value:c}:c};case Ye.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return xh(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return xh(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=m7(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(xh(s)?s:0)-(xh(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=g7(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var VA=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Ye(e,n),this.astCompiler=n.csp?new S7(this.ast,r):new E7(this.ast,r)};VA.prototype={constructor:VA,parse:function(t){return this.astCompiler.compile(t)}};rO.Lexer=GA;rO.Parser=VA;var C7=rO,lye={},uye=C7.Lexer,cye=C7.Parser;function sO(t,e){e=e||{};var r=e.filters||lye,n=e.filters?e.cache||{}:sO.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new uye(i),c=new cye(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}sO.cache=Object.create(null);var A7=sO;function fye(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const hye=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=fye(r,n));let o;if(e?o=m0e:o=hG,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();fe.dispatch(o({key:s,value:l})),fe.dispatch(Hf({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(p=>p.match(/[a-zA-Z]/)?lO(p).toString():p).reduce((p,d)=>p+d,"");let h=A7(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),fe.dispatch(o({key:s,value:h})),fe.dispatch(Hf({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(fe.dispatch(o({key:s,value:!0})),fe.dispatch(Hf({key:s,value:!0}))),c.match(/false/)&&(fe.dispatch(o({key:s,value:!1})),fe.dispatch(Hf({key:s,value:!1})))):isNaN(Number(c))?(fe.dispatch(o({key:s,value:i?a:c})),fe.dispatch(Hf({key:s,value:i?a:c}))):(fe.dispatch(o({key:s,value:i?a:Number(c)})),fe.dispatch(Hf({key:s,value:i?a:Number(c)})));e?(Je.debug("",{key:s,value:fe.getState().userData.globalGameVar[s]}),bH()):Je.debug("",{key:s,value:fe.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function lO(t){let e=0;return fe.getState().stage.GameVar.hasOwnProperty(t)?e=fe.getState().stage.GameVar[t]:fe.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=fe.getState().userData.globalGameVar[t]),e}function dye(t){return A7(t)()}const HA=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:lO(i).toString():i).reduce((i,a)=>i+a,"");return!!dye(n)}return!0},T7=()=>{if(Y.sceneManager.sceneData.currentScene.sceneName,Y.sceneManager.sceneData.currentSentenceId>Y.sceneManager.sceneData.currentScene.sentenceList.length-1){if(Y.sceneManager.sceneData.sceneStack.length!==0){const l=Y.sceneManager.sceneData.sceneStack.pop();l!==void 0&&X_e(l)}return}const t=Y.sceneManager.sceneData.currentScene.sentenceList[Y.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((p,d)=>{const v=u.indexOf(p,d?u.indexOf(h[d-1])+h[d-1].length:0);return v===0||u[v-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const p=lO(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,p?p.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=HA(a)),!n){Je.warn(""),Y.sceneManager.sceneData.currentSentenceId++,Wn();return}d1(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Bt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){Y.sceneManager.sceneData.currentSentenceId++,T7();return}setTimeout(()=>{c=fe.getState().stage,fe.getState().userData.globalGameVar,Je.debug("",Y.sceneManager.sceneData.currentSentenceId),s&&Y.backlogManager.saveCurrentStateToBacklog()},0),Y.sceneManager.sceneData.currentSentenceId++},Wn=()=>{if(Y.events.userInteractNext.emit(),fe.getState().GUI.showTitle)return;let e=!1;if(Y.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!Y.gameplay.isFast&&!Y.gameplay.isSyncingWithOrigine&&(e=!0)}),e){Je.warn("next ");return}let r=!0;if(Y.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=fe.getState().stage,a=vn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);fe.dispatch(Jx(a)),T7();return}Je.warn("");let n=!1;for(let i=0;i<Y.gameplay.performController.performList.length;i++){const a=Y.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),Y.gameplay.performController.performList.splice(i,1),i--))}n&&Wn()};var pye="__lodash_hash_undefined__";function vye(t){return this.__data__.set(t,pye),this}var gye=vye;function mye(t){return this.__data__.has(t)}var _ye=mye,yye=RP,xye=gye,bye=_ye;function Wy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new yye;++e<r;)this.add(t[e])}Wy.prototype.add=Wy.prototype.push=xye;Wy.prototype.has=bye;var I7=Wy;function wye(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Eye=wye;function Sye(t){return t!==t}var Cye=Sye;function Aye(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Tye=Aye,Iye=Eye,Rye=Cye,Pye=Tye;function Oye(t,e,r){return e===e?Pye(t,e,r):Iye(t,Rye,r)}var kye=Oye,Fye=kye;function Nye(t,e){var r=t==null?0:t.length;return!!r&&Fye(t,e,0)>-1}var Lye=Nye;function Mye(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Bye=Mye;function Dye(t,e){return t.has(e)}var R7=Dye;function Uye(){}var jye=Uye;function $ye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var uO=$ye,tS=aG,Gye=jye,Vye=uO,Hye=1/0,Xye=tS&&1/Vye(new tS([,-0]))[1]==Hye?function(t){return new tS(t)}:Gye,zye=Xye,Wye=I7,Yye=Lye,qye=Bye,Kye=R7,Zye=zye,Jye=uO,Qye=200;function exe(t,e,r){var n=-1,i=Yye,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=qye;else if(a>=Qye){var l=e?null:Zye(t);if(l)return Jye(l);o=!1,i=Kye,c=new Wye}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var txe=exe,rxe=txe;function nxe(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?rxe(t,void 0,e):[]}var ixe=nxe;const ag=Xi(ixe),Gd=t=>{for(const e of t)Y.sceneManager.settledScenes.includes(e)?Je.warn(`${e}`):(Je.info(`${e}`),Na(e).then(r=>{const n=e.split("./game/scene/")[1];hv(r,n||"",e)}))},axe=(t,e)=>{Y.sceneManager.sceneData.sceneStack.push({sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl,continueLine:Y.sceneManager.sceneData.currentSentenceId}),Na(t).then(async r=>{if(await Y.sceneManager.setCurrentScene(r,e,t,!0)){Y.sceneManager.sceneData.currentSentenceId=0;const i=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const a=ag(i);Gd(a),Je.debug("",Y.sceneManager.sceneData),Wn()}})},oxe=t=>{const e=t.content.split("/"),r=e[e.length-1];return axe(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function af(t,e,r){let n;const a=fe.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function P7(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function O7(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const cO={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function k7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var sxe=function(){},xB=function(){};const XA=(t,e,r)=>Math.min(Math.max(r,t),e),rS=.001,lxe=.01,bB=10,uxe=.05,cxe=1;function fxe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;sxe(t<=bB*1e3);let o=1-e;o=XA(uxe,cxe,o),t=XA(lxe,bB,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,p=zA(l,o),d=Math.exp(-f);return rS-h/p*d},a=l=>{const f=l*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-f),v=zA(Math.pow(l,2),o);return(-i(l)+rS>0?-1:1)*((h-p)*d)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-rS+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=dxe(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const hxe=12;function dxe(t,e,r){let n=r;for(let i=1;i<hxe;i++)n=n-t(n)/e(n);return n}function zA(t,e){return t*Math.sqrt(1-e*e)}const pxe=["duration","bounce"],vxe=["stiffness","damping","mass"];function wB(t,e){return e.some(r=>t[r]!==void 0)}function gxe(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!wB(t,vxe)&&wB(t,pxe)){const r=fxe(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function fO(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=k7(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=gxe(a),p=EB,d=EB;function v(){const m=u?-(u/1e3):0,g=r-e,_=c/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),_<1){const w=zA(y,_);p=b=>{const E=Math.exp(-_*y*b);return r-E*((m+_*y*g)/w*Math.sin(w*b)+g*Math.cos(w*b))},d=b=>{const E=Math.exp(-_*y*b);return _*y*E*(Math.sin(w*b)*(m+_*y*g)/w+g*Math.cos(w*b))-E*(Math.cos(w*b)*(m+_*y*g)-w*g*Math.sin(w*b))}}else if(_===1)p=w=>r-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(_*_-1);p=b=>{const E=Math.exp(-_*y*b),C=Math.min(w*b,300);return r-E*((m+_*y*g)*Math.sinh(C)+w*g*Math.cosh(C))/w}}}return v(),{next:m=>{const g=p(m);if(h)o.done=m>=f;else{const _=d(m)*1e3,y=Math.abs(_)<=n,w=Math.abs(r-g)<=i;o.done=y&&w}return o.value=o.done?r:g,o},flipTarget:()=>{u=-u,[e,r]=[r,e],v()}}}fO.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const EB=t=>0,F7=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},hO=(t,e,r)=>-r*t+r*e+t,N7=(t,e)=>r=>Math.max(Math.min(r,e),t),Pp=t=>t%1?Number(t.toFixed(5)):t,Yy=/(-)?([\d]*\.?[\d])+/g,WA=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,mxe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function og(t){return typeof t=="string"}const v1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},L7=Object.assign(Object.assign({},v1),{transform:N7(0,1)});Object.assign(Object.assign({},v1),{default:1});const _xe=t=>({test:e=>og(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Op=_xe("%");Object.assign(Object.assign({},Op),{parse:t=>Op.parse(t)/100,transform:t=>Op.transform(t*100)});const dO=(t,e)=>r=>!!(og(r)&&mxe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),M7=(t,e,r)=>n=>{if(!og(n))return n;const[i,a,o,s]=n.match(Yy);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},kc={test:dO("hsl","hue"),parse:M7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Op.transform(Pp(e))+", "+Op.transform(Pp(r))+", "+Pp(L7.transform(n))+")"},yxe=N7(0,255),nS=Object.assign(Object.assign({},v1),{transform:t=>Math.round(yxe(t))}),tu={test:dO("rgb","red"),parse:M7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+nS.transform(t)+", "+nS.transform(e)+", "+nS.transform(r)+", "+Pp(L7.transform(n))+")"};function xxe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const YA={test:dO("#"),parse:xxe,transform:tu.transform},g1={test:t=>tu.test(t)||YA.test(t)||kc.test(t),parse:t=>tu.test(t)?tu.parse(t):kc.test(t)?kc.parse(t):YA.parse(t),transform:t=>og(t)?t:t.hasOwnProperty("red")?tu.transform(t):kc.transform(t)},B7="${c}",D7="${n}";function bxe(t){var e,r,n,i;return isNaN(t)&&og(t)&&((r=(e=t.match(Yy))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(WA))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function U7(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(WA);n&&(r=n.length,t=t.replace(WA,B7),e.push(...n.map(g1.parse)));const i=t.match(Yy);return i&&(t=t.replace(Yy,D7),e.push(...i.map(v1.parse))),{values:e,numColors:r,tokenised:t}}function j7(t){return U7(t).values}function $7(t){const{values:e,numColors:r,tokenised:n}=U7(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?B7:D7,s<r?g1.transform(a[s]):Pp(a[s]));return o}}const wxe=t=>typeof t=="number"?0:t;function Exe(t){const e=j7(t);return $7(t)(e.map(wxe))}const G7={test:bxe,parse:j7,createTransformer:$7,getAnimatableNone:Exe};function iS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function SB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=iS(c,s,t+1/3),a=iS(c,s,t),o=iS(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Sxe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Cxe=[YA,tu,kc],CB=t=>Cxe.find(e=>e.test(t)),V7=(t,e)=>{let r=CB(t),n=CB(e),i=r.parse(t),a=n.parse(e);r===kc&&(i=SB(i),r=tu),n===kc&&(a=SB(a),n=tu);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=Sxe(i[c],a[c],s));return o.alpha=hO(i.alpha,a.alpha,s),r.transform(o)}},Axe=t=>typeof t=="number",Txe=(t,e)=>r=>e(t(r)),H7=(...t)=>t.reduce(Txe);function X7(t,e){return Axe(t)?r=>hO(t,e,r):g1.test(t)?V7(t,e):W7(t,e)}const z7=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>X7(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Ixe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=X7(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function AB(t){const e=G7.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const W7=(t,e)=>{const r=G7.createTransformer(e),n=AB(t),i=AB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?H7(z7(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Rxe=(t,e)=>r=>hO(t,e,r);function Pxe(t){if(typeof t=="number")return Rxe;if(typeof t=="string")return g1.test(t)?V7:W7;if(Array.isArray(t))return z7;if(typeof t=="object")return Ixe}function Oxe(t,e,r){const n=[],i=r||Pxe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=H7(c,s)}n.push(s)}return n}function kxe([t,e],[r]){return n=>r(F7(t,e,n))}function Fxe(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=F7(t[a],t[a+1],i);return e[a](s)}}function Y7(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;xB(a===e.length),xB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Oxe(e,n,i),s=a===2?kxe(t,o):Fxe(t,o);return r?c=>s(XA(t[0],t[a-1],c)):s}const Nxe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Lxe=t=>e=>Math.pow(e,t),Mxe=t=>e=>e*e*((t+1)*e-t),Bxe=t=>{const e=Mxe(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},Dxe=1.525,Uxe=Lxe(2),jxe=Nxe(Uxe);Bxe(Dxe);function $xe(t,e){return t.map(()=>e||jxe).splice(0,t.length-1)}function Gxe(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Vxe(t,e){return t.map(r=>r*e)}function G_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=Vxe(n&&n.length===o.length?n:Gxe(o),i);function c(){return Y7(s,o,{ease:Array.isArray(r)?r:$xe(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function Hxe({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const TB={keyframes:G_,spring:fO,decay:Hxe};function Xxe(t){if(Array.isArray(t.to))return G_;if(TB[t.type])return TB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?G_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?fO:G_}const q7=1/60*1e3,zxe=typeof performance<"u"?()=>performance.now():()=>Date.now(),K7=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(zxe()),q7);function Wxe(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Yxe=40;let qA=!0,uv=!1,KA=!1;const kp={delta:0,timestamp:0},sg=["read","update","preRender","render","postRender"],m1=sg.reduce((t,e)=>(t[e]=Wxe(()=>uv=!0),t),{}),qxe=sg.reduce((t,e)=>{const r=m1[e];return t[e]=(n,i=!1,a=!1)=>(uv||Jxe(),r.schedule(n,i,a)),t},{}),Kxe=sg.reduce((t,e)=>(t[e]=m1[e].cancel,t),{});sg.reduce((t,e)=>(t[e]=()=>m1[e].process(kp),t),{});const Zxe=t=>m1[t].process(kp),Z7=t=>{uv=!1,kp.delta=qA?q7:Math.max(Math.min(t-kp.timestamp,Yxe),1),kp.timestamp=t,KA=!0,sg.forEach(Zxe),KA=!1,uv&&(qA=!1,K7(Z7))},Jxe=()=>{uv=!0,qA=!0,KA||K7(Z7)},Qxe=qxe;function J7(t,e,r=0){return t-e-r}function e1e(t,e,r=0,n=!0){return n?J7(e+-t,e,r):e-(t-e)+r}function t1e(t,e,r,n){return n?t>=e+r:t<=-r}const r1e=t=>{const e=({delta:r})=>t(r);return{start:()=>Qxe.update(e,!0),stop:()=>Kxe.update(e)}};function n1e(t){var e,r,{from:n,autoplay:i=!0,driver:a=r1e,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:p,onUpdate:d}=t,v=k7(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=v,g,_=0,y=v.duration,w,b=!1,E=!0,C;const A=Xxe(v);!((r=(e=A).needsInterpolation)===null||r===void 0)&&r.call(e,n,m)&&(C=Y7([0,100],[n,m],{clamp:!1}),n=0,m=100);const T=A(Object.assign(Object.assign({},v),{from:n,to:m}));function R(){_++,c==="reverse"?(E=_%2===0,o=e1e(o,y,l,E)):(o=J7(o,y,l),c==="mirror"&&T.flipTarget()),b=!1,p&&p()}function O(){g.stop(),h&&h()}function P(L){if(E||(L=-L),o+=L,!b){const B=T.next(Math.max(0,o));w=B.value,C&&(w=C(w)),b=E?B.done:o<=0}d==null||d(w),b&&(_===0&&(y??(y=o)),_<s?t1e(o,y,l,E)&&R():O())}function k(){u==null||u(),g=a(P),g.start()}return i&&k(),{stop:()=>{f==null||f(),g.stop()}}}function i1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var a1e=i1e,o1e=I7,s1e=a1e,l1e=R7,u1e=1,c1e=2;function f1e(t,e,r,n,i,a){var o=r&u1e,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,p=r&c1e?new o1e:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],v=e[f];if(n)var m=o?n(v,d,f,e,t,a):n(d,v,f,t,e,a);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!s1e(e,function(g,_){if(!l1e(p,_)&&(d===g||i(d,g,r,n,a)))return p.push(_)})){h=!1;break}}else if(!(d===v||i(d,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var Q7=f1e;function h1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var d1e=h1e,IB=tg,RB=sG,p1e=TP,v1e=Q7,g1e=d1e,m1e=uO,_1e=1,y1e=2,x1e="[object Boolean]",b1e="[object Date]",w1e="[object Error]",E1e="[object Map]",S1e="[object Number]",C1e="[object RegExp]",A1e="[object Set]",T1e="[object String]",I1e="[object Symbol]",R1e="[object ArrayBuffer]",P1e="[object DataView]",PB=IB?IB.prototype:void 0,aS=PB?PB.valueOf:void 0;function O1e(t,e,r,n,i,a,o){switch(r){case P1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R1e:return!(t.byteLength!=e.byteLength||!a(new RB(t),new RB(e)));case x1e:case b1e:case S1e:return p1e(+t,+e);case w1e:return t.name==e.name&&t.message==e.message;case C1e:case T1e:return t==e+"";case E1e:var s=g1e;case A1e:var c=n&_1e;if(s||(s=m1e),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=y1e,o.set(t,e);var u=v1e(s(t),s(e),n,i,a,o);return o.delete(t),u;case I1e:if(aS)return aS.call(t)==aS.call(e)}return!1}var k1e=O1e,OB=nG,F1e=1,N1e=Object.prototype,L1e=N1e.hasOwnProperty;function M1e(t,e,r,n,i,a){var o=r&F1e,s=OB(t),c=s.length,l=OB(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:L1e.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var v=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){h=s[f];var g=t[h],_=e[h];if(n)var y=o?n(_,g,h,e,t,a):n(g,_,h,t,e,a);if(!(y===void 0?g===_||i(g,_,r,n,a):y)){v=!1;break}m||(m=h=="constructor")}if(v&&!m){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(t),a.delete(e),v}var B1e=M1e,oS=PP,D1e=Q7,U1e=k1e,j1e=B1e,kB=Zx,FB=El,NB=kP,$1e=Y$,G1e=1,LB="[object Arguments]",MB="[object Array]",Pm="[object Object]",V1e=Object.prototype,BB=V1e.hasOwnProperty;function H1e(t,e,r,n,i,a){var o=FB(t),s=FB(e),c=o?MB:kB(t),l=s?MB:kB(e);c=c==LB?Pm:c,l=l==LB?Pm:l;var u=c==Pm,f=l==Pm,h=c==l;if(h&&NB(t)){if(!NB(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new oS),o||$1e(t)?D1e(t,e,r,n,i,a):U1e(t,e,c,r,n,i,a);if(!(r&G1e)){var p=u&&BB.call(t,"__wrapped__"),d=f&&BB.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,m=d?e.value():e;return a||(a=new oS),i(v,m,r,n,a)}}return h?(a||(a=new oS),j1e(t,e,r,n,i,a)):!1}var X1e=H1e,z1e=X1e,DB=_f;function eV(t,e,r,n,i){return t===e?!0:t==null||e==null||!DB(t)&&!DB(e)?t!==t&&e!==e:z1e(t,e,r,n,eV,i)}var tV=eV,W1e=PP,Y1e=tV,q1e=1,K1e=2;function Z1e(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new W1e;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?Y1e(u,l,q1e|K1e,n,f):h))return!1}}return!0}var J1e=Z1e,Q1e=Bs;function ebe(t){return t===t&&!Q1e(t)}var rV=ebe,tbe=rV,rbe=Kx;function nbe(t){for(var e=rbe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,tbe(i)]}return e}var ibe=nbe;function abe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var nV=abe,obe=J1e,sbe=ibe,lbe=nV;function ube(t){var e=sbe(t);return e.length==1&&e[0][2]?lbe(e[0][0],e[0][1]):function(r){return r===t||obe(r,t,e)}}var cbe=ube,fbe=rg,hbe=_f,dbe="[object Symbol]";function pbe(t){return typeof t=="symbol"||hbe(t)&&fbe(t)==dbe}var _1=pbe,vbe=El,gbe=_1,mbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_be=/^\w*$/;function ybe(t,e){if(vbe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||gbe(t)?!0:_be.test(t)||!mbe.test(t)||e!=null&&t in Object(e)}var pO=ybe,iV=RP,xbe="Expected a function";function vO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xbe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(vO.Cache||iV),r}vO.Cache=iV;var bbe=vO,wbe=bbe,Ebe=500;function Sbe(t){var e=wbe(t,function(n){return r.size===Ebe&&r.clear(),n}),r=e.cache;return e}var Cbe=Sbe,Abe=Cbe,Tbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ibe=/\\(\\)?/g,Rbe=Abe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tbe,function(r,n,i,a){e.push(i?a.replace(Ibe,"$1"):n||r)}),e}),Pbe=Rbe;function Obe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var aV=Obe,UB=tg,kbe=aV,Fbe=El,Nbe=_1,Lbe=1/0,jB=UB?UB.prototype:void 0,$B=jB?jB.toString:void 0;function oV(t){if(typeof t=="string")return t;if(Fbe(t))return kbe(t,oV)+"";if(Nbe(t))return $B?$B.call(t):"";var e=t+"";return e=="0"&&1/t==-Lbe?"-0":e}var Mbe=oV,Bbe=Mbe;function Dbe(t){return t==null?"":Bbe(t)}var Ube=Dbe,jbe=El,$be=pO,Gbe=Pbe,Vbe=Ube;function Hbe(t,e){return jbe(t)?t:$be(t,e)?[t]:Gbe(Vbe(t))}var y1=Hbe,Xbe=_1,zbe=1/0;function Wbe(t){if(typeof t=="string"||Xbe(t))return t;var e=t+"";return e=="0"&&1/t==-zbe?"-0":e}var lg=Wbe,Ybe=y1,qbe=lg;function Kbe(t,e){e=Ybe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[qbe(e[r++])];return r&&r==n?t:void 0}var gO=Kbe,Zbe=gO;function Jbe(t,e,r){var n=t==null?void 0:Zbe(t,e);return n===void 0?r:n}var Qbe=Jbe;function ewe(t,e){return t!=null&&e in Object(t)}var twe=ewe,rwe=y1,nwe=W$,iwe=El,awe=FP,owe=NP,swe=lg;function lwe(t,e,r){e=rwe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=swe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&owe(i)&&awe(o,i)&&(iwe(t)||nwe(t)))}var uwe=lwe,cwe=twe,fwe=uwe;function hwe(t,e){return t!=null&&fwe(t,e,cwe)}var dwe=hwe,pwe=tV,vwe=Qbe,gwe=dwe,mwe=pO,_we=rV,ywe=nV,xwe=lg,bwe=1,wwe=2;function Ewe(t,e){return mwe(t)&&_we(e)?ywe(xwe(t),e):function(r){var n=vwe(r,t);return n===void 0&&n===e?gwe(r,t):pwe(e,n,bwe|wwe)}}var Swe=Ewe;function Cwe(t){return t}var Awe=Cwe;function Twe(t){return function(e){return e==null?void 0:e[t]}}var Iwe=Twe,Rwe=gO;function Pwe(t){return function(e){return Rwe(e,t)}}var Owe=Pwe,kwe=Iwe,Fwe=Owe,Nwe=pO,Lwe=lg;function Mwe(t){return Nwe(t)?kwe(Lwe(t)):Fwe(t)}var Bwe=Mwe,Dwe=cbe,Uwe=Swe,jwe=Awe,$we=El,Gwe=Bwe;function Vwe(t){return typeof t=="function"?t:t==null?jwe:typeof t=="object"?$we(t)?Uwe(t[0],t[1]):Dwe(t):Gwe(t)}var sV=Vwe,Hwe="Expected a function";function Xwe(t){if(typeof t!="function")throw new TypeError(Hwe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var zwe=Xwe,Wwe=OP,Ywe=y1,qwe=FP,GB=Bs,Kwe=lg;function Zwe(t,e,r,n){if(!GB(t))return t;e=Ywe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=Kwe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=GB(u)?u:qwe(e[i+1])?[]:{})}Wwe(s,c,l),s=s[c]}return t}var Jwe=Zwe,Qwe=gO,eEe=Jwe,tEe=y1;function rEe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Qwe(t,o);r(s,o)&&eEe(a,tEe(o,t),s)}return a}var nEe=rEe,iEe=aV,aEe=sV,oEe=nEe,sEe=iG;function lEe(t,e){if(t==null)return{};var r=iEe(sEe(t),function(n){return[n]});return e=aEe(e),oEe(t,r,function(n,i){return e(n,i[0])})}var uEe=lEe,cEe=sV,fEe=zwe,hEe=uEe;function dEe(t,e){return hEe(t,fEe(cEe(e)))}var pEe=dEe;const sS=Xi(pEe);function vEe(t){return t===void 0}var gEe=vEe;const Ks=Xi(gEe);function lV(t,e,r){const n=Y.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const g of t){const _=g.duration;i+=_;const{position:y,scale:w,...b}=g;a.push({x:y.x,y:y.y,scaleX:w.x,scaleY:w.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=n1e({to:a,offset:o,duration:r,onUpdate:g=>{if(s){const{scaleX:_,scaleY:y,...w}=g;Object.assign(s,sS(w,Ks)),Ks(_)||(s.scale.x=_),Ks(y)||(s.scale.y=y)}}}));const{duration:l,...u}=v();fe.dispatch(Gn.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:g,scale:_,...y}=d(),w=sS({x:g.x,y:g.y,...y},Ks);Object.assign(n==null?void 0:n.pixiContainer,w),n!=null&&n.pixiContainer&&(Ks(_.x)||(n.pixiContainer.scale.x=_.x),Ks(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:g,scale:_,...y}=v(),w=sS({x:g.x,y:g.y,...y},Ks);Object.assign(n==null?void 0:n.pixiContainer,w),n!=null&&n.pixiContainer&&(Ks(_.x)||(n.pixiContainer.scale.x=_.x),Ks(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function p(g){}function d(){return t[0]}function v(){return t[t.length-1]}function m(){const g=t[t.length-1],{alpha:_,rotation:y,blur:w,duration:b,scale:E,position:C,...A}=g;return A}return{setStartState:f,setEndState:h,tickerFunc:p,getEndFilterEffect:m}}function qy(t,e,r){const n=Y.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=fe.getState().stage.effects.find(c=>c.target===e),s=vn({...(o==null?void 0:o.transform)??cO,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Je.debug("",i),lV(i,e,r)}return null}function Si(t){const e=Y.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Ta(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=P7(t,n);const a=Y.animationManager.nextEnterAnimationName.get(t);return a&&(Je.debug("",t),i=qy(a,t,Si(a)),n=Si(a),Y.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=O7(t,n);const a=Y.animationManager.nextExitAnimationName.get(t);return a&&(Je.debug("",t),i=qy(a,t,Si(a)),n=Si(a),Y.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const xo=()=>Math.random().toString().substring(0,10);class mEe{constructor(){ct(this,"performList",[]);ct(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};fe.dispatch(Gn.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){fe.dispatch(Gn.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):Wn()}}const _Ee=t=>{const e=t.content,r=fe.dispatch;if(console.log(4444,Y.sceneManager.sceneData.currentScene.sceneName),fe.getState().GUI.showStoryLine)return r(Ot({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Ot({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Ot({key:"storyLineBgY",value:f.value}))}),{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(fe.getState().GUI.showAchievement)return r(ode(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Ot({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Ot({key:"achieveBgY",value:f.value}))}),{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(PG({name:n,url:e,series:i})),r(Gn.removeEffectByTargetId("bg-main"));const s=qt(t,"transform");let c=qt(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=af("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};Y.animationManager.addAnimation(p),c=Si(h),Y.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=af("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};Y.animationManager.addAnimation(p),c=Si(h),Y.animationManager.nextEnterAnimationName.set("bg-main",h)}return qt(t,"enter")&&(Y.animationManager.nextEnterAnimationName.set("bg-main",qt(t,"enter").toString()),c=Si(qt(t,"enter").toString())),qt(t,"exit")&&(Y.animationManager.nextExitAnimationName.set("bg-main-off",qt(t,"exit").toString()),c=Si(qt(t,"exit").toString())),a&&r(Ot({key:"bgX",value:a})),o&&r(Ot({key:"bgY",value:o})),r(Ot({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function yEe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=fe.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":c=b.value.toString(),c=Wt(c,zt.figure);break;case"mouthClose":l=b.value.toString(),l=Wt(l,zt.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=Wt(u,zt.figure);break;case"eyesOpen":f=b.value.toString(),f=Wt(f,zt.figure);break;case"eyesClose":h=b.value.toString(),h=Wt(h,zt.figure);break;case"animationFlag":p=b.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,g=fe.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==v),_={targetId:v,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};g.push(_),d(Ot({key:"figureAssociatedAnimation",value:g}));let y=!0;if(o!==""){const b=fe.getState().stage.freeFigure.find(E=>E.key===o);b&&b.name===t.content&&(y=!1)}else e==="center"&&fe.getState().stage.figName===t.content&&(y=!1),e==="left"&&fe.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&fe.getState().stage.figNameRight===t.content&&(y=!1);if(y){const b=`fig-${e}`,E=`${o}`;fe.dispatch(Gn.removeEffectByTargetId(b)),fe.dispatch(Gn.removeEffectByTargetId(E))}const w=(b,E)=>{const C=qt(E,"transform"),A=qt(E,"duration");A&&typeof A=="number"&&(s=A);let T;if(C){console.log(C);try{const k=JSON.parse(C.toString());T=af(b,k,s),T[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:T};Y.animationManager.addAnimation(B),s=Si(L),Y.animationManager.nextEnterAnimationName.set(b,L)}catch{R()}}else R();function R(){T=af(b,{},s),T[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:T};Y.animationManager.addAnimation(B),s=Si(L),Y.animationManager.nextEnterAnimationName.set(b,L)}const O=qt(E,"enter"),P=qt(E,"exit");O&&(Y.animationManager.nextEnterAnimationName.set(b,O.toString()),s=Si(O.toString())),P&&(Y.animationManager.nextExitAnimationName.set(b+"-off",P.toString()),s=Si(P.toString()))};if(n){fe.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};w(o,t),i&&d(Gn.setLive2dMotion({target:o,motion:i})),a&&d(Gn.setLive2dExpression({target:o,expression:a})),d(Gn.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],w(o,t),i&&d(Gn.setLive2dMotion({target:o,motion:i})),a&&d(Gn.setLive2dExpression({target:o,expression:a})),d(Ot({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const uV=(t,e)=>{Na(t).then(async r=>{if(await Y.sceneManager.setCurrentScene(r,e,t,!0)){Y.sceneManager.sceneData.currentSentenceId=0;const i=[];Y.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),Y.videoManager.destroyExcept(i);const a=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const o=ag(a);Gd(o),Je.debug("",Y.sceneManager.sceneData),Wn()}})},xEe=t=>{const e=t.content.split("/"),r=e[e.length-1];return uV(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},cV=t=>{const e=Y.sceneManager.sceneData.currentSentenceId;let r=e;Y.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Bt.label&&n.content===t&&i!==e&&(r=i)}),Y.sceneManager.sceneData.currentSentenceId=r,setTimeout(Wn,1)},bEe="_Choose_Main_vkuyi_1",wEe="_Choose_item_vkuyi_15",EEe="_Choose_item_image_vkuyi_37",SEe="_Choose_item_countdown_vkuyi_52",CEe="_Choose_item_countdown_disabled_vkuyi_59",AEe="_Choose_item_progress_bar_vkuyi_66",TEe="_Choose_item_disabled_vkuyi_75",nc={Choose_Main:bEe,Choose_item:wEe,Choose_item_image:EEe,Choose_item_countdown:SEe,Choose_item_countdown_disabled:CEe,Choose_item_progress_bar:AEe,Choose_item_disabled:TEe},IEe=""+new URL("page-flip-1.mp3",import.meta.url).href,REe=""+new URL("switch-1.mp3",import.meta.url).href,fV=""+new URL("mouse-enter.mp3",import.meta.url).href,PEe=""+new URL("dialog.mp3",import.meta.url).href,hV=""+new URL("click.mp3",import.meta.url).href;var dV={exports:{}},pV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=ve;function OEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kEe=typeof Object.is=="function"?Object.is:OEe,FEe=ld.useState,NEe=ld.useEffect,LEe=ld.useLayoutEffect,MEe=ld.useDebugValue;function BEe(t,e){var r=e(),n=FEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return LEe(function(){i.value=r,i.getSnapshot=e,lS(i)&&a({inst:i})},[t,r,e]),NEe(function(){return lS(i)&&a({inst:i}),t(function(){lS(i)&&a({inst:i})})},[t]),MEe(r),r}function lS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kEe(t,r)}catch{return!0}}function DEe(t,e){return e()}var UEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DEe:BEe;pV.useSyncExternalStore=ld.useSyncExternalStore!==void 0?ld.useSyncExternalStore:UEe;dV.exports=pV;var jEe=dV.exports,vV={exports:{}},gV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1=ve,$Ee=jEe;function GEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VEe=typeof Object.is=="function"?Object.is:GEe,HEe=$Ee.useSyncExternalStore,XEe=x1.useRef,zEe=x1.useEffect,WEe=x1.useMemo,YEe=x1.useDebugValue;gV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=XEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=WEe(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return f=d}return f=p}if(d=f,VEe(u,p))return d;var v=n(p);return i!==void 0&&i(d,v)?d:(u=p,f=v)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=HEe(t,a[0],a[1]);return zEe(function(){o.hasValue=!0,o.value=s},[s]),YEe(s),s};vV.exports=gV;var qEe=vV.exports;function KEe(t){t()}let mV=KEe;const ZEe=t=>mV=t,JEe=()=>mV,VB=Symbol.for("react-redux-context"),HB=typeof globalThis<"u"?globalThis:{};function QEe(){var t;if(!ve.createContext)return{};const e=(t=HB[VB])!=null?t:HB[VB]=new Map;let r=e.get(ve.createContext);return r||(r=ve.createContext(null),e.set(ve.createContext,r)),r}const Ru=QEe();function mO(t=Ru){return function(){return ve.useContext(t)}}const _V=mO(),eSe=()=>{throw new Error("uSES not initialized!")};let yV=eSe;const tSe=t=>{yV=t},rSe=(t,e)=>t===e;function nSe(t=Ru){const e=t===Ru?_V:mO(t);return function(n,i={}){const{equalityFn:a=rSe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();ve.useRef(!0);const p=ve.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),d=yV(l.addNestedSub,c.getState,u||c.getState,p,a);return ve.useDebugValue(d),d}}const vt=nSe();function iSe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var xV={exports:{}},jr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=typeof Symbol=="function"&&Symbol.for,_O=Ri?Symbol.for("react.element"):60103,yO=Ri?Symbol.for("react.portal"):60106,b1=Ri?Symbol.for("react.fragment"):60107,w1=Ri?Symbol.for("react.strict_mode"):60108,E1=Ri?Symbol.for("react.profiler"):60114,S1=Ri?Symbol.for("react.provider"):60109,C1=Ri?Symbol.for("react.context"):60110,xO=Ri?Symbol.for("react.async_mode"):60111,A1=Ri?Symbol.for("react.concurrent_mode"):60111,T1=Ri?Symbol.for("react.forward_ref"):60112,I1=Ri?Symbol.for("react.suspense"):60113,aSe=Ri?Symbol.for("react.suspense_list"):60120,R1=Ri?Symbol.for("react.memo"):60115,P1=Ri?Symbol.for("react.lazy"):60116,oSe=Ri?Symbol.for("react.block"):60121,sSe=Ri?Symbol.for("react.fundamental"):60117,lSe=Ri?Symbol.for("react.responder"):60118,uSe=Ri?Symbol.for("react.scope"):60119;function eo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _O:switch(t=t.type,t){case xO:case A1:case b1:case E1:case w1:case I1:return t;default:switch(t=t&&t.$$typeof,t){case C1:case T1:case P1:case R1:case S1:return t;default:return e}}case yO:return e}}}function bV(t){return eo(t)===A1}jr.AsyncMode=xO;jr.ConcurrentMode=A1;jr.ContextConsumer=C1;jr.ContextProvider=S1;jr.Element=_O;jr.ForwardRef=T1;jr.Fragment=b1;jr.Lazy=P1;jr.Memo=R1;jr.Portal=yO;jr.Profiler=E1;jr.StrictMode=w1;jr.Suspense=I1;jr.isAsyncMode=function(t){return bV(t)||eo(t)===xO};jr.isConcurrentMode=bV;jr.isContextConsumer=function(t){return eo(t)===C1};jr.isContextProvider=function(t){return eo(t)===S1};jr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_O};jr.isForwardRef=function(t){return eo(t)===T1};jr.isFragment=function(t){return eo(t)===b1};jr.isLazy=function(t){return eo(t)===P1};jr.isMemo=function(t){return eo(t)===R1};jr.isPortal=function(t){return eo(t)===yO};jr.isProfiler=function(t){return eo(t)===E1};jr.isStrictMode=function(t){return eo(t)===w1};jr.isSuspense=function(t){return eo(t)===I1};jr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===b1||t===A1||t===E1||t===w1||t===I1||t===aSe||typeof t=="object"&&t!==null&&(t.$$typeof===P1||t.$$typeof===R1||t.$$typeof===S1||t.$$typeof===C1||t.$$typeof===T1||t.$$typeof===sSe||t.$$typeof===lSe||t.$$typeof===uSe||t.$$typeof===oSe)};jr.typeOf=eo;xV.exports=jr;var cSe=xV.exports,wV=cSe,fSe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hSe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EV={};EV[wV.ForwardRef]=fSe;EV[wV.Memo]=hSe;var Hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=Symbol.for("react.element"),wO=Symbol.for("react.portal"),O1=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),F1=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),L1=Symbol.for("react.context"),dSe=Symbol.for("react.server_context"),M1=Symbol.for("react.forward_ref"),B1=Symbol.for("react.suspense"),D1=Symbol.for("react.suspense_list"),U1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),pSe=Symbol.for("react.offscreen"),SV;SV=Symbol.for("react.module.reference");function Ao(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bO:switch(t=t.type,t){case O1:case F1:case k1:case B1:case D1:return t;default:switch(t=t&&t.$$typeof,t){case dSe:case L1:case M1:case j1:case U1:case N1:return t;default:return e}}case wO:return e}}}Hr.ContextConsumer=L1;Hr.ContextProvider=N1;Hr.Element=bO;Hr.ForwardRef=M1;Hr.Fragment=O1;Hr.Lazy=j1;Hr.Memo=U1;Hr.Portal=wO;Hr.Profiler=F1;Hr.StrictMode=k1;Hr.Suspense=B1;Hr.SuspenseList=D1;Hr.isAsyncMode=function(){return!1};Hr.isConcurrentMode=function(){return!1};Hr.isContextConsumer=function(t){return Ao(t)===L1};Hr.isContextProvider=function(t){return Ao(t)===N1};Hr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bO};Hr.isForwardRef=function(t){return Ao(t)===M1};Hr.isFragment=function(t){return Ao(t)===O1};Hr.isLazy=function(t){return Ao(t)===j1};Hr.isMemo=function(t){return Ao(t)===U1};Hr.isPortal=function(t){return Ao(t)===wO};Hr.isProfiler=function(t){return Ao(t)===F1};Hr.isStrictMode=function(t){return Ao(t)===k1};Hr.isSuspense=function(t){return Ao(t)===B1};Hr.isSuspenseList=function(t){return Ao(t)===D1};Hr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===O1||t===F1||t===k1||t===B1||t===D1||t===pSe||typeof t=="object"&&t!==null&&(t.$$typeof===j1||t.$$typeof===U1||t.$$typeof===N1||t.$$typeof===L1||t.$$typeof===M1||t.$$typeof===SV||t.getModuleId!==void 0)};Hr.typeOf=Ao;function vSe(){const t=JEe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const XB={notify(){},get:()=>[]};function gSe(t,e){let r,n=XB,i=0,a=!1;function o(v){u();const m=n.subscribe(v);let g=!1;return()=>{g||(g=!0,m(),f())}}function s(){n.notify()}function c(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=vSe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=XB)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const mSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Se=mSe?ve.useLayoutEffect:ve.useEffect;function ySe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=ve.useMemo(()=>{const l=gSe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=ve.useMemo(()=>t.getState(),[t]);_Se(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||Ru;return ve.createElement(c.Provider,{value:o},r)}function CV(t=Ru){const e=t===Ru?_V:mO(t);return function(){const{store:n}=e();return n}}const xSe=CV();function bSe(t=Ru){const e=t===Ru?xSe:CV(t);return function(){return e().dispatch}}const Yr=bSe();tSe(qEe.useSyncExternalStoreWithSelector);ZEe(I$.unstable_batchedUpdates);const Nn=()=>{const t=Yr();return vt(o=>o.stage),{playSeEnter:()=>{t(Ot({key:"uiSe",value:fV}))},playSeClick:()=>{t(Ot({key:"uiSe",value:hV}))},playSePageChange:()=>{t(Ot({key:"uiSe",value:IEe}))},playSeDialogOpen:()=>{t(Ot({key:"uiSe",value:PEe}))},playSeSwitch:()=>{t(Ot({key:"uiSe",value:REe}))}}},Vd=()=>({playSeEnter:()=>{fe.dispatch(Ot({key:"uiSe",value:fV}))},playSeClick:()=>{fe.dispatch(Ot({key:"uiSe",value:hV}))}}),wSe=""+new URL("progress-bar-bg.png",import.meta.url).href,ESe=""+new URL("progress-bar.png",import.meta.url).href,SSe="_GlobalDialog_main_awvoa_2",CSe="_showGlobalDialog_awvoa_1",ASe="_glabalDialog_container_inner_awvoa_18",TSe="_GlobalDialog_pay_container_awvoa_31",ISe="_GlobalDialog_pay_tip_awvoa_41",RSe="_GlobalDialog_pay_close_awvoa_54",PSe="_GlobalDialog_pay_title_awvoa_67",OSe="_GlobalDialog_pay_content_awvoa_79",kSe="_GlobalDialog_star_stone_awvoa_90",FSe="_GlobalDialog_pay_btns_awvoa_100",NSe="_GlobalDialog_pay_btn_awvoa_100",LSe="_GlobalDialog_pay_cancel_awvoa_120",MSe="_GlobalDialog_pay_confirm_awvoa_126",BSe="_glabalDialog_container_awvoa_18",DSe="_title_awvoa_140",USe="_button_list_awvoa_152",jSe="_button_awvoa_152",oi={GlobalDialog_main:SSe,showGlobalDialog:CSe,glabalDialog_container_inner:ASe,GlobalDialog_pay_container:TSe,GlobalDialog_pay_tip:ISe,GlobalDialog_pay_close:RSe,GlobalDialog_pay_title:PSe,GlobalDialog_pay_content:OSe,GlobalDialog_star_stone:kSe,GlobalDialog_pay_btns:FSe,GlobalDialog_pay_btn:NSe,GlobalDialog_pay_cancel:LSe,GlobalDialog_pay_confirm:MSe,glabalDialog_container:BSe,title:DSe,button_list:USe,button:jSe};function $Se(){const t=vt(e=>e.GUI.showGlobalDialog);return N.jsx(N.Fragment,{children:t&&N.jsx("div",{id:"globalDialogContainer"})})}function Jo(t){const{playSeClick:e,playSeEnter:r}=Vd(),n=t.type??"normal";fe.dispatch(bt({component:"showGlobalDialog",visibility:!0}));const i=()=>{var s;e(),(s=t.leftFunc)==null||s.call(t),uS()},a=()=>{e(),t.rightFunc(),uS()};let o=null;n==="normal"?o=N.jsx("div",{className:oi.GlobalDialog_main,children:N.jsx("div",{className:oi.glabalDialog_container,children:N.jsxs("div",{className:oi.glabalDialog_container_inner,children:[N.jsx("div",{className:oi.title,children:t.title}),N.jsxs("div",{className:oi.button_list,children:[!!t.leftText&&N.jsx("div",{className:oi.button,onClick:i,onMouseEnter:r,children:t.leftText}),N.jsx("div",{className:oi.button,onClick:a,onMouseEnter:r,children:t.rightText})]})]})})}):n==="pay"&&(o=N.jsx("div",{className:oi.GlobalDialog_main,children:N.jsxs("div",{className:oi.GlobalDialog_pay_container,children:[N.jsx("div",{className:oi.GlobalDialog_pay_tip}),N.jsx("div",{className:oi.GlobalDialog_pay_close,onMouseEnter:r,onClick:()=>{e(),i(),uS()}}),N.jsx("div",{className:oi.GlobalDialog_pay_title,children:t.title}),N.jsxs("div",{className:oi.GlobalDialog_pay_content,children:[t.content,N.jsx("span",{className:oi.GlobalDialog_star_stone}),t.suffixContent]}),N.jsxs("div",{className:oi.GlobalDialog_pay_btns,children:[N.jsx("div",{className:`${oi.GlobalDialog_pay_btn} ${oi.GlobalDialog_pay_cancel}`,onClick:i,onMouseEnter:r}),N.jsx("div",{className:`${oi.GlobalDialog_pay_btn} ${oi.GlobalDialog_pay_confirm}`,onClick:a,onMouseEnter:r})]})]})})),setTimeout(()=>{Tu.render(o,document.getElementById("globalDialogContainer"))},100)}function uS(){fe.dispatch(bt({component:"showGlobalDialog",visibility:!1}))}const $1=sd.create();$1.defaults.baseURL="https://test-api.idoltime.games";$1.defaults.headers.common["Content-Type"]="application/json";$1.interceptors.request.use(t=>{const e=fe.getState().userData.token,r=fe.getState().storeData.isEditorPreviewMode,n=localStorage.getItem("editor-token");return t.headers=r?{...t.headers,editorToken:n}:{...t.headers,token:e,source:"web"},t},t=>Promise.reject(t));const Sl=$1,GSe={paymentConfigurationList:[],gameInfo:null,isEditorPreviewMode:!1},AV=eg({name:"storeData",initialState:vn(GSe),reducers:{setPaymentConfigurationList(t,e){t.paymentConfigurationList=e.payload},setGameInfo(t,e){t.gameInfo=e.payload},setIsEditorPreviewMode(t,e){t.isEditorPreviewMode=e.payload}}}),{setPaymentConfigurationList:TV,setGameInfo:VSe,setIsEditorPreviewMode:zB}=AV.actions,HSe=AV.reducer,XSe=()=>Sl.post("/game/chapter_sales_is_buy",{gId:Y.gameId}).then(t=>{let e=fe.getState().storeData.paymentConfigurationList;return t.data.code===0&&(e=t.data.data),fe.dispatch(TV(e)),e}).catch(t=>(console.error(t),[])),zSe=()=>Sl.post("/editor/game/detail",{gId:Y.gameId}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),IV=t=>Sl.post("/game/buy_chapter",{gId:Y.gameId,productId:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),RV=()=>Sl.post("/game/buy",{gId:Y.gameId}).then(t=>(t.data.code===0&&EO(),t.data)).catch(t=>(console.error(t),{code:-999,data:!1,message:""})),Ky=t=>Sl.post("/game/product_id_is_buy",{gId:Y.gameId,productId:t}).then(e=>{if(e.data.code===0){const r=[...fe.getState().storeData.paymentConfigurationList],n=r.findIndex(i=>i.product_id===t);if(n>-1){const i={...r[n]};i.is_buy=e.data.data,r[n]=i,fe.dispatch(TV(r))}}return e.data}).catch(e=>(console.error(e),{code:-999,data:!1,message:""})),EO=()=>Sl.get("/game/get_game_info?gId="+Y.gameId).then(t=>(t.data.code===0&&fe.dispatch(VSe(t.data.data)),t.data)).catch(t=>(console.error(t),{code:-999,data:null,message:""})),WSe=()=>Sl.post("/user/recharge_config_list",{is_show:1}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),YSe=t=>Sl.post("/user/recharge",{recharge_id:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),qSe=t=>Sl.post("/user/recharge_status",{order_no:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""}));var Zy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Zy.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,p=4,d=1,v=2,m=1,g=2,_=4,y=8,w=16,b=32,E=64,C=128,A=256,T=512,R=30,O="...",P=800,k=16,L=1,B=2,U=3,X=1/0,ee=9007199254740991,ne=17976931348623157e292,W=0/0,D=4294967295,z=D-1,V=D>>>1,G=[["ary",C],["bind",m],["bindKey",g],["curry",y],["curryRight",w],["flip",T],["partial",b],["partialRight",E],["rearg",A]],ie="[object Arguments]",se="[object Array]",me="[object AsyncFunction]",ue="[object Boolean]",we="[object Date]",Be="[object DOMException]",Fe="[object Error]",Ee="[object Function]",Ae="[object GeneratorFunction]",Ge="[object Map]",We="[object Number]",Ve="[object Null]",Xe="[object Object]",qe="[object Promise]",Et="[object Proxy]",Rt="[object RegExp]",ft="[object Set]",ht="[object String]",St="[object Symbol]",rr="[object Undefined]",Ht="[object WeakMap]",nr="[object WeakSet]",Gt="[object ArrayBuffer]",xt="[object DataView]",Zt="[object Float32Array]",Oe="[object Float64Array]",j="[object Int8Array]",de="[object Int16Array]",Se="[object Int32Array]",ke="[object Uint8Array]",ae="[object Uint8ClampedArray]",Ie="[object Uint16Array]",H="[object Uint32Array]",Ue=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,q=RegExp(Re.source),le=RegExp(Pe.source),Ce=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,Qe=/<%=([\s\S]+?)%>/g,ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,Ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(lr.source),Ar=/^\s+/,on=/\s/,qn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Al=/\{\n\/\* \[wrapped with (.+)\] \*/,Tl=/,? & /,sn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zi=/[()=,{}\[\]\/\s]/,Mn=/\\(\\)?/g,La=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sa=/\w*$/,Af=/^[-+]0x[0-9a-f]+$/i,Lb=/^0b[01]+$/i,Mb=/^\[object .+?Constructor\]$/,Bb=/^0o[0-7]+$/i,Db=/^(?:0|[1-9]\d*)$/,Ub=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tf=/($^)/,Cg=/['\n\r\u2028\u2029\\]/g,ss="\\ud800-\\udfff",Ag="\\u0300-\\u036f",Il="\\ufe20-\\ufe2f",jb="\\u20d0-\\u20ff",Wu=Ag+Il+jb,If="\\u2700-\\u27bf",Tg="a-z\\xdf-\\xf6\\xf8-\\xff",$b="\\xac\\xb1\\xd7\\xf7",o0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gb="\\u2000-\\u206f",Vb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",J="A-Z\\xc0-\\xd6\\xd8-\\xde",ce="\\ufe0e\\ufe0f",re=$b+o0+Gb+Vb,ge="[']",be="["+ss+"]",pe="["+re+"]",De="["+Wu+"]",ze="\\d+",Ke="["+If+"]",Ze="["+Tg+"]",tt="[^"+ss+re+ze+If+Tg+J+"]",_t="\\ud83c[\\udffb-\\udfff]",ir="(?:"+De+"|"+_t+")",Tr="[^"+ss+"]",Ir="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",$r="["+J+"]",la="\\u200d",Rl="(?:"+Ze+"|"+tt+")",s0="(?:"+$r+"|"+tt+")",Ig="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Rf="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",Hb=ir+"?",Rg="["+ce+"]?",Xb="(?:"+la+"(?:"+[Tr,Ir,ln].join("|")+")"+Rg+Hb+")*",Pg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GY="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",g4=Rg+Hb+Xb,VY="(?:"+[Ke,Ir,ln].join("|")+")"+g4,HY="(?:"+[Tr+De+"?",De,Ir,ln,be].join("|")+")",XY=RegExp(ge,"g"),zY=RegExp(De,"g"),zb=RegExp(_t+"(?="+_t+")|"+HY+g4,"g"),WY=RegExp([$r+"?"+Ze+"+"+Ig+"(?="+[pe,$r,"$"].join("|")+")",s0+"+"+Rf+"(?="+[pe,$r+Rl,"$"].join("|")+")",$r+"?"+Rl+"+"+Ig,$r+"+"+Rf,GY,Pg,ze,VY].join("|"),"g"),YY=RegExp("["+la+ss+Wu+ce+"]"),qY=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,KY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ZY=-1,Qr={};Qr[Zt]=Qr[Oe]=Qr[j]=Qr[de]=Qr[Se]=Qr[ke]=Qr[ae]=Qr[Ie]=Qr[H]=!0,Qr[ie]=Qr[se]=Qr[Gt]=Qr[ue]=Qr[xt]=Qr[we]=Qr[Fe]=Qr[Ee]=Qr[Ge]=Qr[We]=Qr[Xe]=Qr[Rt]=Qr[ft]=Qr[ht]=Qr[Ht]=!1;var qr={};qr[ie]=qr[se]=qr[Gt]=qr[xt]=qr[ue]=qr[we]=qr[Zt]=qr[Oe]=qr[j]=qr[de]=qr[Se]=qr[Ge]=qr[We]=qr[Xe]=qr[Rt]=qr[ft]=qr[ht]=qr[St]=qr[ke]=qr[ae]=qr[Ie]=qr[H]=!0,qr[Fe]=qr[Ee]=qr[Ht]=!1;var JY={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},QY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eq={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rq=parseFloat,nq=parseInt,m4=typeof At=="object"&&At&&At.Object===Object&&At,iq=typeof self=="object"&&self&&self.Object===Object&&self,Oi=m4||iq||Function("return this")(),Wb=e&&!e.nodeType&&e,Yu=Wb&&!0&&t&&!t.nodeType&&t,_4=Yu&&Yu.exports===Wb,Yb=_4&&m4.process,to=function(){try{var _e=Yu&&Yu.require&&Yu.require("util").types;return _e||Yb&&Yb.binding&&Yb.binding("util")}catch{}}(),y4=to&&to.isArrayBuffer,x4=to&&to.isDate,b4=to&&to.isMap,w4=to&&to.isRegExp,E4=to&&to.isSet,S4=to&&to.isTypedArray;function Ma(_e,Me,Ne){switch(Ne.length){case 0:return _e.call(Me);case 1:return _e.call(Me,Ne[0]);case 2:return _e.call(Me,Ne[0],Ne[1]);case 3:return _e.call(Me,Ne[0],Ne[1],Ne[2])}return _e.apply(Me,Ne)}function aq(_e,Me,Ne,gt){for(var Vt=-1,kr=_e==null?0:_e.length;++Vt<kr;){var ii=_e[Vt];Me(gt,ii,Ne(ii),_e)}return gt}function ro(_e,Me){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt&&Me(_e[Ne],Ne,_e)!==!1;);return _e}function oq(_e,Me){for(var Ne=_e==null?0:_e.length;Ne--&&Me(_e[Ne],Ne,_e)!==!1;);return _e}function C4(_e,Me){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt;)if(!Me(_e[Ne],Ne,_e))return!1;return!0}function Pl(_e,Me){for(var Ne=-1,gt=_e==null?0:_e.length,Vt=0,kr=[];++Ne<gt;){var ii=_e[Ne];Me(ii,Ne,_e)&&(kr[Vt++]=ii)}return kr}function Og(_e,Me){var Ne=_e==null?0:_e.length;return!!Ne&&Pf(_e,Me,0)>-1}function qb(_e,Me,Ne){for(var gt=-1,Vt=_e==null?0:_e.length;++gt<Vt;)if(Ne(Me,_e[gt]))return!0;return!1}function un(_e,Me){for(var Ne=-1,gt=_e==null?0:_e.length,Vt=Array(gt);++Ne<gt;)Vt[Ne]=Me(_e[Ne],Ne,_e);return Vt}function Ol(_e,Me){for(var Ne=-1,gt=Me.length,Vt=_e.length;++Ne<gt;)_e[Vt+Ne]=Me[Ne];return _e}function Kb(_e,Me,Ne,gt){var Vt=-1,kr=_e==null?0:_e.length;for(gt&&kr&&(Ne=_e[++Vt]);++Vt<kr;)Ne=Me(Ne,_e[Vt],Vt,_e);return Ne}function sq(_e,Me,Ne,gt){var Vt=_e==null?0:_e.length;for(gt&&Vt&&(Ne=_e[--Vt]);Vt--;)Ne=Me(Ne,_e[Vt],Vt,_e);return Ne}function Zb(_e,Me){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt;)if(Me(_e[Ne],Ne,_e))return!0;return!1}var lq=Jb("length");function uq(_e){return _e.split("")}function cq(_e){return _e.match(sn)||[]}function A4(_e,Me,Ne){var gt;return Ne(_e,function(Vt,kr,ii){if(Me(Vt,kr,ii))return gt=kr,!1}),gt}function kg(_e,Me,Ne,gt){for(var Vt=_e.length,kr=Ne+(gt?1:-1);gt?kr--:++kr<Vt;)if(Me(_e[kr],kr,_e))return kr;return-1}function Pf(_e,Me,Ne){return Me===Me?wq(_e,Me,Ne):kg(_e,T4,Ne)}function fq(_e,Me,Ne,gt){for(var Vt=Ne-1,kr=_e.length;++Vt<kr;)if(gt(_e[Vt],Me))return Vt;return-1}function T4(_e){return _e!==_e}function I4(_e,Me){var Ne=_e==null?0:_e.length;return Ne?ew(_e,Me)/Ne:W}function Jb(_e){return function(Me){return Me==null?r:Me[_e]}}function Qb(_e){return function(Me){return _e==null?r:_e[Me]}}function R4(_e,Me,Ne,gt,Vt){return Vt(_e,function(kr,ii,Xr){Ne=gt?(gt=!1,kr):Me(Ne,kr,ii,Xr)}),Ne}function hq(_e,Me){var Ne=_e.length;for(_e.sort(Me);Ne--;)_e[Ne]=_e[Ne].value;return _e}function ew(_e,Me){for(var Ne,gt=-1,Vt=_e.length;++gt<Vt;){var kr=Me(_e[gt]);kr!==r&&(Ne=Ne===r?kr:Ne+kr)}return Ne}function tw(_e,Me){for(var Ne=-1,gt=Array(_e);++Ne<_e;)gt[Ne]=Me(Ne);return gt}function dq(_e,Me){return un(Me,function(Ne){return[Ne,_e[Ne]]})}function P4(_e){return _e&&_e.slice(0,N4(_e)+1).replace(Ar,"")}function Ba(_e){return function(Me){return _e(Me)}}function rw(_e,Me){return un(Me,function(Ne){return _e[Ne]})}function l0(_e,Me){return _e.has(Me)}function O4(_e,Me){for(var Ne=-1,gt=_e.length;++Ne<gt&&Pf(Me,_e[Ne],0)>-1;);return Ne}function k4(_e,Me){for(var Ne=_e.length;Ne--&&Pf(Me,_e[Ne],0)>-1;);return Ne}function pq(_e,Me){for(var Ne=_e.length,gt=0;Ne--;)_e[Ne]===Me&&++gt;return gt}var vq=Qb(JY),gq=Qb(QY);function mq(_e){return"\\"+tq[_e]}function _q(_e,Me){return _e==null?r:_e[Me]}function Of(_e){return YY.test(_e)}function yq(_e){return qY.test(_e)}function xq(_e){for(var Me,Ne=[];!(Me=_e.next()).done;)Ne.push(Me.value);return Ne}function nw(_e){var Me=-1,Ne=Array(_e.size);return _e.forEach(function(gt,Vt){Ne[++Me]=[Vt,gt]}),Ne}function F4(_e,Me){return function(Ne){return _e(Me(Ne))}}function kl(_e,Me){for(var Ne=-1,gt=_e.length,Vt=0,kr=[];++Ne<gt;){var ii=_e[Ne];(ii===Me||ii===u)&&(_e[Ne]=u,kr[Vt++]=Ne)}return kr}function Fg(_e){var Me=-1,Ne=Array(_e.size);return _e.forEach(function(gt){Ne[++Me]=gt}),Ne}function bq(_e){var Me=-1,Ne=Array(_e.size);return _e.forEach(function(gt){Ne[++Me]=[gt,gt]}),Ne}function wq(_e,Me,Ne){for(var gt=Ne-1,Vt=_e.length;++gt<Vt;)if(_e[gt]===Me)return gt;return-1}function Eq(_e,Me,Ne){for(var gt=Ne+1;gt--;)if(_e[gt]===Me)return gt;return gt}function kf(_e){return Of(_e)?Cq(_e):lq(_e)}function To(_e){return Of(_e)?Aq(_e):uq(_e)}function N4(_e){for(var Me=_e.length;Me--&&on.test(_e.charAt(Me)););return Me}var Sq=Qb(eq);function Cq(_e){for(var Me=zb.lastIndex=0;zb.test(_e);)++Me;return Me}function Aq(_e){return _e.match(zb)||[]}function Tq(_e){return _e.match(WY)||[]}var Iq=function _e(Me){Me=Me==null?Oi:Ff.defaults(Oi.Object(),Me,Ff.pick(Oi,KY));var Ne=Me.Array,gt=Me.Date,Vt=Me.Error,kr=Me.Function,ii=Me.Math,Xr=Me.Object,iw=Me.RegExp,Rq=Me.String,no=Me.TypeError,Ng=Ne.prototype,Pq=kr.prototype,Nf=Xr.prototype,Lg=Me["__core-js_shared__"],Mg=Pq.toString,Dr=Nf.hasOwnProperty,Oq=0,L4=function(){var x=/[^.]+$/.exec(Lg&&Lg.keys&&Lg.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Bg=Nf.toString,kq=Mg.call(Xr),Fq=Oi._,Nq=iw("^"+Mg.call(Dr).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dg=_4?Me.Buffer:r,Fl=Me.Symbol,Ug=Me.Uint8Array,M4=Dg?Dg.allocUnsafe:r,jg=F4(Xr.getPrototypeOf,Xr),B4=Xr.create,D4=Nf.propertyIsEnumerable,$g=Ng.splice,U4=Fl?Fl.isConcatSpreadable:r,u0=Fl?Fl.iterator:r,qu=Fl?Fl.toStringTag:r,Gg=function(){try{var x=ec(Xr,"defineProperty");return x({},"",{}),x}catch{}}(),Lq=Me.clearTimeout!==Oi.clearTimeout&&Me.clearTimeout,Mq=gt&&gt.now!==Oi.Date.now&&gt.now,Bq=Me.setTimeout!==Oi.setTimeout&&Me.setTimeout,Vg=ii.ceil,Hg=ii.floor,aw=Xr.getOwnPropertySymbols,Dq=Dg?Dg.isBuffer:r,j4=Me.isFinite,Uq=Ng.join,jq=F4(Xr.keys,Xr),ai=ii.max,Wi=ii.min,$q=gt.now,Gq=Me.parseInt,$4=ii.random,Vq=Ng.reverse,ow=ec(Me,"DataView"),c0=ec(Me,"Map"),sw=ec(Me,"Promise"),Lf=ec(Me,"Set"),f0=ec(Me,"WeakMap"),h0=ec(Xr,"create"),Xg=f0&&new f0,Mf={},Hq=tc(ow),Xq=tc(c0),zq=tc(sw),Wq=tc(Lf),Yq=tc(f0),zg=Fl?Fl.prototype:r,d0=zg?zg.valueOf:r,G4=zg?zg.toString:r;function K(x){if(Cn(x)&&!Xt(x)&&!(x instanceof yr)){if(x instanceof io)return x;if(Dr.call(x,"__wrapped__"))return VF(x)}return new io(x)}var Bf=function(){function x(){}return function(S){if(!yn(S))return{};if(B4)return B4(S);x.prototype=S;var I=new x;return x.prototype=r,I}}();function Wg(){}function io(x,S){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=r}K.templateSettings={escape:Ce,evaluate:dt,interpolate:Qe,variable:"",imports:{_:K}},K.prototype=Wg.prototype,K.prototype.constructor=K,io.prototype=Bf(Wg.prototype),io.prototype.constructor=io;function yr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function qq(){var x=new yr(this.__wrapped__);return x.__actions__=xa(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=xa(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=xa(this.__views__),x}function Kq(){if(this.__filtered__){var x=new yr(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function Zq(){var x=this.__wrapped__.value(),S=this.__dir__,I=Xt(x),M=S<0,$=I?x.length:0,Q=uZ(0,$,this.__views__),oe=Q.start,he=Q.end,xe=he-oe,je=M?he:oe-1,$e=this.__iteratees__,He=$e.length,lt=0,wt=Wi(xe,this.__takeCount__);if(!I||!M&&$==xe&&wt==xe)return hF(x,this.__actions__);var Nt=[];e:for(;xe--&&lt<wt;){je+=S;for(var ar=-1,Lt=x[je];++ar<He;){var gr=$e[ar],Er=gr.iteratee,ja=gr.type,fa=Er(Lt);if(ja==B)Lt=fa;else if(!fa){if(ja==L)continue e;break e}}Nt[lt++]=Lt}return Nt}yr.prototype=Bf(Wg.prototype),yr.prototype.constructor=yr;function Ku(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var M=x[S];this.set(M[0],M[1])}}function Jq(){this.__data__=h0?h0(null):{},this.size=0}function Qq(x){var S=this.has(x)&&delete this.__data__[x];return this.size-=S?1:0,S}function eK(x){var S=this.__data__;if(h0){var I=S[x];return I===c?r:I}return Dr.call(S,x)?S[x]:r}function tK(x){var S=this.__data__;return h0?S[x]!==r:Dr.call(S,x)}function rK(x,S){var I=this.__data__;return this.size+=this.has(x)?0:1,I[x]=h0&&S===r?c:S,this}Ku.prototype.clear=Jq,Ku.prototype.delete=Qq,Ku.prototype.get=eK,Ku.prototype.has=tK,Ku.prototype.set=rK;function $s(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var M=x[S];this.set(M[0],M[1])}}function nK(){this.__data__=[],this.size=0}function iK(x){var S=this.__data__,I=Yg(S,x);if(I<0)return!1;var M=S.length-1;return I==M?S.pop():$g.call(S,I,1),--this.size,!0}function aK(x){var S=this.__data__,I=Yg(S,x);return I<0?r:S[I][1]}function oK(x){return Yg(this.__data__,x)>-1}function sK(x,S){var I=this.__data__,M=Yg(I,x);return M<0?(++this.size,I.push([x,S])):I[M][1]=S,this}$s.prototype.clear=nK,$s.prototype.delete=iK,$s.prototype.get=aK,$s.prototype.has=oK,$s.prototype.set=sK;function Gs(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var M=x[S];this.set(M[0],M[1])}}function lK(){this.size=0,this.__data__={hash:new Ku,map:new(c0||$s),string:new Ku}}function uK(x){var S=om(this,x).delete(x);return this.size-=S?1:0,S}function cK(x){return om(this,x).get(x)}function fK(x){return om(this,x).has(x)}function hK(x,S){var I=om(this,x),M=I.size;return I.set(x,S),this.size+=I.size==M?0:1,this}Gs.prototype.clear=lK,Gs.prototype.delete=uK,Gs.prototype.get=cK,Gs.prototype.has=fK,Gs.prototype.set=hK;function Zu(x){var S=-1,I=x==null?0:x.length;for(this.__data__=new Gs;++S<I;)this.add(x[S])}function dK(x){return this.__data__.set(x,c),this}function pK(x){return this.__data__.has(x)}Zu.prototype.add=Zu.prototype.push=dK,Zu.prototype.has=pK;function Io(x){var S=this.__data__=new $s(x);this.size=S.size}function vK(){this.__data__=new $s,this.size=0}function gK(x){var S=this.__data__,I=S.delete(x);return this.size=S.size,I}function mK(x){return this.__data__.get(x)}function _K(x){return this.__data__.has(x)}function yK(x,S){var I=this.__data__;if(I instanceof $s){var M=I.__data__;if(!c0||M.length<i-1)return M.push([x,S]),this.size=++I.size,this;I=this.__data__=new Gs(M)}return I.set(x,S),this.size=I.size,this}Io.prototype.clear=vK,Io.prototype.delete=gK,Io.prototype.get=mK,Io.prototype.has=_K,Io.prototype.set=yK;function V4(x,S){var I=Xt(x),M=!I&&rc(x),$=!I&&!M&&Dl(x),Q=!I&&!M&&!$&&$f(x),oe=I||M||$||Q,he=oe?tw(x.length,Rq):[],xe=he.length;for(var je in x)(S||Dr.call(x,je))&&!(oe&&(je=="length"||$&&(je=="offset"||je=="parent")||Q&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||zs(je,xe)))&&he.push(je);return he}function H4(x){var S=x.length;return S?x[_w(0,S-1)]:r}function xK(x,S){return sm(xa(x),Ju(S,0,x.length))}function bK(x){return sm(xa(x))}function lw(x,S,I){(I!==r&&!Ro(x[S],I)||I===r&&!(S in x))&&Vs(x,S,I)}function p0(x,S,I){var M=x[S];(!(Dr.call(x,S)&&Ro(M,I))||I===r&&!(S in x))&&Vs(x,S,I)}function Yg(x,S){for(var I=x.length;I--;)if(Ro(x[I][0],S))return I;return-1}function wK(x,S,I,M){return Nl(x,function($,Q,oe){S(M,$,I($),oe)}),M}function X4(x,S){return x&&us(S,gi(S),x)}function EK(x,S){return x&&us(S,wa(S),x)}function Vs(x,S,I){S=="__proto__"&&Gg?Gg(x,S,{configurable:!0,enumerable:!0,value:I,writable:!0}):x[S]=I}function uw(x,S){for(var I=-1,M=S.length,$=Ne(M),Q=x==null;++I<M;)$[I]=Q?r:Vw(x,S[I]);return $}function Ju(x,S,I){return x===x&&(I!==r&&(x=x<=I?x:I),S!==r&&(x=x>=S?x:S)),x}function ao(x,S,I,M,$,Q){var oe,he=S&f,xe=S&h,je=S&p;if(I&&(oe=$?I(x,M,$,Q):I(x)),oe!==r)return oe;if(!yn(x))return x;var $e=Xt(x);if($e){if(oe=fZ(x),!he)return xa(x,oe)}else{var He=Yi(x),lt=He==Ee||He==Ae;if(Dl(x))return vF(x,he);if(He==Xe||He==ie||lt&&!$){if(oe=xe||lt?{}:NF(x),!he)return xe?eZ(x,EK(oe,x)):QK(x,X4(oe,x))}else{if(!qr[He])return $?x:{};oe=hZ(x,He,he)}}Q||(Q=new Io);var wt=Q.get(x);if(wt)return wt;Q.set(x,oe),uN(x)?x.forEach(function(Lt){oe.add(ao(Lt,S,I,Lt,x,Q))}):sN(x)&&x.forEach(function(Lt,gr){oe.set(gr,ao(Lt,S,I,gr,x,Q))});var Nt=je?xe?Rw:Iw:xe?wa:gi,ar=$e?r:Nt(x);return ro(ar||x,function(Lt,gr){ar&&(gr=Lt,Lt=x[gr]),p0(oe,gr,ao(Lt,S,I,gr,x,Q))}),oe}function SK(x){var S=gi(x);return function(I){return z4(I,x,S)}}function z4(x,S,I){var M=I.length;if(x==null)return!M;for(x=Xr(x);M--;){var $=I[M],Q=S[$],oe=x[$];if(oe===r&&!($ in x)||!Q(oe))return!1}return!0}function W4(x,S,I){if(typeof x!="function")throw new no(o);return b0(function(){x.apply(r,I)},S)}function v0(x,S,I,M){var $=-1,Q=Og,oe=!0,he=x.length,xe=[],je=S.length;if(!he)return xe;I&&(S=un(S,Ba(I))),M?(Q=qb,oe=!1):S.length>=i&&(Q=l0,oe=!1,S=new Zu(S));e:for(;++$<he;){var $e=x[$],He=I==null?$e:I($e);if($e=M||$e!==0?$e:0,oe&&He===He){for(var lt=je;lt--;)if(S[lt]===He)continue e;xe.push($e)}else Q(S,He,M)||xe.push($e)}return xe}var Nl=xF(ls),Y4=xF(fw,!0);function CK(x,S){var I=!0;return Nl(x,function(M,$,Q){return I=!!S(M,$,Q),I}),I}function qg(x,S,I){for(var M=-1,$=x.length;++M<$;){var Q=x[M],oe=S(Q);if(oe!=null&&(he===r?oe===oe&&!Ua(oe):I(oe,he)))var he=oe,xe=Q}return xe}function AK(x,S,I,M){var $=x.length;for(I=Jt(I),I<0&&(I=-I>$?0:$+I),M=M===r||M>$?$:Jt(M),M<0&&(M+=$),M=I>M?0:fN(M);I<M;)x[I++]=S;return x}function q4(x,S){var I=[];return Nl(x,function(M,$,Q){S(M,$,Q)&&I.push(M)}),I}function ki(x,S,I,M,$){var Q=-1,oe=x.length;for(I||(I=pZ),$||($=[]);++Q<oe;){var he=x[Q];S>0&&I(he)?S>1?ki(he,S-1,I,M,$):Ol($,he):M||($[$.length]=he)}return $}var cw=bF(),K4=bF(!0);function ls(x,S){return x&&cw(x,S,gi)}function fw(x,S){return x&&K4(x,S,gi)}function Kg(x,S){return Pl(S,function(I){return Ws(x[I])})}function Qu(x,S){S=Ml(S,x);for(var I=0,M=S.length;x!=null&&I<M;)x=x[cs(S[I++])];return I&&I==M?x:r}function Z4(x,S,I){var M=S(x);return Xt(x)?M:Ol(M,I(x))}function ua(x){return x==null?x===r?rr:Ve:qu&&qu in Xr(x)?lZ(x):bZ(x)}function hw(x,S){return x>S}function TK(x,S){return x!=null&&Dr.call(x,S)}function IK(x,S){return x!=null&&S in Xr(x)}function RK(x,S,I){return x>=Wi(S,I)&&x<ai(S,I)}function dw(x,S,I){for(var M=I?qb:Og,$=x[0].length,Q=x.length,oe=Q,he=Ne(Q),xe=1/0,je=[];oe--;){var $e=x[oe];oe&&S&&($e=un($e,Ba(S))),xe=Wi($e.length,xe),he[oe]=!I&&(S||$>=120&&$e.length>=120)?new Zu(oe&&$e):r}$e=x[0];var He=-1,lt=he[0];e:for(;++He<$&&je.length<xe;){var wt=$e[He],Nt=S?S(wt):wt;if(wt=I||wt!==0?wt:0,!(lt?l0(lt,Nt):M(je,Nt,I))){for(oe=Q;--oe;){var ar=he[oe];if(!(ar?l0(ar,Nt):M(x[oe],Nt,I)))continue e}lt&&lt.push(Nt),je.push(wt)}}return je}function PK(x,S,I,M){return ls(x,function($,Q,oe){S(M,I($),Q,oe)}),M}function g0(x,S,I){S=Ml(S,x),x=DF(x,S);var M=x==null?x:x[cs(so(S))];return M==null?r:Ma(M,x,I)}function J4(x){return Cn(x)&&ua(x)==ie}function OK(x){return Cn(x)&&ua(x)==Gt}function kK(x){return Cn(x)&&ua(x)==we}function m0(x,S,I,M,$){return x===S?!0:x==null||S==null||!Cn(x)&&!Cn(S)?x!==x&&S!==S:FK(x,S,I,M,m0,$)}function FK(x,S,I,M,$,Q){var oe=Xt(x),he=Xt(S),xe=oe?se:Yi(x),je=he?se:Yi(S);xe=xe==ie?Xe:xe,je=je==ie?Xe:je;var $e=xe==Xe,He=je==Xe,lt=xe==je;if(lt&&Dl(x)){if(!Dl(S))return!1;oe=!0,$e=!1}if(lt&&!$e)return Q||(Q=new Io),oe||$f(x)?OF(x,S,I,M,$,Q):oZ(x,S,xe,I,M,$,Q);if(!(I&d)){var wt=$e&&Dr.call(x,"__wrapped__"),Nt=He&&Dr.call(S,"__wrapped__");if(wt||Nt){var ar=wt?x.value():x,Lt=Nt?S.value():S;return Q||(Q=new Io),$(ar,Lt,I,M,Q)}}return lt?(Q||(Q=new Io),sZ(x,S,I,M,$,Q)):!1}function NK(x){return Cn(x)&&Yi(x)==Ge}function pw(x,S,I,M){var $=I.length,Q=$,oe=!M;if(x==null)return!Q;for(x=Xr(x);$--;){var he=I[$];if(oe&&he[2]?he[1]!==x[he[0]]:!(he[0]in x))return!1}for(;++$<Q;){he=I[$];var xe=he[0],je=x[xe],$e=he[1];if(oe&&he[2]){if(je===r&&!(xe in x))return!1}else{var He=new Io;if(M)var lt=M(je,$e,xe,x,S,He);if(!(lt===r?m0($e,je,d|v,M,He):lt))return!1}}return!0}function Q4(x){if(!yn(x)||gZ(x))return!1;var S=Ws(x)?Nq:Mb;return S.test(tc(x))}function LK(x){return Cn(x)&&ua(x)==Rt}function MK(x){return Cn(x)&&Yi(x)==ft}function BK(x){return Cn(x)&&dm(x.length)&&!!Qr[ua(x)]}function eF(x){return typeof x=="function"?x:x==null?Ea:typeof x=="object"?Xt(x)?nF(x[0],x[1]):rF(x):wN(x)}function vw(x){if(!x0(x))return jq(x);var S=[];for(var I in Xr(x))Dr.call(x,I)&&I!="constructor"&&S.push(I);return S}function DK(x){if(!yn(x))return xZ(x);var S=x0(x),I=[];for(var M in x)M=="constructor"&&(S||!Dr.call(x,M))||I.push(M);return I}function gw(x,S){return x<S}function tF(x,S){var I=-1,M=ba(x)?Ne(x.length):[];return Nl(x,function($,Q,oe){M[++I]=S($,Q,oe)}),M}function rF(x){var S=Ow(x);return S.length==1&&S[0][2]?MF(S[0][0],S[0][1]):function(I){return I===x||pw(I,x,S)}}function nF(x,S){return Fw(x)&&LF(S)?MF(cs(x),S):function(I){var M=Vw(I,x);return M===r&&M===S?Hw(I,x):m0(S,M,d|v)}}function Zg(x,S,I,M,$){x!==S&&cw(S,function(Q,oe){if($||($=new Io),yn(Q))UK(x,S,oe,I,Zg,M,$);else{var he=M?M(Lw(x,oe),Q,oe+"",x,S,$):r;he===r&&(he=Q),lw(x,oe,he)}},wa)}function UK(x,S,I,M,$,Q,oe){var he=Lw(x,I),xe=Lw(S,I),je=oe.get(xe);if(je){lw(x,I,je);return}var $e=Q?Q(he,xe,I+"",x,S,oe):r,He=$e===r;if(He){var lt=Xt(xe),wt=!lt&&Dl(xe),Nt=!lt&&!wt&&$f(xe);$e=xe,lt||wt||Nt?Xt(he)?$e=he:Bn(he)?$e=xa(he):wt?(He=!1,$e=vF(xe,!0)):Nt?(He=!1,$e=gF(xe,!0)):$e=[]:w0(xe)||rc(xe)?($e=he,rc(he)?$e=hN(he):(!yn(he)||Ws(he))&&($e=NF(xe))):He=!1}He&&(oe.set(xe,$e),$($e,xe,M,Q,oe),oe.delete(xe)),lw(x,I,$e)}function iF(x,S){var I=x.length;if(I)return S+=S<0?I:0,zs(S,I)?x[S]:r}function aF(x,S,I){S.length?S=un(S,function(Q){return Xt(Q)?function(oe){return Qu(oe,Q.length===1?Q[0]:Q)}:Q}):S=[Ea];var M=-1;S=un(S,Ba(Pt()));var $=tF(x,function(Q,oe,he){var xe=un(S,function(je){return je(Q)});return{criteria:xe,index:++M,value:Q}});return hq($,function(Q,oe){return JK(Q,oe,I)})}function jK(x,S){return oF(x,S,function(I,M){return Hw(x,M)})}function oF(x,S,I){for(var M=-1,$=S.length,Q={};++M<$;){var oe=S[M],he=Qu(x,oe);I(he,oe)&&_0(Q,Ml(oe,x),he)}return Q}function $K(x){return function(S){return Qu(S,x)}}function mw(x,S,I,M){var $=M?fq:Pf,Q=-1,oe=S.length,he=x;for(x===S&&(S=xa(S)),I&&(he=un(x,Ba(I)));++Q<oe;)for(var xe=0,je=S[Q],$e=I?I(je):je;(xe=$(he,$e,xe,M))>-1;)he!==x&&$g.call(he,xe,1),$g.call(x,xe,1);return x}function sF(x,S){for(var I=x?S.length:0,M=I-1;I--;){var $=S[I];if(I==M||$!==Q){var Q=$;zs($)?$g.call(x,$,1):bw(x,$)}}return x}function _w(x,S){return x+Hg($4()*(S-x+1))}function GK(x,S,I,M){for(var $=-1,Q=ai(Vg((S-x)/(I||1)),0),oe=Ne(Q);Q--;)oe[M?Q:++$]=x,x+=I;return oe}function yw(x,S){var I="";if(!x||S<1||S>ee)return I;do S%2&&(I+=x),S=Hg(S/2),S&&(x+=x);while(S);return I}function ur(x,S){return Mw(BF(x,S,Ea),x+"")}function VK(x){return H4(Gf(x))}function HK(x,S){var I=Gf(x);return sm(I,Ju(S,0,I.length))}function _0(x,S,I,M){if(!yn(x))return x;S=Ml(S,x);for(var $=-1,Q=S.length,oe=Q-1,he=x;he!=null&&++$<Q;){var xe=cs(S[$]),je=I;if(xe==="__proto__"||xe==="constructor"||xe==="prototype")return x;if($!=oe){var $e=he[xe];je=M?M($e,xe,he):r,je===r&&(je=yn($e)?$e:zs(S[$+1])?[]:{})}p0(he,xe,je),he=he[xe]}return x}var lF=Xg?function(x,S){return Xg.set(x,S),x}:Ea,XK=Gg?function(x,S){return Gg(x,"toString",{configurable:!0,enumerable:!1,value:zw(S),writable:!0})}:Ea;function zK(x){return sm(Gf(x))}function oo(x,S,I){var M=-1,$=x.length;S<0&&(S=-S>$?0:$+S),I=I>$?$:I,I<0&&(I+=$),$=S>I?0:I-S>>>0,S>>>=0;for(var Q=Ne($);++M<$;)Q[M]=x[M+S];return Q}function WK(x,S){var I;return Nl(x,function(M,$,Q){return I=S(M,$,Q),!I}),!!I}function Jg(x,S,I){var M=0,$=x==null?M:x.length;if(typeof S=="number"&&S===S&&$<=V){for(;M<$;){var Q=M+$>>>1,oe=x[Q];oe!==null&&!Ua(oe)&&(I?oe<=S:oe<S)?M=Q+1:$=Q}return $}return xw(x,S,Ea,I)}function xw(x,S,I,M){var $=0,Q=x==null?0:x.length;if(Q===0)return 0;S=I(S);for(var oe=S!==S,he=S===null,xe=Ua(S),je=S===r;$<Q;){var $e=Hg(($+Q)/2),He=I(x[$e]),lt=He!==r,wt=He===null,Nt=He===He,ar=Ua(He);if(oe)var Lt=M||Nt;else je?Lt=Nt&&(M||lt):he?Lt=Nt&&lt&&(M||!wt):xe?Lt=Nt&&lt&&!wt&&(M||!ar):wt||ar?Lt=!1:Lt=M?He<=S:He<S;Lt?$=$e+1:Q=$e}return Wi(Q,z)}function uF(x,S){for(var I=-1,M=x.length,$=0,Q=[];++I<M;){var oe=x[I],he=S?S(oe):oe;if(!I||!Ro(he,xe)){var xe=he;Q[$++]=oe===0?0:oe}}return Q}function cF(x){return typeof x=="number"?x:Ua(x)?W:+x}function Da(x){if(typeof x=="string")return x;if(Xt(x))return un(x,Da)+"";if(Ua(x))return G4?G4.call(x):"";var S=x+"";return S=="0"&&1/x==-X?"-0":S}function Ll(x,S,I){var M=-1,$=Og,Q=x.length,oe=!0,he=[],xe=he;if(I)oe=!1,$=qb;else if(Q>=i){var je=S?null:iZ(x);if(je)return Fg(je);oe=!1,$=l0,xe=new Zu}else xe=S?[]:he;e:for(;++M<Q;){var $e=x[M],He=S?S($e):$e;if($e=I||$e!==0?$e:0,oe&&He===He){for(var lt=xe.length;lt--;)if(xe[lt]===He)continue e;S&&xe.push(He),he.push($e)}else $(xe,He,I)||(xe!==he&&xe.push(He),he.push($e))}return he}function bw(x,S){return S=Ml(S,x),x=DF(x,S),x==null||delete x[cs(so(S))]}function fF(x,S,I,M){return _0(x,S,I(Qu(x,S)),M)}function Qg(x,S,I,M){for(var $=x.length,Q=M?$:-1;(M?Q--:++Q<$)&&S(x[Q],Q,x););return I?oo(x,M?0:Q,M?Q+1:$):oo(x,M?Q+1:0,M?$:Q)}function hF(x,S){var I=x;return I instanceof yr&&(I=I.value()),Kb(S,function(M,$){return $.func.apply($.thisArg,Ol([M],$.args))},I)}function ww(x,S,I){var M=x.length;if(M<2)return M?Ll(x[0]):[];for(var $=-1,Q=Ne(M);++$<M;)for(var oe=x[$],he=-1;++he<M;)he!=$&&(Q[$]=v0(Q[$]||oe,x[he],S,I));return Ll(ki(Q,1),S,I)}function dF(x,S,I){for(var M=-1,$=x.length,Q=S.length,oe={};++M<$;){var he=M<Q?S[M]:r;I(oe,x[M],he)}return oe}function Ew(x){return Bn(x)?x:[]}function Sw(x){return typeof x=="function"?x:Ea}function Ml(x,S){return Xt(x)?x:Fw(x,S)?[x]:GF(Lr(x))}var YK=ur;function Bl(x,S,I){var M=x.length;return I=I===r?M:I,!S&&I>=M?x:oo(x,S,I)}var pF=Lq||function(x){return Oi.clearTimeout(x)};function vF(x,S){if(S)return x.slice();var I=x.length,M=M4?M4(I):new x.constructor(I);return x.copy(M),M}function Cw(x){var S=new x.constructor(x.byteLength);return new Ug(S).set(new Ug(x)),S}function qK(x,S){var I=S?Cw(x.buffer):x.buffer;return new x.constructor(I,x.byteOffset,x.byteLength)}function KK(x){var S=new x.constructor(x.source,sa.exec(x));return S.lastIndex=x.lastIndex,S}function ZK(x){return d0?Xr(d0.call(x)):{}}function gF(x,S){var I=S?Cw(x.buffer):x.buffer;return new x.constructor(I,x.byteOffset,x.length)}function mF(x,S){if(x!==S){var I=x!==r,M=x===null,$=x===x,Q=Ua(x),oe=S!==r,he=S===null,xe=S===S,je=Ua(S);if(!he&&!je&&!Q&&x>S||Q&&oe&&xe&&!he&&!je||M&&oe&&xe||!I&&xe||!$)return 1;if(!M&&!Q&&!je&&x<S||je&&I&&$&&!M&&!Q||he&&I&&$||!oe&&$||!xe)return-1}return 0}function JK(x,S,I){for(var M=-1,$=x.criteria,Q=S.criteria,oe=$.length,he=I.length;++M<oe;){var xe=mF($[M],Q[M]);if(xe){if(M>=he)return xe;var je=I[M];return xe*(je=="desc"?-1:1)}}return x.index-S.index}function _F(x,S,I,M){for(var $=-1,Q=x.length,oe=I.length,he=-1,xe=S.length,je=ai(Q-oe,0),$e=Ne(xe+je),He=!M;++he<xe;)$e[he]=S[he];for(;++$<oe;)(He||$<Q)&&($e[I[$]]=x[$]);for(;je--;)$e[he++]=x[$++];return $e}function yF(x,S,I,M){for(var $=-1,Q=x.length,oe=-1,he=I.length,xe=-1,je=S.length,$e=ai(Q-he,0),He=Ne($e+je),lt=!M;++$<$e;)He[$]=x[$];for(var wt=$;++xe<je;)He[wt+xe]=S[xe];for(;++oe<he;)(lt||$<Q)&&(He[wt+I[oe]]=x[$++]);return He}function xa(x,S){var I=-1,M=x.length;for(S||(S=Ne(M));++I<M;)S[I]=x[I];return S}function us(x,S,I,M){var $=!I;I||(I={});for(var Q=-1,oe=S.length;++Q<oe;){var he=S[Q],xe=M?M(I[he],x[he],he,I,x):r;xe===r&&(xe=x[he]),$?Vs(I,he,xe):p0(I,he,xe)}return I}function QK(x,S){return us(x,kw(x),S)}function eZ(x,S){return us(x,kF(x),S)}function em(x,S){return function(I,M){var $=Xt(I)?aq:wK,Q=S?S():{};return $(I,x,Pt(M,2),Q)}}function Df(x){return ur(function(S,I){var M=-1,$=I.length,Q=$>1?I[$-1]:r,oe=$>2?I[2]:r;for(Q=x.length>3&&typeof Q=="function"?($--,Q):r,oe&&ca(I[0],I[1],oe)&&(Q=$<3?r:Q,$=1),S=Xr(S);++M<$;){var he=I[M];he&&x(S,he,M,Q)}return S})}function xF(x,S){return function(I,M){if(I==null)return I;if(!ba(I))return x(I,M);for(var $=I.length,Q=S?$:-1,oe=Xr(I);(S?Q--:++Q<$)&&M(oe[Q],Q,oe)!==!1;);return I}}function bF(x){return function(S,I,M){for(var $=-1,Q=Xr(S),oe=M(S),he=oe.length;he--;){var xe=oe[x?he:++$];if(I(Q[xe],xe,Q)===!1)break}return S}}function tZ(x,S,I){var M=S&m,$=y0(x);function Q(){var oe=this&&this!==Oi&&this instanceof Q?$:x;return oe.apply(M?I:this,arguments)}return Q}function wF(x){return function(S){S=Lr(S);var I=Of(S)?To(S):r,M=I?I[0]:S.charAt(0),$=I?Bl(I,1).join(""):S.slice(1);return M[x]()+$}}function Uf(x){return function(S){return Kb(xN(yN(S).replace(XY,"")),x,"")}}function y0(x){return function(){var S=arguments;switch(S.length){case 0:return new x;case 1:return new x(S[0]);case 2:return new x(S[0],S[1]);case 3:return new x(S[0],S[1],S[2]);case 4:return new x(S[0],S[1],S[2],S[3]);case 5:return new x(S[0],S[1],S[2],S[3],S[4]);case 6:return new x(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new x(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var I=Bf(x.prototype),M=x.apply(I,S);return yn(M)?M:I}}function rZ(x,S,I){var M=y0(x);function $(){for(var Q=arguments.length,oe=Ne(Q),he=Q,xe=jf($);he--;)oe[he]=arguments[he];var je=Q<3&&oe[0]!==xe&&oe[Q-1]!==xe?[]:kl(oe,xe);if(Q-=je.length,Q<I)return TF(x,S,tm,$.placeholder,r,oe,je,r,r,I-Q);var $e=this&&this!==Oi&&this instanceof $?M:x;return Ma($e,this,oe)}return $}function EF(x){return function(S,I,M){var $=Xr(S);if(!ba(S)){var Q=Pt(I,3);S=gi(S),I=function(he){return Q($[he],he,$)}}var oe=x(S,I,M);return oe>-1?$[Q?S[oe]:oe]:r}}function SF(x){return Xs(function(S){var I=S.length,M=I,$=io.prototype.thru;for(x&&S.reverse();M--;){var Q=S[M];if(typeof Q!="function")throw new no(o);if($&&!oe&&am(Q)=="wrapper")var oe=new io([],!0)}for(M=oe?M:I;++M<I;){Q=S[M];var he=am(Q),xe=he=="wrapper"?Pw(Q):r;xe&&Nw(xe[0])&&xe[1]==(C|y|b|A)&&!xe[4].length&&xe[9]==1?oe=oe[am(xe[0])].apply(oe,xe[3]):oe=Q.length==1&&Nw(Q)?oe[he]():oe.thru(Q)}return function(){var je=arguments,$e=je[0];if(oe&&je.length==1&&Xt($e))return oe.plant($e).value();for(var He=0,lt=I?S[He].apply(this,je):$e;++He<I;)lt=S[He].call(this,lt);return lt}})}function tm(x,S,I,M,$,Q,oe,he,xe,je){var $e=S&C,He=S&m,lt=S&g,wt=S&(y|w),Nt=S&T,ar=lt?r:y0(x);function Lt(){for(var gr=arguments.length,Er=Ne(gr),ja=gr;ja--;)Er[ja]=arguments[ja];if(wt)var fa=jf(Lt),$a=pq(Er,fa);if(M&&(Er=_F(Er,M,$,wt)),Q&&(Er=yF(Er,Q,oe,wt)),gr-=$a,wt&&gr<je){var Dn=kl(Er,fa);return TF(x,S,tm,Lt.placeholder,I,Er,Dn,he,xe,je-gr)}var Po=He?I:this,qs=lt?Po[x]:x;return gr=Er.length,he?Er=wZ(Er,he):Nt&&gr>1&&Er.reverse(),$e&&xe<gr&&(Er.length=xe),this&&this!==Oi&&this instanceof Lt&&(qs=ar||y0(qs)),qs.apply(Po,Er)}return Lt}function CF(x,S){return function(I,M){return PK(I,x,S(M),{})}}function rm(x,S){return function(I,M){var $;if(I===r&&M===r)return S;if(I!==r&&($=I),M!==r){if($===r)return M;typeof I=="string"||typeof M=="string"?(I=Da(I),M=Da(M)):(I=cF(I),M=cF(M)),$=x(I,M)}return $}}function Aw(x){return Xs(function(S){return S=un(S,Ba(Pt())),ur(function(I){var M=this;return x(S,function($){return Ma($,M,I)})})})}function nm(x,S){S=S===r?" ":Da(S);var I=S.length;if(I<2)return I?yw(S,x):S;var M=yw(S,Vg(x/kf(S)));return Of(S)?Bl(To(M),0,x).join(""):M.slice(0,x)}function nZ(x,S,I,M){var $=S&m,Q=y0(x);function oe(){for(var he=-1,xe=arguments.length,je=-1,$e=M.length,He=Ne($e+xe),lt=this&&this!==Oi&&this instanceof oe?Q:x;++je<$e;)He[je]=M[je];for(;xe--;)He[je++]=arguments[++he];return Ma(lt,$?I:this,He)}return oe}function AF(x){return function(S,I,M){return M&&typeof M!="number"&&ca(S,I,M)&&(I=M=r),S=Ys(S),I===r?(I=S,S=0):I=Ys(I),M=M===r?S<I?1:-1:Ys(M),GK(S,I,M,x)}}function im(x){return function(S,I){return typeof S=="string"&&typeof I=="string"||(S=lo(S),I=lo(I)),x(S,I)}}function TF(x,S,I,M,$,Q,oe,he,xe,je){var $e=S&y,He=$e?oe:r,lt=$e?r:oe,wt=$e?Q:r,Nt=$e?r:Q;S|=$e?b:E,S&=~($e?E:b),S&_||(S&=~(m|g));var ar=[x,S,$,wt,He,Nt,lt,he,xe,je],Lt=I.apply(r,ar);return Nw(x)&&UF(Lt,ar),Lt.placeholder=M,jF(Lt,x,S)}function Tw(x){var S=ii[x];return function(I,M){if(I=lo(I),M=M==null?0:Wi(Jt(M),292),M&&j4(I)){var $=(Lr(I)+"e").split("e"),Q=S($[0]+"e"+(+$[1]+M));return $=(Lr(Q)+"e").split("e"),+($[0]+"e"+(+$[1]-M))}return S(I)}}var iZ=Lf&&1/Fg(new Lf([,-0]))[1]==X?function(x){return new Lf(x)}:qw;function IF(x){return function(S){var I=Yi(S);return I==Ge?nw(S):I==ft?bq(S):dq(S,x(S))}}function Hs(x,S,I,M,$,Q,oe,he){var xe=S&g;if(!xe&&typeof x!="function")throw new no(o);var je=M?M.length:0;if(je||(S&=~(b|E),M=$=r),oe=oe===r?oe:ai(Jt(oe),0),he=he===r?he:Jt(he),je-=$?$.length:0,S&E){var $e=M,He=$;M=$=r}var lt=xe?r:Pw(x),wt=[x,S,I,M,$,$e,He,Q,oe,he];if(lt&&yZ(wt,lt),x=wt[0],S=wt[1],I=wt[2],M=wt[3],$=wt[4],he=wt[9]=wt[9]===r?xe?0:x.length:ai(wt[9]-je,0),!he&&S&(y|w)&&(S&=~(y|w)),!S||S==m)var Nt=tZ(x,S,I);else S==y||S==w?Nt=rZ(x,S,he):(S==b||S==(m|b))&&!$.length?Nt=nZ(x,S,I,M):Nt=tm.apply(r,wt);var ar=lt?lF:UF;return jF(ar(Nt,wt),x,S)}function RF(x,S,I,M){return x===r||Ro(x,Nf[I])&&!Dr.call(M,I)?S:x}function PF(x,S,I,M,$,Q){return yn(x)&&yn(S)&&(Q.set(S,x),Zg(x,S,r,PF,Q),Q.delete(S)),x}function aZ(x){return w0(x)?r:x}function OF(x,S,I,M,$,Q){var oe=I&d,he=x.length,xe=S.length;if(he!=xe&&!(oe&&xe>he))return!1;var je=Q.get(x),$e=Q.get(S);if(je&&$e)return je==S&&$e==x;var He=-1,lt=!0,wt=I&v?new Zu:r;for(Q.set(x,S),Q.set(S,x);++He<he;){var Nt=x[He],ar=S[He];if(M)var Lt=oe?M(ar,Nt,He,S,x,Q):M(Nt,ar,He,x,S,Q);if(Lt!==r){if(Lt)continue;lt=!1;break}if(wt){if(!Zb(S,function(gr,Er){if(!l0(wt,Er)&&(Nt===gr||$(Nt,gr,I,M,Q)))return wt.push(Er)})){lt=!1;break}}else if(!(Nt===ar||$(Nt,ar,I,M,Q))){lt=!1;break}}return Q.delete(x),Q.delete(S),lt}function oZ(x,S,I,M,$,Q,oe){switch(I){case xt:if(x.byteLength!=S.byteLength||x.byteOffset!=S.byteOffset)return!1;x=x.buffer,S=S.buffer;case Gt:return!(x.byteLength!=S.byteLength||!Q(new Ug(x),new Ug(S)));case ue:case we:case We:return Ro(+x,+S);case Fe:return x.name==S.name&&x.message==S.message;case Rt:case ht:return x==S+"";case Ge:var he=nw;case ft:var xe=M&d;if(he||(he=Fg),x.size!=S.size&&!xe)return!1;var je=oe.get(x);if(je)return je==S;M|=v,oe.set(x,S);var $e=OF(he(x),he(S),M,$,Q,oe);return oe.delete(x),$e;case St:if(d0)return d0.call(x)==d0.call(S)}return!1}function sZ(x,S,I,M,$,Q){var oe=I&d,he=Iw(x),xe=he.length,je=Iw(S),$e=je.length;if(xe!=$e&&!oe)return!1;for(var He=xe;He--;){var lt=he[He];if(!(oe?lt in S:Dr.call(S,lt)))return!1}var wt=Q.get(x),Nt=Q.get(S);if(wt&&Nt)return wt==S&&Nt==x;var ar=!0;Q.set(x,S),Q.set(S,x);for(var Lt=oe;++He<xe;){lt=he[He];var gr=x[lt],Er=S[lt];if(M)var ja=oe?M(Er,gr,lt,S,x,Q):M(gr,Er,lt,x,S,Q);if(!(ja===r?gr===Er||$(gr,Er,I,M,Q):ja)){ar=!1;break}Lt||(Lt=lt=="constructor")}if(ar&&!Lt){var fa=x.constructor,$a=S.constructor;fa!=$a&&"constructor"in x&&"constructor"in S&&!(typeof fa=="function"&&fa instanceof fa&&typeof $a=="function"&&$a instanceof $a)&&(ar=!1)}return Q.delete(x),Q.delete(S),ar}function Xs(x){return Mw(BF(x,r,zF),x+"")}function Iw(x){return Z4(x,gi,kw)}function Rw(x){return Z4(x,wa,kF)}var Pw=Xg?function(x){return Xg.get(x)}:qw;function am(x){for(var S=x.name+"",I=Mf[S],M=Dr.call(Mf,S)?I.length:0;M--;){var $=I[M],Q=$.func;if(Q==null||Q==x)return $.name}return S}function jf(x){var S=Dr.call(K,"placeholder")?K:x;return S.placeholder}function Pt(){var x=K.iteratee||Ww;return x=x===Ww?eF:x,arguments.length?x(arguments[0],arguments[1]):x}function om(x,S){var I=x.__data__;return vZ(S)?I[typeof S=="string"?"string":"hash"]:I.map}function Ow(x){for(var S=gi(x),I=S.length;I--;){var M=S[I],$=x[M];S[I]=[M,$,LF($)]}return S}function ec(x,S){var I=_q(x,S);return Q4(I)?I:r}function lZ(x){var S=Dr.call(x,qu),I=x[qu];try{x[qu]=r;var M=!0}catch{}var $=Bg.call(x);return M&&(S?x[qu]=I:delete x[qu]),$}var kw=aw?function(x){return x==null?[]:(x=Xr(x),Pl(aw(x),function(S){return D4.call(x,S)}))}:Kw,kF=aw?function(x){for(var S=[];x;)Ol(S,kw(x)),x=jg(x);return S}:Kw,Yi=ua;(ow&&Yi(new ow(new ArrayBuffer(1)))!=xt||c0&&Yi(new c0)!=Ge||sw&&Yi(sw.resolve())!=qe||Lf&&Yi(new Lf)!=ft||f0&&Yi(new f0)!=Ht)&&(Yi=function(x){var S=ua(x),I=S==Xe?x.constructor:r,M=I?tc(I):"";if(M)switch(M){case Hq:return xt;case Xq:return Ge;case zq:return qe;case Wq:return ft;case Yq:return Ht}return S});function uZ(x,S,I){for(var M=-1,$=I.length;++M<$;){var Q=I[M],oe=Q.size;switch(Q.type){case"drop":x+=oe;break;case"dropRight":S-=oe;break;case"take":S=Wi(S,x+oe);break;case"takeRight":x=ai(x,S-oe);break}}return{start:x,end:S}}function cZ(x){var S=x.match(Al);return S?S[1].split(Tl):[]}function FF(x,S,I){S=Ml(S,x);for(var M=-1,$=S.length,Q=!1;++M<$;){var oe=cs(S[M]);if(!(Q=x!=null&&I(x,oe)))break;x=x[oe]}return Q||++M!=$?Q:($=x==null?0:x.length,!!$&&dm($)&&zs(oe,$)&&(Xt(x)||rc(x)))}function fZ(x){var S=x.length,I=new x.constructor(S);return S&&typeof x[0]=="string"&&Dr.call(x,"index")&&(I.index=x.index,I.input=x.input),I}function NF(x){return typeof x.constructor=="function"&&!x0(x)?Bf(jg(x)):{}}function hZ(x,S,I){var M=x.constructor;switch(S){case Gt:return Cw(x);case ue:case we:return new M(+x);case xt:return qK(x,I);case Zt:case Oe:case j:case de:case Se:case ke:case ae:case Ie:case H:return gF(x,I);case Ge:return new M;case We:case ht:return new M(x);case Rt:return KK(x);case ft:return new M;case St:return ZK(x)}}function dZ(x,S){var I=S.length;if(!I)return x;var M=I-1;return S[M]=(I>1?"& ":"")+S[M],S=S.join(I>2?", ":" "),x.replace(qn,`{
/* [wrapped with `+S+`] */
`)}function pZ(x){return Xt(x)||rc(x)||!!(U4&&x&&x[U4])}function zs(x,S){var I=typeof x;return S=S??ee,!!S&&(I=="number"||I!="symbol"&&Db.test(x))&&x>-1&&x%1==0&&x<S}function ca(x,S,I){if(!yn(I))return!1;var M=typeof S;return(M=="number"?ba(I)&&zs(S,I.length):M=="string"&&S in I)?Ro(I[S],x):!1}function Fw(x,S){if(Xt(x))return!1;var I=typeof x;return I=="number"||I=="symbol"||I=="boolean"||x==null||Ua(x)?!0:Ft.test(x)||!ot.test(x)||S!=null&&x in Xr(S)}function vZ(x){var S=typeof x;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?x!=="__proto__":x===null}function Nw(x){var S=am(x),I=K[S];if(typeof I!="function"||!(S in yr.prototype))return!1;if(x===I)return!0;var M=Pw(I);return!!M&&x===M[0]}function gZ(x){return!!L4&&L4 in x}var mZ=Lg?Ws:Zw;function x0(x){var S=x&&x.constructor,I=typeof S=="function"&&S.prototype||Nf;return x===I}function LF(x){return x===x&&!yn(x)}function MF(x,S){return function(I){return I==null?!1:I[x]===S&&(S!==r||x in Xr(I))}}function _Z(x){var S=fm(x,function(M){return I.size===l&&I.clear(),M}),I=S.cache;return S}function yZ(x,S){var I=x[1],M=S[1],$=I|M,Q=$<(m|g|C),oe=M==C&&I==y||M==C&&I==A&&x[7].length<=S[8]||M==(C|A)&&S[7].length<=S[8]&&I==y;if(!(Q||oe))return x;M&m&&(x[2]=S[2],$|=I&m?0:_);var he=S[3];if(he){var xe=x[3];x[3]=xe?_F(xe,he,S[4]):he,x[4]=xe?kl(x[3],u):S[4]}return he=S[5],he&&(xe=x[5],x[5]=xe?yF(xe,he,S[6]):he,x[6]=xe?kl(x[5],u):S[6]),he=S[7],he&&(x[7]=he),M&C&&(x[8]=x[8]==null?S[8]:Wi(x[8],S[8])),x[9]==null&&(x[9]=S[9]),x[0]=S[0],x[1]=$,x}function xZ(x){var S=[];if(x!=null)for(var I in Xr(x))S.push(I);return S}function bZ(x){return Bg.call(x)}function BF(x,S,I){return S=ai(S===r?x.length-1:S,0),function(){for(var M=arguments,$=-1,Q=ai(M.length-S,0),oe=Ne(Q);++$<Q;)oe[$]=M[S+$];$=-1;for(var he=Ne(S+1);++$<S;)he[$]=M[$];return he[S]=I(oe),Ma(x,this,he)}}function DF(x,S){return S.length<2?x:Qu(x,oo(S,0,-1))}function wZ(x,S){for(var I=x.length,M=Wi(S.length,I),$=xa(x);M--;){var Q=S[M];x[M]=zs(Q,I)?$[Q]:r}return x}function Lw(x,S){if(!(S==="constructor"&&typeof x[S]=="function")&&S!="__proto__")return x[S]}var UF=$F(lF),b0=Bq||function(x,S){return Oi.setTimeout(x,S)},Mw=$F(XK);function jF(x,S,I){var M=S+"";return Mw(x,dZ(M,EZ(cZ(M),I)))}function $F(x){var S=0,I=0;return function(){var M=$q(),$=k-(M-I);if(I=M,$>0){if(++S>=P)return arguments[0]}else S=0;return x.apply(r,arguments)}}function sm(x,S){var I=-1,M=x.length,$=M-1;for(S=S===r?M:S;++I<S;){var Q=_w(I,$),oe=x[Q];x[Q]=x[I],x[I]=oe}return x.length=S,x}var GF=_Z(function(x){var S=[];return x.charCodeAt(0)===46&&S.push(""),x.replace(Ln,function(I,M,$,Q){S.push($?Q.replace(Mn,"$1"):M||I)}),S});function cs(x){if(typeof x=="string"||Ua(x))return x;var S=x+"";return S=="0"&&1/x==-X?"-0":S}function tc(x){if(x!=null){try{return Mg.call(x)}catch{}try{return x+""}catch{}}return""}function EZ(x,S){return ro(G,function(I){var M="_."+I[0];S&I[1]&&!Og(x,M)&&x.push(M)}),x.sort()}function VF(x){if(x instanceof yr)return x.clone();var S=new io(x.__wrapped__,x.__chain__);return S.__actions__=xa(x.__actions__),S.__index__=x.__index__,S.__values__=x.__values__,S}function SZ(x,S,I){(I?ca(x,S,I):S===r)?S=1:S=ai(Jt(S),0);var M=x==null?0:x.length;if(!M||S<1)return[];for(var $=0,Q=0,oe=Ne(Vg(M/S));$<M;)oe[Q++]=oo(x,$,$+=S);return oe}function CZ(x){for(var S=-1,I=x==null?0:x.length,M=0,$=[];++S<I;){var Q=x[S];Q&&($[M++]=Q)}return $}function AZ(){var x=arguments.length;if(!x)return[];for(var S=Ne(x-1),I=arguments[0],M=x;M--;)S[M-1]=arguments[M];return Ol(Xt(I)?xa(I):[I],ki(S,1))}var TZ=ur(function(x,S){return Bn(x)?v0(x,ki(S,1,Bn,!0)):[]}),IZ=ur(function(x,S){var I=so(S);return Bn(I)&&(I=r),Bn(x)?v0(x,ki(S,1,Bn,!0),Pt(I,2)):[]}),RZ=ur(function(x,S){var I=so(S);return Bn(I)&&(I=r),Bn(x)?v0(x,ki(S,1,Bn,!0),r,I):[]});function PZ(x,S,I){var M=x==null?0:x.length;return M?(S=I||S===r?1:Jt(S),oo(x,S<0?0:S,M)):[]}function OZ(x,S,I){var M=x==null?0:x.length;return M?(S=I||S===r?1:Jt(S),S=M-S,oo(x,0,S<0?0:S)):[]}function kZ(x,S){return x&&x.length?Qg(x,Pt(S,3),!0,!0):[]}function FZ(x,S){return x&&x.length?Qg(x,Pt(S,3),!0):[]}function NZ(x,S,I,M){var $=x==null?0:x.length;return $?(I&&typeof I!="number"&&ca(x,S,I)&&(I=0,M=$),AK(x,S,I,M)):[]}function HF(x,S,I){var M=x==null?0:x.length;if(!M)return-1;var $=I==null?0:Jt(I);return $<0&&($=ai(M+$,0)),kg(x,Pt(S,3),$)}function XF(x,S,I){var M=x==null?0:x.length;if(!M)return-1;var $=M-1;return I!==r&&($=Jt(I),$=I<0?ai(M+$,0):Wi($,M-1)),kg(x,Pt(S,3),$,!0)}function zF(x){var S=x==null?0:x.length;return S?ki(x,1):[]}function LZ(x){var S=x==null?0:x.length;return S?ki(x,X):[]}function MZ(x,S){var I=x==null?0:x.length;return I?(S=S===r?1:Jt(S),ki(x,S)):[]}function BZ(x){for(var S=-1,I=x==null?0:x.length,M={};++S<I;){var $=x[S];M[$[0]]=$[1]}return M}function WF(x){return x&&x.length?x[0]:r}function DZ(x,S,I){var M=x==null?0:x.length;if(!M)return-1;var $=I==null?0:Jt(I);return $<0&&($=ai(M+$,0)),Pf(x,S,$)}function UZ(x){var S=x==null?0:x.length;return S?oo(x,0,-1):[]}var jZ=ur(function(x){var S=un(x,Ew);return S.length&&S[0]===x[0]?dw(S):[]}),$Z=ur(function(x){var S=so(x),I=un(x,Ew);return S===so(I)?S=r:I.pop(),I.length&&I[0]===x[0]?dw(I,Pt(S,2)):[]}),GZ=ur(function(x){var S=so(x),I=un(x,Ew);return S=typeof S=="function"?S:r,S&&I.pop(),I.length&&I[0]===x[0]?dw(I,r,S):[]});function VZ(x,S){return x==null?"":Uq.call(x,S)}function so(x){var S=x==null?0:x.length;return S?x[S-1]:r}function HZ(x,S,I){var M=x==null?0:x.length;if(!M)return-1;var $=M;return I!==r&&($=Jt(I),$=$<0?ai(M+$,0):Wi($,M-1)),S===S?Eq(x,S,$):kg(x,T4,$,!0)}function XZ(x,S){return x&&x.length?iF(x,Jt(S)):r}var zZ=ur(YF);function YF(x,S){return x&&x.length&&S&&S.length?mw(x,S):x}function WZ(x,S,I){return x&&x.length&&S&&S.length?mw(x,S,Pt(I,2)):x}function YZ(x,S,I){return x&&x.length&&S&&S.length?mw(x,S,r,I):x}var qZ=Xs(function(x,S){var I=x==null?0:x.length,M=uw(x,S);return sF(x,un(S,function($){return zs($,I)?+$:$}).sort(mF)),M});function KZ(x,S){var I=[];if(!(x&&x.length))return I;var M=-1,$=[],Q=x.length;for(S=Pt(S,3);++M<Q;){var oe=x[M];S(oe,M,x)&&(I.push(oe),$.push(M))}return sF(x,$),I}function Bw(x){return x==null?x:Vq.call(x)}function ZZ(x,S,I){var M=x==null?0:x.length;return M?(I&&typeof I!="number"&&ca(x,S,I)?(S=0,I=M):(S=S==null?0:Jt(S),I=I===r?M:Jt(I)),oo(x,S,I)):[]}function JZ(x,S){return Jg(x,S)}function QZ(x,S,I){return xw(x,S,Pt(I,2))}function eJ(x,S){var I=x==null?0:x.length;if(I){var M=Jg(x,S);if(M<I&&Ro(x[M],S))return M}return-1}function tJ(x,S){return Jg(x,S,!0)}function rJ(x,S,I){return xw(x,S,Pt(I,2),!0)}function nJ(x,S){var I=x==null?0:x.length;if(I){var M=Jg(x,S,!0)-1;if(Ro(x[M],S))return M}return-1}function iJ(x){return x&&x.length?uF(x):[]}function aJ(x,S){return x&&x.length?uF(x,Pt(S,2)):[]}function oJ(x){var S=x==null?0:x.length;return S?oo(x,1,S):[]}function sJ(x,S,I){return x&&x.length?(S=I||S===r?1:Jt(S),oo(x,0,S<0?0:S)):[]}function lJ(x,S,I){var M=x==null?0:x.length;return M?(S=I||S===r?1:Jt(S),S=M-S,oo(x,S<0?0:S,M)):[]}function uJ(x,S){return x&&x.length?Qg(x,Pt(S,3),!1,!0):[]}function cJ(x,S){return x&&x.length?Qg(x,Pt(S,3)):[]}var fJ=ur(function(x){return Ll(ki(x,1,Bn,!0))}),hJ=ur(function(x){var S=so(x);return Bn(S)&&(S=r),Ll(ki(x,1,Bn,!0),Pt(S,2))}),dJ=ur(function(x){var S=so(x);return S=typeof S=="function"?S:r,Ll(ki(x,1,Bn,!0),r,S)});function pJ(x){return x&&x.length?Ll(x):[]}function vJ(x,S){return x&&x.length?Ll(x,Pt(S,2)):[]}function gJ(x,S){return S=typeof S=="function"?S:r,x&&x.length?Ll(x,r,S):[]}function Dw(x){if(!(x&&x.length))return[];var S=0;return x=Pl(x,function(I){if(Bn(I))return S=ai(I.length,S),!0}),tw(S,function(I){return un(x,Jb(I))})}function qF(x,S){if(!(x&&x.length))return[];var I=Dw(x);return S==null?I:un(I,function(M){return Ma(S,r,M)})}var mJ=ur(function(x,S){return Bn(x)?v0(x,S):[]}),_J=ur(function(x){return ww(Pl(x,Bn))}),yJ=ur(function(x){var S=so(x);return Bn(S)&&(S=r),ww(Pl(x,Bn),Pt(S,2))}),xJ=ur(function(x){var S=so(x);return S=typeof S=="function"?S:r,ww(Pl(x,Bn),r,S)}),bJ=ur(Dw);function wJ(x,S){return dF(x||[],S||[],p0)}function EJ(x,S){return dF(x||[],S||[],_0)}var SJ=ur(function(x){var S=x.length,I=S>1?x[S-1]:r;return I=typeof I=="function"?(x.pop(),I):r,qF(x,I)});function KF(x){var S=K(x);return S.__chain__=!0,S}function CJ(x,S){return S(x),x}function lm(x,S){return S(x)}var AJ=Xs(function(x){var S=x.length,I=S?x[0]:0,M=this.__wrapped__,$=function(Q){return uw(Q,x)};return S>1||this.__actions__.length||!(M instanceof yr)||!zs(I)?this.thru($):(M=M.slice(I,+I+(S?1:0)),M.__actions__.push({func:lm,args:[$],thisArg:r}),new io(M,this.__chain__).thru(function(Q){return S&&!Q.length&&Q.push(r),Q}))});function TJ(){return KF(this)}function IJ(){return new io(this.value(),this.__chain__)}function RJ(){this.__values__===r&&(this.__values__=cN(this.value()));var x=this.__index__>=this.__values__.length,S=x?r:this.__values__[this.__index__++];return{done:x,value:S}}function PJ(){return this}function OJ(x){for(var S,I=this;I instanceof Wg;){var M=VF(I);M.__index__=0,M.__values__=r,S?$.__wrapped__=M:S=M;var $=M;I=I.__wrapped__}return $.__wrapped__=x,S}function kJ(){var x=this.__wrapped__;if(x instanceof yr){var S=x;return this.__actions__.length&&(S=new yr(this)),S=S.reverse(),S.__actions__.push({func:lm,args:[Bw],thisArg:r}),new io(S,this.__chain__)}return this.thru(Bw)}function FJ(){return hF(this.__wrapped__,this.__actions__)}var NJ=em(function(x,S,I){Dr.call(x,I)?++x[I]:Vs(x,I,1)});function LJ(x,S,I){var M=Xt(x)?C4:CK;return I&&ca(x,S,I)&&(S=r),M(x,Pt(S,3))}function MJ(x,S){var I=Xt(x)?Pl:q4;return I(x,Pt(S,3))}var BJ=EF(HF),DJ=EF(XF);function UJ(x,S){return ki(um(x,S),1)}function jJ(x,S){return ki(um(x,S),X)}function $J(x,S,I){return I=I===r?1:Jt(I),ki(um(x,S),I)}function ZF(x,S){var I=Xt(x)?ro:Nl;return I(x,Pt(S,3))}function JF(x,S){var I=Xt(x)?oq:Y4;return I(x,Pt(S,3))}var GJ=em(function(x,S,I){Dr.call(x,I)?x[I].push(S):Vs(x,I,[S])});function VJ(x,S,I,M){x=ba(x)?x:Gf(x),I=I&&!M?Jt(I):0;var $=x.length;return I<0&&(I=ai($+I,0)),pm(x)?I<=$&&x.indexOf(S,I)>-1:!!$&&Pf(x,S,I)>-1}var HJ=ur(function(x,S,I){var M=-1,$=typeof S=="function",Q=ba(x)?Ne(x.length):[];return Nl(x,function(oe){Q[++M]=$?Ma(S,oe,I):g0(oe,S,I)}),Q}),XJ=em(function(x,S,I){Vs(x,I,S)});function um(x,S){var I=Xt(x)?un:tF;return I(x,Pt(S,3))}function zJ(x,S,I,M){return x==null?[]:(Xt(S)||(S=S==null?[]:[S]),I=M?r:I,Xt(I)||(I=I==null?[]:[I]),aF(x,S,I))}var WJ=em(function(x,S,I){x[I?0:1].push(S)},function(){return[[],[]]});function YJ(x,S,I){var M=Xt(x)?Kb:R4,$=arguments.length<3;return M(x,Pt(S,4),I,$,Nl)}function qJ(x,S,I){var M=Xt(x)?sq:R4,$=arguments.length<3;return M(x,Pt(S,4),I,$,Y4)}function KJ(x,S){var I=Xt(x)?Pl:q4;return I(x,hm(Pt(S,3)))}function ZJ(x){var S=Xt(x)?H4:VK;return S(x)}function JJ(x,S,I){(I?ca(x,S,I):S===r)?S=1:S=Jt(S);var M=Xt(x)?xK:HK;return M(x,S)}function QJ(x){var S=Xt(x)?bK:zK;return S(x)}function eQ(x){if(x==null)return 0;if(ba(x))return pm(x)?kf(x):x.length;var S=Yi(x);return S==Ge||S==ft?x.size:vw(x).length}function tQ(x,S,I){var M=Xt(x)?Zb:WK;return I&&ca(x,S,I)&&(S=r),M(x,Pt(S,3))}var rQ=ur(function(x,S){if(x==null)return[];var I=S.length;return I>1&&ca(x,S[0],S[1])?S=[]:I>2&&ca(S[0],S[1],S[2])&&(S=[S[0]]),aF(x,ki(S,1),[])}),cm=Mq||function(){return Oi.Date.now()};function nQ(x,S){if(typeof S!="function")throw new no(o);return x=Jt(x),function(){if(--x<1)return S.apply(this,arguments)}}function QF(x,S,I){return S=I?r:S,S=x&&S==null?x.length:S,Hs(x,C,r,r,r,r,S)}function eN(x,S){var I;if(typeof S!="function")throw new no(o);return x=Jt(x),function(){return--x>0&&(I=S.apply(this,arguments)),x<=1&&(S=r),I}}var Uw=ur(function(x,S,I){var M=m;if(I.length){var $=kl(I,jf(Uw));M|=b}return Hs(x,M,S,I,$)}),tN=ur(function(x,S,I){var M=m|g;if(I.length){var $=kl(I,jf(tN));M|=b}return Hs(S,M,x,I,$)});function rN(x,S,I){S=I?r:S;var M=Hs(x,y,r,r,r,r,r,S);return M.placeholder=rN.placeholder,M}function nN(x,S,I){S=I?r:S;var M=Hs(x,w,r,r,r,r,r,S);return M.placeholder=nN.placeholder,M}function iN(x,S,I){var M,$,Q,oe,he,xe,je=0,$e=!1,He=!1,lt=!0;if(typeof x!="function")throw new no(o);S=lo(S)||0,yn(I)&&($e=!!I.leading,He="maxWait"in I,Q=He?ai(lo(I.maxWait)||0,S):Q,lt="trailing"in I?!!I.trailing:lt);function wt(Dn){var Po=M,qs=$;return M=$=r,je=Dn,oe=x.apply(qs,Po),oe}function Nt(Dn){return je=Dn,he=b0(gr,S),$e?wt(Dn):oe}function ar(Dn){var Po=Dn-xe,qs=Dn-je,EN=S-Po;return He?Wi(EN,Q-qs):EN}function Lt(Dn){var Po=Dn-xe,qs=Dn-je;return xe===r||Po>=S||Po<0||He&&qs>=Q}function gr(){var Dn=cm();if(Lt(Dn))return Er(Dn);he=b0(gr,ar(Dn))}function Er(Dn){return he=r,lt&&M?wt(Dn):(M=$=r,oe)}function ja(){he!==r&&pF(he),je=0,M=xe=$=he=r}function fa(){return he===r?oe:Er(cm())}function $a(){var Dn=cm(),Po=Lt(Dn);if(M=arguments,$=this,xe=Dn,Po){if(he===r)return Nt(xe);if(He)return pF(he),he=b0(gr,S),wt(xe)}return he===r&&(he=b0(gr,S)),oe}return $a.cancel=ja,$a.flush=fa,$a}var iQ=ur(function(x,S){return W4(x,1,S)}),aQ=ur(function(x,S,I){return W4(x,lo(S)||0,I)});function oQ(x){return Hs(x,T)}function fm(x,S){if(typeof x!="function"||S!=null&&typeof S!="function")throw new no(o);var I=function(){var M=arguments,$=S?S.apply(this,M):M[0],Q=I.cache;if(Q.has($))return Q.get($);var oe=x.apply(this,M);return I.cache=Q.set($,oe)||Q,oe};return I.cache=new(fm.Cache||Gs),I}fm.Cache=Gs;function hm(x){if(typeof x!="function")throw new no(o);return function(){var S=arguments;switch(S.length){case 0:return!x.call(this);case 1:return!x.call(this,S[0]);case 2:return!x.call(this,S[0],S[1]);case 3:return!x.call(this,S[0],S[1],S[2])}return!x.apply(this,S)}}function sQ(x){return eN(2,x)}var lQ=YK(function(x,S){S=S.length==1&&Xt(S[0])?un(S[0],Ba(Pt())):un(ki(S,1),Ba(Pt()));var I=S.length;return ur(function(M){for(var $=-1,Q=Wi(M.length,I);++$<Q;)M[$]=S[$].call(this,M[$]);return Ma(x,this,M)})}),jw=ur(function(x,S){var I=kl(S,jf(jw));return Hs(x,b,r,S,I)}),aN=ur(function(x,S){var I=kl(S,jf(aN));return Hs(x,E,r,S,I)}),uQ=Xs(function(x,S){return Hs(x,A,r,r,r,S)});function cQ(x,S){if(typeof x!="function")throw new no(o);return S=S===r?S:Jt(S),ur(x,S)}function fQ(x,S){if(typeof x!="function")throw new no(o);return S=S==null?0:ai(Jt(S),0),ur(function(I){var M=I[S],$=Bl(I,0,S);return M&&Ol($,M),Ma(x,this,$)})}function hQ(x,S,I){var M=!0,$=!0;if(typeof x!="function")throw new no(o);return yn(I)&&(M="leading"in I?!!I.leading:M,$="trailing"in I?!!I.trailing:$),iN(x,S,{leading:M,maxWait:S,trailing:$})}function dQ(x){return QF(x,1)}function pQ(x,S){return jw(Sw(S),x)}function vQ(){if(!arguments.length)return[];var x=arguments[0];return Xt(x)?x:[x]}function gQ(x){return ao(x,p)}function mQ(x,S){return S=typeof S=="function"?S:r,ao(x,p,S)}function _Q(x){return ao(x,f|p)}function yQ(x,S){return S=typeof S=="function"?S:r,ao(x,f|p,S)}function xQ(x,S){return S==null||z4(x,S,gi(S))}function Ro(x,S){return x===S||x!==x&&S!==S}var bQ=im(hw),wQ=im(function(x,S){return x>=S}),rc=J4(function(){return arguments}())?J4:function(x){return Cn(x)&&Dr.call(x,"callee")&&!D4.call(x,"callee")},Xt=Ne.isArray,EQ=y4?Ba(y4):OK;function ba(x){return x!=null&&dm(x.length)&&!Ws(x)}function Bn(x){return Cn(x)&&ba(x)}function SQ(x){return x===!0||x===!1||Cn(x)&&ua(x)==ue}var Dl=Dq||Zw,CQ=x4?Ba(x4):kK;function AQ(x){return Cn(x)&&x.nodeType===1&&!w0(x)}function TQ(x){if(x==null)return!0;if(ba(x)&&(Xt(x)||typeof x=="string"||typeof x.splice=="function"||Dl(x)||$f(x)||rc(x)))return!x.length;var S=Yi(x);if(S==Ge||S==ft)return!x.size;if(x0(x))return!vw(x).length;for(var I in x)if(Dr.call(x,I))return!1;return!0}function IQ(x,S){return m0(x,S)}function RQ(x,S,I){I=typeof I=="function"?I:r;var M=I?I(x,S):r;return M===r?m0(x,S,r,I):!!M}function $w(x){if(!Cn(x))return!1;var S=ua(x);return S==Fe||S==Be||typeof x.message=="string"&&typeof x.name=="string"&&!w0(x)}function PQ(x){return typeof x=="number"&&j4(x)}function Ws(x){if(!yn(x))return!1;var S=ua(x);return S==Ee||S==Ae||S==me||S==Et}function oN(x){return typeof x=="number"&&x==Jt(x)}function dm(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=ee}function yn(x){var S=typeof x;return x!=null&&(S=="object"||S=="function")}function Cn(x){return x!=null&&typeof x=="object"}var sN=b4?Ba(b4):NK;function OQ(x,S){return x===S||pw(x,S,Ow(S))}function kQ(x,S,I){return I=typeof I=="function"?I:r,pw(x,S,Ow(S),I)}function FQ(x){return lN(x)&&x!=+x}function NQ(x){if(mZ(x))throw new Vt(a);return Q4(x)}function LQ(x){return x===null}function MQ(x){return x==null}function lN(x){return typeof x=="number"||Cn(x)&&ua(x)==We}function w0(x){if(!Cn(x)||ua(x)!=Xe)return!1;var S=jg(x);if(S===null)return!0;var I=Dr.call(S,"constructor")&&S.constructor;return typeof I=="function"&&I instanceof I&&Mg.call(I)==kq}var Gw=w4?Ba(w4):LK;function BQ(x){return oN(x)&&x>=-ee&&x<=ee}var uN=E4?Ba(E4):MK;function pm(x){return typeof x=="string"||!Xt(x)&&Cn(x)&&ua(x)==ht}function Ua(x){return typeof x=="symbol"||Cn(x)&&ua(x)==St}var $f=S4?Ba(S4):BK;function DQ(x){return x===r}function UQ(x){return Cn(x)&&Yi(x)==Ht}function jQ(x){return Cn(x)&&ua(x)==nr}var $Q=im(gw),GQ=im(function(x,S){return x<=S});function cN(x){if(!x)return[];if(ba(x))return pm(x)?To(x):xa(x);if(u0&&x[u0])return xq(x[u0]());var S=Yi(x),I=S==Ge?nw:S==ft?Fg:Gf;return I(x)}function Ys(x){if(!x)return x===0?x:0;if(x=lo(x),x===X||x===-X){var S=x<0?-1:1;return S*ne}return x===x?x:0}function Jt(x){var S=Ys(x),I=S%1;return S===S?I?S-I:S:0}function fN(x){return x?Ju(Jt(x),0,D):0}function lo(x){if(typeof x=="number")return x;if(Ua(x))return W;if(yn(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=yn(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=P4(x);var I=Lb.test(x);return I||Bb.test(x)?nq(x.slice(2),I?2:8):Af.test(x)?W:+x}function hN(x){return us(x,wa(x))}function VQ(x){return x?Ju(Jt(x),-ee,ee):x===0?x:0}function Lr(x){return x==null?"":Da(x)}var HQ=Df(function(x,S){if(x0(S)||ba(S)){us(S,gi(S),x);return}for(var I in S)Dr.call(S,I)&&p0(x,I,S[I])}),dN=Df(function(x,S){us(S,wa(S),x)}),vm=Df(function(x,S,I,M){us(S,wa(S),x,M)}),XQ=Df(function(x,S,I,M){us(S,gi(S),x,M)}),zQ=Xs(uw);function WQ(x,S){var I=Bf(x);return S==null?I:X4(I,S)}var YQ=ur(function(x,S){x=Xr(x);var I=-1,M=S.length,$=M>2?S[2]:r;for($&&ca(S[0],S[1],$)&&(M=1);++I<M;)for(var Q=S[I],oe=wa(Q),he=-1,xe=oe.length;++he<xe;){var je=oe[he],$e=x[je];($e===r||Ro($e,Nf[je])&&!Dr.call(x,je))&&(x[je]=Q[je])}return x}),qQ=ur(function(x){return x.push(r,PF),Ma(pN,r,x)});function KQ(x,S){return A4(x,Pt(S,3),ls)}function ZQ(x,S){return A4(x,Pt(S,3),fw)}function JQ(x,S){return x==null?x:cw(x,Pt(S,3),wa)}function QQ(x,S){return x==null?x:K4(x,Pt(S,3),wa)}function eee(x,S){return x&&ls(x,Pt(S,3))}function tee(x,S){return x&&fw(x,Pt(S,3))}function ree(x){return x==null?[]:Kg(x,gi(x))}function nee(x){return x==null?[]:Kg(x,wa(x))}function Vw(x,S,I){var M=x==null?r:Qu(x,S);return M===r?I:M}function iee(x,S){return x!=null&&FF(x,S,TK)}function Hw(x,S){return x!=null&&FF(x,S,IK)}var aee=CF(function(x,S,I){S!=null&&typeof S.toString!="function"&&(S=Bg.call(S)),x[S]=I},zw(Ea)),oee=CF(function(x,S,I){S!=null&&typeof S.toString!="function"&&(S=Bg.call(S)),Dr.call(x,S)?x[S].push(I):x[S]=[I]},Pt),see=ur(g0);function gi(x){return ba(x)?V4(x):vw(x)}function wa(x){return ba(x)?V4(x,!0):DK(x)}function lee(x,S){var I={};return S=Pt(S,3),ls(x,function(M,$,Q){Vs(I,S(M,$,Q),M)}),I}function uee(x,S){var I={};return S=Pt(S,3),ls(x,function(M,$,Q){Vs(I,$,S(M,$,Q))}),I}var cee=Df(function(x,S,I){Zg(x,S,I)}),pN=Df(function(x,S,I,M){Zg(x,S,I,M)}),fee=Xs(function(x,S){var I={};if(x==null)return I;var M=!1;S=un(S,function(Q){return Q=Ml(Q,x),M||(M=Q.length>1),Q}),us(x,Rw(x),I),M&&(I=ao(I,f|h|p,aZ));for(var $=S.length;$--;)bw(I,S[$]);return I});function hee(x,S){return vN(x,hm(Pt(S)))}var dee=Xs(function(x,S){return x==null?{}:jK(x,S)});function vN(x,S){if(x==null)return{};var I=un(Rw(x),function(M){return[M]});return S=Pt(S),oF(x,I,function(M,$){return S(M,$[0])})}function pee(x,S,I){S=Ml(S,x);var M=-1,$=S.length;for($||($=1,x=r);++M<$;){var Q=x==null?r:x[cs(S[M])];Q===r&&(M=$,Q=I),x=Ws(Q)?Q.call(x):Q}return x}function vee(x,S,I){return x==null?x:_0(x,S,I)}function gee(x,S,I,M){return M=typeof M=="function"?M:r,x==null?x:_0(x,S,I,M)}var gN=IF(gi),mN=IF(wa);function mee(x,S,I){var M=Xt(x),$=M||Dl(x)||$f(x);if(S=Pt(S,4),I==null){var Q=x&&x.constructor;$?I=M?new Q:[]:yn(x)?I=Ws(Q)?Bf(jg(x)):{}:I={}}return($?ro:ls)(x,function(oe,he,xe){return S(I,oe,he,xe)}),I}function _ee(x,S){return x==null?!0:bw(x,S)}function yee(x,S,I){return x==null?x:fF(x,S,Sw(I))}function xee(x,S,I,M){return M=typeof M=="function"?M:r,x==null?x:fF(x,S,Sw(I),M)}function Gf(x){return x==null?[]:rw(x,gi(x))}function bee(x){return x==null?[]:rw(x,wa(x))}function wee(x,S,I){return I===r&&(I=S,S=r),I!==r&&(I=lo(I),I=I===I?I:0),S!==r&&(S=lo(S),S=S===S?S:0),Ju(lo(x),S,I)}function Eee(x,S,I){return S=Ys(S),I===r?(I=S,S=0):I=Ys(I),x=lo(x),RK(x,S,I)}function See(x,S,I){if(I&&typeof I!="boolean"&&ca(x,S,I)&&(S=I=r),I===r&&(typeof S=="boolean"?(I=S,S=r):typeof x=="boolean"&&(I=x,x=r)),x===r&&S===r?(x=0,S=1):(x=Ys(x),S===r?(S=x,x=0):S=Ys(S)),x>S){var M=x;x=S,S=M}if(I||x%1||S%1){var $=$4();return Wi(x+$*(S-x+rq("1e-"+(($+"").length-1))),S)}return _w(x,S)}var Cee=Uf(function(x,S,I){return S=S.toLowerCase(),x+(I?_N(S):S)});function _N(x){return Xw(Lr(x).toLowerCase())}function yN(x){return x=Lr(x),x&&x.replace(Ub,vq).replace(zY,"")}function Aee(x,S,I){x=Lr(x),S=Da(S);var M=x.length;I=I===r?M:Ju(Jt(I),0,M);var $=I;return I-=S.length,I>=0&&x.slice(I,$)==S}function Tee(x){return x=Lr(x),x&&le.test(x)?x.replace(Pe,gq):x}function Iee(x){return x=Lr(x),x&&Ct.test(x)?x.replace(lr,"\\$&"):x}var Ree=Uf(function(x,S,I){return x+(I?"-":"")+S.toLowerCase()}),Pee=Uf(function(x,S,I){return x+(I?" ":"")+S.toLowerCase()}),Oee=wF("toLowerCase");function kee(x,S,I){x=Lr(x),S=Jt(S);var M=S?kf(x):0;if(!S||M>=S)return x;var $=(S-M)/2;return nm(Hg($),I)+x+nm(Vg($),I)}function Fee(x,S,I){x=Lr(x),S=Jt(S);var M=S?kf(x):0;return S&&M<S?x+nm(S-M,I):x}function Nee(x,S,I){x=Lr(x),S=Jt(S);var M=S?kf(x):0;return S&&M<S?nm(S-M,I)+x:x}function Lee(x,S,I){return I||S==null?S=0:S&&(S=+S),Gq(Lr(x).replace(Ar,""),S||0)}function Mee(x,S,I){return(I?ca(x,S,I):S===r)?S=1:S=Jt(S),yw(Lr(x),S)}function Bee(){var x=arguments,S=Lr(x[0]);return x.length<3?S:S.replace(x[1],x[2])}var Dee=Uf(function(x,S,I){return x+(I?"_":"")+S.toLowerCase()});function Uee(x,S,I){return I&&typeof I!="number"&&ca(x,S,I)&&(S=I=r),I=I===r?D:I>>>0,I?(x=Lr(x),x&&(typeof S=="string"||S!=null&&!Gw(S))&&(S=Da(S),!S&&Of(x))?Bl(To(x),0,I):x.split(S,I)):[]}var jee=Uf(function(x,S,I){return x+(I?" ":"")+Xw(S)});function $ee(x,S,I){return x=Lr(x),I=I==null?0:Ju(Jt(I),0,x.length),S=Da(S),x.slice(I,I+S.length)==S}function Gee(x,S,I){var M=K.templateSettings;I&&ca(x,S,I)&&(S=r),x=Lr(x),S=vm({},S,M,RF);var $=vm({},S.imports,M.imports,RF),Q=gi($),oe=rw($,Q),he,xe,je=0,$e=S.interpolate||Tf,He="__p += '",lt=iw((S.escape||Tf).source+"|"+$e.source+"|"+($e===Qe?La:Tf).source+"|"+(S.evaluate||Tf).source+"|$","g"),wt="//# sourceURL="+(Dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ZY+"]")+`
`;x.replace(lt,function(Lt,gr,Er,ja,fa,$a){return Er||(Er=ja),He+=x.slice(je,$a).replace(Cg,mq),gr&&(he=!0,He+=`' +
__e(`+gr+`) +
'`),fa&&(xe=!0,He+=`';
`+fa+`;
__p += '`),Er&&(He+=`' +
((__t = (`+Er+`)) == null ? '' : __t) +
'`),je=$a+Lt.length,Lt}),He+=`';
`;var Nt=Dr.call(S,"variable")&&S.variable;if(!Nt)He=`with (obj) {
`+He+`
}
`;else if(zi.test(Nt))throw new Vt(s);He=(xe?He.replace(Ue,""):He).replace(pt,"$1").replace(F,"$1;"),He="function("+(Nt||"obj")+`) {
`+(Nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(xe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var ar=bN(function(){return kr(Q,wt+"return "+He).apply(r,oe)});if(ar.source=He,$w(ar))throw ar;return ar}function Vee(x){return Lr(x).toLowerCase()}function Hee(x){return Lr(x).toUpperCase()}function Xee(x,S,I){if(x=Lr(x),x&&(I||S===r))return P4(x);if(!x||!(S=Da(S)))return x;var M=To(x),$=To(S),Q=O4(M,$),oe=k4(M,$)+1;return Bl(M,Q,oe).join("")}function zee(x,S,I){if(x=Lr(x),x&&(I||S===r))return x.slice(0,N4(x)+1);if(!x||!(S=Da(S)))return x;var M=To(x),$=k4(M,To(S))+1;return Bl(M,0,$).join("")}function Wee(x,S,I){if(x=Lr(x),x&&(I||S===r))return x.replace(Ar,"");if(!x||!(S=Da(S)))return x;var M=To(x),$=O4(M,To(S));return Bl(M,$).join("")}function Yee(x,S){var I=R,M=O;if(yn(S)){var $="separator"in S?S.separator:$;I="length"in S?Jt(S.length):I,M="omission"in S?Da(S.omission):M}x=Lr(x);var Q=x.length;if(Of(x)){var oe=To(x);Q=oe.length}if(I>=Q)return x;var he=I-kf(M);if(he<1)return M;var xe=oe?Bl(oe,0,he).join(""):x.slice(0,he);if($===r)return xe+M;if(oe&&(he+=xe.length-he),Gw($)){if(x.slice(he).search($)){var je,$e=xe;for($.global||($=iw($.source,Lr(sa.exec($))+"g")),$.lastIndex=0;je=$.exec($e);)var He=je.index;xe=xe.slice(0,He===r?he:He)}}else if(x.indexOf(Da($),he)!=he){var lt=xe.lastIndexOf($);lt>-1&&(xe=xe.slice(0,lt))}return xe+M}function qee(x){return x=Lr(x),x&&q.test(x)?x.replace(Re,Sq):x}var Kee=Uf(function(x,S,I){return x+(I?" ":"")+S.toUpperCase()}),Xw=wF("toUpperCase");function xN(x,S,I){return x=Lr(x),S=I?r:S,S===r?yq(x)?Tq(x):cq(x):x.match(S)||[]}var bN=ur(function(x,S){try{return Ma(x,r,S)}catch(I){return $w(I)?I:new Vt(I)}}),Zee=Xs(function(x,S){return ro(S,function(I){I=cs(I),Vs(x,I,Uw(x[I],x))}),x});function Jee(x){var S=x==null?0:x.length,I=Pt();return x=S?un(x,function(M){if(typeof M[1]!="function")throw new no(o);return[I(M[0]),M[1]]}):[],ur(function(M){for(var $=-1;++$<S;){var Q=x[$];if(Ma(Q[0],this,M))return Ma(Q[1],this,M)}})}function Qee(x){return SK(ao(x,f))}function zw(x){return function(){return x}}function ete(x,S){return x==null||x!==x?S:x}var tte=SF(),rte=SF(!0);function Ea(x){return x}function Ww(x){return eF(typeof x=="function"?x:ao(x,f))}function nte(x){return rF(ao(x,f))}function ite(x,S){return nF(x,ao(S,f))}var ate=ur(function(x,S){return function(I){return g0(I,x,S)}}),ote=ur(function(x,S){return function(I){return g0(x,I,S)}});function Yw(x,S,I){var M=gi(S),$=Kg(S,M);I==null&&!(yn(S)&&($.length||!M.length))&&(I=S,S=x,x=this,$=Kg(S,gi(S)));var Q=!(yn(I)&&"chain"in I)||!!I.chain,oe=Ws(x);return ro($,function(he){var xe=S[he];x[he]=xe,oe&&(x.prototype[he]=function(){var je=this.__chain__;if(Q||je){var $e=x(this.__wrapped__),He=$e.__actions__=xa(this.__actions__);return He.push({func:xe,args:arguments,thisArg:x}),$e.__chain__=je,$e}return xe.apply(x,Ol([this.value()],arguments))})}),x}function ste(){return Oi._===this&&(Oi._=Fq),this}function qw(){}function lte(x){return x=Jt(x),ur(function(S){return iF(S,x)})}var ute=Aw(un),cte=Aw(C4),fte=Aw(Zb);function wN(x){return Fw(x)?Jb(cs(x)):$K(x)}function hte(x){return function(S){return x==null?r:Qu(x,S)}}var dte=AF(),pte=AF(!0);function Kw(){return[]}function Zw(){return!1}function vte(){return{}}function gte(){return""}function mte(){return!0}function _te(x,S){if(x=Jt(x),x<1||x>ee)return[];var I=D,M=Wi(x,D);S=Pt(S),x-=D;for(var $=tw(M,S);++I<x;)S(I);return $}function yte(x){return Xt(x)?un(x,cs):Ua(x)?[x]:xa(GF(Lr(x)))}function xte(x){var S=++Oq;return Lr(x)+S}var bte=rm(function(x,S){return x+S},0),wte=Tw("ceil"),Ete=rm(function(x,S){return x/S},1),Ste=Tw("floor");function Cte(x){return x&&x.length?qg(x,Ea,hw):r}function Ate(x,S){return x&&x.length?qg(x,Pt(S,2),hw):r}function Tte(x){return I4(x,Ea)}function Ite(x,S){return I4(x,Pt(S,2))}function Rte(x){return x&&x.length?qg(x,Ea,gw):r}function Pte(x,S){return x&&x.length?qg(x,Pt(S,2),gw):r}var Ote=rm(function(x,S){return x*S},1),kte=Tw("round"),Fte=rm(function(x,S){return x-S},0);function Nte(x){return x&&x.length?ew(x,Ea):0}function Lte(x,S){return x&&x.length?ew(x,Pt(S,2)):0}return K.after=nQ,K.ary=QF,K.assign=HQ,K.assignIn=dN,K.assignInWith=vm,K.assignWith=XQ,K.at=zQ,K.before=eN,K.bind=Uw,K.bindAll=Zee,K.bindKey=tN,K.castArray=vQ,K.chain=KF,K.chunk=SZ,K.compact=CZ,K.concat=AZ,K.cond=Jee,K.conforms=Qee,K.constant=zw,K.countBy=NJ,K.create=WQ,K.curry=rN,K.curryRight=nN,K.debounce=iN,K.defaults=YQ,K.defaultsDeep=qQ,K.defer=iQ,K.delay=aQ,K.difference=TZ,K.differenceBy=IZ,K.differenceWith=RZ,K.drop=PZ,K.dropRight=OZ,K.dropRightWhile=kZ,K.dropWhile=FZ,K.fill=NZ,K.filter=MJ,K.flatMap=UJ,K.flatMapDeep=jJ,K.flatMapDepth=$J,K.flatten=zF,K.flattenDeep=LZ,K.flattenDepth=MZ,K.flip=oQ,K.flow=tte,K.flowRight=rte,K.fromPairs=BZ,K.functions=ree,K.functionsIn=nee,K.groupBy=GJ,K.initial=UZ,K.intersection=jZ,K.intersectionBy=$Z,K.intersectionWith=GZ,K.invert=aee,K.invertBy=oee,K.invokeMap=HJ,K.iteratee=Ww,K.keyBy=XJ,K.keys=gi,K.keysIn=wa,K.map=um,K.mapKeys=lee,K.mapValues=uee,K.matches=nte,K.matchesProperty=ite,K.memoize=fm,K.merge=cee,K.mergeWith=pN,K.method=ate,K.methodOf=ote,K.mixin=Yw,K.negate=hm,K.nthArg=lte,K.omit=fee,K.omitBy=hee,K.once=sQ,K.orderBy=zJ,K.over=ute,K.overArgs=lQ,K.overEvery=cte,K.overSome=fte,K.partial=jw,K.partialRight=aN,K.partition=WJ,K.pick=dee,K.pickBy=vN,K.property=wN,K.propertyOf=hte,K.pull=zZ,K.pullAll=YF,K.pullAllBy=WZ,K.pullAllWith=YZ,K.pullAt=qZ,K.range=dte,K.rangeRight=pte,K.rearg=uQ,K.reject=KJ,K.remove=KZ,K.rest=cQ,K.reverse=Bw,K.sampleSize=JJ,K.set=vee,K.setWith=gee,K.shuffle=QJ,K.slice=ZZ,K.sortBy=rQ,K.sortedUniq=iJ,K.sortedUniqBy=aJ,K.split=Uee,K.spread=fQ,K.tail=oJ,K.take=sJ,K.takeRight=lJ,K.takeRightWhile=uJ,K.takeWhile=cJ,K.tap=CJ,K.throttle=hQ,K.thru=lm,K.toArray=cN,K.toPairs=gN,K.toPairsIn=mN,K.toPath=yte,K.toPlainObject=hN,K.transform=mee,K.unary=dQ,K.union=fJ,K.unionBy=hJ,K.unionWith=dJ,K.uniq=pJ,K.uniqBy=vJ,K.uniqWith=gJ,K.unset=_ee,K.unzip=Dw,K.unzipWith=qF,K.update=yee,K.updateWith=xee,K.values=Gf,K.valuesIn=bee,K.without=mJ,K.words=xN,K.wrap=pQ,K.xor=_J,K.xorBy=yJ,K.xorWith=xJ,K.zip=bJ,K.zipObject=wJ,K.zipObjectDeep=EJ,K.zipWith=SJ,K.entries=gN,K.entriesIn=mN,K.extend=dN,K.extendWith=vm,Yw(K,K),K.add=bte,K.attempt=bN,K.camelCase=Cee,K.capitalize=_N,K.ceil=wte,K.clamp=wee,K.clone=gQ,K.cloneDeep=_Q,K.cloneDeepWith=yQ,K.cloneWith=mQ,K.conformsTo=xQ,K.deburr=yN,K.defaultTo=ete,K.divide=Ete,K.endsWith=Aee,K.eq=Ro,K.escape=Tee,K.escapeRegExp=Iee,K.every=LJ,K.find=BJ,K.findIndex=HF,K.findKey=KQ,K.findLast=DJ,K.findLastIndex=XF,K.findLastKey=ZQ,K.floor=Ste,K.forEach=ZF,K.forEachRight=JF,K.forIn=JQ,K.forInRight=QQ,K.forOwn=eee,K.forOwnRight=tee,K.get=Vw,K.gt=bQ,K.gte=wQ,K.has=iee,K.hasIn=Hw,K.head=WF,K.identity=Ea,K.includes=VJ,K.indexOf=DZ,K.inRange=Eee,K.invoke=see,K.isArguments=rc,K.isArray=Xt,K.isArrayBuffer=EQ,K.isArrayLike=ba,K.isArrayLikeObject=Bn,K.isBoolean=SQ,K.isBuffer=Dl,K.isDate=CQ,K.isElement=AQ,K.isEmpty=TQ,K.isEqual=IQ,K.isEqualWith=RQ,K.isError=$w,K.isFinite=PQ,K.isFunction=Ws,K.isInteger=oN,K.isLength=dm,K.isMap=sN,K.isMatch=OQ,K.isMatchWith=kQ,K.isNaN=FQ,K.isNative=NQ,K.isNil=MQ,K.isNull=LQ,K.isNumber=lN,K.isObject=yn,K.isObjectLike=Cn,K.isPlainObject=w0,K.isRegExp=Gw,K.isSafeInteger=BQ,K.isSet=uN,K.isString=pm,K.isSymbol=Ua,K.isTypedArray=$f,K.isUndefined=DQ,K.isWeakMap=UQ,K.isWeakSet=jQ,K.join=VZ,K.kebabCase=Ree,K.last=so,K.lastIndexOf=HZ,K.lowerCase=Pee,K.lowerFirst=Oee,K.lt=$Q,K.lte=GQ,K.max=Cte,K.maxBy=Ate,K.mean=Tte,K.meanBy=Ite,K.min=Rte,K.minBy=Pte,K.stubArray=Kw,K.stubFalse=Zw,K.stubObject=vte,K.stubString=gte,K.stubTrue=mte,K.multiply=Ote,K.nth=XZ,K.noConflict=ste,K.noop=qw,K.now=cm,K.pad=kee,K.padEnd=Fee,K.padStart=Nee,K.parseInt=Lee,K.random=See,K.reduce=YJ,K.reduceRight=qJ,K.repeat=Mee,K.replace=Bee,K.result=pee,K.round=kte,K.runInContext=_e,K.sample=ZJ,K.size=eQ,K.snakeCase=Dee,K.some=tQ,K.sortedIndex=JZ,K.sortedIndexBy=QZ,K.sortedIndexOf=eJ,K.sortedLastIndex=tJ,K.sortedLastIndexBy=rJ,K.sortedLastIndexOf=nJ,K.startCase=jee,K.startsWith=$ee,K.subtract=Fte,K.sum=Nte,K.sumBy=Lte,K.template=Gee,K.times=_te,K.toFinite=Ys,K.toInteger=Jt,K.toLength=fN,K.toLower=Vee,K.toNumber=lo,K.toSafeInteger=VQ,K.toString=Lr,K.toUpper=Hee,K.trim=Xee,K.trimEnd=zee,K.trimStart=Wee,K.truncate=Yee,K.unescape=qee,K.uniqueId=xte,K.upperCase=Kee,K.upperFirst=Xw,K.each=ZF,K.eachRight=JF,K.first=WF,Yw(K,function(){var x={};return ls(K,function(S,I){Dr.call(K.prototype,I)||(x[I]=S)}),x}(),{chain:!1}),K.VERSION=n,ro(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){K[x].placeholder=K}),ro(["drop","take"],function(x,S){yr.prototype[x]=function(I){I=I===r?1:ai(Jt(I),0);var M=this.__filtered__&&!S?new yr(this):this.clone();return M.__filtered__?M.__takeCount__=Wi(I,M.__takeCount__):M.__views__.push({size:Wi(I,D),type:x+(M.__dir__<0?"Right":"")}),M},yr.prototype[x+"Right"]=function(I){return this.reverse()[x](I).reverse()}}),ro(["filter","map","takeWhile"],function(x,S){var I=S+1,M=I==L||I==U;yr.prototype[x]=function($){var Q=this.clone();return Q.__iteratees__.push({iteratee:Pt($,3),type:I}),Q.__filtered__=Q.__filtered__||M,Q}}),ro(["head","last"],function(x,S){var I="take"+(S?"Right":"");yr.prototype[x]=function(){return this[I](1).value()[0]}}),ro(["initial","tail"],function(x,S){var I="drop"+(S?"":"Right");yr.prototype[x]=function(){return this.__filtered__?new yr(this):this[I](1)}}),yr.prototype.compact=function(){return this.filter(Ea)},yr.prototype.find=function(x){return this.filter(x).head()},yr.prototype.findLast=function(x){return this.reverse().find(x)},yr.prototype.invokeMap=ur(function(x,S){return typeof x=="function"?new yr(this):this.map(function(I){return g0(I,x,S)})}),yr.prototype.reject=function(x){return this.filter(hm(Pt(x)))},yr.prototype.slice=function(x,S){x=Jt(x);var I=this;return I.__filtered__&&(x>0||S<0)?new yr(I):(x<0?I=I.takeRight(-x):x&&(I=I.drop(x)),S!==r&&(S=Jt(S),I=S<0?I.dropRight(-S):I.take(S-x)),I)},yr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},yr.prototype.toArray=function(){return this.take(D)},ls(yr.prototype,function(x,S){var I=/^(?:filter|find|map|reject)|While$/.test(S),M=/^(?:head|last)$/.test(S),$=K[M?"take"+(S=="last"?"Right":""):S],Q=M||/^find/.test(S);$&&(K.prototype[S]=function(){var oe=this.__wrapped__,he=M?[1]:arguments,xe=oe instanceof yr,je=he[0],$e=xe||Xt(oe),He=function(gr){var Er=$.apply(K,Ol([gr],he));return M&&lt?Er[0]:Er};$e&&I&&typeof je=="function"&&je.length!=1&&(xe=$e=!1);var lt=this.__chain__,wt=!!this.__actions__.length,Nt=Q&&!lt,ar=xe&&!wt;if(!Q&&$e){oe=ar?oe:new yr(this);var Lt=x.apply(oe,he);return Lt.__actions__.push({func:lm,args:[He],thisArg:r}),new io(Lt,lt)}return Nt&&ar?x.apply(this,he):(Lt=this.thru(He),Nt?M?Lt.value()[0]:Lt.value():Lt)})}),ro(["pop","push","shift","sort","splice","unshift"],function(x){var S=Ng[x],I=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",M=/^(?:pop|shift)$/.test(x);K.prototype[x]=function(){var $=arguments;if(M&&!this.__chain__){var Q=this.value();return S.apply(Xt(Q)?Q:[],$)}return this[I](function(oe){return S.apply(Xt(oe)?oe:[],$)})}}),ls(yr.prototype,function(x,S){var I=K[S];if(I){var M=I.name+"";Dr.call(Mf,M)||(Mf[M]=[]),Mf[M].push({name:S,func:I})}}),Mf[tm(r,g).name]=[{name:"wrapper",func:r}],yr.prototype.clone=qq,yr.prototype.reverse=Kq,yr.prototype.value=Zq,K.prototype.at=AJ,K.prototype.chain=TJ,K.prototype.commit=IJ,K.prototype.next=RJ,K.prototype.plant=OJ,K.prototype.reverse=kJ,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=FJ,K.prototype.first=K.prototype.head,u0&&(K.prototype[u0]=PJ),K},Ff=Iq();Yu?((Yu.exports=Ff)._=Ff,Wb._=Ff):Oi._=Ff}).call(At)})(Zy,Zy.exports);var ug=Zy.exports;function or(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const PV={};function KSe(t){const e={};for(const[r,n]of Object.entries(t))e[r]=PV[n.scriptType]={scriptString:r,...n};return e}const Tt=t=>(typeof t=="string"?Number(t):t)/.5;function _l(t){const e={};return t&&(t.x!==void 0&&(e.left=Tt(t.x)+"px",e.position="absolute"),t.y!==void 0&&(e.top=Tt(t.y)+"px",e.position="absolute"),t.scale!==void 0&&(e.transform+=` scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=Tt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=Tt(t.width)+"px"),t.height!==void 0&&(e.height=Tt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=Tt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=Tt(t.marginRight)+"px"),t.gap!==void 0&&(e.gap=Tt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=Tt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=Tt(t.columnGap)+"px"),t.position&&(e.position=t.position)),e}function ZSe(t){if(!t||ug.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:Wt(n,zt.ui)})}),e}function JSe(){var r;const t=(r=Y.sceneManager.sceneData.currentScene)==null?void 0:r.sceneName,e={[bo.Affinity]:1,[bo.Achieve]:1,[bo.Storyline]:1,"config.txt":1};return!(!t||e[t])}class SO{constructor(e,r){ct(this,"text");ct(this,"jump");ct(this,"jumpToScene");ct(this,"showCondition");ct(this,"enableCondition");ct(this,"shouldPay");ct(this,"amount");ct(this,"productId");ct(this,"hasBought");ct(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e,r){const n=e.split("->"),i=n.length>1?n[0]:null,a=n.length>1?n[1]:n[0],o=a.split(":"),s=o[0].replace(/[\$\#]{[^{}]*}/,""),c=new SO(s,o[1]),l=/\$\{(.*?)\}/,u=a.match(l);if(u){const p=u[1].split(","),d={};p.forEach(v=>{const[m,g]=v.split("=");m&&g&&(d[m.trim()]=isNaN(Number(g.trim()))?g.trim():Number(g.trim()))}),c.style=d}const f=/\#\{(.*?)\}/.exec(a);if(f&&fe.getState().storeData.isEditorPreviewMode===!1){const p=f[1].split(",");let d=0,v=0;p.forEach(g=>{const[_,y]=g.split("=");_==="productId"?d=isNaN(Number(y.trim()))?0:Number(y.trim()):_==="amount"&&(v=isNaN(Number(y.trim()))?0:Number(y.trim()))});const m=fe.getState().storeData.paymentConfigurationList.find(g=>g.product_id===d);d>0&&v>0&&(c.shouldPay=!0,c.productId=d,c.amount=v,Ky(d).then(g=>{r.current[d]=!0})),(m==null?void 0:m.is_buy)===!0&&(c.hasBought=!0)}if(i!==null){const h=i.match(/\((.*)\)/);h&&(c.showCondition=h[1]);const p=i.match(/\[(.*)\]/);p&&(c.enableCondition=p[1])}return c}}const ZA=(t,e)=>{const r=t.content.split("|"),n={current:{}},i=r.map(h=>SO.parse(h,n)),o=fe.getState().userData.optionData.textboxFont===Gc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:s,playSeClick:c}=Vd();let l={current:!1},u={current:null};const f=h=>h.filter((p,d)=>HA(p.showCondition)).map((p,d)=>{var y,w;const v=HA(p.enableCondition);let m=v?nc.Choose_item:nc.Choose_item_disabled;const g=()=>{if(!v&&!l.current)return;c();const b=()=>{if(e==null||e(),u.current&&(clearTimeout(u.current),u.current=null),p.jumpToScene){const E=p.jump.split("./game/scene/")[1];uV(p.jump,E)}else cV(p.jump);l.current=!1,Y.gameplay.performController.unmountPerform("choose")};if(p.shouldPay){const E=()=>{window.pubsub.publish("loading",{loading:!0}),IV(p.productId??0).then(R=>{window.pubsub.publish("loading",{loading:!1}),R.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),b()):R.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:R.message})}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};let C=!1;const A=fe.getState().storeData.paymentConfigurationList.find(R=>R.product_id===p.productId);A&&(C=A.is_buy);const T=()=>{Jo({title:"",content:`${p.amount}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{},rightFunc:E})};if(C){n.current[p.productId||""]?b():Ky(p.productId??0).then(R=>{R.code===0&&(n.current[p.productId||""]=!0,R.data.is_buy?b():T())});return}n.current[p.productId||""]&&!C?T():Ky(p.productId??0).then(R=>{R.code===0&&(n.current[p.productId||""]=!0,R.data.is_buy?b():T())});return}else b()};let _={fontFamily:o};if(p.style&&(_=_l(p.style)),typeof((y=p.style)==null?void 0:y.countdown)=="number"){m=v?nc.Choose_item_countdown:nc.Choose_item_countdown_disabled;let b=p.style.countdown,E=1082,C=1082/(b*1e3/16);const A=()=>{b<=0&&u.current?(clearTimeout(u),u.current=null,l.current=!v,g()):u.current=setTimeout(()=>{b-=.016,E-=C;let T=document.getElementById("rect");T==null||T.setAttribute("width",Math.max(0,E).toString()),A()},16)};return A(),N.jsxs(Vr.Fragment,{children:[N.jsxs("div",{className:m,style:_,children:[N.jsx("img",{src:wSe,alt:p.text,style:{width:"1082px",height:"106px"}}),N.jsx("img",{src:ESe,className:nc.Choose_item_progress_bar})]}),N.jsx("svg",{width:"0",height:"0",children:N.jsx("defs",{children:N.jsx("clipPath",{id:"myClip",children:N.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},p.jump+d)}if((w=p.style)!=null&&w.image){m=nc.Choose_item_image;const b=Wt(p.style.image,zt.ui),E=`img-option-${d}`,C=new Image;return C.src=b,C.onload=function(){let A=document.getElementById(E);C.style.width=C.naturalWidth+"px",C.style.height=C.naturalHeight+"px",C.style.position="absolute",C.alt=p.text,A&&(A.style.width=C.naturalWidth+"px",A.style.height=C.naturalHeight+"px",setTimeout(()=>{A==null||A.prepend(C),A=null},32))},N.jsx("div",{id:E,className:m,style:_,onClick:g,onMouseEnter:v?s:void 0,children:N.jsxs("span",{children:[p.text,!p.hasBought&&p.shouldPay&&N.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]})},p.jump+d)}return N.jsxs("div",{className:m,style:_,onClick:g,onMouseEnter:v?s:void 0,children:[p.text,!p.hasBought&&p.shouldPay&&N.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]},p.jump+d)});return Tu.render(N.jsx("div",{className:nc.Choose_Main,children:f(i)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Tu.render(N.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},QSe=t=>(Je.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),e2e=t=>(t.content!==""&&t.content!=="none"?fe.dispatch(Ot({key:"enableFilm",value:t.content})):fe.dispatch(Ot({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),t2e="_Choose_Main_4xkm5_1",r2e="_Choose_item_4xkm5_13",n2e="_glabalDialog_container_inner_4xkm5_28",i2e="_glabalDialog_container_4xkm5_28",a2e="_title_4xkm5_47",o2e="_button_4xkm5_59",Wf={Choose_Main:t2e,Choose_item:r2e,glabalDialog_container_inner:n2e,glabalDialog_container:i2e,title:a2e,button:o2e},s2e=t=>{const e=t.content.toString().trim(),r=qt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=qt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=fe.getState().userData.optionData.textboxFont===Gc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=Vd(),u=N.jsx("div",{style:{fontFamily:s},className:Wf.glabalDialog_container,children:N.jsxs("div",{className:Wf.glabalDialog_container_inner,children:[N.jsx("div",{className:Wf.title,children:n}),N.jsx("input",{id:"user-input",className:Wf.Choose_item}),N.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&fe.dispatch(hG({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),Y.gameplay.performController.unmountPerform("userInput"),Wn()},className:Wf.button,children:a})]})});return Tu.render(N.jsx("div",{className:Wf.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Tu.render(N.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},l2e="_FullScreenPerform_main_7er8a_2",u2e="_FullScreenPerform_element_7er8a_9",c2e="_fullScreen_video_7er8a_17",f2e="_fadeIn_7er8a_74",h2e="_intro_showSoftly_7er8a_1",d2e="_slideIn_7er8a_80",p2e="_typingEffect_7er8a_86",v2e="_typing_7er8a_86",g2e="_blinkCursor_7er8a_1",m2e="_pixelateEffect_7er8a_95",_2e="_pixelateAnimation_7er8a_1",y2e="_revealAnimation_7er8a_101",x2e="_videoContainer_7er8a_115",Hl={FullScreenPerform_main:l2e,FullScreenPerform_element:u2e,fullScreen_video:c2e,fadeIn:f2e,intro_showSoftly:h2e,slideIn:d2e,typingEffect:p2e,typing:v2e,blinkCursor:g2e,pixelateEffect:m2e,pixelateAnimation:_2e,revealAnimation:y2e,videoContainer:x2e},b2e=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,E=0)=>{switch(b){case"fadeIn":return Hl.fadeIn;case"slideIn":return Hl.slideIn;case"typingEffect":return`${Hl.typingEffect} ${E}`;case"pixelateEffect":return Hl.pixelateEffect;case"revealAnimation":return Hl.revealAnimation;default:return Hl.fadeIn}};let o=Hl.fadeIn,s=1500,c=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const E=parseInt(b.value.toString(),10);s=isNaN(E)?s:E}b.key==="hold"&&b.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=c?1e3*60*60*24:1e3+s*u.length;let d=!0,v=setTimeout(()=>{d=!1},h),m=setTimeout(()=>{});const g=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{d=!1},h),b){const E=b.childNodes[0].childNodes[0].childNodes,C=E.length;E.forEach((A,T)=>{const R=Number(A.style.animationDelay.split("ms")[0]);R>0&&(A.style.animationDelay=`${R-s}ms`),T===C-1&&(R===0?(clearTimeout(m),Y.gameplay.performController.unmountPerform(e)):(clearTimeout(m),c||(m=setTimeout(()=>{Y.gameplay.performController.unmountPerform(e),setTimeout(Wn,0)},h))))})}};Y.events.userInteractNext.on(g);const _=u.map((b,E)=>N.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[b,b===""?"":""]},"introtext"+E+Math.random().toString())),y=N.jsx("div",{style:l,children:N.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});Tu.render(y,document.getElementById("introContainer"));const w=document.getElementById("introContainer");return w&&(w.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),Y.events.userInteractNext.off(g)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},w2e=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),E2e=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),fe.dispatch(Ot({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},S2e="modulepreload",C2e=function(t,e){return new URL(t,e).href},WB={},A2e=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=C2e(a,n),a in WB)return;WB[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":S2e,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},OV=new Map;function T2e(t){return t?typeof t=="string"?t:t():null}function kV(t){const e=T2e(t);return e||(Je.error("Get name of perform failed. There no name of the perform."),"")}function gHe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);OV.set(kV(t),e)}function I2e(t,e=[]){const r=OV.get(kV(t));if(!r||!(r instanceof Function))throw Je.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}A2e(()=>import("./initRegister-f8671268.js"),[],import.meta.url);const R2e=t=>{const e="PixiPerform"+t.content;Y.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=I2e(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Je.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=Y.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=Y.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},P2e=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},YB=(t,e=P2e)=>{const r=m=>new Uint8Array(m.length/2).map((g,_)=>parseInt(m.substring(2*_,2*(_+1)),16)),n=m=>r(m)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((m,g)=>i.set(m,g));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",p=0;h&&(p=11,s=n(t.substring(9,p)),s<=1&&(p+=2,f=n(t.substring(11,p))),s===1&&(p+=8,c=(m=>new DataView(r(m).buffer).getInt32(0,!0))(t.substring(13,p))));const d=256-f;for(let m=p;m<t.length;m++)if(o=t.charCodeAt(m),o!==61||l){if(o===92&&m<t.length-5&&h){const g=t.charCodeAt(m+1);g!==117&&g!==85||(o=parseInt(t.substring(m+2,m+6),16),m+=5)}if(o>255){const g=i.get(o);g&&(o=g+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+d:o-f}else l=!0;const v=a.subarray(0,u);if(h&&s===1){const m=e(v);if(m!==c){const g="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",g+`
`,"Expected: "+c+"; Got: "+m+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(g)}}return v};function rn(){const t=Uint8Array,e=Float32Array;rn.modules||Object.defineProperties(rn,{modules:{value:new WeakMap},setModule:{value(r,n){rn.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=rn.modules.get(r);return i||(n?i=WebAssembly.compile(YB(n)):(n=r.wasm,i=rn.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),rn.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(rn.concatFloat32(f,a))}return rn.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=YB(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;rn.getModule(rn,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,p=f;f+=4,u.setInt32(p,h,!0);const d=f;f+=h,l.set(r,d);const v=f;f+=4,u.setInt32(v,l.byteLength-f,!0),s(f,v,d,p),n(l.slice(f,f+u.getInt32(v,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&rn.setModule(r,n),this._wasm=new r(rn).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var O2e=Worker;const k2e=Xi(O2e),F2e=()=>globalThis.Worker||k2e;class FV extends F2e(){constructor(e,r,n,i){rn.modules||new rn;let a=rn.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,p,d=new Promise(v=>{p=v});self.onmessage=({data:{id:v,command:m,data:g}})=>{let _=d,y={id:v},w;m==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:g.module},isWebWorker:{value:!0}}),h=new l(g.options),p()):m==="free"?h.free():m==="ready"?_=_.then(()=>h.ready):m==="reset"?_=_.then(()=>h.reset()):(Object.assign(y,h[m](Array.isArray(g)?g.map(b=>new Uint8Array(b)):new Uint8Array(g))),w=y.channelData?y.channelData.map(b=>b.buffer):[]),_.then(()=>self.postMessage(y,w))}}).toString()})(${n}, ${rn}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),rn.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(rn).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const Hd=(t,e)=>{Object.defineProperty(t,"name",{value:e})},mn=Symbol,NV=", ",cr=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(NV)))})(),mu="LFE",cg="monophonic (mono)",Gh="stereo",j0="surround",Jn=(t,...e)=>`${[cg,Gh,`linear ${j0}`,"quadraphonic",`5.0 ${j0}`,`5.1 ${j0}`,`6.1 ${j0}`,`7.1 ${j0}`][t-1]} (${e.join(NV)})`,JA=[cg,Jn(2,cr[0][0]),Jn(3,cr[0][2]),Jn(4,cr[1][0],cr[3][0]),Jn(5,cr[1][2],cr[3][0]),Jn(6,cr[1][2],cr[3][0],mu),Jn(7,cr[1][2],cr[2][0],cr[3][4],mu),Jn(8,cr[1][2],cr[2][0],cr[3][0],mu)],N2e=192e3,L2e=176400,LV=96e3,MV=88200,M2e=64e3,G1=48e3,CO=44100,AO=32e3,TO=24e3,IO=22050,RO=16e3,BV=12e3,DV=11025,PO=8e3,B2e=7350,Vh="absoluteGranulePosition",wr="bandwidth",Pu="bitDepth",Ho="bitrate",cS=Ho+"Maximum",fS=Ho+"Minimum",hS=Ho+"Nominal",fg="buffer",dS=fg+"Fullness",ji="codec",Ou=ji+"Frames",V_="coupledStreamCount",Jy="crc",UV=Jy+"16",jV=Jy+"32",$i="data",dr="description",wh="duration",Om="emphasis",pS="hasOpusPadding",Vc="header",Fp="isContinuedPacket",vS="isCopyrighted",Np="isFirstPage",gS="isHome",Hc="isLastPage",Hh="isOriginal",Xh="isPrivate",mS="isVbr",zo="layer",at="length",mr="mode",Fc=mr+"Extension",$V="mpeg",zh=$V+"Version",_S="numberAACFrames",yS="outputGain",H_="preSkip",xS="profile",bS=mn(),Wh="protection",D2e="rawData",Nc="segments",En="subarray",Lp="version",V1="vorbis",X_=V1+"Comments",z_=V1+"Setup",H1="block",wS=H1+"ingStrategy",ES=mn(),ic=H1+"Size",fp=H1+"size0",hp=H1+"size1",km=mn(),X1="channel",ac=X1+"MappingFamily",W_=X1+"MappingTable",ku=X1+"Mode",Fm=mn(),pr=X1+"s",GV="copyright",SS=GV+"Id",CS=GV+"IdStart",of="frame",fh=of+"Count",Fu=of+"Length",z1="Number",Mp=of+z1,ql=of+"Padding",_r=of+"Size",VV="Rate",AS="inputSample"+VV,OO="page",Y_=OO+"Checksum",Qy=mn(),dp=OO+"SegmentTable",Ia=OO+"Sequence"+z1,kO="sample",TS=kO+z1,Hn=kO+VV,Kl=mn(),Gi=kO+"s",W1="stream",q_=W1+"Count",HV=W1+"Info",Yh=W1+"Serial"+z1,U2e=W1+"StructureVersion",FO="total",K_=FO+"BytesOut",Z_=FO+"Duration",QA=FO+"Samples",$n=mn(),_u=mn(),IS=mn(),Y1=mn(),ud=mn(),XV=mn(),qB=mn(),q1=mn(),na=mn(),Xd=mn(),sf=mn(),hg=mn(),K1=mn(),zV=mn(),Xc=mn(),cd=mn(),zd=mn(),WV=mn(),yl=Uint8Array,Z1=DataView,hn="reserved",mo="bad",$0="free",NO="none",YV="16bit CRC",LO=(t,e,r)=>{for(let n=0;n<t[at];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},j2e=LO(new yl(256),t=>t,t=>t&128?7^t<<1:t<<1),Tn=[LO(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],In=[LO(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){Tn.push(new Uint16Array(256)),In.push(new Uint32Array(256));for(let e=0;e<=255;e++)Tn[t+1][e]=Tn[0][Tn[t][e]>>>8]^Tn[t][e]<<8,In[t+1][e]=In[t][e]>>>8^In[0][In[t][e]&255]}const $2e=t=>{let e=0;const r=t[at];for(let n=0;n!==r;n++)e=j2e[e^t[n]];return e},G2e=t=>{const e=t[at],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=Tn[15][n>>8]^Tn[14][n&255]^Tn[13][t[i++]]^Tn[12][t[i++]]^Tn[11][t[i++]]^Tn[10][t[i++]]^Tn[9][t[i++]]^Tn[8][t[i++]]^Tn[7][t[i++]]^Tn[6][t[i++]]^Tn[5][t[i++]]^Tn[4][t[i++]]^Tn[3][t[i++]]^Tn[2][t[i++]]^Tn[1][t[i++]]^Tn[0][t[i++]];for(;i!==e;)n=(n&255)<<8^Tn[0][n>>8^t[i++]];return n},V2e=t=>{const e=t[at],r=e-16;let n=0,i=0;for(;i<=r;)n=In[15][(t[i++]^n)&255]^In[14][(t[i++]^n>>>8)&255]^In[13][(t[i++]^n>>>16)&255]^In[12][t[i++]^n>>>24]^In[11][t[i++]]^In[10][t[i++]]^In[9][t[i++]]^In[8][t[i++]]^In[7][t[i++]]^In[6][t[i++]]^In[5][t[i++]]^In[4][t[i++]]^In[3][t[i++]]^In[2][t[i++]]^In[1][t[i++]]^In[0][t[i++]];for(;i!==e;)n=In[0][(n^t[i++])&255]^n>>>8;return n^-1},eT=(...t)=>{const e=new yl(t.reduce((r,n)=>r+n[at],0));return t.reduce((r,n)=>(e.set(n,r),r+n[at]),0),e},lf=t=>String.fromCharCode(...t),KB=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],ex=t=>KB[t&15]<<4|KB[t>>4];class H2e{constructor(e){this._data=e,this._pos=e[at]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(ex(this._data[r-1])<<8)+ex(this._data[r])>>7-n&255}}class X2e{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[Xc]()}[cd](){this._isEnabled=!0}[Xc](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[zV](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[na](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[Xd](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const Os=new WeakMap,$u=new WeakMap;class Wd{constructor(e,r){this._codecParser=e,this._headerCache=r}*[qB](){let e;do{if(e=yield*this.Frame[sf](this._codecParser,this._headerCache,0),e)return e;this._codecParser[_u](1)}while(!0)}*[q1](e){let r=yield*this[qB]();const n=$u.get(r)[at];if(e||this._codecParser._flushing||(yield*this.Header[na](this._codecParser,this._headerCache,n)))return this._headerCache[cd](),this._codecParser[_u](n),this._codecParser[Y1](r),r;this._codecParser[ud](`Missing ${of} at ${n} bytes from current position.`,`Dropping current ${of} and trying again.`),this._headerCache[Xc](),this._codecParser[_u](1)}}class qV{constructor(e,r){$u.set(this,{[Vc]:e}),this[$i]=r}}class dg extends qV{static*[sf](e,r,n,i,a){const o=yield*e[na](n,i,a);if(o){const s=Os.get(o)[Fu],c=Os.get(o)[Gi],l=(yield*n[$n](s,a))[En](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[Vc]=e,this[Gi]=n,this[wh]=n/e[Hn]*1e3,this[Mp]=null,this[K_]=null,this[QA]=null,this[Z_]=null,$u.get(this)[at]=r[at]}}const RS="unsynchronizationFlag",PS="extendedHeaderFlag",OS="experimentalFlag",kS="footerPresent";class MO{static*getID3v2Header(e,r,n){const a={};let o=yield*e[$n](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[$n](10,n),a[Lp]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[RS]=!!(o[5]&128),a[PS]=!!(o[5]&64),a[OS]=!!(o[5]&32),a[kS]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[at]=10+s,new MO(a)}constructor(e){this[Lp]=e[Lp],this[RS]=e[RS],this[PS]=e[PS],this[OS]=e[OS],this[kS]=e[kS],this[at]=e[at]}}class pg{constructor(e){Os.set(this,e),this[Pu]=e[Pu],this[Ho]=null,this[pr]=e[pr],this[ku]=e[ku],this[Hn]=e[Hn]}}const KV={0:[$0,$0,$0,$0,$0],16:[32,32,32,32,8],240:[mo,mo,mo,mo,mo]},Nm=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)KV[t<<4]=[t*32,Nm(t,4,0),Nm(t,4,-1),Nm(t,8,4),Nm(t,8,0)];const z2e=0,W2e=1,Y2e=2,q2e=3,ZB=4,Lm="bands ",Mm=" to 31",JB={0:Lm+4+Mm,16:Lm+8+Mm,32:Lm+12+Mm,48:Lm+16+Mm},mc="bitrateIndex",Bp="v2",J_="v1",Bm="Intensity stereo ",Dm=", MS stereo ",Um="on",jm="off",K2e={0:Bm+jm+Dm+jm,16:Bm+Um+Dm+jm,32:Bm+jm+Dm+Um,48:Bm+Um+Dm+Um},FS={0:{[dr]:hn},2:{[dr]:"Layer III",[ql]:1,[Fc]:K2e,[J_]:{[mc]:Y2e,[Gi]:1152},[Bp]:{[mc]:ZB,[Gi]:576}},4:{[dr]:"Layer II",[ql]:1,[Fc]:JB,[Gi]:1152,[J_]:{[mc]:W2e},[Bp]:{[mc]:ZB}},6:{[dr]:"Layer I",[ql]:4,[Fc]:JB,[Gi]:384,[J_]:{[mc]:z2e},[Bp]:{[mc]:q2e}}},NS="MPEG Version ",QB="ISO/IEC ",Z2e={0:{[dr]:`${NS}2.5 (later extension of MPEG 2)`,[zo]:Bp,[Hn]:{0:DV,4:BV,8:PO,12:hn}},8:{[dr]:hn},16:{[dr]:`${NS}2 (${QB}13818-3)`,[zo]:Bp,[Hn]:{0:IO,4:TO,8:RO,12:hn}},24:{[dr]:`${NS}1 (${QB}11172-3)`,[zo]:J_,[Hn]:{0:CO,4:G1,8:AO,12:hn}},length:at},J2e={0:YV,1:NO},Q2e={0:NO,1:"50/15 ms",2:hn,3:"CCIT J.17"},eD={0:{[pr]:2,[dr]:Gh},64:{[pr]:2,[dr]:"joint "+Gh},128:{[pr]:2,[dr]:"dual channel"},192:{[pr]:1,[dr]:cg}};class cv extends pg{static*[na](e,r,n){const i={},a=yield*MO.getID3v2Header(e,r,n);a&&(yield*e[$n](a[at],n),e[_u](a[at]));const o=yield*e[$n](4,n),s=lf(o[En](0,4)),c=r[na](s);if(c)return new cv(c);if(o[0]!==255||o[1]<224)return null;const l=Z2e[o[1]&24];if(l[dr]===hn)return null;const u=o[1]&6;if(FS[u][dr]===hn)return null;const f={...FS[u],...FS[u][l[zo]]};if(i[zh]=l[dr],i[zo]=f[dr],i[Gi]=f[Gi],i[Wh]=J2e[o[1]&1],i[at]=4,i[Ho]=KV[o[2]&240][f[mc]],i[Ho]===mo||(i[Hn]=l[Hn][o[2]&12],i[Hn]===hn)||(i[ql]=o[2]&2&&f[ql],i[Xh]=!!(o[2]&1),i[Fu]=Math.floor(125*i[Ho]*i[Gi]/i[Hn]+i[ql]),!i[Fu]))return null;const h=o[3]&192;if(i[ku]=eD[h][dr],i[pr]=eD[h][pr],i[Fc]=f[Fc][o[3]&48],i[vS]=!!(o[3]&8),i[Hh]=!!(o[3]&4),i[Om]=Q2e[o[3]&3],i[Om]===hn)return null;i[Pu]=16;{const{length:p,frameLength:d,samples:v,...m}=i;r[Xd](s,i,m)}return new cv(i)}constructor(e){super(e),this[Ho]=e[Ho],this[Om]=e[Om],this[ql]=e[ql],this[vS]=e[vS],this[Hh]=e[Hh],this[Xh]=e[Xh],this[zo]=e[zo],this[Fc]=e[Fc],this[zh]=e[zh],this[Wh]=e[Wh]}}class BO extends dg{static*[sf](e,r,n){return yield*super[sf](cv,BO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class eCe extends Wd{constructor(e,r,n){super(e,r),this.Frame=BO,this.Header=cv,n(this[ji])}get[ji](){return $V}*[hg](){return yield*this[q1]()}}const tCe={0:"MPEG-4",8:"MPEG-2"},rCe={0:"valid",2:mo,4:mo,6:mo},nCe={0:YV,1:NO},iCe={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},aCe={0:LV,4:MV,8:M2e,12:G1,16:CO,20:AO,24:TO,28:IO,32:RO,36:BV,40:DV,44:PO,48:B2e,52:hn,56:hn,60:"frequency is written explicitly"},tD={0:{[pr]:0,[dr]:"Defined in AOT Specific Config"},64:{[pr]:1,[dr]:cg},128:{[pr]:2,[dr]:Jn(2,cr[0][0])},192:{[pr]:3,[dr]:Jn(3,cr[1][3])},256:{[pr]:4,[dr]:Jn(4,cr[1][3],cr[3][4])},320:{[pr]:5,[dr]:Jn(5,cr[1][3],cr[3][0])},384:{[pr]:6,[dr]:Jn(6,cr[1][3],cr[3][0],mu)},448:{[pr]:8,[dr]:Jn(8,cr[1][3],cr[2][0],cr[3][0],mu)}};class J1 extends pg{static*[na](e,r,n){const i={},a=yield*e[$n](7,n),o=lf([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[na](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[zh]=tCe[a[1]&8],i[zo]=rCe[a[1]&6],i[zo]===mo))return null;const l=a[1]&1;i[Wh]=nCe[l],i[at]=l?7:9,i[bS]=a[2]&192,i[Kl]=a[2]&60;const u=a[2]&2;if(i[xS]=iCe[i[bS]],i[Hn]=aCe[i[Kl]],i[Hn]===hn)return null;i[Xh]=!!u,i[Fm]=(a[2]<<8|a[3])&448,i[ku]=tD[i[Fm]][dr],i[pr]=tD[i[Fm]][pr],i[Hh]=!!(a[3]&32),i[gS]=!!(a[3]&8),i[SS]=!!(a[3]&8),i[CS]=!!(a[3]&4),i[Pu]=16,i[Gi]=1024,i[_S]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:p,sampleRateBits:d,frameLength:v,samples:m,numberAACFrames:g,..._}=i;r[Xd](o,i,_)}}if(i[Fu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[Fu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[dS]=c===2047?"VBR":c,new J1(i)}constructor(e){super(e),this[SS]=e[SS],this[CS]=e[CS],this[dS]=e[dS],this[gS]=e[gS],this[Hh]=e[Hh],this[Xh]=e[Xh],this[zo]=e[zo],this[at]=e[at],this[zh]=e[zh],this[_S]=e[_S],this[xS]=e[xS],this[Wh]=e[Wh]}get audioSpecificConfig(){const e=Os.get(this),r=e[bS]+64<<5|e[Kl]<<5|e[Fm]>>3,n=new yl(2);return new Z1(n[fg]).setUint16(0,r,!1),n}}class DO extends dg{static*[sf](e,r,n){return yield*super[sf](J1,DO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class oCe extends Wd{constructor(e,r,n){super(e,r),this.Frame=DO,this.Header=J1,n(this[ji])}get[ji](){return"aac"}*[hg](){return yield*this[q1]()}}class Lc extends dg{static _getFrameFooterCrc16(e){return(e[e[at]-2]<<8)+e[e[at]-1]}static[WV](e){const r=Lc._getFrameFooterCrc16(e),n=G2e(e[En](0,-2));return r===n}constructor(e,r,n){r[HV]=n,r[UV]=Lc._getFrameFooterCrc16(e),super(r,e,Os.get(r)[Gi])}}const ZV="get from STREAMINFO metadata block",sCe={0:"Fixed",1:"Variable"},JV={0:hn,16:192};for(let t=2;t<16;t++)JV[t<<4]=t<6?576*2**(t-2):2**t;const lCe={0:ZV,1:MV,2:L2e,3:N2e,4:PO,5:RO,6:IO,7:TO,8:AO,9:CO,10:G1,11:LV,15:mo},uCe={0:{[pr]:1,[dr]:cg},16:{[pr]:2,[dr]:Jn(2,cr[0][0])},32:{[pr]:3,[dr]:Jn(3,cr[0][1])},48:{[pr]:4,[dr]:Jn(4,cr[1][0],cr[3][0])},64:{[pr]:5,[dr]:Jn(5,cr[1][1],cr[3][0])},80:{[pr]:6,[dr]:Jn(6,cr[1][1],mu,cr[3][0])},96:{[pr]:7,[dr]:Jn(7,cr[1][1],mu,cr[3][4],cr[2][0])},112:{[pr]:8,[dr]:Jn(8,cr[1][1],mu,cr[3][0],cr[2][0])},128:{[pr]:2,[dr]:`${Gh} (left, diff)`},144:{[pr]:2,[dr]:`${Gh} (diff, right)`},160:{[pr]:2,[dr]:`${Gh} (avg, diff)`},176:hn,192:hn,208:hn,224:hn,240:hn},cCe={0:ZV,2:8,4:12,6:hn,8:16,10:20,12:24,14:hn};class ru extends pg{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[zd](e,r){const n={[$n]:function*(){return e}};return ru[na](n,r,0).next().value}static*[na](e,r,n){let i=yield*e[$n](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=lf(i[En](0,4)),s=r[na](o);if(s)Object.assign(a,s);else{if(a[ES]=i[1]&1,a[wS]=sCe[a[ES]],a[km]=i[2]&240,a[Kl]=i[2]&15,a[ic]=JV[a[km]],a[ic]===hn||(a[Hn]=lCe[a[Kl]],a[Hn]===mo)||i[3]&1)return null;const l=uCe[i[3]&240];if(l===hn||(a[pr]=l[pr],a[ku]=l[dr],a[Pu]=cCe[i[3]&14],a[Pu]===hn))return null}a[at]=5,i=yield*e[$n](a[at]+8,n);const c=ru._decodeUTF8Int(i[En](4));if(!c||(a[ES]?a[TS]=c.value:a[Mp]=c.value,a[at]+=c[at],a[km]===96?(i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[ic]=i[a[at]-1]+1,a[at]+=1):a[km]===112&&(i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[ic]=(i[a[at]-1]<<8)+i[a[at]]+1,a[at]+=2),a[Gi]=a[ic],a[Kl]===12?(i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[Hn]=i[a[at]-1]*1e3,a[at]+=1):a[Kl]===13?(i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[Hn]=(i[a[at]-1]<<8)+i[a[at]],a[at]+=2):a[Kl]===14&&(i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[Hn]=((i[a[at]-1]<<8)+i[a[at]])*10,a[at]+=2),i[at]<a[at]&&(i=yield*e[$n](a[at],n)),a[Jy]=i[a[at]-1],a[Jy]!==$2e(i[En](0,a[at]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:p,blockSizeBits:d,crc:v,length:m,...g}=a;r[Xd](o,a,g)}return new ru(a)}constructor(e){super(e),this[UV]=null,this[wS]=e[wS],this[ic]=e[ic],this[Mp]=e[Mp],this[TS]=e[TS],this[HV]=null}}const fCe=2,hCe=512*1024;class QV extends Wd{constructor(e,r,n){super(e,r),this.Frame=Lc,this.Header=ru,n(this[ji])}get[ji](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[$n](2,0),n=r[at]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[hg](){do{const e=yield*ru[na](this._codecParser,this._headerCache,0);if(e){let r=Os.get(e)[at]+fCe;for(;r<=hCe;){if(this._codecParser._flushing||(yield*ru[na](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[$n](r);if(this._codecParser._flushing||(n=n[En](0,r)),Lc[WV](n)){const i=new Lc(n,e);return this._headerCache[cd](),this._codecParser[_u](r),this._codecParser[Y1](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[ud](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[_u](r)}else this._codecParser[_u](yield*this._getNextFrameSyncOffset(1))}while(!0)}[K1](e){return e[Ia]===0?(this._headerCache[cd](),this._streamInfo=e[$i][En](13)):e[Ia]===1||(e[Ou]=$u.get(e)[Nc].map(r=>{const n=ru[zd](r,this._headerCache);if(n)return new Lc(r,n,this._streamInfo);this._codecParser[ud]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class Q1{static*[na](e,r,n){const i={};let a=yield*e[$n](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[U2e]=a[4],a[5]&248))return null;i[Hc]=!!(a[5]&4),i[Np]=!!(a[5]&2),i[Fp]=!!(a[5]&1);const s=new Z1(yl.from(a[En](0,28))[fg]);try{i[Vh]=s.getBigInt64(6,!0)}catch{}i[Yh]=s.getInt32(14,!0),i[Ia]=s.getInt32(18,!0),i[Y_]=s.getInt32(22,!0);const c=a[26];i[at]=c+27,a=yield*e[$n](i[at],n),i[Fu]=0,i[dp]=[],i[Qy]=yl.from(a[En](27,i[at]));for(let l=0,u=0;l<c;l++){const f=i[Qy][l];i[Fu]+=f,u+=f,(f!==255||l===c-1)&&(i[dp].push(u),u=0)}return new Q1(i)}constructor(e){Os.set(this,e),this[Vh]=e[Vh],this[Fp]=e[Fp],this[Np]=e[Np],this[Hc]=e[Hc],this[dp]=e[dp],this[Ia]=e[Ia],this[Y_]=e[Y_],this[Yh]=e[Yh]}}class UO extends qV{static*[sf](e,r,n){const i=yield*Q1[na](e,r,n);if(i){const a=Os.get(i)[Fu],o=Os.get(i)[at],s=o+a,c=(yield*e[$n](s,0))[En](0,s),l=c[En](o,s);return new UO(i,l,c)}else return null}constructor(e,r,n){super(e,r),$u.get(this)[at]=n[at],this[Ou]=[],this[D2e]=n,this[Vh]=e[Vh],this[jV]=e[Y_],this[wh]=0,this[Fp]=e[Fp],this[Np]=e[Np],this[Hc]=e[Hc],this[Ia]=e[Ia],this[Gi]=0,this[Yh]=e[Yh]}}class rD extends dg{constructor(e,r){super(r,e,r[_r]*r[fh]/1e3*r[Hn])}}const nD={0:JA.slice(0,2),1:JA},uo="SILK-only",qi="CELT-only",$m="Hybrid",jl="narrowband",Gm="medium-band",$l="wideband",Yf="super-wideband",qf="fullband",dCe={0:{[mr]:uo,[wr]:jl,[_r]:10},8:{[mr]:uo,[wr]:jl,[_r]:20},16:{[mr]:uo,[wr]:jl,[_r]:40},24:{[mr]:uo,[wr]:jl,[_r]:60},32:{[mr]:uo,[wr]:Gm,[_r]:10},40:{[mr]:uo,[wr]:Gm,[_r]:20},48:{[mr]:uo,[wr]:Gm,[_r]:40},56:{[mr]:uo,[wr]:Gm,[_r]:60},64:{[mr]:uo,[wr]:$l,[_r]:10},72:{[mr]:uo,[wr]:$l,[_r]:20},80:{[mr]:uo,[wr]:$l,[_r]:40},88:{[mr]:uo,[wr]:$l,[_r]:60},96:{[mr]:$m,[wr]:Yf,[_r]:10},104:{[mr]:$m,[wr]:Yf,[_r]:20},112:{[mr]:$m,[wr]:qf,[_r]:10},120:{[mr]:$m,[wr]:qf,[_r]:20},128:{[mr]:qi,[wr]:jl,[_r]:2.5},136:{[mr]:qi,[wr]:jl,[_r]:5},144:{[mr]:qi,[wr]:jl,[_r]:10},152:{[mr]:qi,[wr]:jl,[_r]:20},160:{[mr]:qi,[wr]:$l,[_r]:2.5},168:{[mr]:qi,[wr]:$l,[_r]:5},176:{[mr]:qi,[wr]:$l,[_r]:10},184:{[mr]:qi,[wr]:$l,[_r]:20},192:{[mr]:qi,[wr]:Yf,[_r]:2.5},200:{[mr]:qi,[wr]:Yf,[_r]:5},208:{[mr]:qi,[wr]:Yf,[_r]:10},216:{[mr]:qi,[wr]:Yf,[_r]:20},224:{[mr]:qi,[wr]:qf,[_r]:2.5},232:{[mr]:qi,[wr]:qf,[_r]:5},240:{[mr]:qi,[wr]:qf,[_r]:10},248:{[mr]:qi,[wr]:qf,[_r]:20}};class fv extends pg{static[zd](e,r,n){const i={};if(i[pr]=e[9],i[ac]=e[18],i[at]=i[ac]!==0?21+i[pr]:19,e[at]<i[at])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=lf(e[En](0,i[at]))+lf(r[En](0,o)),c=n[na](s);if(c)return new fv(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[$i]=yl.from(e[En](0,i[at]));const l=new Z1(i[$i][fg]);if(i[Pu]=16,i[H_]=l.getUint16(10,!0),i[AS]=l.getUint32(12,!0),i[Hn]=G1,i[yS]=l.getInt16(16,!0),i[ac]in nD&&(i[ku]=nD[i[ac]][i[pr]-1],!i[ku]))return null;i[ac]!==0&&(i[q_]=e[19],i[V_]=e[20],i[W_]=[...e[En](21,i[pr]+21)]);const u=dCe[248&r[0]];switch(i[mr]=u[mr],i[wr]=u[wr],i[_r]=u[_r],a){case 0:i[fh]=1;break;case 1:case 2:i[fh]=2;break;case 3:i[mS]=!!(128&r[1]),i[pS]=!!(64&r[1]),i[fh]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:p,...d}=i;n[Xd](s,i,d)}return new fv(i)}constructor(e){super(e),this[$i]=e[$i],this[wr]=e[wr],this[ac]=e[ac],this[W_]=e[W_],this[V_]=e[V_],this[fh]=e[fh],this[_r]=e[_r],this[pS]=e[pS],this[AS]=e[AS],this[mS]=e[mS],this[mr]=e[mr],this[yS]=e[yS],this[H_]=e[H_],this[q_]=e[q_]}}class pCe extends Wd{constructor(e,r,n){super(e,r),this.Frame=rD,this.Header=fv,n(this[ji]),this._identificationHeader=null}get[ji](){return"opus"}[K1](e){return e[Ia]===0?(this._headerCache[cd](),this._identificationHeader=e[$i]):e[Ia]===1||(e[Ou]=$u.get(e)[Nc].map(r=>{const n=fv[zd](this._identificationHeader,r,this._headerCache);if(n)return new rD(r,n);this._codecParser[XV]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class iD extends dg{constructor(e,r,n){super(r,e,n)}}const tT={};for(let t=0;t<8;t++)tT[t+6]=2**(6+t);class tx extends pg{static[zd](e,r,n,i){if(e[at]<30)throw new Error("Out of data while inside an Ogg Page");const a=lf(e[En](0,30)),o=r[na](a);if(o)return new tx(o);const s={[at]:30};if(a.substr(0,7)!=="vorbis")return null;s[$i]=yl.from(e[En](0,30));const c=new Z1(s[$i][fg]);if(s[Lp]=c.getUint32(7,!0),s[Lp]!==0||(s[pr]=e[11],s[ku]=JA[s[pr]-1]||"application defined",s[Hn]=c.getUint32(12,!0),s[cS]=c.getInt32(16,!0),s[hS]=c.getInt32(20,!0),s[fS]=c.getInt32(24,!0),s[hp]=tT[(e[28]&240)>>4],s[fp]=tT[e[28]&15],s[fp]>s[hp])||e[29]!==1)return null;s[Pu]=32,s[z_]=i,s[X_]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:p,...d}=s;r[Xd](a,s,d)}return new tx(s)}constructor(e){super(e),this[cS]=e[cS],this[fS]=e[fS],this[hS]=e[hS],this[fp]=e[fp],this[hp]=e[hp],this[$i]=e[$i],this[X_]=e[X_],this[z_]=e[z_]}}class vCe extends Wd{constructor(e,r,n){super(e,r),this.Frame=iD,n(this[ji]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[ji](){return V1}[K1](e){e[Ou]=[];for(const r of $u.get(e)[Nc])if(r[0]===1)this._headerCache[cd](),this._identificationHeader=e[$i],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=tx[zd](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[Ou].push(new iD(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[hp]:r[fp],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new H2e(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){ex(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((ex(i)&126)>>1)+1!==n.count&&this._codecParser[ud]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class gCe{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new yl,this._codec=null,this._isSupported=null}get[ji](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[Xc](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=lf(e[En](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",pCe),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",QV),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(V1,vCe),!0;default:return!1}}_checkPageSequenceNumber(e){e[Ia]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[Ia]>1&&this._codecParser[ud]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[Ia]}`),this._pageSequenceNumber=e[Ia]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[Ia],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=$u.get(e),n=Os.get(r[Vc]);let i=0;if(r[Nc]=n[dp].map(a=>e[$i][En](i,i+=a)),this._continuedPacket[at]&&(r[Nc][0]=eT(this._continuedPacket,r[Nc][0]),this._continuedPacket=new yl),n[Qy][n[Qy][at]-1]===255&&(this._continuedPacket=eT(this._continuedPacket,r[Nc].pop())),this._isSupported){const a=this._parser[K1](e);return this._codecParser[Y1](a),a}else return e}}class mCe extends Wd{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=UO,this.Header=Q1,this._streams=new Map,this._currentSerialNumber=null}get[ji](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[hg](){const e=yield*this[q1](!0);this._currentSerialNumber=e[Yh];let r=this._streams.get(this._currentSerialNumber);return r||(r=new gCe(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Hc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const LS=()=>{};class eH{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||LS,this._onCodecHeader=n||LS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?V2e:LS,this[Xc]()}get[ji](){return this._parser?this._parser[ji]:""}[Xc](){this._headerCache=new X2e(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[Xc]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new oCe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new eCe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new QV(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new mCe(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[hg]();e&&(yield e)}}*[$n](e=0,r=0){let n;for(;this._rawData[at]<=e+r;){if(n=yield,this._flushing)return this._rawData[En](r);n&&(this._totalBytesIn+=n[at],this._rawData=eT(this._rawData,n))}return this._rawData[En](r)}[_u](e){this._currentReadPosition+=e,this._rawData=this._rawData[En](e)}[IS](e){this._sampleRate=e[Vc][Hn],e[Vc][Ho]=e[wh]>0?Math.round(e[$i][at]/e[wh])*8:0,e[Mp]=this._frameNumber++,e[K_]=this._totalBytesOut,e[QA]=this._totalSamples,e[Z_]=this._totalSamples/this._sampleRate*1e3,e[jV]=this._crc32(e[$i]),this._headerCache[zV](e[Vc][Ho],e[Z_]),this._totalBytesOut+=e[$i][at],this._totalSamples+=e[Gi]}[Y1](e){e[Ou]?(e[Ou].forEach(r=>{e[wh]+=r[wh],e[Gi]+=r[Gi],this[IS](r)}),e[QA]=this._totalSamples,e[Z_]=this._totalSamples/this._sampleRate*1e3||0,e[K_]=this._totalBytesOut):this[IS](e)}_log(e,r){if(this._enableLogging){const n=[`${ji}:         ${this[ji]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${K_}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[at]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[ud](...e){this._log(console.warn,e)}[XV](...e){this._log(console.error,e)}}const Mc=Vh,Dp=Ou,_Ce=V_,Q_=$i,tH=Vc,rH=Hc,yCe=H_,xCe=X_,bCe=z_,wCe=W_,aD=pr,nH=Gi,ECe=q_;function Eh(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Eh.wasm||Object.defineProperty(Eh,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function p(O,P){return Math.pow(O,P)}var d=(O,P,k)=>a.copyWithin(O,P,P+k),v=O=>{r("OOM")},m=O=>{a.length,v()},g={b:u,a:c,d:f,e:h,f:p,c:l,g:d,h:m};function _(O){O.j()}var y={a:g},w,b,E,C,A,T,R;this.setModule=O=>{t.setModule(Eh,O)},this.getModule=()=>t.getModule(Eh),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,y)).then(O=>{const P=O.exports;w=P.k,b=P.l,E=P.m,C=P.n,A=P.o,T=P.p,R=P.q,o=P.i,s(),_(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=b,this.free=R,this.create_decoder=w,this.send_setup=E,this.init_dsp=C,this.decode_packets=A,this.destroy_decoder=T}),this)}function Sh(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=Sh.isWebWorker,this._WASMAudioDecoderCommon=Sh.WASMAudioDecoderCommon||rn,this._EmscriptenWASM=Sh.EmscriptenWASM||Eh,this._module=Sh.module,this._inputSize=128*1024,this._ready=this._init(),this}const rT=Symbol();class jO{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new rn,this._init(),this[rT](Sh)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new eH("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[rT](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[Q_][0]===1&&this._decoder.sendSetupHeader(o[Q_]),o[Dp].length)){const s=o[Dp][0][tH];this._decoder.sendSetupHeader(s[xCe]),this._decoder.sendSetupHeader(s[bCe]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[Dp].map(s=>s[Q_]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[Mc])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[Mc]-BigInt(i[nH])),i[rH])){const a=n.samplesDecoded-Number(i[Mc]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class SCe extends FV{constructor(e){super(e,"ogg-vorbis-decoder",Sh,Eh)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class CCe extends jO{constructor(){super(),super[rT](SCe)}async free(){super.free()}terminate(){this._decoder.terminate()}}Hd(jO,"OggVorbisDecoder");Hd(CCe,"OggVorbisDecoderWebWorker");function Ch(t){function e(){}function r(b){throw b}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Ch.wasm||Object.defineProperty(Ch,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var b=o.buffer;a=new Uint8Array(b)}function c(b){return Math.cos(b)}function l(b){return Math.exp(b)}var u=(b,E,C)=>a.copyWithin(b,E,E+C),f=b=>{r("OOM")},h=b=>{a.length,f()},p={b:c,a:l,c:u,d:h};function d(b){b.f()}var v={a:p},m,g,_,y,w;this.setModule=b=>{t.setModule(Ch,b)},this.getModule=()=>t.getModule(Ch),this.instantiate=()=>(this.getModule().then(b=>WebAssembly.instantiate(b,v)).then(b=>{const E=b.exports;m=E.g,g=E.h,_=E.i,y=E.j,w=E.k,o=E.e,s(),d(E),e()}),this.ready=new Promise(b=>{e=b}).then(()=>{this.HEAP=o.buffer,this.malloc=g,this.free=w,this.opus_frame_decoder_create=m,this.opus_frame_decode_float_deinterleaved=_,this.opus_frame_decoder_destroy=y}),this)}function ps(t={}){ps.errors||Object.defineProperties(ps,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(ps.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],p=0,d=0;for(;d<u.length;){const v=u[d++],m=this._decode(v);f.push(m.outputBuffer),p+=m.samplesDecoded,m.error&&this._common.addError(h,m.error,v.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=v.length,this._outputSamples+=m.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,p,this._sampleRate)},this._isWebWorker=ps.isWebWorker,this._WASMAudioDecoderCommon=ps.WASMAudioDecoderCommon||rn,this._EmscriptenWASM=ps.EmscriptenWASM||Ch,this._module=ps.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class iH extends FV{constructor(e){super(e,"opus-decoder",ps,Ch)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}Hd(ps,"OpusDecoder");Hd(iH,"OpusDecoderWebWorker");class $O{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new rn,this._decoderClass=ps,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new eH("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[yCe],this._channels=this._forceStereo?2:e[aD],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[aD],streamCount:e[ECe],coupledStreamCount:e[_Ce],channelMappingTable:e[wCe],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[Dp].map(s=>s[Q_]);if(o.length){this._decoder||await this._instantiateDecoder(a[Dp][0][tH]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[Mc])>-1&&(this._beginningSampleOffset=a[Mc]-BigInt(a[nH])+BigInt(this._preSkip)),a[rH]){if(a[Mc]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[Mc]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let p=0;p<s.length;p++)s[p]=s[p].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return rn.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),rn.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),rn.getDecodedAudioMultiChannel(...e)}}class ACe extends $O{constructor(e){super(e),this._decoderClass=iH}async free(){super.free()}}Hd($O,"OggOpusDecoder");Hd(ACe,"OggOpusDecoderWebWorker");async function Up(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await ICe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await TCe(n)}catch(a){return console.error("Vorbis ",a),""}}}async function TCe(t){const e=new jO;await e.ready;const r=await e.decode(t);return aH(r)}async function ICe(t){const e=new $O;await e.ready;const r=await e.decode(t);return aH(r)}function aH(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=RCe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function RCe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const oH=t=>{var a;Je.debug("play SE");let e="effect-sound";Y.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;qt(t,"id")&&(e=`effect-sound-${((a=qt(t,"id"))==null?void 0:a.toString())??""}`,Y.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var d;const s=qt(t,"volume");let c=document.createElement("audio");c.src=await Up(r),c.load(),n&&(c.loop=!0);const l=fe.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),c==null||c.play(),c.onended=()=>{for(const v of Y.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),Y.gameplay.performController.unmountPerform(v.performName))}},1)})}},PCe={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],unlockAffinityData:[]},sH=eg({name:"saveData",initialState:vn(PCe),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},updateAffinityData:(t,e)=>{t.unlockAffinityData=e.payload}}}),Pr=sH.actions,OCe=sH.reducer;function kCe(t,e){for(let r=t;r<=e;r++){const n=fe.getState().saveData.saveData[r];n&&Co.setItem(`${Y.gameKey}-saves${r}`,n).then(()=>{Je.info(`${r}`)})}}async function GO(t,e){for(let r=t;r<=e;r++){const n=await Co.getItem(`${Y.gameKey}-saves${r}`);fe.dispatch(Pr.saveGame({index:r,saveData:n})),Je.info(`${r}`)}}async function FCe(){const t=fe.getState().saveData.quickSaveData;await Co.setItem(`${Y.gameKey}-saves-fast`,t),Je.info("")}async function lH(){const t=await Co.getItem(`${Y.gameKey}-saves-fast`);fe.dispatch(Pr.setFastSave(t)),Je.info("")}async function uH(){const t=fe.getState().saveData.unlockStorylineList;await Co.setItem(`${Y.gameKey}-storyline`,{data:t}),Je.info(" >> ")}async function eb(){const t=await Co.getItem(`${Y.gameKey}-storyline`);fe.dispatch(Pr.setStorylineListFromStorage((t==null?void 0:t.data)??[])),Je.info(" >> ")}async function NCe(){const t=fe.getState().saveData.unlockAffinityData;await Co.setItem(`${Y.gameKey}-unlock-affinity`,{data:t}),Je.info(" >> ")}async function LCe(){const t=await Co.getItem(`${Y.gameKey}-unlock-affinity`);fe.dispatch(Pr.updateAffinityData((t==null?void 0:t.data)??[])),Je.info(" >> ")}async function cH(){const t=fe.getState().saveData.unlockAchieveData;await Co.setItem(`${Y.gameKey}-unlock-achieve`,{data:t}),Je.info(" >>> ")}async function MCe(){const t=await Co.getItem(`${Y.gameKey}-unlock-achieve`);fe.dispatch(Pr.setUnlockAchieveData((t==null?void 0:t.data)||[])),Je.info(" >>> ")}const oD=async(t,e)=>{const r=await fH(t,!0,e);fe.dispatch(Pr.saveGame({index:t,saveData:r})),kCe(t,t)};async function fH(t,e=!0,r){const n=fe.getState().stage,i=vn(Y.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=Y.videoManager.videosByKey[Y.videoManager.currentPlayingVideo];c&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:vn(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:Y.sceneManager.sceneData.currentSentenceId,sceneStack:vn(Y.sceneManager.sceneData.sceneStack),sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function VO(){const t=fe.getState().stage,e=vn(Y.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:vn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:Y.sceneManager.sceneData.currentSentenceId,sceneStack:vn(Y.sceneManager.sceneData.sceneStack),sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl}};return fe.dispatch(Pr.setSaveVideoData(n)),n}const BCe=t=>{const e=fe.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a="videoPlay."+xo();let o="",s=!1;const c=Date.now();fe.dispatch(aT(!1));const l={current:()=>{console.log("")}};t.args.forEach(p=>{p.key==="choose"&&(o="choose:"+p.value),p.key==="continueBgm"&&p.value,p.key==="loop"&&(s=p.value===!0)});const u=()=>{let p=qt(t,"skipOff"),d=!0;return Y.gameplay.isFast?(p&&(d=!0),s&&(d=!1),o!==""&&(d=!0,l.current())):(p||s||o!=="")&&(d=!0),d};Y.videoManager.showVideo(t.content);let f=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:u,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(p=>{const d=v=>{f=!0,v.stopFunction(),Y.gameplay.performController.unmountPerform(v.performName)};setTimeout(()=>{const v=t.content,m=fe.getState().saveData.isLoadVideo;Y.videoManager.seek(v,.03),Y.videoManager.setVolume(v,i),Y.videoManager.setLoop(v,s);const g=o?o.slice(7).split("|").map(C=>"game/scene/"+C.split(":")[1]):[];g.length&&Gd(g);const _=()=>{if(m){fe.dispatch(bt({component:"showExtra",visibility:!0}));return}for(const C of Y.gameplay.performController.performList)if(C.performName===a)if(o!==""&&!s){const A=hv(o,`${c}.txt`,""),T=Y.videoManager.getDuration(v);Y.videoManager.seek(v,(T||0)-.03),Y.videoManager.pauseVideo(v);const R=A.sentenceList[0],O=ZA(R,()=>{d(C)});Y.gameplay.performController.arrangeNewPerform(O,R)}else d(C),Wn()};l.current=_;const y={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:(C=!1)=>{const A=document.getElementById("currentVocal");A&&(A.volume=n.toString()),Y.videoManager.destroy(v,C)},blockingNext:u,blockingAuto:()=>!f,stopTimeout:void 0,goNextWhenOver:!0};p(y);const w=0,b=document.getElementById("currentVocal");b&&(b.volume=w.toString()),Y.videoManager.playVideo(v);const E=fe.getState().saveData.saveData||[];if(E!=null&&E.length&&E.forEach(C=>{var A,T;(T=(A=C==null?void 0:C.nowStageState)==null?void 0:A.PerformList)==null||T.forEach(R=>{var O;((O=R==null?void 0:R.script)==null?void 0:O.content)===v&&setTimeout(()=>{fe.dispatch(aT(!0))})})}),o&&s){const A=hv(o,`${c}.txt`,"").sentenceList[0],T=ZA(A,_);Y.gameplay.performController.arrangeNewPerform(T,A)}setTimeout(()=>{VO()},1e3),Y.videoManager.onEnded(v,()=>{if(s)Y.videoManager.seek(v,.03),Y.videoManager.playVideo(v);else{const C=fe.getState().stage.showValueList;if(C!=null&&C.length){const A=fe.getState().stage.showValueName,T=C.filter(R=>R.showValueName!==A);fe.dispatch(lde(T))}_()}})},100)})}},DCe=t=>{var o;fe.getState().stage.currentDialogKey;const e=t.content,r=Si(e),n=(((o=qt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=Y.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=qy(e,n,r);s&&(Je.debug(`${e}${n}`,r),(l=Y.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;fe.getState().stage.currentDialogKey,(s=Y.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function UCe(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const jCe=[{name:"universalSoftIn",animationGenerateFunc:P7},{name:"universalSoftOff",animationGenerateFunc:O7},{name:"testblur",animationGenerateFunc:UCe}],$Ce=t=>{var s,c,l;fe.getState().stage.currentDialogKey;const e=t.content,r=qt(t,"duration")??0,n=((s=qt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=GCe(e);let o=()=>{};if(a){Je.debug(`${e}${n}`,r);const u=a(n,r);(c=Y.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=Y.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;fe.getState().stage.currentDialogKey,(f=Y.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function GCe(t){const e=jCe.find(r=>r.name===t);return Je.debug("",e),e?e.animationGenerateFunc:null}const VCe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),HCe=t=>{var l;fe.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};Y.animationManager.addAnimation(i);const a=Si(e),o=((l=qt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=Y.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=qy(e,o,a);u&&(Je.debug(`${e}${o}`,a),(h=Y.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;fe.getState().stage.currentDialogKey,(u=Y.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function XCe(t){return t.content==="hide"?fe.dispatch(Ot({key:"isDisableTextbox",value:!0})):fe.dispatch(Ot({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const zCe=t=>{var u;fe.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=qt(t,"duration"),a=((u=qt(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=af(a,f,i)}catch{n=[]}const o={name:e,effects:n};Y.animationManager.addAnimation(o);const s=YCe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=Y.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=WCe(e,a,s);f&&(Je.debug(`${e}${a}`,s),(p=Y.gameplay.pixiStage)==null||p.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;fe.getState().stage.currentDialogKey,(f=Y.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function WCe(t,e,r){const n=Y.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=vn({...cO,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Je.debug("",i),lV(i,e,r)}return null}function YCe(t){const e=Y.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const qCe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return qt(t,"enter")&&Y.animationManager.nextEnterAnimationName.set(e,qt(t,"enter").toString()),qt(t,"exit")&&Y.animationManager.nextExitAnimationName.set(e+"-off",qt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},KCe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Je.info(`BGM${r}${e}${n}`),fe.dispatch(OG({name:r,url:e,series:n}));const i=fe.getState().userData;return Co.setItem(Y.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},ZCe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Je.info(`CG${r}${e}${n}`),fe.dispatch(PG({name:r,url:e,series:n}));const i=fe.getState().userData;return Co.setItem(Y.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},HO=(t,e=!0,r=!0)=>{t&&Y.backlogManager.makeBacklogEmpty(),r&&Y.videoManager.destroyAll(!0),e&&Y.sceneManager.resetScene(),Y.gameplay.performController.removeAllPerform(),Y.gameplay.resetGamePlay();const n=vn(fG),i=fe.getState().stage.GameVar;fe.dispatch(Jx(n)),e||fe.dispatch(Ot({key:"GameVar",value:i})),fe.dispatch(Pr.setLoadVideo(!1))},JCe=t=>{HO(!0);const e=fe.dispatch,r=Wt("start.txt",zt.scene);return setTimeout(()=>{Y.sceneManager.resetScene()},5),e(Pr.resetFastSave()),bH(),Na(r).then(n=>{Y.sceneManager.setCurrentScene(n,"start.txt",r)}),e(bt({component:"showTitle",visibility:!0})),ak(fe.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},QCe=t=>(cV(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),eAe=t=>(Y.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Je.warn("pixi ",e.performName);for(let r=0;r<Y.gameplay.performController.performList.length;r++){const n=Y.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),Y.gameplay.performController.performList.splice(r,1),r--)}fe.dispatch(Gn.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Mr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},tAe=t=>(Mr.maxAudioLevel=Math.max(t,Mr.maxAudioLevel),{OPEN_THRESHOLD:Mr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Mr.maxAudioLevel*.5}),rAe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=Y.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Mr.blinkTimerID=setTimeout(()=>{var a;(a=Y.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Mr.blinkTimerID=setTimeout(r,i)},200))}r()},nAe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},sD=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=Y.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((p=Y.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,f,c))};class iAe{constructor(e){ct(this,"subject");ct(this,"result");ct(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function tb(t){return new iAe(t)}const aAe=t=>{Je.debug("play vocal");const e="vocal-play",r=qt(t,"vocal"),n=qt(t,"volume");let i;i=fe.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");Y.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&tb(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);fe.dispatch(Ot({key:"playVocal",value:r})),fe.dispatch(Ot({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?fe.dispatch(Ot({key:"vocalVolume",value:n})):fe.dispatch(Ot({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const m={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Mr.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const _=c.find(y=>y.targetId===o);sD({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a}),clearTimeout(Mr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};Y.gameplay.performController.arrangeNewPerform(m,t,!1),o=o||`fig-${a}`;const g=c.find(_=>_.targetId===o);if(g){const _=s.find(b=>b.key===o);if(_&&(a=_.basePosition),!Mr.audioContext){let b;b=new AudioContext,Mr.analyser=b.createAnalyser(),Mr.analyser.fftSize=256,Mr.dataArray=new Uint8Array(Mr.analyser.frequencyBinCount)}Mr.analyser||(Mr.analyser=Mr.audioContext.createAnalyser(),Mr.analyser.fftSize=256),l=Mr.analyser.frequencyBinCount,Mr.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Mr.source||(Mr.source=Mr.audioContext.createMediaElementSource(y),Mr.source.connect(Mr.analyser)),Mr.analyser.connect(Mr.audioContext.destination),Mr.audioLevelInterval=setInterval(()=>{const b=nAe(Mr.analyser,Mr.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C}=tAe(b);sD({audioLevel:b,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:g,pos:a})},50);let w;w=Date.now()+1e4,rAe({key:o,animationItem:g,pos:a,animationEndTime:w}),setTimeout(()=>{clearTimeout(Mr.blinkTimerID)},1e4)}v.onloadeddata=()=>{v==null||v.play()},v.onended=()=>{for(const _ of Y.gameplay.performController.performList)_.performName===e&&(p=!0,_.stopFunction(),Y.gameplay.performController.unmountPerform(_.performName))}}},1)})}};function hH(t){return t===0?3:t===100?80:77*Number(t)/100}function oAe(t){return t===0?800:t===100?200:800-600*Number(t)/100}const sAe=t=>{const e=fe.getState().stage,r=fe.getState().userData,n=fe.dispatch;let i=Math.random().toString(),a=t.content;const o=qt(t,"concat"),s=qt(t,"notend"),c=qt(t,"speaker"),l=qt(t,"clear"),u=qt(t,"vocal"),f=qt(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(Ot({key:"currentConcatDialogPrev",value:e.showText}))):n(Ot({key:"currentConcatDialogPrev",value:""})),n(Ot({key:"showText",value:a})),n(Ot({key:"vocal",value:""})),n(Ot({key:"dialogueMode",value:f})),r.optionData.voiceInterruption===zP.no&&u===null||(n(Ot({key:"playVocal",value:""})),Y.gameplay.performController.unmountPerform("vocal-play",!0)),n(Ot({key:"currentDialogKey",value:i}));const p=hH(r.optionData.textSpeed)*t.content.length;for(const g of t.args)if(g.key==="fontSize")switch(g.value){case"default":n(Ot({key:"showTextSize",value:-1}));break;case"small":n(Ot({key:"showTextSize",value:gu.small}));break;case"medium":n(Ot({key:"showTextSize",value:gu.medium}));break;case"large":n(Ot({key:"showTextSize",value:gu.large}));break}let d=e.showName;c!==null&&(d=c),f==="player"&&(d=""),f==="narrator"&&(d=""),l&&(d=""),n(Ot({key:"showName",value:d})),u&&aAe(t);const v=xo();let m=750-r.optionData.textSpeed/100*2*250;return s&&(m=0),VO(),{performName:v,duration:p+m,isHoldOn:!1,stopFunction:()=>{Y.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},lAe=t=>{const e=fe.getState().stage,r=fe.getState().userData,n=fe.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(Ot({key:"showText",value:JSON.stringify(i)})),n(Ot({key:"showName",value:""})),Je.debug("",i),setTimeout(()=>{Y.events.textSettle.emit()},0);const a=xo(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{Y.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},uAe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];fe.dispatch(Gn.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},cAe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await VO(),await eb(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=fe.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?fe.dispatch(Pr.addStorylineList({storyLine:o,videoData:fe.getState().saveData.saveVideoData})):fe.dispatch(Pr.replaceStorylineList({index:i,data:{storyLine:o,videoData:fe.getState().saveData.saveVideoData}})),uH()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),fAe=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=fe.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return fe.dispatch(Pr.saveAllUnlockAchieveList(c)),i===-1?fe.dispatch(Pr.addUnlockAchieveData(s)):fe.dispatch(Pr.replaceUnlockAchieveData({index:i,data:s})),cH(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},lD=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function hAe(t){const e={isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSWitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=lD(r.value):r.key==="progressBarStyle"?e.progressBarStyle=lD(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),fe.dispatch(sde(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const dAe=t=>{if(fe.getState().storeData.isEditorPreviewMode)return{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=Number(t.content),n=fe.getState().storeData.paymentConfigurationList.find(c=>c.product_id===r);let i=n==null?void 0:n.sales_amount;const a={current:!1};t.args.forEach(c=>{var l;switch(c.key){case"name":(l=c.value)==null||l.toString();break;case"amount":i||(i=isNaN(Number(c.value))?0:Number(c.value));break}});const o=(c=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},c?0:2e3);const l=()=>{Jo({title:`
`,rightText:"",rightFunc:()=>o(!0)})},u=()=>{IV(r??0).then(f=>{window.pubsub.publish("loading",{loading:!1}),f.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),Y.gameplay.performController.unmountPerform("payProduct")):f.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{successCallback:o,closeCallback:o})):(window.pubsub.publish("toaster",{show:!0,text:f.message}),o())}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};Ky(r).then(f=>{e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),f.code===0?f.data?Y.gameplay.performController.unmountPerform("payProduct"):Jo({title:"",content:`${i}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{a.current=!0},rightFunc:u}):l()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),l()})};return o(),{performName:"payProduct",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{const c={performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};Y.gameplay.performController.arrangeNewPerform(c,t,!1)},blockingNext:()=>(a.current&&(a.current=!1,o()),!0),blockingAuto:()=>!0,stopTimeout:void 0}},pAe=t=>{if(fe.getState().storeData.isEditorPreviewMode)return{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=fe.getState().storeData.gameInfo;let n=(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===2;const{playSeEnter:i,playSeClick:a}=Vd(),o={current:!1};if(n&&(r!=null&&r.canPlay)||(r==null?void 0:r.isFree)===2||(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===1&&r.canPlay)return{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};const s=async()=>{a();const u=await RV();window.pubsub.publish("loading",{loading:!1}),u.code===0||u.code===10053?(u.code===0&&window.pubsub.publish("toaster",{show:!0}),Y.gameplay.performController.unmountPerform("finishTrial")):u.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{successCallback:c,closeCallback:c})):window.pubsub.publish("toaster",{show:!0,text:u.message})},c=(u=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},u?0:2e3);const f=()=>{Jo({title:`
`,rightText:"",rightFunc:()=>c(!0)})};EO().then(h=>{if(e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),h.code===0){const p=h.data;if(!p)return;if(p.isFree===1&&p.tryPlay===2&&p.canPlay)Y.gameplay.performController.unmountPerform("finishTrial");else{const d=fe.getState().storeData.gameInfo;Jo({title:"",type:"pay",content:`${d==null?void 0:d.salesAmount}`,suffixContent:"",leftText:"",rightText:"",leftFunc:()=>{o.current=!0},rightFunc:s})}}else f()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),f()})};return c(),{performName:"finishTrial",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Tu.render(N.jsx("div",{}),document.getElementById("chooseContainer"));const u={performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};Y.gameplay.performController.arrangeNewPerform(u,t,!1)},blockingNext:()=>(o.current&&(c(),o.current=!1),!0),blockingAuto:()=>!0,stopTimeout:void 0}};function vAe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,p=Math.min(h/n,1),d=u(p);t.scrollTo(i+o*d,a+s*d),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const gAe=t=>{const e=xo();let r=0,n=0,i=0,a=!1;console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(s=>{s.key==="duration"?r=Number(s.value):s.key==="x"?n=Number(s.value):s.key==="y"?i=Number(s.value):s.key==="next"&&(a=s.value==="true")});const o=document.getElementById("camera");return o&&(Je.info(`${n}${i}`),vAe(o,n,i,r)),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},mAe=t=>{let e=Wt(t.content,zt.ui),r="",n=Date.now(),i="";return t.args.forEach(a=>{a.key==="number"?r=Wt(a.value.toString().trim(),zt.ui):a.key==="sound"&&a.value&&(i=Wt(a.value.toString().trim(),zt.vocal))}),fe.dispatch(ude({rolePicture:e,numberPicture:r,key:n})),i&&oH({command:Bt.playEffect,commandRaw:"playEffect",content:i,sentenceAssets:[],subScene:[],args:[]}),{performName:xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}},MS={performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},_Ae=t=>{var c;if(console.log(" >>>>>>>> start : ",{sentence:t}),JSe())return MS;let e=(t==null?void 0:t.content)||"";const r={};r.url=e,t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break}});const n=fe.getState().saveData;if(!r.name||!r.url)return MS;const i=(c=n.unlockAffinityData)==null?void 0:c.findIndex(l=>l.name===r.name&&l.url===r.url),a=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),o={name:r.name||"",url:r.url||"",x:r.x||0,y:r.y||0,saveTime:a,isUnlocked:!0},s=[...n.unlockAffinityData];return i!==-1?s[i]=o:s.push(o),fe.dispatch(Pr.updateAffinityData(s)),NCe(),MS};function yAe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=fe.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":c=b.value.toString(),c=Wt(c,zt.figure);break;case"mouthClose":l=b.value.toString(),l=Wt(l,zt.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=Wt(u,zt.figure);break;case"eyesOpen":f=b.value.toString(),f=Wt(f,zt.figure);break;case"eyesClose":h=b.value.toString(),h=Wt(h,zt.figure);break;case"animationFlag":p=b.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,g=fe.getState().stage.popUpImageAssociatedAnimation.filter(b=>b.targetId!==v),_={targetId:v,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};g.push(_),d(Ot({key:"popUpImageAssociatedAnimation",value:g}));let y=!0;if(o!==""){const b=fe.getState().stage.freePopUpImage.find(E=>E.key===o);b&&b.name===t.content&&(y=!1)}else e==="center"&&fe.getState().stage.popUpImageName===t.content&&(y=!1),e==="left"&&fe.getState().stage.popUpImageNameLeft===t.content&&(y=!1),e==="right"&&fe.getState().stage.popUpImageNameRight===t.content&&(y=!1);if(y){const b=`fig-${e}`,E=`${o}`;fe.dispatch(Gn.removeEffectByTargetId(b)),fe.dispatch(Gn.removeEffectByTargetId(E))}const w=(b,E)=>{const C=qt(E,"transform"),A=qt(E,"duration");A&&typeof A=="number"&&(s=A);let T;if(C){console.log(C);try{const k=JSON.parse(C.toString());T=af(b,k,s),T[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:T};Y.animationManager.addAnimation(B),s=Si(L),Y.animationManager.nextEnterAnimationName.set(b,L)}catch{R()}}else R();function R(){T=af(b,{},s),T[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:T};Y.animationManager.addAnimation(B),s=Si(L),Y.animationManager.nextEnterAnimationName.set(b,L)}const O=qt(E,"enter"),P=qt(E,"exit");O&&(Y.animationManager.nextEnterAnimationName.set(b,O.toString()),s=Si(O.toString())),P&&(Y.animationManager.nextExitAnimationName.set(b+"-off",P.toString()),s=Si(P.toString()))};if(n){fe.getState().stage.freePopUpImage;const b={key:o,name:r,basePosition:e};w(o,t),i&&d(Gn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(Gn.setPopUpImageLive2dExpression({target:o,expression:a})),d(Gn.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"popUpImageName",left:"popUpImageNameLeft",right:"popUpImageNameRight"};o=b[e],w(o,t),i&&d(Gn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(Gn.setPopUpImageLive2dExpression({target:o,expression:a})),d(Ot({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const dH=KSe({intro:or(Bt.intro,b2e),changeBg:or(Bt.changeBg,_Ee),changeFigure:or(Bt.changeFigure,yEe),miniAvatar:or(Bt.miniAvatar,E2e,{next:!0}),changeScene:or(Bt.changeScene,xEe),choose:or(Bt.choose,ZA),end:or(Bt.end,JCe),bgm:or(Bt.bgm,hme,{next:!0}),playVideo:or(Bt.video,BCe),setComplexAnimation:or(Bt.setComplexAnimation,$Ce),setFilter:or(Bt.setFilter,VCe),pixiInit:or(Bt.pixiInit,eAe,{next:!0}),pixiPerform:or(Bt.pixi,R2e,{next:!0}),label:or(Bt.label,w2e,{next:!0}),jumpLabel:or(Bt.jumpLabel,QCe),setVar:or(Bt.setVar,hye,{next:!0}),showVars:or(Bt.showVars,lAe),unlockCg:or(Bt.unlockCg,ZCe,{next:!0}),unlockBgm:or(Bt.unlockBgm,KCe,{next:!0}),say:or(Bt.say,sAe),filmMode:or(Bt.filmMode,e2e,{next:!0}),callScene:or(Bt.callScene,oxe),setTextbox:or(Bt.setTextbox,XCe),setAnimation:or(Bt.setAnimation,DCe),playEffect:or(Bt.playEffect,oH,{next:!0}),setTempAnimation:or(Bt.setTempAnimation,HCe),__commment:or(Bt.comment,QSe,{next:!0}),setTransform:or(Bt.setTransform,zCe),setTransition:or(Bt.setTransition,qCe,{next:!0}),getUserInput:or(Bt.getUserInput,s2e),applyStyle:or(Bt.applyStyle,uAe,{next:!0}),unlockAchieve:or(Bt.unlockAchieve,fAe,{next:!0}),unlockStoryline:or(Bt.unlockStoryline,cAe,{next:!0}),showValue:or(Bt.showValue,hAe,{next:!0}),payProduct:or(Bt.payProduct,dAe),finishTrial:or(Bt.finishTrial,pAe),moveCamera:or(Bt.moveCamera,gAe),changeAffinity:or(Bt.changeAffinity,mAe),unlockAffinity:or(Bt.changeAffinity,_Ae),popUpImage:or(Bt.popUpImage,yAe)}),pH=Object.values(dH),xAe=pH.filter(t=>t.next).map(t=>t.scriptType),rb=new fme(w0e,Wt,xAe,pH),hv=(t,e,r)=>{const n=rb.parse(t,e,r);return Je.info(`${e}`,n),n};var bo=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t.Affinity="affinity.txt",t))(bo||{});const uD={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class bAe{constructor(){ct(this,"settledScenes",[]);ct(this,"settledAssets",[]);ct(this,"sceneData",vn(uD));ct(this,"sceneAssetsList",{});ct(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=vn(uD.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const c=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:l})=>{setTimeout(()=>{var u,f;if(r===l){o.current&&(this.sceneData.currentScene=o.current);const h=((f=(u=this.sceneData)==null?void 0:u.currentScene)==null?void 0:f.sentenceList)??[];r==="storyline.txt"?this.getAllStorylineList(h):r==="achieve.txt"?this.getAllUnlockAchieveList(h):r==="affinity.txt"&&LCe(),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,c()}},16)});o.current=hv(e,r,n)})}async getAllStorylineList(e){await eb();const r=new Map,n=new Map;fe.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Bt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});fe.dispatch(Pr.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);fe.dispatch(Pr.setStorylineListFromStorage(a)),await uH()}async getAllUnlockAchieveList(e){await MCe();const r=new Map,n=new Map;fe.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Bt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});fe.dispatch(Pr.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);fe.dispatch(Pr.setUnlockAchieveData(a)),await cH()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class wAe{constructor(){ct(this,"nextEnterAnimationName",new Map);ct(this,"nextExitAnimationName",new Map);ct(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class EAe{constructor(){ct(this,"isAuto",!1);ct(this,"isFast",!1);ct(this,"isSyncingWithOrigine",!1);ct(this,"autoInterval",null);ct(this,"fastInterval",null);ct(this,"autoTimeout",null);ct(this,"pixiStage",null);ct(this,"performController",new mEe)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function SAe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class CAe{constructor(){ct(this,"textSettle",Vm("text-settle"));ct(this,"userInteractNext",Vm("__NEXT"));ct(this,"fullscreenDbClick",Vm("fullscreen-dbclick"));ct(this,"styleUpdate",Vm("style-update"))}}const BS=SAe();function Vm(t){return{on:(e,r)=>{BS.on(`${t}-${r??""}`,e)},emit:(e,r)=>{BS.emit(`${t}-${r??""}`,e)},off:(e,r)=>{BS.off(`${t}-${r??""}`,e)}}}var vH={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(Oe){var j=typeof Oe;return Oe!==null&&(j==="object"||j==="function")}function u(Oe){return typeof Oe=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(Oe){return Object.prototype.toString.call(Oe)==="[object Array]"};var h=f,p=0,d=void 0,v=void 0,m=function(j,de){k[p]=j,k[p+1]=de,p+=2,p===2&&(v?v(L):U())};function g(Oe){v=Oe}function _(Oe){m=Oe}var y=typeof window<"u"?window:void 0,w=y||{},b=w.MutationObserver||w.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(L)}}function T(){return typeof d<"u"?function(){d(L)}:P()}function R(){var Oe=0,j=new b(L),de=document.createTextNode("");return j.observe(de,{characterData:!0}),function(){de.data=Oe=++Oe%2}}function O(){var Oe=new MessageChannel;return Oe.port1.onmessage=L,function(){return Oe.port2.postMessage(0)}}function P(){var Oe=setTimeout;return function(){return Oe(L,1)}}var k=new Array(1e3);function L(){for(var Oe=0;Oe<p;Oe+=2){var j=k[Oe],de=k[Oe+1];j(de),k[Oe]=void 0,k[Oe+1]=void 0}p=0}function B(){try{var Oe=Function("return this")().require("vertx");return d=Oe.runOnLoop||Oe.runOnContext,T()}catch{return P()}}var U=void 0;E?U=A():b?U=R():C?U=O():y===void 0?U=B():U=P();function X(Oe,j){var de=this,Se=new this.constructor(W);Se[ne]===void 0&&Rt(Se);var ke=de._state;if(ke){var ae=arguments[ke-1];m(function(){return Ve(ke,Se,ae,de._result)})}else Ge(de,Se,Oe,j);return Se}function ee(Oe){var j=this;if(Oe&&typeof Oe=="object"&&Oe.constructor===j)return Oe;var de=new j(W);return Be(de,Oe),de}var ne=Math.random().toString(36).substring(2);function W(){}var D=void 0,z=1,V=2;function G(){return new TypeError("You cannot resolve a promise with itself")}function ie(){return new TypeError("A promises callback cannot return that same promise.")}function se(Oe,j,de,Se){try{Oe.call(j,de,Se)}catch(ke){return ke}}function me(Oe,j,de){m(function(Se){var ke=!1,ae=se(de,j,function(Ie){ke||(ke=!0,j!==Ie?Be(Se,Ie):Ee(Se,Ie))},function(Ie){ke||(ke=!0,Ae(Se,Ie))},"Settle: "+(Se._label||" unknown promise"));!ke&&ae&&(ke=!0,Ae(Se,ae))},Oe)}function ue(Oe,j){j._state===z?Ee(Oe,j._result):j._state===V?Ae(Oe,j._result):Ge(j,void 0,function(de){return Be(Oe,de)},function(de){return Ae(Oe,de)})}function we(Oe,j,de){j.constructor===Oe.constructor&&de===X&&j.constructor.resolve===ee?ue(Oe,j):de===void 0?Ee(Oe,j):u(de)?me(Oe,j,de):Ee(Oe,j)}function Be(Oe,j){if(Oe===j)Ae(Oe,G());else if(l(j)){var de=void 0;try{de=j.then}catch(Se){Ae(Oe,Se);return}we(Oe,j,de)}else Ee(Oe,j)}function Fe(Oe){Oe._onerror&&Oe._onerror(Oe._result),We(Oe)}function Ee(Oe,j){Oe._state===D&&(Oe._result=j,Oe._state=z,Oe._subscribers.length!==0&&m(We,Oe))}function Ae(Oe,j){Oe._state===D&&(Oe._state=V,Oe._result=j,m(Fe,Oe))}function Ge(Oe,j,de,Se){var ke=Oe._subscribers,ae=ke.length;Oe._onerror=null,ke[ae]=j,ke[ae+z]=de,ke[ae+V]=Se,ae===0&&Oe._state&&m(We,Oe)}function We(Oe){var j=Oe._subscribers,de=Oe._state;if(j.length!==0){for(var Se=void 0,ke=void 0,ae=Oe._result,Ie=0;Ie<j.length;Ie+=3)Se=j[Ie],ke=j[Ie+de],Se?Ve(de,Se,ke,ae):ke(ae);Oe._subscribers.length=0}}function Ve(Oe,j,de,Se){var ke=u(de),ae=void 0,Ie=void 0,H=!0;if(ke){try{ae=de(Se)}catch(Ue){H=!1,Ie=Ue}if(j===ae){Ae(j,ie());return}}else ae=Se;j._state!==D||(ke&&H?Be(j,ae):H===!1?Ae(j,Ie):Oe===z?Ee(j,ae):Oe===V&&Ae(j,ae))}function Xe(Oe,j){try{j(function(Se){Be(Oe,Se)},function(Se){Ae(Oe,Se)})}catch(de){Ae(Oe,de)}}var qe=0;function Et(){return qe++}function Rt(Oe){Oe[ne]=qe++,Oe._state=void 0,Oe._result=void 0,Oe._subscribers=[]}function ft(){return new Error("Array Methods must be provided an Array")}var ht=function(){function Oe(j,de){this._instanceConstructor=j,this.promise=new j(W),this.promise[ne]||Rt(this.promise),h(de)?(this.length=de.length,this._remaining=de.length,this._result=new Array(this.length),this.length===0?Ee(this.promise,this._result):(this.length=this.length||0,this._enumerate(de),this._remaining===0&&Ee(this.promise,this._result))):Ae(this.promise,ft())}return Oe.prototype._enumerate=function(de){for(var Se=0;this._state===D&&Se<de.length;Se++)this._eachEntry(de[Se],Se)},Oe.prototype._eachEntry=function(de,Se){var ke=this._instanceConstructor,ae=ke.resolve;if(ae===ee){var Ie=void 0,H=void 0,Ue=!1;try{Ie=de.then}catch(F){Ue=!0,H=F}if(Ie===X&&de._state!==D)this._settledAt(de._state,Se,de._result);else if(typeof Ie!="function")this._remaining--,this._result[Se]=de;else if(ke===xt){var pt=new ke(W);Ue?Ae(pt,H):we(pt,de,Ie),this._willSettleAt(pt,Se)}else this._willSettleAt(new ke(function(F){return F(de)}),Se)}else this._willSettleAt(ae(de),Se)},Oe.prototype._settledAt=function(de,Se,ke){var ae=this.promise;ae._state===D&&(this._remaining--,de===V?Ae(ae,ke):this._result[Se]=ke),this._remaining===0&&Ee(ae,this._result)},Oe.prototype._willSettleAt=function(de,Se){var ke=this;Ge(de,void 0,function(ae){return ke._settledAt(z,Se,ae)},function(ae){return ke._settledAt(V,Se,ae)})},Oe}();function St(Oe){return new ht(this,Oe).promise}function rr(Oe){var j=this;return h(Oe)?new j(function(de,Se){for(var ke=Oe.length,ae=0;ae<ke;ae++)j.resolve(Oe[ae]).then(de,Se)}):new j(function(de,Se){return Se(new TypeError("You must pass an array to race."))})}function Ht(Oe){var j=this,de=new j(W);return Ae(de,Oe),de}function nr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Gt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var xt=function(){function Oe(j){this[ne]=Et(),this._result=this._state=void 0,this._subscribers=[],W!==j&&(typeof j!="function"&&nr(),this instanceof Oe?Xe(this,j):Gt())}return Oe.prototype.catch=function(de){return this.then(null,de)},Oe.prototype.finally=function(de){var Se=this,ke=Se.constructor;return u(de)?Se.then(function(ae){return ke.resolve(de()).then(function(){return ae})},function(ae){return ke.resolve(de()).then(function(){throw ae})}):Se.then(de,de)},Oe}();xt.prototype.then=X,xt.all=St,xt.race=rr,xt.resolve=ee,xt.reject=Ht,xt._setScheduler=g,xt._setAsap=_,xt._asap=m;function Zt(){var Oe=void 0;if(typeof c.g<"u")Oe=c.g;else if(typeof self<"u")Oe=self;else try{Oe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var j=Oe.Promise;if(j){var de=null;try{de=Object.prototype.toString.call(j.resolve())}catch{}if(de==="[object Promise]"&&!j.cast)return}Oe.Promise=xt}return xt.polyfill=Zt,xt.Promise=xt,xt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,k,L){return Function.prototype.apply.call(P,k,L)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=A,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");p=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function v(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return v(this)},h.prototype.emit=function(P){for(var k=[],L=1;L<arguments.length;L++)k.push(arguments[L]);var B=P==="error",U=this._events;if(U!==void 0)B=B&&U.error===void 0;else if(!B)return!1;if(B){var X;if(k.length>0&&(X=k[0]),X instanceof Error)throw X;var ee=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw ee.context=X,ee}var ne=U[P];if(ne===void 0)return!1;if(typeof ne=="function")c(ne,this,k);else for(var W=ne.length,D=b(ne,W),L=0;L<W;++L)c(D[L],this,k);return!0};function m(O,P,k,L){var B,U,X;if(d(k),U=O._events,U===void 0?(U=O._events=Object.create(null),O._eventsCount=0):(U.newListener!==void 0&&(O.emit("newListener",P,k.listener?k.listener:k),U=O._events),X=U[P]),X===void 0)X=U[P]=k,++O._eventsCount;else if(typeof X=="function"?X=U[P]=L?[k,X]:[X,k]:L?X.unshift(k):X.push(k),B=v(O),B>0&&X.length>B&&!X.warned){X.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=O,ee.type=P,ee.count=X.length,u(ee)}return O}h.prototype.addListener=function(P,k){return m(this,P,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,k){return m(this,P,k,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(O,P,k){var L={fired:!1,wrapFn:void 0,target:O,type:P,listener:k},B=g.bind(L);return B.listener=k,L.wrapFn=B,B}h.prototype.once=function(P,k){return d(k),this.on(P,_(this,P,k)),this},h.prototype.prependOnceListener=function(P,k){return d(k),this.prependListener(P,_(this,P,k)),this},h.prototype.removeListener=function(P,k){var L,B,U,X,ee;if(d(k),B=this._events,B===void 0)return this;if(L=B[P],L===void 0)return this;if(L===k||L.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,L.listener||k));else if(typeof L!="function"){for(U=-1,X=L.length-1;X>=0;X--)if(L[X]===k||L[X].listener===k){ee=L[X].listener,U=X;break}if(U<0)return this;U===0?L.shift():E(L,U),L.length===1&&(B[P]=L[0]),B.removeListener!==void 0&&this.emit("removeListener",P,ee||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var k,L,B;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[P]),this;if(arguments.length===0){var U=Object.keys(L),X;for(B=0;B<U.length;++B)X=U[B],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=L[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(B=k.length-1;B>=0;B--)this.removeListener(P,k[B]);return this};function y(O,P,k){var L=O._events;if(L===void 0)return[];var B=L[P];return B===void 0?[]:typeof B=="function"?k?[B.listener||B]:[B]:k?C(B):b(B,B.length)}h.prototype.listeners=function(P){return y(this,P,!0)},h.prototype.rawListeners=function(P){return y(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):w.call(O,P)},h.prototype.listenerCount=w;function w(O){var P=this._events;if(P!==void 0){var k=P[O];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(O,P){for(var k=new Array(P),L=0;L<P;++L)k[L]=O[L];return k}function E(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),k=0;k<P.length;++k)P[k]=O[k].listener||O[k];return P}function A(O,P){return new Promise(function(k,L){function B(X){O.removeListener(P,U),L(X)}function U(){typeof O.removeListener=="function"&&O.removeListener("error",B),k([].slice.call(arguments))}R(O,P,U,{once:!0}),P!=="error"&&T(O,B,{once:!0})})}function T(O,P,k){typeof O.on=="function"&&R(O,"error",P,k)}function R(O,P,k,L){if(typeof O.on=="function")L.once?O.once(P,k):O.on(P,k);else if(typeof O.addEventListener=="function")O.addEventListener(P,function B(U){L.once&&O.removeEventListener(P,B),k(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(g){var _={};function y(b){if(_[b])return _[b].exports;var E=_[b]={i:b,l:!1,exports:{}};return g[b].call(E.exports,E,E.exports,y),E.l=!0,E.exports}y.m=g,y.c=_,y.i=function(b){return b},y.d=function(b,E,C){y.o(b,E)||Object.defineProperty(b,E,{configurable:!1,enumerable:!0,get:C})},y.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},y.n=function(b){var E=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(E,"a",E),E},y.o=function(b,E){return Object.prototype.hasOwnProperty.call(b,E)},y.p="/",y.oe=function(b){throw console.error(b),b};var w=y(y.s=ENTRY_MODULE);return w.default||w}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(g){return(g+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(g){return!isNaN(1*g)}function d(g,_,y){var w={};w[y]=[];var b=_.toString(),E=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return w;for(var C=E[1],A=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),T;T=A.exec(b);)T[3]!=="dll-reference"&&w[y].push(T[3]);for(A=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");T=A.exec(b);)g[T[2]]||(w[y].push(T[1]),g[T[2]]=c(T[1]).m),w[T[2]]=w[T[2]]||[],w[T[2]].push(T[4]);for(var R=Object.keys(w),O=0;O<R.length;O++)for(var P=0;P<w[R[O]].length;P++)p(w[R[O]][P])&&(w[R[O]][P]=1*w[R[O]][P]);return w}function v(g){var _=Object.keys(g);return _.reduce(function(y,w){return y||g[w].length>0},!1)}function m(g,_){for(var y={main:[_]},w={main:[]},b={main:{}};v(y);)for(var E=Object.keys(y),C=0;C<E.length;C++){var A=E[C],T=y[A],R=T.pop();if(b[A]=b[A]||{},!(b[A][R]||!g[A][R])){b[A][R]=!0,w[A]=w[A]||[],w[A].push(R);for(var O=d(g,g[A][R],A),P=Object.keys(O),k=0;k<P.length;k++)y[P[k]]=y[P[k]]||[],y[P[k]]=y[P[k]].concat(O[P[k]])}}return w}o.exports=function(g,_){_=_||{};var y={main:c.m},w=_.all?{main:Object.keys(y.main)}:m(y,g),b="";Object.keys(w).filter(function(R){return R!=="main"}).forEach(function(R){for(var O=0;w[R][O];)O++;w[R].push(O),y[R][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+R+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+w[R].map(function(P){return""+JSON.stringify(P)+": "+y[R][P].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(g))+")({"+w.main.map(function(R){return""+JSON.stringify(R)+": "+y.main[R].toString()}).join(",")+"}))(self);";var E=new window.Blob([b],{type:"text/javascript"});if(_.bare)return E;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,A=C.createObjectURL(E),T=new window.Worker(A);return T.objectURL=A,T}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,f);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(f,h){var p=0,d=f.length-1,v=0,m=0,g=d;for(h<f[0]&&(p=0,m=g+1);m<=g;)if(v=m+Math.floor((g-m)/2),v===d||h>=f[v]&&h<f[v+1]){p=v;break}else f[v]<h?m=v+1:g=v-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,v,m,g,_){this.dts=d,this.pts=v,this.duration=m,this.originalDts=g,this.isSyncPoint=_,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),f=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var v=this._list;d.length!==0&&(v.length>0&&d[0].originalDts<v[v.length-1].originalDts&&this.clear(),Array.prototype.push.apply(v,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var v=this._list,m=0,g=v.length-1,_=0,y=0,w=g;for(d<v[0].dts&&(m=0,y=w+1);y<=w;)if(_=y+Math.floor((w-y)/2),_===g||d>=v[_].dts&&d<v[_+1].dts){m=_;break}else v[_].dts<d?y=_+1:w=_-1;return this._list[m]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var v=this._list;if(v.length===0)return-2;var m=v.length-1,g=0,_=0,y=m,w=0;if(d<v[0].originalBeginDts)return w=-1,w;for(;_<=y;)if(g=_+Math.floor((y-_)/2),g===m||d>v[g].lastSample.originalDts&&d<v[g+1].originalBeginDts){w=g;break}else v[g].originalBeginDts<d?_=g+1:y=g-1;return w},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var v=this._list,m=d,g=this._lastAppendLocation,_=0;g!==-1&&g<v.length&&m.originalBeginDts>=v[g].lastSample.originalDts&&(g===v.length-1||g<v.length-1&&m.originalBeginDts<v[g+1].originalBeginDts)?_=g+1:v.length>0&&(_=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,m)},p.prototype.getLastSegmentBefore=function(d){var v=this._searchNearestSegmentBefore(d);return v>=0?this._list[v]:null},p.prototype.getLastSampleBefore=function(d){var v=this.getLastSegmentBefore(d);return v!=null?v.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var v=this._searchNearestSegmentBefore(d),m=this._list[v].syncPoints;m.length===0&&v>0;)v--,m=this._list[v].syncPoints;return m.length>0?m[m.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/mse-events.js"),d=c("./src/core/media-segment-info.js"),v=c("./src/utils/exception.js"),m=function(){function g(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return g.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},g.prototype.on=function(_,y){this._emitter.addListener(_,y)},g.prototype.off=function(_,y){this._emitter.removeListener(_,y)},g.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new v.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},g.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var y in this._sourceBuffers){var w=this._pendingSegments[y];w.splice(0,w.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var b=this._sourceBuffers[y];if(b){if(_.readyState!=="closed"){try{_.removeSourceBuffer(b)}catch(E){f.default.e(this.TAG,E.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(E){f.default.e(this.TAG,E.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},g.prototype.appendInitSegment=function(_,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var w=_,b=""+w.container;w.codec&&w.codec.length>0&&(b+=";codecs="+w.codec);var E=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[w.type]=w,b!==this._mimeTypes[w.type]){if(this._mimeTypes[w.type])f.default.v(this.TAG,"Notice: "+w.type+" mimeType changed, origin: "+this._mimeTypes[w.type]+", target: "+b);else{E=!0;try{var C=this._sourceBuffers[w.type]=this._mediaSource.addSourceBuffer(b);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){f.default.e(this.TAG,A.message),this._emitter.emit(p.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[w.type]=b}y||this._pendingSegments[w.type].push(w),E||this._sourceBuffers[w.type]&&!this._sourceBuffers[w.type].updating&&this._doAppendSegments(),h.default.safari&&w.container==="audio/mpeg"&&w.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=w.mediaDuration/1e3,this._updateMediaSourceDuration())},g.prototype.appendMediaSegment=function(_){var y=_;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var w=this._sourceBuffers[y.type];w&&!w.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},g.prototype.seek=function(_){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var w=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{w.abort()}catch(R){f.default.e(this.TAG,R.message)}this._idrList.clear();var b=this._pendingSegments[y];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<w.buffered.length;E++){var C=w.buffered.start(E),A=w.buffered.end(E);this._pendingRemoveRanges[y].push({start:C,end:A})}if(w.updating||this._doRemoveRanges(),h.default.safari){var T=this._lastInitSegments[y];T&&(this._pendingSegments[y].push(T),w.updating||this._doAppendSegments())}}}},g.prototype.endOfStream=function(){var _=this._mediaSource,y=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},g.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},g.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var w=this._sourceBuffers[y];if(w){var b=w.buffered;if(b.length>=1&&_-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},g.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var w=this._sourceBuffers[y];if(w){for(var b=w.buffered,E=!1,C=0;C<b.length;C++){var A=b.start(C),T=b.end(C);if(A<=_&&_<T+3){if(_-A>=this._config.autoCleanupMaxBackwardDuration){E=!0;var R=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:A,end:R})}}else T<_&&(E=!0,this._pendingRemoveRanges[y].push({start:A,end:T}))}E&&!w.updating&&this._doRemoveRanges()}}},g.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var y=this._mediaSource.duration,w=this._pendingMediaDuration;w>0&&(isNaN(y)||w>y)&&(f.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+w),this._mediaSource.duration=w),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},g.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var y=this._sourceBuffers[_],w=this._pendingRemoveRanges[_];w.length&&!y.updating;){var b=w.shift();y.remove(b.start,b.end)}},g.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var y in _)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&_[y].length>0){var w=_[y].shift();if(w.timestampOffset){var b=this._sourceBuffers[y].timestampOffset,E=w.timestampOffset/1e3,C=Math.abs(b-E);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+E),this._sourceBuffers[y].timestampOffset=E),delete w.timestampOffset}if(!w.data||w.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(w.data),this._isBufferFull=!1,y==="video"&&w.hasOwnProperty("info")&&this._idrList.appendArray(w.info.syncPoints)}catch(A){this._pendingSegments[y].unshift(w),A.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,A.message),this._emitter.emit(p.default.ERROR,{code:A.code,msg:A.message}))}}},g.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var y=_.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},g.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},g.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},g.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},g.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},g.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},g.prototype._onSourceBufferError=function(_){f.default.e(this.TAG,"SourceBuffer Error: "+_)},g}();s.default=m},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),p=c("./src/utils/logger.js"),d=c("./src/utils/logging-control.js"),v=c("./src/core/transmuxing-controller.js"),m=c("./src/core/transmuxing-events.js"),g=c("./src/core/media-info.js"),_=function(){function y(w,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[w,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.default(w,b)}else this._controller=new v.default(w,b);if(this._controller){var E=this._controller;E.on(m.default.IO_ERROR,this._onIOError.bind(this)),E.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(w,b){this._emitter.addListener(w,b)},y.prototype.off=function(w,b){this._emitter.removeListener(w,b)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(w){this._worker?this._worker.postMessage({cmd:"seek",param:w}):this._controller.seek(w)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(w,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.INIT_SEGMENT,w,b)})},y.prototype._onMediaSegment=function(w,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.MEDIA_SEGMENT,w,b)})},y.prototype._onLoadingComplete=function(){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(w){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.MEDIA_INFO,w)})},y.prototype._onMetaDataArrived=function(w){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.METADATA_ARRIVED,w)})},y.prototype._onScriptDataArrived=function(w){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.SCRIPTDATA_ARRIVED,w)})},y.prototype._onStatisticsInfo=function(w){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.STATISTICS_INFO,w)})},y.prototype._onIOError=function(w,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.IO_ERROR,w,b)})},y.prototype._onDemuxError=function(w,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.DEMUX_ERROR,w,b)})},y.prototype._onRecommendSeekpoint=function(w){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.RECOMMEND_SEEKPOINT,w)})},y.prototype._onLoggingConfigChanged=function(w){this._worker&&this._worker.postMessage({cmd:"logging_config",param:w})},y.prototype._onWorkerMessage=function(w){var b=w.data,E=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,E.type,E.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(E,g.default.prototype),this._emitter.emit(b.msg,E);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(b.msg,E);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(b.msg,E.type,E.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},y}();s.default=_},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-info.js"),d=c("./src/demux/flv-demuxer.js"),v=c("./src/remux/mp4-remuxer.js"),m=c("./src/demux/demux-errors.js"),g=c("./src/io/io-controller.js"),_=c("./src/core/transmuxing-events.js"),y=function(){function w(b,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=C,C+=A.duration,A.cors=b.cors,A.withCredentials=b.withCredentials,E.referrerPolicy&&(A.referrerPolicy=E.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return w.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},w.prototype.on=function(b,E){this._emitter.addListener(b,E)},w.prototype.off=function(b,E){this._emitter.removeListener(b,E)},w.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},w.prototype._loadSegment=function(b,E){this._currentSegmentIndex=b;var C=this._mediaDataSource.segments[b],A=this._ioctl=new g.default(C,this._config,b);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(E)},w.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},w.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},w.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},w.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},w.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(b);if(E===this._currentSegmentIndex){var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=b;else{var A=C.getNearestKeyframe(b);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var T=this._mediaInfo.segments[E];if(T==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var A=T.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},w.prototype._searchSegmentIndexContains=function(b){for(var E=this._mediaDataSource.segments,C=E.length-1,A=0;A<E.length;A++)if(b<E[A].timestampBase){C=A-1;break}return C},w.prototype._onInitChunkArrival=function(b,E){var C=this,A=null,T=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,T=this._demuxer.parseChunks(b,E);else if((A=d.default.probe(b)).match){this._demuxer=new d.default(A,this._config),this._remuxer||(this._remuxer=new v.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),T=this._demuxer.parseChunks(b,E)}else A=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),T=0;return T},w.prototype._onMediaInfo=function(b){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var C=Object.assign({},b);Object.setPrototypeOf(C,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(A)})},w.prototype._onMetaDataArrived=function(b){this._emitter.emit(_.default.METADATA_ARRIVED,b)},w.prototype._onScriptDataArrived=function(b){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,b)},w.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},w.prototype._onIOComplete=function(b){var E=b,C=E+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},w.prototype._onIORedirect=function(b){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=b},w.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},w.prototype._onIOException=function(b,E){f.default.e(this.TAG,"IOException: type = "+b+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(_.default.IO_ERROR,b,E),this._disableStatisticsReporter()},w.prototype._onDemuxException=function(b,E){f.default.e(this.TAG,"DemuxException: type = "+b+", info = "+E),this._emitter.emit(_.default.DEMUX_ERROR,b,E)},w.prototype._onRemuxerInitSegmentArrival=function(b,E){this._emitter.emit(_.default.INIT_SEGMENT,b,E)},w.prototype._onRemuxerMediaSegmentArrival=function(b,E){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,b,E),this._pendingResolveSeekPoint!=null&&b==="video")){var C=E.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===A&&(A=C[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,A)}},w.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},w.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},w.prototype._reportSegmentMediaInfo=function(b){var E=this._mediaInfo.segments[b],C=Object.assign({},E);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,C)},w.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,b)},w}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),p=function(d){var v=null,m=P.bind(this);u.default.install(),d.addEventListener("message",function(k){switch(k.data.cmd){case"init":v=new f.default(k.data.param[0],k.data.param[1]),v.on(h.default.IO_ERROR,T.bind(this)),v.on(h.default.DEMUX_ERROR,R.bind(this)),v.on(h.default.INIT_SEGMENT,g.bind(this)),v.on(h.default.MEDIA_SEGMENT,_.bind(this)),v.on(h.default.LOADING_COMPLETE,y.bind(this)),v.on(h.default.RECOVERED_EARLY_EOF,w.bind(this)),v.on(h.default.MEDIA_INFO,b.bind(this)),v.on(h.default.METADATA_ARRIVED,E.bind(this)),v.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),v.on(h.default.STATISTICS_INFO,A.bind(this)),v.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":v&&(v.destroy(),v=null),d.postMessage({msg:"destroyed"});break;case"start":v.start();break;case"stop":v.stop();break;case"seek":v.seek(k.data.param);break;case"pause":v.pause();break;case"resume":v.resume();break;case"logging_config":{var L=k.data.param;l.default.applyConfig(L),L.enableCallback===!0?l.default.addLogListener(m):l.default.removeLogListener(m);break}}});function g(k,L){var B={msg:h.default.INIT_SEGMENT,data:{type:k,data:L}};d.postMessage(B,[L.data])}function _(k,L){var B={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:L}};d.postMessage(B,[L.data])}function y(){var k={msg:h.default.LOADING_COMPLETE};d.postMessage(k)}function w(){var k={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(k)}function b(k){var L={msg:h.default.MEDIA_INFO,data:k};d.postMessage(L)}function E(k){var L={msg:h.default.METADATA_ARRIVED,data:k};d.postMessage(L)}function C(k){var L={msg:h.default.SCRIPTDATA_ARRIVED,data:k};d.postMessage(L)}function A(k){var L={msg:h.default.STATISTICS_INFO,data:k};d.postMessage(L)}function T(k,L){d.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:L}})}function R(k,L){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:L}})}function O(k){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function P(k,L){d.postMessage({msg:"logcat_callback",data:{type:k,logcat:L}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(v,m,g){var _={};try{var y=d.parseValue(v,m,g),w=d.parseValue(v,m+y.size,g-y.size);_[y.data]=w.data}catch(b){l.default.e("AMF",b.toString())}return _},d.parseObject=function(v,m,g){if(g<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var _=d.parseString(v,m,g),y=d.parseValue(v,m+_.size,g-_.size),w=y.objectEnd;return{data:{name:_.data,value:y.data},size:_.size+y.size,objectEnd:w}},d.parseVariable=function(v,m,g){return d.parseObject(v,m,g)},d.parseString=function(v,m,g){if(g<2)throw new f.IllegalStateException("Data not enough when parse String");var _=new DataView(v,m,g),y=_.getUint16(0,!h),w;return y>0?w=(0,u.default)(new Uint8Array(v,m+2,y)):w="",{data:w,size:2+y}},d.parseLongString=function(v,m,g){if(g<4)throw new f.IllegalStateException("Data not enough when parse LongString");var _=new DataView(v,m,g),y=_.getUint32(0,!h),w;return y>0?w=(0,u.default)(new Uint8Array(v,m+4,y)):w="",{data:w,size:4+y}},d.parseDate=function(v,m,g){if(g<10)throw new f.IllegalStateException("Data size invalid when parse Date");var _=new DataView(v,m,g),y=_.getFloat64(0,!h),w=_.getInt16(8,!h);return y+=w*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(v,m,g){if(g<1)throw new f.IllegalStateException("Data not enough when parse Value");var _=new DataView(v,m,g),y=1,w=_.getUint8(0),b,E=!1;try{switch(w){case 0:b=_.getFloat64(1,!h),y+=8;break;case 1:{var C=_.getUint8(1);b=!!C,y+=1;break}case 2:{var A=d.parseString(v,m+1,g-1);b=A.data,y+=A.size;break}case 3:{b={};var T=0;for((_.getUint32(g-4,!h)&16777215)===9&&(T=3);y<g-4;){var R=d.parseObject(v,m+y,g-y-T);if(R.objectEnd)break;b[R.data.name]=R.data.value,y+=R.size}if(y<=g-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 8:{b={},y+=4;var T=0;for((_.getUint32(g-4,!h)&16777215)===9&&(T=3);y<g-8;){var P=d.parseVariable(v,m+y,g-y-T);if(P.objectEnd)break;b[P.data.name]=P.data.value,y+=P.size}if(y<=g-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 9:b=void 0,y=1,E=!0;break;case 10:{b=[];var k=_.getUint32(1,!h);y+=4;for(var L=0;L<k;L++){var B=d.parseValue(v,m+y,g-y);b.push(B.data),y+=B.size}break}case 11:{var U=d.parseDate(v,m+1,g-1);b=U.data,y+=U.size;break}case 12:{var X=d.parseString(v,m+1,g-1);b=X.data,y+=X.size;break}default:y=g,l.default.w("AMF","Unsupported AMF value type "+w)}}catch(ee){l.default.e("AMF",ee.toString())}return{data:b,size:y,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var v=h-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(v,this._current_word_bits_left),g=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,d=d<<m|g,d},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),p=c("./src/core/media-info.js"),d=c("./src/utils/exception.js");function v(g,_){return g[_]<<24|g[_+1]<<16|g[_+2]<<8|g[_+3]}var m=function(){function g(_,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var w=new ArrayBuffer(2);return new DataView(w).setInt16(0,256,!0),new Int16Array(w)[0]===256}()}return g.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},g.probe=function(_){var y=new Uint8Array(_),w={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return w;var b=(y[4]&4)>>>2!==0,E=(y[4]&1)!==0,C=v(y,5);return C<9?w:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:b,hasVideoTrack:E}},g.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(g.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),g.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},g.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},g.prototype.parseChunks=function(_,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var w=0,b=this._littleEndian;if(y===0)if(_.byteLength>13){var E=g.probe(_);w=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+w!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(_,w),A=C.getUint32(0,!b);A!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),w+=4}for(;w<_.byteLength;){this._dispatch=!0;var C=new DataView(_,w);if(w+11+4>_.byteLength)break;var T=C.getUint8(0),R=C.getUint32(0,!b)&16777215;if(w+11+R+4>_.byteLength)break;if(T!==8&&T!==9&&T!==18){l.default.w(this.TAG,"Unsupported tag type "+T+", skipped"),w+=11+R+4;continue}var O=C.getUint8(4),P=C.getUint8(5),k=C.getUint8(6),L=C.getUint8(7),B=k|P<<8|O<<16|L<<24,U=C.getUint32(7,!b)&16777215;U!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var X=w+11;switch(T){case 8:this._parseAudioData(_,X,R,B);break;case 9:this._parseVideoData(_,X,R,B,y+w);break;case 18:this._parseScriptData(_,X,R);break}var ee=C.getUint32(11+R,!b);ee!==11+R&&l.default.w(this.TAG,"Invalid PrevTagSize "+ee),w+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),w},g.prototype._parseScriptData=function(_,y,w){var b=u.default.parseScriptData(_,y,w);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var C=Math.floor(E.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var A=Math.floor(E.framerate*1e3);if(A>0){var T=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=T,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=T}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},g.prototype._parseKeyframesIndex=function(_){for(var y=[],w=[],b=1;b<_.times.length;b++){var E=this._timestampBase+Math.floor(_.times[b]*1e3);y.push(E),w.push(_.filepositions[b])}return{times:y,filepositions:w}},g.prototype._parseAudioData=function(_,y,w,b){if(w<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(_,y,w),C=E.getUint8(0),A=C>>>4;if(A!==2&&A!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var T=0,R=(C&12)>>>2;if(R>=0&&R<=4)T=this._flvSoundRateTable[R];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var O=C&1,P=this._audioMetadata,k=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=k.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=T,P.channelCount=O===0?1:2),A===10){var L=this._parseAACAudioData(_,y+1,w-1);if(L==null)return;if(L.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var B=L.data;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.config=B.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.originalCodec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}else if(L.packetType===1){var X=this._timestampBase+b,ee={unit:L.data,length:L.data.byteLength,dts:X,pts:X};k.samples.push(ee),k.length+=L.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+L.packetType)}else if(A===2){if(!P.codec){var B=this._parseMP3AudioData(_,y+1,w-1,!0);if(B==null)return;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.codec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.audioDataRate=B.bitRate,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}var ne=this._parseMP3AudioData(_,y+1,w-1,!1);if(ne==null)return;var X=this._timestampBase+b,W={unit:ne,length:ne.byteLength,dts:X,pts:X};k.samples.push(W),k.length+=ne.length}}},g.prototype._parseAACAudioData=function(_,y,w){if(w<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},E=new Uint8Array(_,y,w);return b.packetType=E[0],E[0]===0?b.data=this._parseAACAudioSpecificConfig(_,y+1,w-1):b.data=E.subarray(1),b},g.prototype._parseAACAudioSpecificConfig=function(_,y,w){var b=new Uint8Array(_,y,w),E=null,C=0,A=0,T=0,R=null;if(C=A=b[0]>>>3,T=(b[0]&7)<<1|b[1]>>>7,T<0||T>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[T],P=(b[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(R=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?T>=6?(C=5,E=new Array(4),R=T-3):(C=2,E=new Array(2),R=T):k.indexOf("android")!==-1?(C=2,E=new Array(2),R=T):(C=5,R=T,E=new Array(4),T>=6?R=T-3:P===1&&(C=2,E=new Array(2),R=T)),E[0]=C<<3,E[0]|=(T&15)>>>1,E[1]=(T&15)<<7,E[1]|=(P&15)<<3,C===5&&(E[1]|=(R&15)>>>1,E[2]=(R&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+A}},g.prototype._parseMP3AudioData=function(_,y,w,b){if(w<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(_,y,w),C=null;if(b){if(E[0]!==255)return;var A=E[1]>>>3&3,T=(E[1]&6)>>1,R=(E[2]&240)>>>4,O=(E[2]&12)>>>2,P=E[3]>>>6&3,k=P!==3?2:1,L=0,B=0,U="mp3";switch(A){case 0:L=this._mpegAudioV25SampleRateTable[O];break;case 2:L=this._mpegAudioV20SampleRateTable[O];break;case 3:L=this._mpegAudioV10SampleRateTable[O];break}switch(T){case 1:R<this._mpegAudioL3BitRateTable.length&&(B=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(B=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(B=this._mpegAudioL1BitRateTable[R]);break}C={bitRate:B,samplingRate:L,channelCount:k,codec:U,originalCodec:U}}else C=E;return C},g.prototype._parseVideoData=function(_,y,w,b,E){if(w<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(_,y,w)[0],A=(C&240)>>>4,T=C&15;if(T!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+T);return}this._parseAVCVideoPacket(_,y+1,w-1,b,E,A)}},g.prototype._parseAVCVideoPacket=function(_,y,w,b,E,C){if(w<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,T=new DataView(_,y,w),R=T.getUint8(0),O=T.getUint32(0,!A)&16777215,P=O<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(_,y+4,w-4);else if(R===1)this._parseAVCVideoData(_,y+4,w-4,b,E,C,P);else if(R!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},g.prototype._parseAVCDecoderConfigurationRecord=function(_,y,w){if(w<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,E=this._videoTrack,C=this._littleEndian,A=new DataView(_,y,w);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=E.id,b.timescale=this._timescale,b.duration=this._duration);var T=A.getUint8(0),R=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),T!==1||R===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=A.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,k=0;k<O;k++){var L=A.getUint16(P,!C);if(P+=2,L!==0){var B=new Uint8Array(_,y+P,L);P+=L;var U=f.default.parseSPS(B);if(k===0){b.codecWidth=U.codec_size.width,b.codecHeight=U.codec_size.height,b.presentWidth=U.present_size.width,b.presentHeight=U.present_size.height,b.profile=U.profile_string,b.level=U.level_string,b.bitDepth=U.bit_depth,b.chromaFormat=U.chroma_format,b.sarRatio=U.sar_ratio,b.frameRate=U.frame_rate,(U.frame_rate.fixed===!1||U.frame_rate.fps_num===0||U.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var X=b.frameRate.fps_den,ee=b.frameRate.fps_num;b.refSampleDuration=b.timescale*(X/ee);for(var ne=B.subarray(1,4),W="avc1.",D=0;D<3;D++){var z=ne[D].toString(16);z.length<2&&(z="0"+z),W+=z}b.codec=W;var V=this._mediaInfo;V.width=b.codecWidth,V.height=b.codecHeight,V.fps=b.frameRate.fps,V.profile=b.profile,V.level=b.level,V.refFrames=U.ref_frames,V.chromaFormat=U.chroma_format_string,V.sarNum=b.sarRatio.width,V.sarDen=b.sarRatio.height,V.videoCodec=W,V.hasAudio?V.audioCodec!=null&&(V.mimeType='video/x-flv; codecs="'+V.videoCodec+","+V.audioCodec+'"'):V.mimeType='video/x-flv; codecs="'+V.videoCodec+'"',V.isComplete()&&this._onMediaInfo(V)}}}var G=A.getUint8(P);if(G===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else G>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+G);P++;for(var k=0;k<G;k++){var L=A.getUint16(P,!C);P+=2,L!==0&&(P+=L)}b.avcc=new Uint8Array(w),b.avcc.set(new Uint8Array(_,y,w),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},g.prototype._parseAVCVideoData=function(_,y,w,b,E,C,A){for(var T=this._littleEndian,R=new DataView(_,y,w),O=[],P=0,k=0,L=this._naluLengthSize,B=this._timestampBase+b,U=C===1;k<w;){if(k+4>=w){l.default.w(this.TAG,"Malformed Nalu near timestamp "+B+", offset = "+k+", dataSize = "+w);break}var X=R.getUint32(k,!T);if(L===3&&(X>>>=8),X>w-L){l.default.w(this.TAG,"Malformed Nalus near timestamp "+B+", NaluSize > DataSize!");return}var ee=R.getUint8(k+L)&31;ee===5&&(U=!0);var ne=new Uint8Array(_,y+k,L+X),W={type:ee,data:ne};O.push(W),P+=ne.byteLength,k+=L+X}if(O.length){var D=this._videoTrack,z={units:O,length:P,isKeyframe:U,dts:B,cts:A,pts:B+A};U&&(z.fileposition=E),D.samples.push(z),D.length+=P}},g}();s.default=m},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,v=new Uint8Array(d),m=0,g=0;g<d;g++)g>=2&&p[g]===3&&p[g-1]===0&&p[g-2]===0||(v[m]=p[g],m++);return new Uint8Array(v.buffer,0,m)},f.parseSPS=function(h){var p=f._ebsp2rbsp(h),d=new l.default(p);d.readByte();var v=d.readByte();d.readByte();var m=d.readByte();d.readUEG();var g=f.getProfileString(v),_=f.getLevelString(m),y=1,w=420,b=[0,420,422,444],E=8;if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(w=b[y]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var C=y!==3?8:12,A=0;A<C;A++)d.readBool()&&(A<6?f._skipScalingList(d,16):f._skipScalingList(d,64));d.readUEG();var T=d.readUEG();if(T===0)d.readUEG();else if(T===1){d.readBits(1),d.readSEG(),d.readSEG();for(var R=d.readUEG(),A=0;A<R;A++)d.readSEG()}var O=d.readUEG();d.readBits(1);var P=d.readUEG(),k=d.readUEG(),L=d.readBits(1);L===0&&d.readBits(1),d.readBits(1);var B=0,U=0,X=0,ee=0,ne=d.readBool();ne&&(B=d.readUEG(),U=d.readUEG(),X=d.readUEG(),ee=d.readUEG());var W=1,D=1,z=0,V=!0,G=0,ie=0,se=d.readBool();if(se){if(d.readBool()){var me=d.readByte(),ue=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],we=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];me>0&&me<16?(W=ue[me-1],D=we[me-1]):me===255&&(W=d.readByte()<<8|d.readByte(),D=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Be=d.readBits(32),Fe=d.readBits(32);V=d.readBool(),G=Fe,ie=Be*2,z=G/ie}}var Ee=1;(W!==1||D!==1)&&(Ee=W/D);var Ae=0,Ge=0;if(y===0)Ae=1,Ge=2-L;else{var We=y===3?1:2,Ve=y===1?2:1;Ae=We,Ge=Ve*(2-L)}var Xe=(P+1)*16,qe=(2-L)*((k+1)*16);Xe-=(B+U)*Ae,qe-=(X+ee)*Ge;var Et=Math.ceil(Xe*Ee);return d.destroy(),d=null,{profile_string:g,level_string:_,bit_depth:E,ref_frames:O,chroma_format:w,chroma_format_string:f.getChromaFormatString(w),frame_rate:{fixed:V,fps:z,fps_den:ie,fps_num:G},sar_ratio:{width:W,height:D},codec_size:{width:Xe,height:qe},present_size:{width:Et,height:qe}}},f._skipScalingList=function(h,p){for(var d=8,v=8,m=0,g=0;g<p;g++)v!==0&&(m=h.readSEG(),v=(d+m+256)%256),d=v===0?d:v},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),p=c("./src/player/native-player.js"),d=c("./src/player/player-events.js"),v=c("./src/player/player-errors.js"),m=c("./src/utils/logging-control.js"),g=c("./src/utils/exception.js");l.default.install();function _(E,C){var A=E;if(A==null||typeof A!="object")throw new g.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new g.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new h.default(A,C);default:return new p.default(A,C)}}function y(){return u.default.supportMSEH264Playback()}function w(){return u.default.getFeatureList()}var b={};b.createPlayer=_,b.isSupported=y,b.getFeatureList=w,b.BaseLoader=f.BaseLoader,b.LoaderStatus=f.LoaderStatus,b.LoaderErrors=f.LoaderErrors,b.Events=d.default,b.ErrorTypes=v.ErrorTypes,b.ErrorDetails=v.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=p.default,b.LoggingControl=m.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(g[y]=_[y])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),p=function(d){h(v,d);function v(m,g){var _=d.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=m,_._config=g,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var m=l.default.msedge&&l.default.version.minor>=15048,g=l.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&g}catch{return!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},v.prototype.open=function(m,g){var _=this;this._dataSource=m,this._range=g;var y=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(y=m.redirectedURL);var w=this._seekHandler.getConfig(y,g),b=new self.Headers;if(typeof w.headers=="object"){var E=w.headers;for(var C in E)E.hasOwnProperty(C)&&b.append(C,E[C])}var A={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)b.append(C,this._config.headers[C]);m.cors===!1&&(A.mode="same-origin"),m.withCredentials&&(A.credentials="include"),m.referrerPolicy&&(A.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(w.url,A).then(function(T){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,T.body.cancel();return}if(T.ok&&T.status>=200&&T.status<=299){if(T.url!==w.url&&_._onURLRedirect){var R=_._seekHandler.removeURLParameters(T.url);_._onURLRedirect(R)}var O=T.headers.get("Content-Length");return O!=null&&(_._contentLength=parseInt(O),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,T.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+T.status+" "+T.statusText)}).catch(function(T){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:T.message});else throw T})},v.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},v.prototype._pump=function(m){var g=this;return m.read().then(function(_){if(_.done)if(g._contentLength!==null&&g._receivedLength<g._contentLength){g._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,w={code:-1,msg:"Fetch stream meet Early-EOF"};if(g._onError)g._onError(y,w);else throw new f.RuntimeException(w.msg)}else g._status=u.LoaderStatus.kComplete,g._onComplete&&g._onComplete(g._range.from,g._range.from+g._receivedLength-1);else{if(g._abortController&&g._abortController.signal.aborted){g._status=u.LoaderStatus.kComplete;return}else if(g._requestAbort===!0)return g._status=u.LoaderStatus.kComplete,m.cancel();g._status=u.LoaderStatus.kBuffering;var b=_.value.buffer,E=g._range.from+g._receivedLength;g._receivedLength+=b.byteLength,g._onDataArrival&&g._onDataArrival(b,E,g._receivedLength),g._pump(m)}}).catch(function(_){if(g._abortController&&g._abortController.signal.aborted){g._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&l.default.msedge)){g._status=u.LoaderStatus.kError;var y=0,w=null;if((_.code===19||_.message==="network error")&&(g._contentLength===null||g._contentLength!==null&&g._receivedLength<g._contentLength)?(y=u.LoaderErrors.EARLY_EOF,w={code:_.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,w={code:_.code,msg:_.message}),g._onError)g._onError(y,w);else throw new f.RuntimeException(w.msg)}})},v}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),p=c("./src/io/xhr-moz-chunked-loader.js"),d=c("./src/io/xhr-range-loader.js"),v=c("./src/io/websocket-loader.js"),m=c("./src/io/range-seek-handler.js"),g=c("./src/io/param-seek-handler.js"),_=c("./src/utils/exception.js"),y=function(){function w(b,E,C){this.TAG="IOController",this._config=E,this._extraData=C,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return w.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},w.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},w.prototype.isPaused=function(){return this._paused},Object.defineProperty(w.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),w.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var E=b.seekParamStart||"bstart",C=b.seekParamEnd||"bend";this._seekHandler=new g.default(E,C)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},w.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},w.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},w.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},w.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},w.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},w.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},w.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},w.prototype._internalSeek=function(b,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var C={from:b,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},w.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},w.prototype._expandBuffer=function(b){for(var E=this._stashSize;E+1024*1024*1<b;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var C=new ArrayBuffer(E);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),T=new Uint8Array(C,0,E);T.set(A,0)}this._stashBuffer=C,this._bufferSize=E}},w.prototype._normalizeSpeed=function(b){var E=this._speedNormalizeList,C=E.length-1,A=0,T=0,R=C;if(b<E[0])return E[0];for(;T<=R;){if(A=T+Math.floor((R-T)/2),A===C||b>=E[A]&&b<E[A+1])return E[A];E[A]<b?T=A+1:R=A-1}},w.prototype._adjustStashSize=function(b){var E=0;this._config.isLive||b<512?E=b:b>=512&&b<=1024?E=Math.floor(b*1.5):E=b*2,E>8192&&(E=8192);var C=E*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=E*1024},w.prototype._dispatchChunks=function(b,E){return this._currentRange.to=E+b.byteLength-1,this._onDataArrival(b,E)},w.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},w.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},w.prototype._onLoaderChunkArrival=function(b,E,C){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var T=this._normalizeSpeed(A);this._speedNormalized!==T&&(this._speedNormalized=T,this._adjustStashSize(T))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+b.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var L=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(L,this._stashByteStart);if(R<L.byteLength){if(R>0){var k=new Uint8Array(L,R);P.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var R=this._dispatchChunks(b,E);if(R<b.byteLength){var O=b.byteLength-R;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(b,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(b,E);if(R<b.byteLength){var O=b.byteLength-R;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(b,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var k=new Uint8Array(this._stashBuffer,R);P.set(k,0)}this._stashUsed-=R,this._stashByteStart+=R}}},w.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(E,this._stashByteStart),A=E.byteLength-C;if(C<E.byteLength)if(b)l.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var T=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(E,C);T.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},w.prototype._onLoaderComplete=function(b,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},w.prototype._onLoaderError=function(b,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,E);else throw new _.RuntimeException("IOException: "+E.msg)},w}();s.default=y},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,v){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var p=f;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],p=void 0,d=f.indexOf("?");d!==-1&&(p=f.substring(d+1));var v="";if(p!=null&&p.length>0)for(var m=p.split("&"),g=0;g<m.length;g++){var _=m[g].split("="),y=g>0;_[0]!==this._startName&&_[0]!==this._endName&&(y&&(v+="&"),v+=m[g])}return v.length===0?h:h+"?"+v},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:f,headers:p}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var p=function(d,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},p(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(d,v);function m(){this.constructor=d}d.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),h=function(p){f(d,p);function d(){var v=p.call(this,"websocket-loader")||this;return v.TAG="WebSocketLoader",v._needStash=!0,v._ws=null,v._requestAbort=!1,v._receivedLength=0,v}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(v){try{var m=this._ws=new self.WebSocket(v.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(_){this._status=l.LoaderStatus.kError;var g={code:_.code,msg:_.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},d.prototype.abort=function(){var v=this._ws;v&&(v.readyState===0||v.readyState===1)&&(this._requestAbort=!0,v.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(v){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(v){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(v){var m=this;if(v.data instanceof ArrayBuffer)this._dispatchArrayBuffer(v.data);else if(v.data instanceof Blob){var g=new FileReader;g.onload=function(){m._dispatchArrayBuffer(g.result)},g.readAsArrayBuffer(v.data)}else{this._status=l.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+v.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},d.prototype._dispatchArrayBuffer=function(v){var m=v,g=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,g,this._receivedLength)},d.prototype._onWebSocketError=function(v){this._status=l.LoaderStatus.kError;var m={code:v.code,msg:v.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(g[y]=_[y])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),p=function(d){h(v,d);function v(m,g){var _=d.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=m,_._config=g,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(g){return l.default.w("MozChunkedLoader",g.message),!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},v.prototype.open=function(m,g){this._dataSource=m,this._range=g;var _=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(_=m.redirectedURL);var y=this._seekHandler.getConfig(_,g);this._requestURL=y.url;var w=this._xhr=new XMLHttpRequest;if(w.open("GET",y.url,!0),w.responseType="moz-chunked-arraybuffer",w.onreadystatechange=this._onReadyStateChange.bind(this),w.onprogress=this._onProgress.bind(this),w.onloadend=this._onLoadEnd.bind(this),w.onerror=this._onXhrError.bind(this),m.withCredentials&&(w.withCredentials=!0),typeof y.headers=="object"){var b=y.headers;for(var E in b)b.hasOwnProperty(E)&&w.setRequestHeader(E,b[E])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var E in b)b.hasOwnProperty(E)&&w.setRequestHeader(E,b[E])}this._status=u.LoaderStatus.kConnecting,w.send()},v.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},v.prototype._onReadyStateChange=function(m){var g=m.target;if(g.readyState===2){if(g.responseURL!=null&&g.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(g.responseURL);this._onURLRedirect(_)}if(g.status!==0&&(g.status<200||g.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+g.status+" "+g.statusText);else this._status=u.LoaderStatus.kBuffering}},v.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var g=m.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=g.byteLength,this._onDataArrival&&this._onDataArrival(g,_,this._receivedLength)}},v.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},v.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var g=0,_=null;if(this._contentLength&&m.loaded<this._contentLength?(g=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(g=u.LoaderErrors.EXCEPTION,_={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(g,_);else throw new f.RuntimeException(_.msg)},v}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),p=function(){var v=function(m,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(_[w]=y[w])},v(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}(),d=function(v){p(m,v);function m(g,_){var y=v.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=g,y._config=_,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return m.isSupported=function(){try{var g=new XMLHttpRequest;return g.open("GET","https://example.com",!0),g.responseType="arraybuffer",g.responseType==="arraybuffer"}catch(_){return l.default.w("RangeLoader",_.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(g,_){this._dataSource=g,this._range=_,this._status=f.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var g=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,y=_+g;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(g,_){this._lastTimeLoaded=0;var y=g.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:g.redirectedURL!=null&&(y=g.redirectedURL));var w=this._seekHandler.getConfig(y,_);this._currentRequestURL=w.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",w.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),g.withCredentials&&(b.withCredentials=!0),typeof w.headers=="object"){var E=w.headers;for(var C in E)E.hasOwnProperty(C)&&b.setRequestHeader(C,E[C])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var C in E)E.hasOwnProperty(C)&&b.setRequestHeader(C,E[C])}b.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(g){var _=g.target;if(_.readyState===2){if(_.responseURL!=null){var y=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},m.prototype._onProgress=function(g){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var y=g.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var w=g.loaded-this._lastTimeLoaded;this._lastTimeLoaded=g.loaded,this._speedSampler.addBytes(w)}},m.prototype._normalizeSpeed=function(g){var _=this._chunkSizeKBList,y=_.length-1,w=0,b=0,E=y;if(g<_[0])return _[0];for(;b<=E;){if(w=b+Math.floor((E-b)/2),w===y||g>=_[w]&&g<_[w+1])return _[w];_[w]<g?b=w+1:E=w-1}},m.prototype._onLoad=function(g){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var y=this._normalizeSpeed(_);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var w=g.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=w.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(w,b,this._receivedLength),E&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(g){this._status=f.LoaderStatus.kError;var _=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=f.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=f.LoaderErrors.EXCEPTION,y={code:-1,msg:g.constructor.name+" "+g.type}),this._onError)this._onError(_,y);else throw new h.RuntimeException(y.msg)},m}(f.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/player/player-events.js"),d=c("./src/core/transmuxer.js"),v=c("./src/core/transmuxing-events.js"),m=c("./src/core/mse-controller.js"),g=c("./src/core/mse-events.js"),_=c("./src/player/player-errors.js"),y=c("./src/config.js"),w=c("./src/utils/exception.js"),b=function(){function E(C,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),C.type.toLowerCase()!=="flv")throw new w.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var T=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(T||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(C,A){var T=this;C===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(p.default.MEDIA_INFO,T.mediaInfo)}):C===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(p.default.STATISTICS_INFO,T.statisticsInfo)}),this._emitter.addListener(C,A)},E.prototype.off=function(C,A){this._emitter.removeListener(C,A)},E.prototype.attachMediaElement=function(C){var A=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(g.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(g.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(g.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(g.default.ERROR,function(T){A._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,T)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var C=this;if(!this._mediaElement)throw new w.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new w.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(A,T){C._msectl.appendInitSegment(T)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(A,T){if(C._msectl.appendMediaSegment(T),C._config.lazyLoad&&!C._config.isLive){var R=C._mediaElement.currentTime;T.info.endDts>=(R+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(A,T){C._emitter.emit(p.default.ERROR,_.ErrorTypes.NETWORK_ERROR,A,T)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(A,T){C._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:T})}),this._transmuxer.on(v.default.MEDIA_INFO,function(A){C._mediaInfo=A,C._emitter.emit(p.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(A){C._emitter.emit(p.default.METADATA_ARRIVED,A)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(A){C._emitter.emit(p.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(A){C._statisticsInfo=C._fillStatisticsInfo(A),C._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(A){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var A=!0,T=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();T=O.totalVideoFrames,R=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(T=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(C.decodedFrames=T,C.droppedFrames=R),C},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,A=this._mediaElement.currentTime,T=0,R=0;R<C.length;R++){var O=C.start(R),P=C.end(R);if(O<=A&&A<P){T=P;break}}T>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,A=this._mediaElement.buffered,T=!1,R=0;R<A.length;R++){var O=A.start(R),P=A.end(R);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(T=!0);break}}T&&(window.clearInterval(this._progressChecker),this._progressChecker=null,T&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(C){for(var A=this._mediaElement.buffered,T=0;T<A.length;T++){var R=A.start(T),O=A.end(T);if(C>=R&&C<O)return!0}return!1},E.prototype._internalSeek=function(C){var A=this._isTimepointBuffered(C),T=!1,R=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(T=!0,R=h.default.safari?.1:O)}if(T)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(C){var A=this._mediaElement;if(C||!this._receivedCanPlay||A.readyState<2){var T=A.buffered;T.length>0&&A.currentTime<T.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+T.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=T.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(C){var A=this._mediaElement.currentTime,T=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&T.length>0){var R=T.start(0);if(R<1&&A<R||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:R;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(A*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},E}();s.default=b},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),p=c("./src/utils/exception.js"),d=function(){function v(m,g){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof g=="object"&&Object.assign(this._config,g),m.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return v.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(m,g){var _=this;m===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.MEDIA_INFO,_.mediaInfo)}):m===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(m,g)},v.prototype.off=function(m,g){this._emitter.removeListener(m,g)},v.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},v.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",g={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(g.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(g.width=this._mediaElement.videoWidth,g.height=this._mediaElement.videoHeight)),g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var g=!0,_=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var w=this._mediaElement.getVideoPlaybackQuality();_=w.totalVideoFrames,y=w.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):g=!1;return g&&(m.decodedFrames=_,m.droppedFrames=y),m},enumerable:!1,configurable:!0}),v.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},v.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},v}();s.default=d},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),v=d.length,m=0;m<v;m++)h+=d[m].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(f,4);for(var g=8,m=0;m<v;m++)p.set(d[m],g),g+=d[m].byteLength;return p},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(f),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),p=u.trak(f),d=u.mvex(f);return u.box(u.types.moov,h,p,d)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,p=f.duration,d=f.presentWidth,v=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,v>>>8&255,v&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,p=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(f))},u.esds=function(f){var h=f.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(f){var h=f.avcc,p=f.codecWidth,d=f.codecHeight,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,v,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var p=f.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),v=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),m=u.sdtp(f),g=u.trun(f,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,v,g,m)},u.sdtp=function(f){for(var h=f.samples||[],p=h.length,d=new Uint8Array(4+p),v=0;v<p;v++){var m=h[v].flags;d[v+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(f,h){var p=f.samples||[],d=p.length,v=12+16*d,m=new Uint8Array(v);h+=8+v,m.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var g=0;g<d;g++){var _=p[g].duration,y=p[g].size,w=p[g].flags,b=p[g].cts;m.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,w.isLeading<<2|w.dependsOn,w.isDependedOn<<6|w.hasRedundancy<<4|w.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*g)}return u.box(u.types.trun,m)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-segment-info.js"),d=c("./src/utils/exception.js"),v=function(){function m(g){this.TAG="MP4Remuxer",this._config=g,this._isLive=g.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(g){return g.onDataAvailable=this.remux.bind(this),g.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(g){this._onInitSegment=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(g){this._onMediaSegment=g},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(g){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(g,_){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(g,_),this._remuxVideo(_),this._remuxAudio(g)},m.prototype._onTrackMetadataReceived=function(g,_){var y=null,w="mp4",b=_.codec;if(g==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(w="mpeg",b="",y=new Uint8Array):y=u.default.generateInitSegment(_);else if(g==="video")this._videoMeta=_,y=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(g,{type:g,data:y.buffer,codec:b,container:g+"/"+w,mediaDuration:_.duration})},m.prototype._calculateDtsBase=function(g,_){this._dtsBaseInited||(g.samples&&g.samples.length&&(this._audioDtsBase=g.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var g=this._videoStashedLastSample,_=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};g!=null&&(y.samples.push(g),y.length=g.length);var w={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(w.samples.push(_),w.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(w,!0)},m.prototype._remuxAudio=function(g,_){if(this._audioMeta!=null){var y=g,w=y.samples,b=void 0,E=-1,C=-1,A=this._audioMeta.refSampleDuration,T=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!w||w.length===0)&&!(w.length===1&&!_)){var P=0,k=null,L=0;T?(P=0,L=y.length):(P=8,L=8+y.length);var B=null;if(w.length>1&&(B=w.pop(),L-=B.length),this._audioStashedLastSample!=null){var U=this._audioStashedLastSample;this._audioStashedLastSample=null,w.unshift(U),L+=U.length}B!=null&&(this._audioStashedLastSample=B);var X=w[0].dts-this._dtsBase;if(this._audioNextDts)b=X-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var ee=this._audioSegmentInfoList.getLastSampleBefore(X);if(ee!=null){var ne=X-(ee.originalDts+ee.duration);ne<=3&&(ne=0);var W=ee.dts+ee.duration+ne;b=X-W}else b=0}if(O){var D=X-b,z=this._videoSegmentInfoList.getLastSegmentBefore(X);if(z!=null&&z.beginDts<D){var V=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(V){var G=z.beginDts,ie=D-z.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+G+", duration: "+ie),w.unshift({unit:V,dts:G,pts:G}),L+=V.byteLength}}else O=!1}for(var se=[],me=0;me<w.length;me++){var U=w[me],ue=U.unit,we=U.dts-this._dtsBase,G=we,Be=!1,Fe=null,Ee=0;if(!(we<-.001)){if(this._audioMeta.codec!=="mp3"){var Ae=we,Ge=3;if(this._audioNextDts&&(Ae=this._audioNextDts),b=we-Ae,b<=-Ge*A){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+we+" ms ,curRefDts: "+Ae+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=Ge*A&&this._fillAudioTimestampGap&&!h.default.safari){Be=!0;var We=Math.floor(b/A);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+we+" ms, curRefDts: "+Ae+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+We+" frames")),G=Math.floor(Ae),Ee=Math.floor(Ae+A)-G;var V=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);V==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),V=ue),Fe=[];for(var Ve=0;Ve<We;Ve++){Ae=Ae+A;var Xe=Math.floor(Ae),qe=Math.floor(Ae+A)-Xe,Et={dts:Xe,pts:Xe,cts:0,unit:V,size:V.byteLength,duration:qe,originalDts:we,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Fe.push(Et),L+=Et.size}this._audioNextDts=Ae+A}else G=Math.floor(Ae),Ee=Math.floor(Ae+A)-G,this._audioNextDts=Ae+A}else{if(G=we-b,me!==w.length-1){var Rt=w[me+1].dts-this._dtsBase-b;Ee=Rt-G}else if(B!=null){var Rt=B.dts-this._dtsBase-b;Ee=Rt-G}else se.length>=1?Ee=se[se.length-1].duration:Ee=Math.floor(A);this._audioNextDts=G+Ee}E===-1&&(E=G),se.push({dts:G,pts:G,cts:0,unit:U.unit,size:U.unit.byteLength,duration:Ee,originalDts:we,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Be&&se.push.apply(se,Fe)}}if(se.length===0){y.samples=[],y.length=0;return}T?k=new Uint8Array(L):(k=new Uint8Array(L),k[0]=L>>>24&255,k[1]=L>>>16&255,k[2]=L>>>8&255,k[3]=L&255,k.set(u.default.types.mdat,4));for(var me=0;me<se.length;me++){var ue=se[me].unit;k.set(ue,P),P+=ue.byteLength}var ft=se[se.length-1];C=ft.dts+ft.duration;var ht=new p.MediaSegmentInfo;ht.beginDts=E,ht.endDts=C,ht.beginPts=E,ht.endPts=C,ht.originalBeginDts=se[0].originalDts,ht.originalEndDts=ft.originalDts+ft.duration,ht.firstSample=new p.SampleInfo(se[0].dts,se[0].pts,se[0].duration,se[0].originalDts,!1),ht.lastSample=new p.SampleInfo(ft.dts,ft.pts,ft.duration,ft.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ht),y.samples=se,y.sequenceNumber++;var St=null;T?St=new Uint8Array:St=u.default.moof(y,E),y.samples=[],y.length=0;var rr={type:"audio",data:this._mergeBoxes(St,k).buffer,sampleCount:se.length,info:ht};T&&R&&(rr.timestampOffset=E),this._onMediaSegment("audio",rr)}}},m.prototype._remuxVideo=function(g,_){if(this._videoMeta!=null){var y=g,w=y.samples,b=void 0,E=-1,C=-1,A=-1,T=-1;if(!(!w||w.length===0)&&!(w.length===1&&!_)){var R=8,O=null,P=8+g.length,k=null;if(w.length>1&&(k=w.pop(),P-=k.length),this._videoStashedLastSample!=null){var L=this._videoStashedLastSample;this._videoStashedLastSample=null,w.unshift(L),P+=L.length}k!=null&&(this._videoStashedLastSample=k);var B=w[0].dts-this._dtsBase;if(this._videoNextDts)b=B-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var U=this._videoSegmentInfoList.getLastSampleBefore(B);if(U!=null){var X=B-(U.originalDts+U.duration);X<=3&&(X=0);var ee=U.dts+U.duration+X;b=B-ee}else b=0}for(var ne=new p.MediaSegmentInfo,W=[],D=0;D<w.length;D++){var L=w[D],z=L.dts-this._dtsBase,V=L.isKeyframe,G=z-b,ie=L.cts,se=G+ie;E===-1&&(E=G,A=se);var me=0;if(D!==w.length-1){var ue=w[D+1].dts-this._dtsBase-b;me=ue-G}else if(k!=null){var ue=k.dts-this._dtsBase-b;me=ue-G}else W.length>=1?me=W[W.length-1].duration:me=Math.floor(this._videoMeta.refSampleDuration);if(V){var we=new p.SampleInfo(G,se,me,L.dts,!0);we.fileposition=L.fileposition,ne.appendSyncPoint(we)}W.push({dts:G,pts:se,cts:ie,units:L.units,size:L.length,isKeyframe:V,duration:me,originalDts:z,flags:{isLeading:0,dependsOn:V?2:1,isDependedOn:V?1:0,hasRedundancy:0,isNonSync:V?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var D=0;D<W.length;D++)for(var Be=W[D].units;Be.length;){var Fe=Be.shift(),Ee=Fe.data;O.set(Ee,R),R+=Ee.byteLength}var Ae=W[W.length-1];if(C=Ae.dts+Ae.duration,T=Ae.pts+Ae.duration,this._videoNextDts=C,ne.beginDts=E,ne.endDts=C,ne.beginPts=A,ne.endPts=T,ne.originalBeginDts=W[0].originalDts,ne.originalEndDts=Ae.originalDts+Ae.duration,ne.firstSample=new p.SampleInfo(W[0].dts,W[0].pts,W[0].duration,W[0].originalDts,W[0].isKeyframe),ne.lastSample=new p.SampleInfo(Ae.dts,Ae.pts,Ae.duration,Ae.originalDts,Ae.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ne),y.samples=W,y.sequenceNumber++,this._forceFirstIDR){var Ge=W[0].flags;Ge.dependsOn=2,Ge.isNonSync=0}var We=u.default.moof(y,E);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(We,O).buffer,sampleCount:W.length,info:ne})}}},m.prototype._mergeBoxes=function(g,_){var y=new Uint8Array(g.byteLength+_.byteLength);return y.set(g,0),y.set(_,g.byteLength),y},m}();s.default=v},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],p=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},v={};if(d.browser){v[d.browser]=!0;var m=d.majorVersion.split(".");v.version={major:parseInt(d.majorVersion,10),string:d.version},m.length>1&&(v.version.minor=parseInt(m[1],10)),m.length>2&&(v.version.build=parseInt(m[2],10))}if(d.platform&&(v[d.platform]=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){v.rv&&delete v.rv;var g="msie";d.browser=g,v[g]=!0}if(v.edge){delete v.edge;var _="msedge";d.browser=_,v[_]=!0}if(v.opr){var y="opera";d.browser=y,v[y]=!0}if(v.safari&&v.android){var w="android";d.browser=w,v[w]=!0}v.name=d.browser,v.platform=d.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,v)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(g[y]=_[y])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),u=function(){function d(v){this._message=v}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),f=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),v}(u),h=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),v}(u),p=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),v}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",v),h.ENABLE_ERROR&&(console.error?console.error(v):console.warn?console.warn(v):console.log(v))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",v),h.ENABLE_INFO&&(console.info?console.info(v):console.log(v))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",v),h.ENABLE_WARN&&(console.warn?console.warn(v):console.log(v))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",v),h.ENABLE_DEBUG&&(console.debug?console.debug(v):console.log(v))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",v),h.ENABLE_VERBOSE&&console.log(v)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(d){f.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(d){f.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_VERBOSE=d,f.default.ENABLE_DEBUG=d,f.default.ENABLE_INFO=d,f.default.ENABLE_WARN=d,f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(d){f.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(d){f.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(d){f.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(d){f.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},p.applyConfig=function(d){f.default.GLOBAL_TAG=d.globalTag,f.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,f.default.ENABLE_VERBOSE=d.enableVerbose,f.default.ENABLE_DEBUG=d.enableDebug,f.default.ENABLE_INFO=d.enableInfo,f.default.ENABLE_WARN=d.enableWarn,f.default.ENABLE_ERROR=d.enableError,f.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var v=p.getConfig();d.emit("change",v)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){f.default.emitter.addListener("log",d),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){f.default.emitter.removeListener("log",d),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var v in d)d.hasOwnProperty(v)&&(h[v]=d[v])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,p){var d=f;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],p=f,d=0,v=f.length;d<v;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var m=(p[d]&31)<<6|p[d+1]&63;if(m>=128){h.push(String.fromCharCode(m&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var m=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(m>=2048&&(m&63488)!==55296){h.push(String.fromCharCode(m&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var m=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(m>65536&&m<1114112){m-=65536,h.push(String.fromCharCode(m>>>10|55296)),h.push(String.fromCharCode(m&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(vH);var AAe=vH.exports;const TAe=Xi(AAe);var gH={exports:{}},DS={exports:{}};const IAe={},RAe=Object.freeze(Object.defineProperty({__proto__:null,default:IAe},Symbol.toStringTag,{value:"Module"})),mH=Dte(RAe);var cD;function Cr(){return cD||(cD=1,function(t,e){(function(r,n){t.exports=n()})(At,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof At<"u"&&At.crypto&&(a=At.crypto),!a&&typeof yh=="function")try{a=mH}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(y){var w;return _.prototype=y,w=new _,_.prototype=null,w}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(_){var y=s(this);return _&&y.mixIn(_),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var y in _)_.hasOwnProperty(y)&&(this[y]=_[y]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(_,y){_=this.words=_||[],y!=i?this.sigBytes=y:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var y=this.words,w=_.words,b=this.sigBytes,E=_.sigBytes;if(this.clamp(),b%4)for(var C=0;C<E;C++){var A=w[C>>>2]>>>24-C%4*8&255;y[b+C>>>2]|=A<<24-(b+C)%4*8}else for(var T=0;T<E;T+=4)y[b+T>>>2]=w[T>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,y=this.sigBytes;_[y>>>2]&=4294967295<<32-y%4*8,_.length=n.ceil(y/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var y=[],w=0;w<_;w+=4)y.push(o());return new f.init(y,_)}}),h=c.enc={},p=h.Hex={stringify:function(_){for(var y=_.words,w=_.sigBytes,b=[],E=0;E<w;E++){var C=y[E>>>2]>>>24-E%4*8&255;b.push((C>>>4).toString(16)),b.push((C&15).toString(16))}return b.join("")},parse:function(_){for(var y=_.length,w=[],b=0;b<y;b+=2)w[b>>>3]|=parseInt(_.substr(b,2),16)<<24-b%8*4;return new f.init(w,y/2)}},d=h.Latin1={stringify:function(_){for(var y=_.words,w=_.sigBytes,b=[],E=0;E<w;E++){var C=y[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(C))}return b.join("")},parse:function(_){for(var y=_.length,w=[],b=0;b<y;b++)w[b>>>2]|=(_.charCodeAt(b)&255)<<24-b%4*8;return new f.init(w,y)}},v=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(d.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return d.parse(unescape(encodeURIComponent(_)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=v.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var y,w=this._data,b=w.words,E=w.sigBytes,C=this.blockSize,A=C*4,T=E/A;_?T=n.ceil(T):T=n.max((T|0)-this._minBufferSize,0);var R=T*C,O=n.min(R*4,E);if(R){for(var P=0;P<R;P+=C)this._doProcessBlock(b,P);y=b.splice(0,R),w.sigBytes-=O}return new f.init(y,O)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=m.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(_){return function(y,w){return new _.init(w).finalize(y)}},_createHmacHelper:function(_){return function(y,w){return new g.HMAC.init(_,w).finalize(y)}}});var g=c.algo={};return c}(Math);return r})}(DS)),DS.exports}var US={exports:{}},fD;function nb(){return fD||(fD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var p=l[h];f.push(p.high),f.push(p.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(US)),US.exports}var jS={exports:{}},hD;function PAe(){return hD||(hD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(jS)),jS.exports}var $S={exports:{}},dD;function OAe(){return dD||(dD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}($S)),$S.exports}var GS={exports:{}},pD;function xf(){return pD||(pD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,v=l[p+1>>>2]>>>24-(p+1)%4*8&255,m=l[p+2>>>2]>>>24-(p+2)%4*8&255,g=d<<16|v<<8|m,_=0;_<4&&p+_*.75<u;_++)h.push(f.charAt(g>>>6*(3-_)&63));var y=f.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=c.indexOf(p);d!==-1&&(l=d)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,v=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(GS)),GS.exports}var VS={exports:{}},vD;function kAe(){return vD||(vD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var v=u[d>>>2]>>>24-d%4*8&255,m=u[d+1>>>2]>>>24-(d+1)%4*8&255,g=u[d+2>>>2]>>>24-(d+2)%4*8&255,_=v<<16|m<<8|g,y=0;y<4&&d+y*.75<f;y++)p.push(h.charAt(_>>>6*(3-y)&63));var w=h.charAt(64);if(w)for(;p.length%4;)p.push(w);return p.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var v=c.indexOf(d);v!==-1&&(u=v)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,v=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(VS)),VS.exports}var HS={exports:{}},gD;function bf(){return gD||(gD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var v=0;v<64;v++)l[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,m){for(var g=0;g<16;g++){var _=m+g,y=v[_];v[_]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var w=this._hash.words,b=v[m+0],E=v[m+1],C=v[m+2],A=v[m+3],T=v[m+4],R=v[m+5],O=v[m+6],P=v[m+7],k=v[m+8],L=v[m+9],B=v[m+10],U=v[m+11],X=v[m+12],ee=v[m+13],ne=v[m+14],W=v[m+15],D=w[0],z=w[1],V=w[2],G=w[3];D=f(D,z,V,G,b,7,l[0]),G=f(G,D,z,V,E,12,l[1]),V=f(V,G,D,z,C,17,l[2]),z=f(z,V,G,D,A,22,l[3]),D=f(D,z,V,G,T,7,l[4]),G=f(G,D,z,V,R,12,l[5]),V=f(V,G,D,z,O,17,l[6]),z=f(z,V,G,D,P,22,l[7]),D=f(D,z,V,G,k,7,l[8]),G=f(G,D,z,V,L,12,l[9]),V=f(V,G,D,z,B,17,l[10]),z=f(z,V,G,D,U,22,l[11]),D=f(D,z,V,G,X,7,l[12]),G=f(G,D,z,V,ee,12,l[13]),V=f(V,G,D,z,ne,17,l[14]),z=f(z,V,G,D,W,22,l[15]),D=h(D,z,V,G,E,5,l[16]),G=h(G,D,z,V,O,9,l[17]),V=h(V,G,D,z,U,14,l[18]),z=h(z,V,G,D,b,20,l[19]),D=h(D,z,V,G,R,5,l[20]),G=h(G,D,z,V,B,9,l[21]),V=h(V,G,D,z,W,14,l[22]),z=h(z,V,G,D,T,20,l[23]),D=h(D,z,V,G,L,5,l[24]),G=h(G,D,z,V,ne,9,l[25]),V=h(V,G,D,z,A,14,l[26]),z=h(z,V,G,D,k,20,l[27]),D=h(D,z,V,G,ee,5,l[28]),G=h(G,D,z,V,C,9,l[29]),V=h(V,G,D,z,P,14,l[30]),z=h(z,V,G,D,X,20,l[31]),D=p(D,z,V,G,R,4,l[32]),G=p(G,D,z,V,k,11,l[33]),V=p(V,G,D,z,U,16,l[34]),z=p(z,V,G,D,ne,23,l[35]),D=p(D,z,V,G,E,4,l[36]),G=p(G,D,z,V,T,11,l[37]),V=p(V,G,D,z,P,16,l[38]),z=p(z,V,G,D,B,23,l[39]),D=p(D,z,V,G,ee,4,l[40]),G=p(G,D,z,V,b,11,l[41]),V=p(V,G,D,z,A,16,l[42]),z=p(z,V,G,D,O,23,l[43]),D=p(D,z,V,G,L,4,l[44]),G=p(G,D,z,V,X,11,l[45]),V=p(V,G,D,z,W,16,l[46]),z=p(z,V,G,D,C,23,l[47]),D=d(D,z,V,G,b,6,l[48]),G=d(G,D,z,V,P,10,l[49]),V=d(V,G,D,z,ne,15,l[50]),z=d(z,V,G,D,R,21,l[51]),D=d(D,z,V,G,X,6,l[52]),G=d(G,D,z,V,A,10,l[53]),V=d(V,G,D,z,B,15,l[54]),z=d(z,V,G,D,E,21,l[55]),D=d(D,z,V,G,k,6,l[56]),G=d(G,D,z,V,W,10,l[57]),V=d(V,G,D,z,O,15,l[58]),z=d(z,V,G,D,ee,21,l[59]),D=d(D,z,V,G,T,6,l[60]),G=d(G,D,z,V,U,10,l[61]),V=d(V,G,D,z,C,15,l[62]),z=d(z,V,G,D,L,21,l[63]),w[0]=w[0]+D|0,w[1]=w[1]+z|0,w[2]=w[2]+V|0,w[3]=w[3]+G|0},_doFinalize:function(){var v=this._data,m=v.words,g=this._nDataBytes*8,_=v.sigBytes*8;m[_>>>5]|=128<<24-_%32;var y=n.floor(g/4294967296),w=g;m[(_+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,v.sigBytes=(m.length+1)*4,this._process();for(var b=this._hash,E=b.words,C=0;C<4;C++){var A=E[C];E[C]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,m,g,_,y,w,b){var E=v+(m&g|~m&_)+y+b;return(E<<w|E>>>32-w)+m}function h(v,m,g,_,y,w,b){var E=v+(m&_|g&~_)+y+b;return(E<<w|E>>>32-w)+m}function p(v,m,g,_,y,w,b){var E=v+(m^g^_)+y+b;return(E<<w|E>>>32-w)+m}function d(v,m,g,_,y,w,b){var E=v+(g^(m|~_))+y+b;return(E<<w|E>>>32-w)+m}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(HS)),HS.exports}var XS={exports:{}},mD;function _H(){return mD||(mD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],d=h[1],v=h[2],m=h[3],g=h[4],_=0;_<80;_++){if(_<16)c[_]=u[f+_]|0;else{var y=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=y<<1|y>>>31}var w=(p<<5|p>>>27)+g+c[_];_<20?w+=(d&v|~d&m)+1518500249:_<40?w+=(d^v^m)+1859775393:_<60?w+=(d&v|d&m|v&m)-1894007588:w+=(d^v^m)-899497514,g=m,m=v,v=d<<30|d>>>2,d=p,p=w}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+v|0,h[3]=h[3]+m|0,h[4]=h[4]+g|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(XS)),XS.exports}var zS={exports:{}},_D;function XO(){return _D||(_D=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function p(g){for(var _=n.sqrt(g),y=2;y<=_;y++)if(!(g%y))return!1;return!0}function d(g){return(g-(g|0))*4294967296|0}for(var v=2,m=0;m<64;)p(v)&&(m<8&&(l[m]=d(n.pow(v,1/2))),u[m]=d(n.pow(v,1/3)),m++),v++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var v=this._hash.words,m=v[0],g=v[1],_=v[2],y=v[3],w=v[4],b=v[5],E=v[6],C=v[7],A=0;A<64;A++){if(A<16)f[A]=p[d+A]|0;else{var T=f[A-15],R=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,O=f[A-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[A]=R+f[A-7]+P+f[A-16]}var k=w&b^~w&E,L=m&g^m&_^g&_,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),U=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),X=C+U+k+u[A]+f[A],ee=B+L;C=E,E=b,b=w,w=y+X|0,y=_,_=g,g=m,m=X+ee|0}v[0]=v[0]+m|0,v[1]=v[1]+g|0,v[2]=v[2]+_|0,v[3]=v[3]+y|0,v[4]=v[4]+w|0,v[5]=v[5]+b|0,v[6]=v[6]+E|0,v[7]=v[7]+C|0},_doFinalize:function(){var p=this._data,d=p.words,v=this._nDataBytes*8,m=p.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=n.floor(v/4294967296),d[(m+64>>>9<<4)+15]=v,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(zS)),zS.exports}var WS={exports:{}},yD;function FAe(){return yD||(yD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),XO())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(WS)),WS.exports}var YS={exports:{}},xD;function yH(){return xD||(xD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),nb())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,v){for(var m=this._hash.words,g=m[0],_=m[1],y=m[2],w=m[3],b=m[4],E=m[5],C=m[6],A=m[7],T=g.high,R=g.low,O=_.high,P=_.low,k=y.high,L=y.low,B=w.high,U=w.low,X=b.high,ee=b.low,ne=E.high,W=E.low,D=C.high,z=C.low,V=A.high,G=A.low,ie=T,se=R,me=O,ue=P,we=k,Be=L,Fe=B,Ee=U,Ae=X,Ge=ee,We=ne,Ve=W,Xe=D,qe=z,Et=V,Rt=G,ft=0;ft<80;ft++){var ht,St,rr=h[ft];if(ft<16)St=rr.high=d[v+ft*2]|0,ht=rr.low=d[v+ft*2+1]|0;else{var Ht=h[ft-15],nr=Ht.high,Gt=Ht.low,xt=(nr>>>1|Gt<<31)^(nr>>>8|Gt<<24)^nr>>>7,Zt=(Gt>>>1|nr<<31)^(Gt>>>8|nr<<24)^(Gt>>>7|nr<<25),Oe=h[ft-2],j=Oe.high,de=Oe.low,Se=(j>>>19|de<<13)^(j<<3|de>>>29)^j>>>6,ke=(de>>>19|j<<13)^(de<<3|j>>>29)^(de>>>6|j<<26),ae=h[ft-7],Ie=ae.high,H=ae.low,Ue=h[ft-16],pt=Ue.high,F=Ue.low;ht=Zt+H,St=xt+Ie+(ht>>>0<Zt>>>0?1:0),ht=ht+ke,St=St+Se+(ht>>>0<ke>>>0?1:0),ht=ht+F,St=St+pt+(ht>>>0<F>>>0?1:0),rr.high=St,rr.low=ht}var Re=Ae&We^~Ae&Xe,Pe=Ge&Ve^~Ge&qe,q=ie&me^ie&we^me&we,le=se&ue^se&Be^ue&Be,Ce=(ie>>>28|se<<4)^(ie<<30|se>>>2)^(ie<<25|se>>>7),dt=(se>>>28|ie<<4)^(se<<30|ie>>>2)^(se<<25|ie>>>7),Qe=(Ae>>>14|Ge<<18)^(Ae>>>18|Ge<<14)^(Ae<<23|Ge>>>9),ot=(Ge>>>14|Ae<<18)^(Ge>>>18|Ae<<14)^(Ge<<23|Ae>>>9),Ft=f[ft],Ln=Ft.high,lr=Ft.low,Ct=Rt+ot,Ar=Et+Qe+(Ct>>>0<Rt>>>0?1:0),Ct=Ct+Pe,Ar=Ar+Re+(Ct>>>0<Pe>>>0?1:0),Ct=Ct+lr,Ar=Ar+Ln+(Ct>>>0<lr>>>0?1:0),Ct=Ct+ht,Ar=Ar+St+(Ct>>>0<ht>>>0?1:0),on=dt+le,qn=Ce+q+(on>>>0<dt>>>0?1:0);Et=Xe,Rt=qe,Xe=We,qe=Ve,We=Ae,Ve=Ge,Ge=Ee+Ct|0,Ae=Fe+Ar+(Ge>>>0<Ee>>>0?1:0)|0,Fe=we,Ee=Be,we=me,Be=ue,me=ie,ue=se,se=Ct+on|0,ie=Ar+qn+(se>>>0<Ct>>>0?1:0)|0}R=g.low=R+se,g.high=T+ie+(R>>>0<se>>>0?1:0),P=_.low=P+ue,_.high=O+me+(P>>>0<ue>>>0?1:0),L=y.low=L+Be,y.high=k+we+(L>>>0<Be>>>0?1:0),U=w.low=U+Ee,w.high=B+Fe+(U>>>0<Ee>>>0?1:0),ee=b.low=ee+Ge,b.high=X+Ae+(ee>>>0<Ge>>>0?1:0),W=E.low=W+Ve,E.high=ne+We+(W>>>0<Ve>>>0?1:0),z=C.low=z+qe,C.high=D+Xe+(z>>>0<qe>>>0?1:0),G=A.low=G+Rt,A.high=V+Et+(G>>>0<Rt>>>0?1:0)},_doFinalize:function(){var d=this._data,v=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;v[g>>>5]|=128<<24-g%32,v[(g+128>>>10<<5)+30]=Math.floor(m/4294967296),v[(g+128>>>10<<5)+31]=m,d.sigBytes=v.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(YS)),YS.exports}var qS={exports:{}},bD;function NAe(){return bD||(bD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),nb(),yH())})(At,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(qS)),qS.exports}var KS={exports:{}},wD;function LAe(){return wD||(wD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),nb())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var m=1,g=0,_=0;_<24;_++){f[m+5*g]=(_+1)*(_+2)/2%64;var y=g%5,w=(2*m+3*g)%5;m=y,g=w}for(var m=0;m<5;m++)for(var g=0;g<5;g++)h[m+5*g]=g+(2*m+3*g)%5*5;for(var b=1,E=0;E<24;E++){for(var C=0,A=0,T=0;T<7;T++){if(b&1){var R=(1<<T)-1;R<32?A^=1<<R:C^=1<<R-32}b&128?b=b<<1^113:b<<=1}p[E]=l.create(C,A)}})();var d=[];(function(){for(var m=0;m<25;m++)d[m]=l.create()})();var v=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],g=0;g<25;g++)m[g]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,g){for(var _=this._state,y=this.blockSize/2,w=0;w<y;w++){var b=m[g+2*w],E=m[g+2*w+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var C=_[w];C.high^=E,C.low^=b}for(var A=0;A<24;A++){for(var T=0;T<5;T++){for(var R=0,O=0,P=0;P<5;P++){var C=_[T+5*P];R^=C.high,O^=C.low}var k=d[T];k.high=R,k.low=O}for(var T=0;T<5;T++)for(var L=d[(T+4)%5],B=d[(T+1)%5],U=B.high,X=B.low,R=L.high^(U<<1|X>>>31),O=L.low^(X<<1|U>>>31),P=0;P<5;P++){var C=_[T+5*P];C.high^=R,C.low^=O}for(var ee=1;ee<25;ee++){var R,O,C=_[ee],ne=C.high,W=C.low,D=f[ee];D<32?(R=ne<<D|W>>>32-D,O=W<<D|ne>>>32-D):(R=W<<D-32|ne>>>64-D,O=ne<<D-32|W>>>64-D);var z=d[h[ee]];z.high=R,z.low=O}var V=d[0],G=_[0];V.high=G.high,V.low=G.low;for(var T=0;T<5;T++)for(var P=0;P<5;P++){var ee=T+5*P,C=_[ee],ie=d[ee],se=d[(T+1)%5+5*P],me=d[(T+2)%5+5*P];C.high=ie.high^~se.high&me.high,C.low=ie.low^~se.low&me.low}var C=_[0],ue=p[A];C.high^=ue.high,C.low^=ue.low}},_doFinalize:function(){var m=this._data,g=m.words;this._nDataBytes*8;var _=m.sigBytes*8,y=this.blockSize*32;g[_>>>5]|=1<<24-_%32,g[(n.ceil((_+1)/y)*y>>>5)-1]|=128,m.sigBytes=g.length*4,this._process();for(var w=this._state,b=this.cfg.outputLength/8,E=b/8,C=[],A=0;A<E;A++){var T=w[A],R=T.high,O=T.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(R)}return new o.init(C,b)},clone:function(){for(var m=s.clone.call(this),g=m._state=this._state.slice(0),_=0;_<25;_++)g[_]=g[_].clone();return m}});i.SHA3=s._createHelper(v),i.HmacSHA3=s._createHmacHelper(v)}(Math),r.SHA3})}(KS)),KS.exports}var ZS={exports:{}},ED;function MAe(){return ED||(ED=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,C){for(var A=0;A<16;A++){var T=C+A,R=E[T];E[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,P=p.words,k=d.words,L=l.words,B=u.words,U=f.words,X=h.words,ee,ne,W,D,z,V,G,ie,se,me;V=ee=O[0],G=ne=O[1],ie=W=O[2],se=D=O[3],me=z=O[4];for(var ue,A=0;A<80;A+=1)ue=ee+E[C+L[A]]|0,A<16?ue+=m(ne,W,D)+P[0]:A<32?ue+=g(ne,W,D)+P[1]:A<48?ue+=_(ne,W,D)+P[2]:A<64?ue+=y(ne,W,D)+P[3]:ue+=w(ne,W,D)+P[4],ue=ue|0,ue=b(ue,U[A]),ue=ue+z|0,ee=z,z=D,D=b(W,10),W=ne,ne=ue,ue=V+E[C+B[A]]|0,A<16?ue+=w(G,ie,se)+k[0]:A<32?ue+=y(G,ie,se)+k[1]:A<48?ue+=_(G,ie,se)+k[2]:A<64?ue+=g(G,ie,se)+k[3]:ue+=m(G,ie,se)+k[4],ue=ue|0,ue=b(ue,X[A]),ue=ue+me|0,V=me,me=se,se=b(ie,10),ie=G,G=ue;ue=O[1]+W+se|0,O[1]=O[2]+D+me|0,O[2]=O[3]+z+V|0,O[3]=O[4]+ee+G|0,O[4]=O[0]+ne+ie|0,O[0]=ue},_doFinalize:function(){var E=this._data,C=E.words,A=this._nDataBytes*8,T=E.sigBytes*8;C[T>>>5]|=128<<24-T%32,C[(T+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,E.sigBytes=(C.length+1)*4,this._process();for(var R=this._hash,O=R.words,P=0;P<5;P++){var k=O[P];O[P]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return R},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,C,A){return E^C^A}function g(E,C,A){return E&C|~E&A}function _(E,C,A){return(E|~C)^A}function y(E,C,A){return E&A|C&~A}function w(E,C,A){return E^(C|~A)}function b(E,C){return E<<C|E>>>32-C}i.RIPEMD160=s._createHelper(v),i.HmacRIPEMD160=s._createHmacHelper(v)}(),r.RIPEMD160})}(ZS)),ZS.exports}var JS={exports:{}},SD;function zO(){return SD||(SD=1,function(t,e){(function(r,n){t.exports=n(Cr())})(At,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),v=p.words,m=d.words,g=0;g<f;g++)v[g]^=1549556828,m[g]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(JS)),JS.exports}var QS={exports:{}},CD;function BAe(){return CD||(CD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),XO(),zO())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,d=l.create(p.hasher,f),v=o.create(),m=o.create([1]),g=v.words,_=m.words,y=p.keySize,w=p.iterations;g.length<y;){var b=d.update(h).finalize(m);d.reset();for(var E=b.words,C=E.length,A=b,T=1;T<w;T++){A=d.finalize(A),d.reset();for(var R=A.words,O=0;O<C;O++)E[O]^=R[O]}v.concat(b),_[0]++}return v.sigBytes=y*4,v}});n.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),r.PBKDF2})}(QS)),QS.exports}var e2={exports:{}},AD;function Gu(){return AD||(AD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),_H(),zO())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,d=p.hasher.create(),v=o.create(),m=v.words,g=p.keySize,_=p.iterations;m.length<g;){h&&d.update(h),h=d.update(u).finalize(f),d.reset();for(var y=1;y<_;y++)h=d.finalize(h),d.reset();v.concat(h)}return v.sigBytes=g*4,v}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(e2)),e2.exports}var t2={exports:{}},TD;function Pi(){return TD||(TD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Gu())})(At,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,p=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,P){this.cfg=this.cfg.extend(P),this._xformMode=R,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(O){return typeof O=="string"?T:E}return function(O){return{encrypt:function(P,k,L){return R(k).encrypt(O,P,k,L)},decrypt:function(P,k,L){return R(k).decrypt(O,P,k,L)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var d=i.mode={},v=a.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),m=d.CBC=function(){var R=v.extend();R.Encryptor=R.extend({processBlock:function(P,k){var L=this._cipher,B=L.blockSize;O.call(this,P,k,B),L.encryptBlock(P,k),this._prevBlock=P.slice(k,k+B)}}),R.Decryptor=R.extend({processBlock:function(P,k){var L=this._cipher,B=L.blockSize,U=P.slice(k,k+B);L.decryptBlock(P,k),O.call(this,P,k,B),this._prevBlock=U}});function O(P,k,L){var B,U=this._iv;U?(B=U,this._iv=n):B=this._prevBlock;for(var X=0;X<L;X++)P[k+X]^=B[X]}return R}(),g=i.pad={},_=g.Pkcs7={pad:function(R,O){for(var P=O*4,k=P-R.sigBytes%P,L=k<<24|k<<16|k<<8|k,B=[],U=0;U<k;U+=4)B.push(L);var X=s.create(B,k);R.concat(X)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:_}),reset:function(){var R;p.reset.call(this);var O=this.cfg,P=O.iv,k=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=k.createEncryptor:(R=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,P&&P.words):(this._mode=R.call(k,this,P&&P.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),w=i.format={},b=w.OpenSSL={stringify:function(R){var O,P=R.ciphertext,k=R.salt;return k?O=s.create([1398893684,1701076831]).concat(k).concat(P):O=P,O.toString(u)},parse:function(R){var O,P=u.parse(R),k=P.words;return k[0]==1398893684&&k[1]==1701076831&&(O=s.create(k.slice(2,4)),k.splice(0,4),P.sigBytes-=16),y.create({ciphertext:P,salt:O})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var L=R.createEncryptor(P,k),B=L.finalize(O),U=L.cfg;return y.create({ciphertext:B,key:P,iv:U.iv,algorithm:R,mode:U.mode,padding:U.padding,blockSize:R.blockSize,formatter:k.format})},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var L=R.createDecryptor(P,k).finalize(O.ciphertext);return L},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),C=i.kdf={},A=C.OpenSSL={execute:function(R,O,P,k,L){if(k||(k=s.random(64/8)),L)var B=h.create({keySize:O+P,hasher:L}).compute(R,k);else var B=h.create({keySize:O+P}).compute(R,k);var U=s.create(B.words.slice(O),P*4);return B.sigBytes=O*4,y.create({key:B,iv:U,salt:k})}},T=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:A}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var L=k.kdf.execute(P,R.keySize,R.ivSize,k.salt,k.hasher);k.iv=L.iv;var B=E.encrypt.call(this,R,O,L.key,k);return B.mixIn(L),B},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var L=k.kdf.execute(P,R.keySize,R.ivSize,O.salt,k.hasher);k.iv=L.iv;var B=E.decrypt.call(this,R,O,L.key,k);return B}})}()})}(t2)),t2.exports}var r2={exports:{}},ID;function DAe(){return ID||(ID=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(r2)),r2.exports}var n2={exports:{}},RD;function UAe(){return RD||(RD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(n2)),n2.exports}var i2={exports:{}},PD;function jAe(){return PD||(PD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[c+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(i2)),i2.exports}var a2={exports:{}},OD;function $Ae(){return OD||(OD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(a2)),a2.exports}var o2={exports:{}},kD;function GAe(){return kD||(kD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(o2)),o2.exports}var s2={exports:{}},FD;function VAe(){return FD||(FD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(s2)),s2.exports}var l2={exports:{}},ND;function HAe(){return ND||(ND=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(l2)),l2.exports}var u2={exports:{}},LD;function XAe(){return LD||(LD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(u2)),u2.exports}var c2={exports:{}},MD;function zAe(){return MD||(MD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(c2)),c2.exports}var f2={exports:{}},BD;function WAe(){return BD||(BD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(f2)),f2.exports}var h2={exports:{}},DD;function YAe(){return DD||(DD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),Pi())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(h2)),h2.exports}var d2={exports:{}},UD;function qAe(){return UD||(UD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],p=[],d=[],v=[],m=[];(function(){for(var y=[],w=0;w<256;w++)w<128?y[w]=w<<1:y[w]=w<<1^283;for(var b=0,E=0,w=0;w<256;w++){var C=E^E<<1^E<<2^E<<3^E<<4;C=C>>>8^C&255^99,s[b]=C,c[C]=b;var A=y[b],T=y[A],R=y[T],O=y[C]*257^C*16843008;l[b]=O<<24|O>>>8,u[b]=O<<16|O>>>16,f[b]=O<<8|O>>>24,h[b]=O;var O=R*16843009^T*65537^A*257^b*16843008;p[C]=O<<24|O>>>8,d[C]=O<<16|O>>>16,v[C]=O<<8|O>>>24,m[C]=O,b?(b=A^y[y[y[R^A]]],E^=y[y[E]]):b=E=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,b=w.words,E=w.sigBytes/4,C=this._nRounds=E+6,A=(C+1)*4,T=this._keySchedule=[],R=0;R<A;R++)R<E?T[R]=b[R]:(y=T[R-1],R%E?E>6&&R%E==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=g[R/E|0]<<24),T[R]=T[R-E]^y);for(var O=this._invKeySchedule=[],P=0;P<A;P++){var R=A-P;if(P%4)var y=T[R];else var y=T[R-4];P<4||R<=4?O[P]=y:O[P]=p[s[y>>>24]]^d[s[y>>>16&255]]^v[s[y>>>8&255]]^m[s[y&255]]}}},encryptBlock:function(y,w){this._doCryptBlock(y,w,this._keySchedule,l,u,f,h,s)},decryptBlock:function(y,w){var b=y[w+1];y[w+1]=y[w+3],y[w+3]=b,this._doCryptBlock(y,w,this._invKeySchedule,p,d,v,m,c);var b=y[w+1];y[w+1]=y[w+3],y[w+3]=b},_doCryptBlock:function(y,w,b,E,C,A,T,R){for(var O=this._nRounds,P=y[w]^b[0],k=y[w+1]^b[1],L=y[w+2]^b[2],B=y[w+3]^b[3],U=4,X=1;X<O;X++){var ee=E[P>>>24]^C[k>>>16&255]^A[L>>>8&255]^T[B&255]^b[U++],ne=E[k>>>24]^C[L>>>16&255]^A[B>>>8&255]^T[P&255]^b[U++],W=E[L>>>24]^C[B>>>16&255]^A[P>>>8&255]^T[k&255]^b[U++],D=E[B>>>24]^C[P>>>16&255]^A[k>>>8&255]^T[L&255]^b[U++];P=ee,k=ne,L=W,B=D}var ee=(R[P>>>24]<<24|R[k>>>16&255]<<16|R[L>>>8&255]<<8|R[B&255])^b[U++],ne=(R[k>>>24]<<24|R[L>>>16&255]<<16|R[B>>>8&255]<<8|R[P&255])^b[U++],W=(R[L>>>24]<<24|R[B>>>16&255]<<16|R[P>>>8&255]<<8|R[k&255])^b[U++],D=(R[B>>>24]<<24|R[P>>>16&255]<<16|R[k>>>8&255]<<8|R[L&255])^b[U++];y[w]=ee,y[w+1]=ne,y[w+2]=W,y[w+3]=D},keySize:256/32});n.AES=a._createHelper(_)}(),r.AES})}(d2)),d2.exports}var p2={exports:{}},jD;function KAe(){return jD||(jD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var g=this._key,_=g.words,y=[],w=0;w<56;w++){var b=c[w]-1;y[w]=_[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],C=0;C<16;C++){for(var A=E[C]=[],T=u[C],w=0;w<24;w++)A[w/6|0]|=y[(l[w]-1+T)%28]<<31-w%6,A[4+(w/6|0)]|=y[28+(l[w+24]-1+T)%28]<<31-w%6;A[0]=A[0]<<1|A[0]>>>31;for(var w=1;w<7;w++)A[w]=A[w]>>>(w-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var R=this._invSubKeys=[],w=0;w<16;w++)R[w]=E[15-w]},encryptBlock:function(g,_){this._doCryptBlock(g,_,this._subKeys)},decryptBlock:function(g,_){this._doCryptBlock(g,_,this._invSubKeys)},_doCryptBlock:function(g,_,y){this._lBlock=g[_],this._rBlock=g[_+1],d.call(this,4,252645135),d.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),d.call(this,1,1431655765);for(var w=0;w<16;w++){for(var b=y[w],E=this._lBlock,C=this._rBlock,A=0,T=0;T<8;T++)A|=f[T][((C^b[T])&h[T])>>>0];this._lBlock=C,this._rBlock=E^A}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,d.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),g[_]=this._lBlock,g[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(g,_){var y=(this._lBlock>>>g^this._rBlock)&_;this._rBlock^=y,this._lBlock^=y<<g}function v(g,_){var y=(this._rBlock>>>g^this._lBlock)&_;this._lBlock^=y,this._rBlock^=y<<g}n.DES=o._createHelper(p);var m=s.TripleDES=o.extend({_doReset:function(){var g=this._key,_=g.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=_.slice(0,2),w=_.length<4?_.slice(0,2):_.slice(2,4),b=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(w)),this._des3=p.createEncryptor(a.create(b))},encryptBlock:function(g,_){this._des1.encryptBlock(g,_),this._des2.decryptBlock(g,_),this._des3.encryptBlock(g,_)},decryptBlock:function(g,_){this._des3.decryptBlock(g,_),this._des2.encryptBlock(g,_),this._des1.decryptBlock(g,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(p2)),p2.exports}var v2={exports:{}},$D;function ZAe(){return $D||($D=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,v=0;d<256;d++){var m=d%h,g=f[m>>>2]>>>24-m%4*8&255;v=(v+p[d]+g)%256;var _=p[d];p[d]=p[v],p[v]=_}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,p=0,d=0;d<4;d++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,p|=u[(u[f]+u[h])%256]<<24-d*8}return this._i=f,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(v2)),v2.exports}var g2={exports:{}},GD;function JAe(){return GD||(GD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)f.call(this);for(var d=0;d<8;d++)m[d]^=v[d+4&7];if(p){var g=p.words,_=g[0],y=g[1],w=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=w>>>16|b&4294901760,C=b<<16|w&65535;m[0]^=w,m[1]^=E,m[2]^=b,m[3]^=C,m[4]^=w,m[5]^=E,m[6]^=b,m[7]^=C;for(var d=0;d<4;d++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[p+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var v=h[d]+p[d],m=v&65535,g=v>>>16,_=((m*m>>>17)+m*g>>>15)+g*g,y=((v&4294901760)*v|0)+((v&65535)*v|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(g2)),g2.exports}var m2={exports:{}},VD;function QAe(){return VD||(VD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)v[m]^=d[m+4&7];if(p){var g=p.words,_=g[0],y=g[1],w=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=w>>>16|b&4294901760,C=b<<16|w&65535;v[0]^=w,v[1]^=E,v[2]^=b,v[3]^=C,v[4]^=w,v[5]^=E,v[6]^=b,v[7]^=C;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[p+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var v=h[d]+p[d],m=v&65535,g=v>>>16,_=((m*m>>>17)+m*g>>>15)+g*g,y=((v&4294901760)*v|0)+((v&65535)*v|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(m2)),m2.exports}var _2={exports:{}},HD;function eTe(){return HD||(HD=1,function(t,e){(function(r,n,i){t.exports=n(Cr(),xf(),bf(),Gu(),Pi())})(At,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(m,g){let _=g>>24&255,y=g>>16&255,w=g>>8&255,b=g&255,E=m.sbox[0][_]+m.sbox[1][y];return E=E^m.sbox[2][w],E=E+m.sbox[3][b],E}function h(m,g,_){let y=g,w=_,b;for(let E=0;E<s;++E)y=y^m.pbox[E],w=f(m,y)^w,b=y,y=w,w=b;return b=y,y=w,w=b,w=w^m.pbox[s],y=y^m.pbox[s+1],{left:y,right:w}}function p(m,g,_){let y=g,w=_,b;for(let E=s+1;E>1;--E)y=y^m.pbox[E],w=f(m,y)^w,b=y,y=w,w=b;return b=y,y=w,w=b,w=w^m.pbox[1],y=y^m.pbox[0],{left:y,right:w}}function d(m,g,_){for(let C=0;C<4;C++){m.sbox[C]=[];for(let A=0;A<256;A++)m.sbox[C][A]=l[C][A]}let y=0;for(let C=0;C<s+2;C++)m.pbox[C]=c[C]^g[y],y++,y>=_&&(y=0);let w=0,b=0,E=0;for(let C=0;C<s+2;C+=2)E=h(m,w,b),w=E.left,b=E.right,m.pbox[C]=w,m.pbox[C+1]=b;for(let C=0;C<4;C++)for(let A=0;A<256;A+=2)E=h(m,w,b),w=E.left,b=E.right,m.sbox[C][A]=w,m.sbox[C][A+1]=b;return!0}var v=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,g=m.words,_=m.sigBytes/4;d(u,g,_)}},encryptBlock:function(m,g){var _=h(u,m[g],m[g+1]);m[g]=_.left,m[g+1]=_.right},decryptBlock:function(m,g){var _=p(u,m[g],m[g+1]);m[g]=_.left,m[g+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(v)}(),r.Blowfish})}(_2)),_2.exports}(function(t,e){(function(r,n,i){t.exports=n(Cr(),nb(),PAe(),OAe(),xf(),kAe(),bf(),_H(),XO(),FAe(),yH(),NAe(),LAe(),MAe(),zO(),BAe(),Gu(),Pi(),DAe(),UAe(),jAe(),$Ae(),GAe(),VAe(),HAe(),XAe(),zAe(),WAe(),YAe(),qAe(),KAe(),ZAe(),JAe(),QAe(),eTe())})(At,function(r){return r})})(gH);var tTe=gH.exports;const ey=Xi(tTe);function rTe(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return ey.lib.WordArray.create(r,e.length)}async function nTe(t,e,r,n){const i=ey.enc.Hex.parse(e),a=ey.enc.Hex.parse(r),o=rTe(t),s=ey.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class iTe{constructor(){ct(this,"videosByKey");ct(this,"currentPlayingVideo","");ct(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let p=!1;for(let g=0;g<f;g++){if(String.fromCharCode(h[g])!==u[g]){p=!1;break}p=!0}let d;if(p){const g=l.slice(f);d=await nTe(g,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const v=TAe.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});v.attachMediaElement(a),v.load();const m={...this.videosByKey[e],player:v};this.videosByKey[e]=m,a.onloadeddata=()=>{const g=Object.keys(m.waitCommands);if(m){const _=document.createElement("canvas"),y=_.getContext("2d");_.width=480,_.height=270,y.drawImage(a,0,0,480,270);const w=_.toDataURL("image/webp",.5);_.remove(),m.poster=w}g.length&&g.forEach(_=>{if(!m){console.log("",e);return}this[_](e,m.waitCommands[_])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class aTe{constructor(){ct(this,"sceneManager",new bAe);ct(this,"backlogManager",new b0e(this.sceneManager));ct(this,"animationManager",new wAe);ct(this,"gameplay",new EAe);ct(this,"gameName","");ct(this,"gameKey","");ct(this,"gameId",0);ct(this,"events",new CAe);ct(this,"videoManager",new iTe)}}const Y=new aTe,Mi=xH(()=>{const t=fe.getState().userData;rf.setItem(Y.gameKey,t).then(()=>{Je.info("")})},100),rx=xH(()=>{rf.getItem(Y.gameKey).then(t=>{if(t&&t.token&&delete t.token,!t||!wH(t)){Je.warn(""),Mi();return}fe.dispatch(WP(t))})},100);function xH(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const bH=()=>{const t=fe.getState().userData;rf.setItem(Y.gameKey,t).then(()=>{rf.getItem(Y.gameKey).then(e=>{if(e&&e.token&&delete e.token,!e){Mi();return}fe.dispatch(WP(e))}),Je.info("")})};function wH(t){let e=!0;for(const r in NA)t.hasOwnProperty(r)||(e=!1);return e}async function oTe(){const t=await rf.getItem(Y.gameKey);if(!t||!wH(t)){const e=fe.getState().userData;return Je.warn(""),await rf.setItem(Y.gameKey,e)}else fe.dispatch(WP(t))}var Va=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t.Game_progression_button="Game_progression_button",t.Game_affinity_button="Game_affinity_button",t))(Va||{}),WO=(t=>(t.Load_back_button="Load_back_button",t))(WO||{}),YO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(YO||{}),qO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(qO||{}),KO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(KO||{}),ZO=(t=>(t.Progress_back_button="Progress_back_button",t.Progress_chapter_button="Progress_chapter_button",t.Progress_achievement_button="Progress_achievement_button",t.Progress_affinity_button="Progress_affinity_button",t))(ZO||{}),JO=(t=>(t.Affinity_back_button="Affinity_back_button",t))(JO||{}),ib=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(ib||{}),ys=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t))(ys||{}),QO=(t=>(t.Option_back_button="Option_back_button",t))(QO||{}),ek=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(ek||{}),dv=(t=>(t.Progress_title="Progress_title",t.Progress_bg="Progress_bg",t.Progress_content_container="Progress_content_container",t))(dv||{}),pv=(t=>(t.Affinity_title="Affinity_title",t.Affinity_bg="Affinity_bg",t.Affinity_item_container="Affinity_item_container",t.Affinity_locked_item="Affinity_locked_item",t.Affinity_unlocked_item="Affinity_unlocked_item",t))(pv||{}),tk=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(tk||{}),rk=(t=>(t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(rk||{}),nk=(t=>(t.Storyline_title="Storyline_title",t))(nk||{}),ik=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(ik||{}),vv=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(vv||{}),ci=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t.progressAndAchievement="progressAndAchievement",t.affinity="affinity",t))(ci||{});const y2={title:{buttons:Va,other:vv},load:{buttons:WO,other:ik},storyline:{buttons:YO,other:nk},achievement:{buttons:qO,other:rk},extra:{buttons:KO,other:ib},option:{buttons:QO,other:tk},collection:{buttons:ek,other:ys},progressAndAchievement:{buttons:ZO,other:dv},affinity:{buttons:JO,other:pv}},it=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},sTe={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:it()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:it(["hoverStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:it(["hoverStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:it(["hoverStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:it(["hoverStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:it(["hoverStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:it(["hoverStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:it(["hoverStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:it(["hoverStyle"])},Game_progression_button:{key:"Game_progression_button",content:"",args:it(["hoverStyle"])},Game_affinity_button:{key:"Game_affinity_button",content:"",args:it(["hoverStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:it()},Load_title:{key:"Load_title",content:"",args:it(["hoverStyle"])},Load_item:{key:"Load_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:it(["hoverStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:it(["hoverStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:it(["hoverStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:it(["hoverStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:it(["hoverStyle"])},Achievement_progress_bg:{key:"Achievement_progress_bg",content:"",args:it(["hoverStyle"])},Achievement_progress_text:{key:"Achievement_progress_text",content:"",args:it(["hoverStyle"])},Achievement_progress:{key:"Achievement_progress",content:"",args:it(["hoverStyle"])},Achievement_notUnlock:{key:"Achievement_notUnlock",content:"",args:it(["hoverStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:it(["hoverStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:it(["hoverStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:it()},Extra_indicator:{key:"Extra_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:it()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:it()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:it(["hoverStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:it(["hoverStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:it(["hoverStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:it()},Option_title:{key:"Option_title",content:"",args:it(["hoverStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:it(["hoverStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:it(["hoverStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:it(["hoverStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:it(["hoverStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:it(["hoverStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:it(["hoverStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:it()},Collection_img1:{key:"Collection_img1",content:"",args:it()},Collection_img2:{key:"Collection_img2",content:"",args:it()},Collection_img3:{key:"Collection_img3",content:"",args:it()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:it(["hoverStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:it()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:it()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:it()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:it(["hoverStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:it(["hoverStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:it(["hoverStyle"])}}},progressAndAchievement:{key:"progressAndAchievement",other:{Progress_title:{key:"Progress_title",content:"",args:it(["hoverStyle"])},Progress_bg:{key:"Progress_bg",content:"",args:it()},Progress_content_container:{key:"Progress_content_container",content:"",args:it()}},buttons:{Progress_back_button:{key:"Progress_back_button",content:"",args:it(["hoverStyle"])},Progress_achievement_button:{key:"Progress_achievement_button",content:"",args:it(["hoverStyle"])},Progress_chapter_button:{key:"Progress_chapter_button",content:"",args:it(["hoverStyle"])},Progress_affinity_button:{key:"Progress_affinity_button",content:"",args:it(["hoverStyle"])}}},affinity:{key:"affinity",other:{Affinity_title:{key:"Affinity_title",content:"",args:it(["hoverStyle"])},Affinity_item_container:{key:"Affinity_item_container",content:"",args:it()},Affinity_bg:{key:"Affinity_bg",content:"",args:it()},Affinity_locked_item:{key:"Affinity_locked_item",content:"",args:it(["hoverStyle"])},Affinity_unlocked_item:{key:"Affinity_unlocked_item",content:"",args:it(["contentStyle","extraStyle","contentHoverStyle","extraHoverStyle"])}},buttons:{Affinity_back_button:{key:"Affinity_back_button",content:"",args:it(["hoverStyle"])}}}},lTe={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Progress_bg:1,Affinity_bg:1};var Ur=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(Ur||{}),_c=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(_c||{}),yc=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(yc||{});const Kf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},Hm={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnPosition:"",align:"",fontFamily:""}}},nx={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:Ur.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,isShowGameMenu:!1,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:sTe,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,showProgressAndAchievement:!1,showAffinity:!1,escMenus:{Esc_continueGame_button:Hm,Esc_backToLevel_button:Hm,Esc_setting_button:Hm,Esc_exitGame_button:Hm},achievementUI:{Achievement_progress_bg:Kf,Achievement_progress_text:Kf,Achievement_progress:Kf,Achievement_notUnlock:Kf,Achievement_back_button:Kf,Achievement_title:Kf}},EH=eg({name:"gui",initialState:nx,reducers:{setVisibility:(t,e)=>{rx();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{rx(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload}}}),{setVisibility:bt,setMenuPanelTag:zc,setGuiAsset:nT,setLogoImage:uTe,setShowStoryLine:iT,setshowFavorited:aT,setGameUIConfigs:cTe,setGameR18:SH,setEscMenus:fTe,setAchievementUI:hTe}=EH.actions,dTe=EH.reducer,fe=Rie({reducer:{stage:fde,GUI:dTe,userData:y0e,saveData:OCe,storeData:HSe},middleware:U$({serializableCheck:!1})});let XD;function ak(t,e=0,r=100){if(Je.info("playing bgm"+t),t===""){XD=setTimeout(()=>{fe.dispatch(Ot({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=fe.getState().stage.bgm.src;fe.dispatch(Ot({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(XD),fe.dispatch(Ot({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function vg(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const ok=()=>{Je.warn("");for(let t=0;t<Y.gameplay.performController.performList.length;t++){const e=Y.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),Y.gameplay.performController.performList.splice(t,1),t--}},sk=()=>{fe.getState().stage.PerformList.forEach(e=>{d1(e.script)})},pTe=t=>{const e=fe.dispatch,r=Y.backlogManager.getBacklog()[t];Je.debug("backlog",r),Na(r.saveScene.sceneUrl).then(async i=>{if(await Y.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(Y.sceneManager.sceneData.currentScene.sceneUrl);const s=ag(o);Gd(s)}}),Y.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,Y.sceneManager.sceneData.sceneStack=vn(r.saveScene.sceneStack),ok();for(let i=Y.backlogManager.getBacklog().length-1;i>t;i--)Y.backlogManager.getBacklog().pop();Y.backlogManager.isSaveBacklogNext=!0;const n=vn(r.currentStageState);e(Jx(n)),setTimeout(sk,0),e(bt({component:"showBacklog",visibility:!1})),e(bt({component:"showTextBox",visibility:!0}))},vTe=(t,e=!1)=>{const n=fe.getState().saveData.saveData[t];Je.debug("",n),lk(n,e)};async function lk(t,e=!1){if(!t){Je.info("");return}const r=t;try{const o=await Na(r.sceneData.sceneUrl);if(!await Y.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(Y.sceneManager.sceneData.currentScene.sceneUrl);const l=ag(c);Gd(l)}catch(o){Je.error("",o);return}Y.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,Y.sceneManager.sceneData.sceneStack=vn(r.sceneData.sceneStack),ok();const n=r.backlog;Y.backlogManager.getBacklog().splice(0,Y.backlogManager.getBacklog().length);for(const o of n)Y.backlogManager.getBacklog().push(o);const i=vn(r.nowStageState),a=fe.dispatch;a(Jx(i)),e?(a(Pr.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{d1(o.script)})):setTimeout(sk,0),a(bt({component:"showTitle",visibility:!1})),a(bt({component:"showMenuPanel",visibility:!1})),a(bt({component:"showExtra",visibility:!1})),vg(fe.getState().stage.bgName)}function gTe(){`${Y.gameName}${Y.gameKey}`,`${Y.gameName}${Y.gameKey}`}async function mTe(){const t=await fH(-1,!1),e=vn(t);fe.dispatch(Pr.setFastSave(e)),await FCe()}async function _Te(){return await oTe(),fe.getState().saveData.quickSaveData!==null}async function yTe(){await lH();const t=fe.getState().saveData.quickSaveData;t&&lk(t)}const xTe=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},bTe=()=>{const t=fe.getState().storeData.gameInfo,e=()=>{HO(!0,!0,!1);const r=Wt("start.txt",zt.scene);Na(r).then(n=>{Y.sceneManager.setCurrentScene(n,"start.txt",r,!0).then(i=>{i&&Wn()})}),fe.dispatch(Pr.setIsShowUnlock(!0)),fe.dispatch(Pr.setShowStoryline(!0)),fe.dispatch(bt({component:"showTitle",visibility:!1})),xTe(fe.getState().userData.optionData.uiLight)};if(fe.getState().storeData.isEditorPreviewMode){e();return}if(!t){Jo({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}});return}if(t.isFree===1&&t.tryPlay===1&&!t.canPlay){const r=()=>{Jo({type:"pay",title:"",content:""+t.salesAmount,suffixContent:"",rightText:"",rightFunc:()=>{window.pubsub.publish("showBuyGameModal",{buyGameCallback:r,startGameCallback:e})}})};r();return}e()};async function wTe(){if(vg(fe.getState().stage.bgName),await _Te()&&Y.sceneManager.sceneData.currentSentenceId===0){await yTe();return}Y.sceneManager.sceneData.currentSentenceId===0&&Y.sceneManager.sceneData.currentScene.sceneName==="start.txt"?Wn():sk()}const oT=async()=>{const t=Wt(bo.Storyline,zt.scene);Y.sceneManager.resetScene();const e=await Na(t);fe.dispatch(iT(!0)),fe.dispatch(bt({component:"showTitle",visibility:!1})),await Y.sceneManager.setCurrentScene(e,bo.Storyline,t),Wn(),fe.dispatch(bt({component:"showMenuPanel",visibility:!1})),fe.dispatch(bt({component:"showTextBox",visibility:!1}))},ETe=async()=>{const t=Wt(bo.Affinity,zt.scene);Y.sceneManager.resetScene();const e=await Na(t);fe.dispatch(bt({component:"showAffinity",visibility:!0})),fe.dispatch(bt({component:"showTitle",visibility:!1})),await Y.sceneManager.setCurrentScene(e,bo.Affinity,t),Wn(),fe.dispatch(bt({component:"showMenuPanel",visibility:!1})),fe.dispatch(bt({component:"showTextBox",visibility:!1}))},STe=()=>{fe.dispatch(bt({component:"showBeautyGuide",visibility:!0}))};function CTe(t){return rb.parseScssToWebgalStyleObj(t)}function Nu(t){const[e,r]=ve.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function ATe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function TTe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ITe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TTe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ATe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Zi="-ms-",ix="-moz-",Fr="-webkit-",CH="comm",uk="rule",ck="decl",RTe="@import",AH="@keyframes",PTe="@layer",OTe=Math.abs,ab=String.fromCharCode,kTe=Object.assign;function FTe(t,e){return Bi(t,0)^45?(((e<<2^Bi(t,0))<<2^Bi(t,1))<<2^Bi(t,2))<<2^Bi(t,3):0}function TH(t){return t.trim()}function NTe(t,e){return(t=e.exec(t))?t[0]:t}function Nr(t,e,r){return t.replace(e,r)}function sT(t,e){return t.indexOf(e)}function Bi(t,e){return t.charCodeAt(e)|0}function gv(t,e,r){return t.slice(e,r)}function gs(t){return t.length}function fk(t){return t.length}function Xm(t,e){return e.push(t),t}function LTe(t,e){return t.map(e).join("")}var ob=1,fd=1,IH=0,Oa=0,ri=0,Yd="";function sb(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:ob,column:fd,length:o,return:""}}function G0(t,e){return kTe(sb("",null,null,"",null,null,0),t,{length:-t.length},e)}function MTe(){return ri}function BTe(){return ri=Oa>0?Bi(Yd,--Oa):0,fd--,ri===10&&(fd=1,ob--),ri}function qa(){return ri=Oa<IH?Bi(Yd,Oa++):0,fd++,ri===10&&(fd=1,ob++),ri}function Is(){return Bi(Yd,Oa)}function ty(){return Oa}function gg(t,e){return gv(Yd,t,e)}function mv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RH(t){return ob=fd=1,IH=gs(Yd=t),Oa=0,[]}function PH(t){return Yd="",t}function ry(t){return TH(gg(Oa-1,lT(t===91?t+2:t===40?t+1:t)))}function DTe(t){for(;(ri=Is())&&ri<33;)qa();return mv(t)>2||mv(ri)>3?"":" "}function UTe(t,e){for(;--e&&qa()&&!(ri<48||ri>102||ri>57&&ri<65||ri>70&&ri<97););return gg(t,ty()+(e<6&&Is()==32&&qa()==32))}function lT(t){for(;qa();)switch(ri){case t:return Oa;case 34:case 39:t!==34&&t!==39&&lT(ri);break;case 40:t===41&&lT(t);break;case 92:qa();break}return Oa}function jTe(t,e){for(;qa()&&t+ri!==47+10;)if(t+ri===42+42&&Is()===47)break;return"/*"+gg(e,Oa-1)+"*"+ab(t===47?t:qa())}function $Te(t){for(;!mv(Is());)qa();return gg(t,Oa)}function GTe(t){return PH(ny("",null,null,null,[""],t=RH(t),0,[0],t))}function ny(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,p=0,d=0,v=1,m=1,g=1,_=0,y="",w=i,b=a,E=n,C=y;m;)switch(d=_,_=qa()){case 40:if(d!=108&&Bi(C,f-1)==58){sT(C+=Nr(ry(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=ry(_);break;case 9:case 10:case 13:case 32:C+=DTe(d);break;case 92:C+=UTe(ty()-1,7);continue;case 47:switch(Is()){case 42:case 47:Xm(VTe(jTe(qa(),ty()),e,r),c);break;default:C+="/"}break;case 123*v:s[l++]=gs(C)*g;case 125*v:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+u:g==-1&&(C=Nr(C,/\f/g,"")),p>0&&gs(C)-f&&Xm(p>32?WD(C+";",n,r,f-1):WD(Nr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(Xm(E=zD(C,e,r,l,u,i,s,y,w=[],b=[],f),a),_===123)if(u===0)ny(C,e,E,E,w,a,f,s,b);else switch(h===99&&Bi(C,3)===110?100:h){case 100:case 108:case 109:case 115:ny(t,E,E,n&&Xm(zD(t,E,E,0,0,i,s,y,i,w=[],f),b),i,b,f,s,n?w:b);break;default:ny(C,E,E,E,[""],b,0,s,b)}}l=u=p=0,v=g=1,y=C="",f=o;break;case 58:f=1+gs(C),p=d;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&BTe()==125)continue}switch(C+=ab(_),_*v){case 38:g=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(gs(C)-1)*g,g=1;break;case 64:Is()===45&&(C+=ry(qa())),h=Is(),u=f=gs(y=C+=$Te(ty())),_++;break;case 45:d===45&&gs(C)==2&&(v=0)}}return a}function zD(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],p=fk(h),d=0,v=0,m=0;d<n;++d)for(var g=0,_=gv(t,f+1,f=OTe(v=o[d])),y=t;g<p;++g)(y=TH(v>0?h[g]+" "+_:Nr(_,/&\f/g,h[g])))&&(c[m++]=y);return sb(t,e,r,i===0?uk:s,c,l,u)}function VTe(t,e,r){return sb(t,e,r,CH,ab(MTe()),gv(t,2,-2),0)}function WD(t,e,r,n){return sb(t,e,r,ck,gv(t,0,n),gv(t,n+1,-1),n)}function qh(t,e){for(var r="",n=fk(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function HTe(t,e,r,n){switch(t.type){case PTe:if(t.children.length)break;case RTe:case ck:return t.return=t.return||t.value;case CH:return"";case AH:return t.return=t.value+"{"+qh(t.children,n)+"}";case uk:t.value=t.props.join(",")}return gs(r=qh(t.children,n))?t.return=t.value+"{"+r+"}":""}function XTe(t){var e=fk(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function zTe(t){return function(e){e.root||(e=e.return)&&t(e)}}function WTe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var YTe=function(e,r,n){for(var i=0,a=0;i=a,a=Is(),i===38&&a===12&&(r[n]=1),!mv(a);)qa();return gg(e,Oa)},qTe=function(e,r){var n=-1,i=44;do switch(mv(i)){case 0:i===38&&Is()===12&&(r[n]=1),e[n]+=YTe(Oa-1,r,n);break;case 2:e[n]+=ry(i);break;case 4:if(i===44){e[++n]=Is()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=ab(i)}while(i=qa());return e},KTe=function(e,r){return PH(qTe(RH(e),r))},YD=new WeakMap,ZTe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!YD.get(n))&&!i){YD.set(e,!0);for(var a=[],o=KTe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},JTe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function OH(t,e){switch(FTe(t,e)){case 5103:return Fr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fr+t+ix+t+Zi+t+t;case 6828:case 4268:return Fr+t+Zi+t+t;case 6165:return Fr+t+Zi+"flex-"+t+t;case 5187:return Fr+t+Nr(t,/(\w+).+(:[^]+)/,Fr+"box-$1$2"+Zi+"flex-$1$2")+t;case 5443:return Fr+t+Zi+"flex-item-"+Nr(t,/flex-|-self/,"")+t;case 4675:return Fr+t+Zi+"flex-line-pack"+Nr(t,/align-content|flex-|-self/,"")+t;case 5548:return Fr+t+Zi+Nr(t,"shrink","negative")+t;case 5292:return Fr+t+Zi+Nr(t,"basis","preferred-size")+t;case 6060:return Fr+"box-"+Nr(t,"-grow","")+Fr+t+Zi+Nr(t,"grow","positive")+t;case 4554:return Fr+Nr(t,/([^-])(transform)/g,"$1"+Fr+"$2")+t;case 6187:return Nr(Nr(Nr(t,/(zoom-|grab)/,Fr+"$1"),/(image-set)/,Fr+"$1"),t,"")+t;case 5495:case 3959:return Nr(t,/(image-set\([^]*)/,Fr+"$1$`$1");case 4968:return Nr(Nr(t,/(.+:)(flex-)?(.*)/,Fr+"box-pack:$3"+Zi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fr+t+t;case 4095:case 3583:case 4068:case 2532:return Nr(t,/(.+)-inline(.+)/,Fr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gs(t)-1-e>6)switch(Bi(t,e+1)){case 109:if(Bi(t,e+4)!==45)break;case 102:return Nr(t,/(.+:)(.+)-([^]+)/,"$1"+Fr+"$2-$3$1"+ix+(Bi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sT(t,"stretch")?OH(Nr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bi(t,e+1)!==115)break;case 6444:switch(Bi(t,gs(t)-3-(~sT(t,"!important")&&10))){case 107:return Nr(t,":",":"+Fr)+t;case 101:return Nr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fr+(Bi(t,14)===45?"inline-":"")+"box$3$1"+Fr+"$2$3$1"+Zi+"$2box$3")+t}break;case 5936:switch(Bi(t,e+11)){case 114:return Fr+t+Zi+Nr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fr+t+Zi+Nr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fr+t+Zi+Nr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fr+t+Zi+t+t}return t}var QTe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case ck:e.return=OH(e.value,e.length);break;case AH:return qh([G0(e,{value:Nr(e.value,"@","@"+Fr)})],i);case uk:if(e.length)return LTe(e.props,function(a){switch(NTe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qh([G0(e,{props:[Nr(a,/:(read-\w+)/,":"+ix+"$1")]})],i);case"::placeholder":return qh([G0(e,{props:[Nr(a,/:(plac\w+)/,":"+Fr+"input-$1")]}),G0(e,{props:[Nr(a,/:(plac\w+)/,":"+ix+"$1")]}),G0(e,{props:[Nr(a,/:(plac\w+)/,Zi+"input-$1")]})],i)}return""})}},eIe=[QTe],tIe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var m=v.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||eIe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var m=v.getAttribute("data-emotion").split(" "),g=1;g<m.length;g++)a[m[g]]=!0;s.push(v)});var c,l=[ZTe,JTe];{var u,f=[HTe,zTe(function(v){u.insert(v)})],h=XTe(l.concat(i,f)),p=function(m){return qh(GTe(m),h)};c=function(m,g,_,y){u=_,p(m?m+"{"+g.styles+"}":g.styles),y&&(d.inserted[g.name]=!0)}}var d={key:r,sheet:new ITe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return d.sheet.hydrate(s),d};function rIe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iIe=/[A-Z]|^ms/g,aIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kH=function(e){return e.charCodeAt(1)===45},qD=function(e){return e!=null&&typeof e!="boolean"},x2=WTe(function(t){return kH(t)?t:t.replace(iIe,"-$&").toLowerCase()}),KD=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(aIe,function(n,i,a){return ms={name:i,styles:a,next:ms},i})}return nIe[e]!==1&&!kH(e)&&typeof r=="number"&&r!==0?r+"px":r};function _v(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ms={name:r.name,styles:r.styles,next:ms},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ms={name:n.name,styles:n.styles,next:ms},n=n.next;var i=r.styles+";";return i}return oIe(t,e,r)}case"function":{if(t!==void 0){var a=ms,o=r(t);return ms=a,_v(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function oIe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=_v(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":qD(o)&&(n+=x2(a)+":"+KD(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)qD(o[s])&&(n+=x2(a)+":"+KD(a,o[s])+";");else{var c=_v(t,e,o);switch(a){case"animation":case"animationName":{n+=x2(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var ZD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ms,b2=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ms=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=_v(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=_v(n,r,e[s]),i&&(a+=o[s]);ZD.lastIndex=0;for(var c="",l;(l=ZD.exec(a))!==null;)c+="-"+l[1];var u=rIe(a)+c;return{name:u,styles:a,next:ms}},sIe=!0;function FH(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var lIe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||sIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},uIe=function(e,r,n){lIe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function JD(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function QD(t,e,r){var n=[],i=FH(t,n,r);return n.length<2?r:i+e(n)}var cIe=function(e){var r=tIe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=b2(l,r.registered,void 0);return uIe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=b2(l,r.registered),h="animation-"+f.name;return JD(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=b2(l,r.registered);JD(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return QD(r.registered,n,fIe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:FH.bind(null,r.registered),merge:QD.bind(null,r.registered,n)}},fIe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},NH=cIe({key:"css"}),hIe=NH.injectGlobal,dIe=NH.css;function LH(t){const e=Nu({classNameStyles:{},others:""}),r=vt(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=dIe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{Je.debug(" Scss ",t);const o=(await sd.get(`game/template/${t}`)).data;e.set(CTe(o))};return ve.useEffect(()=>{i()},[]),ve.useEffect(()=>{hIe(e.value.others)},[e.value.others]),pIe(i),n}function pIe(t){const e=()=>{t()};ve.useEffect(()=>(Y.events.styleUpdate.on(e),()=>Y.events.styleUpdate.off(e)),[])}function qd(t){const e=vt(t),r=ve.useRef(e);return ve.useEffect(()=>{r.current=e},[e]),r}function Kd(t){ve.useEffect(()=>{t()},[])}function Zd(t){ve.useEffect(()=>function(){t()},[])}function vIe(t){ve.useEffect(()=>{t()})}const gIe="_main_1qr2u_1",mIe="_singleButton_1qr2u_12",_Ie="_singleButton_fast_1qr2u_19",yIe="_singleButton_auto_1qr2u_23",xIe="_singleButton_auto_active_1qr2u_27",bIe="_singleButton_fast_active_1qr2u_31",wIe="_autoIcon_1qr2u_35",EIe="_fastIcon_1qr2u_48",SIe="_historyIcon_1qr2u_61",CIe="_fastSlPreview_1qr2u_74",AIe="_fastSlEnter_1qr2u_1",TIe="_fastsave_1qr2u_88",IIe="_fastSPreview_1qr2u_88",RIe="_fastload_1qr2u_92",PIe="_fastLPreview_1qr2u_92",OIe="_slPreviewMain_1qr2u_104",kIe="_imgContainer_1qr2u_112",FIe="_textContainer_1qr2u_120",xi={main:gIe,singleButton:mIe,singleButton_fast:_Ie,singleButton_auto:yIe,singleButton_auto_active:xIe,singleButton_fast_active:bIe,autoIcon:wIe,fastIcon:EIe,historyIcon:SIe,fastSlPreview:CIe,fastSlEnter:AIe,fastsave:TIe,fastSPreview:IIe,fastload:RIe,fastLPreview:PIe,slPreviewMain:OIe,imgContainer:kIe,textContainer:FIe},MH=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=xi.singleButton+" "+xi.singleButton_auto;t?e.className=r+" "+xi.singleButton_auto_active:e.className=r}},lb=()=>{Y.gameplay.isAuto=!1,MH(!1),Y.gameplay.autoInterval!==null&&(clearInterval(Y.gameplay.autoInterval),Y.gameplay.autoInterval=null),Y.gameplay.autoTimeout!==null&&(clearTimeout(Y.gameplay.autoTimeout),Y.gameplay.autoTimeout=null)},BH=()=>{Y.gameplay.isAuto?lb():(Y.gameplay.isAuto=!0,MH(!0),Y.gameplay.autoInterval=setInterval(LIe,100))},NIe=()=>{Wn(),Y.gameplay.autoTimeout=null},LIe=()=>{const e=750-250*fe.getState().userData.optionData.autoSpeed;let r=!1;Y.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&Y.gameplay.autoTimeout===null&&(Y.gameplay.autoTimeout=setTimeout(NIe,e))},DH=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=xi.singleButton+" "+xi.singleButton_fast;e&&(t?e.className=r+" "+xi.singleButton_fast_active:e.className=r)},Kh=()=>{jH()&&(Y.gameplay.isFast=!1,DH(!1),Y.gameplay.fastInterval!==null&&(clearInterval(Y.gameplay.fastInterval),Y.gameplay.fastInterval=null))},UH=()=>{jH()||(Y.gameplay.isFast=!0,DH(!0),Y.gameplay.fastInterval=setInterval(()=>{console.log(""),Wn()},kG.fast_timeout))},jH=function(){return Y.gameplay.isFast},hk=()=>{Kh(),lb()},$H=()=>{Y.gameplay.isFast?Kh():UH()},MIe="_Backlog_main_1bt22_2",BIe="_backlog_soft_in_1bt22_1",DIe="_Backlog_main_out_1bt22_17",UIe="_backlog_soft_out_1bt22_1",jIe="_Backlog_main_out_IndexHide_1bt22_30",$Ie="_Backlog_main_DisableScroll_1bt22_34",GIe="_backlog_top_icon_1bt22_38",VIe="_backlog_title_1bt22_62",HIe="_backlog_content_1bt22_74",XIe="_backlog_item_1bt22_100",zIe="_backlog_item_in_1bt22_1",WIe="_backlog_item_button_element_1bt22_112",YIe="_backlog_item_out_1bt22_142",qIe="_backlog_func_area_1bt22_151",KIe="_backlog_item_content_name_1bt22_157",ZIe="_backlog_item_content_1bt22_157",JIe="_backlog_content_container_1bt22_177",QIe="_sound_icon_1bt22_194",eRe="_backlog_item_content_text_1bt22_207",tRe="_backlog_icon_softin_1bt22_1",Ji={Backlog_main:MIe,backlog_soft_in:BIe,Backlog_main_out:DIe,backlog_soft_out:UIe,Backlog_main_out_IndexHide:jIe,Backlog_main_DisableScroll:$Ie,backlog_top_icon:GIe,backlog_title:VIe,backlog_content:HIe,backlog_item:XIe,backlog_item_in:zIe,backlog_item_button_element:WIe,backlog_item_out:YIe,backlog_func_area:qIe,backlog_item_content_name:KIe,backlog_item_content:ZIe,backlog_content_container:JIe,sound_icon:QIe,backlog_item_content_text:eRe,backlog_icon_softin:tRe};var rRe=es,nRe=function(){return rRe.Date.now()},iRe=nRe,aRe=/\s/;function oRe(t){for(var e=t.length;e--&&aRe.test(t.charAt(e)););return e}var sRe=oRe,lRe=sRe,uRe=/^\s+/;function cRe(t){return t&&t.slice(0,lRe(t)+1).replace(uRe,"")}var fRe=cRe,hRe=fRe,e8=Bs,dRe=_1,t8=0/0,pRe=/^[-+]0x[0-9a-f]+$/i,vRe=/^0b[01]+$/i,gRe=/^0o[0-7]+$/i,mRe=parseInt;function _Re(t){if(typeof t=="number")return t;if(dRe(t))return t8;if(e8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=e8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hRe(t);var r=vRe.test(t);return r||gRe.test(t)?mRe(t.slice(2),r?2:8):pRe.test(t)?t8:+t}var yRe=_Re,xRe=Bs,w2=iRe,r8=yRe,bRe="Expected a function",wRe=Math.max,ERe=Math.min;function SRe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(bRe);e=r8(e)||0,xRe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?wRe(r8(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var C=n,A=i;return n=i=void 0,l=E,o=t.apply(A,C),o}function d(E){return l=E,s=setTimeout(g,e),u?p(E):o}function v(E){var C=E-c,A=E-l,T=e-C;return f?ERe(T,a-A):T}function m(E){var C=E-c,A=E-l;return c===void 0||C>=e||C<0||f&&A>=a}function g(){var E=w2();if(m(E))return _(E);s=setTimeout(g,v(E))}function _(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function w(){return s===void 0?o:_(w2())}function b(){var E=w2(),C=m(E);if(n=arguments,i=this,c=E,C){if(s===void 0)return d(c);if(f)return clearTimeout(s),s=setTimeout(g,e),p(c)}return s===void 0&&(s=setTimeout(g,e)),o}return b.cancel=y,b.flush=w,b}var CRe=SRe,ARe=CRe,TRe=Bs,IRe="Expected a function";function RRe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(IRe);return TRe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ARe(t,e,{leading:n,maxWait:e,trailing:i})}var PRe=RRe;const ORe=Xi(PRe),Ah="keyboard"in navigator&&navigator.keyboard;function kRe(t){FRe(),LRe(),BRe(),MRe(),DRe(),VRe(),XRe()}function FRe(){const t=qd(c=>c.GUI),e=cb(),r=ub(t),n=GH(t),i=URe(t),a=$Re(t),o=jRe(t),s=ve.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);Kd(()=>{document.addEventListener("contextmenu",s)}),Zd(()=>{document.removeEventListener("contextmenu",s)})}let NRe=setTimeout(()=>{},0);function LRe(){const t=qd(s=>s.GUI),e=cb(),r=ub(t),n=GH(t),i=VH(t),a=ve.useCallback(ORe(()=>{Wn()},100),[]),o=ve.useRef(0);ve.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${Ji.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=HRe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(NRe),Y.gameplay.isFast=!0,setTimeout(()=>{Y.gameplay.isFast=!1},150),a())},[]),Kd(()=>{}),Zd(()=>{})}function MRe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=qd(s=>s.GUI),n=ve.useCallback(()=>r.current.showTitle,[r]),i=VH(r),a=cb(),o=ve.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),hk()))},[]);Kd(()=>{document.addEventListener("keyup",o)}),Zd(()=>{document.removeEventListener("keyup",o)})}function BRe(){const t=qd(o=>o.GUI),e=ub(t),r=ve.useCallback(o=>o.keyCode===17,[]),n=ve.useCallback(o=>{r(o)&&e()&&UH()},[]),i=ve.useCallback(o=>{r(o)&&e()&&Kh()},[]),a=ve.useCallback(o=>{Kh()},[]);Kd(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),Zd(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),vIe(()=>{e()||Kh()})}function DRe(){const t=GRe(),e=ve.useCallback(async r=>{t()&&await mTe()},[]);Kd(()=>{window.addEventListener("beforeunload",e)}),Zd(()=>{window.removeEventListener("beforeunload",e)})}function ub(t){return ve.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function GH(t){return ve.useCallback(()=>t.current.showBacklog,[t])}function URe(t){return ve.useCallback(()=>t.current.showGlobalDialog,[t])}function jRe(t){return ve.useCallback(()=>t.current.showExtra,[t])}function VH(t){return ve.useCallback(()=>t.current.showPanicOverlay,[t])}function $Re(t){return ve.useCallback(()=>[Ur.Save,Ur.Load,Ur.Option].includes(t.current.currentMenuTag),[t])}function GRe(){return ve.useCallback(()=>Y.sceneManager.sceneData.currentSentenceId!==0,[Y.sceneManager.sceneData])}function cb(){const t=Yr();return(e,r)=>{t(bt({component:e,visibility:r}))}}function VRe(){const t=qd(c=>c.GUI),e=ub(t),r=cb(),n=ve.useRef(!1),i=ve.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=ve.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}hk(),Wn(),n.current=!0}},[]),o=ve.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=ve.useCallback(c=>{n.current=!1},[]);Kd(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),Zd(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function HRe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function XRe(){const t=vt(n=>n.userData),e=Yr(),r=t.optionData.fullScreen;ve.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Ts.on?(e($o({key:"fullScreen",value:Ts.on})),Mi()):(e($o({key:"fullScreen",value:Ts.off})),Mi()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const HH=async()=>{fe.dispatch(Pr.setIsShowUnlock(!1));const t=Wt(bo.Achieve,zt.scene);Y.sceneManager.resetScene(),Na(t).then(e=>{Y.sceneManager.setCurrentScene(e,bo.Achieve,t).then(r=>{r&&Wn()})}),fe.dispatch(bt({component:"showTitle",visibility:!1})),fe.dispatch(bt({component:"showMenuPanel",visibility:!1})),fe.dispatch(bt({component:"showTextBox",visibility:!1})),fe.dispatch(bt({component:"showAchievement",visibility:!0}))};const zRe=({text:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=ve.useState(!1);let u=e,f=n;const h=ug.debounce(()=>{i&&l(!0),a&&a()},100),p=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),N.jsx("span",{className:u,onMouseEnter:h,onMouseLeave:p,onClick:s,style:f,children:t})},XH=({src:t,hoverSrc:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,nId:l})=>{const[u,f]=ve.useState(!1),[h,p]=ve.useState(0),d=()=>p(w=>w+1),v=ve.useRef({width:void 0,height:void 0});let m=r,g=i||{};const _=ug.debounce(()=>{(e||a)&&f(!0),o&&o()},100),y=()=>{f(!1),s&&s()};return u&&(m=`${r||""} ${n||""}`,g={...i,...a}),g.width===void 0&&(g.width=v.current.width,g.height=v.current.height),N.jsx("img",{id:l,src:u&&e?e:t,className:m,onMouseEnter:_,onMouseLeave:y,style:g,onClick:c,onLoad:w=>{g.width===void 0&&(v.current.width=w.currentTarget.naturalWidth,v.current.height=w.currentTarget.naturalHeight,d())}})},zH=({item:t,children:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,id:l})=>{const[u,f]=ve.useState(!1);let h=r,p=i,d=a;if(t){if(t.args.hide)return null;p||(p=_l(t.args.style)),d||(d=_l(t.args.hoverStyle))}const v=ug.debounce(()=>{d&&f(!0),o&&o()},100),m=()=>{f(!1),s&&s()};return u&&(h=`${r||""} ${n||""}`,p={...p,...d}),N.jsx("div",{className:h,onMouseEnter:v,onMouseLeave:m,onClick:c,style:p,id:l,children:e})},Jd=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=_l(t.args.style),i=Wt(((a=t.args.style)==null?void 0:a.image)||"",zt.background);return(o=t.args.style)!=null&&o.image?N.jsx(XH,{defaultClass:e,src:i,style:n},r):N.jsx("div",{className:e,style:n})},Vi=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c="button",checked:l=!1,onChecked:u=()=>{},text:f="",style:h,defaultText:p=""})=>{var C,A;if(t.args.hide)return null;const d=_l(t.args.style),v=_l(t.args.hoverStyle),m=((C=t.args.style)==null?void 0:C.image)||"",g=((A=t.args.hoverStyle)==null?void 0:A.image)||m,_=t,y={},w=m?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},b={...d,...h};b.width&&(y.width=b.width),b.height&&(y.height=b.height),m&&(b.backgroundImage="none");const E=T=>{c==="checkbox"&&u(!l),s&&s()};return N.jsxs(zH,{onMouseEnter:a,onMouseLeave:o,onClick:E,defaultClass:e,defaultHoverClass:i,style:b,hoverStyle:v,children:[!!m&&N.jsx(XH,{nId:n,src:Wt(l?g:m,zt.ui),hoverSrc:g?Wt(g,zt.ui):"",style:y,onMouseEnter:a,onMouseLeave:o}),_.content?N.jsx(zRe,{text:_.content,defaultClass:r,style:w}):!m&&p]},n)},WRe=()=>{const t=vt(l=>l.userData),e=vt(l=>l.GUI),r=Yr(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=Nn(),o=e.gameUIConfigs[ci.title],s=LH("UI/Title/title.scss"),c={[Va.Game_start_button]:()=>{bTe(),a(),r(aT(!1))},[Va.Game_achievement_button]:()=>{HH(),a()},[Va.Game_storyline_button]:()=>{oT(),a()},[Va.Game_extra_button]:()=>{r(bt({component:"showExtra",visibility:!0})),a()},[Va.Game_collection_button]:()=>{STe(),a()},[Va.Game_continue_button]:()=>{a(),r(bt({component:"showTitle",visibility:!1})),wTe()},[Va.Game_option_button]:()=>{a(),r(bt({component:"showMenuPanel",visibility:!0})),r(zc(Ur.Option))},[Va.Game_load_button]:()=>{a(),r(bt({component:"showMenuPanel",visibility:!0})),r(zc(Ur.Load))},[Va.Game_progression_button]:()=>{a(),r(bt({component:"showProgressAndAchievement",visibility:!0}))},[Va.Game_affinity_button]:()=>{a(),r(bt({component:"showAffinity",visibility:!0}))}};return N.jsxs(N.Fragment,{children:[e.showTitle&&N.jsx("div",{className:s("Title_backup_background",L0.Title_backup_background)}),N.jsx("div",{id:"enter_game_target",onClick:()=>{ak(e.titleBgm),r(bt({component:"isEnterGame",visibility:!0})),n===Ts.on&&(document.documentElement.requestFullscreen(),Ah&&Ah.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&N.jsxs("div",{children:[N.jsx(Jd,{defaultClass:s("Title_main",L0.Title_main),item:o.other[vv.Title_img]}),N.jsx("div",{className:s("Title_buttonList",L0.Title_buttonList),children:Object.keys(o.buttons).map(l=>{let u=l,f=o.buttons[u];return N.jsx(Vi,{item:f,defaultClass:L0.Title_button,defaultTextClass:L0.Title_button_text,onClick:c[u],onMouseEnter:i},u)})})]})]})},YRe="_Logo_main_y88l5_1",qRe="_overlay_y88l5_14",KRe="_Logo_Back_y88l5_61",ZRe="_animationActive_y88l5_75",JRe="_fadeout_y88l5_1",zm={Logo_main:YRe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:qRe,"fade-in":"_fade-in_y88l5_1",Logo_Back:KRe,animationActive:ZRe,fadeout:JRe,"fade-in-out":"_fade-in-out_y88l5_1"},QRe=()=>{const t=Yr(),e=vt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Nu(-1),a=Nu(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(bt({component:"openR18Modal",visibility:!0})),i.set(-1))};ve.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return N.jsxs(N.Fragment,{children:[i.value!==-1&&N.jsx("div",{className:zm.Logo_Back+" "+(i.value===r.length-1?zm.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:zm.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),N.jsx("div",{className:zm.overlay})]})]})},Zf=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),ePe=t=>{const e=fe.getState().GUI,r=fe.dispatch;sd.get(t).then(n=>{var o;let i=n.data;const a=rb.parseConfig(i);if(Je.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:p,args:d,options:v}=h;switch(p){case"Title_img":{const m=Wt(d.join(""),zt.background);r(nT({asset:"titleBg",value:m})),vg(m);break}case"Game_Logo":{const m=d.map(g=>Wt(g,zt.background));r(uTe(m));break}case"Game_cursor":{const m=d.map(g=>Wt(g,zt.background));if(m!=null&&m.length){const g=m.map(y=>`url('${y}'), auto`).join(", "),_=document.createElement("style");_.innerHTML=`
                html, body, div, span { cursor: ${g} !important; }
                html:hover, body:hover, div:hover, span:hover { cursor: ${g} !important; }
              `,document.head.appendChild(_)}break}case"Title_bgm":{const m=Wt(d[0],zt.bgm);r(nT({asset:"titleBgm",value:m}));break}case"Game_name":{Y.gameName=d[0],document.title=d[0];break}case"Game_key":{Y.gameKey=d[0],rx(),lH(),GO(0,0);break}case"Game_id":{Y.gameId=isNaN(Number(d[0]))?0:Number(d[0]);break}case"Game_r18":{(d==null?void 0:d.length)>0&&r(SH(!!Zf.get(d[0])));break}case"Game_sound":{if((v==null?void 0:v.length)>0){const m=v.map(g=>{var _;if(typeof g.value=="string"){const y=(_=g.value)==null?void 0:_.split(",");y!=null&&y.length&&!Zf.get(y[0])&&(g.value=y[1]?Wt(y[1],zt.bgm):"")}return g});r(Ot({key:"gameScounds",value:m}))}break}case"Menu_sound":{if((v==null?void 0:v.length)>0){const m=v.map(g=>{var _;if(typeof g.value=="string"){const y=(_=g.value)==null?void 0:_.split(",");y!=null&&y.length&&!Zf.get(y[0])&&(g.value=y[1]?Wt(y[1],zt.bgm):"")}return g});r(Ot({key:"menuScounds",value:m}))}break}case"Game_Icon":{if(d[0]){const m=Wt(d[0],zt.background),g=document.getElementById("dynamic-favicon");g&&(g.href=m+`?t=${new Date().getTime()}`)}break}case _c.Esc_continueGame_button:case _c.Esc_backToLevel_button:case _c.Esc_setting_button:case _c.Esc_exitGame_button:{if(!(v!=null&&v.length))break;let m="",g=!1;const _={},y=["x","y","scale","fontSize"];v==null||v.forEach(b=>{var E;(E=b.value)==null||E.split(",").forEach(C=>{const[A,T]=(C==null?void 0:C.split("="))||[];A==="name"?m=T:A==="hide"?g=(Zf==null?void 0:Zf.get(T))??!1:_[A]=y.includes(A)?Number(T):T})});const w={...nx.escMenus[_c[p]].args.style};c[_c[p]]={content:m,args:{hide:g,style:{...w,..._}}},l=!0;break}case yc.Achievement_progress_bg:case yc.Achievement_progress_text:case yc.Achievement_notUnlock:case yc.Achievement_progress:{u[yc[p]]=tPe(yc[p],d,v),f=!0;break}}if((Va[p]||vv[p])&&p!==vv.Title_bgm){const m=ci.title;Zs(s,m,h)}else if(WO[p]||ik[p]){const m=ci.load;Zs(s,m,h)}else if(YO[p]||nk[p]){const m=ci.storyline;Zs(s,m,h)}else if(qO[p]||rk[p]){const m=ci.achievement;Zs(s,m,h)}else if(QO[p]||tk[p]){const m=ci.option;Zs(s,m,h)}else if(KO[p]||ib[p]){const m=ci.extra;Zs(s,m,h)}else if(ek[p]||ys[p]){const m=ci.collection;Zs(s,m,h)}else if(ZO[p]||dv[p]){const m=ci.progressAndAchievement;Zs(s,m,h)}else if(JO[p]||pv[p]){const m=ci.affinity;Zs(s,m,h)}}),r(cTe(s)),l&&r(fTe(c)),f&&r(hTe(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),window.pubsub.publish("gameReady"),delete window.renderPromise,gTe()})};function Zs(t,e,r){const n=(i,a="")=>{const o=c=>{let l={};const u=/\{(.*?)\}/,f=c.match(u);if(f){const p=f[1].split(","),d={};p.forEach(v=>{const[m,g]=v.split("=");m&&g&&(d[m.trim()]=isNaN(Number(g.trim()))?g.trim():Number(g.trim()))}),l=d}return l},s={hide:!1,style:{}};return i.forEach(c=>{if(c.key==="hide")s.hide=c.value===!0;else if(c.key.toLowerCase().endsWith("style")){const l=o(c.value);c.key==="style"&&a&&(l.image=a),s[c.key]=l}else if(c.key.includes("info")||c.key.includes("images")){const l=o(c.value);s[c.key]=l}}),s};if(y2[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),y2[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(y2[e].other[r.command]){let a=!1;lTe[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function tPe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...nx.achievementUI[t].args.style},s={...nx.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const p=/\{(.*?)\}/,d=h.match(p);if(d){const m=d[1].split(","),g={};return m.forEach(_=>{const[y,w]=_.split("=");y&&w&&(g[y.trim()]=isNaN(Number(w.trim()))?w.trim():Number(w.trim()))}),g}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}const rPe=(t,e)=>{Je.warn(""+t+":"+e);const r=fe.dispatch;r(bt({component:"showTitle",visibility:!1})),r(bt({component:"showMenuPanel",visibility:!1})),r(bt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),HO(!0);const i=Wt(t,zt.scene);setTimeout(()=>{Na(i).then(async a=>{if(!await Y.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=Y.sceneManager.sceneData.currentScene.sceneName;Y.gameplay.isFast=!0,Y.gameplay.isSyncingWithOrigine=!0,dk(e,s)})},16)};function dk(t,e){Y.sceneManager.sceneData.currentSentenceId<t&&Y.sceneManager.sceneData.currentScene.sceneName===e?(Wn(),setTimeout(()=>dk(t,e),100)):(Y.gameplay.isSyncingWithOrigine=!1,Y.gameplay.isFast=!1)}const nPe=()=>{window.JMP=dk};var pp=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(pp||{});const iPe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Je.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Je.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:pp.SYNCFC,sceneMsg:{scene:Y.sceneManager.sceneData.currentScene.sceneName,sentence:Y.sceneManager.sceneData.currentSentenceId},stageSyncMsg:fe.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===pp.JUMP&&rPe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===pp.EXE_COMMAND){const u=l.message,h=rb.parse(u,"temp.txt","temp.txt").sentenceList[0];d1(h)}if(l.command===pp.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),Y.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),Je.info(" Terre ")}},aPe={version:"IdolTime 1.0.0"},oPe=navigator.userAgent,pk=!!oPe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),sPe=()=>{Je.info(aPe.version),Je.info("Made with  by IdolTime"),pk&&alert(`iOS 
| iOS `),lPe("./game/userStyleSheet.css"),uPe(),ePe("./game/config.txt");const t=Wt("start.txt",zt.scene);Na(t).then(async e=>{const r=await Y.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const i=ag(n);Gd(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");fe.dispatch(Pr.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),nPe(),iPe()};function lPe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function uPe(){sd.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)sd.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};Y.animationManager.addAnimation(i)}})})}const cPe="_Menu_main_x2m75_1",fPe="_Menu_ShowSoftly_x2m75_1",hPe="_Menu_TagContent_x2m75_10",n8={Menu_main:cPe,Menu_ShowSoftly:fPe,Menu_TagContent:hPe},dPe="_MenuPanel_main_1c9ky_1",pPe="_MenuPanel_button_1c9ky_10",vPe="_MenuPanel_button_icon_1c9ky_38",gPe="_MenuPanel_button_hl_1c9ky_44",Th={MenuPanel_main:dPe,MenuPanel_button:pPe,MenuPanel_button_icon:vPe,MenuPanel_button_hl:gPe};var mPe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function i8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(r),!0).forEach(function(n){_Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Pe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yPe(t,e){if(t==null)return{};var r=xPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var bPe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function wPe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function EPe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var WH=ve.createContext(bPe);WH.Provider;function Qd(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=yPe(n,mPe),p=ve.useContext(WH),d=ve.useMemo(wPe,[]),v=EPe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},p),m=[p.prefix+"-icon"];return m.push(p.prefix+"-icon-"+t),e&&p.rtl&&m.push(p.prefix+"-icon-rtl"),f&&m.push(p.prefix+"-icon-spin"),u&&m.push(u),Vr.createElement("span",a8(a8({},h),{},{className:m.join(" ")}),r(v))}}const SPe=Qd("folder-open",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),CPe=Qd("hamburger-button",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),APe=Qd("home",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),TPe=Qd("logout",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),IPe=Qd("save",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),Vr.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),RPe=Qd("setting-two",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),PPe=t=>{let e;switch(t.iconName){case"save":e=N.jsx(IPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=N.jsx(SPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=N.jsx(RPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=N.jsx(APe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=N.jsx(TPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=N.jsx("div",{})}return e},V0=t=>{const{playSePageChange:e,playSeEnter:r}=Nn();let n=Th.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),N.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[N.jsx("div",{className:Th.MenuPanel_button_icon,children:N.jsx(PPe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},wf=()=>{const t=fe.dispatch;ok(),lb(),Kh(),t(Ot({key:"playVocal",value:""})),t(bt({component:"showTitle",visibility:!0})),t(Pr.setIsShowUnlock(!1)),t(Pr.setShowStoryline(!1)),vg(fe.getState().GUI.titleBg)};function vk(t,e){if(t==null)return{};var r=iSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var OPe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const kPe=Xi(OPe);var FPe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function o8(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(kPe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(FPe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var NPe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,LPe=/^\s*$/,MPe=Object.create(null);function YH(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(YH,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var BPe={parse:function(t,e){e||(e={}),e.components||(e.components=MPe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(NPe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),p=l+c.length,d=t.charAt(p);if(h){var v=o8(c);return a<0?(n.push(v),n):((u=i[a]).children.push(v),n)}if(f&&(a++,(r=o8(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var m=t.indexOf("<",p),g=t.slice(p,m===-1?void 0:m);LPe.test(g)&&(g=" "),(m>-1&&a+u.length>=0||g!==" ")&&u.push({type:"text",content:g})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+YH("",r)},"")}};function iy(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var s8={};function ax(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&s8[e[0]]||(typeof e[0]=="string"&&(s8[e[0]]=new Date),iy.apply(void 0,e))}var qH=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function l8(t,e,r){t.loadNamespaces(e,qH(t,r))}function u8(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,qH(t,n))}function DPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function UPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return ax("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):DPe(t,e,r)}var jPe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$Pe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},GPe=function(e){return $Pe[e]},VPe=function(e){return e.replace(jPe,GPe)};function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:VPe};function HPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};uT=f8(f8({},uT),t)}function KH(){return uT}var ZH;function XPe(t){ZH=t}function gk(){return ZH}var zPe=["format"],WPe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function h8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function S2(t){return t?t.props?t.props.children:t.children:[]}function YPe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ve.isValidElement(e)})}function vp(t){return Array.isArray(t)?t:[t]}function qPe(t,e){var r=ui({},e);return r.props=Object.assign(t.props,e.props),r}function JH(t,e){if(!t)return"";var r="",n=vp(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ve.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=JH(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)iy("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Ei(a)==="object"){var f=a.format,h=vk(a,zPe),p=Object.keys(h);if(p.length===1){var d=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(d,"}}")}else iy("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else iy("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function KPe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(m){var g=vp(m);g.forEach(function(_){typeof _!="string"&&(E2(_)?l(S2(_)):Ei(_)==="object"&&!ve.isValidElement(_)&&Object.assign(c,_))})}l(t);var u=BPe.parse("<0>".concat(e,"</0>")),f=ui(ui({},c),i);function h(m,g,_){var y=S2(m),w=d(y,g.children,_);return YPe(y)&&w.length===0?y:w}function p(m,g,_,y,w){m.dummy&&(m.children=g),_.push(ve.cloneElement(m,ui(ui({},m.props),{},{key:y}),w?void 0:g))}function d(m,g,_){var y=vp(m),w=vp(g);return w.reduce(function(b,E,C){var A=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,f,r.language);if(E.type==="tag"){var T=y[parseInt(E.name,10)];!T&&_.length===1&&_[0][E.name]&&(T=_[0][E.name]),T||(T={});var R=Object.keys(E.attrs).length!==0?qPe({props:E.attrs},T):T,O=ve.isValidElement(R),P=O&&E2(E,!0)&&!E.voidElement,k=s&&Ei(R)==="object"&&R.dummy&&!O,L=Ei(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof R=="string"){var B=r.services.interpolator.interpolate(R,f,r.language);b.push(B)}else if(E2(R)||P){var U=h(R,E,_);p(R,U,b,C)}else if(k){var X=d(y,E.children,_);b.push(ve.cloneElement(R,ui(ui({},R.props),{},{key:C}),X))}else if(Number.isNaN(parseFloat(E.name)))if(L){var ee=h(R,E,_);p(R,ee,b,C,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)b.push(ve.createElement(E.name,{key:"".concat(E.name,"-").concat(C)}));else{var ne=d(y,E.children,_);b.push(ve.createElement(E.name,{key:"".concat(E.name,"-").concat(C)},ne))}else if(E.voidElement)b.push("<".concat(E.name," />"));else{var W=d(y,E.children,_);b.push("<".concat(E.name,">").concat(W,"</").concat(E.name,">"))}else if(Ei(R)==="object"&&!O){var D=E.children[0]?A:null;D&&b.push(D)}else E.children.length===1&&A?b.push(ve.cloneElement(R,ui(ui({},R.props),{},{key:C}),A)):b.push(ve.cloneElement(R,ui(ui({},R.props),{},{key:C})))}else if(E.type==="text"){var z=n.transWrapTextNodes,V=a?n.unescape(r.services.interpolator.interpolate(E.content,f,r.language)):r.services.interpolator.interpolate(E.content,f,r.language);z?b.push(ve.createElement(z,{key:"".concat(E.name,"-").concat(C)},V)):b.push(V)}return b},[])}var v=d([{dummy:!0,children:t||[]}],u,vp(t||[]));return S2(v[0])}function ZPe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,v=vk(t,WPe),m=h||gk();if(!m)return ax("You will need to pass in an i18next instance by using i18nextReactModule"),e;var g=p||m.t.bind(m)||function(P){return P};a&&(s.context=a);var _=ui(ui({},KH()),m.options&&m.options.react),y=f||g.ns||m.options&&m.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var w=l||JH(e,_)||_.transEmptyNodeValue||i,b=_.hashTransKey,E=i||(b?b(w):w),C=c?s.interpolation:{interpolation:ui(ui({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=ui(ui(ui(ui({},s),{},{count:r},c),C),{},{defaultValue:w,ns:y}),T=E?g(E,A):w,R=KPe(u||e,T,m,_,A,d),O=n!==void 0?n:_.defaultTransParent;return O?ve.createElement(O,v,R):R}function rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function ns(t,e,r){return e&&d8(t.prototype,e),r&&d8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var JPe={type:"3rdParty",init:function(e){HPe(e.options.react),XPe(e)}},QH=ve.createContext(),QPe=function(){function t(){rs(this,t),this.usedNamespaces={}}return ns(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),eOe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rOe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,v=vk(t,eOe),m=ve.useContext(QH)||{},g=m.i18n,_=m.defaultNS,y=h||g||gk(),w=p||y&&y.t.bind(y);return ZPe(tOe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||w&&w.ns||_||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},v))}function eX(t){if(Array.isArray(t))return t}function nOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tX(t,e){if(t){if(typeof t=="string")return v8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(t,e)}}function rX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iOe(t,e){return eX(t)||nOe(t,e)||tX(t,e)||rX()}function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aOe=function(e,r){var n=ve.useRef();return ve.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function fb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=ve.useContext(QH)||{},i=n.i18n,a=n.defaultNS,o=r||i||gk();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new QPe),!o){ax("You will need to pass in an i18next instance by using initReactI18next");var s=function(T,R){return typeof R=="string"?R:R&&Ei(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(T)?T[T.length-1]:T},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&ax("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=C2(C2(C2({},KH()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(A){return UPe(A,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=ve.useState(d),m=iOe(v,2),g=m[0],_=m[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var w=aOe(y),b=ve.useRef(!0);ve.useEffect(function(){var A=l.bindI18n,T=l.bindI18nStore;b.current=!0,!p&&!u&&(e.lng?u8(o,e.lng,h,function(){b.current&&_(d)}):l8(o,h,function(){b.current&&_(d)})),p&&w&&w!==y&&b.current&&_(d);function R(){b.current&&_(d)}return A&&o&&o.on(A,R),T&&o&&o.store.on(T,R),function(){b.current=!1,A&&o&&A.split(" ").forEach(function(O){return o.off(O,R)}),T&&o&&T.split(" ").forEach(function(O){return o.store.off(O,R)})}},[o,y]);var E=ve.useRef(!0);ve.useEffect(function(){b.current&&!E.current&&_(d),E.current=!1},[o,f]);var C=[g,o,p];if(C.t=g,C.i18n=o,C.ready=p,p||!p&&!u)return C;throw new Promise(function(A){e.lng?u8(o,e.lng,h,function(){return A()}):l8(o,h,function(){return A()})})}function Lu(t){const{t:e}=fb(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const oOe=()=>{const t=Lu("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=Nn(),i=vt(v=>v.GUI),a=Yr(),o=i.currentMenuTag===Ur.Save?` ${Th.MenuPanel_button_hl}`:"",s=i.currentMenuTag===Ur.Load?` ${Th.MenuPanel_button_hl}`:"",c=i.currentMenuTag===Ur.Option?` ${Th.MenuPanel_button_hl}`:"",l=i.currentMenuTag===Ur.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===Ur.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===Ur.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===Ur.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===Ur.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===Ur.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return N.jsxs("div",{className:Th.MenuPanel_main,children:[N.jsx(V0,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(zc(Ur.Save))},tagName:t("saving.title")},"saveButton"),N.jsx(V0,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(zc(Ur.Load))},tagName:t("loadSaving.title")},"loadButton"),N.jsx(V0,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),Jo({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{wf(),a(bt({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),N.jsx(V0,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:c,iconColor:d,tagColor:f,clickFunc:()=>{n(),a(zc(Ur.Option))},tagName:t("options.title")},"optionButton"),N.jsx(V0,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(bt({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},sOe="_Save_Load_main_4r4rg_2",lOe="_Common_back_4r4rg_13",uOe="_Common_title_4r4rg_30",cOe="_Save_title_4r4rg_41",fOe="_Load_title_4r4rg_45",hOe="_Save_Load_top_buttonList_4r4rg_49",dOe="_Save_Load_indicator_container_4r4rg_59",pOe="_Save_Load_top_button_4r4rg_49",vOe="_Save_Load_indicator_default_4r4rg_74",gOe="_Save_Load_indicator_active_4r4rg_83",mOe="_Save_Load_content_4r4rg_92",_Oe="_Save_Load_content_element_4r4rg_105",yOe="_Elements_in_4r4rg_1",xOe="_Elements_in_transform_4r4rg_1",bOe="_Save_Load_content_element_top_4r4rg_120",wOe="_Save_Load_info_4r4rg_127",EOe="_Save_Load_content_ele_4r4rg_105",SOe="_Save_Load_bg_4r4rg_158",COe="_Save_Load_content_miniRen_bg_4r4rg_170",AOe="_Save_Load_border_4r4rg_181",TOe="_Btn_4r4rg_195",IOe="_Btn_r_4r4rg_209",fr={Save_Load_main:sOe,Common_back:lOe,Common_title:uOe,Save_title:cOe,Load_title:fOe,Save_Load_top_buttonList:hOe,Save_Load_indicator_container:dOe,Save_Load_top_button:pOe,Save_Load_indicator_default:vOe,Save_Load_indicator_active:gOe,Save_Load_content:mOe,Save_Load_content_element:_Oe,Elements_in:yOe,Elements_in_transform:xOe,Save_Load_content_element_top:bOe,Save_Load_info:wOe,Save_Load_content_ele:EOe,Save_Load_bg:SOe,Save_Load_content_miniRen_bg:COe,Save_Load_border:AOe,Btn:TOe,Btn_r:IOe},ROe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=Nn(),i=vt(v=>v.userData),a=vt(v=>v.saveData),o=Yr(),s=[];for(let v=1;v<=4;v++){const m=N.jsx("div",{onClick:()=>{o(Gy(v)),Mi(),e()},onMouseEnter:r,className:fr.Save_Load_top_button,children:N.jsx("div",{className:v===i.optionData.slPage?fr.Save_Load_indicator_active:fr.Save_Load_indicator_default})},"Load_element_page"+v);s.push(m)}const c=Lu("common."),l=[],u=(i.optionData.slPage-1)*6+1,f=u+5;ve.useEffect(()=>{GO(u,f)},[u,f]);let h=0;for(let v=u;v<=f;v++){h++;const m=a.saveData[v];let g=N.jsx("div",{className:fr.Save_Load_content_ele});m&&(g=N.jsxs(N.Fragment,{children:[N.jsx("div",{className:fr.Save_Load_bg}),N.jsx("div",{className:fr.Save_Load_border}),N.jsx("img",{className:fr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:m.previewImage}),N.jsxs("div",{className:fr.Save_Load_info,children:[m.saveTime,N.jsx("br",{}),N.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Tt(300)},children:m.nowStageState.showText})]})]}));const _=N.jsx("div",{onClick:()=>{a.saveData[v]?(n(),Jo({title:p("saving.isOverwrite"),leftText:c("no"),rightText:c("yes"),leftFunc:()=>{},rightFunc:()=>{oD(v),Mi()}})):(e(),oD(v))},onMouseEnter:r,className:fr.Save_Load_content_element,style:{animationDelay:`${h*30}ms`},children:g},"saveElement_"+v);l.push(_)}const p=Lu("menu."),d=v=>{let g=i.optionData.slPage;v==="left"?g=g>1?g-1:4:g=g<4?g+1:1,o(Gy(g)),Mi(),e()};return N.jsxs("div",{className:fr.Save_Load_main,children:[N.jsx("div",{className:`${fr.Common_title} ${fr.Save_title}`,children:N.jsx("div",{className:fr.Common_back,onClick:()=>{t(),o(bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r})}),N.jsx("div",{className:fr.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:l}),N.jsxs("div",{className:fr.Save_Load_top_buttonList,children:[N.jsx("div",{className:fr.Btn,onMouseEnter:r,onClick:()=>d("left")}),N.jsx("div",{className:fr.Save_Load_indicator_container,children:s}),N.jsx("div",{className:`${fr.Btn} ${fr.Btn_r}`,onMouseEnter:r,onClick:()=>d("right")})]})]})},POe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=Nn(),n=vt(h=>h.userData),i=vt(h=>h.saveData),a=Yr(),o=[];for(let h=1;h<=4;h++){const p=N.jsx("div",{onClick:()=>{a(Gy(h)),Mi(),r()},onMouseEnter:e,className:fr.Save_Load_top_button,children:N.jsx("div",{className:h===n.optionData.slPage?fr.Save_Load_indicator_active:fr.Save_Load_indicator_default})},"Load_element_page"+h);o.push(p)}const s=[],c=(n.optionData.slPage-1)*6+1,l=c+5;ve.useEffect(()=>{GO(c,l)},[c,l]);let u=0;for(let h=c;h<=l;h++){u++;const p=i.saveData[h];let d=N.jsx("div",{className:fr.Save_Load_content_ele});p&&(d=N.jsxs(N.Fragment,{children:[N.jsx("div",{className:fr.Save_Load_bg}),N.jsx("img",{className:fr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage}),N.jsx("div",{className:fr.Save_Load_border}),N.jsxs("div",{className:fr.Save_Load_info,children:[p.saveTime,N.jsx("br",{}),N.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Tt(300)},children:p.nowStageState.showText})]})]}));const v=N.jsx("div",{onClick:()=>{vTe(h),t()},onMouseEnter:e,className:fr.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:d},"loadElement_"+h);s.push(v)}Lu("menu.");const f=h=>{let d=n.optionData.slPage;h==="left"?d=d>1?d-1:4:d=d<4?d+1:1,a(Gy(d)),Mi(),r()};return N.jsxs("div",{className:fr.Save_Load_main,children:[N.jsx("div",{className:`${fr.Common_title} ${fr.Load_title}`,children:N.jsx("div",{className:fr.Common_back,onClick:()=>{t(),a(bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),N.jsx("div",{className:fr.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s}),N.jsxs("div",{className:fr.Save_Load_top_buttonList,children:[N.jsx("div",{className:fr.Btn,onMouseEnter:e,onClick:()=>f("left")}),N.jsx("div",{className:fr.Save_Load_indicator_container,children:o}),N.jsx("div",{className:`${fr.Btn} ${fr.Btn_r}`,onMouseEnter:e,onClick:()=>f("right")})]})]})},OOe="_Options_main_1jn8j_1",kOe="_Options_top_1jn8j_12",FOe="_Options_page_container_1jn8j_25",NOe="_Options_left_1jn8j_31",LOe="_title_base_1jn8j_36",MOe="_Options_right_1jn8j_46",BOe="_Label_1jn8j_50",DOe="_title_voice_1jn8j_55",UOe="_Label_fullscreen_1jn8j_74",jOe="_Label_window_1jn8j_79",$Oe="_Label_text_speed_1jn8j_84",GOe="_Label_row_1jn8j_88",VOe="_Label_row_right_1jn8j_96",HOe="_Label_row_text_1jn8j_101",XOe="_Label_row_decoration_1jn8j_108",zOe="_Check_row_1jn8j_120",WOe="_Check_row_option_1jn8j_129",YOe="_Check_row_prefix_1jn8j_134",qOe="_Check_row_box_1jn8j_149",KOe="_mt48_1jn8j_161",ZOe="_mt32_1jn8j_165",JOe="_mt22_1jn8j_170",QOe="_Slider_wrapper_1jn8j_175",eke="_Check_row_box_checked_1jn8j_179",tke="_Save_back_1jn8j_193",Mt={Options_main:OOe,Options_top:kOe,Options_page_container:FOe,Options_left:NOe,title_base:LOe,Options_right:MOe,Label:BOe,title_voice:DOe,Label_fullscreen:UOe,Label_window:jOe,Label_text_speed:$Oe,Label_row:GOe,Label_row_right:VOe,Label_row_text:HOe,Label_row_decoration:XOe,Check_row:zOe,Check_row_option:WOe,Check_row_prefix:YOe,Check_row_box:qOe,mt48:KOe,mt32:ZOe,mt22:JOe,Slider_wrapper:QOe,Check_row_box_checked:eke,Save_back:tke};const H0=t=>{const{playSeEnter:e}=Nn();ve.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",(t.initValue||0).toString()),r()},1)},[]),ve.useEffect(()=>{r()},[t.initValue]);function r(){var i;const n=document.getElementById(`${t.uniqueID}-bg`);if(n!==null&&t.uniqueID==="light"){const o=(Number(t.initValue)-50)/50*684+"px";n.style.width=o}else n!==null&&(n.style.width=Number((i=t.initValue)==null?void 0:i.toString())/100*342/.5+"px")}return N.jsxs("div",{className:"Option_WebGAL_slider",children:[N.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",min:(t==null?void 0:t.min)??0,max:(t==null?void 0:t.max)??100,onChange:t.onChange,onFocus:e,onMouseEnter:e}),N.jsxs("div",{className:"Slider_group",children:[N.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),N.jsx("div",{className:"Slider_bg_under"})]})]})},rke=()=>{ve.useEffect(rx,[]);const{playSeClick:t,playSeEnter:e}=Nn(),r=vt(i=>i.userData),n=Yr();return N.jsxs("div",{className:Mt.Options_main,children:[N.jsx("div",{className:Mt.Options_top,children:N.jsx("div",{className:Mt.Save_back,onClick:()=>{t(),n(bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),N.jsxs("div",{className:Mt.Options_page_container,children:[N.jsxs("div",{className:Mt.Options_left,children:[N.jsx("div",{className:Mt.title_base}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt48}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsxs("div",{className:Mt.Check_row,children:[N.jsxs("div",{className:Mt.Check_row_option,children:[N.jsx("span",{className:Mt.Check_row_prefix,children:""}),N.jsx("div",{className:Mt.Check_row_box,onClick:()=>{n($o({key:"fullScreen",value:Ts.on})),Mi()},children:r.optionData.fullScreen?null:N.jsx("div",{className:Mt.Check_row_box_checked})})]}),N.jsxs("div",{className:Mt.Check_row_option,children:[N.jsx("span",{className:Mt.Check_row_prefix,children:""}),N.jsx("div",{className:Mt.Check_row_box,onClick:()=>{n($o({key:"fullScreen",value:Ts.off})),Mi()},children:r.optionData.fullScreen?N.jsx("div",{className:Mt.Check_row_box_checked}):null})]})]}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt48}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsx(H0,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:i=>{const a=i.target.value;n($o({key:"textSpeed",value:Number(a)})),Mi()}})]}),N.jsxs("div",{className:Mt.Options_right,children:[N.jsx("div",{className:Mt.title_voice}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsx("div",{className:Mt.Slider_wrapper,children:N.jsx(H0,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:i=>{const a=i.target.value;n($o({key:"volumeMain",value:Number(a)})),Mi()}})}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsx("div",{className:Mt.Slider_wrapper,children:N.jsx(H0,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n($o({key:"bgmVolume",value:Number(a)})),Mi()}})}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsx("div",{className:Mt.Slider_wrapper,children:N.jsx(H0,{initValue:r.optionData.seVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n($o({key:"seVolume",value:Number(a)})),n($o({key:"uiSeVolume",value:Number(a)})),Mi()}})}),N.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt22} ${Mt.Label_row_right}`,children:[N.jsx("span",{className:Mt.Label_row_text,children:""}),N.jsx("span",{className:Mt.Label_row_decoration})]}),N.jsx("div",{className:Mt.Slider_wrapper,children:N.jsx(H0,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n($o({key:"vocalVolume",value:Number(a)})),Mi()}})})]})]})]})},nke=()=>{const t=vt(r=>r.GUI);let e;switch(t.currentMenuTag){case Ur.Save:e=N.jsx(ROe,{});break;case Ur.Load:e=N.jsx(POe,{});break;case Ur.Option:e=N.jsx(rke,{});break}return N.jsx(N.Fragment,{children:t.showMenuPanel&&N.jsxs("div",{className:n8.Menu_main,children:[N.jsx("div",{className:n8.Menu_TagContent,children:e}),Ur.Option?null:N.jsx(oOe,{})]})})},ike="_MainStage_main_9enex_1",ake="_MainStage_main_container_9enex_10",oke="_MainStage_bgContainer_9enex_17",ske="_MainStage_showBgSoftly_9enex_1",lke="_MainStage_bgContainer_Settled_9enex_27",uke="_MainStage_oldBgContainer_9enex_37",cke="_MainStage_oldBgFadeout_9enex_1",fke="_MainStage_oldBgContainer_Settled_9enex_47",hke="_pixiContainer_9enex_72",dke="_chooseContainer_9enex_77",A2={MainStage_main:ike,MainStage_main_container:ake,MainStage_bgContainer:oke,MainStage_showBgSoftly:ske,MainStage_bgContainer_Settled:lke,MainStage_oldBgContainer:uke,MainStage_oldBgFadeout:cke,MainStage_oldBgContainer_Settled:fke,pixiContainer:hke,chooseContainer:dke};function pke(){const t=vt(r=>r.userData.optionData.textboxFont);function e(){return tb(t).with(Gc.song,()=>'"", serif').with(Gc.lxgw,()=>'"LXGW", serif').with(Gc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function m8(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const vke="_TextBox_EventHandler_3ooeu_1",gke="_TextBox_Container_3ooeu_9",mke="_showSoftly_3ooeu_1",_ke="_TextBox_main_3ooeu_24",yke="_TextBox_textElement_start_3ooeu_50",xke="_TextDelayShow_3ooeu_1",bke="_outer_3ooeu_56",wke="_inner_3ooeu_65",Eke="_zhanwei_3ooeu_74",Ske="_TextBox_textElement_Settled_3ooeu_79",Cke="_TextBox_showName_3ooeu_84",Ake="_outerName_3ooeu_94",Tke="_TextBox_showName_avatar_3ooeu_98",Ike="_TextBox_showName_player_3ooeu_104",Rke="_TextBox_ShowName_Background_3ooeu_110",Pke="_miniAvatarContainer_3ooeu_122",Oke="_miniAvatarImg_3ooeu_142",kke="_nameContainer_3ooeu_147",Fke="_innerName_3ooeu_160",Nke="_line_3ooeu_167",Lke="_line_avatar_3ooeu_175",Mke="_line_hide_3ooeu_179",Bke="_text_3ooeu_183",zr={TextBox_EventHandler:vke,TextBox_Container:gke,showSoftly:mke,TextBox_main:_ke,TextBox_textElement_start:yke,TextDelayShow:xke,outer:bke,inner:wke,zhanwei:Eke,TextBox_textElement_Settled:Ske,TextBox_showName:Cke,outerName:Ake,TextBox_showName_avatar:Tke,TextBox_showName_player:Ike,TextBox_ShowName_Background:Rke,miniAvatarContainer:Pke,miniAvatarImg:Oke,nameContainer:kke,innerName:Fke,line:Nke,line_avatar:Lke,line_hide:Mke,text:Bke};function Dke(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:v,textAlign:m}=t,g=LH("Stage/TextBox/textbox.scss");ve.useEffect(()=>{function w(){[...document.querySelectorAll(".Textelement_start")].forEach(C=>{C.className=g("TextBox_textElement_Settled",zr.TextBox_textElement_Settled)})}return Y.events.textSettle.on(w),()=>{Y.events.textSettle.off(w)}},[]);let _=0;const y=e.map((w,b)=>{const E=w.map((C,A)=>{let T=_*r;_++;let R=n.length;return n!==""&&A>=R&&(T=T-R*r),A<R?N.jsx("span",{id:`${T}`,className:g("TextBox_textElement_Settled",zr.TextBox_textElement_Settled),style:{animationDelay:`${T}ms`,animationDuration:`${h}ms`},children:N.jsxs("span",{className:zr.zhanwei,children:[C,N.jsx("span",{className:g("outer",zr.outer),children:C}),p&&N.jsx("span",{className:g("inner",zr.inner),children:C})]})},i+A):N.jsx("span",{"data-text":C,id:`${T}`,className:`${g("TextBox_textElement_start",zr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${T}ms`,position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[C,N.jsx("span",{className:g("outer",zr.outer),children:C}),p&&N.jsx("span",{className:g("inner",zr.inner),children:C})]})},i+A)});return N.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${b}`)});return N.jsx(N.Fragment,{children:a&&N.jsxs("div",{className:zr.TextBox_Container,children:[N.jsx("div",{className:g("TextBox_main",zr.TextBox_main),style:{opacity:`${d/100}`}}),N.jsxs("div",{id:"textBoxMain",className:zr.TextBox_main,style:{fontFamily:f},children:[N.jsxs("div",{id:"miniAvatar",className:g("miniAvatarContainer",zr.miniAvatarContainer),children:[l!==""&&N.jsx("div",{}),l!==""&&N.jsx("img",{className:g("miniAvatarImg",zr.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&v!=="narrator"&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:g("TextBox_showName",zr.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:N.jsx("div",{style:{opacity:0},children:u.split("").map((w,b)=>N.jsx("span",{style:{position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[w,N.jsx("span",{className:g("outerName",zr.outerName),children:w}),p&&N.jsx("span",{className:g("innerName",zr.innerName),children:w})]})},w+b))})}),N.jsx("div",{className:`${zr.TextBox_showName} ${l?zr.TextBox_showName_avatar:""}`,children:u.split("").map((w,b)=>N.jsx("span",{style:{position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[w,N.jsx("span",{className:g("outerName",zr.outerName),children:w}),p&&N.jsx("span",{className:g("innerName",zr.innerName),children:w})]})},w+b))},u)]}),N.jsx("div",{className:`${zr.line} ${v==="narrator"?zr.line_hide:""} ${l?zr.line_avatar:""}`}),N.jsx("div",{className:g("text",zr.text),style:{flexFlow:"column",overflow:"hidden",textAlign:m||v==="narrator"?"center":"left"},children:y})]})]})})}const Wc={height:1440,width:2560};function ox(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(Wc.width=Number(r[0])*2,Wc.height=Number(r[1])*2),Wc}const nX=navigator.userAgent,Uke=/firefox/i.test(nX),jke=/^((?!chrome|android).)*safari/i.test(nX),$ke=()=>{const[t,e]=ve.useState(!0);ve.useEffect(()=>{const y=()=>{const w=ox().height||Wc.height,b=ox().width||Wc.width,E=window.innerHeight,C=window.innerWidth,A=E/w,T=C/b,R=C/w,O=E/b;[A,T,R,O].forEach(P=>{P<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=vt(y=>y.stage),n=vt(y=>y.userData),i=hH(n.optionData.textSpeed),a=oAe(n.optionData.textSpeed);let o=m8(n.optionData.textSize)+"%";const s=pke(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=m8(r.showTextSize)+"%",l=r.showTextSize);const u=tb(n.optionData.textSize).with(gu.small,()=>3).with(gu.medium,()=>2).with(gu.large,()=>2).default(()=>2),f=iX(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,v=r.miniAvatar,m=n.optionData.textboxOpacity,g=r.dialogueMode,_=Dke;return N.jsx(_,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:jke,isFirefox:Uke,miniAvatar:v,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:m,dialogueMode:g})};function _8(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function iX(t,e,r){return t.split("|").map(o=>Vke(o)).map(o=>{const s=[];return o.forEach((c,l)=>{tb(c.type).with("SegmentType.String",()=>{const u=Gke(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=N.jsxs("ruby",{children:[u.text,N.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function Gke(t){if(!t)return[];const e=[];let r="",n=_8(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(_8(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function Vke(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const Hke=()=>{var y;const t=vt(w=>w.stage),e=vt(w=>w.GUI.titleBgm),r=vt(w=>w.GUI.showTitle),n=vt(w=>w.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((y=n.optionData)==null?void 0:y.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=vt(w=>w.GUI.isEnterGame),[h,p]=ve.useState(""),[d,v]=ve.useState(""),[m,g]=ve.useState(setTimeout(()=>{},0)),_=(w,b,E)=>{E>=0?w.volume=0:w.volume=b;const C=10,A=b/E*C,T=()=>{const R=setTimeout(()=>{w.volume+A>=b?w.volume=b:w.volume+A<=0?(w.volume=0,fe.dispatch(Ot({key:"bgm",value:{src:"",enter:0,volume:100}}))):(w.volume+=A,T())},C);g(R)};T()};return ve.useEffect(()=>{clearTimeout(m);const w=document.getElementById("currentBgm");w&&(s===0?w.volume=o:_(w,o,s))},[h,o,s]),ve.useEffect(()=>{(async()=>{var E;const b=await Up(r?e:t.bgm.src);p(b),(E=document.getElementById("currentBgm"))==null||E.load()})()},[r,e,t.bgm.src]),ve.useEffect(()=>{Je.debug(`${o}`)},[o]),ve.useEffect(()=>{Je.debug(`: ${s}`)},[s]),ve.useEffect(()=>{Je.debug(`${a}`);const w=document.getElementById("currentVocal");w&&(w.volume=a.toString())},[a]),ve.useEffect(()=>{if(c==="")return;(async()=>{const b=await Up(c),E=document.createElement("audio");E.src=b,E.load(),E.loop=!1,isNaN(u)?(Je.error("UI SE Vol is NaN"),E.volume=isNaN(l)?i/100:l/100):E.volume=u,E.play(),E.addEventListener("ended",()=>{E.remove()}),fe.dispatch(Ot({key:"uiSe",value:""}))})()},[c]),ve.useEffect(()=>{Je.debug(`: ${l}`)},[l]),ve.useEffect(()=>{Je.debug(`: ${u}`)},[u]),ve.useEffect(()=>{Je.debug(`: ${t.playVocal}`),Up(t.playVocal).then(w=>{v(w),document.getElementById("currentVocal").load()})},[t.playVocal]),N.jsxs("div",{children:[N.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),N.jsx("audio",{id:"currentVocal",src:d})]})},Xke=()=>{const t=vt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),N.jsx("div",{className:Hl.FullScreenPerform_main,style:{width:e,height:r,top:n},children:N.jsx("div",{id:"videoContainer"})})},zke="_TextBox_EventHandler_449dq_2",Wke="_TextBox_main_449dq_10",Yke="_showSoftly_449dq_1",qke="_TextBox_textElement_449dq_38",Kke="_TextBox_textElement_start_449dq_43",Zke="_TextDelayShow_449dq_1",Jke="_TextBox_textElement_Settled_449dq_48",Qke="_TextBox_showName_449dq_52",e3e="_miniAvatarContainer_449dq_68",t3e="_miniAvatarImg_449dq_76",T2={TextBox_EventHandler:zke,TextBox_main:Wke,showSoftly:Yke,TextBox_textElement:qke,TextBox_textElement_start:Kke,TextDelayShow:Zke,TextBox_textElement_Settled:Jke,TextBox_showName:Qke,miniAvatarContainer:e3e,miniAvatarImg:t3e},r3e=()=>{const t=vt(o=>o.stage),e=vt(o=>o.userData);ve.useEffect(()=>{});const r=x0e.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?N.jsx("span",{id:`${c}`,className:T2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):N.jsx("span",{id:`${c}`,className:T2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return N.jsx("div",{id:"textBoxMain",className:T2.TextBox_main,children:N.jsx("div",{style:{fontSize:n},children:a})})};function n3e(t){const e=t.bgName;ve.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=Y.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&y8(c),(i=Y.gameplay.pixiStage)==null||i.addBg(r,e,o,s),vg(e),Je.debug(""),setTimeout(()=>{const{duration:l,animation:u}=Ta("bg-main","enter",!0);Y.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=Y.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&y8(o)}},[e])}function y8(t){var i,a;(i=Y.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=Y.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=Ta("bg-main-off","exit",!0);Y.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=Y.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=Y.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function aX(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function i3e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;ve.useEffect(()=>{var s;for(const c of a)(s=Y.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),ve.useEffect(()=>{var s;for(const c of o)(s=Y.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),ve.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&Js(f,c,t.effects),X0(void 0,s,r,"center"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&Js(f,c,t.effects)}},[r]),ve.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&Js(f,c,t.effects),X0(void 0,s,e,"left"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&Js(f,c,t.effects)}},[e]),ve.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&Js(f,c,t.effects),X0(void 0,s,n,"right"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&Js(f,c,t.effects)}},[n]),ve.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=Y.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(Js(d,p,t.effects),X0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Ta(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32)):(X0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Ta(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32))}else{const d=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&Js(d,p,t.effects)}}const s=(u=Y.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;Js(f,d,t.effects)}}}},[i])}function Js(t,e,r){var c,l,u;if((c=Y.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),Y.gameplay.isFast){Je.info(""),(l=Y.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=Y.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Ta(i,"exit");Y.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=Y.gameplay.pixiStage)==null||f.removeAnimation(a),(h=Y.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function X0(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return a3e(...e);if(r.endsWith(".skel"))return(n=Y.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))aX(r).then(a=>{var o;return(o=Y.gameplay.pixiStage)==null?void 0:o.addFigure(...e,o3e(a))});else return(i=Y.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function a3e(...t){}function o3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function s3e(t){const{popUpImageName:e,popUpImageNameLeft:r,popUpImageNameRight:n,freePopUpImage:i,popImgLive2dMotion:a,popImgLive2dExpression:o}=t;ve.useEffect(()=>{var s;for(const c of a)(s=Y.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),ve.useEffect(()=>{var s;for(const c of o)(s=Y.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),ve.useEffect(()=>{var l,u;const s="popImg-center",c="popImg-center-softin";if(e!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&Qs(f,c,t.effects),z0(void 0,s,e,"center"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&Qs(f,c,t.effects)}},[e]),ve.useEffect(()=>{var l,u;const s="popImg-left",c="popImg-left-softin";if(r!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&Qs(f,c,t.effects),z0(void 0,s,r,"left"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&Qs(f,c,t.effects)}},[r]),ve.useEffect(()=>{var l,u;const s="popImg-right",c="popImg-right-softin";if(n!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&Qs(f,c,t.effects),z0(void 0,s,n,"right"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Ta(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&Qs(f,c,t.effects)}},[n]),ve.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=Y.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(Qs(d,p,t.effects),z0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Ta(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32)):(z0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Ta(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32))}else{const d=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&Qs(d,p,t.effects)}}const s=(u=Y.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="popImg-left"||f.key==="popImg-center"||f.key==="popImg-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;Qs(f,d,t.effects)}}}},[i])}function Qs(t,e,r){var c,l,u;if((c=Y.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),Y.gameplay.isFast){Je.info(""),(l=Y.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=Y.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Ta(i,"exit");Y.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=Y.gameplay.pixiStage)==null||f.removeAnimation(a),(h=Y.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function z0(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return l3e(...e);if(r.endsWith(".skel"))return(n=Y.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))aX(r).then(a=>{var o;return(o=Y.gameplay.pixiStage)==null?void 0:o.addFigure(...e,u3e(a))});else return(i=Y.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function l3e(...t){}function u3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function c3e(t){const e=t.effects;setTimeout(()=>{f3e(e)},10)}function f3e(t){var r,n,i,a;const e=((r=Y.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=Y.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=Y.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,x8(c.transform))}}else{const u=(a=Y.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,x8(cO))}}}}function x8(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function h3e(){const t=vt(e=>e.stage);return n3e(t),i3e(t),s3e(t),c3e(t),N.jsx("div",{style:{display:"none"}})}const d3e="_introContainer_119k8_1",p3e={introContainer:d3e};function v3e(){return N.jsx("div",{className:p3e.introContainer,id:"introContainer"})}const g3e="_variableNameWrapper_v27ea_1",m3e="_progressBarBg_v27ea_10",_3e="_progressBar_v27ea_10",y3e="_affinityWrapper_v27ea_22",x3e="_bounceIn_v27ea_58",b3e="_fadeOutUp_v27ea_73",Zl={variableNameWrapper:g3e,progressBarBg:m3e,progressBar:_3e,affinityWrapper:y3e,bounceIn:x3e,fadeOutUp:b3e},oX=()=>{const t=vt(s=>s.stage),e=vt(s=>s.GUI),[r,n]=ve.useState([]),[i,a]=ve.useState([]),o=ve.useMemo(()=>{const s=new Map,c=t.showValues;return c!=null&&c.length&&c.forEach(l=>{s.set(l.key,l.value)}),s},[t]);return ve.useEffect(()=>{t.showValueList.forEach((s,c)=>{if(s.isShowValueSWitch&&i[c]){const l=o.get(s.showValueName);s.showProgress&&typeof l=="number"&&setTimeout(()=>{const u=document.getElementById(`myRect-${c}`),f=l/(s.maxValue??100)*i[c].width;u==null||u.setAttribute("width",f.toString())},16)}})},[t.showValueList,i]),N.jsxs(N.Fragment,{children:[t.showValueList.map((s,c)=>{if(s.isShowValueSWitch){const l=r[c]||{width:0,height:0},u=i[c]||{width:0,height:0};return N.jsxs("div",{className:Zl.variableNameWrapper,style:{position:e.showProgressAndAchievement?"absolute":"fixed",left:Tt(s.showValueAxisX)+"px",top:Tt(s.showValueAxisY)+"px",backgroundColor:s.showProgress?"transparent":"#08c"},children:[!s.showProgress&&(o.get(s.showValueName)||""),s.showProgress&&s.progressBarBgStyle&&N.jsx("img",{src:Wt(s.progressBarBgStyle.image,zt.ui),alt:"progress",className:Zl.progressBarBg,style:l.width?{width:l.width,height:l.height,opacity:1}:void 0,onLoad:f=>{n([...r,{width:Tt(f.currentTarget.naturalWidth),height:Tt(f.currentTarget.naturalHeight)}])}}),s.showProgress&&s.progressBarStyle&&N.jsxs(N.Fragment,{children:[N.jsx("img",{src:Wt(s.progressBarStyle.image,zt.ui),alt:"progress",className:Zl.progressBar,style:u.width?{width:u.width,height:u.height,opacity:1,clipPath:`url(#myClip-${c})`}:void 0,onLoad:f=>{a([...i,{width:Tt(f.currentTarget.naturalWidth),height:Tt(f.currentTarget.naturalHeight)}])}}),N.jsx("svg",{width:"0",height:"0",children:N.jsx("defs",{children:N.jsx("clipPath",{id:`myClip-${c}`,children:N.jsx("rect",{id:`myRect-${c}`,width:"0",height:u.height,style:{fill:"#ffffff"}})})})})]})]},s.showValueName+c.toString())}return null}),t.showAffinityChangeList.map((s,c)=>N.jsx(w3e,{item:s},s.key))]})};function w3e({item:t}){const[e,r]=ve.useState(!1),[n,i]=ve.useState({width:0,height:0}),[a,o]=ve.useState({width:0,height:0});return ve.useEffect(()=>{n.width&&a.width&&(setTimeout(()=>{r(!0)},1e3),setTimeout(()=>{const c=fe.getState().stage.showAffinityChangeList.filter(l=>l.key!==t.key);fe.dispatch(cde(c))},3032))},[n,a]),N.jsxs("div",{className:`${Zl.affinityWrapper} ${n.width&&a.width?Zl.bounceIn:""} ${e?Zl.fadeOutUp:""}`,children:[N.jsx("img",{src:t.rolePicture,alt:"affinity",className:Zl.affinityRole,style:n.width?n:void 0,onLoad:s=>{i({width:Tt(s.currentTarget.naturalWidth),height:Tt(s.currentTarget.naturalHeight)})}}),N.jsx("img",{src:t.numberPicture,alt:"affinity number",className:Zl.affinityNumber,style:a.width?a:void 0,onLoad:s=>{o({width:Tt(s.currentTarget.naturalWidth),height:Tt(s.currentTarget.naturalHeight)})}})]})}function b8(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function E3e(t,e,r){!e.controlsVisibility&&b8(t)&&r(bt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!b8(t)&&r(bt({component:"controlsVisibility",visibility:!1}))}function S3e(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let I2=null;function C3e(t,e,r,n){S3e(e,r)?(I2&&clearTimeout(I2),n(bt({component:"controlsVisibility",visibility:!0})),I2=setTimeout(()=>{n(bt({component:"controlsVisibility",visibility:!1}))},1e3)):E3e(t,r,n)}const A3e=()=>{const t=vt(n=>n.stage),e=vt(n=>n.GUI),r=Yr();return kRe(),N.jsxs("div",{className:A2.MainStage_main,children:[N.jsx(Xke,{}),N.jsx(h3e,{}),N.jsx("div",{id:"pixiContianer",className:A2.pixiContainer,style:{zIndex:pk?"-5":void 0}}),N.jsx("div",{id:"chooseContainer",className:A2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&N.jsx($ke,{}),e.showTextBox&&t.enableFilm!==""&&N.jsx(r3e,{}),N.jsx(Hke,{}),N.jsx("div",{onClick:()=>{if(!e.showTextBox){r(bt({component:"showTextBox",visibility:!0}));return}hk(),Wn()},onDoubleClick:()=>{Y.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&C3e(n,t,e,r)}),N.jsx(v3e,{}),!e.showProgressAndAchievement&&N.jsx(oX,{})]})},T3e=()=>{const t=Lu("gaming."),{i18n:e}=fb(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=Nn();e.language;const a=vt(u=>u.GUI),o=vt(u=>u.stage),s=Yr(),c=(u,f)=>{s(bt({component:u,visibility:f}))},l=vt(u=>u.saveData.saveData);if(t("noSaving"),l[0]){const u=l[0];xi.slPreviewMain,xi.imgContainer,u.previewImage,xi.textContainer,u.nowStageState.showName,u.nowStageState.showText}return N.jsx(N.Fragment,{children:a.showTextBox&&o.enableFilm===""&&N.jsxs("div",{className:xi.main,style:{visibility:a.controlsVisibility?"visible":"hidden"},children:[N.jsx("span",{id:"Button_ControlPanel_auto",className:`${xi.singleButton} ${xi.singleButton_auto}`,title:"",onClick:()=>{BH(),n()},onMouseEnter:r,children:N.jsx("span",{className:xi.autoIcon})}),N.jsx("span",{id:"Button_ControlPanel_fast",className:`${xi.singleButton} ${xi.singleButton_fast}`,title:"",onClick:()=>{$H(),n()},onMouseEnter:r,children:N.jsx("span",{className:xi.fastIcon})}),N.jsx("span",{className:xi.singleButton,title:"",onClick:()=>{Y.gameplay.isAuto&&lb(),c("showBacklog",!0),c("showTextBox",!1),n()},onMouseEnter:r,children:N.jsx("span",{className:xi.historyIcon})})]})})},I3e=()=>{var h,p;Lu("gaming.");const{playSeEnter:t,playSeClick:e}=Nn(),r=vt(d=>d.GUI),n=Yr(),[i,a]=ve.useState(!1),[o,s]=ve.useState(!1);let c=ve.useRef();const[l,u]=ve.useState(""),f=ve.useMemo(()=>{let d=[];for(let v=0;v<Y.backlogManager.getBacklog().length;v++){const m=Y.backlogManager.getBacklog()[v],g=iX(m.currentStageState.showText,3,!0),y=R3e(g).map((b,E)=>N.jsx("div",{children:b.map((C,A)=>C==="<br />"?N.jsx("br",{},`br${A}`):C)},`backlog-line-${E}`)),w=N.jsxs("div",{className:Ji.backlog_item,style:{animationDelay:`${20*(Y.backlogManager.getBacklog().length-v)}ms`},children:[N.jsxs("div",{className:Ji.backlog_content_container,children:[N.jsxs("div",{className:Ji.backlog_func_area,children:[N.jsx("div",{className:Ji.backlog_item_content_name,children:m.currentStageState.showName&&`${m.currentStageState.showName}`||""}),m.currentStageState.vocal?N.jsx("div",{onClick:b=>{e(),b.preventDefault(),b.stopPropagation();const E=document.getElementById("backlog_audio_play_element_"+v);if(E){E.currentTime=0;const C=fe.getState().userData,A=C.optionData.volumeMain;E.volume=A*.01*C.optionData.vocalVolume*.01,Up(m.currentStageState.vocal).then(()=>{u(l),E.load(),E&&(E.onloadeddata=()=>{E.play()})})}},onMouseEnter:t,className:Ji.backlog_item_button_element,children:N.jsx("span",{className:Ji.sound_icon})}):null]}),N.jsx("div",{className:Ji.backlog_item_content,onClick:b=>{e(),pTe(v),b.preventDefault(),b.stopPropagation()},children:N.jsx("span",{className:Ji.backlog_item_content_text,children:y})})]}),N.jsx("audio",{id:"backlog_audio_play_element_"+v,src:l})]},"backlogItem"+m.currentStageState.showText+m.saveScene.currentSentenceId);d.unshift(w)}return d},[((p=(h=Y.backlogManager.getBacklog()[Y.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:p.currentSentenceId)??0]);return ve.useEffect(()=>{r.showBacklog?(c.current&&clearTimeout(c.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):c.current=setTimeout(()=>{a(!0),c.current=void 0},700+80)},[r.showBacklog]),N.jsx(N.Fragment,{children:N.jsxs("div",{className:`
          ${r.showBacklog?Ji.Backlog_main:Ji.Backlog_main_out}
          ${i?Ji.Backlog_main_out_IndexHide:""}
          `,children:[N.jsx("div",{className:Ji.backlog_title,onClick:()=>{Je.info("Rua! Testing")},children:N.jsx("div",{className:Ji.backlog_top_icon,onClick:()=>{e(),n(bt({component:"showBacklog",visibility:!1})),n(bt({component:"showTextBox",visibility:!0}))},onMouseEnter:t})}),r.showBacklog&&N.jsx("div",{className:`${Ji.backlog_content} ${o?Ji.Backlog_main_DisableScroll:""}`,children:f})]})})};function R3e(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const P3e="_extra_2e79r_2",O3e="_extraTop_2e79r_12",k3e="_backIcon_2e79r_24",F3e="_mainContainer_2e79r_46",N3e="_mainTab_2e79r_53",L3e="_mainTab_bgm_2e79r_61",M3e="_mainTab_unselect_bgm_2e79r_70",B3e="_mainTab_cg_2e79r_79",D3e="_mainTab_unselect_cg_2e79r_88",U3e="_bgmContainer_2e79r_97",j3e="_bgmListContainer_2e79r_103",$3e="_bgmElement_2e79r_111",G3e="_bgmName_2e79r_122",V3e="_bgm_item_name_2e79r_132",H3e="_bgm_sound_wrapper_2e79r_140",X3e="_bgm_sound_unselect_2e79r_148",z3e="_bgm_sound_select_2e79r_153",W3e="_bgmLocked_2e79r_158",Y3e="_bgmUnlocked_2e79r_162",q3e="_footer_2e79r_171",K3e="_footer_page_container_2e79r_181",Z3e="_footer_page_indicator_2e79r_186",J3e="_footer_page_icon_checked_2e79r_194",Q3e="_footer_page_icon_unchecked_2e79r_199",e4e="_cgMain_2e79r_212",t4e="_cgContainer_2e79r_217",r4e="_cgElement_2e79r_225",n4e="_cgUnLockElement_2e79r_232",i4e="_unlockedCGImg_2e79r_237",a4e="_cgShowDiv_2e79r_244",o4e="_cgShowDivWarpper_2e79r_253",s4e="_cgNav_2e79r_262",l4e="_cgNav_active_2e79r_281",u4e="_showFullContainer_2e79r_291",c4e="_showFullCgMain_2e79r_304",f4e="_fullCgIn_2e79r_1",h4e="_Btn_2e79r_325",d4e="_Btn_r_2e79r_339",p4e="_extra_icon_softin_2e79r_1",v4e="_bgmElement_In_2e79r_1",Ut={extra:P3e,extraTop:O3e,backIcon:k3e,mainContainer:F3e,mainTab:N3e,mainTab_bgm:L3e,mainTab_unselect_bgm:M3e,mainTab_cg:B3e,mainTab_unselect_cg:D3e,bgmContainer:U3e,bgmListContainer:j3e,bgmElement:$3e,bgmName:G3e,bgm_item_name:V3e,bgm_sound_wrapper:H3e,bgm_sound_unselect:X3e,bgm_sound_select:z3e,bgmLocked:W3e,bgmUnlocked:Y3e,footer:q3e,footer_page_container:K3e,footer_page_indicator:Z3e,footer_page_icon_checked:J3e,footer_page_icon_unchecked:Q3e,cgMain:e4e,cgContainer:t4e,cgElement:r4e,cgUnLockElement:n4e,unlockedCGImg:i4e,cgShowDiv:a4e,cgShowDivWarpper:o4e,cgNav:s4e,cgNav_active:l4e,showFullContainer:u4e,showFullCgMain:c4e,fullCgIn:f4e,Btn:h4e,Btn_r:d4e,extra_icon_softin:p4e,bgmElement_In:v4e},g4e=""+new URL("sound-icon.png",import.meta.url).href,m4e=""+new URL("sound-choose.png",import.meta.url).href,_4e=""+new URL("bgm-locked-bg.png",import.meta.url).href,y4e=""+new URL("bgm-unlock-bg.png",import.meta.url).href,sX=""+new URL("point-active.png",import.meta.url).href,lX=""+new URL("point-default.png",import.meta.url).href;function x4e(){const{playSeClick:t,playSeEnter:e}=Nn(),[r,n]=ve.useState(1),[i,a]=ve.useState([]),o=vt(d=>d.GUI.titleBgm),s=vt(d=>d.userData.appreciationData),c="Title_BGM";let l=c;const u=s.bgm.length;s.bgm.forEach((d,v)=>{d.url===o&&(l=d.name)});const f=Math.ceil(u/8)||1,h=Nu("");l!==c&&l!==h.value&&h.set(l);const p=Yr();return ve.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),N.jsxs("div",{className:Ut.bgmContainer,children:[N.jsxs("div",{className:Ut.bgmListContainer,children:[i.map((d,v)=>N.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(nT({asset:"titleBgm",value:d.url}))},className:Ut.bgmElement,onMouseEnter:e,children:[N.jsxs("div",{className:Ut.bgmName,children:[N.jsx("div",{className:Ut.bgm_item_name,children:d.name}),N.jsx("div",{className:Ut.bgm_sound_wrapper,children:N.jsx("img",{src:d.name===h.value?m4e:g4e,alt:"",className:d.name===h.value?Ut.bgm_sound_select:Ut.bgm_sound_unselect})})]}),N.jsx("img",{src:y4e,className:Ut.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,v)=>N.jsx("div",{className:`${Ut.bgmElement}`,style:{cursor:"default"},children:N.jsx("img",{src:_4e,alt:"",className:Ut.bgmLocked})},v))]}),N.jsxs("div",{className:Ut.footer,children:[N.jsx("div",{className:Ut.Btn,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),N.jsx("div",{className:Ut.footer_page_container,children:Array.from({length:f}).map((d,v)=>N.jsx("div",{className:Ut.footer_page_indicator,onMouseEnter:e,onClick:()=>{t(),n(v+1)},children:N.jsx("img",{src:v+1===r?sX:lX,alt:"",className:v+1===r?Ut.footer_page_icon_checked:Ut.footer_page_icon_unchecked})},v))}),N.jsx("div",{className:`${Ut.Btn} ${Ut.Btn_r}`,onMouseEnter:e,onClick:()=>{t(),r!==f&&n(r+1)}})]})]})}function b4e(t){const e=Nu(!1),{playSeEnter:r,playSeClick:n}=Nn();return N.jsxs(N.Fragment,{children:[e.value&&N.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:Ut.showFullContainer,onMouseEnter:r,children:N.jsx("div",{className:Ut.showFullCgMain,children:N.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),N.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${Ut.cgElement} ${Ut.cgUnLockElement}`,children:N.jsx("div",{className:Ut.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const w4e=""+new URL("cg-lock.png",import.meta.url).href;function E4e(){const t=vt(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=Nn(),[n,i]=ve.useState(1),[a,o]=ve.useState([]),s=t.cg.length,c=Math.ceil(s/6)||1;return ve.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),N.jsxs("div",{className:Ut.cgMain,children:[N.jsxs("div",{className:Ut.cgContainer,children:[a.map((l,u)=>N.jsx(b4e,{name:l.name,imgUrl:l.url},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>N.jsx("div",{className:Ut.cgElement,style:{cursor:"default"},children:N.jsx("img",{src:w4e,alt:"",style:{width:"100%"}})},u))]}),N.jsxs("div",{className:Ut.footer,children:[N.jsx("div",{className:Ut.Btn,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),N.jsx("div",{className:Ut.footer_page_container,children:Array.from({length:c}).map((l,u)=>N.jsx("div",{className:Ut.footer_page_indicator,onMouseEnter:e,onClick:()=>{r(),i(u+1)},children:N.jsx("img",{src:u+1===n?sX:lX,alt:"",className:u+1===n?Ut.footer_page_icon_checked:Ut.footer_page_icon_unchecked})},u))}),N.jsx("div",{className:`${Ut.Btn} ${Ut.Btn_r}`,onMouseEnter:e,onClick:()=>{r(),n!==c&&i(n+1)}})]})]})}const S4e=""+new URL("gallery-bg.webp",import.meta.url).href;function C4e(){const{playSeClick:t,playSeEnter:e}=Nn(),r=vt(c=>c.GUI.showExtra),n=Yr(),[i,a]=ve.useState("bgm"),o=vt(c=>c.GUI.gameUIConfigs[ci.extra]);ve.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),ve.useEffect(()=>{r&&n(Pr.setLoadVideo(!0))},[r]);const s=()=>{t(),n(bt({component:"showExtra",visibility:!1})),n(Pr.setLoadVideo(!1))};return N.jsx(N.Fragment,{children:r&&N.jsxs("div",{className:Ut.extra,style:{background:`url(${S4e}) no-repeat center center`,backgroundSize:"cover"},children:[N.jsx(Vi,{item:o.buttons.Extra_back_button,defaultClass:Ut.backIcon,onClick:s,onMouseEnter:e}),N.jsx(Vi,{item:o.other[ib.Extra_title],defaultClass:Ut.extraTop}),N.jsx("div",{className:Ut.extraTop,children:N.jsx("div",{className:Ut.backIcon,onClick:()=>{n(bt({component:"showExtra",visibility:!1})),t()},onMouseEnter:e})}),N.jsxs("div",{className:Ut.mainContainer,children:[N.jsxs("div",{className:Ut.mainTab,children:[i==="bgm"?N.jsx("span",{className:Ut.mainTab_bgm}):N.jsx("span",{className:Ut.mainTab_unselect_bgm,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?N.jsx("span",{className:Ut.mainTab_cg}):N.jsx("span",{className:Ut.mainTab_unselect_cg,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?N.jsx(x4e,{}):N.jsx(E4e,{})]})]})})}const A4e="_tag_yghix_2",T4e="_container_yghix_17",I4e="_showContainer_yghix_1",R4e="_singleButton_yghix_33",P4e="_button_text_yghix_37",_i={tag:A4e,container:T4e,showContainer:I4e,singleButton:R4e,button_text:P4e},O4e=()=>{const t=Nu(!1),e=vt(a=>a.stage),r=Yr(),n=(a,o)=>{r(bt({component:a,visibility:o}))},i=a=>{r(zc(a))};return N.jsx(N.Fragment,{children:e.enableFilm!==""&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:_i.tag,onClick:()=>{t.set(!t.value)},children:N.jsx(CPe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&N.jsxs("div",{className:_i.container,children:[N.jsx("span",{className:_i.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:N.jsx("span",{className:_i.button_text,children:" / BACKLOG"})}),N.jsx("span",{className:_i.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:N.jsx("span",{className:_i.button_text,children:" / REPLAY VOICE"})}),N.jsx("span",{id:"Button_ControlPanel_auto",className:_i.singleButton,onClick:()=>{BH(),t.set(!t.value)},children:N.jsx("span",{className:_i.button_text,children:" / AUTO"})}),N.jsx("span",{id:"Button_ControlPanel_fast",className:_i.singleButton,onClick:()=>{$H(),t.set(!t.value)},children:N.jsx("span",{className:_i.button_text,children:" / FAST"})}),N.jsx("span",{className:_i.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Save),n("showMenuPanel",!0)},children:N.jsx("span",{className:_i.button_text,children:" / SAVE"})}),N.jsx("span",{className:_i.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Load),n("showMenuPanel",!0)},children:N.jsx("span",{className:_i.button_text,children:" / LOAD"})}),N.jsx("span",{className:_i.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Option),n("showMenuPanel",!0)},children:N.jsx("span",{className:_i.button_text,children:" / OPTIONS"})}),N.jsx("span",{className:_i.singleButton,onClick:()=>{t.set(!t.value),wf()},children:N.jsx("span",{className:_i.button_text,children:" / TITLE"})})]})]})})},k4e="_devPanelMain_11x6i_1",F4e="_devPanelOpener_11x6i_13",w8={devPanelMain:k4e,devPanelOpener:F4e};function N4e(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function L4e(){function t(){return!!window.location.hash.match(/dev/)}const e=Nu(!1),r=Nu(window.location.hash),n=vt(c=>c.stage);ve.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=fb(),s=N.jsxs(N.Fragment,{children:[N.jsx("div",{onClick:()=>N4e(),children:"Save PIXI Screenshot"}),N.jsxs("div",{children:["Current Language:",o.language]}),N.jsx("div",{onClick:()=>{var c;return(c=Y.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),N.jsx("div",{children:"Stage State"}),N.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return N.jsxs(N.Fragment,{children:[i&&e.value&&N.jsxs("div",{className:w8.devPanelMain,children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),N.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),N.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&N.jsx("div",{onClick:()=>e.set(!0),className:w8.devPanelOpener,children:"Open Dev Panel"})]})}function M4e(t){return Md[t]}function B4e(){const{i18n:t}=fb(),e=qd(n=>n.userData),r=Yr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Md.zhCn,o=M4e(a);t.changeLanguage(o),r($o({key:"language",value:a})),Je.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&Mi()}}const D4e="_trans_8uz61_2",U4e="_langWrapper_8uz61_10",j4e="_lang_8uz61_10",$4e="_langSelect_8uz61_29",G4e="_langSelectButton_8uz61_35",W0={trans:D4e,langWrapper:U4e,lang:j4e,langSelect:$4e,langSelectButton:G4e};function V4e(){const t=B4e(),[e,r]=ve.useState(!1);ve.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return N.jsx(N.Fragment,{children:e&&N.jsx("div",{className:W0.trans,children:N.jsxs("div",{className:W0.langWrapper,children:[N.jsx("div",{className:W0.lang,children:"LANGUAGE SELECT"}),N.jsx("div",{className:W0.langSelect,children:Object.keys(ZM).map(i=>N.jsx("div",{className:W0.langSelectButton,onClick:()=>n(Md[i]),children:ZM[i]},i))})]})})})}const H4e=()=>{const t=vt(n=>n.GUI),[e,r]=ve.useState(!1);return ve.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function X4e(){const t=vt(i=>i.userData),e=vt(i=>i.GUI);Yr();const r=t.optionData.fullScreen,n=e.isEnterGame;ve.useEffect(()=>{switch(r){case Ts.on:{n&&(document.documentElement.requestFullscreen(),Ah&&Ah.lock(["Escape","F11"]));break}case Ts.off:{document.fullscreenElement&&(document.exitFullscreen(),Ah&&Ah.unlock());break}}},[r])}const z4e="_gameMenuPanelWrapper_1bdvx_1",W4e="_gameMenuPanel_1bdvx_1",Y4e="_menuButton_1bdvx_12",q4e="_gameMenuPanelContentWrapper_1bdvx_26",K4e="_mask_1bdvx_34",Z4e="_gameMenuPanelContent_1bdvx_26",J4e="_buttonswrapper_1bdvx_54",Q4e="_button_1bdvx_54",ko={gameMenuPanelWrapper:z4e,gameMenuPanel:W4e,menuButton:Y4e,gameMenuPanelContentWrapper:q4e,mask:K4e,gameMenuPanelContent:Z4e,buttonswrapper:J4e,button:Q4e},eFe=()=>{const t=Lu("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=Nn(),i=vt(m=>m.GUI),[a,o]=ve.useState(!1);ve.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const s=Yr(),c=(m,g)=>{s(bt({component:m,visibility:g}))},l=m=>{s(zc(m))},u=()=>{r(),c("isShowGameMenu",!0)},f=()=>{r(),c("isShowGameMenu",!1)},h=()=>{r(),l(Ur.Save),c("isShowGameMenu",!1),c("showMenuPanel",!0)},p=()=>{l(Ur.Load),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},d=()=>{l(Ur.Option),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},v=()=>{n(),Jo({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{c("isShowGameMenu",!1),wf()}})};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:ko.gameMenuPanel,children:N.jsx("div",{className:ko.menuButton,onClick:u,onMouseEnter:e})}),a&&N.jsxs("div",{className:ko.gameMenuPanelContentWrapper,children:[N.jsx("div",{className:ko.mask}),N.jsx("div",{className:ko.gameMenuPanelContent,children:N.jsxs("div",{className:ko.buttonswrapper,children:[N.jsx("span",{className:ko.button,onMouseEnter:e,onClick:f,children:t("buttons.backToGame")}),N.jsx("span",{className:ko.button,onMouseEnter:e,onClick:h,children:t("buttons.preserve")}),N.jsx("span",{className:ko.button,onMouseEnter:e,onClick:p,children:t("buttons.read")}),N.jsx("span",{className:ko.button,onMouseEnter:e,onClick:d,children:t("buttons.setting")}),N.jsx("span",{className:ko.button,onMouseEnter:e,onClick:v,children:t("buttons.backToTitle")})]})})]})]})},tFe="_Loading_container_jqbjc_2",rFe="_spin_jqbjc_1",nFe={Loading_container:tFe,spin:rFe};function iFe(){const[t,e]=ve.useState(!1);return ve.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?N.jsx("div",{className:nFe.Loading_container,children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[N.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[N.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),N.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("defs",{children:N.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[N.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),N.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),N.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}const aFe="_storyLine_45x8i_2",oFe="_bg_animation_45x8i_1",sFe="_goBack_45x8i_16",lFe="_storyLine_content_45x8i_34",uFe="_storyLine_item_45x8i_42",cFe="_info_card_45x8i_51",fFe="_playButton_icon_45x8i_70",hFe="_name_45x8i_87",oc={storyLine:aFe,bg_animation:oFe,goBack:sFe,storyLine_content:lFe,storyLine_item:uFe,info_card:cFe,playButton_icon:fFe,name:hFe},uX=()=>{const{playSeClick:t,playSeEnter:e}=Nn(),r=Yr(),n=vt(u=>u.GUI),i=vt(u=>u.stage),a=vt(u=>u.saveData.allStorylineData),o=vt(u=>u.GUI.gameUIConfigs[ci.storyline]);ve.useEffect(()=>{eb(),n.showStoryLine&&r(Pr.setShowStoryline(!1))},[n.showStoryLine]);const s=()=>{t(),wf(),r(iT(!1))},c=(u,f)=>{u.stopPropagation(),r(iT(!1)),r(Pr.setIsShowUnlock(!0)),lk(f.videoData)};function l(u){return Wt(u,zt.ui)}return N.jsx(N.Fragment,{children:n.showStoryLine&&N.jsxs("div",{className:oc.storyLine,id:"camera",children:[!n.showProgressAndAchievement&&N.jsx(Vi,{item:o.buttons.Storyline_back_button,defaultClass:oc.goBack,onClick:s,onMouseEnter:e}),N.jsx("div",{className:oc.storyLine_content,style:{width:Tt(i.storyLineBgX),height:i.storyLineBgY>720?Tt(i.storyLineBgY):"100%",backgroundImage:`url("${i.storyLineBg}")`,backgroundSize:i.storyLineBgX&&i.storyLineBgY&&`${Tt(i.storyLineBgX)}px ${Tt(i.storyLineBgY)}px`},children:(a==null?void 0:a.map((u,f)=>{const{name:h,thumbnailUrl:p,x:d,y:v,isUnlock:m,isHideName:g}=u.storyLine;return m?N.jsx("div",{className:oc.storyLine_item,style:p?{top:`${Tt(v)}px`,left:`${Tt(d)}px`,backgroundImage:`url("${l(p)}")`}:{},onClick:_=>c(_,u),children:N.jsxs("div",{className:oc.info_card,children:[N.jsx("span",{className:oc.playButton_icon,style:{width:g?"100%":"50%"}}),g?null:N.jsx("span",{className:oc.name,children:h})]})},`storyLine-${f}`):null}))??null})]})})},dFe="_achievement_hr2hq_1",pFe="_bg_animation_hr2hq_1",vFe="_goback_hr2hq_14",gFe="_achievement_content_hr2hq_32",mFe="_achievement_current_hr2hq_39",_Fe="_text_hr2hq_52",yFe="_number_hr2hq_57",xFe="_pregessBar_hr2hq_62",bFe="_pregressBar_inner_hr2hq_71",wFe="_achievement_content_bg_hr2hq_80",EFe="_achievement_list_hr2hq_89",SFe="_achievement_item_hr2hq_93",CFe="_unlockname_hr2hq_106",AFe="_ripple_hr2hq_123",TFe="_info_card_hr2hq_126",IFe="_condition_hr2hq_158",RFe="_condition_bg_active_hr2hq_167",PFe="_time_hr2hq_170",OFe="_description_hr2hq_171",kFe="_info_card_position_right_hr2hq_176",FFe="_achievement_item_bg_active_hr2hq_180",Kn={achievement:dFe,bg_animation:pFe,goback:vFe,achievement_content:gFe,achievement_current:mFe,text:_Fe,number:yFe,pregessBar:xFe,pregressBar_inner:bFe,achievement_content_bg:wFe,achievement_list:EFe,achievement_item:SFe,unlockname:CFe,ripple:AFe,"ripple-effect":"_ripple-effect_hr2hq_1",info_card:TFe,condition:IFe,condition_bg_active:RFe,time:PFe,description:OFe,info_card_position_right:kFe,achievement_item_bg_active:FFe},NFe={achieveBg:"",achieveBgX:1280,achieveBgY:720},cX=()=>{var T,R;const{playSeClick:t,playSeEnter:e}=Nn(),r=vt(O=>O.GUI);vt(O=>O.stage);const n=vt(O=>O.saveData),i=Yr(),[a,o]=ve.useState(null),[s,c]=ve.useState(null),[l,u]=ve.useState(null),[f,h]=ve.useState(null),[p,d]=ve.useState(NFe),[v,m]=ve.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),g=vt(O=>O.GUI.gameUIConfigs[ci.achievement]);ve.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),fe.dispatch(Pr.setIsShowUnlock(!1)),_())},[r.showAchievement]);async function _(){var B,U,X,ee;const O=Wt(bo.Achieve,zt.scene),P=await Na(O),L=hv(P,bo.Achieve,O).sentenceList;if((L==null?void 0:L.length)>0&&((B=L[0])==null?void 0:B.commandRaw)==="changeBg"){const ne=((U=L[0])==null?void 0:U.content)??"";let W=1280,D=720;const z=window.localStorage.getItem("game-screen-size"),V=(z==null?void 0:z.split("x"))??[];(V==null?void 0:V.length)>0&&V[0]==="1920"&&(W=Number(V[0]),D=Number(V[1])),(ee=(X=L[0])==null?void 0:X.args)==null||ee.forEach(G=>{(G==null?void 0:G.key)==="x"?W=Number(G==null?void 0:G.value):(G==null?void 0:G.key)==="y"&&(D=Number(G==null?void 0:G.value))}),d({achieveBg:ne,achieveBgX:W,achieveBgY:D})}setTimeout(()=>{y()},100)}async function y(){var B;const O=fe.getState().saveData.allUnlockAchieveList,P=((B=fe.getState().saveData.unlockAchieveData)==null?void 0:B.length)??0,k=O.length||0,L=(P/k*100).toFixed(2)+"%";m({unlocked:P,allTotal:k,currentProgress:L})}const w=O=>Wt(O,zt.ui),b=(O,P)=>O+500>=P,E=(O,P)=>O>=P?P-100:O,C=()=>{t(),wf(),i(bt({component:"showAchievement",visibility:!1}))},A=()=>{var ne,W,D,z,V,G,ie,se,me,ue,we,Be,Fe,Ee,Ae,Ge,We,Ve,Xe,qe,Et,Rt,ft,ht,St,rr,Ht,nr,Gt,xt,Zt,Oe,j,de,Se,ke,ae;const O=(ne=a==null?void 0:a.args)!=null&&ne.hide?"":(a==null?void 0:a.content)??"",P=s!=null&&s.content?Wt(s==null?void 0:s.content,zt.background):"",k=(D=(W=l==null?void 0:l.args)==null?void 0:W.style)!=null&&D.image?Wt(l.args.style.image,zt.ui):"",L=(V=(z=l==null?void 0:l.args)==null?void 0:z.hoverStyle)!=null&&V.image?Wt(l==null?void 0:l.args.hoverStyle.image,zt.ui):"",B=!((G=s==null?void 0:s.args)!=null&&G.hide)&&P?{...(ie=s==null?void 0:s.args)==null?void 0:ie.style,backgroundImage:`url(${P})`,transform:((se=s==null?void 0:s.args.style)==null?void 0:se.scale)&&`scale(${(me=s==null?void 0:s.args.style)==null?void 0:me.scale})`,width:((ue=s==null?void 0:s.args.style)==null?void 0:ue.width)&&`${Tt((we=s==null?void 0:s.args.style)==null?void 0:we.width)}px`,height:((Be=s==null?void 0:s.args.style)==null?void 0:Be.height)&&`${Tt((Fe=s==null?void 0:s.args.style)==null?void 0:Fe.height)}px`}:{},U=(Ee=a==null?void 0:a.args)!=null&&Ee.hide?{}:{...(Ae=a==null?void 0:a.args)==null?void 0:Ae.style,color:(We=(Ge=a==null?void 0:a.args)==null?void 0:Ge.style)==null?void 0:We.fontColor,transform:(Ve=a==null?void 0:a.args.style)!=null&&Ve.scale?`scale(${a.args.style.scale})`:""},X=(Xe=l==null?void 0:l.args)!=null&&Xe.hide?{}:{backgroundImage:`url(${k})`,transform:(Et=(qe=l==null?void 0:l.args)==null?void 0:qe.style)!=null&&Et.scale?`scale(${l.args.style.scale})`:void 0,width:(ft=(Rt=l==null?void 0:l.args)==null?void 0:Rt.style)!=null&&ft.width?`${Tt(l.args.style.width)}px`:void 0,height:(St=(ht=l==null?void 0:l.args)==null?void 0:ht.style)!=null&&St.height?`${Tt(l.args.style.height)}px`:void 0,top:(Ht=(rr=l==null?void 0:l.args)==null?void 0:rr.style)!=null&&Ht.y?`${Tt(l.args.style.y)}px`:void 0,left:(Gt=(nr=l==null?void 0:l.args)==null?void 0:nr.style)!=null&&Gt.x?`${Tt(l.args.style.x)}px`:void 0},ee=(xt=l==null?void 0:l.args)!=null&&xt.hide?{}:{backgroundImage:`url(${L})`,transform:(Oe=(Zt=l==null?void 0:l.args)==null?void 0:Zt.hoverStyle)!=null&&Oe.scale?`scale(${(j=l.args.hoverStyle)==null?void 0:j.scale})`:void 0,width:(Se=(de=l==null?void 0:l.args)==null?void 0:de.hoverStyle)!=null&&Se.width?`${Tt(l.args.hoverStyle.width)}px`:void 0,height:(ae=(ke=l==null?void 0:l.args)==null?void 0:ke.hoverStyle)!=null&&ae.height?`${Tt(l.args.hoverStyle.height)}px`:void 0};return N.jsx("div",{className:Kn.achievement_content,children:N.jsxs("div",{className:Kn.achievement_current,style:B||{},children:[N.jsx("span",{className:Kn.text,style:U||{},children:O}),N.jsx("span",{className:Kn.number,style:U||{},children:`${v.unlocked}/${v.allTotal}`}),N.jsx("span",{className:Kn.pregessBar,style:X||{},children:N.jsx("span",{className:Kn.pregressBar_inner,style:{...ee,width:v.currentProgress}})})]})})};return N.jsx(N.Fragment,{children:r.showAchievement&&N.jsxs("div",{className:Kn.achievement,id:"camera",children:[!r.showProgressAndAchievement&&N.jsx(Vi,{item:g.buttons.Achievement_back_button,defaultClass:Kn.goback,onClick:C,onMouseEnter:e}),A(),N.jsx("div",{className:Kn.achievement_content_bg,style:{width:p!=null&&p.achieveBgX?Tt(p.achieveBgX):"100%",height:(p==null?void 0:p.achieveBgY)>720?Tt(p.achieveBgY):"100%",backgroundImage:`url("${p==null?void 0:p.achieveBg}")`,backgroundSize:(p==null?void 0:p.achieveBgX)&&(p==null?void 0:p.achieveBgY)&&`${Tt(p.achieveBgX)}px ${Tt(p.achieveBgY)}px`},children:((T=n.allUnlockAchieveList)==null?void 0:T.length)>0&&N.jsx("div",{className:Kn.achievement_list,children:((R=n.allUnlockAchieveList)==null?void 0:R.map(({unlockname:O,x:P,y:k,url:L,isShowUnlock:B,saveTime:U,condition:X},ee)=>{var W,D,z,V,G,ie,se,me;const ne=f!=null&&f.args.hide?{}:{width:(D=(W=f==null?void 0:f.args)==null?void 0:W.style)!=null&&D.width?`${Tt(f.args.style.width)}px`:void 0,height:(V=(z=f==null?void 0:f.args)==null?void 0:z.style)!=null&&V.height?`${Tt(f.args.style.height)}px`:void 0};return N.jsxs("div",{className:`${Kn.achievement_item} ${B?Kn.achievement_item_bg_active:""}`,style:{top:`${Tt(k)}px`,left:`${E(Tt(P),Tt((p==null?void 0:p.achieveBgX)??""))}px`,backgroundImage:`url("${w(B?L:!(f!=null&&f.args.hide)&&((ie=(G=f==null?void 0:f.args)==null?void 0:G.style)!=null&&ie.image)?(me=(se=f==null?void 0:f.args)==null?void 0:se.style)==null?void 0:me.image:"")}")`,...ne},children:[B&&N.jsx("div",{className:Kn.ripple}),B&&N.jsx("span",{className:Kn.unlockname,children:O}),N.jsxs("div",{className:`${Kn.info_card} ${b(Tt(P),Tt((p==null?void 0:p.achieveBgX)??0))?Kn.info_card_position_right:""}`,children:[X&&N.jsx("span",{className:`${Kn.condition} ${B?Kn.condition_bg_active:""}`,children:X}),U&&N.jsx("span",{className:Kn.time,children:`${U}`}),N.jsxs("span",{className:Kn.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${ee}`)}))??null})})]})})};var mk=(t=>(t.Video="video",t.Image="image",t))(mk||{});const LFe="_beautyGuideImageDialog_qmqz2_1",MFe="_mark_qmqz2_10",BFe="_content_qmqz2_21",DFe="_content_bg_qmqz2_33",UFe="_imgWrapper_qmqz2_44",jFe="_fade_qmqz2_1",$Fe="_btnsWrapper_qmqz2_56",GFe="_btn_qmqz2_56",VFe="_btn_prev_disabled_qmqz2_74",HFe="_btn_next_disabled_qmqz2_75",XFe="_btn_txt_qmqz2_82",co={beautyGuideImageDialog:LFe,mark:MFe,content:BFe,content_bg:DFe,imgWrapper:UFe,fade:jFe,btnsWrapper:$Fe,btn:GFe,btn_prev_disabled:VFe,btn_next_disabled:HFe,btn_txt:XFe},zFe=t=>{var d,v,m;const e=Yr(),{playSeClick:r,playSeEnter:n}=Nn(),[i,a]=ve.useState((t==null?void 0:t.imgUrl)??""),[o,s]=ve.useState(0),[c,l]=ve.useState({}),u=vt(g=>g.GUI.gameUIConfigs[ci.collection]);ve.useEffect(()=>{var g,_,y;if(((g=t.imgList)==null?void 0:g.length)>0){const w=t.imgList.findIndex(b=>b.url===t.imgUrl);w>-1&&s(w)}if(t.show){const w=_l((y=(_=u==null?void 0:u.other[ys.Collection_detail_dialog_bg])==null?void 0:_.args)==null?void 0:y.style);l(w)}},[t.imgList,t.show]);const f=()=>{r(),e(bt({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const g=o-1;g<0||(s(g),a(t.imgList[g].url))},p=()=>{r();const g=o+1;g>t.imgList.length-1||(s(g),a(t.imgList[g].url))};return N.jsxs("div",{className:co.beautyGuideImageDialog,children:[N.jsx("div",{className:co.mark,onClick:f}),N.jsxs("div",{className:co.content,style:{width:c==null?void 0:c.width,height:c==null?void 0:c.height},children:[N.jsx(Jd,{item:u.other[ys.Collection_detail_dialog_bg],defaultClass:co.content_bg}),N.jsx("div",{className:co.imgWrapper,children:t.imgList&&t.imgList.map((g,_)=>g.type===mk.Image&&_===o?N.jsx("img",{src:g.url,className:co.transitionImage},`img-${_}`):null)}),N.jsxs("div",{className:co.btnsWrapper,children:[N.jsx(Vi,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`${co.btn} 
                            ${o<1?co.btn_prev_disabled:""}`,onClick:h,onMouseEnter:n}),N.jsxs("span",{className:co.btn_txt,style:_l((v=(d=u==null?void 0:u.other[ys==null?void 0:ys.Collection_detail_dialog_text])==null?void 0:d.args)==null?void 0:v.style)??{},children:[o+1,"/",((m=t.imgList)==null?void 0:m.length)??0,""]}),N.jsx(Vi,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`${co.btn} 
                            ${o+1>=t.imgList.length?co.btn_next_disabled:""}`,onClick:p,onMouseEnter:n})]})]})]})},WFe="_beautyGuideDetail_main_3eoo7_1",YFe="_beautyGuide_detail_bg_3eoo7_15",qFe="_beautyGuideDetail_left_3eoo7_26",KFe="_header_3eoo7_34",ZFe="_goback_3eoo7_41",JFe="_title_3eoo7_55",QFe="_pictureUrl_3eoo7_59",eNe="_personal_info_3eoo7_70",tNe="_name_3eoo7_74",rNe="_info_3eoo7_81",nNe="_beautyGuideDetail_right_3eoo7_99",iNe="_contentWrapper_3eoo7_106",aNe="_content_3eoo7_106",oNe="_content_img_3eoo7_119",sNe="_thumbnailWrapper_3eoo7_130",lNe="_thumbnail_box_3eoo7_141",uNe="_video_mark_3eoo7_167",cNe="_desc_text_3eoo7_178",An={beautyGuideDetail_main:WFe,beautyGuide_detail_bg:YFe,beautyGuideDetail_left:qFe,header:KFe,goback:ZFe,title:JFe,pictureUrl:QFe,personal_info:eNe,name:tNe,info:rNe,beautyGuideDetail_right:nNe,contentWrapper:iNe,content:aNe,content_img:oNe,thumbnailWrapper:sNe,thumbnail_box:lNe,video_mark:uNe,desc_text:cNe},fNe=t=>{var p,d,v,m,g,_,y,w,b,E;const e=Yr(),{playSeClick:r,playSeEnter:n}=Nn(),i=vt(C=>C.GUI),[a,o]=ve.useState(null),[s,c]=ve.useState(""),l=vt(C=>C.GUI.gameUIConfigs[ci.collection]);ve.useEffect(()=>{var A;const C=t.info;C!=null&&C.contentList&&((A=C==null?void 0:C.contentList)==null?void 0:A.length)>0&&o(C.contentList[0])},[t]);const u=ve.useMemo(()=>{var T;let C=[];const A=t.info;return A!=null&&A.contentList&&((T=A==null?void 0:A.contentList)==null?void 0:T.length)>0&&(C=A.contentList.filter(R=>R.type==="image")),C},[]),f=()=>{r(),e(bt({component:"showBeautyGuideDetail",visibility:!1}))},h=C=>{r(),c(C),e(bt({component:"showBeautyGuideImageDialog",visibility:!0}))};return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:An.beautyGuideDetail_main,children:[N.jsx(Jd,{item:l.other[ys.Collection_detail_bg],defaultClass:An.beautyGuide_detail_bg}),N.jsxs("div",{className:An.beautyGuideDetail_left,children:[N.jsxs("div",{className:An.header,children:[N.jsx(Vi,{item:l.buttons.Collection_back_button,defaultClass:An.goback,onClick:f,onMouseEnter:n}),N.jsx(Vi,{item:l.other.Collection_detail_title,defaultClass:An.title})]}),N.jsx("div",{className:An.pictureUrl,children:N.jsx("img",{src:(p=t.info)==null?void 0:p.image,alt:""})}),N.jsxs("div",{className:An.personal_info,children:[N.jsx("h3",{className:An.name,children:((d=t.info)==null?void 0:d.name)??""}),N.jsxs("div",{className:An.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((v=t.info)==null?void 0:v.height)??"-"})]}),N.jsxs("div",{className:An.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((m=t.info)==null?void 0:m.weight)??"-"})]}),N.jsxs("div",{className:An.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((g=t.info)==null?void 0:g.bustSize)??"-"})]}),N.jsxs("div",{className:An.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((_=t.info)==null?void 0:_.waistSize)??"-"})]}),N.jsxs("div",{className:An.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((y=t.info)==null?void 0:y.hipSize)??"-"})]})]})]}),N.jsxs("div",{className:An.beautyGuideDetail_right,children:[N.jsxs("div",{className:An.contentWrapper,children:[N.jsx("div",{className:An.content,children:a&&N.jsxs(N.Fragment,{children:[a.type==="video"&&N.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,children:N.jsx("source",{src:a.url,type:"video/mp4"})},a.url),a.type==="image"&&N.jsx("img",{className:An.content_img,src:a.url,onClick:()=>{h(a.url)}})]})}),N.jsx("div",{className:An.thumbnailWrapper,children:N.jsx("div",{children:((b=(w=t.info)==null?void 0:w.contentList)==null?void 0:b.map((C,A)=>N.jsxs("div",{className:An.thumbnail_box,onClick:()=>{o(C)},children:[N.jsx("img",{src:C.url,alt:""}),C.type===mk.Video&&N.jsx("div",{className:An.video_mark,children:N.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:N.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${A}`)))??null})})]}),N.jsx("div",{className:An.desc_text,children:N.jsx("span",{children:((E=t.info)==null?void 0:E.description)??""})})]})]}),i.showBeautyGuideImageDialog&&N.jsx(zFe,{imgUrl:s,imgList:u,show:i.showBeautyGuideImageDialog})]})},hNe="_beautyGuide_main_1gajn_1",dNe="_bg_animation_1gajn_1",pNe="_beautyGuide_bg_1gajn_16",vNe="_beautyGuide_header_1gajn_27",gNe="_goback_1gajn_33",mNe="_title_1gajn_51",_Ne="_beautyGuide_content_1gajn_57",yNe="_item_1gajn_63",sc={beautyGuide_main:hNe,bg_animation:dNe,beautyGuide_bg:pNe,beautyGuide_header:vNe,goback:gNe,title:mNe,beautyGuide_content:_Ne,item:yNe},xNe=()=>{const t=Yr(),e=vt(v=>v.GUI),{playSeClick:r,playSeEnter:n}=Nn(),[i,a]=ve.useState(null),o=vt(v=>v.GUI.gameUIConfigs[ci.collection]),[s,c]=ve.useState([]),[l,u]=ve.useState({}),[f,h]=ve.useState(null);ve.useEffect(()=>{if(e.showBeautyGuide){const v=[],m=(o==null?void 0:o.other)??{},g={};let _=1;Object.entries(m).forEach(([y,w])=>{var b,E,C;if(y!=null&&y.includes("Collection_img")){const A=(b=w==null?void 0:w.args)==null?void 0:b.info;let T=((E=w==null?void 0:w.args)==null?void 0:E.style)??{};const R=(C=w==null?void 0:w.args)==null?void 0:C.images;T=_l(T);const O=ZSe(R);v.push({name:A==null?void 0:A.name,image:A!=null&&A.image?Wt(A==null?void 0:A.image,zt.ui):"",height:A==null?void 0:A.height,weight:A==null?void 0:A.weight,bustSize:A==null?void 0:A.bustSize,waistSize:A==null?void 0:A.waistSize,hipSize:A==null?void 0:A.hipSize,description:(A==null?void 0:A.description)??"",contentList:O}),g[`Collection_img${_}`]=T,_++}}),u(g),c(v)}},[e.showBeautyGuide]);const p=()=>{r(),a(null),t(bt({component:"showBeautyGuide",visibility:!1}))},d=(v,m)=>{r(),a(v),h(l[`Collection_img${m+1}`]),t(bt({component:"showBeautyGuideDetail",visibility:!0}))};return N.jsxs(N.Fragment,{children:[e.showBeautyGuide&&N.jsxs("div",{className:sc.beautyGuide_main,children:[N.jsx(Jd,{item:o.other[ys.Collection_bg],defaultClass:sc.beautyGuide_bg}),N.jsxs("div",{className:sc.beautyGuide_header,children:[N.jsx(Vi,{item:o.buttons.Collection_back_button,defaultClass:sc.goback,onClick:p,onMouseEnter:n}),N.jsx(Vi,{item:o.other.Collection_title,defaultClass:sc.title})]}),N.jsx("div",{className:sc.beautyGuide_content,children:s.map((v,m)=>v!=null&&v.image?N.jsx("div",{className:sc.item,onClick:()=>d(v,m),onMouseEnter:n,children:N.jsx("img",{src:v.image})},`${v==null?void 0:v.name}$-${m}`):null)})]}),e.showBeautyGuideDetail&&N.jsx(fNe,{info:i,itemStyle:f})]})},bNe="_modalR18_main_167bk_1",wNe="_footer_167bk_16",E8={modalR18_main:bNe,"fade-in":"_fade-in_167bk_1",footer:wNe},ENe=""+new URL("r18-exit-btn-default.png",import.meta.url).href,SNe=""+new URL("r18-exit-btn-active.png",import.meta.url).href,CNe=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,ANe=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,TNe=()=>{Lu("r18.");const t=Yr(),e=vt(d=>d.GUI),{playSeClick:r,playSeEnter:n}=Nn(),[i,a]=ve.useState(!1),[o,s]=ve.useState(!1),[c,l]=ve.useState({width:void 0,height:void 0,opacity:0}),[u,f]=ve.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(SH(!1))},p=()=>{r(),window.location.href="/"};return N.jsx(N.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&N.jsx("div",{className:`${E8.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:N.jsxs("div",{className:E8.footer,children:[N.jsx("div",{id:"exitButton",children:N.jsx("img",{src:i?SNe:ENe,onClick:p,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:d=>{l({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:c})}),N.jsx("div",{id:"confirmButton",children:N.jsx("img",{src:o?ANe:CNe,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:d=>{f({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:u})})]})})})};function INe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function RNe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function fX(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}fX.prototype=Error.prototype;function PNe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new fX(a,"All promises were rejected"))})}catch(s){n(s)}})}var ONe=setTimeout;function hX(t){return!!(t&&typeof t.length<"u")}function kNe(){}function FNe(t,e){return function(){t.apply(e,arguments)}}function Sn(t){if(!(this instanceof Sn))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pX(t,this)}function dX(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Sn._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?cT:yv)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){yv(e.promise,i);return}cT(e.promise,n)})}function cT(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Sn){t._state=3,t._value=e,fT(t);return}else if(typeof r=="function"){pX(FNe(r,e),t);return}}t._state=1,t._value=e,fT(t)}catch(n){yv(t,n)}}function yv(t,e){t._state=2,t._value=e,fT(t)}function fT(t){t._state===2&&t._deferreds.length===0&&Sn._immediateFn(function(){t._handled||Sn._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)dX(t,t._deferreds[e]);t._deferreds=null}function NNe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function pX(t,e){var r=!1;try{t(function(n){r||(r=!0,cT(e,n))},function(n){r||(r=!0,yv(e,n))})}catch(n){if(r)return;r=!0,yv(e,n)}}Sn.prototype.catch=function(t){return this.then(null,t)};Sn.prototype.then=function(t,e){var r=new this.constructor(kNe);return dX(this,new NNe(t,e,r)),r};Sn.prototype.finally=INe;Sn.all=function(t){return new Sn(function(e,r){if(!hX(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Sn.any=PNe;Sn.allSettled=RNe;Sn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Sn?t:new Sn(function(e){e(t)})};Sn.reject=function(t){return new Sn(function(e,r){r(t)})};Sn.race=function(t){return new Sn(function(e,r){if(!hX(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Sn.resolve(t[n]).then(e,r)})};Sn._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){ONe(t,0)};Sn._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Sn);Object.assign||(Object.assign=Vte);var LNe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var MNe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-MNe}}var R2=Date.now(),S8=["ms","moz","webkit","o"];for(var P2=0;P2<S8.length&&!globalThis.requestAnimationFrame;++P2){var O2=S8[P2];globalThis.requestAnimationFrame=globalThis[O2+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[O2+"CancelAnimationFrame"]||globalThis[O2+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=LNe+R2-e;return r<0&&(r=0),R2=e,globalThis.self.setTimeout(function(){R2=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var k2=/iPhone/i,C8=/iPod/i,A8=/iPad/i,T8=/\biOS-universal(?:.+)Mac\b/i,F2=/\bAndroid(?:.+)Mobile\b/i,I8=/Android/i,Jf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Wm=/Silk/i,el=/Windows Phone/i,R8=/\bWindows(?:.+)ARM\b/i,P8=/BlackBerry/i,O8=/BB10/i,k8=/Opera Mini/i,F8=/\b(CriOS|Chrome)(?:.+)Mobile/i,N8=/Mobile(?:.+)Firefox\b/i,L8=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function BNe(t){return function(e){return e.test(t)}}function DNe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=BNe(r),a={apple:{phone:i(k2)&&!i(el),ipod:i(C8),tablet:!i(k2)&&(i(A8)||L8(e))&&!i(el),universal:i(T8),device:(i(k2)||i(C8)||i(A8)||i(T8)||L8(e))&&!i(el)},amazon:{phone:i(Jf),tablet:!i(Jf)&&i(Wm),device:i(Jf)||i(Wm)},android:{phone:!i(el)&&i(Jf)||!i(el)&&i(F2),tablet:!i(el)&&!i(Jf)&&!i(F2)&&(i(Wm)||i(I8)),device:!i(el)&&(i(Jf)||i(Wm)||i(F2)||i(I8))||i(/\bokhttp\b/i)},windows:{phone:i(el),tablet:i(R8),device:i(el)||i(R8)},other:{blackberry:i(P8),blackberry10:i(O8),opera:i(k8),firefox:i(N8),chrome:i(F8),device:i(P8)||i(O8)||i(k8)||i(N8)||i(F8)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _o=DNe(globalThis.navigator);function UNe(t){var e=!0;if(_o.tablet||_o.phone){if(_o.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(_o.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function jNe(){return!_o.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var M8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(M8||(M8={}));var B8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(B8||(B8={}));var D8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(D8||(D8={}));var U8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(U8||(U8={}));var j8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(j8||(j8={}));var $8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($8||($8={}));var G8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(G8||(G8={}));var V8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(V8||(V8={}));var H8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(H8||(H8={}));var hT;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(hT||(hT={}));var dT;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(dT||(dT={}));var pT;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(pT||(pT={}));var X8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(X8||(X8={}));var z8;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(z8||(z8={}));var vT;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(vT||(vT={}));var jp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(jp||(jp={}));var W8;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(W8||(W8={}));var gT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(gT||(gT={}));var Y8;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Y8||(Y8={}));var yt={MIPMAP_TEXTURES:pT.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:gT.NONE,SPRITE_MAX_TEXTURES:UNe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:vT.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:dT.CLAMP,SCALE_MODE:hT.LINEAR,PRECISION_VERTEX:jp.HIGH,PRECISION_FRAGMENT:_o.apple.device?jp.HIGH:jp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:jNe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},vX={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),d=r?r+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,d=new Array(p);h<p;h++)d[h]=f[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,p,d){var v=r?r+l:l;if(!this._events[v])return!1;var m=this._events[v],g=arguments.length,_,y;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,p),!0;case 6:return m.fn.call(m.context,u,f,h,p,d),!0}for(y=1,_=new Array(g-1);y<g;y++)_[y-1]=arguments[y];m.fn.apply(m.context,_)}else{var w=m.length,b;for(y=0;y<w;y++)switch(m[y].once&&this.removeListener(l,m[y].fn,void 0,!0),g){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,h);break;default:if(!_)for(b=1,_=new Array(g-1);b<g;b++)_[b-1]=arguments[b];m[y].fn.apply(m[y].context,_)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!f||d.context===f)&&o(this,p);else{for(var v=0,m=[],g=d.length;v<g;v++)(d[v].fn!==u||h&&!d[v].once||f&&d[v].context!==f)&&m.push(d[v]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(vX);var $Ne=vX.exports;const Ef=Xi($Ne);var _k={exports:{}};_k.exports=hb;_k.exports.default=hb;function hb(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=gX(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,p;if(n&&(a=zNe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var d=r;d<i;d+=r)f=t[d],h=t[d+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);p=Math.max(l-s,u-c),p=p!==0?32767/p:0}return xv(a,o,r,s,c,p,0),o}function gX(t,e,r,n,i){var a,o;if(i===yT(t,e,r,n)>0)for(a=e;a<r;a+=n)o=q8(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=q8(a,t[a],t[a+1],o);return o&&db(o,o.next)&&(wv(o),o=o.next),o}function uf(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(db(r,r.next)||wn(r.prev,r,r.next)===0)){if(wv(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function xv(t,e,r,n,i,a,o){if(t){!o&&a&&ZNe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?VNe(t,n,i,a):GNe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),wv(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=HNe(uf(t),e,r),xv(t,e,r,n,i,a,2)):o===2&&XNe(t,e,r,n,i,a):xv(uf(t),e,r,n,i,a,1);break}}}}function GNe(t){var e=t.prev,r=t,n=t.next;if(wn(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=f&&d.y<=p&&Ih(i,s,a,c,o,l,d.x,d.y)&&wn(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function VNe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(wn(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,p=s<c?s<l?s:l:c<l?c:l,d=u<f?u<h?u:h:f<h?f:h,v=s>c?s>l?s:l:c>l?c:l,m=u>f?u>h?u:h:f>h?f:h,g=mT(p,d,e,r,n),_=mT(v,m,e,r,n),y=t.prevZ,w=t.nextZ;y&&y.z>=g&&w&&w.z<=_;){if(y.x>=p&&y.x<=v&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Ih(s,u,c,f,l,h,y.x,y.y)&&wn(y.prev,y,y.next)>=0||(y=y.prevZ,w.x>=p&&w.x<=v&&w.y>=d&&w.y<=m&&w!==i&&w!==o&&Ih(s,u,c,f,l,h,w.x,w.y)&&wn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;y&&y.z>=g;){if(y.x>=p&&y.x<=v&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Ih(s,u,c,f,l,h,y.x,y.y)&&wn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=v&&w.y>=d&&w.y<=m&&w!==i&&w!==o&&Ih(s,u,c,f,l,h,w.x,w.y)&&wn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function HNe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!db(i,a)&&mX(i,n,n.next,a)&&bv(i,a)&&bv(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),wv(n),wv(n.next),n=t=a),n=n.next}while(n!==t);return uf(n)}function XNe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&eLe(o,s)){var c=_X(o,s);o=uf(o,o.next),c=uf(c,c.next),xv(o,e,r,n,i,a,0),xv(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function zNe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=gX(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(QNe(l));for(i.sort(WNe),a=0;a<i.length;a++)r=YNe(i[a],r);return r}function WNe(t,e){return t.x-e.x}function YNe(t,e){var r=qNe(t,e);if(!r)return e;var n=_X(r,t);return uf(n,n.next),uf(r,r.next)}function qNe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Ih(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),bv(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&KNe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function KNe(t,e){return wn(t.prev,t,e.prev)<0&&wn(e.next,t,t.next)<0}function ZNe(t,e,r,n){var i=t;do i.z===0&&(i.z=mT(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,JNe(i)}function JNe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function mT(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function QNe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ih(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function eLe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!tLe(t,e)&&(bv(t,e)&&bv(e,t)&&rLe(t,e)&&(wn(t.prev,t,e.prev)||wn(t,e.prev,e))||db(t,e)&&wn(t.prev,t,t.next)>0&&wn(e.prev,e,e.next)>0)}function wn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function db(t,e){return t.x===e.x&&t.y===e.y}function mX(t,e,r,n){var i=qm(wn(t,e,r)),a=qm(wn(t,e,n)),o=qm(wn(r,n,t)),s=qm(wn(r,n,e));return!!(i!==a&&o!==s||i===0&&Ym(t,r,e)||a===0&&Ym(t,n,e)||o===0&&Ym(r,t,n)||s===0&&Ym(r,e,n))}function Ym(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function qm(t){return t>0?1:t<0?-1:0}function tLe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&mX(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function bv(t,e){return wn(t.prev,t,t.next)<0?wn(t,e,t.next)>=0&&wn(t,t.prev,e)>=0:wn(t,e,t.prev)<0||wn(t,t.next,e)<0}function rLe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function _X(t,e){var r=new _T(t.i,t.x,t.y),n=new _T(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function q8(t,e,r,n){var i=new _T(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function wv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _T(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}hb.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(yT(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(yT(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function yT(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}hb.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var nLe=_k.exports;const yk=Xi(nLe);var sx={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */sx.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof At=="object"&&At;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,p=72,d=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,b=Math.floor,E=String.fromCharCode,C;function A(W){throw new RangeError(y[W])}function T(W,D){for(var z=W.length,V=[];z--;)V[z]=D(W[z]);return V}function R(W,D){var z=W.split("@"),V="";z.length>1&&(V=z[0]+"@",W=z[1]),W=W.replace(_,".");var G=W.split("."),ie=T(G,D).join(".");return V+ie}function O(W){for(var D=[],z=0,V=W.length,G,ie;z<V;)G=W.charCodeAt(z++),G>=55296&&G<=56319&&z<V?(ie=W.charCodeAt(z++),(ie&64512)==56320?D.push(((G&1023)<<10)+(ie&1023)+65536):(D.push(G),z--)):D.push(G);return D}function P(W){return T(W,function(D){var z="";return D>65535&&(D-=65536,z+=E(D>>>10&1023|55296),D=56320|D&1023),z+=E(D),z}).join("")}function k(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:c}function L(W,D){return W+22+75*(W<26)-((D!=0)<<5)}function B(W,D,z){var V=0;for(W=z?b(W/h):W>>1,W+=b(W/D);W>w*u>>1;V+=c)W=b(W/w);return b(V+(w+1)*W/(W+f))}function U(W){var D=[],z=W.length,V,G=0,ie=d,se=p,me,ue,we,Be,Fe,Ee,Ae,Ge,We;for(me=W.lastIndexOf(v),me<0&&(me=0),ue=0;ue<me;++ue)W.charCodeAt(ue)>=128&&A("not-basic"),D.push(W.charCodeAt(ue));for(we=me>0?me+1:0;we<z;){for(Be=G,Fe=1,Ee=c;we>=z&&A("invalid-input"),Ae=k(W.charCodeAt(we++)),(Ae>=c||Ae>b((s-G)/Fe))&&A("overflow"),G+=Ae*Fe,Ge=Ee<=se?l:Ee>=se+u?u:Ee-se,!(Ae<Ge);Ee+=c)We=c-Ge,Fe>b(s/We)&&A("overflow"),Fe*=We;V=D.length+1,se=B(G-Be,V,Be==0),b(G/V)>s-ie&&A("overflow"),ie+=b(G/V),G%=V,D.splice(G++,0,ie)}return P(D)}function X(W){var D,z,V,G,ie,se,me,ue,we,Be,Fe,Ee=[],Ae,Ge,We,Ve;for(W=O(W),Ae=W.length,D=d,z=0,ie=p,se=0;se<Ae;++se)Fe=W[se],Fe<128&&Ee.push(E(Fe));for(V=G=Ee.length,G&&Ee.push(v);V<Ae;){for(me=s,se=0;se<Ae;++se)Fe=W[se],Fe>=D&&Fe<me&&(me=Fe);for(Ge=V+1,me-D>b((s-z)/Ge)&&A("overflow"),z+=(me-D)*Ge,D=me,se=0;se<Ae;++se)if(Fe=W[se],Fe<D&&++z>s&&A("overflow"),Fe==D){for(ue=z,we=c;Be=we<=ie?l:we>=ie+u?u:we-ie,!(ue<Be);we+=c)Ve=ue-Be,We=c-Be,Ee.push(E(L(Be+Ve%We,0))),ue=b(Ve/We);Ee.push(E(L(ue,0))),ie=B(z,Ge,V==G),z=0,++V}++z,++D}return Ee.join("")}function ee(W){return R(W,function(D){return m.test(D)?U(D.slice(4).toLowerCase()):D})}function ne(W){return R(W,function(D){return g.test(D)?"xn--"+X(D):D})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:U,encode:X,toASCII:ne,toUnicode:ee},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(At)})(sx,sx.exports);var iLe=sx.exports,aLe=Error,oLe=EvalError,sLe=RangeError,lLe=ReferenceError,yX=SyntaxError,mg=TypeError,uLe=URIError,cLe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},K8=typeof Symbol<"u"&&Symbol,fLe=cLe,hLe=function(){return typeof K8!="function"||typeof Symbol!="function"||typeof K8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fLe()},N2={__proto__:null,foo:{}},dLe=Object,pLe=function(){return{__proto__:N2}.foo===N2.foo&&!(N2 instanceof dLe)},vLe="Function.prototype.bind called on incompatible ",gLe=Object.prototype.toString,mLe=Math.max,_Le="[object Function]",Z8=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},yLe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},xLe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},bLe=function(e){var r=this;if(typeof r!="function"||gLe.apply(r)!==_Le)throw new TypeError(vLe+r);for(var n=yLe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,Z8(n,arguments));return Object(u)===u?u:this}return r.apply(e,Z8(n,arguments))},o=mLe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+xLe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},wLe=bLe,xk=Function.prototype.bind||wLe,ELe=Function.prototype.call,SLe=Object.prototype.hasOwnProperty,CLe=xk,ALe=CLe.call(ELe,SLe),xr,TLe=aLe,ILe=oLe,RLe=sLe,PLe=lLe,hd=yX,Zh=mg,OLe=uLe,xX=Function,L2=function(t){try{return xX('"use strict"; return ('+t+").constructor;")()}catch{}},Yc=Object.getOwnPropertyDescriptor;if(Yc)try{Yc({},"")}catch{Yc=null}var M2=function(){throw new Zh},kLe=Yc?function(){try{return arguments.callee,M2}catch{try{return Yc(arguments,"callee").get}catch{return M2}}}():M2,Qf=hLe(),FLe=pLe(),bi=Object.getPrototypeOf||(FLe?function(t){return t.__proto__}:null),hh={},NLe=typeof Uint8Array>"u"||!bi?xr:bi(Uint8Array),qc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?xr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?xr:ArrayBuffer,"%ArrayIteratorPrototype%":Qf&&bi?bi([][Symbol.iterator]()):xr,"%AsyncFromSyncIteratorPrototype%":xr,"%AsyncFunction%":hh,"%AsyncGenerator%":hh,"%AsyncGeneratorFunction%":hh,"%AsyncIteratorPrototype%":hh,"%Atomics%":typeof Atomics>"u"?xr:Atomics,"%BigInt%":typeof BigInt>"u"?xr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?xr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?xr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?xr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":TLe,"%eval%":eval,"%EvalError%":ILe,"%Float32Array%":typeof Float32Array>"u"?xr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?xr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?xr:FinalizationRegistry,"%Function%":xX,"%GeneratorFunction%":hh,"%Int8Array%":typeof Int8Array>"u"?xr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?xr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?xr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qf&&bi?bi(bi([][Symbol.iterator]())):xr,"%JSON%":typeof JSON=="object"?JSON:xr,"%Map%":typeof Map>"u"?xr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qf||!bi?xr:bi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?xr:Promise,"%Proxy%":typeof Proxy>"u"?xr:Proxy,"%RangeError%":RLe,"%ReferenceError%":PLe,"%Reflect%":typeof Reflect>"u"?xr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?xr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qf||!bi?xr:bi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?xr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qf&&bi?bi(""[Symbol.iterator]()):xr,"%Symbol%":Qf?Symbol:xr,"%SyntaxError%":hd,"%ThrowTypeError%":kLe,"%TypedArray%":NLe,"%TypeError%":Zh,"%Uint8Array%":typeof Uint8Array>"u"?xr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?xr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?xr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?xr:Uint32Array,"%URIError%":OLe,"%WeakMap%":typeof WeakMap>"u"?xr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?xr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?xr:WeakSet};if(bi)try{null.error}catch(t){var LLe=bi(bi(t));qc["%Error.prototype%"]=LLe}var MLe=function t(e){var r;if(e==="%AsyncFunction%")r=L2("async function () {}");else if(e==="%GeneratorFunction%")r=L2("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=L2("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&bi&&(r=bi(i.prototype))}return qc[e]=r,r},J8={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_g=xk,lx=ALe,BLe=_g.call(Function.call,Array.prototype.concat),DLe=_g.call(Function.apply,Array.prototype.splice),Q8=_g.call(Function.call,String.prototype.replace),ux=_g.call(Function.call,String.prototype.slice),ULe=_g.call(Function.call,RegExp.prototype.exec),jLe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$Le=/\\(\\)?/g,GLe=function(e){var r=ux(e,0,1),n=ux(e,-1);if(r==="%"&&n!=="%")throw new hd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new hd("invalid intrinsic syntax, expected opening `%`");var i=[];return Q8(e,jLe,function(a,o,s,c){i[i.length]=s?Q8(c,$Le,"$1"):o||a}),i},VLe=function(e,r){var n=e,i;if(lx(J8,n)&&(i=J8[n],n="%"+i[0]+"%"),lx(qc,n)){var a=qc[n];if(a===hh&&(a=MLe(n)),typeof a>"u"&&!r)throw new Zh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new hd("intrinsic "+e+" does not exist!")},e0=function(e,r){if(typeof e!="string"||e.length===0)throw new Zh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zh('"allowMissing" argument must be a boolean');if(ULe(/^%?[^%]*%?$/,e)===null)throw new hd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=GLe(e),i=n.length>0?n[0]:"",a=VLe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],DLe(n,BLe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=ux(h,0,1),d=ux(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new hd("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",lx(qc,o))s=qc[o];else if(s!=null){if(!(h in s)){if(!r)throw new Zh("base intrinsic for "+e+" exists, but the property is not available.");return}if(Yc&&u+1>=n.length){var v=Yc(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=lx(s,h),s=s[h];f&&!c&&(qc[o]=s)}}return s},bX={exports:{}},B2,eU;function bk(){if(eU)return B2;eU=1;var t=e0,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return B2=e,B2}var HLe=e0,ay=HLe("%Object.getOwnPropertyDescriptor%",!0);if(ay)try{ay([],"length")}catch{ay=null}var wX=ay,tU=bk(),XLe=yX,eh=mg,rU=wX,zLe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new eh("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new eh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new eh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new eh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new eh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new eh("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!rU&&rU(e,r);if(tU)tU(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new XLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xT=bk(),EX=function(){return!!xT};EX.hasArrayLengthDefineBug=function(){if(!xT)return null;try{return xT([],"length",{value:1}).length!==1}catch{return!0}};var WLe=EX,YLe=e0,nU=zLe,qLe=WLe(),iU=wX,aU=mg,KLe=YLe("%Math.floor%"),ZLe=function(e,r){if(typeof e!="function")throw new aU("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||KLe(r)!==r)throw new aU("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&iU){var o=iU(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(qLe?nU(e,"length",r,!0,!0):nU(e,"length",r)),e};(function(t){var e=xk,r=e0,n=ZLe,i=mg,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=bk(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(bX);var JLe=bX.exports,SX=e0,CX=JLe,QLe=CX(SX("String.prototype.indexOf")),eMe=function(e,r){var n=SX(e,!!r);return typeof n=="function"&&QLe(e,".prototype.")>-1?CX(n):n},wk=typeof Map=="function"&&Map.prototype,D2=Object.getOwnPropertyDescriptor&&wk?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cx=wk&&D2&&typeof D2.get=="function"?D2.get:null,oU=wk&&Map.prototype.forEach,Ek=typeof Set=="function"&&Set.prototype,U2=Object.getOwnPropertyDescriptor&&Ek?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,fx=Ek&&U2&&typeof U2.get=="function"?U2.get:null,sU=Ek&&Set.prototype.forEach,tMe=typeof WeakMap=="function"&&WeakMap.prototype,$p=tMe?WeakMap.prototype.has:null,rMe=typeof WeakSet=="function"&&WeakSet.prototype,Gp=rMe?WeakSet.prototype.has:null,nMe=typeof WeakRef=="function"&&WeakRef.prototype,lU=nMe?WeakRef.prototype.deref:null,iMe=Boolean.prototype.valueOf,aMe=Object.prototype.toString,oMe=Function.prototype.toString,sMe=String.prototype.match,Sk=String.prototype.slice,nu=String.prototype.replace,lMe=String.prototype.toUpperCase,uU=String.prototype.toLowerCase,AX=RegExp.prototype.test,cU=Array.prototype.concat,_s=Array.prototype.join,uMe=Array.prototype.slice,fU=Math.floor,bT=typeof BigInt=="function"?BigInt.prototype.valueOf:null,j2=Object.getOwnPropertySymbols,wT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,dd=typeof Symbol=="function"&&typeof Symbol.iterator=="object",aa=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===dd||"symbol")?Symbol.toStringTag:null,TX=Object.prototype.propertyIsEnumerable,hU=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function dU(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||AX.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-fU(-t):fU(t);if(n!==t){var i=String(n),a=Sk.call(e,i.length+1);return nu.call(i,r,"$&_")+"."+nu.call(nu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return nu.call(e,r,"$&_")}var ET=mH,pU=ET.custom,vU=RX(pU)?pU:null,cMe=function t(e,r,n,i){var a=r||{};if(zl(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zl(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zl(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zl(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zl(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return OX(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?dU(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?dU(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return ST(e)?"[Array]":"[Object]";var f=IMe(a,n);if(typeof i>"u")i=[];else if(PX(i,e)>=0)return"[Circular]";function h(k,L,B){if(L&&(i=uMe.call(i),i.push(L)),B){var U={depth:a.depth};return zl(a,"quoteStyle")&&(U.quoteStyle=a.quoteStyle),t(k,U,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!gU(e)){var p=yMe(e),d=Km(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+_s.call(d,", ")+" }":"")}if(RX(e)){var v=dd?nu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):wT.call(e);return typeof e=="object"&&!dd?Y0(v):v}if(CMe(e)){for(var m="<"+uU.call(String(e.nodeName)),g=e.attributes||[],_=0;_<g.length;_++)m+=" "+g[_].name+"="+IX(fMe(g[_].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+uU.call(String(e.nodeName))+">",m}if(ST(e)){if(e.length===0)return"[]";var y=Km(e,h);return f&&!TMe(y)?"["+CT(y,f)+"]":"[ "+_s.call(y,", ")+" ]"}if(dMe(e)){var w=Km(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!TX.call(e,"cause")?"{ ["+String(e)+"] "+_s.call(cU.call("[cause]: "+h(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+_s.call(w,", ")+" }"}if(typeof e=="object"&&o){if(vU&&typeof e[vU]=="function"&&ET)return ET(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(xMe(e)){var b=[];return oU&&oU.call(e,function(k,L){b.push(h(L,e,!0)+" => "+h(k,e))}),mU("Map",cx.call(e),b,f)}if(EMe(e)){var E=[];return sU&&sU.call(e,function(k){E.push(h(k,e))}),mU("Set",fx.call(e),E,f)}if(bMe(e))return $2("WeakMap");if(SMe(e))return $2("WeakSet");if(wMe(e))return $2("WeakRef");if(vMe(e))return Y0(h(Number(e)));if(mMe(e))return Y0(h(bT.call(e)));if(gMe(e))return Y0(iMe.call(e));if(pMe(e))return Y0(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===At)return"{ [object globalThis] }";if(!hMe(e)&&!gU(e)){var C=Km(e,h),A=hU?hU(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",R=!A&&aa&&Object(e)===e&&aa in e?Sk.call(Vu(e),8,-1):T?"Object":"",O=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(R||T?"["+_s.call(cU.call([],R||[],T||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+CT(C,f)+"}":P+"{ "+_s.call(C,", ")+" }"}return String(e)};function IX(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function fMe(t){return nu.call(String(t),/"/g,"&quot;")}function ST(t){return Vu(t)==="[object Array]"&&(!aa||!(typeof t=="object"&&aa in t))}function hMe(t){return Vu(t)==="[object Date]"&&(!aa||!(typeof t=="object"&&aa in t))}function gU(t){return Vu(t)==="[object RegExp]"&&(!aa||!(typeof t=="object"&&aa in t))}function dMe(t){return Vu(t)==="[object Error]"&&(!aa||!(typeof t=="object"&&aa in t))}function pMe(t){return Vu(t)==="[object String]"&&(!aa||!(typeof t=="object"&&aa in t))}function vMe(t){return Vu(t)==="[object Number]"&&(!aa||!(typeof t=="object"&&aa in t))}function gMe(t){return Vu(t)==="[object Boolean]"&&(!aa||!(typeof t=="object"&&aa in t))}function RX(t){if(dd)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!wT)return!1;try{return wT.call(t),!0}catch{}return!1}function mMe(t){if(!t||typeof t!="object"||!bT)return!1;try{return bT.call(t),!0}catch{}return!1}var _Me=Object.prototype.hasOwnProperty||function(t){return t in this};function zl(t,e){return _Me.call(t,e)}function Vu(t){return aMe.call(t)}function yMe(t){if(t.name)return t.name;var e=sMe.call(oMe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function PX(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function xMe(t){if(!cx||!t||typeof t!="object")return!1;try{cx.call(t);try{fx.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function bMe(t){if(!$p||!t||typeof t!="object")return!1;try{$p.call(t,$p);try{Gp.call(t,Gp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function wMe(t){if(!lU||!t||typeof t!="object")return!1;try{return lU.call(t),!0}catch{}return!1}function EMe(t){if(!fx||!t||typeof t!="object")return!1;try{fx.call(t);try{cx.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function SMe(t){if(!Gp||!t||typeof t!="object")return!1;try{Gp.call(t,Gp);try{$p.call(t,$p)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function CMe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function OX(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return OX(Sk.call(t,0,e.maxStringLength),e)+n}var i=nu.call(nu.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,AMe);return IX(i,"single",e)}function AMe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+lMe.call(e.toString(16))}function Y0(t){return"Object("+t+")"}function $2(t){return t+" { ? }"}function mU(t,e,r,n){var i=n?CT(r,n):_s.call(r,", ");return t+" ("+e+") {"+i+"}"}function TMe(t){for(var e=0;e<t.length;e++)if(PX(t[e],`
`)>=0)return!1;return!0}function IMe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=_s.call(Array(t.indent+1)," ");else return null;return{base:r,prev:_s.call(Array(e+1),r)}}function CT(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+_s.call(t,","+r)+`
`+e.prev}function Km(t,e){var r=ST(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=zl(t,i)?e(t[i],t):""}var a=typeof j2=="function"?j2(t):[],o;if(dd){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)zl(t,c)&&(r&&String(Number(c))===c&&c<t.length||dd&&o["$"+c]instanceof Symbol||(AX.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof j2=="function")for(var l=0;l<a.length;l++)TX.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var kX=e0,t0=eMe,RMe=cMe,PMe=mg,Zm=kX("%WeakMap%",!0),Jm=kX("%Map%",!0),OMe=t0("WeakMap.prototype.get",!0),kMe=t0("WeakMap.prototype.set",!0),FMe=t0("WeakMap.prototype.has",!0),NMe=t0("Map.prototype.get",!0),LMe=t0("Map.prototype.set",!0),MMe=t0("Map.prototype.has",!0),Ck=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},BMe=function(t,e){var r=Ck(t,e);return r&&r.value},DMe=function(t,e,r){var n=Ck(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},UMe=function(t,e){return!!Ck(t,e)},jMe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new PMe("Side channel does not contain "+RMe(a))},get:function(a){if(Zm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return OMe(e,a)}else if(Jm){if(r)return NMe(r,a)}else if(n)return BMe(n,a)},has:function(a){if(Zm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return FMe(e,a)}else if(Jm){if(r)return MMe(r,a)}else if(n)return UMe(n,a);return!1},set:function(a,o){Zm&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Zm),kMe(e,a,o)):Jm?(r||(r=new Jm),LMe(r,a,o)):(n||(n={key:{},next:null}),DMe(n,a,o))}};return i},$Me=String.prototype.replace,GMe=/%20/g,G2={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ak={default:G2.RFC3986,formatters:{RFC1738:function(t){return $Me.call(t,GMe,"+")},RFC3986:function(t){return String(t)}},RFC1738:G2.RFC1738,RFC3986:G2.RFC3986},VMe=Ak,V2=Object.prototype.hasOwnProperty,Sc=Array.isArray,fs=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),HMe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Sc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},FX=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},XMe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Sc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!V2.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Sc(e)&&!Sc(r)&&(i=FX(e,n)),Sc(e)&&Sc(r)?(r.forEach(function(a,o){if(V2.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return V2.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},zMe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},WMe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},YMe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===VMe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+fs[l];continue}if(l<2048){s=s+(fs[192|l>>6]+fs[128|l&63]);continue}if(l<55296||l>=57344){s=s+(fs[224|l>>12]+fs[128|l>>6&63]+fs[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=fs[240|l>>18]+fs[128|l>>12&63]+fs[128|l>>6&63]+fs[128|l&63]}return s},qMe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return HMe(r),e},KMe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ZMe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},JMe=function(e,r){return[].concat(e,r)},QMe=function(e,r){if(Sc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},NX={arrayToObject:FX,assign:zMe,combine:JMe,compact:qMe,decode:WMe,encode:YMe,isBuffer:ZMe,isRegExp:KMe,maybeMap:QMe,merge:XMe},LX=jMe,oy=NX,Vp=Ak,eBe=Object.prototype.hasOwnProperty,MX={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},vs=Array.isArray,tBe=Array.prototype.push,BX=function(t,e){tBe.apply(t,vs(e)?e:[e])},rBe=Date.prototype.toISOString,_U=Vp.default,li={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:oy.encode,encodeValuesOnly:!1,format:_U,formatter:Vp.formatters[_U],indices:!1,serializeDate:function(e){return rBe.call(e)},skipNulls:!1,strictNullHandling:!1},nBe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},H2={},iBe=function t(e,r,n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_){for(var y=e,w=_,b=0,E=!1;(w=w.get(H2))!==void 0&&!E;){var C=w.get(e);if(b+=1,typeof C<"u"){if(C===b)throw new RangeError("Cyclic object value");E=!0}typeof w.get(H2)>"u"&&(b=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&vs(y)&&(y=oy.maybeMap(y,function(W){return W instanceof Date?p(W):W})),y===null){if(o)return l&&!m?l(r,li.encoder,g,"key",d):r;y=""}if(nBe(y)||oy.isBuffer(y)){if(l){var A=m?r:l(r,li.encoder,g,"key",d);return[v(A)+"="+v(l(y,li.encoder,g,"value",d))]}return[v(r)+"="+v(String(y))]}var T=[];if(typeof y>"u")return T;var R;if(n==="comma"&&vs(y))m&&l&&(y=oy.maybeMap(y,l)),R=[{value:y.length>0?y.join(",")||null:void 0}];else if(vs(u))R=u;else{var O=Object.keys(y);R=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,k=i&&vs(y)&&y.length===1?P+"[]":P;if(a&&vs(y)&&y.length===0)return k+"[]";for(var L=0;L<R.length;++L){var B=R[L],U=typeof B=="object"&&typeof B.value<"u"?B.value:y[B];if(!(s&&U===null)){var X=h&&c?B.replace(/\./g,"%2E"):B,ee=vs(y)?typeof n=="function"?n(k,X):k:k+(h?"."+X:"["+X+"]");_.set(e,b);var ne=LX();ne.set(H2,_),BX(T,t(U,ee,n,i,a,o,s,c,n==="comma"&&m&&vs(y)?null:l,u,f,h,p,d,v,m,g,ne))}}return T},aBe=function(e){if(!e)return li;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||li.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Vp.default;if(typeof e.format<"u"){if(!eBe.call(Vp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Vp.formatters[n],a=li.filter;(typeof e.filter=="function"||vs(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in MX?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=li.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:li.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:li.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:li.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:li.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?li.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:li.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:li.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:li.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:li.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:li.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:li.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:li.strictNullHandling}},oBe=function(t,e){var r=t,n=aBe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):vs(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=MX[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=LX(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||BX(o,iBe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},pd=NX,AT=Object.prototype.hasOwnProperty,sBe=Array.isArray,Un={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:pd.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lBe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},DX=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},uBe="utf8=%26%2310003%3B",cBe="utf8=%E2%9C%93",fBe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===cBe?l="utf-8":o[c]===uBe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,d;h===-1?(p=r.decoder(u,Un.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),Un.decoder,l,"key"),d=pd.maybeMap(DX(u.slice(h+1),r),function(m){return r.decoder(m,Un.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=lBe(d)),u.indexOf("[]=")>-1&&(d=sBe(d)?[d]:d);var v=AT.call(n,p);v&&r.duplicates==="combine"?n[p]=pd.combine(n[p],d):(!v||r.duplicates==="last")&&(n[p]=d)}return n},hBe=function(t,e,r,n){for(var i=n?e:DX(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},dBe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&AT.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&AT.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),hBe(u,r,n,i)}},pBe=function(e){if(!e)return Un;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Un.charset:e.charset,n=typeof e.duplicates>"u"?Un.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Un.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Un.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Un.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Un.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Un.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Un.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Un.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Un.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Un.decoder,delimiter:typeof e.delimiter=="string"||pd.isRegExp(e.delimiter)?e.delimiter:Un.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Un.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Un.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Un.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Un.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Un.strictNullHandling}},vBe=function(t,e){var r=pBe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?fBe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=dBe(s,n[s],r,typeof t=="string");i=pd.merge(i,c,r)}return r.allowSparse===!0?i:pd.compact(i)},gBe=oBe,mBe=vBe,_Be=Ak,yBe={formats:_Be,parse:mBe,stringify:gBe},xBe=iLe;function Ko(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var bBe=/^([a-z0-9.+-]+:)/i,wBe=/:[0-9]*$/,EBe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,SBe=["<",">",'"',"`"," ","\r",`
`,"	"],CBe=["{","}","|","\\","^","`"].concat(SBe),TT=["'"].concat(CBe),yU=["%","/","?",";","#"].concat(TT),xU=["/","?","#"],ABe=255,bU=/^[+a-z0-9A-Z_-]{0,63}$/,TBe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,IBe={javascript:!0,"javascript:":!0},IT={javascript:!0,"javascript:":!0},Jh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},RT=yBe;function pb(t,e,r){if(t&&typeof t=="object"&&t instanceof Ko)return t;var n=new Ko;return n.parse(t,e,r),n}Ko.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=EBe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=RT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=bBe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&IT[l])&&(s=s.substr(2),this.slashes=!0)}if(!IT[l]&&(f||l&&!Jh[l])){for(var h=-1,p=0;p<xU.length;p++){var d=s.indexOf(xU[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var v,m;h===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",h),m!==-1&&(v=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(v)),h=-1;for(var p=0;p<yU.length;p++){var d=s.indexOf(yU[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var _=this.hostname.split(/\./),p=0,y=_.length;p<y;p++){var w=_[p];if(w&&!w.match(bU)){for(var b="",E=0,C=w.length;E<C;E++)w.charCodeAt(E)>127?b+="x":b+=w[E];if(!b.match(bU)){var A=_.slice(0,p),T=_.slice(p+1),R=w.match(TBe);R&&(A.push(R[1]),T.unshift(R[2])),T.length&&(s="/"+T.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>ABe?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=xBe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!IBe[u])for(var p=0,y=TT.length;p<y;p++){var k=TT[p];if(s.indexOf(k)!==-1){var L=encodeURIComponent(k);L===k&&(L=escape(k)),s=s.split(k).join(L)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),e&&(this.query=RT.parse(this.query)),s=s.slice(0,U)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Jh[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",X=this.search||"";this.path=O+X}return this.href=this.format(),this};function RBe(t){return typeof t=="string"&&(t=pb(t)),t instanceof Ko?t.format():Ko.prototype.format.call(t)}Ko.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=RT.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Jh[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function PBe(t,e){return pb(t,!1,!0).resolve(e)}Ko.prototype.resolve=function(t){return this.resolveObject(pb(t,!1,!0)).format()};Ko.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ko;e.parse(t,!1,!0),t=e}for(var r=new Ko,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return Jh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Jh[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!IT[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=v||d||r.host&&t.pathname,g=m,_=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Jh[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),m=m&&(y[0]===""||_[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=y;else if(y.length)_||(_=[]),_.pop(),_=_.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=_.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],C=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",A=0,T=_.length;T>=0;T--)E=_[T],E==="."?_.splice(T,1):E===".."?(_.splice(T,1),A++):A&&(_.splice(T,1),A--);if(!m&&!g)for(;A--;A)_.unshift("..");m&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),C&&_.join("/").substr(-1)!=="/"&&_.push("");var R=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(w){r.hostname=R?"":_.length?_.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return m=m||r.host&&_.length,m&&!R&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ko.prototype.parseHost=function(){var t=this.host,e=wBe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var OBe=pb,kBe=PBe,FBe=RBe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ks;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ks||(ks={}));var vd;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(vd||(vd={}));var Ev;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Ev||(Ev={}));var ut;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ut||(ut={}));var za;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(za||(za={}));var nt;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(nt||(nt={}));var yu;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(yu||(yu={}));var It;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(It||(It={}));var Sv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Sv||(Sv={}));var Ci;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ci||(Ci={}));var Rs;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Rs||(Rs={}));var ka;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ka||(ka={}));var _a;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(_a||(_a={}));var ol;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ol||(ol={}));var hx;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(hx||(hx={}));var Wo;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Wo||(Wo={}));var Ni;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Ni||(Ni={}));var Vn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Vn||(Vn={}));var Zo;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Zo||(Zo={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bc={parse:OBe,format:FBe,resolve:kBe};yt.RETINA_PREFIX=/@([0-9\.]+)x/;yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var PT=!1,wU="6.4.2";function NBe(){PT=!0}function UX(t){var e;if(!PT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+wU+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+wU+" - "+t+" - http://www.pixijs.com/");PT=!0}}var X2;function jX(){return typeof X2>"u"&&(X2=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),X2}var LBe="#f0f8ff",MBe="#faebd7",BBe="#00ffff",DBe="#7fffd4",UBe="#f0ffff",jBe="#f5f5dc",$Be="#ffe4c4",GBe="#000000",VBe="#ffebcd",HBe="#0000ff",XBe="#8a2be2",zBe="#a52a2a",WBe="#deb887",YBe="#5f9ea0",qBe="#7fff00",KBe="#d2691e",ZBe="#ff7f50",JBe="#6495ed",QBe="#fff8dc",eDe="#dc143c",tDe="#00ffff",rDe="#00008b",nDe="#008b8b",iDe="#b8860b",aDe="#a9a9a9",oDe="#006400",sDe="#a9a9a9",lDe="#bdb76b",uDe="#8b008b",cDe="#556b2f",fDe="#ff8c00",hDe="#9932cc",dDe="#8b0000",pDe="#e9967a",vDe="#8fbc8f",gDe="#483d8b",mDe="#2f4f4f",_De="#2f4f4f",yDe="#00ced1",xDe="#9400d3",bDe="#ff1493",wDe="#00bfff",EDe="#696969",SDe="#696969",CDe="#1e90ff",ADe="#b22222",TDe="#fffaf0",IDe="#228b22",RDe="#ff00ff",PDe="#dcdcdc",ODe="#f8f8ff",kDe="#daa520",FDe="#ffd700",NDe="#808080",LDe="#008000",MDe="#adff2f",BDe="#808080",DDe="#f0fff0",UDe="#ff69b4",jDe="#cd5c5c",$De="#4b0082",GDe="#fffff0",VDe="#f0e68c",HDe="#fff0f5",XDe="#e6e6fa",zDe="#7cfc00",WDe="#fffacd",YDe="#add8e6",qDe="#f08080",KDe="#e0ffff",ZDe="#fafad2",JDe="#d3d3d3",QDe="#90ee90",e8e="#d3d3d3",t8e="#ffb6c1",r8e="#ffa07a",n8e="#20b2aa",i8e="#87cefa",a8e="#778899",o8e="#778899",s8e="#b0c4de",l8e="#ffffe0",u8e="#00ff00",c8e="#32cd32",f8e="#faf0e6",h8e="#ff00ff",d8e="#800000",p8e="#66cdaa",v8e="#0000cd",g8e="#ba55d3",m8e="#9370db",_8e="#3cb371",y8e="#7b68ee",x8e="#00fa9a",b8e="#48d1cc",w8e="#c71585",E8e="#191970",S8e="#f5fffa",C8e="#ffe4e1",A8e="#ffe4b5",T8e="#ffdead",I8e="#000080",R8e="#fdf5e6",P8e="#808000",O8e="#6b8e23",k8e="#ffa500",F8e="#ff4500",N8e="#da70d6",L8e="#eee8aa",M8e="#98fb98",B8e="#afeeee",D8e="#db7093",U8e="#ffefd5",j8e="#ffdab9",$8e="#cd853f",G8e="#ffc0cb",V8e="#dda0dd",H8e="#b0e0e6",X8e="#800080",z8e="#663399",W8e="#ff0000",Y8e="#bc8f8f",q8e="#4169e1",K8e="#8b4513",Z8e="#fa8072",J8e="#f4a460",Q8e="#2e8b57",eUe="#fff5ee",tUe="#a0522d",rUe="#c0c0c0",nUe="#87ceeb",iUe="#6a5acd",aUe="#708090",oUe="#708090",sUe="#fffafa",lUe="#00ff7f",uUe="#4682b4",cUe="#d2b48c",fUe="#008080",hUe="#d8bfd8",dUe="#ff6347",pUe="#40e0d0",vUe="#ee82ee",gUe="#f5deb3",mUe="#ffffff",_Ue="#f5f5f5",yUe="#ffff00",xUe="#9acd32",bUe={aliceblue:LBe,antiquewhite:MBe,aqua:BBe,aquamarine:DBe,azure:UBe,beige:jBe,bisque:$Be,black:GBe,blanchedalmond:VBe,blue:HBe,blueviolet:XBe,brown:zBe,burlywood:WBe,cadetblue:YBe,chartreuse:qBe,chocolate:KBe,coral:ZBe,cornflowerblue:JBe,cornsilk:QBe,crimson:eDe,cyan:tDe,darkblue:rDe,darkcyan:nDe,darkgoldenrod:iDe,darkgray:aDe,darkgreen:oDe,darkgrey:sDe,darkkhaki:lDe,darkmagenta:uDe,darkolivegreen:cDe,darkorange:fDe,darkorchid:hDe,darkred:dDe,darksalmon:pDe,darkseagreen:vDe,darkslateblue:gDe,darkslategray:mDe,darkslategrey:_De,darkturquoise:yDe,darkviolet:xDe,deeppink:bDe,deepskyblue:wDe,dimgray:EDe,dimgrey:SDe,dodgerblue:CDe,firebrick:ADe,floralwhite:TDe,forestgreen:IDe,fuchsia:RDe,gainsboro:PDe,ghostwhite:ODe,goldenrod:kDe,gold:FDe,gray:NDe,green:LDe,greenyellow:MDe,grey:BDe,honeydew:DDe,hotpink:UDe,indianred:jDe,indigo:$De,ivory:GDe,khaki:VDe,lavenderblush:HDe,lavender:XDe,lawngreen:zDe,lemonchiffon:WDe,lightblue:YDe,lightcoral:qDe,lightcyan:KDe,lightgoldenrodyellow:ZDe,lightgray:JDe,lightgreen:QDe,lightgrey:e8e,lightpink:t8e,lightsalmon:r8e,lightseagreen:n8e,lightskyblue:i8e,lightslategray:a8e,lightslategrey:o8e,lightsteelblue:s8e,lightyellow:l8e,lime:u8e,limegreen:c8e,linen:f8e,magenta:h8e,maroon:d8e,mediumaquamarine:p8e,mediumblue:v8e,mediumorchid:g8e,mediumpurple:m8e,mediumseagreen:_8e,mediumslateblue:y8e,mediumspringgreen:x8e,mediumturquoise:b8e,mediumvioletred:w8e,midnightblue:E8e,mintcream:S8e,mistyrose:C8e,moccasin:A8e,navajowhite:T8e,navy:I8e,oldlace:R8e,olive:P8e,olivedrab:O8e,orange:k8e,orangered:F8e,orchid:N8e,palegoldenrod:L8e,palegreen:M8e,paleturquoise:B8e,palevioletred:D8e,papayawhip:U8e,peachpuff:j8e,peru:$8e,pink:G8e,plum:V8e,powderblue:H8e,purple:X8e,rebeccapurple:z8e,red:W8e,rosybrown:Y8e,royalblue:q8e,saddlebrown:K8e,salmon:Z8e,sandybrown:J8e,seagreen:Q8e,seashell:eUe,sienna:tUe,silver:rUe,skyblue:nUe,slateblue:iUe,slategray:aUe,slategrey:oUe,snow:sUe,springgreen:lUe,steelblue:uUe,tan:cUe,teal:fUe,thistle:hUe,tomato:dUe,turquoise:pUe,violet:vUe,wheat:gUe,white:mUe,whitesmoke:_Ue,yellow:yUe,yellowgreen:xUe};function pi(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Tk(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Ik(t){return typeof t=="string"&&(t=bUe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function ma(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function wUe(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ut.NORMAL_NPM]=ut.NORMAL,t[ut.ADD_NPM]=ut.ADD,t[ut.SCREEN_NPM]=ut.SCREEN,e[ut.NORMAL]=ut.NORMAL_NPM,e[ut.ADD]=ut.ADD_NPM,e[ut.SCREEN]=ut.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var Rk=wUe();function Pk(t,e){return Rk[e?1:0][t]}function $X(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function vb(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Ok(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function GX(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function gb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var EUe={Float32Array,Uint32Array,Int32Array,Uint8Array};function SUe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=gb(u);i[f]||(i[f]=new EUe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}function Cv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function OT(t){return!(t&t-1)&&!!t}function kT(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ps(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function Dc(t){return t===0?0:t<0?-1:1}var CUe=0;function Mu(){return++CUe}var EU={};function xl(t,e,r){if(r===void 0&&(r=3),!EU[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),EU[e]=!0}}var FT={},Aa=Object.create(null),ho=Object.create(null);function AUe(){var t;for(t in Aa)Aa[t].destroy();for(t in ho)ho[t].destroy()}function VX(){var t;for(t in Aa)delete Aa[t];for(t in ho)delete ho[t]}var NT=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||yt.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function HX(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var XX=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function TUe(t){var e=XX.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Qm;function zX(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Qm||(Qm=document.createElement("a")),Qm.href=t;var r=Bc.parse(Qm.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Av(t,e){var r=yt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const IUe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ho,CanvasRenderTarget:NT,DATA_URI:XX,EventEmitter:Ef,ProgramCache:FT,TextureCache:Aa,clearTextureCache:VX,correctBlendMode:Pk,createIndicesForQuads:GX,decomposeDataUri:TUe,deprecation:xl,destroyTextureCache:AUe,determineCrossOrigin:zX,earcut:yk,getBufferType:gb,getResolutionOfUrl:Av,hex2rgb:pi,hex2string:Tk,interleaveTypedArrays:SUe,isMobile:_o,isPow2:OT,isWebGLSupported:jX,log2:kT,nextPow2:Cv,premultiplyBlendMode:Rk,premultiplyRgba:$X,premultiplyTint:vb,premultiplyTintToRgba:Ok,removeItems:Ps,rgb2hex:ma,sayHello:UX,sign:Dc,skipHello:NBe,string2hex:Ik,trimCanvas:HX,uid:Mu,url:Bc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tv=Math.PI*2,kk=180/Math.PI,bl=Math.PI/180,dn;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(dn||(dn={}));var vr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),e_=[new vr,new vr,new vr,new vr],tr=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=dn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=e_[0].set(e.left,e.top),h=e_[1].set(e.left,e.bottom),p=e_[2].set(e.right,e.top),d=e_[3].set(e.right,e.bottom);if(p.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(f.x,h.x,p.x,d.x)<=s||Math.min(f.x,h.x,p.x,d.x)>=c||Math.max(f.y,h.y,p.y,d.y)<=l||Math.min(f.y,h.y,p.y,d.y)>=u))return!1;var m=v*(h.y-f.y),g=v*(f.x-h.x),_=m*s+g*l,y=m*c+g*l,w=m*s+g*u,b=m*c+g*u;if(Math.max(_,y,w,b)<=m*f.x+g*f.y||Math.min(_,y,w,b)>=m*d.x+g*d.y)return!1;var E=v*(f.y-p.y),C=v*(p.x-f.x),A=E*s+C*l,T=E*c+C*l,R=E*s+C*u,O=E*c+C*u;return!(Math.max(A,T,R,O)<=E*f.x+C*f.y||Math.min(A,T,R,O)>=E*d.x+C*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),WX=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=dn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new tr(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),YX=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=dn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new tr(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Qh=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=dn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),qX=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=dn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),iu=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),an=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new vr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new vr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(Tv-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),xc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ec=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],LT=[],KX=[],t_=Math.sign;function RUe(){for(var t=0;t<16;t++){var e=[];LT.push(e);for(var r=0;r<16;r++)for(var n=t_(xc[t]*xc[r]+wc[t]*bc[r]),i=t_(bc[t]*xc[r]+Ec[t]*bc[r]),a=t_(xc[t]*wc[r]+wc[t]*Ec[r]),o=t_(bc[t]*wc[r]+Ec[t]*Ec[r]),s=0;s<16;s++)if(xc[s]===n&&bc[s]===i&&wc[s]===a&&Ec[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new an;c.set(xc[t],bc[t],wc[t],Ec[t],0,0),KX.push(c)}}RUe();var cn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return xc[t]},uY:function(t){return bc[t]},vX:function(t){return wc[t]},vY:function(t){return Ec[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return LT[t][e]},sub:function(t,e){return LT[t][cn.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?cn.S:cn.N:Math.abs(e)*2<=Math.abs(t)?t>0?cn.E:cn.W:e>0?t>0?cn.SE:cn.SW:t>0?cn.NE:cn.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=KX[cn.inv(e)];i.tx=r,i.ty=n,t.append(i)}},yg=function(){function t(){this.worldTransform=new an,this.localTransform=new an,this.position=new iu(this.onChange,this,0,0),this.scale=new iu(this.onChange,this,1,1),this.pivot=new iu(this.onChange,this,0,0),this.skew=new iu(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */yt.SORTABLE_CHILDREN=!1;var gd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?tr.EMPTY:(e=e||new tr(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,v=this.maxY,m=o*r+c*n+u,g=s*r+l*n+f;h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*n+u,g=s*i+l*n+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*r+c*a+u,g=s*r+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*a+u,g=s*i+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,this.minX=h,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,v=this.maxX,m=this.maxY,g=n;g<i;g+=2){var _=r[g],y=r[g+1],w=s*_+l*y+f,b=u*y+c*_+h;p=Math.min(p,w-a),v=Math.max(v,w+a),d=Math.min(d,b-o),m=Math.max(m,b+o)}this.minX=p,this.minY=d,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MT=function(t,e){return MT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},MT(t,e)};function Fk(t,e){MT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kn=function(t){Fk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new yg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new gd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new tr),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new tr),r=this._localBoundsRect),this._localBounds||(this._localBounds=new gd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Nk),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*kk},set:function(r){this.transform.rotation=r*bl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Ef),Nk=function(t){Fk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(kn);kn.prototype.displayObjectUpdateTransform=kn.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(SU||(SU={}));var CU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(CU||(CU={}));var AU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(AU||(AU={}));var TU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(TU||(TU={}));var IU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(IU||(IU={}));var RU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(RU||(RU={}));var PU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(PU||(PU={}));var OU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(OU||(OU={}));var kU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(kU||(kU={}));var FU;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(FU||(FU={}));var NU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(NU||(NU={}));var LU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(LU||(LU={}));var MU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(MU||(MU={}));var BU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(BU||(BU={}));var DU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(DU||(DU={}));var UU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(UU||(UU={}));var BT;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(BT||(BT={}));var jU;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(jU||(jU={}));var $U;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($U||($U={}));function PUe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var di=function(t){Fk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=yt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Ps(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Ps(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Ps(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(PUe),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==BT.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(kn);di.prototype.containerUpdateTransform=di.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ZX={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};kn.mixin(ZX);var OUe=9,r_=100,kUe=0,FUe=0,GU=2,VU=1,NUe=-1e3,LUe=-1e3,MUe=2,JX=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_o.tablet||_o.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=r_+"px",r.style.height=r_+"px",r.style.position="absolute",r.style.top=kUe+"px",r.style.left=FUe+"px",r.style.zIndex=GU.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=VU+"px",r.style.height=VU+"px",r.style.position="absolute",r.style.top=NUe+"px",r.style.left=LUe+"px",r.style.zIndex=MUe.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(_o.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=c+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var v=this.children[d];if(v.renderId!==this.renderId)v._accessibleActive=!1,Ps(this.children,d,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,d--;else{p=v._accessibleDiv;var m=v.hitArea,g=v.worldTransform;v.hitArea?(p.style.left=(g.tx+m.x*g.a)*f+"px",p.style.top=(g.ty+m.y*g.d)*h+"px",p.style.width=m.width*g.a*f+"px",p.style.height=m.height*g.d*h+"px"):(m=v.getBounds(),this.capHitArea(m),p.style.left=m.x*f+"px",p.style.top=m.y*h+"px",p.style.width=m.width*f+"px",p.style.height=m.height*h+"px",p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=r_+"px",r.style.height=r_+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=GU.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===OUe&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */yt.TARGET_FPMS=.06;var Qo;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Qo||(Qo={}));var z2=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),bn=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new z2(null,null,1/0),this.deltaMS=1/yt.TARGET_FPMS,this.elapsedMS=1/yt.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Qo.NORMAL),this._addListener(new z2(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Qo.NORMAL),this._addListener(new z2(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*yt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,yt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),QX=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Qo.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?bn.shared:new bn,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var DT=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new vr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UT=function(t,e){return UT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},UT(t,e)};function BUe(t,e){UT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ez=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),sy=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),DUe=function(){function t(){this._tempPoint=new vr}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],p=this.recursiveFindHit(e,h,n,i,c);if(p){if(!h.parent)continue;c=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),tz={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};kn.mixin(tz);var n_=1,i_={target:null,data:{global:null}},rz=function(t){BUe(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new DT,i.mouse.identifier=n_,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[n_]=i.mouse,i.interactionDataPool=[],i.eventData=new ez,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new DUe,i._tempDisplayObject=new Nk,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return i_.target=null,i_.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(i_,n,null,!0),i_.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(bn.system.add(this.tickerUpdate,this,Qo.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(bn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===f&&(p.stopPropagationHint=!0),this.dispatchEvent(f,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new sy(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=sy.FLAGS,p=f?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new sy(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===n_||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new DT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=n_),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Ef);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Di=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,p=f.length;h<p;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Di.prototype,{dispatch:{value:Di.prototype.emit},run:{value:Di.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */yt.PREFER_ENV=_o.any?ks.WEBGL:ks.WEBGL2;yt.STRICT_TEXTURE_CACHE=!1;var Iv=[];function mb(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Iv.length-1;i>=0;--i){var a=Iv[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jT=function(t,e){return jT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jT(t,e)};function Jr(t,e){jT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $T=function(){return $T=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$T.apply(this,arguments)};function UUe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var cf=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Di("setRealSize"),this.onUpdate=new Di("update"),this.onError=new Di("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Hu=function(t){Jr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_a.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(cf),jUe={scaleMode:Ci.NEAREST,format:nt.RGBA,alphaMode:_a.NPM},hr=function(t){Jr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,p=n.type,d=n.target,v=n.resolution,m=n.resourceOptions;return r&&!(r instanceof cf)&&(r=mb(r,m),r.internal=!0),i.resolution=v||yt.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:yt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:yt.ANISOTROPIC_LEVEL,i._wrapMode=f||yt.WRAP_MODE,i._scaleMode=c!==void 0?c:yt.SCALE_MODE,i.format=h||nt.RGBA,i.type=p||It.UNSIGNED_BYTE,i.target=d||yu.TEXTURE_2D,i.alphaMode=a!==void 0?a:_a.UNPACK,i.uid=Mu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=OT(this.realWidth)&&OT(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ho[this.cacheId],delete Aa[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=yt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Mu()}o=r._pixiId}var c=ho[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Hu(r,{width:n,height:i}),s=r instanceof Float32Array?It.FLOAT:It.UNSIGNED_BYTE;return new e(o,Object.assign(jUe,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ho[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),ho[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ho[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ho[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete ho[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Ef),_b=function(t){Jr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new hr;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof cf?this.addResourceAt(r[i],i):this.addResourceAt(mb(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(cf),Lk=function(t){Jr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=yu.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(_b),Fs=function(t){Jr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=zX(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_a.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(cf),yb=function(t){Jr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Fs),Mk=function(t){Jr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=yu.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=yu.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=yu.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(_b),xb=function(t){Jr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;Fs.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:yt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===_a.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Fs),Bk=function(t){Jr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Fs.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Mu(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Fs),Dk=function(t){Jr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Fs.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=bn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Fs),Uk=function(t){Jr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(Fs);Iv.push(xb,Uk,yb,Dk,Bk,Hu,Mk,Lk);var nz={__proto__:null,Resource:cf,BaseImageResource:Fs,INSTALLED:Iv,autoDetectResource:mb,AbstractMultiResource:_b,ArrayResource:Lk,BufferResource:Hu,CanvasResource:yb,CubeResource:Mk,ImageResource:xb,SVGResource:Bk,VideoResource:Dk,ImageBitmapResource:Uk},$Ue=function(t){Jr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_a.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Hu),dx=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Di("disposeFramebuffer"),this.multisample=Vn.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new hr(null,{scaleMode:Ci.NEAREST,resolution:1,mipmap:ka.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new hr(new $Ue(null,{width:this.width,height:this.height}),{scaleMode:Ci.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ka.OFF,format:nt.DEPTH_COMPONENT,type:It.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),jk=function(t){Jr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Vn.NONE,n=t.call(this,null,r)||this,n.mipmap=ka.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new dx(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(hr),$k=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=cn.add(n,cn.NW),this.x0=c+o*cn.uX(n),this.y0=l+s*cn.uY(n),n=cn.add(n,2),this.x1=c+o*cn.uX(n),this.y1=l+s*cn.uY(n),n=cn.add(n,2),this.x2=c+o*cn.uX(n),this.y2=l+s*cn.uY(n),n=cn.add(n,2),this.x3=c+o*cn.uX(n),this.y3=l+s*cn.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),HU=new $k;function a_(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var kt=function(t){Jr(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new tr(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=HU,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new vr(s.x,s.y):new vr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Aa[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===HU&&(this._uvs=new $k),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=yt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof hr){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Mu(),hr.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Mu()}o=r._pixiId}var c=Aa[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof hr)?(n.resolution||(n.resolution=Av(r)),c=new e(new hr(r,n)),c.baseTexture.cacheId=o,hr.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof hr&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(hr.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new hr(r,Object.assign({scaleMode:yt.SCALE_MODE,resolution:Av(n)},a)),s=o.resource;s instanceof xb&&(s.url=n);var c=new e(o);return i||(i=n),hr.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(hr.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Aa[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Aa[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Aa[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Aa[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Aa[r.textureCacheIds[a]]===r&&delete Aa[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new hr),a_(e._EMPTY),a_(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new hr(new yb(r))),a_(e._WHITE),a_(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Ef),Bu=function(t){Jr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(xl("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new jk(r))},e}(kt),iz=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Vn.NONE);var i=new jk(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Bu(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Vn.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Cv(e),r=Cv(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Vn.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),GT=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=It.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),GUe=0,Qn=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=GUe++,this.disposeRunner=new Di("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Zo.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Zo.ELEMENT_ARRAY_BUFFER:Zo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),VUe={Float32Array,Uint32Array,Int32Array,Uint8Array};function HUe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=gb(u);i[f]||(i[f]=new VUe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}var XU={5126:4,5123:2,5121:1},XUe=0,zUe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},r0=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=XUe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Di("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Qn||(r instanceof Array&&(r=new Float32Array(r)),r=new Qn(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new GT(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Qn||(e instanceof Array&&(e=new Uint16Array(e)),e=new Qn(e)),e.type=Zo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Qn,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*XU[a.type]/4),a.buffer=0}for(n.data=HUe(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Qn(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new GT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Zo.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new zUe[gb(o.buffers[s].data)](i[s]),r.buffers[s]=new Qn(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Zo.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*XU[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,c=0;c<d.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=d.length}}return r},t}(),az=function(t){Jr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(r0),Gk=function(t){Jr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Qn(r.vertices),r.uvBuffer=new Qn(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(r0),WUe=0,xu=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=WUe++,this.static=!!r,this.ubo=!!n,e instanceof Qn?(this.buffer=e,this.buffer.type=Zo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Qn(new Float32Array(1)),this.buffer.type=Zo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),oz=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Vn.NONE,this.sourceFrame=new tr,this.destinationFrame=new tr,this.bindingSourceFrame=new tr,this.bindingDestinationFrame=new tr,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),o_=[new vr,new vr,new vr,new vr],W2=new an,Vk=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new iz,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new az,this.quadUv=new Gk,this.tempRect=new tr,this.activeState={},this.globalUniforms=new xu({outputFrame:new tr,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new oz,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var v=r[d];l=Math.min(l,v.resolution),u=Math.min(u,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,p=p||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var m=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(W2.copyFrom(a.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,g),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,ol.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,ol.CLEAR,r);var p=u;u=f,f=p}n[h].apply(this,u,l.renderTexture,ol.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=ol.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===ol.CLEAR||r===ol.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(za.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(za.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(an.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Vn.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Vn.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=o_[0],i=o_[1],a=o_[2],o=o_[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?W2.copyFrom(a):W2.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),xg=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),Hk=function(){function t(e){this.renderer=e,this.emptyRenderer=new xg(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),zU=0,Xk=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=zU++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=zU++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(yt.PREFER_ENV>=ks.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),sz=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Vn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),YUe=new tr,zk=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new dx(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new tr,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;yt.PREFER_ENV===ks.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=Ev.COLOR|Ev.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new sz(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Vn.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Vn.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new dx(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=YUe,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new tr},t.prototype.destroy=function(){this.renderer=null},t}(),Y2={5126:4,5123:2,5121:1},Wk=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;yt.PREFER_ENV===ks.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,p={},d={};for(var v in f)p[v]=0,d[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[v].buffer]+=h[v].size*Y2[h[v].type];for(var v in h){var m=h[v],g=m.size;m.stride===void 0&&(p[m.buffer]===g*Y2[m.type]?m.stride=0:m.stride=p[m.buffer]),m.start===void 0&&(m.start=d[m.buffer],d[m.buffer]+=g*Y2[m.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<f.length;_++){var y=f[_];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),lz=function(){function t(e){e===void 0&&(e=null),this.type=Ni.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=yt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ni.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function WU(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function YU(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function qUe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||YU(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||YU(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function q2(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function uz(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return q2(2*e);case"bvec3":return q2(3*e);case"bvec4":return q2(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var cz={},q0=cz;function fz(){if(q0===cz||q0&&q0.isContextLost()){var t=document.createElement("canvas"),e=void 0;yt.PREFER_ENV>=ks.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),q0=e}return q0}var s_;function KUe(){if(!s_){s_=Wo.MEDIUM;var t=fz();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);s_=e.precision?Wo.HIGH:Wo.MEDIUM}}return s_}function qU(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Wo.HIGH&&r!==Wo.HIGH&&(n=Wo.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Wo.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var ZUe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function hz(t){return ZUe[t]}var l_=null,KU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dz(t,e){if(!l_){var r=Object.keys(KU);l_={};for(var n=0;n<r.length;++n){var i=r[n];l_[t[i]]=KU[i]}}return l_[e]}var Kc=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],JUe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},QUe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function e6e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Kc.length;c++)if(Kc[c].test(a,o)){n.push(Kc[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?JUe:QUe,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var t6e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function r6e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function pz(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=t6e.replace(/%forloop%/gi,r6e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var K0;function n6e(){if(typeof K0=="boolean")return K0;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");K0=t({a:"b"},"a","b")===!0}catch{K0=!1}return K0}var i6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,a6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,o6e=0,u_={},n0=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=o6e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),u_[n]?(u_[n]++,n+="-"+u_[n]):u_[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=qU(this.vertexSrc,yt.PRECISION_VERTEX,Wo.HIGH),this.fragmentSrc=qU(this.fragmentSrc,yt.PRECISION_FRAGMENT,KUe())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return a6e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return i6e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=FT[i];return a||(FT[i]=a=new t(e,r,n)),a},t}(),vl=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof xu?this.uniformGroup=r:this.uniformGroup=new xu(r):this.uniformGroup=new xu({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=n0.from(e,r);return new t(i,n)},t}(),K2=0,Z2=1,J2=2,Q2=3,eC=4,tC=5,Xu=function(){function t(){this.data=0,this.blendMode=ut.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<K2)},set:function(e){!!(this.data&1<<K2)!==e&&(this.data^=1<<K2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Z2)},set:function(e){!!(this.data&1<<Z2)!==e&&(this.data^=1<<Z2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<J2)},set:function(e){!!(this.data&1<<J2)!==e&&(this.data^=1<<J2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Q2)},set:function(e){!!(this.data&1<<Q2)!==e&&(this.data^=1<<Q2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<tC)},set:function(e){!!(this.data&1<<tC)!==e&&(this.data^=1<<tC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<eC)},set:function(e){!!(this.data&1<<eC)!==e&&(this.data^=1<<eC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ut.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),s6e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,l6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,$t=function(t){Jr(e,t);function e(r,n,i){var a=this,o=n0.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=yt.FILTER_RESOLUTION,a.multisample=yt.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Xu,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return s6e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return l6e},enumerable:!1,configurable:!0}),e}(vl),u6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,c6e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ZU=new an,bb=function(){function t(e,r){this._texture=e,this.mapCoord=new an,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(ZU.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(ZU));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),vz=function(t){Jr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||u6e,n||c6e,i)||this,a.maskSprite=o,a.maskMatrix=new an,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new bb(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}($t),Yk=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new lz;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==Ni.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ni.SCISSOR:this.renderer.scissor.push(n);break;case Ni.STENCIL:this.renderer.stencil.push(n);break;case Ni.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Ni.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ni.SCISSOR:this.renderer.scissor.pop();break;case Ni.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ni.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Ni.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=Ni.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ni.SCISSOR:e.type=Ni.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new vz]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),gz=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),JU=new an,qk=function(t){Jr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?JU.copyFrom(o):JU.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(gz),Kk=function(t){Jr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(gz),Zk=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new an,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),lc=new tr,Z0=new tr,Jk=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new tr,this.destinationFrame=new tr,this.viewportFrame=new tr}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(lc.width=e.frame.width,lc.height=e.frame.height,r=lc),n||(Z0.x=e.frame.x,Z0.y=e.frame.y,Z0.width=r.width,Z0.height=r.height,n=Z0),o=a.framebuffer):(s=i.resolution,r||(lc.width=i.screen.width,lc.height=i.screen.height,r=lc),n||(n=lc,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function f6e(t,e,r,n,i){r.buffer.update(i)}var h6e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},mz={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function _z(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=mz[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function yz(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function xz(t,e){if(!t.autoManage)return{size:0,syncFunc:f6e};for(var r=yz(t.uniforms,e),n=_z(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Kc.length;h++){var p=Kc[h];if(p.codeUbo&&p.test(c.data,l)){o.push("offset = "+c.offset/4+";",Kc[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var d=hz(c.data.type),v=Math.max(mz[c.data.type]/16,1),m=d/v,g=(4-m%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+g+`;
                }

                `)}else{var _=h6e[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+_+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var d6e=function(){function t(){}return t}(),bz=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function p6e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=dz(e,a.type),s={type:o,name:a.name,size:hz(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function v6e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=dz(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:uz(c,a.size)}}return r}function wz(t,e){var r=WU(t,t.VERTEX_SHADER,e.vertexSrc),n=WU(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||qUe(t,i,r,n),e.attributeData=p6e(i,t),e.uniformData=v6e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:uz(c.type,c.size)}}var l=new bz(i,s);return l}var g6e=0,c_={textureCount:0,uboCount:0},Qk=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=g6e++}return t.prototype.systemCheck=function(){if(!n6e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(c_.textureCount=0,c_.uboCount=0,this.syncUniformGroup(e.uniformGroup,c_)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=e6e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,c_,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=xz(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=wz(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function m6e(t,e){return e===void 0&&(e=[]),e[ut.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD]=[t.ONE,t.ONE],e[ut.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.NONE]=[0,0],e[ut.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ut.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ut.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ut.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ut.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ut.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ut.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ut.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ut.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ut.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var _6e=0,y6e=1,x6e=2,b6e=3,w6e=4,E6e=5,e3=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ut.NONE,this._blendEq=!1,this.map=[],this.map[_6e]=this.setBlend,this.map[y6e]=this.setOffset,this.map[x6e]=this.setCullFace,this.map[b6e]=this.setDepthTest,this.map[w6e]=this.setFrontFace,this.map[E6e]=this.setDepthMask,this.checks=[],this.defaultState=new Xu,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=m6e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),t3=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=yt.GC_MAX_IDLE,this.checkCountMax=yt.GC_MAX_CHECK_COUNT,this.mode=yt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==hx.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function S6e(t){var e,r,n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_,y,w,b,E,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[It.UNSIGNED_BYTE]=(r={},r[nt.RGBA]=t.RGBA8,r[nt.RGB]=t.RGB8,r[nt.RG]=t.RG8,r[nt.RED]=t.R8,r[nt.RGBA_INTEGER]=t.RGBA8UI,r[nt.RGB_INTEGER]=t.RGB8UI,r[nt.RG_INTEGER]=t.RG8UI,r[nt.RED_INTEGER]=t.R8UI,r[nt.ALPHA]=t.ALPHA,r[nt.LUMINANCE]=t.LUMINANCE,r[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[It.BYTE]=(n={},n[nt.RGBA]=t.RGBA8_SNORM,n[nt.RGB]=t.RGB8_SNORM,n[nt.RG]=t.RG8_SNORM,n[nt.RED]=t.R8_SNORM,n[nt.RGBA_INTEGER]=t.RGBA8I,n[nt.RGB_INTEGER]=t.RGB8I,n[nt.RG_INTEGER]=t.RG8I,n[nt.RED_INTEGER]=t.R8I,n),e[It.UNSIGNED_SHORT]=(i={},i[nt.RGBA_INTEGER]=t.RGBA16UI,i[nt.RGB_INTEGER]=t.RGB16UI,i[nt.RG_INTEGER]=t.RG16UI,i[nt.RED_INTEGER]=t.R16UI,i[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[It.SHORT]=(a={},a[nt.RGBA_INTEGER]=t.RGBA16I,a[nt.RGB_INTEGER]=t.RGB16I,a[nt.RG_INTEGER]=t.RG16I,a[nt.RED_INTEGER]=t.R16I,a),e[It.UNSIGNED_INT]=(o={},o[nt.RGBA_INTEGER]=t.RGBA32UI,o[nt.RGB_INTEGER]=t.RGB32UI,o[nt.RG_INTEGER]=t.RG32UI,o[nt.RED_INTEGER]=t.R32UI,o[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[It.INT]=(s={},s[nt.RGBA_INTEGER]=t.RGBA32I,s[nt.RGB_INTEGER]=t.RGB32I,s[nt.RG_INTEGER]=t.RG32I,s[nt.RED_INTEGER]=t.R32I,s),e[It.FLOAT]=(c={},c[nt.RGBA]=t.RGBA32F,c[nt.RGB]=t.RGB32F,c[nt.RG]=t.RG32F,c[nt.RED]=t.R32F,c[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[It.HALF_FLOAT]=(l={},l[nt.RGBA]=t.RGBA16F,l[nt.RGB]=t.RGB16F,l[nt.RG]=t.RG16F,l[nt.RED]=t.R16F,l),e[It.UNSIGNED_SHORT_5_6_5]=(u={},u[nt.RGB]=t.RGB565,u),e[It.UNSIGNED_SHORT_4_4_4_4]=(f={},f[nt.RGBA]=t.RGBA4,f),e[It.UNSIGNED_SHORT_5_5_5_1]=(h={},h[nt.RGBA]=t.RGB5_A1,h),e[It.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[nt.RGBA]=t.RGB10_A2,p[nt.RGBA_INTEGER]=t.RGB10_A2UI,p),e[It.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[nt.RGB]=t.R11F_G11F_B10F,d),e[It.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[nt.RGB]=t.RGB9_E5,v),e[It.UNSIGNED_INT_24_8]=(m={},m[nt.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[It.FLOAT_32_UNSIGNED_INT_24_8_REV]=(g={},g[nt.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,g),e):C=(_={},_[It.UNSIGNED_BYTE]=(y={},y[nt.RGBA]=t.RGBA,y[nt.RGB]=t.RGB,y[nt.ALPHA]=t.ALPHA,y[nt.LUMINANCE]=t.LUMINANCE,y[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),_[It.UNSIGNED_SHORT_5_6_5]=(w={},w[nt.RGB]=t.RGB,w),_[It.UNSIGNED_SHORT_4_4_4_4]=(b={},b[nt.RGBA]=t.RGBA,b),_[It.UNSIGNED_SHORT_5_5_5_1]=(E={},E[nt.RGBA]=t.RGBA,E),_),C}var ly=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=It.UNSIGNED_BYTE,this.internalFormat=nt.RGBA,this.samplerType=0}return t}(),r3=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new hr,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=S6e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new ly(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ly(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==Sv.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new ly(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===It.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Sv.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&Ps(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ka.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Rs.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==ka.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ci.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ci.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ci.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ci.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Ez={__proto__:null,FilterSystem:Vk,BatchSystem:Hk,ContextSystem:Xk,FramebufferSystem:zk,GeometrySystem:Wk,MaskSystem:Yk,ScissorSystem:qk,StencilSystem:Kk,ProjectionSystem:Zk,RenderTextureSystem:Jk,ShaderSystem:Qk,StateSystem:e3,TextureGCSystem:t3,TextureSystem:r3},rC=new an,Sz=function(t){Jr(e,t);function e(r,n){r===void 0&&(r=vd.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},yt.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new tr(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||yt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(xl("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(xl("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=UUe(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Bu.create($T({width:a.width,height:a.height},s));return rC.tx=-a.x,rC.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:rC,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=vd.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Tk(r),pi(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Ef),C6e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),A6e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new C6e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Cl=function(t){Jr(e,t);function e(r){var n=t.call(this,vd.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Di("destroy"),contextChange:new Di("contextChange"),reset:new Di("reset"),update:new Di("update"),postrender:new Di("postrender"),prerender:new Di("prerender"),resize:new Di("resize")},n.runners.contextChange.add(n),n.globalUniforms=new xu({projectionMatrix:new an},!0),n.addSystem(Yk,"mask").addSystem(Xk,"context").addSystem(e3,"state").addSystem(Qk,"shader").addSystem(r3,"texture").addSystem(A6e,"buffer").addSystem(Wk,"geometry").addSystem(zk,"framebuffer").addSystem(qk,"scissor").addSystem(Kk,"stencil").addSystem(Zk,"projection").addSystem(t3,"textureGC").addSystem(Vk,"filter").addSystem(Jk,"renderTexture").addSystem(Hk,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,UX(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(jX())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Vn.HIGH?this.multisample=Vn.HIGH:n>=Vn.MEDIUM?this.multisample=Vn.MEDIUM:n>=Vn.LOW?this.multisample=Vn.LOW:this.multisample=Vn.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Bu?(xl("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return xl("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(Sz);function Cz(t){return Cl.create(t)}var T6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,I6e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Az=T6e,n3=I6e,R6e=function(){function t(e){xl("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),px=function(){function t(){this.texArray=null,this.blend=0,this.type=za.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),vx=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Rv=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),Tz=function(t){Jr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Xu.for2d(),n.size=yt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;yt.PREFER_ENV===ks.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),yt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=pz(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new px);for(;n.length<a;)n.push(new vx);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++hr._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,p),h=p,f=a[++u],++l),d._batchEnabled=l,d.touched=c,f.elements[f.count++]=d)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;hr._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[f];d.start=this._iIndex,d.texArray=r;for(var v=n;v<i;++v){var m=o[v],g=m._texture.baseTexture,_=Rk[g.alphaMode?1:0][m.blendMode];o[v]=null,n<v&&d.blend!==_&&(d.size=p-d.start,n=v,d=u[++f],d.texArray=r,d.start=p),this.packInterleavedGeometry(m,s,c,h,p),h+=m.vertexData.length/2*l,p+=m.indices.length,d.blend=_}n<i&&(d.size=p-d.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;yt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),yt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Cv(Math.ceil(r/8)),i=kT(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Rv(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Cv(Math.ceil(r/12)),i=kT(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),v=d<1&&r._texture.baseTexture.alphaMode?vb(r._tintRGB,d):r._tintRGB+(d*255<<24),m=0;m<h.length;m+=2)c[a++]=h[m],c[a++]=h[m+1],c[a++]=u[m],c[a++]=u[m+1],s[a++]=v,c[a++]=p;for(var m=0;m<f.length;m++)i[o++]=l+f[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(xg),Iz=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=xu.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new n0(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new an,default:this.defaultGroupCache[e]};return new vl(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),i3=function(t){Jr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Qn(null,r,!1),n._indexBuffer=new Qn(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,It.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,It.FLOAT).addAttribute("aColor",n._buffer,4,!0,It.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,It.FLOAT).addIndex(n._indexBuffer),n}return e}(r0),QU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,e6=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Rz=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:QU,fragment:e6,geometryClass:i3,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){Jr(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new Iz(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(Tz)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return QU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return e6},enumerable:!1,configurable:!0}),t}(),Pz=Rz.create(),Oz={},P6e=function(t){Object.defineProperty(Oz,t,{get:function(){return xl("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),nz[t]}})};for(var a3 in nz)P6e(a3);var kz={},O6e=function(t){Object.defineProperty(kz,t,{get:function(){return xl("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Ez[t]}})};for(var a3 in Ez)O6e(a3);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bg=function(){function t(e){var r=this;this.stage=new di,e=Object.assign({forceCanvas:!1},e),this.renderer=Cz(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),k6e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();bg.registerPlugin(k6e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nC=/iPhone/i,t6=/iPod/i,r6=/iPad/i,n6=/\biOS-universal(?:.+)Mac\b/i,iC=/\bAndroid(?:.+)Mobile\b/i,i6=/Android/i,th=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,f_=/Silk/i,tl=/Windows Phone/i,a6=/\bWindows(?:.+)ARM\b/i,o6=/BlackBerry/i,s6=/BB10/i,l6=/Opera Mini/i,u6=/\b(CriOS|Chrome)(?:.+)Mobile/i,c6=/Mobile(?:.+)Firefox\b/i,f6=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function F6e(t){return function(e){return e.test(t)}}function N6e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=F6e(r),a={apple:{phone:i(nC)&&!i(tl),ipod:i(t6),tablet:!i(nC)&&(i(r6)||f6(e))&&!i(tl),universal:i(n6),device:(i(nC)||i(t6)||i(r6)||i(n6)||f6(e))&&!i(tl)},amazon:{phone:i(th),tablet:!i(th)&&i(f_),device:i(th)||i(f_)},android:{phone:!i(tl)&&i(th)||!i(tl)&&i(iC),tablet:!i(tl)&&!i(th)&&!i(iC)&&(i(f_)||i(i6)),device:!i(tl)&&(i(th)||i(f_)||i(iC)||i(i6))||i(/\bokhttp\b/i)},windows:{phone:i(tl),tablet:i(a6),device:i(tl)||i(a6)},other:{blackberry:i(o6),blackberry10:i(s6),opera:i(l6),firefox:i(c6),chrome:i(u6),device:i(o6)||i(s6)||i(l6)||i(c6)||i(u6)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Rh=N6e(globalThis.navigator);function L6e(t){var e=!0;if(Rh.tablet||Rh.phone){if(Rh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Rh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function M6e(){return!Rh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var h6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(h6||(h6={}));var d6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(d6||(d6={}));var p6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(p6||(p6={}));var v6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(v6||(v6={}));var g6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(g6||(g6={}));var m6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(m6||(m6={}));var _6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(_6||(_6={}));var y6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(y6||(y6={}));var x6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(x6||(x6={}));var VT;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(VT||(VT={}));var HT;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(HT||(HT={}));var XT;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(XT||(XT={}));var b6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(b6||(b6={}));var w6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(w6||(w6={}));var zT;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(zT||(zT={}));var Hp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Hp||(Hp={}));var E6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(E6||(E6={}));var WT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(WT||(WT={}));var S6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(S6||(S6={}));var Fz={MIPMAP_TEXTURES:XT.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:WT.NONE,SPRITE_MAX_TEXTURES:L6e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:zT.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:HT.CLAMP,SCALE_MODE:VT.LINEAR,PRECISION_VERTEX:Hp.HIGH,PRECISION_FRAGMENT:Rh.apple.device?Hp.HIGH:Hp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:M6e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Fz.SORTABLE_CHILDREN=!1;var C6=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?tr.EMPTY:(e=e||new tr(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,v=this.maxY,m=o*r+c*n+u,g=s*r+l*n+f;h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*n+u,g=s*i+l*n+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*r+c*a+u,g=s*r+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*a+u,g=s*i+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,this.minX=h,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,v=this.maxX,m=this.maxY,g=n;g<i;g+=2){var _=r[g],y=r[g+1],w=s*_+l*y+f,b=u*y+c*_+h;p=Math.min(p,w-a),v=Math.max(v,w+a),d=Math.min(d,b-o),m=Math.max(m,b+o)}this.minX=p,this.minY=d,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YT=function(t,e){return YT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},YT(t,e)};function o3(t,e){YT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pv=function(t){o3(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new yg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new C6,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new tr),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new tr),r=this._localBoundsRect),this._localBounds||(this._localBounds=new C6);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new B6e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*kk},set:function(r){this.transform.rotation=r*bl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Ef),B6e=function(t){o3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Pv);Pv.prototype.displayObjectUpdateTransform=Pv.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var A6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(A6||(A6={}));var T6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(T6||(T6={}));var I6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(I6||(I6={}));var R6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(R6||(R6={}));var P6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(P6||(P6={}));var O6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(O6||(O6={}));var k6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(k6||(k6={}));var F6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(F6||(F6={}));var N6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(N6||(N6={}));var L6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(L6||(L6={}));var M6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(M6||(M6={}));var B6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(B6||(B6={}));var D6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(D6||(D6={}));var U6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(U6||(U6={}));var j6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(j6||(j6={}));var $6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})($6||($6={}));var qT;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(qT||(qT={}));var G6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(G6||(G6={}));var V6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(V6||(V6={}));function D6e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var H6=function(t){o3(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Fz.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Ps(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Ps(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Ps(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(D6e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==qT.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Pv);H6.prototype.containerUpdateTransform=H6.prototype.updateTransform;var aC=new tr,X6=4,Nz=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Bu?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=aC,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new NT(c,l,1),f=new Uint8Array(X6*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var p=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,p.data),u.context.putImageData(p,0,0),a){var d=new NT(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Bu?o=e:e instanceof Pv&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=aC,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=aC,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(X6*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var h_=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function z6(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ll=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof h_))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return z6(this,new h_(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return z6(this,new h_(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof h_))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function Lz(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var oC,d_=null,U6e=0,W6=200,j6e=204,$6e=1223,G6e=2;function Y6(){}function q6(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function sC(t){return t.toString().replace("object ","")}var Br=function(){function t(e,r,n){if(this._dequeue=Y6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Y6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ll,this.onProgress=new ll,this.onComplete=new ll,this.onAfterMiddleware=new ll}return t.setExtensionLoadType=function(e,r){q6(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){q6(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof oC>"u"&&(oC=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),oC&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(sC(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(sC(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(sC(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?W6:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===U6e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=W6:n===$6e&&(n=j6e);var i=n/100|0;if(i===G6e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,d_||(d_=document.createElement("a")),d_.href=e;var n=Lz(d_.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Br||(Br={}));function uc(){}function V6e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var H6e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),lC=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=uc,this.unsaturated=uc,this.empty=uc,this.drain=uc,this.error=uc,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new H6e(i,typeof o=="function"?o:uc);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,V6e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=uc,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),uC=100,X6e=/(#[\w-]+)?$/,Fa=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=lC.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ll,this.onError=new ll,this.onLoad=new ll,this.onStart=new ll,this.onComplete=new ll;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Br(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=uC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=Lz(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=X6e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,lC.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=uC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),lC.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(uC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Fa.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var Mz=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Fa.shared:new Fa},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),Bz=function(){function t(){}return t.add=function(){Br.setExtensionLoadType("svg",Br.LOAD_TYPE.XHR),Br.setExtensionXhrType("svg",Br.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Br.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;kt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),z6e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function W6e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=z6e.charAt(i[a])}return e}function Y6e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Br.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+W6e(t.xhr.responseText),t.type=Br.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Br.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Fa.registerPlugin({use:Y6e});Fa.registerPlugin(Bz);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gr,Qt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Qt||(Qt={}));var Ov=(Gr={},Gr[Qt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Gr[Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Gr[Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Gr[Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Gr[Qt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Gr[Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Gr[Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Gr[Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Gr[Qt.COMPRESSED_R11_EAC]=.5,Gr[Qt.COMPRESSED_SIGNED_R11_EAC]=.5,Gr[Qt.COMPRESSED_RG11_EAC]=1,Gr[Qt.COMPRESSED_SIGNED_RG11_EAC]=1,Gr[Qt.COMPRESSED_RGB8_ETC2]=.5,Gr[Qt.COMPRESSED_RGBA8_ETC2_EAC]=1,Gr[Qt.COMPRESSED_SRGB8_ETC2]=.5,Gr[Qt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Gr[Qt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gr[Qt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gr[Qt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Gr[Qt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Gr[Qt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Gr[Qt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Gr[Qt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Gr[Qt.COMPRESSED_RGB_ATC_WEBGL]=.5,Gr[Qt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Gr[Qt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Gr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KT=function(t,e){return KT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},KT(t,e)};function Dz(t,e){KT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function q6e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function K6e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Uz=function(t){Dz(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Rv(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return q6e(this,void 0,Promise,function(){var r,n,i;return K6e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Rv(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Hu),gx=function(t){Dz(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,p=f+a-1&~(a-1),d=h+o-1&~(o-1),v=p*d*Ov[n],m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?f:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,v)},u+=v,f=f>>1||1,h=h>>1||1,p=f+a-1&~(a-1),d=h+o-1&~(o-1),v=p*d*Ov[n];return l},e}(Uz),jz=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Br.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=Bc.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,d,p,function(m){if(m.error){r(m.error);return}var g=m.texture,_=g===void 0?null:g,y=m.textures,w=y===void 0?{}:y;Object.assign(e,{texture:_,textures:w}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function $z(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new kt(new hr(a,Object.assign({mipmap:ka.OFF,alphaMode:_a.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);hr.addToCache(s,c),kt.addToCache(a,c),o===0&&(hr.addToCache(s,t),kt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var J0,Fo;Br.setExtensionXhrType("dds",Br.XHR_RESPONSE_TYPE.BUFFER);var cC=4,p_=124,Z6e=32,K6=20,J6e=542327876,v_={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Q6e={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},g_={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Bo;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Bo||(Bo={}));var ZT;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(ZT||(ZT={}));var e5e=1,t5e=2,r5e=4,n5e=64,i5e=512,a5e=131072,o5e=827611204,s5e=861165636,l5e=894720068,u5e=808540228,c5e=4,f5e=(J0={},J0[o5e]=Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,J0[s5e]=Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,J0[l5e]=Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT,J0),h5e=(Fo={},Fo[Bo.DXGI_FORMAT_BC1_TYPELESS]=Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Fo[Bo.DXGI_FORMAT_BC1_UNORM]=Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Fo[Bo.DXGI_FORMAT_BC2_TYPELESS]=Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Fo[Bo.DXGI_FORMAT_BC2_UNORM]=Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Fo[Bo.DXGI_FORMAT_BC3_TYPELESS]=Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Fo[Bo.DXGI_FORMAT_BC3_UNORM]=Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Fo[Bo.DXGI_FORMAT_BC1_UNORM_SRGB]=Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Fo[Bo.DXGI_FORMAT_BC2_UNORM_SRGB]=Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Fo[Bo.DXGI_FORMAT_BC3_UNORM_SRGB]=Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Fo),Gz=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,$z(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==J6e)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,p_/Uint32Array.BYTES_PER_ELEMENT),a=i[v_.HEIGHT],o=i[v_.WIDTH],s=i[v_.MIPMAP_COUNT],c=new Uint32Array(e,v_.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Z6e/Uint32Array.BYTES_PER_ELEMENT),l=c[e5e];if(l&r5e){var u=c[Q6e.FOURCC];if(u!==u5e){var f=f5e[u],h=cC+p_,p=new Uint8Array(e,h),d=new gx(p,{format:f,width:o,height:a,levels:s});return[d]}var v=cC+p_,m=new Uint32Array(r.buffer,v,K6/Uint32Array.BYTES_PER_ELEMENT),g=m[g_.DXGI_FORMAT],_=m[g_.RESOURCE_DIMENSION],y=m[g_.MISC_FLAG],w=m[g_.ARRAY_SIZE],b=h5e[g];if(b===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+g);if(y===c5e)throw new Error("DDSLoader does not support cubemap textures");if(_===ZT.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,C=cC+p_+K6;if(w===1)E.push(new Uint8Array(e,C));else{for(var A=Ov[b],T=0,R=o,O=a,P=0;P<s;P++){var k=Math.max(1,R+3&-4),L=Math.max(1,O+3&-4),B=k*L*A;T+=B,R=R>>>1,O=O>>>1}for(var U=C,P=0;P<w;P++)E.push(new Uint8Array(e,U,T)),U+=T}return E.map(function(X){return new gx(X,{format:b,width:o,height:a,levels:s})})}throw l&n5e?new Error("DDSLoader does not support uncompressed texture data."):l&i5e?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&a5e?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&t5e?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Gl,rl,Q0;Br.setExtensionXhrType("ktx",Br.XHR_RESPONSE_TYPE.BUFFER);var Z6=[171,75,84,88,32,49,49,187,13,10,26,10],d5e=67305985,No={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},fC=64,JT=(Gl={},Gl[It.UNSIGNED_BYTE]=1,Gl[It.UNSIGNED_SHORT]=2,Gl[It.INT]=4,Gl[It.UNSIGNED_INT]=4,Gl[It.FLOAT]=4,Gl[It.HALF_FLOAT]=8,Gl),Vz=(rl={},rl[nt.RGBA]=4,rl[nt.RGB]=3,rl[nt.RG]=2,rl[nt.RED]=1,rl[nt.LUMINANCE]=1,rl[nt.LUMINANCE_ALPHA]=2,rl[nt.ALPHA]=1,rl),Hz=(Q0={},Q0[It.UNSIGNED_SHORT_4_4_4_4]=2,Q0[It.UNSIGNED_SHORT_5_5_5_1]=2,Q0[It.UNSIGNED_SHORT_5_6_5]=2,Q0),Xz=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=$z(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var p=new kt(new hr(f.resource,{mipmap:ka.OFF,alphaMode:_a.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),hr.addToCache(p.baseTexture,d),kt.addToCache(p,d),h===0&&(u[n]=p,hr.addToCache(p.baseTexture,n),kt.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(No.ENDIANNESS,!0)===d5e,a=n.getUint32(No.GL_TYPE,i),o=n.getUint32(No.GL_FORMAT,i),s=n.getUint32(No.GL_INTERNAL_FORMAT,i),c=n.getUint32(No.PIXEL_WIDTH,i),l=n.getUint32(No.PIXEL_HEIGHT,i)||1,u=n.getUint32(No.PIXEL_DEPTH,i)||1,f=n.getUint32(No.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(No.NUMBER_OF_FACES,i),p=n.getUint32(No.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(No.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,m=4,g=c+3&-4,_=l+3&-4,y=new Array(f),w=c*l;a===0&&(w=g*_);var b;if(a!==0?JT[a]?b=JT[a]*Vz[o]:b=Hz[a]:b=Ov[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,C=w*b,A=C,T=c,R=l,O=g,P=_,k=fC+d,L=0;L<p;L++){for(var B=n.getUint32(k,i),U=k+4,X=0;X<f;X++){var ee=y[X];ee||(ee=y[X]=new Array(p)),ee[L]={levelID:L,levelWidth:p>1||a!==0?T:O,levelHeight:p>1||a!==0?R:P,levelBuffer:new Uint8Array(r,U,A)},U+=A}k+=B+4,k=k%4!==0?k+4-k%4:k,T=T>>1||1,R=R>>1||1,O=T+v-1&~(v-1),P=R+m-1&~(m-1),A=O*P*b}return a!==0?{uncompressed:y.map(function(ne){var W=ne[0].levelBuffer,D=!1;return a===It.FLOAT?W=new Float32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4):a===It.UNSIGNED_INT?(D=!0,W=new Uint32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)):a===It.INT&&(D=!0,W=new Int32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)),{resource:new Hu(W,{width:ne[0].levelWidth,height:ne[0].levelHeight}),type:a,format:D?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:y.map(function(ne){return new gx(null,{format:s,width:c,height:l,levels:p,levelBuffers:ne})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<Z6.length;n++)if(r.getUint8(n)!==Z6[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case nt.RGBA:return nt.RGBA_INTEGER;case nt.RGB:return nt.RGB_INTEGER;case nt.RG:return nt.RG_INTEGER;case nt.RED:return nt.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(fC+a,n),s=fC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var QT=function(t,e){return QT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},QT(t,e)};function zz(t,e){QT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var p5e=function(t){zz(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ut.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,pi(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(di),J6=function(){function t(e,r,n){this.geometry=new r0,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||It.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Qn(GX(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Qn(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Qn(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===It.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===It.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===It.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===It.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),v5e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,g5e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Wz=function(t){zz(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new an,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:It.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=vl.from(g5e,v5e,{}),n.state=Xu.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=Pk(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=$X(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var v=s-p;v>a&&(v=a),d>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[d];m.uploadDynamic(n,p,v);var g=r._bufferUpdateIDs[d]||0;h=h||m._updateID<g,h&&(m._updateID=r._updateID,m.uploadStatic(n,p,v)),o.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,v*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new J6(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new J6(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,v=p.scale.x,m=p.scale.y,g=d.trim,_=d.orig;g?(l=g.x-p.anchor.x*_.width,c=l+g.width,f=g.y-p.anchor.y*_.height,u=f+g.height):(c=_.width*(1-p.anchor.x),l=_.width*-p.anchor.x,u=_.height*(1-p.anchor.y),f=_.height*-p.anchor.y),a[s]=l*v,a[s+1]=f*m,a[s+o]=c*v,a[s+o+1]=f*m,a[s+o*2]=c*v,a[s+o*2+1]=u*m,a[s+o*3]=l*v,a[s+o*3+1]=u*m,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?vb(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(xg);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fl;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(fl||(fl={}));var hl;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(hl||(hl={}));var md={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},s3=function(){function t(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var eI=function(t,e){return eI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},eI(t,e)};function l3(t,e){eI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Q6(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,v=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[v],t[p]],t[p]=n[0],t[v]=n[1]}}}var u3={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){Q6(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];Q6(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=yk(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},kv={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===dn.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===dn.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,m=p*4+(i?2:0)+2,g=m,_=d;{var y=i+o,w=a,b=r+y,E=r-y,C=n+w;if(e[v++]=b,e[v++]=C,e[--m]=C,e[--m]=E,a){var A=n-w;e[g++]=E,e[g++]=A,e[--_]=A,e[--_]=b}}for(var T=1;T<p;T++){var R=Math.PI/2*(T/p),y=i+Math.cos(R)*o,w=a+Math.sin(R)*s,b=r+y,E=r-y,C=n+w,A=n-w;e[v++]=b,e[v++]=C,e[--m]=C,e[--m]=E,e[g++]=E,e[g++]=A,e[--_]=A,e[--_]=b}{var y=i,w=a+s,b=r+y,E=r-y,C=n+w,A=n-w;e[v++]=b,e[v++]=C,e[--_]=A,e[--_]=b,i&&(e[v++]=E,e[v++]=C,e[--_]=A,e[--_]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==dn.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},Yz={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function rh(t,e,r){var n=e-t;return t+n*r}function m_(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,p=0,d=0,v=0,m=0;v<=s;++v)m=v/s,l=rh(t,r,m),u=rh(e,n,m),f=rh(r,i,m),h=rh(n,a,m),p=rh(l,f,m),d=rh(u,h,m),!(v===0&&c[c.length-2]===p&&c[c.length-1]===d)&&c.push(p,d);return c}var qz={build:function(t){if(_d.nextRoundedRectBehavior){kv.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(m_(n,i+s,n,i,n+s,i,r),m_(n+a-s,i,n+a,i,n+a,i+s,r),m_(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),m_(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(_d.nextRoundedRectBehavior){kv.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=yk(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function e5(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=c+h,v=l+p,m=u+h,g=f+p;return s.push(d,v),s.push(m,g),2}function nh(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,p=f-u,d=Math.abs(p),v=Math.sqrt(c*c+l*l),m=(15*d*Math.sqrt(v)/Math.PI>>0)+1,g=p/m;if(h+=g,s){o.push(t,e),o.push(r,n);for(var _=1,y=h;_<m;_++,y+=g)o.push(t,e),o.push(t+Math.sin(y)*v,e+Math.cos(y)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var _=1,y=h;_<m;_++,y+=g)o.push(t+Math.sin(y)*v,e+Math.cos(y)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return m*2}function m5e(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new vr(n[0],n[1]),s=new vr(n[n.length-2],n[n.length-1]),c=r.type!==dn.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,p=n.length/2,d=n.length,v=h.length/2,m=a.width/2,g=m*m,_=a.miterLimit*a.miterLimit,y=n[0],w=n[1],b=n[2],E=n[3],C=0,A=0,T=-(w-E),R=y-b,O=0,P=0,k=Math.sqrt(T*T+R*R);T/=k,R/=k,T*=m,R*=m;var L=a.alignment,B=(1-L)*2,U=L*2;c||(a.cap===hl.ROUND?d+=nh(y-T*(B-U)*.5,w-R*(B-U)*.5,y-T*B,w-R*B,y+T*U,w+R*U,h,!0)+2:a.cap===hl.SQUARE&&(d+=e5(y,w,T,R,B,U,!0,h))),h.push(y-T*B,w-R*B),h.push(y+T*U,w+R*U);for(var X=1;X<p-1;++X){y=n[(X-1)*2],w=n[(X-1)*2+1],b=n[X*2],E=n[X*2+1],C=n[(X+1)*2],A=n[(X+1)*2+1],T=-(w-E),R=y-b,k=Math.sqrt(T*T+R*R),T/=k,R/=k,T*=m,R*=m,O=-(E-A),P=b-C,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=m,P*=m;var ee=b-y,ne=w-E,W=b-C,D=A-E,z=ne*W-D*ee,V=z<0;if(Math.abs(z)<.1){h.push(b-T*B,E-R*B),h.push(b+T*U,E+R*U);continue}var G=(-T+y)*(-R+E)-(-T+b)*(-R+w),ie=(-O+C)*(-P+E)-(-O+b)*(-P+A),se=(ee*ie-W*G)/z,me=(D*G-ne*ie)/z,ue=(se-b)*(se-b)+(me-E)*(me-E),we=b+(se-b)*B,Be=E+(me-E)*B,Fe=b-(se-b)*U,Ee=E-(me-E)*U,Ae=Math.min(ee*ee+ne*ne,W*W+D*D),Ge=V?B:U,We=Ae+Ge*Ge*g,Ve=ue<=We;Ve?a.join===fl.BEVEL||ue/g>_?(V?(h.push(we,Be),h.push(b+T*U,E+R*U),h.push(we,Be),h.push(b+O*U,E+P*U)):(h.push(b-T*B,E-R*B),h.push(Fe,Ee),h.push(b-O*B,E-P*B),h.push(Fe,Ee)),d+=2):a.join===fl.ROUND?V?(h.push(we,Be),h.push(b+T*U,E+R*U),d+=nh(b,E,b+T*U,E+R*U,b+O*U,E+P*U,h,!0)+4,h.push(we,Be),h.push(b+O*U,E+P*U)):(h.push(b-T*B,E-R*B),h.push(Fe,Ee),d+=nh(b,E,b-T*B,E-R*B,b-O*B,E-P*B,h,!1)+4,h.push(b-O*B,E-P*B),h.push(Fe,Ee)):(h.push(we,Be),h.push(Fe,Ee)):(h.push(b-T*B,E-R*B),h.push(b+T*U,E+R*U),a.join===fl.ROUND?V?d+=nh(b,E,b+T*U,E+R*U,b+O*U,E+P*U,h,!0)+2:d+=nh(b,E,b-T*B,E-R*B,b-O*B,E-P*B,h,!1)+2:a.join===fl.MITER&&ue/g<=_&&(V?(h.push(Fe,Ee),h.push(Fe,Ee)):(h.push(we,Be),h.push(we,Be)),d+=2),h.push(b-O*B,E-P*B),h.push(b+O*U,E+P*U),d+=2)}y=n[(p-2)*2],w=n[(p-2)*2+1],b=n[(p-1)*2],E=n[(p-1)*2+1],T=-(w-E),R=y-b,k=Math.sqrt(T*T+R*R),T/=k,R/=k,T*=m,R*=m,h.push(b-T*B,E-R*B),h.push(b+T*U,E+R*U),c||(a.cap===hl.ROUND?d+=nh(b-T*(B-U)*.5,E-R*(B-U)*.5,b-T*B,E-R*B,b+T*U,E+R*U,h,!1)+2:a.cap===hl.SQUARE&&(d+=e5(b,E,T,R,B,U,!1,h)));for(var Xe=e.indices,qe=md.epsilon*md.epsilon,X=v;X<d+v-2;++X)y=h[X*2],w=h[X*2+1],b=h[(X+1)*2],E=h[(X+1)*2+1],C=h[(X+2)*2],A=h[(X+2)*2+1],!(Math.abs(y*(E-A)+b*(A-w)+C*(w-E))<qe)&&Xe.push(X,X+1,X+2)}}function _5e(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==dn.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function tI(t,e){t.lineStyle.native?_5e(t,e):m5e(t,e)}var rI=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,p=Math.abs(l*h-u*f);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,v=f*f+h*h,m=l*f+u*h,g=a*Math.sqrt(d)/p,_=a*Math.sqrt(v)/p,y=g*m/d,w=_*m/v,b=g*h+_*u,E=g*f+_*l,C=u*(_+y),A=l*(_+y),T=h*(g+w),R=f*(g+w),O=Math.atan2(A-E,C-b),P=Math.atan2(R-E,T-b);return{cx:b+e,cy:E+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=md._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/Tv)*40),h=u/(f*2),p=h*2,d=Math.cos(h),v=Math.sin(h),m=f-1,g=m%1/m,_=0;_<=m;++_){var y=_+g*_,w=h+o+p*y,b=Math.cos(w),E=-Math.sin(w);l.push((d*b+v*E)*a+n,(d*-E+v*b)*a+i)}},t}(),Kz=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,p=0,d=0,v=0,m=0,g=0,_=0,y=0,w=0,b=e,E=r,C=1;C<=l;++C)f=C/l,h=f*f,p=h*f,d=1-f,v=d*d,m=v*d,g=m*e+3*v*f*n+3*d*h*a+p*s,_=m*r+3*v*f*i+3*d*h*o+p*c,y=b-g,w=E-_,b=g,E=_,u+=Math.sqrt(y*y+w*w);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=md._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,p=0,d=0,v=0;s.push(c,l);for(var m=1,g=0;m<=u;++m)g=m/u,f=1-g,h=f*f,p=h*f,d=g*g,v=d*g,s.push(p*c+3*h*g*e+3*f*d*n+v*a,p*l+3*h*g*r+3*f*d*i+v*o)},t}(),Zz=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),p=l*l+u*u,d=2*Math.sqrt(f+h+p),v=Math.sqrt(f),m=2*f*v,g=2*Math.sqrt(p),_=h/v;return(m*d+v*h*(d-g)+(4*p*f-h*h)*Math.log((2*v+_+d)/(_+g)))/(4*m)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=md._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),Jz=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),cc,uy=(cc={},cc[dn.POLY]=u3,cc[dn.CIRC]=kv,cc[dn.ELIP]=kv,cc[dn.RECT]=Yz,cc[dn.RREC]=qz,cc),nI=[],gp=[],iI=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),ih=new vr,y5e=new gd,Qz=function(t){l3(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new gd,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),gp.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),nI.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new iI(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new iI(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,ih):ih.copyFrom(r),a.shape.contains(ih.x,ih.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(ih.x,ih.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=uy[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,v=this.indices.length,m=this.points.length/2;d.wrapMode=Rs.REPEAT,h===0?this.processFill(c):this.processLine(c);var g=this.points.length/2-m;g!==0&&(a&&!this._compareStyles(o,p)&&(a.end(v,m),a=null),a||(a=nI.pop()||new Jz,a.begin(p,v,m),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,m,g,p.matrix))}}}var _=this.indices.length,y=this.points.length/2;if(a&&a.end(_,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var w=y>65535&&r;this.indicesUint16=w?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++hr._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),gp.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=gp.pop();o||(o=new px,o.texArray=new vx),o.texArray.count=0,o.start=0,o.size=0,o.type=za.TRIANGLES;var s=0,c=null,l=0,u=!1,f=za.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,v=p.style,m=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,f=u?za.LINES:za.TRIANGLES,c=null,s=d,r++),c!==m&&(c=m,m._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=gp.pop(),o||(o=new px,o.texArray=new vx),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=Rs.REPEAT,o.texArray.elements[o.texArray.count++]=m,s++)),o.size+=p.size,h+=p.size,l=m._batchLocation,this.addColors(i,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}hr._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)u3.triangulate(r,this);else{var n=uy[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){tI(r,this);for(var n=0;n<r.holes.length;n++)tI(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=uy[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=y5e,i=an.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||an.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==dn.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===dn.RECT||c===dn.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===dn.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(c===dn.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+f,d.height+f)}else{var v=s;r.addVerticesMatrix(i,v.points,0,v.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=vb(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var p=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=p}c++,n.push(f/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),m=i+2;m<c;m+=2)d=Math.min(d,Math.floor(r[m]+s)),v=Math.min(v,Math.floor(r[m+1]+s));h-=d,p-=v;for(var m=i;m<c;m+=2)r[m]=(r[m]+h)*u,r[m+1]=(r[m+1]+p)*f},e.BATCHABLE_SIZE=100,e}(i3),eW=function(t){l3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=hl.BUTT,r.join=fl.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(s3),x5e=new Float32Array(3),hC={},_d=function(t){l3(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new s3,n._lineStyle=new eW,n._matrix=null,n._holeMode=!1,n.state=Xu.for2d(),n._geometry=r||new Qz,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ut.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:kt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:hl.BUTT,join:fl.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Qh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Qh,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Zz.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),Kz.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=rI.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,p=c.endAngle,d=c.anticlockwise;this.arc(l,u,f,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=Tv:s&&a<=o&&(a+=Tv);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<f&&d<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return rI.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:kt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:kt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new tr(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new qX(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new WX(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new YX(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new Qh(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===dn.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:pi(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!hC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new an,default:xu.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;hC[i]=new vl(l,c)}n=hC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=pi(this.tint,x5e),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],v=u[p+1];f[h++]=i*d+o*v+c,f[h++]=s*v+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new vr,e}(di),b5e={buildPoly:u3,buildCircle:kv,buildRectangle:Yz,buildRoundedRectangle:qz,buildLine:tI,ArcUtils:rI,BezierUtils:Kz,QuadraticUtils:Zz,BatchPart:Jz,FILL_COMMANDS:uy,BATCH_POOL:nI,DRAW_CALL_POOL:gp};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var aI=function(t,e){return aI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},aI(t,e)};function w5e(t,e){aI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ep=new vr,E5e=new Uint16Array([0,1,2,0,2,3]),Xa=function(t){w5e(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new iu(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ut.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||kt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=E5e,n.pluginName="batch",n.isSprite=!0,n._roundPixels=yt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Dc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Dc(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,p=this._anchor,d=0,v=0,m=0,g=0;if(f?(v=f.x-p._x*h.width,d=v+f.width,g=f.y-p._y*h.height,m=g+f.height):(v=-p._x*h.width,d=v+h.width,g=-p._y*h.height,m=g+h.height),u[0]=i*v+o*g+c,u[1]=s*g+a*v+l,u[2]=i*d+o*g+c,u[3]=s*g+a*d+l,u[4]=i*d+o*m+c,u[5]=s*m+a*d+l,u[6]=i*v+o*m+c,u[7]=s*m+a*v+l,this._roundPixels)for(var _=yt.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*_|0)/_)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,v=-a._y*i.height,m=v+i.height;n[0]=s*p+l*v+f,n[1]=u*v+c*p+h,n[2]=s*d+l*v+f,n[3]=u*v+c*d+h,n[4]=s*d+l*m+f,n[5]=u*m+c*d+h,n[6]=s*p+l*m+f,n[7]=u*m+c*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new gd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new tr),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,ep);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return ep.x>=a&&ep.x<a+n&&(o=-i*this.anchor.y,ep.y>=o&&ep.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof kt?r:kt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Dc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Dc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||kt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(di);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oI=function(t,e){return oI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oI(t,e)};function S5e(t,e){oI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yd;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(yd||(yd={}));var dC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:yd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},C5e=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ff=function(){function t(e){this.styleID=0,this.reset(),vC(this,e,e)}return t.prototype.clone=function(){var e={};return vC(e,this,dC),new t(e)},t.prototype.reset=function(){vC(this,dC,dC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=pC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=pC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){A5e(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=pC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&C5e.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function t5(t){return typeof t=="number"?Tk(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function pC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=t5(t[e]);return t}else return t5(t)}function A5e(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function vC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var is=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,f=Math.max(f,p)}var d=f+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,d,m,l,u,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!f,d=r.wordWrapWidth+l,v=t.tokenize(e),m=0;m<v.length;m++){var g=v[m];if(t.isNewline(g)){if(!h){s+=t.addLine(o),p=!f,o="",a=0;continue}g=" "}if(f){var _=t.isBreakingSpace(g),y=t.isBreakingSpace(o[o.length-1]);if(_&&y)continue}var w=t.getFromCache(g,l,c,i);if(w>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(g,r.breakWords))for(var b=t.wordWrapSplit(g),E=0;E<b.length;E++){for(var C=b[E],A=1;b[E+A];){var T=b[E+A],R=C[C.length-1];if(!t.canBreakChars(R,T,g,E,r.breakWords))C+=T;else break;A++}E+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=m===v.length-1;s+=t.addLine(g,!P),p=!1,o="",a=0}else w+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(g)||p)&&(o+=g,a+=w)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[p+v]!==255){d=!0;break}if(!d)p+=f;else break}for(r.ascent=s-h,p=u-f,d=!1,h=c;h>s;--h){for(var v=0;v<f;v+=4)if(l[p+v]!==255){d=!0;break}if(!d)p-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();is._fonts={};is.METRICS_STRING="|q";is.BASELINE_SYMBOL="M";is.BASELINE_MULTIPLIER=1.4;is.HEIGHT_MULTIPLIER=2;is._newlines=[10,13];is._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var T5e={texture:!0,children:!1,baseTexture:!0},c3=function(t){S5e(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=kt.from(i);return s.orig=new tr,s.trim=new tr,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=yt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=is.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,v=n.dropShadow?2:1,m=0;m<v;++m){var g=n.dropShadow&&m===0,_=g?Math.ceil(Math.max(1,s)+n.padding*2):0,y=_*this._resolution;if(g){i.fillStyle="black",i.strokeStyle="black";var w=n.dropShadowColor,b=pi(typeof w=="number"?w:Ik(w)),E=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+y}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var A=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(A=0);for(var T=0;T<c.length;T++)p=n.strokeThickness/2,d=n.strokeThickness/2+T*l+h.ascent+A,n.align==="right"?p+=f-u[T]:n.align==="center"&&(p+=(f-u[T])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[T],p+n.padding,d+n.padding-_,!0),n.fill&&this.drawLetterSpacing(c[T],p+n.padding,d+n.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var v="",m=p+1;m<u.length;++m)v+=u[m];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=HX(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=f.length+1,d=1;d<p;++d)h.push(d/p);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===yd.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var v=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var m=i.lineHeight*(d-1)+v,g=i.lineHeight*d,_=g;d>0&&m>g&&(_=(g+m)/2);var y=g+v,w=i.lineHeight*(d+1),b=y;d+1<n.length&&w<y&&(b=(y+w)/2);for(var E=(b-_)/u,C=0;C<f.length;C++){var A=0;typeof h[C]=="number"?A=h[C]:A=C/f.length;var T=Math.min(1,Math.max(0,_/u+A*E));T=Number(T.toFixed(5)),o.addColorStop(T,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var R=f.length+1,O=1,d=0;d<f.length;d++){var P=void 0;typeof h[d]=="number"?P=h[d]:P=O/R,o.addColorStop(P,f[d]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},T5e,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Dc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Dc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof ff?this._style=r:this._style=new ff(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Xa);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */yt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sI=function(t,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sI(t,e)};function I5e(t,e){sI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tW=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function R5e(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof kt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function P5e(t,e){if(t.baseTexture instanceof hr){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function O5e(t,e){if(t._texture&&t._texture instanceof kt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function k5e(t,e){return e instanceof c3?(e.updateText(!0),!0):!1}function F5e(t,e){if(e instanceof ff){var r=e.toFontString();return is.measureFont(r),!0}return!1}function N5e(t,e){if(t instanceof c3){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function L5e(t,e){return t instanceof ff?(e.indexOf(t)===-1&&e.push(t),!0):!1}var rW=function(){function t(e){var r=this;this.limiter=new tW(yt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(N5e),this.registerFindHook(L5e),this.registerFindHook(R5e),this.registerFindHook(P5e),this.registerFindHook(O5e),this.registerUploadHook(k5e),this.registerUploadHook(F5e)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,bn.system.addOnce(this.tick,this,Qo.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)bn.system.addOnce(this.tick,this,Qo.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof di)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&bn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function nW(t,e){return e instanceof hr?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function M5e(t,e){if(!(e instanceof _d))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&nW(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function B5e(t,e){return t instanceof _d?(e.push(t),!0):!1}var iW=function(t){I5e(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(B5e),n.registerUploadHook(nW),n.registerUploadHook(M5e),n}return e}(rW),D5e=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aW=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof kt?e:null,this.baseTexture=e instanceof hr?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Av(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new tr(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new tr(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new tr(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new tr(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new kt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),kt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),oW=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Br.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(d){if(typeof d!="string")return"continue";var v=d.replace(".json",""),m=Bc.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[v]||Object.values(a.resources).some(function(_){return Bc.format(Bc.parse(_.url))===m}))return"continue";var g={crossOrigin:e.crossOrigin,loadType:Br.LOAD_TYPE.XHR,xhrType:Br.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,m,g)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(v){if(v.error){r(v.error);return}var m=new aW(v.texture,e.data,e.url);m.parse(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Bc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lI=function(t,e){return lI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lI(t,e)};function sW(t,e){lI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tp=new vr,U5e=function(t){sW(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new yg,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new bb(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new tr),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,tp);var n=this._width,i=this._height,a=-n*this.anchor._x;if(tp.x>=a&&tp.x<a+n){var o=-i*this.anchor._y;if(tp.y>=o&&tp.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof kt?r:kt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(Xa),j5e=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,r5=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$5e=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,G5e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,V5e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,__=new an,lW=function(t){sW(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new Gk,n.state=Xu.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=vl.from(r5,j5e,n),this.shader=r.context.webGLVersion>1?vl.from(G5e,V5e,n):vl.from(r5,$5e,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==Rs.CLAMP:l.wrapMode===Rs.CLAMP&&(l.wrapMode=Rs.REPEAT));var p=h?this.simpleShader:this.shader,d=c.width,v=c.height,m=r._width,g=r._height;__.set(u.a*d/m,u.b*d/g,u.c*v/m,u.d*v/g,u.tx/m,u.ty/g),__.invert(),h?__.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=__.toArray(!0),p.uniforms.uColor=Ok(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=Pk(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(xg);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uI=function(t,e){return uI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uI(t,e)};function f3(t,e){uI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uW=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),gC=new vr,n5=new Qh,xd=function(t){f3(e,t);function e(r,n,i,a){a===void 0&&(a=za.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Xu.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=yt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===za.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var v=i[d*2],m=i[d*2+1];p[d*2]=s*v+l*m+f,p[d*2+1]=c*v+u*m+h}if(this._roundPixels)for(var g=yt.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*g|0)/g);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new uW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,gC);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=n5.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],n5.contains(gC.x,gC.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(di),H5e=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,X5e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,bd=function(t){f3(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:an.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||n0.from(X5e,H5e),a)||this,i._colorDirty=!1,i.uvMatrix=new bb(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Ok(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(vl),wg=function(t){f3(e,t);function e(r,n,i){var a=t.call(this)||this,o=new Qn(r),s=new Qn(n,!0),c=new Qn(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,It.FLOAT).addAttribute("aTextureCoord",s,2,!1,It.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(r0);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cI=function(t,e){return cI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cI(t,e)};function z5e(t,e){cI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fv=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),W5e=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),p=isNaN(h)?f:h;s[u]=p}n[a].push(s)}var d=new Fv;return n.info.forEach(function(v){return d.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return d.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return d.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return d.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return d.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return d.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),d},t}(),fI=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Fv,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),Y5e=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return fI.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return fI.parse(r)},t}(),mC=[W5e,fI,Y5e];function cW(t){for(var e=0;e<mC.length;e++)if(mC[e].test(t))return mC[e];return null}function q5e(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,v=1;v<d;++v)p.push(v/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===yd.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var m=0,g=a.fontProperties.fontSize+r.strokeThickness,_=g/f,v=0;v<i.length;v++)for(var y=a.lineHeight*v,w=0;w<h.length;w++){var b=0;typeof p[w]=="number"?b=p[w]:b=w/h.length;var E=y/f+b*_,C=Math.max(m,E);C=Math.min(C,1),s.addColorStop(C,h[w]),m=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var A=h.length+1,T=1,v=0;v<h.length;v++){var R=void 0;typeof p[v]=="number"?R=p[v]:R=T/A,s.addColorStop(R,h[v]),T++}}return s}function K5e(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=q5e(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=pi(typeof f=="number"?f:Ik(f)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function fW(t){return Array.from?Array.from(t):t.split("")}function Z5e(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,fW(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function cy(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Cc=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=Av(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,v=p.file;f[d]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[d].baseTexture.alphaMode=_a.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var m=e.char[h],d=m.id,g=m.page,_=e.char[h],y=_.x,w=_.y,b=_.width,E=_.height,C=_.xoffset,A=_.yoffset,T=_.xadvance;y/=u,w/=u,b/=u,E/=u,C/=u,A/=u,T/=u;var R=new tr(y+f[g].frame.x/u,w+f[g].frame.y/u,b,E);this.chars[d]={xOffset:C,yOffset:A,xAdvance:T,kerning:{},texture:new kt(f[g].baseTexture,R),page:g}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,L=O.amount;P/=u,k/=u,L/=u,this.chars[k]&&(this.chars[k].kerning[P]=L)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Fv)i=e;else{var a=cW(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof kt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=Z5e(a),f=r instanceof ff?r:new ff(r),h=c,p=new Fv;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var d=0,v=0,m,g,_,y=0,w=[],b=0;b<u.length;b++){m||(m=document.createElement("canvas"),m.width=c,m.height=l,g=m.getContext("2d"),_=new hr(m,{resolution:s}),w.push(new kt(_)),p.page.push({id:w.length-1,file:""}));var E=is.measureText(u[b],f,!1,m),C=E.width,A=Math.ceil(E.height),T=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(v>=l-A*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--b,m=null,g=null,_=null,v=0,d=0,y=0;continue}if(y=Math.max(A+E.fontProperties.descent,y),T*s+d>=h){--b,v+=y*s,v=Math.ceil(v),d=0,y=0;continue}K5e(m,g,E,d,v,s,f);var R=cy(E.text);p.char.push({id:R,page:w.length-1,x:d/s,y:v/s,width:T,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),d+=(T+2*o)*s,d=Math.ceil(d)}for(var b=0,O=u.length;b<O;b++)for(var P=u[b],k=0;k<O;k++){var L=u[k],B=g.measureText(P).width,U=g.measureText(L).width,X=g.measureText(P+L).width,ee=X-(B+U);ee&&p.kerning.push({first:cy(P),second:cy(L),amount:ee})}var ne=new t(p,w,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=ne,ne},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),J5e=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Q5e=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,eje=[],tje=[],i5=[],rje=function(t){z5e(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!Cc.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||Cc.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new iu(function(){i.dirty=!0},i,0,0),i._roundPixels=yt.ROUND_PIXELS,i.dirty=!0,i._resolution=yt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=Cc.available[this._fontName],i=this._fontSize/n.size,a=new vr,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=fW(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?eje:tje,p=null,d=0,v=0,m=0,g=-1,_=0,y=0,w=0,b=0,E=0;E<u.length;E++){var C=u[E],A=cy(C);if(/(?:\s)/.test(C)&&(g=E,_=d,b++),C==="\r"||C===`
`){s.push(d),c.push(-1),v=Math.max(v,d),++m,++y,a.x=0,a.y+=n.lineHeight,p=null,b=0;continue}var T=n.chars[A];if(T){p&&T.kerning[p]&&(a.x+=T.kerning[p]);var R=i5.pop()||{texture:kt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new vr};R.texture=T.texture,R.line=m,R.charCode=A,R.position.x=a.x+T.xOffset+this._letterSpacing/2,R.position.y=a.y+T.yOffset,R.prevSpaces=b,o.push(R),d=R.position.x+Math.max(T.xAdvance,T.texture.orig.width),a.x+=T.xAdvance+this._letterSpacing,w=Math.max(w,T.yOffset+T.texture.height),p=A,g!==-1&&f>0&&a.x>f&&(++y,Ps(o,1+g-y,1+E-g),E=g,g=-1,s.push(_),c.push(o.length>0?o[o.length-1].prevSpaces:0),v=Math.max(v,_),m++,a.x=0,a.y+=n.lineHeight,p=null,b=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(d=_),s.push(d),v=Math.max(v,d),c.push(-1));for(var P=[],E=0;E<=m;E++){var k=0;this._align==="right"?k=v-s[E]:this._align==="center"?k=(v-s[E])/2:this._align==="justify"&&(k=c[E]<0?0:(v-s[E])/c[E]),P.push(k)}for(var L=o.length,B={},U=[],X=this._activePagesMeshData,E=0;E<X.length;E++)h.push(X[E]);for(var E=0;E<L;E++){var ee=o[E].texture,ne=ee.baseTexture.uid;if(!B[ne]){var W=h.pop();if(!W){var D=new wg,z=void 0,V=void 0;n.distanceFieldType==="none"?(z=new bd(kt.EMPTY),V=ut.NORMAL):(z=new bd(kt.EMPTY,{program:n0.from(Q5e,J5e),uniforms:{uFWidth:0}}),V=ut.NORMAL_NPM);var G=new xd(D,z);G.blendMode=V,W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var ie=this._textureCache;ie[ne]=ie[ne]||new kt(ee.baseTexture),W.mesh.texture=ie[ne],W.mesh.tint=this._tint,U.push(W),B[ne]=W}B[ne].total++}for(var E=0;E<X.length;E++)U.indexOf(X[E])===-1&&this.removeChild(X[E].mesh);for(var E=0;E<U.length;E++)U[E].mesh.parent!==this&&this.addChild(U[E].mesh);this._activePagesMeshData=U;for(var E in B){var W=B[E],se=W.total;if(!(((r=W.indices)===null||r===void 0?void 0:r.length)>6*se)||W.vertices.length<xd.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*se),W.uvs=new Float32Array(4*2*se),W.indices=new Uint16Array(6*se);else for(var me=W.total,ue=W.vertices,we=me*4*2;we<ue.length;we++)ue[we]=0;W.mesh.size=6*se}for(var E=0;E<L;E++){var C=o[E],Be=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Be=Math.round(Be));var Fe=Be*i,Ee=C.position.y*i,ee=C.texture,Ae=B[ee.baseTexture.uid],Ge=ee.frame,We=ee._uvs,Ve=Ae.index++;Ae.indices[Ve*6+0]=0+Ve*4,Ae.indices[Ve*6+1]=1+Ve*4,Ae.indices[Ve*6+2]=2+Ve*4,Ae.indices[Ve*6+3]=0+Ve*4,Ae.indices[Ve*6+4]=2+Ve*4,Ae.indices[Ve*6+5]=3+Ve*4,Ae.vertices[Ve*8+0]=Fe,Ae.vertices[Ve*8+1]=Ee,Ae.vertices[Ve*8+2]=Fe+Ge.width*i,Ae.vertices[Ve*8+3]=Ee,Ae.vertices[Ve*8+4]=Fe+Ge.width*i,Ae.vertices[Ve*8+5]=Ee+Ge.height*i,Ae.vertices[Ve*8+6]=Fe,Ae.vertices[Ve*8+7]=Ee+Ge.height*i,Ae.uvs[Ve*8+0]=We.x0,Ae.uvs[Ve*8+1]=We.y0,Ae.uvs[Ve*8+2]=We.x1,Ae.uvs[Ve*8+3]=We.y1,Ae.uvs[Ve*8+4]=We.x2,Ae.uvs[Ve*8+5]=We.y2,Ae.uvs[Ve*8+6]=We.x3,Ae.uvs[Ve*8+7]=We.y3}this._textWidth=v*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in B){var W=B[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var Xe=0,qe=this._textWidth*this.anchor.x,Et=this._textHeight*this.anchor.y,Rt=0;Rt<W.total;Rt++)W.vertices[Xe++]-=qe,W.vertices[Xe++]-=Et,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=Et,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=Et,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=Et;this._maxLineHeight=w*i;var ft=W.mesh.geometry.getBuffer("aVertexPosition"),ht=W.mesh.geometry.getBuffer("aTextureCoord"),St=W.mesh.geometry.getIndex();ft.data=W.vertices,ht.data=W.uvs,St.data=W.indices,ft.update(),ht.update(),St.update()}for(var E=0;E<o.length;E++)i5.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=Cc.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),p=Math.sqrt(u*u+f*f),d=(Math.abs(h)+Math.abs(p))/2,v=this._fontSize/o,m=0,g=this._activePagesMeshData;m<g.length;m++){var _=g[m];_.mesh.shader.uniforms.uFWidth=d*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Cc.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(di),hW=function(){function t(){}return t.add=function(){Br.setExtensionXhrType("fnt",Br.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=cW(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=Cc.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),f=!0;break}}if(!f){var d={crossOrigin:e.crossOrigin,loadType:Br.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hI(t,e)};function nje(t,e){hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ije=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,dW=function(t){nje(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,Az,ije,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dI=function(t,e){return dI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dI(t,e)};function pW(t,e){dI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aje=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function oje(t,e){var r=Math.ceil(t/2),n=aje,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var sje={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},lje=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function uje(t){for(var e=sje[t],r=e.length,n=lje,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var a5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(a5||(a5={}));var o5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(o5||(o5={}));var s5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(s5||(s5={}));var l5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(l5||(l5={}));var u5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(u5||(u5={}));var c5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(c5||(c5={}));var f5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(f5||(f5={}));var h5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(h5||(h5={}));var d5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(d5||(d5={}));var p5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(p5||(p5={}));var v5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(v5||(v5={}));var g5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(g5||(g5={}));var m5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(m5||(m5={}));var Nv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Nv||(Nv={}));var _5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(_5||(_5={}));var y5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(y5||(y5={}));var x5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(x5||(x5={}));var b5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(b5||(b5={}));var w5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(w5||(w5={}));var Lv=function(t){pW(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=yt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=oje(o,r),l=uje(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,Nv.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,Nv.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}($t),cje=function(t){pW(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=yt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Lv(!0,r,n,i,a),o.blurYFilter=new Lv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,Nv.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pI=function(t,e){return pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pI(t,e)};function fje(t,e){pI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,vI=function(t){fje(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,n3,hje,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,p=i+s*(1-i),d=s*(1-i)-c*a,v=s*(1-i)-c*a,m=s*(1-i)+c*a,g=i+s*(1-i),_=[l,u,f,0,0,h,p,d,0,0,v,m,g,0,0,0,0,0,1,0];this._loadMatrix(_,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}($t);vI.prototype.grayscale=vI.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gI(t,e)};function dje(t,e){gI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pje=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vje=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,gje=function(t){dje(e,t);function e(r,n){var i=this,a=new an;return r.renderable=!1,i=t.call(this,vje,pje,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new vr(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mI(t,e)};function mje(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _je=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,yje=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,xje=function(t){mje(e,t);function e(){return t.call(this,_je,yje)||this}return e}($t);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_I(t,e)};function bje(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wje=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Eje=function(t){bje(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,n3,wje,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var E5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(E5||(E5={}));var S5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(S5||(S5={}));var C5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(C5||(C5={}));var A5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(A5||(A5={}));var T5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(T5||(T5={}));var I5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(I5||(I5={}));var R5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(R5||(R5={}));var P5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(P5||(P5={}));var O5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(O5||(O5={}));var k5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(k5||(k5={}));var F5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(F5||(F5={}));var N5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(N5||(N5={}));var L5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(L5||(L5={}));var M5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(M5||(M5={}));var B5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(B5||(B5={}));var D5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(D5||(D5={}));var U5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(U5||(U5={}));var yI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(yI||(yI={}));var j5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(j5||(j5={}));var vW=new an;kn.prototype._cacheAsBitmap=!1;kn.prototype._cacheData=null;kn.prototype._cacheAsBitmapResolution=null;kn.prototype._cacheAsBitmapMultisample=yI.NONE;var Sje=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(kn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new Sje),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});kn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};kn.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(yt.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Bu.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Mu();this._cacheData.textureCacheId=f,hr.addToCache(u.baseTexture,f),kt.addToCache(u,f);var h=this.transform.localTransform.copyTo(vW).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new Xa(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};kn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};kn.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(yt.RESOLUTION);var o=Bu.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Mu();this._cacheData.textureCacheId=s,hr.addToCache(o.baseTexture,s),kt.addToCache(o,s);var c=vW;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new Xa(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};kn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};kn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};kn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,hr.removeFromCache(this._cacheData.textureCacheId),kt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};kn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */kn.prototype.name=null;di.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */kn.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new vr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xI(t,e)};function i0(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gW=function(t){i0(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,v=u/o|0,m=v*this.segWidth+d,g=v*this.segWidth+d+1,_=(v+1)*this.segWidth+d,y=(v+1)*this.segWidth+d+1;a.push(m,g,_,g,y,_)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(wg),mW=function(t){i0(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,v=l.y-r[h].y,m=Math.sqrt(d*d+v*v);l=r[h],c+=m/u}else c=h/(f-1);o[p]=c,o[p+1]=0,o[p+2]=c,o[p+3]=1}for(var g=0,h=0;h<f-1;h++){var p=h*2;s[g++]=p,s[g++]=p+1,s[g++]=p+2,s[g++]=p+2,s[g++]=p+1,s[g++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(wg),Cje=function(t){i0(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new mW(r.height,n,i),s=new bd(r);return i>0&&(r.baseTexture.wrapMode=Rs.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(xd),_W=function(t){i0(e,t);function e(r,n,i){var a=this,o=new gW(r.width,r.height,n,i),s=new bd(kt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(xd),yW=function(t){i0(e,t);function e(r,n,i,a,o){r===void 0&&(r=kt.EMPTY);var s=this,c=new wg(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new bd(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(xd),y_=10,Aje=function(t){i0(e,t);function e(r,n,i,a,o){n===void 0&&(n=y_),i===void 0&&(i=y_),a===void 0&&(a=y_),o===void 0&&(o=y_);var s=t.call(this,kt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(_W);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bI=function(t,e){return bI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bI(t,e)};function Tje(t,e){bI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xW=function(t){Tje(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof kt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this,Qo.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof kt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Xa);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Cl.registerPlugin("accessibility",JX);Cl.registerPlugin("extract",Nz);Cl.registerPlugin("interaction",rz);Cl.registerPlugin("particle",Wz);Cl.registerPlugin("prepare",iW);Cl.registerPlugin("batch",Pz);Cl.registerPlugin("tilingSprite",lW);Fa.registerPlugin(hW);Fa.registerPlugin(jz);Fa.registerPlugin(Gz);Fa.registerPlugin(Xz);Fa.registerPlugin(oW);bg.registerPlugin(QX);bg.registerPlugin(Mz);var Ije="6.4.2",bW={AlphaFilter:dW,BlurFilter:cje,BlurFilterPass:Lv,ColorMatrixFilter:vI,DisplacementFilter:gje,FXAAFilter:xje,NoiseFilter:Eje};const Rje=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return _a},AbstractBatchRenderer:Tz,AbstractMultiResource:_b,AbstractRenderer:Sz,AccessibilityManager:JX,AnimatedSprite:xW,AppLoaderPlugin:Mz,Application:bg,ArrayResource:Lk,Attribute:GT,get BLEND_MODES(){return ut},get BUFFER_BITS(){return Ev},get BUFFER_TYPE(){return Zo},BaseImageResource:Fs,BasePrepare:rW,BaseRenderTexture:jk,BaseTexture:hr,BatchDrawCall:px,BatchGeometry:i3,BatchPluginFactory:Rz,BatchRenderer:Pz,BatchShaderGenerator:Iz,BatchSystem:Hk,BatchTextureArray:vx,BitmapFont:Cc,BitmapFontData:Fv,BitmapFontLoader:hW,BitmapText:rje,BlobResource:Uz,Bounds:gd,Buffer:Qn,BufferResource:Hu,get CLEAR_MODES(){return ol},CanvasResource:yb,Circle:WX,CompressedTextureLoader:jz,CompressedTextureResource:gx,Container:di,ContextSystem:Xk,CountLimiter:tW,CubeResource:Mk,DDSLoader:Gz,DEG_TO_RAD:bl,get DRAW_MODES(){return za},DisplayObject:kn,get ENV(){return ks},Ellipse:YX,Extract:Nz,get FORMATS(){return nt},FORMATS_TO_COMPONENTS:Vz,FillStyle:s3,Filter:$t,FilterState:oz,FilterSystem:Vk,Framebuffer:dx,FramebufferSystem:zk,get GC_MODES(){return hx},GLFramebuffer:sz,GLProgram:bz,GLTexture:ly,GRAPHICS_CURVES:md,Geometry:r0,GeometrySystem:Wk,Graphics:_d,GraphicsData:iI,GraphicsGeometry:Qz,IGLUniformData:d6e,INSTALLED:Iv,get INTERNAL_FORMATS(){return Qt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ov,ImageBitmapResource:Uk,ImageResource:xb,InteractionData:DT,InteractionEvent:ez,InteractionManager:rz,InteractionTrackingData:sy,KTXLoader:Xz,get LINE_CAP(){return hl},get LINE_JOIN(){return fl},LineStyle:eW,Loader:Fa,get LoaderResource(){return Br},get MASK_TYPES(){return Ni},get MIPMAP_MODES(){return ka},get MSAA_QUALITY(){return Vn},MaskData:lz,MaskSystem:Yk,Matrix:an,Mesh:xd,MeshBatchUvs:uW,MeshGeometry:wg,MeshMaterial:bd,NineSlicePlane:Aje,ObjectRenderer:xg,ObservablePoint:iu,PI_2:Tv,get PRECISION(){return Wo},ParticleContainer:p5e,ParticleRenderer:Wz,PlaneGeometry:gW,Point:vr,Polygon:Qh,Prepare:iW,Program:n0,ProjectionSystem:Zk,Quad:az,QuadUv:Gk,RAD_TO_DEG:kk,get RENDERER_TYPE(){return vd},Rectangle:tr,RenderTexture:Bu,RenderTexturePool:iz,RenderTextureSystem:Jk,Renderer:Cl,Resource:cf,RopeGeometry:mW,RoundedRectangle:qX,Runner:Di,get SAMPLER_TYPES(){return Sv},get SCALE_MODES(){return Ci},get SHAPES(){return dn},SVGResource:Bk,ScissorSystem:qk,Shader:vl,ShaderSystem:Qk,SimpleMesh:yW,SimplePlane:_W,SimpleRope:Cje,Sprite:Xa,SpriteMaskFilter:vz,Spritesheet:aW,SpritesheetLoader:oW,State:Xu,StateSystem:e3,StencilSystem:Kk,System:R6e,get TARGETS(){return yu},get TEXT_GRADIENT(){return yd},get TYPES(){return It},TYPES_TO_BYTES_PER_COMPONENT:JT,TYPES_TO_BYTES_PER_PIXEL:Hz,TemporaryDisplayObject:Nk,Text:c3,TextMetrics:is,TextStyle:ff,Texture:kt,TextureGCSystem:t3,TextureLoader:Bz,TextureMatrix:bb,TextureSystem:r3,TextureUvs:$k,Ticker:bn,TickerPlugin:QX,TilingSprite:U5e,TilingSpriteRenderer:lW,TimeLimiter:D5e,Transform:yg,get UPDATE_PRIORITY(){return Qo},UniformGroup:xu,VERSION:Ije,VideoResource:Dk,ViewableBuffer:Rv,get WRAP_MODES(){return Rs},accessibleTarget:ZX,autoDetectRenderer:Cz,autoDetectResource:mb,checkMaxIfStatementsInShader:pz,createUBOElements:_z,defaultFilterVertex:n3,defaultVertex:Az,filters:bW,generateProgram:wz,generateUniformBufferSync:xz,getTestContext:fz,getUBOData:yz,graphicsUtils:b5e,groupD8:cn,interactiveTarget:tz,isMobile:_o,resources:Oz,settings:yt,systems:kz,uniformParsers:Kc,utils:IUe},Symbol.toStringTag,{value:"Module"}));let x_;const Pje=new Uint8Array(16);function Oje(){if(!x_&&(x_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x_(Pje)}const Fi=[];for(let t=0;t<256;++t)Fi.push((t+256).toString(16).slice(1));function kje(t,e=0){return Fi[t[e+0]]+Fi[t[e+1]]+Fi[t[e+2]]+Fi[t[e+3]]+"-"+Fi[t[e+4]]+Fi[t[e+5]]+"-"+Fi[t[e+6]]+Fi[t[e+7]]+"-"+Fi[t[e+8]]+Fi[t[e+9]]+"-"+Fi[t[e+10]]+Fi[t[e+11]]+Fi[t[e+12]]+Fi[t[e+13]]+Fi[t[e+14]]+Fi[t[e+15]]}const Fje=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$5={randomUUID:Fje};function rp(t,e,r){if($5.randomUUID&&!e&&!t)return $5.randomUUID();t=t||{};const n=t.random||(t.rng||Oje)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return kje(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wI=function(t,e){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wI(t,e)};function Nje(t,e){wI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Mje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,Bje=function(t){Nje(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,Lje,Mje)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}($t);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EI(t,e)};function Dje(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Uje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jje=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,$je=function(t){Dje(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,Uje,jje)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SI(t,e)};function Gje(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,Xje=function(t){Gje(e,t);function e(r){var n=t.call(this,Vje,Hje)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}($t);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CI=function(t,e){return CI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CI(t,e)};function zje(t,e){CI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Yje=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,qje=function(t){zje(e,t);function e(r){var n=t.call(this,Wje,Yje)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=kt.from(n._canvas,{scaleMode:Ci.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*bl;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}($t);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AI(t,e)};function Kje(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Jje=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,Qje=function(t){Kje(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,Zje,Jje)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TI(t,e)};function e9e(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r9e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,n9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,i9e=function(t){e9e(e,t);function e(r){var n=t.call(this,t9e,n9e.replace("${perlin}",r9e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new vr,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*bl;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}($t);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},II(t,e)};function a9e(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var o9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,s9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){a9e(e,t);function e(r){var n=t.call(this,o9e,s9e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})($t);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RI=function(t,e){return RI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RI(t,e)};function l9e(t,e){RI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,c9e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,f9e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,mx=function(t){l9e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,u9e,i?f9e:c9e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new vr,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,p=this._quality-1,d=0;d<p;d++)c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof vr?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PI=function(t,e){return PI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},PI(t,e)};function wW(t,e){PI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var EW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,h9e=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,d9e=function(t){wW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,EW,h9e)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}($t),p9e=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){wW(e,t);function e(r){var n=t.call(this,EW,p9e)||this;n.bloomScale=1,n.brightness=1,n._resolution=yt.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new d9e(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new mx(a):new mx(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:yt.FILTER_RESOLUTION},e})($t);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OI=function(t,e){return OI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},OI(t,e)};function v9e(t,e){OI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m9e=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){v9e(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,g9e,m9e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kI(t,e)};function _9e(t,e){kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,x9e=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){_9e(e,t);function e(r){var n=t.call(this,y9e,x9e)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/bl},set:function(r){this._angle=r*bl,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return ma(this.uniforms.lightColor)},set:function(r){pi(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return ma(this.uniforms.shadowColor)},set:function(r){pi(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FI=function(t,e){return FI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},FI(t,e)};function b9e(t,e){FI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){b9e(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=yt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof vr?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new Lv(!0,s,n,i,a),o.blurYFilter=new Lv(!1,c,n,i,a),o.blurYFilter.blendMode=ut.SCREEN,o.defaultFilter=new dW,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NI(t,e)};function w9e(t,e){NI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,S9e=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){w9e(e,t);function e(r){var n=t.call(this,E9e,S9e)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})($t);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LI=function(t,e){return LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},LI(t,e)};function C9e(t,e){LI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var A9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,T9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){C9e(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,A9e,T9e)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof kt||(r=kt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=ka.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Ci.NEAREST:Ci.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=ka.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})($t);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MI=function(t,e){return MI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MI(t,e)};function I9e(t,e){MI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,P9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){I9e(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,R9e,P9e)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(pi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=ma(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BI=function(t,e){return BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BI(t,e)};function O9e(t,e){BI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,F9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){O9e(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,k9e,F9e)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(pi(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=ma(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(pi(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=ma(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DI=function(t,e){return DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},DI(t,e)};function N9e(t,e){DI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var L9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,M9e=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){N9e(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,L9e,M9e)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UI=function(t,e){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UI(t,e)};function B9e(t,e){UI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,U9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){B9e(e,t);function e(){return t.call(this,D9e,U9e)||this}return e})($t);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jI=function(t,e){return jI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jI(t,e)};function j9e(t,e){jI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){j9e(e,t);function e(r){var n=t.call(this,$9e,G9e)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})($t);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $I=function(t,e){return $I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$I(t,e)};function V9e(t,e){$I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _x=function(){return _x=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_x.apply(this,arguments)},H9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,X9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){V9e(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=yt.FILTER_RESOLUTION;var i=r?_x(_x({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new $t(H9e,X9e),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new vr,n._tintFilter.resolution=l,n._blurFilter=a?new mx(a):new mx(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/bl},set:function(r){this.angle=r*bl,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return ma(this._tintFilter.uniforms.color)},set:function(r){pi(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:yt.FILTER_RESOLUTION},e})($t);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GI=function(t,e){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GI(t,e)};function z9e(t,e){GI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Y9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){z9e(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,W9e,Y9e)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VI=function(t,e){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},VI(t,e)};function q9e(t,e){VI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z9e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){q9e(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,K9e,Z9e.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return ma(this.uniforms.glowColor)},set:function(r){pi(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})($t);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HI=function(t,e){return HI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HI(t,e)};function J9e(t,e){HI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,e$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){J9e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,Q9e,e$e)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new iu(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XI=function(t,e){return XI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},XI(t,e)};function t$e(t,e){XI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var r$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){t$e(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,r$e,n$e.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=pi(c):s[0]=ma(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=pi(l):s[1]=ma(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)};function i$e(t,e){zI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){i$e(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,a$e,o$e.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return ma(this.uniforms.outlineColor)},set:function(r){pi(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})($t);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WI=function(t,e){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},WI(t,e)};function s$e(t,e){WI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var l$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,u$e=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){s$e(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,l$e,u$e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)};function c$e(t,e){YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var f$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,h$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){c$e(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,f$e,h$e)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qI=function(t,e){return qI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qI(t,e)};function d$e(t,e){qI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var p$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,g$e=function(t){d$e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,p$e,v$e)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}($t);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KI=function(t,e){return KI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KI(t,e)};function m$e(t,e){KI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,y$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){m$e(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,_$e,y$e)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(pi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=ma(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZI=function(t,e){return ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZI(t,e)};function wb(t,e){ZI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,b$e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,SW=function(t){wb(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,x$e,b$e)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new vr(0,window.innerHeight/2),o.uniforms.end=a||new vr(600,window.innerHeight/2),o.uniforms.delta=new vr(30,30),o.uniforms.texSize=new vr(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}($t),w$e=function(t){wb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(SW),E$e=function(t){wb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(SW);(function(t){wb(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new w$e(r,n,i,a),o.tiltShiftYFilter=new E$e(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})($t);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JI=function(t,e){return JI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JI(t,e)};function S$e(t,e){JI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A$e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){S$e(e,t);function e(r){var n=t.call(this,C$e,A$e)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new vr},e})($t);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QI=function(t,e){return QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QI(t,e)};function T$e(t,e){QI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function I$e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var R$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,P$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){T$e(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=I$e(i,["maxKernelSize"]);return n=t.call(this,R$e,P$e.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})($t);const eR="shockwaveFilter";function O$e(t,e){const r=t.containerFilters.get(eR);if(r)return r;if(e){const n=new g$e([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(eR,n),n}}function k$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function F$e(t,e){if(e===0)t.removeFilter(eR);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const tR=0,rR="radiusAlphaFilter";class N$e extends $t{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new vr(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function L$e(t,e){const r=t.containerFilters.get(rR);if(r)return r;if(e){const n=new N$e(new vr(.5,.5),tR);return n.radius=tR,t.addFilter(n),t.containerFilters.set(rR,n),n}}function M$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:tR}function B$e(t,e){if(e===0)t.removeFilter(rR);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class _C extends di{constructor(){super();ct(this,"containerFilters",new Map);ct(this,"baseX",0);ct(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new bW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new Bje;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new $je;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new Xje;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new qje;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new Qje;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new i9e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return O$e(this,r)}get shockwaveFilter(){return k$e(this)}set shockwaveFilter(r){F$e(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return L$e(this,r)}get radiusAlphaFilter(){return M$e(this)}set radiusAlphaFilter(r){B$e(this,r)}}var er;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(er||(er={}));var yx=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),Z;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(Z||(Z={}));var Kt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(Kt||(Kt={}));var pn;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(pn||(pn={}));var On;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(On||(On={}));var Dt;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(Dt||(Dt={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nR=function(t,e){return nR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nR(t,e)};function a0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function G5(t){switch(t.toLowerCase()){case"nearest":return va.Nearest;case"linear":return va.Linear;case"mipmap":return va.MipMap;case"mipmapnearestnearest":return va.MipMapNearestNearest;case"mipmaplinearnearest":return va.MipMapLinearNearest;case"mipmapnearestlinear":return va.MipMapNearestLinear;case"mipmaplinearlinear":return va.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var va;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(va||(va={}));var au;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(au||(au={}));var iR=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),D$e=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),U$e=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new V5,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=va.Nearest,i.uWrap=au.ClampToEdge,i.vWrap=au.ClampToEdge,n.push(i)}var s=new H5;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new j$e(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=G5(o[1]),s.magFilter=G5(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=au.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=au.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new V5,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var p=c[o[0]];p&&p()}i.pages.push(s),r(s.name,function(T){if(T===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=T,s.pma&&(T.alphaMode=_a.PMA),T.valid||T.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=T.realWidth,s.height=T.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new D$e;var d=new H5;d.name=f,d.page=s;for(var v=null,m=null;;){var g=a.readEntry(o,f=a.readLine());if(g==0)break;var p=u[o[0]];if(p)p();else{v==null&&(v=[],m=[]),v.push(o[0]);for(var _=[],y=0;y<g;y++)_.push(parseInt(o[y+1]));m.push(_)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var w=s.baseTexture.resolution;l.x/=w,l.y/=w,l.width/=w,l.height/=w,l.originalWidth/=w,l.originalHeight/=w,l.offsetX/=w,l.offsetY/=w;var b=l.rotate%4!==0,E=new tr(l.x,l.y,b?l.height:l.width,b?l.width:l.height),C=new tr(0,0,l.originalWidth,l.originalHeight),A=new tr(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new kt(d.page.baseTexture,E,C,A,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),j$e=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),V5=function(){function t(){this.minFilter=va.Nearest,this.magFilter=va.Nearest,this.uWrap=au.ClampToEdge,this.vWrap=au.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==va.Linear?e.scaleMode=Ci.LINEAR:this.minFilter==va.Nearest?e.scaleMode=Ci.NEAREST:(e.mipmap=ka.POW2,r==va.MipMapNearestNearest?e.scaleMode=Ci.NEAREST:e.scaleMode=Ci.LINEAR)},t}(),H5=function(t){a0(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(iR),$$e=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),G$e=Math.fround||$$e,CW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),AW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),rt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),te=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),V$e=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),H$e=function(t){a0(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(V$e),TW=function(t){a0(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(H$e),ye=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?G$e(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),Eb=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),Mv=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),h3=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Eb(function(){return ye.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===er.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=ye.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],v=o[p+1],m=f*v-h*d,g=f-d,_=h-v,y=c*_-l*g,w=(u*g-c*m)/y;if((w>=f&&w<=d||w>=d&&w<=f)&&(w>=r&&w<=i||w>=i&&w<=r)){var b=(u*_-l*m)/y;if((b>=h&&b<=v||b>=v&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}f=d,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),X$e={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Vl=[0,0,0],z$e=function(t){a0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(Xa),W$e=function(t){a0(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(yW),Eg=function(t){a0(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===er.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===er.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===er.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:di.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return ma(this.tintRgb)},set:function(r){this.tintRgb=pi(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:X$e.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,m=h.color;switch(h!=null&&h.type){case er.Region:var g=p.transform;if(g.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var _=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[_]!==void 0)f.sprites[_].visible=!0;else{var y=this.createSprite(f,h,_);p.addChild(y)}f.currentSprite=f.sprites[_],f.currentSpriteName=_}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?d=f.currentSprite.color:(Vl[0]=s[0]*f.color.r*m.r,Vl[1]=s[1]*f.color.g*m.g,Vl[2]=s[2]*f.color.b*m.b,f.currentSprite.tint=ma(Vl)),f.currentSprite.blendMode=f.blendMode;break;case er.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var w=new yg;w._parentID=-1,w._worldID=p.transform._worldID,p.transform=w}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var b=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==b){var E=b;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[E]!==void 0)f.meshes[E].visible=!0;else{var C=this.createMesh(f,h);p.addChild(C)}f.currentMesh=f.meshes[E],f.currentMeshName=h.name,f.currentMeshId=E}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?d=f.currentMesh.color:(Vl[0]=s[0]*f.color.r*m.r,Vl[1]=s[1]*f.color.g*m.g,Vl[2]=s[2]*f.color.b*m.b,f.currentMesh.tint=ma(Vl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case er.Clipping:f.currentGraphics||(this.createGraphics(f,h),p.addChild(f.clippingContainer),p.addChild(f.currentGraphics)),this.updateGraphics(f,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var A=f.color.r*m.r,T=f.color.g*m.g,R=f.color.b*m.b;d.setLight(s[0]*A+c[0]*(1-A),s[1]*T+c[1]*(1-T),s[2]*R+c[2]*(1-R)),f.darkColor?(A=f.darkColor.r,T=f.darkColor.g,R=f.darkColor.b):(A=0,T=0,R=0),d.setDark(s[0]*A+c[0]*(1-A),s[1]*T+c[1]*(1-T),s[2]*R+c[2]*(1-R))}p.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],p=this.slotContainers[O[l].data.index];if(k||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=p,P.endSlot===f.data&&(P.endSlot=null);else if(k){var L=this.tempClipContainers[l];L||(L=this.tempClipContainers[l]=this.newContainer(),L.visible=!1),this.children[l]=L,p.parent=null,k.addChild(p),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*te.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}di.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),za.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Qh([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new iR,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new iR,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new di},e.prototype.newSprite=function(r){return new z$e(r)},e.prototype.newGraphics=function(){return new _d},e.prototype.newMesh=function(r,n,i,a,o){return new W$e(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(di);Object.defineProperty(Eg.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function Y$e(t){return t.type===Br.TYPE.JSON}function q$e(t){return t.xhrType===Br.XHR_RESPONSE_TYPE.BUFFER}Br.setExtensionXhrType("skel",Br.XHR_RESPONSE_TYPE.BUFFER);var K$e=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=Y$e(r)&&r.data.bones,a=q$e(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Br.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},m=r.url.substr(0,r.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var g=c.imageNamePrefix||r.name+"_atlas_page_",_=c.images?X5(c.images):c.image?X5({default:c.image}):c.imageLoader?c.imageLoader(this,g,m,v):Z$e(this,g,m,v);function y(w){new U$e(w,_,function(b){b&&e.parseData(r,o,b,s),n()})}c.atlasRawData?y(c.atlasRawData):this.add(r.name+"_atlas",h,d,function(w){w.error?n():y(w.data)})}}},t}();function Z$e(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=_a.PMA),a(u.texture.baseTexture))})}}function X5(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aR=function(t,e){return aR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aR(t,e)};function _n(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");aR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Sf=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,y=n,w=o;w<i;y+=2,w+=s){var b=u[y],E=u[y+1];a[w]=b*v+E*m+p,a[w+1]=b*g+E*_+d}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var w=o,m=A*3;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],E=u[m+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}else for(var B=l,w=o,m=A*3,U=A<<1;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),ye.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=ye.newFloatArray(this.vertices.length),ye.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(d3),IW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Sf),RW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Sf),Sb=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Mesh,n.color=new rt(1,1,1,1),n.tempColor=new rt(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ye.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ye.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),ye.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Sf),Bv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ye.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Sf),PW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Sf),p3=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),v3=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=ye.newFloatArray(8),n.uvs=ye.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,v=o*l+this.x,m=o*u,g=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=g+h,y[e.OX3]=v-_,y[e.OY3]=g+m,y[e.OX4]=v-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof p3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,v=0;d=o[e.OX1],v=o[e.OY1],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX2],v=o[e.OY2],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX3],v=o[e.OY3],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX4],v=o[e.OY4],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ye.arrayCopy(this.uvs,0,r.uvs,0,8),ye.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(d3),J$e=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=te.randomTriangular(-this.jitterX,this.jitterY),e.y+=te.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),Q$e=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*te.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new TW(2),t}(),zn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Ti;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Ti||(Ti={}));var Us=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ye.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,v=this.curves;v[d++]=t.BEZIER;for(var m=h,g=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)v[d]=m,v[d+1]=g,h+=u,p+=f,u+=c,f+=l,m+=h,g+=p},t.prototype.getCurvePercent=function(e,r){r=te.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Ha=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Ti.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=zn.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],v=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-v)/(l[p+e.PREV_TIME]-v)),g=l[p+e.ROTATION]-d;switch(g=d+(g-(16384-(16384.499999999996-g/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(g-(16384-(16384.499999999996-g/360|0))*360)*o;break;case Z.first:case Z.replace:g+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(g-(16384-(16384.499999999996-g/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Us),hf=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=zn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*v,h+=(l[p+e.Y]-h)*v}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Us),g3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ti.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=zn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*v)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,g=0;if(c==Kt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,g=u.data.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case Z.first:case Z.replace:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case Z.add:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-u.data.scaleX)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*te.signum(f),g=Math.abs(u.data.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*te.signum(f),g=Math.abs(u.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case Z.add:m=te.signum(f),g=te.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*g+(h-Math.abs(u.data.scaleY)*g)*o}}}},e}(hf),m3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ti.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=zn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*v,h=h+(l[p+e.Y]-h)*v}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(hf),Dv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var g=u.length;p=u[g+e.PREV_R],d=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A]}else{var _=zn.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],w=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*w,d+=(u[_+e.G]-d)*w,v+=(u[_+e.B]-v)*w,m+=(u[_+e.A]-m)*w}if(o==1)l.color.set(p,d,v,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Us),Uv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var v=0,m=0,g=0,_=0,y=0,w=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;v=u[E+e.PREV_R],m=u[E+e.PREV_G],g=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],w=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var C=zn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],g=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],w=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],T=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*T,m+=(u[C+e.G]-m)*T,g+=(u[C+e.B]-g)*T,_+=(u[C+e.A]-_)*T,y+=(u[C+e.R2]-y)*T,w+=(u[C+e.G2]-w)*T,b+=(u[C+e.B2]-b)*T}if(o==1)l.color.set(v,m,g,_),l.darkColor.set(y,w,b,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(w-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Us),Uc=function(){function t(e){this.frames=ye.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Ti.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==Kt.mixOut){o==Z.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==Z.setup||o==Z.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=zn.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),z5=null,_3=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r),n.frameVertices=new Array(r),z5==null&&(z5=ye.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Ti.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Sf)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var v=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=ye.setArraySize(f,p);if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)m[_]+=(g[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=ye.setArraySize(f,p);if(i>=d[d.length-1]){var w=h[d.length-1];if(o==1)if(s==Z.add){var v=u;if(v.bones==null)for(var g=v.vertices,b=0;b<p;b++)y[b]+=w[b]-g[b];else for(var E=0;E<p;E++)y[E]+=w[E]}else ye.arrayCopy(w,0,y,0,p);else switch(s){case Z.setup:{var C=u;if(C.bones==null)for(var g=C.vertices,A=0;A<p;A++){var T=g[A];y[A]=T+(w[A]-T)*o}else for(var R=0;R<p;R++)y[R]=w[R]*o;break}case Z.first:case Z.replace:for(var O=0;O<p;O++)y[O]+=(w[O]-y[O])*o;break;case Z.add:var v=u;if(v.bones==null)for(var g=v.vertices,P=0;P<p;P++)y[P]+=(w[P]-g[P])*o;else for(var k=0;k<p;k++)y[k]+=w[k]*o}return}var L=zn.binarySearch(d,i),B=h[L-1],U=h[L],X=d[L],ee=this.getCurvePercent(L-1,1-(i-X)/(d[L-1]-X));if(o==1)if(s==Z.add){var v=u;if(v.bones==null)for(var g=v.vertices,ne=0;ne<p;ne++){var W=B[ne];y[ne]+=W+(U[ne]-W)*ee-g[ne]}else for(var D=0;D<p;D++){var W=B[D];y[D]+=W+(U[D]-W)*ee}}else for(var z=0;z<p;z++){var W=B[z];y[z]=W+(U[z]-W)*ee}else switch(s){case Z.setup:{var V=u;if(V.bones==null)for(var g=V.vertices,G=0;G<p;G++){var W=B[G],T=g[G];y[G]=T+(W+(U[G]-W)*ee-T)*o}else for(var ie=0;ie<p;ie++){var W=B[ie];y[ie]=(W+(U[ie]-W)*ee)*o}break}case Z.first:case Z.replace:for(var se=0;se<p;se++){var W=B[se];y[se]+=(W+(U[se]-W)*ee-y[se])*o}break;case Z.add:var v=u;if(v.bones==null)for(var g=v.vertices,me=0;me<p;me++){var W=B[me];y[me]+=(W+(U[me]-W)*ee-g[me])*o}else for(var ue=0;ue<p;ue++){var W=B[ue];y[ue]+=(W+(U[ue]-W)*ee)*o}}}}},e}(Us),Cb=function(){function t(e){this.frames=ye.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Ti.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=zn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),ed=function(){function t(e){this.frames=ye.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Ti.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Kt.mixOut&&o==Z.setup){ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=zn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ye.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),jv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==Kt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=zn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f+e.PREV_SOFTNESS],d=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*v-u.data.mix)*o,u.softness=u.data.softness+(p+(l[f+e.SOFTNESS]-p)*v-u.data.softness)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*v-u.mix)*o,u.softness+=(p+(l[f+e.SOFTNESS]-p)*v-u.softness)*o,c==Kt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(Us),$v=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var g=zn.binarySearch(l,i,e.ENTRIES);h=l[g+e.PREV_ROTATE],p=l[g+e.PREV_TRANSLATE],d=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR];var _=l[g],y=this.getCurvePercent(g/e.ENTRIES-1,1-(i-_)/(l[g+e.PREV_TIME]-_));h+=(l[g+e.ROTATE]-h)*y,p+=(l[g+e.TRANSLATE]-p)*y,d+=(l[g+e.SCALE]-d)*y,v+=(l[g+e.SHEAR]-v)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Us),wd=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=zn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Us),y3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ti.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=zn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(wd),Gv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ti.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=zn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*v,h+=(l[p+e.TRANSLATE]-h)*v}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Us),OW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new FW(this),this.propertyIDs=new CW,this.animationsChanged=!1,this.trackEntryPool=new Eb(function(){return new kW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++){ye.webkit602BugfixHelper(l,c);var v=p[d];v instanceof Uc?this.applyAttachmentTimeline(v,e,f,c,!0):v.apply(e,u,f,r,l,c,Kt.mixIn)}else{var m=s.timelineMode,g=s.timelinesRotation.length==0;g&&ye.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,d=0;d<h;d++){var y=p[d],w=m[d]==t.SUBSEQUENT?c:Z.setup;y instanceof Ha?this.applyRotateTimeline(y,e,f,l,w,_,d<<1,g):y instanceof Uc?this.applyAttachmentTimeline(y,e,f,c,!0):(ye.webkit602BugfixHelper(l,c),y.apply(e,u,f,r,l,w,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,E=e.slots,C=0,A=e.slots.length;C<A;C++){var T=E[C];if(T.attachmentState==b){var R=T.data.attachmentName;T.setAttachment(R==null?null:e.getAttachment(T.data.index,R))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,d,n,Kt.mixOut);else{var m=i.timelineMode,g=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&ye.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var w=h[v],b=Kt.mixOut,E=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!c&&w instanceof ed)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD_SUBSEQUENT:E=n,C=p;break;case t.HOLD_FIRST:E=Z.setup,C=p;break;default:E=Z.setup;var A=g[v];C=p*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,w instanceof Ha?this.applyRotateTimeline(w,r,u,C,E,y,v<<1,_):w instanceof Uc?this.applyAttachmentTimeline(w,r,u,E,s):(ye.webkit602BugfixHelper(C,n),c&&w instanceof ed&&E==Z.setup&&(b=Kt.mixIn),w.apply(r,l,u,o,C,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=zn.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-Ha.ENTRIES])p=f.data.rotation+u[u.length+Ha.PREV_ROTATION];else{var d=zn.binarySearch(u,n,Ha.ENTRIES),v=u[d+Ha.PREV_ROTATION],m=u[d],g=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Ha.PREV_TIME]-m));p=u[d+Ha.ROTATION]-v,p-=(16384-(16384.499999999996-p/360|0))*360,p=v+p*g+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var w=0,b=0;c?(w=0,b=y):(w=o[s],b=o[s+1]);var E=y>0,C=w>=0;te.signum(b)!=te.signum(y)&&Math.abs(b)<=90&&(Math.abs(w)>180&&(w+=360*te.signum(w)),C=E),_=y+w-w%360,C!=E&&(_+=360*te.signum(w)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=Z.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ye.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ye.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof Uc||l instanceof ed||l instanceof Cb||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new zn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),kW=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),FW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ha.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ha.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ha.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ha.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ha.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ha.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ha.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ha.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ha.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ha.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ha.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=te.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ha.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ha;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ha||(ha={}));var eGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),NW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),x3=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new v3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new Sb(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new IW(r)},t.prototype.newPathAttachment=function(e,r){return new Bv(r)},t.prototype.newPointAttachment=function(e,r){return new PW(r)},t.prototype.newClippingAttachment=function(e,r){return new RW(r)},t}(),oR=function(){function t(e,r,n){if(this.matrix=new an,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,y=te.cosDeg(p)*a,w=te.sinDeg(n+o)*i,b=te.sinDeg(p)*a;l.a=d*_+v*w,l.c=d*y+v*b,l.b=m*_+g*w,l.d=m*y+g*b;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,d/=this.skeleton.scaleX,m/=this.skeleton.scaleY,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var A=n+o-C,T=n+s-C+90,_=te.cosDeg(A)*i,y=te.cosDeg(T)*a,w=te.sinDeg(A)*i,b=te.sinDeg(T)*a;l.a=d*_-v*w,l.c=d*y-v*b,l.b=m*_+g*w,l.d=m*y+g*b;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*g-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,y=te.cosDeg(90+s)*a,w=te.sinDeg(o)*i,b=te.sinDeg(90+s)*a;l.a=P*_+B*w,l.c=P*y+B*b,l.b=k*_+U*w,l.d=k*y+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),b3=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Ab=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),w3=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),E3=function(){function t(e){this.name=e}return t}(),LW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,v=0;switch(e.data.transformMode){case Dt.OnlyTranslation:d=r-e.worldX,v=n-e.worldY;break;case Dt.NoRotationOrReflection:var m=Math.abs(l*h-u*f)/(l*l+f*f),g=l/e.skeleton.scaleX,_=f/e.skeleton.scaleY;u=-_*m*e.skeleton.scaleX,h=g*m*e.skeleton.scaleY,p+=Math.atan2(_,g)*te.radDeg;default:var y=r-c.tx,w=n-c.ty,b=l*h-u*f;d=(y*h-w*u)/b-e.ax,v=(w*l-y*f)/b-e.ay}p+=Math.atan2(v,d)*te.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case Dt.NoScale:case Dt.NoScaleOrReflection:d=r-e.worldX,v=n-e.worldY}var A=e.data.length*E,T=Math.sqrt(d*d+v*v);if(i&&T<A||a&&T>A&&A>1e-4){var m=(T/A-1)*s+1;E*=m,o&&(C*=m)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,p=e.ascaleY,d=r.ascaleX,v=e.matrix,m=0,g=0,_=0;f<0?(f=-f,m=180,_=-1):(m=0,_=1),p<0&&(p=-p,_=-_),d<0?(d=-d,g=180):g=0;var y=r.ax,w=0,b=0,E=0,C=v.a,A=v.c,T=v.b,R=v.d,O=Math.abs(f-p)<=1e-4;O?(w=r.ay,b=C*y+A*w+v.tx,E=T*y+R*w+v.ty):(w=0,b=C*y+v.tx,E=T*y+v.ty);var P=e.parent.matrix;C=P.a,A=P.c,T=P.b,R=P.d;var k=1/(C*R-A*T),L=b-P.tx,B=E-P.ty,U=(L*R-B*A)*k-l,X=(B*C-L*T)*k-u,ee=Math.sqrt(U*U+X*X),ne=r.data.length*d,W,D;if(ee<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(y,w,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}L=n-P.tx,B=i-P.ty;var z=(L*R-B*A)*k-l,V=(B*C-L*T)*k-u,G=z*z+V*V;if(s!=0){s*=f*(d+1)/2;var ie=Math.sqrt(G),se=ie-ee-ne*f+s;if(se>0){var me=Math.min(1,se/(s*2))-1;me=(se-s*(1-me*me))/ie,z-=me*z,V-=me*V,G=z*z+V*V}}e:if(O){ne*=f;var ue=(G-ee*ee-ne*ne)/(2*ee*ne);ue<-1?ue=-1:ue>1&&(ue=1,o&&(h*=(Math.sqrt(G)/(ee+ne)-1)*c+1)),D=Math.acos(ue)*a,C=ee+ne*ue,A=ne*Math.sin(D),W=Math.atan2(V*C-z*A,z*C+V*A)}else{C=f*ne,A=p*ne;var we=C*C,Be=A*A,Fe=Math.atan2(V,z);T=Be*ee*ee+we*G-we*Be;var Ee=-2*Be*ee,Ae=Be-we;if(R=Ee*Ee-4*Ae*T,R>=0){var Ge=Math.sqrt(R);Ee<0&&(Ge=-Ge),Ge=-(Ee+Ge)/2;var We=Ge/Ae,Ve=T/Ge,Xe=Math.abs(We)<Math.abs(Ve)?We:Ve;if(Xe*Xe<=G){B=Math.sqrt(G-Xe*Xe)*a,W=Fe-Math.atan2(B,Xe),D=Math.atan2(B/p,(Xe-ee)/f);break e}}var qe=te.PI,Et=ee-C,Rt=Et*Et,ft=0,ht=0,St=ee+C,rr=St*St,Ht=0;T=-C*ee/(we-Be),T>=-1&&T<=1&&(T=Math.acos(T),L=C*Math.cos(T)+ee,B=A*Math.sin(T),R=L*L+B*B,R<Rt&&(qe=T,Rt=R,Et=L,ft=B),R>rr&&(ht=T,rr=R,St=L,Ht=B)),G<=(Rt+rr)/2?(W=Fe-Math.atan2(ft*a,Et),D=qe*a):(W=Fe-Math.atan2(Ht*a,St),D=ht*a)}var nr=Math.atan2(w,y)*_,Gt=e.arotation;W=(W-nr)*te.radDeg+m-Gt,W>180?W-=360:W<-180&&(W+=360),e.updateWorldTransformWith(l,u,Gt+W*c,h,e.ascaleY,0,0),Gt=r.arotation,D=((D+nr)*te.radDeg-r.ashearX)*_+g-Gt,D>180?D-=360:D<-180&&(D+=360),r.updateWorldTransformWith(y,w,Gt+D*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),S3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(Ab),C3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(Ab),fi;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(fi||(fi={}));var MW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Bv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==fi.Length,l=o.rotateMode,u=l==On.Tangent,f=l==On.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,v=ye.setArraySize(this.spaces,p),m=null,g=this.spacing;if(f||c){f&&(m=ye.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var w=d[_],b=w.data.length;if(b<t.epsilon)f&&(m[_]=0),v[++_]=0;else{var E=b*w.matrix.a,C=b*w.matrix.b,A=Math.sqrt(E*E+C*C);f&&(m[_]=A),v[++_]=(c?b+g:g)*A/b}}}else for(var _=1;_<p;_++)v[_]=g;var T=this.computeWorldPositions(e,p,u,o.positionMode==pn.Percent,s==fi.Percent),R=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==On.Chain;else{k=!1;var L=this.target.bone.matrix;P*=L.a*L.d-L.b*L.c>0?te.degRad:-te.degRad}for(var _=0,L=3;_<h;_++,L+=3){var w=d[_],B=w.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=T[L],C=T[L+1],U=E-R,X=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(U*U+X*X)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var W=B.a,D=B.c,z=B.b,V=B.d,G=0,ie=0,se=0;if(u?G=T[L-1]:v[_+1]==0?G=T[L+2]:G=Math.atan2(X,U),G-=Math.atan2(z,W),k){ie=Math.cos(G),se=Math.sin(G);var me=w.data.length;R+=(me*(ie*W-se*z)-U)*r,O+=(me*(se*W+ie*z)-X)*r}else G+=P;G>te.PI?G-=te.PI2:G<-te.PI&&(G+=te.PI2),G*=r,ie=Math.cos(G),se=Math.sin(G),B.a=ie*W-se*z,B.c=ie*D-se*V,B.b=se*W+ie*z,B.d=se*D+ie*V}w.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ye.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var v=e.lengths;p-=f?1:2;var m=v[p];if(i&&(s*=m),a)for(var g=0;g<r;g++)c[g]*=m;u=ye.setArraySize(this.world,8);for(var g=0,_=0,y=0;g<r;g++,_+=3){var w=c[g];s+=w;var b=s;if(f)b%=m,b<0&&(b+=m),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,_);continue}else if(b>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-m,u,0,l,_);continue}for(;;y++){var E=v[y];if(!(b>E)){if(y==0)b/=E;else{var C=v[y-1];b=(b-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||g>0&&w==0)}return l}f?(h+=2,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ye.setArraySize(this.curves,p),T=0,R=u[0],O=u[1],P=0,k=0,L=0,B=0,U=0,X=0,ee=0,ne=0,W=0,D=0,z=0,V=0,G=0,ie=0,g=0,se=2;g<p;g++,se+=6)P=u[se],k=u[se+1],L=u[se+2],B=u[se+3],U=u[se+4],X=u[se+5],ee=(R-P*2+L)*.1875,ne=(O-k*2+B)*.1875,W=((P-L)*3-R+U)*.09375,D=((k-B)*3-O+X)*.09375,z=ee*2+W,V=ne*2+D,G=(P-R)*.75+ee+W*.16666667,ie=(k-O)*.75+ne+D*.16666667,T+=Math.sqrt(G*G+ie*ie),G+=z,ie+=V,z+=W,V+=D,T+=Math.sqrt(G*G+ie*ie),G+=z,ie+=V,T+=Math.sqrt(G*G+ie*ie),G+=z+W,ie+=V+D,T+=Math.sqrt(G*G+ie*ie),A[g]=T,R=U,O=X;if(i&&(s*=T),a)for(var g=0;g<r;g++)c[g]*=T;for(var me=this.segments,ue=0,g=0,_=0,y=0,we=0;g<r;g++,_+=3){var w=c[g];s+=w;var b=s;if(f)b%=T,b<0&&(b+=T),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,_);continue}else if(b>T){this.addAfterPosition(b-T,u,h-4,l,_);continue}for(;;y++){var Be=A[y];if(!(b>Be)){if(y==0)b/=Be;else{var C=A[y-1];b=(b-C)/(Be-C)}break}}if(y!=d){d=y;var Fe=y*6;for(R=u[Fe],O=u[Fe+1],P=u[Fe+2],k=u[Fe+3],L=u[Fe+4],B=u[Fe+5],U=u[Fe+6],X=u[Fe+7],ee=(R-P*2+L)*.03,ne=(O-k*2+B)*.03,W=((P-L)*3-R+U)*.006,D=((k-B)*3-O+X)*.006,z=ee*2+W,V=ne*2+D,G=(P-R)*.3+ee+W*.16666667,ie=(k-O)*.3+ne+D*.16666667,ue=Math.sqrt(G*G+ie*ie),me[0]=ue,Fe=1;Fe<8;Fe++)G+=z,ie+=V,z+=W,V+=D,ue+=Math.sqrt(G*G+ie*ie),me[Fe]=ue;G+=z,ie+=V,ue+=Math.sqrt(G*G+ie*ie),me[8]=ue,G+=z+W,ie+=V+D,ue+=Math.sqrt(G*G+ie*ie),me[9]=ue,we=0}for(b*=ue;;we++){var Ee=me[we];if(!(b>Ee)){if(we==0)b/=Ee;else{var C=me[we-1];b=we+(b-C)/(Ee-C)}break}}this.addCurvePosition(b*.1,R,O,P,k,L,B,U,X,l,_,n||g>0&&w==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,y=_*3,w=v*y,b=y*e,E=r*g+i*w+o*b+c*d,C=n*g+a*w+s*b+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),BW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Mv,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,y=g.matrix;if(e!=0){var w=y.a,b=y.c,E=y.b,C=y.d,A=Math.atan2(l,s)-Math.atan2(E,w)+h;A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);y.a=T*w-R*E,y.c=T*b-R*C,y.b=R*w+T*E,y.d=R*b+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var b=y.c,C=y.d,L=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(L-Math.atan2(y.b,y.a));A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A=L+(A+p)*i;var P=Math.sqrt(b*b+C*C);y.c=Math.cos(A)*P,y.d=Math.sin(A)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,y=g.matrix;if(e!=0){var w=y.a,b=y.c,E=y.b,C=y.d,A=Math.atan2(l,s)+h;A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);y.a=T*w-R*E,y.c=T*b-R*C,y.b=R*w+T*E,y.d=R*b+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2);var b=y.c,C=y.d;A=Math.atan2(C,b)+(A-te.PI/2+p)*i;var P=Math.sqrt(b*b+C*C);y.c=Math.cos(A)*P,y.d=Math.sin(A)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,v=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,v)}},t}(),DW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new oR(n,this,null);else{var a=this.bones[n.parent.index];i=new oR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new p3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new LW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new BW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new MW(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var v=s[d];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var d=0;d<f;d++){var v=c[d];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var d=0;d<h;d++){var v=l[d];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Bv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Bv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof v3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof Sb){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),A3=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),T3=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),I3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(Ab),sR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),xx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof Sb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new sR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new sR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),UW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new A3;n.name="";var i=new yx(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new b3(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&rt.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),p=n.bones[i.readInt(!0)],f=new T3(c,h,p);rt.rgba8888ToColor(f.color,i.readInt32());var d=i.readInt32();d!=-1&&rt.rgb888ToColor(f.darkColor=new rt,d),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new S3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new I3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new C3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==pn.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==fi.Length||f.spacingMode==fi.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var g=this.readSkin(i,n,!0,o);g!=null&&(n.defaultSkin=g,n.skins.push(g));{var c=n.skins.length;for(ye.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var _=this.linkedMeshes[c],y=_.skin==null?n.defaultSkin:n.findSkin(_.skin);if(y==null)throw new Error("Skin not found: "+_.skin);var w=y.getAttachment(_.slotIndex,_.parent);if(w==null)throw new Error("Parent mesh not found: "+_.parent);_.mesh.deformAttachment=_.inheritDeform?w:_.mesh,_.mesh.setParentMesh(w)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new E3(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new xx("default")}else{a=new xx(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case er.Region:{var f=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),v=e.readFloat(),m=e.readFloat(),g=e.readFloat(),_=e.readFloat(),y=e.readInt32();f==null&&(f=c);var w=this.attachmentLoader.newRegionAttachment(n,c,f);return w==null?null:(w.path=f,w.x=p*s,w.y=d*s,w.scaleX=v,w.scaleY=m,w.rotation=h,w.width=g*s,w.height=_*s,rt.rgba8888ToColor(w.color,y),w)}case er.BoundingBox:{var b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=b<<1,C.vertices=E.vertices,C.bones=E.bones,o&&rt.rgba8888ToColor(C.color,y),C)}case er.Mesh:{var f=e.readStringRef(),y=e.readInt32(),b=e.readInt(!0),A=this.readFloatArray(e,b<<1,1),T=this.readShortArray(e),E=this.readVertices(e,b),R=e.readInt(!0),O=null,g=0,_=0;o&&(O=this.readShortArray(e),g=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),P.bones=E.bones,P.vertices=E.vertices,P.worldVerticesLength=b<<1,P.triangles=T,P.regionUVs=new Float32Array(A),P.hullLength=R<<1,o&&(P.edges=O,P.width=g*s,P.height=_*s),P)}case er.LinkedMesh:{var f=e.readStringRef(),y=e.readInt32(),k=e.readStringRef(),L=e.readStringRef(),B=e.readBoolean(),g=0,_=0;o&&(g=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),o&&(P.width=g*s,P.height=_*s),this.linkedMeshes.push(new tGe(P,k,i,L,B)),P)}case er.Path:{for(var U=e.readBoolean(),X=e.readBoolean(),b=e.readInt(!0),E=this.readVertices(e,b),ee=ye.newArray(b/3,0),ne=0,W=ee.length;ne<W;ne++)ee[ne]=e.readFloat()*s;var y=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=U,f.constantSpeed=X,f.worldVerticesLength=b<<1,f.vertices=E.vertices,f.bones=E.bones,f.lengths=ee,o&&rt.rgba8888ToColor(f.color,y),f)}case er.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,D=this.attachmentLoader.newPointAttachment(n,c);return D==null?null:(D.x=p*s,D.y=d*s,D.rotation=h,o&&rt.rgba8888ToColor(D.color,y),D)}case er.Clipping:{var z=e.readInt(!0),b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,c);return V==null?null:(V.endSlot=r.slots[z],V.worldVerticesLength=b<<1,V.vertices=E.vertices,V.bones=E.bones,o&&rt.rgba8888ToColor(V.color,y),V)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new rGe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=ye.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new rt,c=new rt,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var m=new Uc(v);m.slotIndex=f;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readStringRef());i.push(m),o=Math.max(o,m.frames[v-1]);break}case t.SLOT_COLOR:{var m=new Dv(v);m.slotIndex=f;for(var g=0;g<v;g++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),m.setFrame(g,_,s.r,s.g,s.b,s.a),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*Dv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var m=new Uv(v);m.slotIndex=f;for(var g=0;g<v;g++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),rt.rgb888ToColor(c,e.readInt32()),m.setFrame(g,_,s.r,s.g,s.b,s.a,c.r,c.g,c.b),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*Uv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var m=new Ha(v);m.boneIndex=y;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Ha.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var m=void 0,w=1;d==t.BONE_SCALE?m=new g3(v):d==t.BONE_SHEAR?m=new m3(v):(m=new hf(v),w=a),m.boneIndex=y;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()*w,e.readFloat()*w),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*hf.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),m=new jv(v);m.ikConstraintIndex=b;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*jv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),m=new $v(v);m.transformConstraintIndex=b;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*$v.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),E=n.pathConstraints[b],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var m=void 0,w=1;d==t.PATH_SPACING?(m=new y3(v),(E.spacingMode==fi.Length||E.spacingMode==fi.Fixed)&&(w=a)):(m=new wd(v),E.positionMode==pn.Fixed&&(w=a)),m.pathConstraintIndex=b;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()*w),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*wd.ENTRIES]);break}case t.PATH_MIX:{var m=new Gv(v);m.pathConstraintIndex=b;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Gv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var f=e.readInt(!0),A=0,T=e.readInt(!0);A<T;A++){var R=C.getAttachment(f,e.readStringRef()),O=R.bones!=null,P=R.vertices,k=O?P.length/3*2:P.length,v=e.readInt(!0),m=new _3(v);m.slotIndex=f,m.attachment=R;for(var g=0;g<v;g++){var _=e.readFloat(),L=void 0,B=e.readInt(!0);if(B==0)L=O?ye.newFloatArray(k):P;else{L=ye.newFloatArray(k);var U=e.readInt(!0);if(B+=U,a==1)for(var X=U;X<B;X++)L[X]=e.readFloat();else for(var X=U;X<B;X++)L[X]=e.readFloat()*a;if(!O)for(var X=0,ee=L.length;X<ee;X++)L[X]+=P[X]}m.setFrame(g,_,L),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[v-1])}var ne=e.readInt(!0);if(ne>0){for(var m=new ed(ne),W=n.slots.length,l=0;l<ne;l++){for(var _=e.readFloat(),D=e.readInt(!0),z=ye.newArray(W,0),h=W-1;h>=0;h--)z[h]=-1;for(var V=ye.newArray(W-D,0),G=0,ie=0,h=0;h<D;h++){for(var f=e.readInt(!0);G!=f;)V[ie++]=G++;z[G+e.readInt(!0)]=G++}for(;G<W;)V[ie++]=G++;for(var h=W-1;h>=0;h--)z[h]==-1&&(z[h]=V[--ie]);m.setFrame(l,_,z)}i.push(m),o=Math.max(o,m.frames[ne-1])}var se=e.readInt(!0);if(se>0){for(var m=new Cb(se),l=0;l<se;l++){var _=e.readFloat(),me=n.events[e.readInt(!0)],ue=new w3(_,me);ue.intValue=e.readInt(!1),ue.floatValue=e.readFloat(),ue.stringValue=e.readBoolean()?e.readString():me.stringValue,ue.data.audioPath!=null&&(ue.volume=e.readFloat(),ue.balance=e.readFloat()),m.setFrame(l,ue)}i.push(m),o=Math.max(o,m.frames[se-1])}return new zn(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[Dt.Normal,Dt.OnlyTranslation,Dt.NoRotationOrReflection,Dt.NoScale,Dt.NoScaleOrReflection],t.PositionModeValues=[pn.Fixed,pn.Percent],t.SpacingModeValues=[fi.Length,fi.Fixed,fi.Percent],t.RotateModeValues=[On.Tangent,On.Chain,On.ChainScale],t.BlendModeValues=[ut.NORMAL,ut.ADD,ut.MULTIPLY,ut.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),tGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),rGe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),nGe=function(t){_n(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(h3),jW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new A3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new b3(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,v=n.findBone(d);if(v==null)throw new Error("Slot bone not found: "+d);var f=new T3(n.slots.length,p,v),m=this.getValue(h,"color",null);m!=null&&f.color.setFromString(m);var g=this.getValue(h,"dark",null);g!=null&&(f.darkColor=new rt(1,1,1,1),f.darkColor.setFromString(g)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var _=i.ik[s],f=new S3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],w=n.findBone(d);if(w==null)throw new Error("IK bone not found: "+d);f.bones.push(w)}var b=_.target;if(f.target=n.findBone(b),f.target==null)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var _=i.transform[s],f=new I3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],w=n.findBone(d);if(w==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(w)}var b=_.target;if(f.target=n.findBone(b),f.target==null)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var _=i.path[s],f=new C3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],w=n.findBone(d);if(w==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(w)}var b=_.target;if(f.target=n.findSlot(b),f.target==null)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==pn.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),(f.spacingMode==fi.Length||f.spacingMode==fi.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],C=new xx(E.name);if(E.bones)for(var A=0;A<E.bones.length;A++){var w=n.findBone(E.bones[A]);if(w==null)throw new Error("Skin bone not found: "+E.bones[s]);C.bones.push(w)}if(E.ik)for(var A=0;A<E.ik.length;A++){var T=n.findIkConstraint(E.ik[A]);if(T==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);C.constraints.push(T)}if(E.transform)for(var A=0;A<E.transform.length;A++){var T=n.findTransformConstraint(E.transform[A]);if(T==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);C.constraints.push(T)}if(E.path)for(var A=0;A<E.path.length;A++){var T=n.findPathConstraint(E.path[A]);if(T==null)throw new Error("Skin path constraint not found: "+E.path[s]);C.constraints.push(T)}for(var p in E.attachments){var R=n.findSlot(p);if(R==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var O in h){var P=this.readAttachment(h[O],C,R.index,O,n);P!=null&&C.setAttachment(R.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var L=this.linkedMeshes[s],C=L.skin==null?n.defaultSkin:n.findSkin(L.skin);if(C==null)throw new Error("Skin not found: "+L.skin);var B=C.getAttachment(L.slotIndex,L.parent);if(B==null)throw new Error("Parent mesh not found: "+L.parent);L.mesh.deformAttachment=L.inheritDeform?B:L.mesh,L.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var U in i.events){var X=i.events[U],f=new E3(U);f.intValue=this.getValue(X,"int",0),f.floatValue=this.getValue(X,"float",0),f.stringValue=this.getValue(X,"string",""),f.audioPath=this.getValue(X,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(X,"volume",1),f.balance=this.getValue(X,"balance",0)),n.events.push(f)}if(i.animations)for(var ee in i.animations){var ne=i.animations[ee];this.readAnimation(ne,ee,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new iGe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var w=this.getValue(e,"end",null);if(w!=null){var b=a.findSlot(w);if(b==null)throw new Error("Clipping end slot not found: "+w);y.endSlot=b}var v=e.vertexCount;this.readVertices(e,y,v<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Uc(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Dv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],m=new rt;m.setFromString(v.color||"ffffffff"),h.setFrame(p,this.getValue(v,"time",0),m.r,m.g,m.b,m.a),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Dv.ENTRIES])}else if(u=="twoColor"){var h=new Uv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],g=new rt,_=new rt;g.setFromString(v.light),_.setFromString(v.dark),h.setFrame(p,this.getValue(v,"time",0),g.r,g.g,g.b,g.a,_.r,_.g,_.b),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Uv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var w=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in w){var f=w[u];if(u==="rotate"){var h=new Ha(f.length);h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ha.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,C=0;u==="scale"?(h=new g3(f.length),C=1):u==="shear"?h=new m3(f.length):(h=new hf(f.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var v=f[d],A=this.getValue(v,"x",C),T=this.getValue(v,"y",C);h.setFrame(p,this.getValue(v,"time",0),A*E,T*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*hf.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var R in e.ik){var O=e.ik[R],P=n.findIkConstraint(R),h=new jv(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var v=O[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jv.ENTRIES])}if(e.transform)for(var R in e.transform){var O=e.transform[R],P=n.findTransformConstraint(R),h=new $v(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var v=O[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$v.ENTRIES])}if(e.path)for(var R in e.path){var O=e.path[R],k=n.findPathConstraintIndex(R);if(k==-1)throw new Error("Path constraint not found: "+R);var L=n.pathConstraints[k];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new y3(f.length),(L.spacingMode==fi.Length||L.spacingMode==fi.Fixed)&&(E=i)):(h=new wd(f.length),L.positionMode==pn.Fixed&&(E=i)),h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,u,0)*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*wd.ENTRIES])}else if(u==="mix"){var h=new Gv(f.length);h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Gv.ENTRIES])}}}if(e.deform)for(var B in e.deform){var U=e.deform[B],X=n.findSkin(B);if(X!=null)for(var s in U){var c=U[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],ee=X.getAttachment(l,u);if(ee==null)throw new Error("Deform attachment not found: "+f.name);var ne=ee.bones!=null,W=ee.vertices,D=ne?W.length/3*2:W.length,h=new _3(f.length);h.slotIndex=l,h.attachment=ee;for(var p=0,z=0;z<f.length;z++){var v=f[z],V=void 0,G=this.getValue(v,"vertices",null);if(G==null)V=ne?ye.newFloatArray(D):W;else{V=ye.newFloatArray(D);var ie=this.getValue(v,"offset",0);if(ye.arrayCopy(G,0,V,ie,G.length),i!=1)for(var d=ie,se=d+G.length;d<se;d++)V[d]*=i;if(!ne)for(var d=0;d<D;d++)V[d]+=W[d]}h.setFrame(p,this.getValue(v,"time",0),V),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var me=e.drawOrder;if(me==null&&(me=e.draworder),me!=null){for(var h=new ed(me.length),ue=n.slots.length,p=0,z=0;z<me.length;z++){var we=me[z],Be=null,Fe=this.getValue(we,"offsets",null);if(Fe!=null){Be=ye.newArray(ue,-1);for(var Ee=ye.newArray(ue-Fe.length,0),Ae=0,Ge=0,d=0;d<Fe.length;d++){var We=Fe[d],l=n.findSlotIndex(We.slot);if(l==-1)throw new Error("Slot not found: "+We.slot);for(;Ae!=l;)Ee[Ge++]=Ae++;Be[Ae+We.offset]=Ae++}for(;Ae<ue;)Ee[Ge++]=Ae++;for(var d=ue-1;d>=0;d--)Be[d]==-1&&(Be[d]=Ee[--Ge])}h.setFrame(p++,this.getValue(we,"time",0),Be)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new Cb(e.events.length),p=0,d=0;d<e.events.length;d++){var Ve=e.events[d],Xe=n.findEvent(Ve.name);if(Xe==null)throw new Error("Event not found: "+Ve.name);var qe=new w3(ye.toSinglePrecision(this.getValue(Ve,"time",0)),Xe);qe.intValue=this.getValue(Ve,"int",Xe.intValue),qe.floatValue=this.getValue(Ve,"float",Xe.floatValue),qe.stringValue=this.getValue(Ve,"string",Xe.stringValue),qe.data.audioPath!=null&&(qe.volume=this.getValue(Ve,"volume",1),qe.balance=this.getValue(Ve,"balance",0)),h.setFrame(p++,qe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new zn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ut.NORMAL;if(e=="additive")return ut.ADD;if(e=="multiply")return ut.MULTIPLY;if(e=="screen")return ut.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return pn.Fixed;if(e=="percent")return pn.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return fi.Length;if(e=="fixed")return fi.Fixed;if(e=="percent")return fi.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return On.Tangent;if(e=="chain")return On.Chain;if(e=="chainscale")return On.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Dt.Normal;if(e=="onlytranslation")return Dt.OnlyTranslation;if(e=="norotationorreflection")return Dt.NoRotationOrReflection;if(e=="noscale")return Dt.NoScale;if(e=="noscaleorreflection")return Dt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),iGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),aGe=function(t){_n(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new DW(r),this.skeleton.updateWorldTransform(),this.stateData=new NW(r),this.state=new OW(this.stateData)},e}(Eg);const oGe=Object.freeze(Object.defineProperty({__proto__:null,Animation:zn,AnimationState:OW,AnimationStateAdapter:eGe,AnimationStateData:NW,AtlasAttachmentLoader:x3,Attachment:d3,AttachmentTimeline:Uc,Bone:oR,BoneData:b3,BoundingBoxAttachment:IW,ClippingAttachment:RW,ColorTimeline:Dv,ConstraintData:Ab,CurveTimeline:Us,DeformTimeline:_3,DrawOrderTimeline:ed,Event:w3,EventData:E3,EventQueue:FW,EventTimeline:Cb,get EventType(){return ha},IkConstraint:LW,IkConstraintData:S3,IkConstraintTimeline:jv,JitterEffect:J$e,MeshAttachment:Sb,PathAttachment:Bv,PathConstraint:MW,PathConstraintData:C3,PathConstraintMixTimeline:Gv,PathConstraintPositionTimeline:wd,PathConstraintSpacingTimeline:y3,PointAttachment:PW,RegionAttachment:v3,RotateTimeline:Ha,ScaleTimeline:g3,ShearTimeline:m3,Skeleton:DW,SkeletonBinary:UW,SkeletonBounds:nGe,SkeletonData:A3,SkeletonJson:jW,Skin:xx,SkinEntry:sR,Slot:p3,SlotData:T3,get SpacingMode(){return fi},Spine:aGe,SwirlEffect:Q$e,get TimelineType(){return Ti},TrackEntry:kW,TransformConstraint:BW,TransformConstraintData:I3,TransformConstraintTimeline:$v,TranslateTimeline:hf,TwoColorTimeline:Uv,VertexAttachment:Sf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lR=function(t,e){return lR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lR(t,e)};function Yn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Cf=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,y=n,w=o;w<i;y+=2,w+=s){var b=u[y],E=u[y+1];a[w]=b*v+E*m+p,a[w+1]=b*g+E*_+d}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var w=o,m=A*3;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],E=u[m+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}else for(var B=l,w=o,m=A*3,U=A<<1;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(R3),$W=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.BoundingBox,n.color=new rt(1,1,1,1),n}return e}(Cf),GW=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e}(Cf),P3=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Mesh,n.color=new rt(1,1,1,1),n.inheritDeform=!1,n.tempColor=new rt(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Cf),Vv=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e}(Cf),VW=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e}(Cf),O3=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),k3=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=ye.newFloatArray(8),n.uvs=ye.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,v=o*l+this.x,m=o*u,g=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=g+h,y[e.OX3]=v-_,y[e.OY3]=g+m,y[e.OX4]=v-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof O3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,v=0;d=o[e.OX1],v=o[e.OY1],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX2],v=o[e.OY2],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX3],v=o[e.OY3],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX4],v=o[e.OY4],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(R3),sGe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=te.randomTriangular(-this.jitterX,this.jitterY),e.y+=te.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),lGe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*te.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new TW(2),t}(),vi=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Ii;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Ii||(Ii={}));var js=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ye.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,v=this.curves;v[d++]=t.BEZIER;for(var m=h,g=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)v[d]=m,v[d+1]=g,h+=u,p+=f,u+=c,f+=l,m+=h,g+=p},t.prototype.getCurvePercent=function(e,r){r=te.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Go=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Ii.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=vi.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],v=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-v)/(l[p+e.PREV_TIME]-v)),g=l[p+e.ROTATION]-d;switch(g=d+(g-(16384-(16384.499999999996-g/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(g-(16384-(16384.499999999996-g/360|0))*360)*o;break;case Z.first:case Z.replace:g+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(g-(16384-(16384.499999999996-g/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(js),Hv=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=vi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*v,h+=(l[p+e.Y]-h)*v}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(js),HW=function(t){Yn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ii.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=vi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*v)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,g=0;if(c==Kt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,g=u.data.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case Z.first:case Z.replace:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case Z.add:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-u.data.scaleX)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*te.signum(f),g=Math.abs(u.data.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*te.signum(f),g=Math.abs(u.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case Z.add:m=te.signum(f),g=te.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*g+(h-Math.abs(u.data.scaleY)*g)*o}}},e}(Hv),XW=function(t){Yn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ii.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=vi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*v,h=h+(l[p+e.Y]-h)*v}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}},e}(Hv),uR=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var g=u.length;p=u[g+e.PREV_R],d=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A]}else{var _=vi.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],w=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*w,d+=(u[_+e.G]-d)*w,v+=(u[_+e.B]-v)*w,m+=(u[_+e.A]-m)*w}if(o==1)l.color.set(p,d,v,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(js),cR=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var v=0,m=0,g=0,_=0,y=0,w=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;v=u[E+e.PREV_R],m=u[E+e.PREV_G],g=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],w=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var C=vi.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],g=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],w=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],T=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*T,m+=(u[C+e.G]-m)*T,g+=(u[C+e.B]-g)*T,_+=(u[C+e.A]-_)*T,y+=(u[C+e.R2]-y)*T,w+=(u[C+e.G2]-w)*T,b+=(u[C+e.B2]-b)*T}if(o==1)l.color.set(v,m,g,_),l.darkColor.set(y,w,b,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(w-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(js),bx=function(){function t(e){this.frames=ye.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Ii.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==Kt.mixOut&&o==Z.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==Z.setup||o==Z.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=vi.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),W5=null,zW=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r),n.frameVertices=new Array(r),W5==null&&(W5=ye.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Ii.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Cf)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var v=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=ye.setArraySize(f,p);if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)m[_]+=(g[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=ye.setArraySize(f,p);if(i>=d[d.length-1]){var w=h[d.length-1];if(o==1)if(s==Z.add){var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)y[_]+=w[_]-g[_];else for(var _=0;_<p;_++)y[_]+=w[_]}else ye.arrayCopy(w,0,y,0,p);else switch(s){case Z.setup:{var b=u;if(b.bones==null)for(var g=b.vertices,_=0;_<p;_++){var E=g[_];y[_]=E+(w[_]-E)*o}else for(var _=0;_<p;_++)y[_]=w[_]*o;break}case Z.first:case Z.replace:for(var _=0;_<p;_++)y[_]+=(w[_]-y[_])*o;case Z.add:var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)y[_]+=(w[_]-g[_])*o;else for(var _=0;_<p;_++)y[_]+=w[_]*o}return}var C=vi.binarySearch(d,i),A=h[C-1],T=h[C],R=d[C],O=this.getCurvePercent(C-1,1-(i-R)/(d[C-1]-R));if(o==1)if(s==Z.add){var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++){var P=A[_];y[_]+=P+(T[_]-P)*O-g[_]}else for(var _=0;_<p;_++){var P=A[_];y[_]+=P+(T[_]-P)*O}}else for(var _=0;_<p;_++){var P=A[_];y[_]=P+(T[_]-P)*O}else switch(s){case Z.setup:{var k=u;if(k.bones==null)for(var g=k.vertices,_=0;_<p;_++){var P=A[_],E=g[_];y[_]=E+(P+(T[_]-P)*O-E)*o}else for(var _=0;_<p;_++){var P=A[_];y[_]=(P+(T[_]-P)*O)*o}break}case Z.first:case Z.replace:for(var _=0;_<p;_++){var P=A[_];y[_]+=(P+(T[_]-P)*O-y[_])*o}break;case Z.add:var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++){var P=A[_];y[_]+=(P+(T[_]-P)*O-g[_])*o}else for(var _=0;_<p;_++){var P=A[_];y[_]+=(P+(T[_]-P)*O)*o}}}},e}(js),WW=function(){function t(e){this.frames=ye.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Ii.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=vi.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),wx=function(){function t(e){this.frames=ye.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Ii.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Kt.mixOut&&o==Z.setup){ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=vi.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ye.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),fR=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==Kt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=vi.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*d-u.data.mix)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*d-u.mix)*o,c==Kt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(js),hR=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var g=vi.binarySearch(l,i,e.ENTRIES);h=l[g+e.PREV_ROTATE],p=l[g+e.PREV_TRANSLATE],d=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR];var _=l[g],y=this.getCurvePercent(g/e.ENTRIES-1,1-(i-_)/(l[g+e.PREV_TIME]-_));h+=(l[g+e.ROTATE]-h)*y,p+=(l[g+e.TRANSLATE]-p)*y,d+=(l[g+e.SCALE]-d)*y,v+=(l[g+e.SHEAR]-v)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(js),Ex=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=vi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(js),YW=function(t){Yn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ii.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=vi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(Ex),dR=function(t){Yn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ii.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=vi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*v,h+=(l[p+e.TRANSLATE]-h)*v}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(js),qW=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new ZW(this),this.propertyIDs=new CW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Eb(function(){return new KW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++)ye.webkit602BugfixHelper(l,c),p[d].apply(e,u,f,r,l,c,Kt.mixIn);else{var v=s.timelineMode,m=s.timelinesRotation.length==0;m&&ye.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,d=0;d<h;d++){var _=p[d],y=v[d]==t.SUBSEQUENT?c:Z.setup;_ instanceof Go?this.applyRotateTimeline(_,e,f,l,y,g,d<<1,m):(ye.webkit602BugfixHelper(l,c),_.apply(e,u,f,r,l,y,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,d,n,Kt.mixOut);else{var m=i.timelineMode,g=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&ye.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var w=h[v],b=Kt.mixOut,E=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!s&&w instanceof bx||!c&&w instanceof wx)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD:E=Z.setup,C=p;break;default:E=Z.setup;var A=g[v];C=p*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,w instanceof Go?this.applyRotateTimeline(w,r,u,C,E,y,v<<1,_):(ye.webkit602BugfixHelper(C,n),E==Z.setup&&(w instanceof bx?s&&(b=Kt.mixOut):w instanceof wx&&c&&(b=Kt.mixOut)),w.apply(r,l,u,o,C,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-Go.ENTRIES])p=f.data.rotation+u[u.length+Go.PREV_ROTATION];else{var d=vi.binarySearch(u,n,Go.ENTRIES),v=u[d+Go.PREV_ROTATION],m=u[d],g=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Go.PREV_TIME]-m));p=u[d+Go.ROTATION]-v,p-=(16384-(16384.499999999996-p/360|0))*360,p=v+p*g+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var w=0,b=0;c?(w=0,b=y):(w=o[s],b=o[s+1]);var E=y>0,C=w>=0;te.signum(b)!=te.signum(y)&&Math.abs(b)<=90&&(Math.abs(w)>180&&(w+=360*te.signum(w)),C=E),_=y+w-w%360,C!=E&&(_+=360*te.signum(w)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ye.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ye.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new vi("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),KW=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),ZW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(da.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(da.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(da.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(da.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(da.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(da.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case da.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case da.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case da.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case da.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case da.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=te.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case da.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),da;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(da||(da={}));var uGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),JW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),QW=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new k3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new P3(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new $W(r)},t.prototype.newPathAttachment=function(e,r){return new Vv(r)},t.prototype.newPointAttachment=function(e,r){return new VW(r)},t.prototype.newClippingAttachment=function(e,r){return new GW(r)},t}(),pR=function(){function t(e,r,n){if(this.matrix=new an,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,y=te.cosDeg(p)*a,w=te.sinDeg(n+o)*i,b=te.sinDeg(p)*a;l.a=d*_+v*w,l.c=d*y+v*b,l.b=m*_+g*w,l.d=m*y+g*b;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var A=n+o-C,T=n+s-C+90,_=te.cosDeg(A)*i,y=te.cosDeg(T)*a,w=te.sinDeg(A)*i,b=te.sinDeg(T)*a;l.a=d*_-v*w,l.c=d*y-v*b,l.b=m*_+g*w,l.d=m*y+g*b;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*g-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,y=te.cosDeg(90+s)*a,w=te.sinDeg(o)*i,b=te.sinDeg(90+s)*a;l.a=P*_+B*w,l.c=P*y+B*b,l.b=k*_+U*w,l.d=k*y+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),eY=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),tY=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),rY=function(){function t(e){this.name=e}return t}(),nY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,p=(f*c.a-u*c.b)*l-e.ay,d=Math.atan2(p,h)*te.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var v=e.ascaleX,m=e.ascaleY;if(i||a){var g=e.data.length*v,_=Math.sqrt(h*h+p*p);if(i&&_<g||a&&_>g&&g>1e-4){var y=(_/g-1)*s+1;v*=y,o&&(m*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,v,m,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,v=0,m=0,g=0;u<0?(u=-u,v=180,g=-1):(v=0,g=1),h<0&&(h=-h,g=-g),p<0?(p=-p,m=180):m=0;var _=r.ax,y=0,w=0,b=0,E=d.a,C=d.c,A=d.b,T=d.d,R=Math.abs(u-h)<=1e-4;R?(y=r.ay,w=E*_+C*y+d.tx,b=A*_+T*y+d.ty):(y=0,w=E*_+d.tx,b=A*_+d.ty);var O=e.parent.matrix;E=O.a,C=O.c,A=O.b,T=O.d;var P=1/(E*T-C*A),k=n-O.tx,L=i-O.ty,B=(k*T-L*C)*P-c,U=(L*E-k*A)*P-l,X=B*B+U*U;k=w-O.tx,L=b-O.ty;var ee=(k*T-L*C)*P-c,ne=(L*E-k*A)*P-l,W=Math.sqrt(ee*ee+ne*ne),D=r.data.length*p,z=0,V=0;e:if(R){D*=u;var G=(X-W*W-D*D)/(2*W*D);G<-1?G=-1:G>1&&(G=1,o&&W+D>1e-4&&(f*=(Math.sqrt(X)/(W+D)-1)*s+1)),V=Math.acos(G)*a,E=W+D*G,C=D*Math.sin(V),z=Math.atan2(U*E-B*C,B*E+U*C)}else{E=u*D,C=h*D;var ie=E*E,se=C*C,me=Math.atan2(U,B);A=se*W*W+ie*X-ie*se;var ue=-2*se*W,we=se-ie;if(T=ue*ue-4*we*A,T>=0){var Be=Math.sqrt(T);ue<0&&(Be=-Be),Be=-(ue+Be)/2;var Fe=Be/we,Ee=A/Be,Ae=Math.abs(Fe)<Math.abs(Ee)?Fe:Ee;if(Ae*Ae<=X){L=Math.sqrt(X-Ae*Ae)*a,z=me-Math.atan2(L,Ae),V=Math.atan2(L/h,(Ae-W)/u);break e}}var Ge=te.PI,We=W-E,Ve=We*We,Xe=0,qe=0,Et=W+E,Rt=Et*Et,ft=0;A=-E*W/(ie-se),A>=-1&&A<=1&&(A=Math.acos(A),k=E*Math.cos(A)+W,L=C*Math.sin(A),T=k*k+L*L,T<Ve&&(Ge=A,Ve=T,We=k,Xe=L),T>Rt&&(qe=A,Rt=T,Et=k,ft=L)),X<=(Ve+Rt)/2?(z=me-Math.atan2(Xe*a,We),V=Ge*a):(z=me-Math.atan2(ft*a,Et),V=qe*a)}var ht=Math.atan2(y,_)*g,St=e.arotation;z=(z-ht)*te.radDeg+v-St,z>180?z-=360:z<-180&&(z+=360),e.updateWorldTransformWith(c,l,St+z*s,f,e.ascaleY,0,0),St=r.arotation,V=((V+ht)*te.radDeg-r.ashearX)*g+m-St,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(_,y,St+V*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),iY=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),aY=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),po;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(po||(po={}));var oY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Vv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==po.Length,l=o.rotateMode,u=l==On.Tangent,f=l==On.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,v=ye.setArraySize(this.spaces,p),m=null,g=this.spacing;if(f||c){f&&(m=ye.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var w=d[_],b=w.data.length;if(b<t.epsilon)f&&(m[_]=0),v[++_]=0;else{var E=b*w.matrix.a,C=b*w.matrix.b,A=Math.sqrt(E*E+C*C);f&&(m[_]=A),v[++_]=(c?b+g:g)*A/b}}}else for(var _=1;_<p;_++)v[_]=g;var T=this.computeWorldPositions(e,p,u,o.positionMode==pn.Percent,s==po.Percent),R=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==On.Chain;else{k=!1;var L=this.target.bone.matrix;P*=L.a*L.d-L.b*L.c>0?te.degRad:-te.degRad}for(var _=0,L=3;_<h;_++,L+=3){var w=d[_],B=w.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=T[L],C=T[L+1],U=E-R,X=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(U*U+X*X)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var W=B.a,D=B.c,z=B.b,V=B.d,G=0,ie=0,se=0;if(u?G=T[L-1]:v[_+1]==0?G=T[L+2]:G=Math.atan2(X,U),G-=Math.atan2(z,W),k){ie=Math.cos(G),se=Math.sin(G);var me=w.data.length;R+=(me*(ie*W-se*z)-U)*r,O+=(me*(se*W+ie*z)-X)*r}else G+=P;G>te.PI?G-=te.PI2:G<-te.PI&&(G+=te.PI2),G*=r,ie=Math.cos(G),se=Math.sin(G),B.a=ie*W-se*z,B.c=ie*D-se*V,B.b=se*W+ie*z,B.d=se*D+ie*V}w.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ye.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var v=e.lengths;p-=f?1:2;var m=v[p];if(i&&(s*=m),a)for(var g=0;g<r;g++)c[g]*=m;u=ye.setArraySize(this.world,8);for(var g=0,_=0,y=0;g<r;g++,_+=3){var w=c[g];s+=w;var b=s;if(f)b%=m,b<0&&(b+=m),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,_);continue}else if(b>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-m,u,0,l,_);continue}for(;;y++){var E=v[y];if(!(b>E)){if(y==0)b/=E;else{var C=v[y-1];b=(b-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||g>0&&w==0)}return l}f?(h+=2,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ye.setArraySize(this.curves,p),T=0,R=u[0],O=u[1],P=0,k=0,L=0,B=0,U=0,X=0,ee=0,ne=0,W=0,D=0,z=0,V=0,G=0,ie=0,g=0,se=2;g<p;g++,se+=6)P=u[se],k=u[se+1],L=u[se+2],B=u[se+3],U=u[se+4],X=u[se+5],ee=(R-P*2+L)*.1875,ne=(O-k*2+B)*.1875,W=((P-L)*3-R+U)*.09375,D=((k-B)*3-O+X)*.09375,z=ee*2+W,V=ne*2+D,G=(P-R)*.75+ee+W*.16666667,ie=(k-O)*.75+ne+D*.16666667,T+=Math.sqrt(G*G+ie*ie),G+=z,ie+=V,z+=W,V+=D,T+=Math.sqrt(G*G+ie*ie),G+=z,ie+=V,T+=Math.sqrt(G*G+ie*ie),G+=z+W,ie+=V+D,T+=Math.sqrt(G*G+ie*ie),A[g]=T,R=U,O=X;if(i&&(s*=T),a)for(var g=0;g<r;g++)c[g]*=T;for(var me=this.segments,ue=0,g=0,_=0,y=0,we=0;g<r;g++,_+=3){var w=c[g];s+=w;var b=s;if(f)b%=T,b<0&&(b+=T),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,_);continue}else if(b>T){this.addAfterPosition(b-T,u,h-4,l,_);continue}for(;;y++){var Be=A[y];if(!(b>Be)){if(y==0)b/=Be;else{var C=A[y-1];b=(b-C)/(Be-C)}break}}if(y!=d){d=y;var Fe=y*6;for(R=u[Fe],O=u[Fe+1],P=u[Fe+2],k=u[Fe+3],L=u[Fe+4],B=u[Fe+5],U=u[Fe+6],X=u[Fe+7],ee=(R-P*2+L)*.03,ne=(O-k*2+B)*.03,W=((P-L)*3-R+U)*.006,D=((k-B)*3-O+X)*.006,z=ee*2+W,V=ne*2+D,G=(P-R)*.3+ee+W*.16666667,ie=(k-O)*.3+ne+D*.16666667,ue=Math.sqrt(G*G+ie*ie),me[0]=ue,Fe=1;Fe<8;Fe++)G+=z,ie+=V,z+=W,V+=D,ue+=Math.sqrt(G*G+ie*ie),me[Fe]=ue;G+=z,ie+=V,ue+=Math.sqrt(G*G+ie*ie),me[8]=ue,G+=z+W,ie+=V+D,ue+=Math.sqrt(G*G+ie*ie),me[9]=ue,we=0}for(b*=ue;;we++){var Ee=me[we];if(!(b>Ee)){if(we==0)b/=Ee;else{var C=me[we-1];b=we+(b-C)/(Ee-C)}break}}this.addCurvePosition(b*.1,R,O,P,k,L,B,U,X,l,_,n||g>0&&w==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,y=_*3,w=v*y,b=y*e,E=r*g+i*w+o*b+c*d,C=n*g+a*w+s*b+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),sY=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Mv,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,y=g.matrix;if(e!=0){var w=y.a,b=y.c,E=y.b,C=y.d,A=Math.atan2(l,s)-Math.atan2(E,w)+h;A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);y.a=T*w-R*E,y.c=T*b-R*C,y.b=R*w+T*E,y.d=R*b+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var b=y.c,C=y.d,L=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(L-Math.atan2(y.b,y.a));A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A=L+(A+p)*i;var P=Math.sqrt(b*b+C*C);y.c=Math.cos(A)*P,y.d=Math.sin(A)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,y=g.matrix;if(e!=0){var w=y.a,b=y.c,E=y.b,C=y.d,A=Math.atan2(l,s)+h;A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);y.a=T*w-R*E,y.c=T*b-R*C,y.b=R*w+T*E,y.d=R*b+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>te.PI?A-=te.PI2:A<-te.PI&&(A+=te.PI2);var b=y.c,C=y.d;A=Math.atan2(C,b)+(A-te.PI/2+p)*i;var P=Math.sqrt(b*b+C*C);y.c=Math.cos(A)*P,y.d=Math.sin(A)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,v=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),lY=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new pR(n,this,null);else{var a=this.bones[n.parent.index];i=new pR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new O3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new nY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new sY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new oY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Vv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Vv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,p=null,d=f.getAttachment();if(d instanceof k3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof P3){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),cGe=function(t){Yn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(h3),uY=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),cY=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),fY=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),hY=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),dY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new uY,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new eY(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,p=f.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new cY(n.slots.length,h,d),v=this.getValue(f,"color",null);v!=null&&u.color.setFromString(v);var m=this.getValue(f,"dark",null);m!=null&&(u.darkColor=new rt(1,1,1,1),u.darkColor.setFromString(m)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var g=i.ik[o],u=new iY(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var w=g.target;if(u.target=n.findBone(w),u.target==null)throw new Error("IK target bone not found: "+w);u.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,u.mix=this.getValue(g,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var g=i.transform[o],u=new fY(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var w=g.target;if(u.target=n.findBone(w),u.target==null)throw new Error("Transform constraint target bone not found: "+w);u.local=this.getValue(g,"local",!1),u.relative=this.getValue(g,"relative",!1),u.offsetRotation=this.getValue(g,"rotation",0),u.offsetX=this.getValue(g,"x",0)*r,u.offsetY=this.getValue(g,"y",0)*r,u.offsetScaleX=this.getValue(g,"scaleX",0),u.offsetScaleY=this.getValue(g,"scaleY",0),u.offsetShearY=this.getValue(g,"shearY",0),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),u.scaleMix=this.getValue(g,"scaleMix",1),u.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var g=i.path[o],u=new aY(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var w=g.target;if(u.target=n.findSlot(w),u.target==null)throw new Error("Path target slot not found: "+w);u.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),u.offsetRotation=this.getValue(g,"rotation",0),u.position=this.getValue(g,"position",0),u.positionMode==pn.Fixed&&(u.position*=r),u.spacing=this.getValue(g,"spacing",0),(u.spacingMode==po.Length||u.spacingMode==po.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var E=i.skins[b],C=new hY(b);for(var h in E){var A=n.findSlotIndex(h);if(A==-1)throw new Error("Slot not found: "+h);var f=E[h];for(var T in f){var R=this.readAttachment(f[T],C,A,T,n);R!=null&&C.addAttachment(A,T,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var k=C.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var L in i.events){var B=i.events[L],u=new rY(L);u.intValue=this.getValue(B,"int",0),u.floatValue=this.getValue(B,"float",0),u.stringValue=this.getValue(B,"string",""),u.audioPath=this.getValue(B,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(B,"volume",1),u.balance=this.getValue(B,"balance",0)),n.events.push(u)}if(i.animations)for(var U in i.animations){var X=i.animations[U];this.readAnimation(X,U,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new fGe(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var w=this.getValue(e,"end",null);if(w!=null){var b=a.findSlot(w);if(b==null)throw new Error("Clipping end slot not found: "+w);y.endSlot=b}var v=e.vertexCount;this.readVertices(e,y,v<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new bx(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new uR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],m=new rt;m.setFromString(v.color||"ffffffff"),h.setFrame(p,v.time,m.r,m.g,m.b,m.a),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*uR.ENTRIES])}else if(u=="twoColor"){var h=new cR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],g=new rt,_=new rt;g.setFromString(v.light),_.setFromString(v.dark),h.setFrame(p,v.time,g.r,g.g,g.b,g.a,_.r,_.g,_.b),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*cR.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var w=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in w){var f=w[u];if(u==="rotate"){var h=new Go(f.length);h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,v.angle),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Go.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new HW(f.length):u==="shear"?h=new XW(f.length):(h=new Hv(f.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var v=f[d],C=this.getValue(v,"x",0),A=this.getValue(v,"y",0);h.setFrame(p,v.time,C*E,A*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Hv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var T in e.ik){var R=e.ik[T],O=n.findIkConstraint(T),h=new fR(R.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var v=R[d];h.setFrame(p,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*fR.ENTRIES])}if(e.transform)for(var T in e.transform){var R=e.transform[T],O=n.findTransformConstraint(T),h=new hR(R.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var v=R[d];h.setFrame(p,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*hR.ENTRIES])}if(e.paths)for(var T in e.paths){var R=e.paths[T],P=n.findPathConstraintIndex(T);if(P==-1)throw new Error("Path constraint not found: "+T);var k=n.pathConstraints[P];for(var u in R){var f=R[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new YW(f.length),(k.spacingMode==po.Length||k.spacingMode==po.Fixed)&&(E=i)):(h=new Ex(f.length),k.positionMode==pn.Fixed&&(E=i)),h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,this.getValue(v,u,0)*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ex.ENTRIES])}else if(u==="mix"){var h=new dR(f.length);h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*dR.ENTRIES])}}}if(e.deform)for(var L in e.deform){var B=e.deform[L],U=n.findSkin(L);if(U!=null)for(var s in B){var c=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],X=U.getAttachment(l,u);if(X==null)throw new Error("Deform attachment not found: "+f.name);var ee=X.bones!=null,ne=X.vertices,W=ee?ne.length/3*2:ne.length,h=new zW(f.length);h.slotIndex=l,h.attachment=X;for(var p=0,D=0;D<f.length;D++){var v=f[D],z=void 0,V=this.getValue(v,"vertices",null);if(V==null)z=ee?ye.newFloatArray(W):ne;else{z=ye.newFloatArray(W);var G=this.getValue(v,"offset",0);if(ye.arrayCopy(V,0,z,G,V.length),i!=1)for(var d=G,ie=d+V.length;d<ie;d++)z[d]*=i;if(!ee)for(var d=0;d<W;d++)z[d]+=ne[d]}h.setFrame(p,v.time,z),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var se=e.drawOrder;if(se==null&&(se=e.draworder),se!=null){for(var h=new wx(se.length),me=n.slots.length,p=0,D=0;D<se.length;D++){var ue=se[D],we=null,Be=this.getValue(ue,"offsets",null);if(Be!=null){we=ye.newArray(me,-1);for(var Fe=ye.newArray(me-Be.length,0),Ee=0,Ae=0,d=0;d<Be.length;d++){var Ge=Be[d],l=n.findSlotIndex(Ge.slot);if(l==-1)throw new Error("Slot not found: "+Ge.slot);for(;Ee!=l;)Fe[Ae++]=Ee++;we[Ee+Ge.offset]=Ee++}for(;Ee<me;)Fe[Ae++]=Ee++;for(var d=me-1;d>=0;d--)we[d]==-1&&(we[d]=Fe[--Ae])}h.setFrame(p++,ue.time,we)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new WW(e.events.length),p=0,d=0;d<e.events.length;d++){var We=e.events[d],Ve=n.findEvent(We.name);if(Ve==null)throw new Error("Event not found: "+We.name);var Xe=new tY(ye.toSinglePrecision(We.time),Ve);Xe.intValue=this.getValue(We,"int",Ve.intValue),Xe.floatValue=this.getValue(We,"float",Ve.floatValue),Xe.stringValue=this.getValue(We,"string",Ve.stringValue),Xe.data.audioPath!=null&&(Xe.volume=this.getValue(We,"volume",1),Xe.balance=this.getValue(We,"balance",0)),h.setFrame(p++,Xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new vi(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ut.NORMAL;if(e=="additive")return ut.ADD;if(e=="multiply")return ut.MULTIPLY;if(e=="screen")return ut.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return pn.Fixed;if(e=="percent")return pn.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return po.Length;if(e=="fixed")return po.Fixed;if(e=="percent")return po.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return On.Tangent;if(e=="chain")return On.Chain;if(e=="chainscale")return On.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Dt.Normal;if(e=="onlytranslation")return Dt.OnlyTranslation;if(e=="norotationorreflection")return Dt.NoRotationOrReflection;if(e=="noscale")return Dt.NoScale;if(e=="noscaleorreflection")return Dt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),fGe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),hGe=function(t){Yn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new lY(r),this.skeleton.updateWorldTransform(),this.stateData=new JW(r),this.state=new qW(this.stateData)},e}(Eg);const dGe=Object.freeze(Object.defineProperty({__proto__:null,Animation:vi,AnimationState:qW,AnimationStateAdapter2:uGe,AnimationStateData:JW,AtlasAttachmentLoader:QW,Attachment:R3,AttachmentTimeline:bx,Bone:pR,BoneData:eY,BoundingBoxAttachment:$W,ClippingAttachment:GW,ColorTimeline:uR,CurveTimeline:js,DeformTimeline:zW,DrawOrderTimeline:wx,Event:tY,EventData:rY,EventQueue:ZW,EventTimeline:WW,get EventType(){return da},IkConstraint:nY,IkConstraintData:iY,IkConstraintTimeline:fR,JitterEffect:sGe,MeshAttachment:P3,PathAttachment:Vv,PathConstraint:oY,PathConstraintData:aY,PathConstraintMixTimeline:dR,PathConstraintPositionTimeline:Ex,PathConstraintSpacingTimeline:YW,PointAttachment:VW,RegionAttachment:k3,RotateTimeline:Go,ScaleTimeline:HW,ShearTimeline:XW,Skeleton:lY,SkeletonBounds:cGe,SkeletonData:uY,SkeletonJson:dY,Skin:hY,Slot:O3,SlotData:cY,get SpacingMode(){return po},Spine:hGe,SwirlEffect:lGe,get TimelineType(){return Ii},TrackEntry:KW,TransformConstraint:sY,TransformConstraintData:fY,TransformConstraintTimeline:hR,TranslateTimeline:Hv,TwoColorTimeline:cR,VertexAttachment:Cf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vR=function(t,e){return vR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vR(t,e)};function sr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F3=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Ns=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,y=n,w=o;w<i;y+=2,w+=s){var b=u[y],E=u[y+1];a[w]=b*v+E*m+p,a[w+1]=b*g+E*_+d}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var w=o,m=A*3;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,b=u[m],E=u[m+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}else for(var B=l,w=o,m=A*3,U=A<<1;w<i;w+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,b=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(b*h.a+E*h.c+h.tx)*L,k+=(b*h.b+E*h.d+h.ty)*L}a[w]=P,a[w+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),ye.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=ye.newFloatArray(this.vertices.length),ye.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(F3),pY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ns),vY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Clipping,n.endSlot=null,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ns),Tb=function(t){sr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=er.Mesh,i.region=null,i.triangles=[],i.color=new rt(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new rt(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ye.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ye.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),ye.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Ns),Xv=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ye.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ns),gY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=er.Point,n.x=0,n.y=0,n.rotation=0,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ns),N3=function(t){sr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=er.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new rt(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=ye.newFloatArray(8),i.uvs=ye.newFloatArray(8),i.tempColor=new rt(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,p=this.y,d=a*u+h,v=a*f,m=o*u+p,g=o*f,_=s*u+h,y=s*f,w=c*u+p,b=c*f,E=this.offset;E[0]=d-g,E[1]=m+v,E[2]=d-b,E[3]=w+v,E[4]=_-b,E[5]=w+y,E[6]=_-g,E[7]=m+y;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,p=c.b,d=c.d,v=0,m=0;v=s[0],m=s[1],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[2],m=s[3],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[4],m=s[5],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[6],m=s[7],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ye.arrayCopy(this.uvs,0,r.uvs,0,8),ye.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(F3),L3=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return ye.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),wi;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(wi||(wi={}));var M3=[wi.hold,wi.once,wi.loop,wi.pingpong,wi.onceReverse,wi.loopReverse,wi.pingpongReverse],Ib=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new AW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),Or={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Fn=function(){function t(e,r){this.propertyIds=r,this.frames=ye.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),as=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=ye.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=ye.newFloatArray(n);ye.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var v=(a-s*2+l)*.03,m=(o-c*2+u)*.03,g=((s-l)*3-a+f)*.006,_=((c-u)*3-o+h)*.006,y=v*2+g,w=m*2+_,b=(s-a)*.3+v+g*.16666667,E=(c-o)*.3+m+_*.16666667,C=a+b,A=o+E,T=d+18;d<T;d+=2)p[d]=C,p[d+1]=A,b+=y,E+=w,y+=g,w+=_,C+=b,A+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(Fn),os=function(t){sr(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(as),Rb=function(t){sr(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(as),zv=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.rotation=l.data.rotation;return;case Z.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.rotation=l.data.rotation+f*o;break;case Z.first:case Z.replace:f+=l.data.rotation-l.rotation;case Z.add:l.rotation+=f*o}}},e}(os),B3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.x+"|"+i,Or.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x,l.y=l.data.y;return;case Z.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case Z.add:l.x+=f*o,l.y+=h*o}}},e}(Rb),D3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x;return;case Z.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.x=l.data.x+f*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o;break;case Z.add:l.x+=f*o}}},e}(os),U3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.y=l.data.y;return;case Z.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.y=l.data.y+f*o;break;case Z.first:case Z.replace:l.y+=(l.data.y+f-l.y)*o;break;case Z.add:l.y+=f*o}}},e}(os),j3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.scaleX+"|"+i,Or.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==Z.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var g=0,_=0;if(c==Kt.mixOut)switch(s){case Z.setup:g=l.data.scaleX,_=l.data.scaleY,l.scaleX=g+(Math.abs(f)*te.signum(g)-g)*o,l.scaleY=_+(Math.abs(h)*te.signum(_)-_)*o;break;case Z.first:case Z.replace:g=l.scaleX,_=l.scaleY,l.scaleX=g+(Math.abs(f)*te.signum(g)-g)*o,l.scaleY=_+(Math.abs(h)*te.signum(_)-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case Z.setup:g=Math.abs(l.data.scaleX)*te.signum(f),_=Math.abs(l.data.scaleY)*te.signum(h),l.scaleX=g+(f-g)*o,l.scaleY=_+(h-_)*o;break;case Z.first:case Z.replace:g=Math.abs(l.scaleX)*te.signum(f),_=Math.abs(l.scaleY)*te.signum(h),l.scaleX=g+(f-g)*o,l.scaleY=_+(h-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(Rb),$3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==Z.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==Kt.mixOut)switch(s){case Z.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*te.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*te.signum(h)-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleX)*te.signum(f),l.scaleX=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleX)*te.signum(f),l.scaleX=h+(f-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(os),G3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleY=l.data.scaleY;return;case Z.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==Z.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==Kt.mixOut)switch(s){case Z.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*te.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*te.signum(h)-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleY)*te.signum(f),l.scaleY=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleY)*te.signum(f),l.scaleY=h+(f-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(os),V3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.shearX+"|"+i,Or.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case Z.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(Rb),H3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearX=l.data.shearX+f*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case Z.add:l.shearX+=f*o}}},e}(os),X3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearY=l.data.shearY;return;case Z.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearY=l.data.shearY+f*o;break;case Z.first:case Z.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case Z.add:l.shearY+=f*o}}},e}(os),z3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.rgb+"|"+i,Or.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.setFromColor(h);return;case Z.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0,g=Fn.search(u,i,5),_=this.curves[g/5];switch(_){case 0:var y=u[g];p=u[g+1],d=u[g+2],v=u[g+3],m=u[g+4];var w=(i-y)/(u[g+5]-y);p+=(u[g+5+1]-p)*w,d+=(u[g+5+2]-d)*w,v+=(u[g+5+3]-v)*w,m+=(u[g+5+4]-m)*w;break;case 1:p=u[g+1],d=u[g+2],v=u[g+3],m=u[g+4];break;default:p=this.getBezierValue(i,g,1,_-2),d=this.getBezierValue(i,g,2,_+18-2),v=this.getBezierValue(i,g,3,_+18*2-2),m=this.getBezierValue(i,g,4,_+18*3-2)}o==1?f.set(p,d,v,m):(s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o))}},e}(as),W3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case Z.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var p=0,d=0,v=0,m=Fn.search(u,i,4),g=this.curves[m>>2];switch(g){case 0:var _=u[m];p=u[m+1],d=u[m+2],v=u[m+3];var y=(i-_)/(u[m+4]-_);p+=(u[m+4+1]-p)*y,d+=(u[m+4+2]-d)*y,v+=(u[m+4+3]-v)*y;break;case 1:p=u[m+1],d=u[m+2],v=u[m+3];break;default:p=this.getBezierValue(i,m,1,g-2),d=this.getBezierValue(i,m,2,g+18-2),v=this.getBezierValue(i,m,3,g+18*2-2)}if(o==1)f.r=p,f.g=d,f.b=v;else{if(s==Z.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(p-f.r)*o,f.g+=(d-f.g)*o,f.b+=(v-f.b)*o}}},e}(as),Y3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case Z.setup:u.a=f.a;return;case Z.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==Z.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(os),q3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.rgb+"|"+i,Or.alpha+"|"+i,Or.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var v=0,m=0,g=0,_=0,y=0,w=0,b=0,E=Fn.search(u,i,8),C=this.curves[E>>3];switch(C){case 0:var A=u[E];v=u[E+1],m=u[E+2],g=u[E+3],_=u[E+4],y=u[E+5],w=u[E+6],b=u[E+7];var T=(i-A)/(u[E+8]-A);v+=(u[E+8+1]-v)*T,m+=(u[E+8+2]-m)*T,g+=(u[E+8+3]-g)*T,_+=(u[E+8+4]-_)*T,y+=(u[E+8+5]-y)*T,w+=(u[E+8+6]-w)*T,b+=(u[E+8+7]-b)*T;break;case 1:v=u[E+1],m=u[E+2],g=u[E+3],_=u[E+4],y=u[E+5],w=u[E+6],b=u[E+7];break;default:v=this.getBezierValue(i,E,1,C-2),m=this.getBezierValue(i,E,2,C+18-2),g=this.getBezierValue(i,E,3,C+18*2-2),_=this.getBezierValue(i,E,4,C+18*3-2),y=this.getBezierValue(i,E,5,C+18*4-2),w=this.getBezierValue(i,E,6,C+18*5-2),b=this.getBezierValue(i,E,7,C+18*6-2)}if(o==1)f.set(v,m,g,_),h.r=y,h.g=w,h.b=b;else{if(s==Z.setup){f.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.r+=(y-h.r)*o,h.g+=(w-h.g)*o,h.b+=(b-h.b)*o}}},e}(as),K3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.rgb+"|"+i,Or.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var v=0,m=0,g=0,_=0,y=0,w=0,b=Fn.search(u,i,7),E=this.curves[b/7];switch(E){case 0:var C=u[b];v=u[b+1],m=u[b+2],g=u[b+3],_=u[b+4],y=u[b+5],w=u[b+6];var A=(i-C)/(u[b+7]-C);v+=(u[b+7+1]-v)*A,m+=(u[b+7+2]-m)*A,g+=(u[b+7+3]-g)*A,_+=(u[b+7+4]-_)*A,y+=(u[b+7+5]-y)*A,w+=(u[b+7+6]-w)*A;break;case 1:v=u[b+1],m=u[b+2],g=u[b+3],_=u[b+4],y=u[b+5],w=u[b+6];break;default:v=this.getBezierValue(i,b,1,E-2),m=this.getBezierValue(i,b,2,E+18-2),g=this.getBezierValue(i,b,3,E+18*2-2),_=this.getBezierValue(i,b,4,E+18*3-2),y=this.getBezierValue(i,b,5,E+18*4-2),w=this.getBezierValue(i,b,6,E+18*5-2)}if(o==1)f.r=v,f.g=m,f.b=g,h.r=_,h.g=y,h.b=w;else{if(s==Z.setup){var p=l.data.color,d=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}f.r+=(v-f.r)*o,f.g+=(m-f.g)*o,f.b+=(g-f.b)*o,h.r+=(_-h.r)*o,h.g+=(y-h.g)*o,h.b+=(w-h.b)*o}}},e}(as),jc=function(t){sr(e,t);function e(r,n){var i=t.call(this,r,[Or.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==Kt.mixOut){s==Z.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[Fn.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(Fn),Z3=function(t){sr(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[Or.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var v=(a-s*2+l)*.03,m=u*.03-c*.06,g=((s-l)*3-a+f)*.006,_=(c-u+.33333333)*.018,y=v*2+g,w=m*2+_,b=(s-a)*.3+v+g*.16666667,E=c*.3+m+_*.16666667,C=a+b,A=E,T=d+18;d<T;d+=2)p[d]=C,p[d+1]=A,b+=y,E+=w,y+=g,w+=_,C+=b,A+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Ns)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;return}f.length=p;var v=u;if(v.bones){o=1-o;for(var g=0;g<p;g++)f[g]*=o}else for(var m=v.vertices,g=0;g<p;g++)f[g]+=(m[g]-f[g])*o}return}if(f.length=p,i>=d[d.length-1]){var _=h[d.length-1];if(o==1)if(s==Z.add){var v=u;if(v.bones)for(var w=0;w<p;w++)f[w]+=_[w];else for(var m=v.vertices,y=0;y<p;y++)f[y]+=_[y]-m[y]}else ye.arrayCopy(_,0,f,0,p);else switch(s){case Z.setup:{var b=u;if(b.bones)for(var A=0;A<p;A++)f[A]=_[A]*o;else for(var m=b.vertices,E=0;E<p;E++){var C=m[E];f[E]=C+(_[E]-C)*o}break}case Z.first:case Z.replace:for(var T=0;T<p;T++)f[T]+=(_[T]-f[T])*o;break;case Z.add:var v=u;if(v.bones)for(var O=0;O<p;O++)f[O]+=_[O]*o;else for(var m=v.vertices,R=0;R<p;R++)f[R]+=(_[R]-m[R])*o}return}var P=Fn.search1(d,i),k=this.getCurvePercent(i,P),L=h[P],B=h[P+1];if(o==1)if(s==Z.add){var v=u;if(v.bones)for(var ee=0;ee<p;ee++){var X=L[ee];f[ee]+=X+(B[ee]-X)*k}else for(var m=v.vertices,U=0;U<p;U++){var X=L[U];f[U]+=X+(B[U]-X)*k-m[U]}}else for(var ne=0;ne<p;ne++){var X=L[ne];f[ne]=X+(B[ne]-X)*k}else switch(s){case Z.setup:{var W=u;if(W.bones)for(var z=0;z<p;z++){var X=L[z];f[z]=(X+(B[z]-X)*k)*o}else for(var m=W.vertices,D=0;D<p;D++){var X=L[D],C=m[D];f[D]=C+(X+(B[D]-X)*k-C)*o}break}case Z.first:case Z.replace:for(var V=0;V<p;V++){var X=L[V];f[V]+=(X+(B[V]-X)*k-f[V])*o}break;case Z.add:var v=u;if(v.bones)for(var ie=0;ie<p;ie++){var X=L[ie];f[ie]+=(X+(B[ie]-X)*k)*o}else for(var m=v.vertices,G=0;G<p;G++){var X=L[G];f[G]+=(X+(B[G]-X)*k-m[G])*o}}}}},e}(as),Pb=function(t){sr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=Fn.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+Or.event],e}(Fn),td=function(t){sr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==Kt.mixOut){s==Z.setup&&ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=Fn.search1(this.frames,i),u=this.drawOrders[l];if(!u)ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)f[p]=h[u[p]]},e.propertyIds=[""+Or.drawOrder],e}(Fn),J3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case Z.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,p=Fn.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+6]-v);f+=(u[p+6+1]-f)*m,h+=(u[p+6+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==Z.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==Kt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==Kt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(as),Q3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case Z.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case Z.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,p,d,v,m,g,_=Fn.search(u,i,7),y=this.curves[_/7];switch(y){case 0:var w=u[_];h=u[_+1],p=u[_+2],d=u[_+3],v=u[_+4],m=u[_+5],g=u[_+6];var b=(i-w)/(u[_+7]-w);h+=(u[_+7+1]-h)*b,p+=(u[_+7+2]-p)*b,d+=(u[_+7+3]-d)*b,v+=(u[_+7+4]-v)*b,m+=(u[_+7+5]-m)*b,g+=(u[_+7+6]-g)*b;break;case 1:h=u[_+1],p=u[_+2],d=u[_+3],v=u[_+4],m=u[_+5],g=u[_+6];break;default:h=this.getBezierValue(i,_,1,y-2),p=this.getBezierValue(i,_,2,y+18-2),d=this.getBezierValue(i,_,3,y+18*2-2),v=this.getBezierValue(i,_,4,y+18*3-2),m=this.getBezierValue(i,_,5,y+18*4-2),g=this.getBezierValue(i,_,6,y+18*5-2)}if(s==Z.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(p-f.mixX)*o,l.mixY=f.mixY+(d-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(m-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(g-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(m-l.mixScaleY)*o,l.mixShearY+=(g-l.mixShearY)*o}},e}(as),e4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.position=l.data.position;return;case Z.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(os),t4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,Or.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.spacing=l.data.spacing;return;case Z.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(os),r4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Or.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case Z.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,p,d=Fn.search(u,i,4),v=this.curves[d>>2];switch(v){case 0:var m=u[d];f=u[d+1],h=u[d+2],p=u[d+3];var g=(i-m)/(u[d+4]-m);f+=(u[d+4+1]-f)*g,h+=(u[d+4+2]-h)*g,p+=(u[d+4+3]-p)*g;break;case 1:f=u[d+1],h=u[d+2],p=u[d+3];break;default:f=this.getBezierValue(i,d,1,v-2),h=this.getBezierValue(i,d,2,v+18-2),p=this.getBezierValue(i,d,3,v+18*2-2)}if(s==Z.setup){var _=l.data;l.mixRotate=_.mixRotate+(f-_.mixRotate)*o,l.mixX=_.mixX+(h-_.mixX)*o,l.mixY=_.mixY+(p-_.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(as),n4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,[Or.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Ns)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==Z.setup||s==Z.first)&&(l.sequenceIndex=-1);return}var p=Fn.search(h,i,e.ENTRIES),d=h[p],v=h[p+e.MODE],m=h[p+e.DELAY];if(this.attachment.sequence){var g=v>>4,_=this.attachment.sequence.regions.length,y=M3[v&15];if(y!=wi.hold)switch(g+=(i-d)/m+1e-5|0,y){case wi.once:g=Math.min(_-1,g);break;case wi.loop:g%=_;break;case wi.pingpong:{var w=(_<<1)-2;g=w==0?0:g%w,g>=_&&(g=w-g);break}case wi.onceReverse:g=Math.max(_-1-g,0);break;case wi.loopReverse:g=_-1-g%_;break;case wi.pingpongReverse:{var w=(_<<1)-2;g=w==0?0:(g+_-1)%w,g>=_&&(g=w-g)}}l.sequenceIndex=g}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(Fn),mY=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new yY(this),this.propertyIDs=new AW,this.animationsChanged=!1,this.trackEntryPool=new Eb(function(){return new _Y}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,v=d.length;if(a==0&&l==1||c==Z.add)for(var m=0;m<v;m++){ye.webkit602BugfixHelper(l,c);var g=d[m];g instanceof jc?this.applyAttachmentTimeline(g,e,h,c,!0):g.apply(e,u,h,p,l,c,Kt.mixIn)}else{var _=s.timelineMode,y=s.shortestRotation,w=!y&&s.timelinesRotation.length!=v<<1;w&&(s.timelinesRotation.length=v<<1);for(var m=0;m<v;m++){var b=d[m],E=_[m]==yC?c:Z.setup;!y&&b instanceof zv?this.applyRotateTimeline(b,e,h,l,E,s.timelinesRotation,m<<1,w):b instanceof jc?this.applyAttachmentTimeline(b,e,h,c,!0):(ye.webkit602BugfixHelper(l,c),b.apply(e,u,h,p,l,E,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+K5,A=e.slots,T=0,R=e.slots.length;T<R;T++){var O=A[T];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,v=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(v=this.events),n==Z.add)for(var m=0;m<l;m++)c[m].apply(r,h,d,v,f,n,Kt.mixOut);else{var g=i.timelineMode,_=i.timelineHoldMix,y=i.shortestRotation,w=!y&&i.timelinesRotation.length!=l<<1;w&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var m=0;m<l;m++){var b=c[m],E=Kt.mixOut,C=void 0,A=0;switch(g[m]){case yC:if(!s&&b instanceof td)continue;C=n,A=f;break;case Y5:C=Z.setup,A=f;break;case q5:C=n,A=u;break;case xC:C=Z.setup,A=u;break;default:C=Z.setup;var T=_[m];A=u*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=A,!y&&b instanceof zv?this.applyRotateTimeline(b,r,d,A,C,i.timelinesRotation,m<<1,w):b instanceof jc?this.applyAttachmentTimeline(b,r,d,C,o):(ye.webkit602BugfixHelper(A,n),s&&b instanceof td&&C==Z.setup&&(E=Kt.mixIn),b.apply(r,h,d,v,A,C,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[Fn.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+K5))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+gGe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case Z.setup:l.rotation=l.data.rotation;default:return;case Z.first:f=l.rotation,h=l.data.rotation}else f=a==Z.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-f;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var v=0,m=0;c?(v=0,m=d):(v=o[s],m=o[s+1]);var g=d>0,_=v>=0;te.signum(m)!=te.signum(d)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*te.signum(v)),_=g),p=d+v-v%360,_!=g&&(p+=360*te.signum(v)),o[s]=p}o[s+1]=d,l.rotation=f+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=Z.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=Z.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?xC:q5;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=yC;else if(!r||l instanceof jc||l instanceof td||l instanceof Pb||!r.animation.hasTimeline(u))a[c]=Y5;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=vGe,o[c]=f;continue e}break}a[c]=xC}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new Ib("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),_Y=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),yY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(pa.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(pa.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(pa.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(pa.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(pa.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(pa.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case pa.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case pa.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case pa.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case pa.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case pa.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case pa.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),pa;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(pa||(pa={}));var pGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),yC=0,Y5=1,q5=2,xC=3,vGe=4,K5=1,gGe=2,xY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),i4=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new N3(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Tb(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new pY(r)},t.prototype.newPathAttachment=function(e,r){return new Xv(r)},t.prototype.newPointAttachment=function(e,r){return new gY(r)},t.prototype.newClippingAttachment=function(e,r){return new vY(r)},t}(),gR=function(){function t(e,r,n){if(this.matrix=new an,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,y=te.cosDeg(p)*a,w=te.sinDeg(n+o)*i,b=te.sinDeg(p)*a;l.a=d*_+v*w,l.c=d*y+v*b,l.b=m*_+g*w,l.d=m*y+g*b;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,d/=u,m/=f,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var A=n+o-C,T=n+s-C+90,_=te.cosDeg(A)*i,y=te.cosDeg(T)*a,w=te.sinDeg(A)*i,b=te.sinDeg(T)*a;l.a=d*_-v*w,l.c=d*y-v*b,l.b=m*_+g*w,l.d=m*y+g*b;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*g-v*m<0!=(u<0!=f<0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,y=te.cosDeg(90+s)*a,w=te.sinDeg(o)*i,b=te.sinDeg(90+s)*a;l.a=P*_+B*w,l.c=P*y+B*b,l.b=k*_+U*w,l.d=k*y+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),a4=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Ob=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),o4=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),s4=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),bY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,v=0,m=e.skeleton.scaleX,g=-e.skeleton.scaleY;switch(e.data.transformMode){case Dt.OnlyTranslation:d=r-e.worldX,v=n-e.worldY,v=-v;break;case Dt.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),y=l/m,w=f/g;u=-w*_*m,h=y*_*g,p+=Math.atan2(w,y)*te.radDeg;default:var b=r-c.tx,E=n-c.ty,C=l*h-u*f;d=(b*h-E*u)/C-e.ax,v=(E*l-b*f)/C-e.ay}p+=Math.atan2(v,d)*te.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var A=e.ascaleX,T=e.ascaleY;if(i||a){switch(e.data.transformMode){case Dt.NoScale:case Dt.NoScaleOrReflection:d=r-e.worldX,v=n-e.worldY}var R=e.data.length*A,O=Math.sqrt(d*d+v*v);if(i&&O<R||a&&O>R&&R>1e-4){var _=(O/R-1)*s+1;A*=_,o&&(T*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,A,T,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,v=p,m=r.ascaleX,g=e.matrix,_=0,y=0,w=0;h<0?(h=-h,_=180,w=-1):(_=0,w=1),p<0&&(p=-p,w=-w),m<0?(m=-m,y=180):y=0;var b=r.ax,E=0,C=0,A=0,T=g.a,R=g.c,O=g.b,P=g.d,k=Math.abs(h-p)<=1e-4;!k||o?(E=0,C=T*b+g.tx,A=O*b+g.ty):(E=r.ay,C=T*b+R*E+g.tx,A=O*b+P*E+g.ty);var L=e.parent.matrix;if(!L)throw new Error("IK parent must itself have a parent.");T=L.a,R=L.c,O=L.b,P=L.d;var B=1/(T*P-R*O),U=C-L.tx,X=A-L.ty,ee=(U*P-X*R)*B-u,ne=(X*T-U*O)*B-f,W=Math.sqrt(ee*ee+ne*ne),D=r.data.length*m,z,V;if(W<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}U=n-L.tx,X=i-L.ty;var G=(U*P-X*R)*B-u,ie=(X*T-U*O)*B-f,se=G*G+ie*ie;if(c!=0){c*=h*(m+1)*.5;var me=Math.sqrt(se),ue=me-W-D*h+c;if(ue>0){var we=Math.min(1,ue/(c*2))-1;we=(ue-c*(1-we*we))/me,G-=we*G,ie-=we*ie,se=G*G+ie*ie}}e:if(k){D*=h;var Be=(se-W*W-D*D)/(2*W*D);Be<-1?(Be=-1,V=Math.PI*a):Be>1?(Be=1,V=0,o&&(T=(Math.sqrt(se)/(W+D)-1)*l+1,d*=T,s&&(v*=T))):V=Math.acos(Be)*a,T=W+D*Be,R=D*Math.sin(V),z=Math.atan2(ie*T-G*R,G*T+ie*R)}else{T=h*D,R=p*D;var Fe=T*T,Ee=R*R,Ae=Math.atan2(ie,G);O=Ee*W*W+Fe*se-Fe*Ee;var Ge=-2*Ee*W,We=Ee-Fe;if(P=Ge*Ge-4*We*O,P>=0){var Ve=Math.sqrt(P);Ge<0&&(Ve=-Ve),Ve=-(Ge+Ve)*.5;var Xe=Ve/We,qe=O/Ve,Et=Math.abs(Xe)<Math.abs(qe)?Xe:qe;if(Et*Et<=se){X=Math.sqrt(se-Et*Et)*a,z=Ae-Math.atan2(X,Et),V=Math.atan2(X/p,(Et-W)/h);break e}}var Rt=te.PI,ft=W-T,ht=ft*ft,St=0,rr=0,Ht=W+T,nr=Ht*Ht,Gt=0;O=-T*W/(Fe-Ee),O>=-1&&O<=1&&(O=Math.acos(O),U=T*Math.cos(O)+W,X=R*Math.sin(O),P=U*U+X*X,P<ht&&(Rt=O,ht=P,ft=U,St=X),P>nr&&(rr=O,nr=P,Ht=U,Gt=X)),se<=(ht+nr)*.5?(z=Ae-Math.atan2(St*a,ft),V=Rt*a):(z=Ae-Math.atan2(Gt*a,Ht),V=rr*a)}var xt=Math.atan2(E,b)*w,Zt=e.arotation;z=(z-xt)*te.radDeg+_-Zt,z>180?z-=360:z<-180&&(z+=360),e.updateWorldTransformWith(u,f,Zt+z*l,d,v,0,0),Zt=r.arotation,V=((V+xt)*te.radDeg-r.ashearX)*w+y-Zt,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(b,E,Zt+V*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),l4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ob),u4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=pn.Fixed,n.spacingMode=ei.Fixed,n.rotateMode=On.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ob),ei;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(ei||(ei={}));var wY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Xv){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==On.Tangent,s=a.rotateMode==On.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=ye.setArraySize(this.spaces,u),h=s?this.lengths=ye.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case ei.Percent:if(s)for(var d=0,v=u-1;d<v;d++){var m=c[d],g=m.data.length;if(g<t.epsilon)h[d]=0;else{var _=g*m.matrix.a,y=g*m.matrix.b;h[d]=Math.sqrt(_*_+y*y)}}ye.arrayFill(f,1,u,p);break;case ei.Proportional:for(var w=0,d=0,v=u-1;d<v;){var m=c[d],g=m.data.length;if(g<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=g*m.matrix.a,y=g*m.matrix.b,b=Math.sqrt(_*_+y*y);s&&(h[d]=b),f[++d]=b,w+=b}}if(w>0){w=u/w*p;for(var d=1;d<u;d++)f[d]*=w}break;default:for(var E=a.spacingMode==ei.Length,d=0,v=u-1;d<v;){var m=c[d],g=m.data.length;if(g<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=g*m.matrix.a,y=g*m.matrix.b,C=Math.sqrt(_*_+y*y);s&&(h[d]=C),f[++d]=(E?g+p:p)*C/g}}}var A=this.computeWorldPositions(e,u,o),T=A[0],R=A[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==On.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?te.degRad:-te.degRad}for(var d=0,k=3;d<l;d++,k+=3){var m=c[d],L=m.matrix;L.tx+=(T-L.tx)*n,L.ty+=(R-L.ty)*i;var _=A[k],y=A[k+1],B=_-T,U=y-R;if(s){var X=h[d];if(X!=0){var ee=(Math.sqrt(B*B+U*U)/X-1)*r+1;L.a*=ee,L.b*=ee}}if(T=_,R=y,r>0){var ne=L.a,W=L.c,D=L.b,z=L.d,V=0,G=0,ie=0;if(o?V=A[k-1]:f[d+1]==0?V=A[k+2]:V=Math.atan2(U,B),V-=Math.atan2(D,ne),P){G=Math.cos(V),ie=Math.sin(V);var se=m.data.length;T+=(se*(G*ne-ie*D)-B)*r,R+=(se*(ie*ne+G*D)-U)*r}else V+=O;V>te.PI?V-=te.PI2:V<-te.PI&&(V+=te.PI2),V*=r,G=Math.cos(V),ie=Math.sin(V),L.a=G*ne-ie*D,L.c=G*W-ie*z,L.b=ie*ne+G*D,L.d=ie*W+G*z}m.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=ye.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;f-=l?1:2;var d=p[f];this.data.positionMode==pn.Percent&&(a*=d);var v;switch(this.data.spacingMode){case ei.Percent:v=d;break;case ei.Proportional:v=d/r;break;default:v=1}c=ye.setArraySize(this.world,8);for(var m=0,g=0,_=0;m<r;m++,g+=3){var y=o[m]*v;a+=y;var w=a;if(l)w%=d,w<0&&(w+=d),_=0;else if(w<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(w,c,0,s,g);continue}else if(w>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(w-d,c,0,s,g);continue}for(;;_++){var b=p[_];if(!(w>b)){if(_==0)w/=b;else{var E=p[_-1];w=(w-E)/(b-E)}break}}_!=h&&(h=_,l&&_==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,_*6+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,g,n||m>0&&y==0)}return s}l?(u+=2,c=ye.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=ye.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=ye.setArraySize(this.curves,f),A=0,T=c[0],R=c[1],O=0,P=0,k=0,L=0,B=0,U=0,X=0,ee=0,ne=0,W=0,D=0,z=0,V=0,G=0,m=0,ie=2;m<f;m++,ie+=6)O=c[ie],P=c[ie+1],k=c[ie+2],L=c[ie+3],B=c[ie+4],U=c[ie+5],X=(T-O*2+k)*.1875,ee=(R-P*2+L)*.1875,ne=((O-k)*3-T+B)*.09375,W=((P-L)*3-R+U)*.09375,D=X*2+ne,z=ee*2+W,V=(O-T)*.75+X+ne*.16666667,G=(P-R)*.75+ee+W*.16666667,A+=Math.sqrt(V*V+G*G),V+=D,G+=z,D+=ne,z+=W,A+=Math.sqrt(V*V+G*G),V+=D,G+=z,A+=Math.sqrt(V*V+G*G),V+=D+ne,G+=z+W,A+=Math.sqrt(V*V+G*G),C[m]=A,T=B,R=U;this.data.positionMode==pn.Percent&&(a*=A);var se;switch(this.data.spacingMode){case ei.Percent:se=A;break;case ei.Proportional:se=A/r;break;default:se=1}for(var me=this.segments,ue=0,m=0,g=0,_=0,we=0;m<r;m++,g+=3){var y=o[m]*se;a+=y;var w=a;if(l)w%=A,w<0&&(w+=A),_=0;else if(w<0){this.addBeforePosition(w,c,0,s,g);continue}else if(w>A){this.addAfterPosition(w-A,c,u-4,s,g);continue}for(;;_++){var Be=C[_];if(!(w>Be)){if(_==0)w/=Be;else{var E=C[_-1];w=(w-E)/(Be-E)}break}}if(_!=h){h=_;var Fe=_*6;for(T=c[Fe],R=c[Fe+1],O=c[Fe+2],P=c[Fe+3],k=c[Fe+4],L=c[Fe+5],B=c[Fe+6],U=c[Fe+7],X=(T-O*2+k)*.03,ee=(R-P*2+L)*.03,ne=((O-k)*3-T+B)*.006,W=((P-L)*3-R+U)*.006,D=X*2+ne,z=ee*2+W,V=(O-T)*.3+X+ne*.16666667,G=(P-R)*.3+ee+W*.16666667,ue=Math.sqrt(V*V+G*G),me[0]=ue,Fe=1;Fe<8;Fe++)V+=D,G+=z,D+=ne,z+=W,ue+=Math.sqrt(V*V+G*G),me[Fe]=ue;V+=D,G+=z,ue+=Math.sqrt(V*V+G*G),me[8]=ue,V+=D+ne,G+=z+W,ue+=Math.sqrt(V*V+G*G),me[9]=ue,we=0}for(w*=ue;;we++){var Ee=me[we];if(!(w>Ee)){if(we==0)w/=Ee;else{var E=me[we-1];w=we+(w-E)/(Ee-E)}break}}this.addCurvePosition(w*.1,T,R,O,P,k,L,B,U,s,g,n||m>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,y=_*3,w=v*y,b=y*e,E=r*g+i*w+o*b+c*d,C=n*g+a*w+s*b+l*d;u[f]=E,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),EY=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor?new rt:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Ns)||!(this.attachment instanceof Ns)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),SY=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Mv,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?te.degRad:-te.degRad,v=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones,_=0,y=g.length;_<y;_++){var w=g[_],b=w.matrix;if(e!=0){var E=b.a,C=b.c,A=b.b,T=b.d,R=Math.atan2(h,u)-Math.atan2(A,E)+v;R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);b.a=O*E-P*A,b.c=O*C-P*T,b.b=P*E+O*A,b.d=P*C+O*T}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=(k.x-b.tx)*r,b.ty+=(k.y-b.ty)*n}if(i!=0){var L=Math.sqrt(b.a*b.a+b.b*b.b);L!=0&&(L=(L+(Math.sqrt(u*u+h*h)-L+this.data.offsetScaleX)*i)/L),b.a*=L,b.b*=L}if(a!=0){var L=Math.sqrt(b.c*b.c+b.d*b.d);L!=0&&(L=(L+(Math.sqrt(f*f+p*p)-L+this.data.offsetScaleY)*a)/L),b.c*=L,b.d*=L}if(o>0){var C=b.c,T=b.d,B=Math.atan2(T,C),R=Math.atan2(p,f)-Math.atan2(h,u)-(B-Math.atan2(b.b,b.a));R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R=B+(R+m)*o;var L=Math.sqrt(C*C+T*T);b.c=Math.cos(R)*L,b.d=Math.sin(R)*L}w.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?te.degRad:-te.degRad,v=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones,_=0,y=g.length;_<y;_++){var w=g[_],b=w.matrix;if(e!=0){var E=b.a,C=b.c,A=b.b,T=b.d,R=Math.atan2(h,u)+v;R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);b.a=O*E-P*A,b.c=O*C-P*T,b.b=P*E+O*A,b.d=P*C+O*T}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=k.x*r,b.ty+=k.y*n}if(i!=0){var L=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=L,b.b*=L}if(a!=0){var L=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*a+1;b.c*=L,b.d*=L}if(o>0){var R=Math.atan2(p,f)-Math.atan2(h,u);R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2);var C=b.c,T=b.d;R=Math.atan2(T,C)+(R-te.PI/2+m)*o;var L=Math.sqrt(C*C+T*T);b.c=Math.cos(R)*L,b.d=Math.sin(R)*L}w.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=f.ax,v=f.ay;d+=(s.ax-d+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var m=f.ascaleX,g=f.ascaleY;i!=0&&m!=0&&(m=(m+(s.ascaleX-m+this.data.offsetScaleX)*i)/m),a!=0&&g!=0&&(g=(g+(s.ascaleY-g+this.data.offsetScaleY)*a)/g);var _=f.ashearY;if(o!=0){var p=s.ashearY-_+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,_+=p*o}f.updateWorldTransformWith(d,v,h,m,g,f.ashearX,_)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,p=f.ax+(s.ax+this.data.offsetX)*r,d=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),m=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),g=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(p,d,h,v,m,f.ashearX,g)}},t}(),CY=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new gR(n,this,null);else{var a=this.bones[n.parent.index];i=new gR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new EY(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new bY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new SY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new wY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var v=s[d];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var d=0;d<f;d++){var v=c[d];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var d=0;d<h;d++){var v=l[d];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Xv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Xv){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=te.cosDeg(r.rotation+r.shearX)*r.scaleX,l=te.cosDeg(s)*r.scaleY,u=te.sinDeg(r.rotation+r.shearX)*r.scaleX,f=te.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*p,r.matrix.d=(a*l+o*f)*p;for(var d=this._updateCache,v=0,m=d.length;v<m;v++){var g=d[v];g!=r&&g.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new Mv,r=new Mv;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof N3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof Tb){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),c4=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),f4=function(){function t(e,r,n){if(this.index=0,this.color=new rt(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ut.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),h4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ob),mR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Sx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof Tb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new mR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new mR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),AY=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new c4;n.name="";var i=new yx(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=f==0?null:n.bones[i.readInt(!0)],v=new a4(f,p,d);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&rt.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var m=i.readString();if(!m)throw new Error("Slot name must not be null.");var g=n.bones[i.readInt(!0)],v=new f4(f,m,g);rt.rgba8888ToColor(v.color,i.readInt32());var _=i.readInt32();_!=-1&&rt.rgb888ToColor(v.darkColor=new rt,_),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var w=i.readString();if(!w)throw new Error("IK constraint data name must not be null.");var v=new l4(w);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var v=new h4(E);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var v=new u4(C);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==pn.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==ei.Length||v.spacingMode==ei.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var A=this.readSkin(i,n,!0,l);A&&(n.defaultSkin=A,n.skins.push(A));{var f=n.skins.length;for(ye.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var T=this.readSkin(i,n,!1,l);if(!T)throw new Error("readSkin() should not have returned null.");n.skins[f]=T}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var R=this.linkedMeshes[f],T=R.skin?n.findSkin(R.skin):n.defaultSkin;if(!T)throw new Error("Not skin found for linked mesh.");if(!R.parent)throw new Error("Linked mesh parent must not be null");var O=T.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error("Parent mesh not found: "+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var v=new s4(P);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Sx("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Sx(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case er.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),v=e.readFloat(),m=e.readFloat(),g=e.readInt32(),_=this.readSequence(e);l||(l=c);var y=this.attachmentLoader.newRegionAttachment(n,c,l,_);return y?(y.path=l,y.x=f*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=v*s,y.height=m*s,rt.rgba8888ToColor(y.color,g),y.sequence=_,_==null&&y.updateRegion(),y):null}case er.BoundingBox:{var w=e.readInt(!0),b=this.readVertices(e,w),g=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,c);return E?(E.worldVerticesLength=w<<1,E.vertices=b.vertices,E.bones=b.bones,o&&rt.rgba8888ToColor(E.color,g),E):null}case er.Mesh:{var l=e.readStringRef(),g=e.readInt32(),w=e.readInt(!0),C=this.readFloatArray(e,w<<1,1),A=this.readShortArray(e),b=this.readVertices(e,w),T=e.readInt(!0),_=this.readSequence(e),R=[],v=0,m=0;o&&(R=this.readShortArray(e),v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,g),O.bones=b.bones,O.vertices=b.vertices,O.worldVerticesLength=w<<1,O.triangles=A,O.regionUVs=new Float32Array(C),O.hullLength=T<<1,O.sequence=_,o&&(O.edges=R,O.width=v*s,O.height=m*s),O):null}case er.LinkedMesh:{var l=e.readStringRef(),g=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),L=e.readBoolean(),_=this.readSequence(e),v=0,m=0;o&&(v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,g),O.sequence=_,o&&(O.width=v*s,O.height=m*s),this.linkedMeshes.push(new mGe(O,P,i,k,L)),O):null}case er.Path:{for(var B=e.readBoolean(),U=e.readBoolean(),w=e.readInt(!0),b=this.readVertices(e,w),X=ye.newArray(w/3,0),ee=0,ne=X.length;ee<ne;ee++)X[ee]=e.readFloat()*s;var g=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=B,l.constantSpeed=U,l.worldVerticesLength=w<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=X,o&&rt.rgba8888ToColor(l.color,g),l):null}case er.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),g=o?e.readInt32():0,W=this.attachmentLoader.newPointAttachment(n,c);return W?(W.x=f*s,W.y=h*s,W.rotation=u,o&&rt.rgba8888ToColor(W.color,g),W):null}case er.Clipping:{var D=e.readInt(!0),w=e.readInt(!0),b=this.readVertices(e,w),g=o?e.readInt32():0,z=this.attachmentLoader.newClippingAttachment(n,c);return z?(z.endSlot=r.slots[D],z.worldVerticesLength=w<<1,z.vertices=b.vertices,z.bones=b.bones,o&&rt.rgba8888ToColor(z.color,g),z):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new L3(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?Z5:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new _Ge;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=ye.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),p=h-1;switch(f){case RGe:{for(var d=new jc(h,c),v=0;v<h;v++)d.setFrame(v,e.readFloat(),e.readStringRef());i.push(d);break}case PGe:{for(var m=e.readInt(!0),d=new z3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,y,w,b),v!=p;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,_,A,1),br(e,d,E++,v,1,g,C,y,T,1),br(e,d,E++,v,2,g,C,w,R,1),br(e,d,E++,v,3,g,C,b,O,1)}g=C,_=A,y=T,w=R,b=O}i.push(d);break}case OGe:{for(var m=e.readInt(!0),d=new W3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,y,w),v!=p;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,_,A,1),br(e,d,E++,v,1,g,C,y,T,1),br(e,d,E++,v,2,g,C,w,R,1)}g=C,_=A,y=T,w=R}i.push(d);break}case kGe:{for(var m=e.readInt(!0),d=new q3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,y,w,b,A,T,R),v!=p;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,_,P,1),br(e,d,E++,v,1,g,C,y,k,1),br(e,d,E++,v,2,g,C,w,L,1),br(e,d,E++,v,3,g,C,b,B,1),br(e,d,E++,v,4,g,C,A,U,1),br(e,d,E++,v,5,g,C,T,X,1),br(e,d,E++,v,6,g,C,R,ee,1)}g=C,_=P,y=k,w=L,b=B,A=U,T=X,R=ee}i.push(d);break}case FGe:{for(var m=e.readInt(!0),d=new K3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,y,w,A,T,R),v!=p;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,_,P,1),br(e,d,E++,v,1,g,C,y,k,1),br(e,d,E++,v,2,g,C,w,L,1),br(e,d,E++,v,3,g,C,A,U,1),br(e,d,E++,v,4,g,C,T,X,1),br(e,d,E++,v,5,g,C,R,ee,1)}g=C,_=P,y=k,w=L,A=U,T=X,R=ee}i.push(d);break}case NGe:{for(var d=new Y3(h,e.readInt(!0),c),g=e.readFloat(),b=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,b),v!=p;v++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,b,O,1)}g=C,b=O}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var ne=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var W=e.readByte(),h=e.readInt(!0),m=e.readInt(!0);switch(W){case yGe:i.push(nl(e,new zv(h,m,ne),1));break;case xGe:i.push(bC(e,new B3(h,m,ne),a));break;case bGe:i.push(nl(e,new D3(h,m,ne),a));break;case wGe:i.push(nl(e,new U3(h,m,ne),a));break;case EGe:i.push(bC(e,new j3(h,m,ne),1));break;case SGe:i.push(nl(e,new $3(h,m,ne),1));break;case CGe:i.push(nl(e,new G3(h,m,ne),1));break;case AGe:i.push(bC(e,new V3(h,m,ne),1));break;case TGe:i.push(nl(e,new H3(h,m,ne),1));break;case IGe:i.push(nl(e,new X3(h,m,ne),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var D=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new J3(h,e.readInt(!0),D),g=e.readFloat(),z=e.readFloat(),V=e.readFloat()*a,v=0,E=0;d.setFrame(v,g,z,V,e.readByte(),e.readBoolean(),e.readBoolean()),v!=p;v++){var C=e.readFloat(),G=e.readFloat(),ie=e.readFloat()*a;switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,z,G,1),br(e,d,E++,v,1,g,C,V,ie,a)}g=C,z=G,V=ie}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var D=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new Q3(h,e.readInt(!0),D),g=e.readFloat(),se=e.readFloat(),me=e.readFloat(),ue=e.readFloat(),we=e.readFloat(),Be=e.readFloat(),Fe=e.readFloat(),v=0,E=0;d.setFrame(v,g,se,me,ue,we,Be,Fe),v!=p;v++){var C=e.readFloat(),Ee=e.readFloat(),Ae=e.readFloat(),Ge=e.readFloat(),We=e.readFloat(),Ve=e.readFloat(),Xe=e.readFloat();switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,se,Ee,1),br(e,d,E++,v,1,g,C,me,Ae,1),br(e,d,E++,v,2,g,C,ue,Ge,1),br(e,d,E++,v,3,g,C,we,We,1),br(e,d,E++,v,4,g,C,Be,Ve,1),br(e,d,E++,v,5,g,C,Fe,Xe,1)}g=C,se=Ee,me=Ae,ue=Ge,we=We,Be=Ve,Fe=Xe}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var D=e.readInt(!0),qe=n.pathConstraints[D],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case MGe:i.push(nl(e,new e4(e.readInt(!0),e.readInt(!0),D),qe.positionMode==pn.Fixed?a:1));break;case BGe:i.push(nl(e,new t4(e.readInt(!0),e.readInt(!0),D),qe.spacingMode==ei.Length||qe.spacingMode==ei.Fixed?a:1));break;case DGe:for(var d=new r4(e.readInt(!0),e.readInt(!0),D),g=e.readFloat(),se=e.readFloat(),me=e.readFloat(),ue=e.readFloat(),v=0,E=0,p=d.getFrameCount()-1;d.setFrame(v,g,se,me,ue),v!=p;v++){var C=e.readFloat(),Ee=e.readFloat(),Ae=e.readFloat(),Ge=e.readFloat();switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,se,Ee,1),br(e,d,E++,v,1,g,C,me,Ae,1),br(e,d,E++,v,2,g,C,ue,Ge,1)}g=C,se=Ee,me=Ae,ue=Ge}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Et=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),Rt=0,ft=e.readInt(!0);Rt<ft;Rt++){var ht=e.readStringRef();if(!ht)throw new Error("attachmentName must not be null.");var St=Et.getAttachment(c,ht),f=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(f){case Z5:{for(var rr=St,Ht=rr.bones,nr=rr.vertices,Gt=Ht?nr.length/3*2:nr.length,m=e.readInt(!0),d=new Z3(h,m,c,rr),g=e.readFloat(),v=0,E=0;;v++){var xt=void 0,Zt=e.readInt(!0);if(Zt==0)xt=Ht?ye.newFloatArray(Gt):nr;else{xt=ye.newFloatArray(Gt);var Oe=e.readInt(!0);if(Zt+=Oe,a==1)for(var j=Oe;j<Zt;j++)xt[j]=e.readFloat();else for(var j=Oe;j<Zt;j++)xt[j]=e.readFloat()*a;if(!Ht)for(var j=0,de=xt.length;j<de;j++)xt[j]+=nr[j]}if(d.setFrame(v,g,xt),v==p)break;var C=e.readFloat();switch(e.readByte()){case Do:d.setStepped(v);break;case Uo:br(e,d,E++,v,0,g,C,0,1,1)}g=C}i.push(d);break}case LGe:{for(var d=new n4(h,c,St),v=0;v<h;v++){var g=e.readFloat(),Se=e.readInt32();d.setFrame(v,g,M3[Se&15],Se>>4,e.readFloat())}i.push(d);break}}}var ke=e.readInt(!0);if(ke>0){for(var d=new td(ke),ae=n.slots.length,o=0;o<ke;o++){for(var g=e.readFloat(),Ie=e.readInt(!0),H=ye.newArray(ae,0),l=ae-1;l>=0;l--)H[l]=-1;for(var Ue=ye.newArray(ae-Ie,0),pt=0,F=0,l=0;l<Ie;l++){for(var c=e.readInt(!0);pt!=c;)Ue[F++]=pt++;H[pt+e.readInt(!0)]=pt++}for(;pt<ae;)Ue[F++]=pt++;for(var l=ae-1;l>=0;l--)H[l]==-1&&(H[l]=Ue[--F]);d.setFrame(o,g,H)}i.push(d)}var Re=e.readInt(!0);if(Re>0){for(var d=new Pb(Re),o=0;o<Re;o++){var g=e.readFloat(),Pe=n.events[e.readInt(!0)],q=new o4(g,Pe);q.intValue=e.readInt(!1),q.floatValue=e.readFloat(),q.stringValue=e.readBoolean()?e.readString():Pe.stringValue,q.data.audioPath&&(q.volume=e.readFloat(),q.balance=e.readFloat()),d.setFrame(o,q)}i.push(d)}for(var le=0,o=0,s=i.length;o<s;o++)le=Math.max(le,i[o].getDuration());return new Ib(r,i,le)},t.BlendModeValues=[ut.NORMAL,ut.ADD,ut.MULTIPLY,ut.SCREEN],t}(),mGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),_Ge=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function nl(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Do:e.setStepped(a);break;case Uo:br(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function bC(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case Do:e.setStepped(o);break;case Uo:br(t,e,s++,o,0,n,l,i,u,r),br(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function br(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var yGe=0,xGe=1,bGe=2,wGe=3,EGe=4,SGe=5,CGe=6,AGe=7,TGe=8,IGe=9,RGe=0,PGe=1,OGe=2,kGe=3,FGe=4,NGe=5,Z5=0,LGe=1,MGe=0,BGe=1,DGe=2,Do=1,Uo=2,UGe=function(t){sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(h3),TY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new c4,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=Te(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new a4(n.bones.length,l.name,u);h.length=Te(l,"length",0)*r,h.x=Te(l,"x",0)*r,h.y=Te(l,"y",0)*r,h.rotation=Te(l,"rotation",0),h.scaleX=Te(l,"scaleX",1),h.scaleY=Te(l,"scaleY",1),h.shearX=Te(l,"shearX",0),h.shearY=Te(l,"shearY",0),h.transformMode=ye.enumValue(Dt,Te(l,"transform","Normal")),h.skinRequired=Te(l,"skin",!1);var p=Te(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var d=i.slots[c],v=n.findBone(d.bone);if(!v)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new f4(n.slots.length,d.name,v),p=Te(d,"color",null);p&&h.color.setFromString(p);var m=Te(d,"dark",null);m&&(h.darkColor=rt.fromString(m)),h.attachmentName=Te(d,"attachment",null),h.blendMode=t.blendModeFromString(Te(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var g=i.ik[c],h=new l4(g.name);h.order=Te(g,"order",0),h.skinRequired=Te(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var y=g.bones[_],w=n.findBone(y);if(w==null)throw new Error("IK bone not found: "+y);h.bones.push(w)}h.target=n.findBone(g.target),h.mix=Te(g,"mix",1),h.softness=Te(g,"softness",0)*r,h.bendDirection=Te(g,"bendPositive",!0)?1:-1,h.compress=Te(g,"compress",!1),h.stretch=Te(g,"stretch",!1),h.uniform=Te(g,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var g=i.transform[c],h=new h4(g.name);h.order=Te(g,"order",0),h.skinRequired=Te(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var y=g.bones[_],w=n.findBone(y);if(!w)throw new Error("Couldn't find bone "+y+" for transform constraint "+g.name+".");h.bones.push(w)}var b=g.target,E=n.findBone(b);if(!E)throw new Error("Couldn't find target bone "+b+" for transform constraint "+g.name+".");h.target=E,h.local=Te(g,"local",!1),h.relative=Te(g,"relative",!1),h.offsetRotation=Te(g,"rotation",0),h.offsetX=Te(g,"x",0)*r,h.offsetY=Te(g,"y",0)*r,h.offsetScaleX=Te(g,"scaleX",0),h.offsetScaleY=Te(g,"scaleY",0),h.offsetShearY=Te(g,"shearY",0),h.mixRotate=Te(g,"mixRotate",1),h.mixX=Te(g,"mixX",1),h.mixY=Te(g,"mixY",h.mixX),h.mixScaleX=Te(g,"mixScaleX",1),h.mixScaleY=Te(g,"mixScaleY",h.mixScaleX),h.mixShearY=Te(g,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var g=i.path[c],h=new u4(g.name);h.order=Te(g,"order",0),h.skinRequired=Te(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var y=g.bones[_],w=n.findBone(y);if(!w)throw new Error("Couldn't find bone "+y+" for path constraint "+g.name+".");h.bones.push(w)}var b=g.target,E=n.findSlot(b);if(!E)throw new Error("Couldn't find target slot "+b+" for path constraint "+g.name+".");h.target=E,h.positionMode=ye.enumValue(pn,Te(g,"positionMode","Percent")),h.spacingMode=ye.enumValue(ei,Te(g,"spacingMode","Length")),h.rotateMode=ye.enumValue(On,Te(g,"rotateMode","Tangent")),h.offsetRotation=Te(g,"rotation",0),h.position=Te(g,"position",0),h.positionMode==pn.Fixed&&(h.position*=r),h.spacing=Te(g,"spacing",0),(h.spacingMode==ei.Length||h.spacingMode==ei.Fixed)&&(h.spacing*=r),h.mixRotate=Te(g,"mixRotate",1),h.mixX=Te(g,"mixX",1),h.mixY=Te(g,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],A=new Sx(C.name);if(C.bones)for(var _=0;_<C.bones.length;_++){var y=C.bones[_],w=n.findBone(y);if(!w)throw new Error("Couldn't find bone "+y+" for skin "+C.name+".");A.bones.push(w)}if(C.ik)for(var _=0;_<C.ik.length;_++){var T=C.ik[_],R=n.findIkConstraint(T);if(!R)throw new Error("Couldn't find IK constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}if(C.transform)for(var _=0;_<C.transform.length;_++){var T=C.transform[_],R=n.findTransformConstraint(T);if(!R)throw new Error("Couldn't find transform constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}if(C.path)for(var _=0;_<C.path.length;_++){var T=C.path[_],R=n.findPathConstraint(T);if(!R)throw new Error("Couldn't find path constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var d=C.attachments[O];for(var k in d){var L=this.readAttachment(d[k],A,P.index,k,n);L&&A.setAttachment(P.index,k,L)}}n.skins.push(A),A.name=="default"&&(n.defaultSkin=A)}for(var c=0,B=this.linkedMeshes.length;c<B;c++){var U=this.linkedMeshes[c],A=U.skin?n.findSkin(U.skin):n.defaultSkin;if(!A)throw new Error("Skin not found: "+U.skin);var X=A.getAttachment(U.slotIndex,U.parent);if(!X)throw new Error("Parent mesh not found: "+U.parent);U.mesh.timelineAttachment=U.inheritTimeline?X:U.mesh,U.mesh.setParentMesh(X)}if(this.linkedMeshes.length=0,i.events)for(var ee in i.events){var ne=i.events[ee],h=new s4(ee);h.intValue=Te(ne,"int",0),h.floatValue=Te(ne,"float",0),h.stringValue=Te(ne,"string",""),h.audioPath=Te(ne,"audio",null),h.audioPath&&(h.volume=Te(ne,"volume",1),h.balance=Te(ne,"balance",0)),n.events.push(h)}if(i.animations)for(var W in i.animations){var D=i.animations[W];this.readAnimation(D,W,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=Te(e,"name",i),Te(e,"type","region")){case"region":{var s=Te(e,"path",i),c=this.readSequence(Te(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=Te(e,"x",0)*o,l.y=Te(e,"y",0)*o,l.scaleX=Te(e,"scaleX",1),l.scaleY=Te(e,"scaleY",1),l.rotation=Te(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=Te(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=Te(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=Te(e,"path",i),c=this.readSequence(Te(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=Te(e,"color",null);u&&h.color.setFromString(u),h.width=Te(e,"width",0)*o,h.height=Te(e,"height",0)*o,h.sequence=c;var p=Te(e,"parent",null);if(p)return this.linkedMeshes.push(new jGe(h,Te(e,"skin",null),n,p,Te(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=Te(e,"edges",null),h.hullLength=Te(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=Te(e,"closed",!1),s.constantSpeed=Te(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;s.lengths=m;var u=Te(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(!_)return null;_.x=Te(e,"x",0)*o,_.y=Te(e,"y",0)*o,_.rotation=Te(e,"rotation",0);var u=Te(e,"color",null);return u&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var w=Te(e,"end",null);if(w!=null){var b=a.findSlot(w);if(b==null)throw new Error("Clipping end slot not found: "+w);y.endSlot=b}var v=e.vertexCount;this.readVertices(e,y,v<<1);var u=Te(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new L3(Te(e,"count",0));return r.start=Te(e,"start",1),r.digits=Te(e,"digits",0),r.setupIndex=Te(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var p=new jc(h,l),d=0;d<h;d++){var v=f[d];p.setFrame(d,Te(v,"time",0),Te(v,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new z3(h,h<<2,l),v=f[0],m=Te(v,"time",0),g=rt.fromString(v.color),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,g.a);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),b=rt.fromString(y.color),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,g.r,b.r,1),_=Sr(E,p,_,d,1,m,w,g.g,b.g,1),_=Sr(E,p,_,d,2,m,w,g.b,b.b,1),_=Sr(E,p,_,d,3,m,w,g.a,b.a,1)),m=w,g=b,v=y}a.push(p)}else if(u=="rgb"){for(var p=new W3(h,h*3,l),v=f[0],m=Te(v,"time",0),g=rt.fromString(v.color),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),b=rt.fromString(y.color),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,g.r,b.r,1),_=Sr(E,p,_,d,1,m,w,g.g,b.g,1),_=Sr(E,p,_,d,2,m,w,g.b,b.b,1)),m=w,g=b,v=y}a.push(p)}else if(u=="alpha")a.push(hs(f,new Y3(h,h,l),0,1));else if(u=="rgba2"){for(var p=new q3(h,h*7,l),v=f[0],m=Te(v,"time",0),g=rt.fromString(v.light),C=rt.fromString(v.dark),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,g.a,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),b=rt.fromString(y.light),A=rt.fromString(y.dark),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,g.r,b.r,1),_=Sr(E,p,_,d,1,m,w,g.g,b.g,1),_=Sr(E,p,_,d,2,m,w,g.b,b.b,1),_=Sr(E,p,_,d,3,m,w,g.a,b.a,1),_=Sr(E,p,_,d,4,m,w,C.r,A.r,1),_=Sr(E,p,_,d,5,m,w,C.g,A.g,1),_=Sr(E,p,_,d,6,m,w,C.b,A.b,1)),m=w,g=b,C=A,v=y}a.push(p)}else if(u=="rgb2"){for(var p=new K3(h,h*6,l),v=f[0],m=Te(v,"time",0),g=rt.fromString(v.light),C=rt.fromString(v.dark),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),b=rt.fromString(y.light),A=rt.fromString(y.dark),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,g.r,b.r,1),_=Sr(E,p,_,d,1,m,w,g.g,b.g,1),_=Sr(E,p,_,d,2,m,w,g.b,b.b,1),_=Sr(E,p,_,d,3,m,w,C.r,A.r,1),_=Sr(E,p,_,d,4,m,w,C.g,A.g,1),_=Sr(E,p,_,d,5,m,w,C.b,A.b,1)),m=w,g=b,C=A,v=y}a.push(p)}}}}if(e.bones)for(var T in e.bones){var R=e.bones[T],O=n.findBone(T);if(!O)throw new Error("Bone not found: "+T);var P=O.index;for(var u in R){var f=R[u],k=f.length;if(k!=0){if(u==="rotate")a.push(hs(f,new zv(k,k,P),0,1));else if(u==="translate"){var p=new B3(k,k<<1,P);a.push(wC(f,p,"x","y",0,i))}else if(u==="translatex"){var p=new D3(k,k,P);a.push(hs(f,p,0,i))}else if(u==="translatey"){var p=new U3(k,k,P);a.push(hs(f,p,0,i))}else if(u==="scale"){var p=new j3(k,k<<1,P);a.push(wC(f,p,"x","y",1,1))}else if(u==="scalex"){var p=new $3(k,k,P);a.push(hs(f,p,1,1))}else if(u==="scaley"){var p=new G3(k,k,P);a.push(hs(f,p,1,1))}else if(u==="shear"){var p=new V3(k,k<<1,P);a.push(wC(f,p,"x","y",0,1))}else if(u==="shearx"){var p=new H3(k,k,P);a.push(hs(f,p,0,1))}else if(u==="sheary"){var p=new X3(k,k,P);a.push(hs(f,p,0,1))}}}}if(e.ik)for(var L in e.ik){var B=e.ik[L],v=B[0];if(v){var U=n.findIkConstraint(L);if(!U)throw new Error("IK Constraint not found: "+L);for(var X=n.ikConstraints.indexOf(U),p=new J3(B.length,B.length<<1,X),m=Te(v,"time",0),ee=Te(v,"mix",1),ne=Te(v,"softness",0)*i,d=0,_=0;;d++){p.setFrame(d,m,ee,ne,Te(v,"bendPositive",!0)?1:-1,Te(v,"compress",!1),Te(v,"stretch",!1));var y=B[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),W=Te(y,"mix",1),D=Te(y,"softness",0)*i,E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,ee,W,1),_=Sr(E,p,_,d,1,m,w,ne,D,i)),m=w,ee=W,ne=D,v=y}a.push(p)}}if(e.transform)for(var L in e.transform){var f=e.transform[L],v=f[0];if(v){var U=n.findTransformConstraint(L);if(!U)throw new Error("Transform constraint not found: "+L);for(var X=n.transformConstraints.indexOf(U),p=new Q3(f.length,f.length*6,X),m=Te(v,"time",0),z=Te(v,"mixRotate",1),V=Te(v,"mixX",1),G=Te(v,"mixY",V),ie=Te(v,"mixScaleX",1),se=Te(v,"mixScaleY",ie),me=Te(v,"mixShearY",1),d=0,_=0;;d++){p.setFrame(d,m,z,V,G,ie,se,me);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),ue=Te(y,"mixRotate",1),we=Te(y,"mixX",1),Be=Te(y,"mixY",we),Fe=Te(y,"mixScaleX",1),Ee=Te(y,"mixScaleY",Fe),Ae=Te(y,"mixShearY",1),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,z,ue,1),_=Sr(E,p,_,d,1,m,w,V,we,1),_=Sr(E,p,_,d,2,m,w,G,Be,1),_=Sr(E,p,_,d,3,m,w,ie,Fe,1),_=Sr(E,p,_,d,4,m,w,se,Ee,1),_=Sr(E,p,_,d,5,m,w,me,Ae,1)),m=w,z=ue,V=we,G=Be,ie=Fe,se=Ee,ie=Fe,v=y}a.push(p)}}if(e.path)for(var L in e.path){var B=e.path[L],U=n.findPathConstraint(L);if(!U)throw new Error("Path constraint not found: "+L);var X=n.pathConstraints.indexOf(U);for(var u in B){var f=B[u],v=f[0];if(v){var Ge=f.length;if(u==="position"){var p=new e4(Ge,Ge,X);a.push(hs(f,p,0,U.positionMode==pn.Fixed?i:1))}else if(u==="spacing"){var p=new t4(Ge,Ge,X);a.push(hs(f,p,0,U.spacingMode==ei.Length||U.spacingMode==ei.Fixed?i:1))}else if(u==="mix"){for(var p=new r4(Ge,Ge*3,X),m=Te(v,"time",0),z=Te(v,"mixRotate",1),V=Te(v,"mixX",1),G=Te(v,"mixY",V),d=0,_=0;;d++){p.setFrame(d,m,z,V,G);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),ue=Te(y,"mixRotate",1),we=Te(y,"mixX",1),Be=Te(y,"mixY",we),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,z,ue,1),_=Sr(E,p,_,d,1,m,w,V,we,1),_=Sr(E,p,_,d,2,m,w,G,Be,1)),m=w,z=ue,V=we,G=Be,v=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var We in e.deform){var Ve=e.deform[We],Xe=e.attachments[We]={};for(var o in Ve){var s=Ve[o],qe=Xe[o]={};for(var Et in s)qe[Et]={deform:s[Et]}}}}if(e.attachments)for(var Rt in e.attachments){var ft=e.attachments[Rt],ht=n.findSkin(Rt);if(ht!=null)for(var St in ft){var s=ft[St],c=n.findSlot(St);if(!c)throw new Error("Slot not found: "+St);var l=c.index;for(var rr in s){var Ht=s[rr],nr=ht.getAttachment(l,rr);for(var Gt in Ht){var f=Ht[Gt],v=f[0];if(v){if(Gt=="deform"){for(var xt=nr.bones,Zt=nr.vertices,Oe=xt?Zt.length/3*2:Zt.length,p=new Z3(f.length,f.length,l,nr),m=Te(v,"time",0),d=0,_=0;;d++){var j=void 0,de=Te(v,"vertices",null);if(!de)j=xt?ye.newFloatArray(Oe):Zt;else{j=ye.newFloatArray(Oe);var Se=Te(v,"offset",0);if(ye.arrayCopy(de,0,j,Se,de.length),i!=1)for(var ke=Se,ae=ke+de.length;ke<ae;ke++)j[ke]*=i;if(!xt)for(var ke=0;ke<Oe;ke++)j[ke]+=Zt[ke]}p.setFrame(d,m,j);var y=f[d+1];if(!y){p.shrink(_);break}var w=Te(y,"time",0),E=v.curve;E&&(_=Sr(E,p,_,d,0,m,w,0,1,1)),m=w,v=y}a.push(p)}else if(Gt=="sequence"){for(var p=new n4(f.length,l,nr),Ie=0,d=0;d<f.length;d++){var H=Te(v,"delay",Ie),m=Te(v,"time",0),Ue=wi[Te(v,"mode","hold")],pt=Te(v,"index",0);p.setFrame(d,m,Ue,pt,H),Ie=H,v=f[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new td(e.drawOrder.length),F=n.slots.length,d=0,ke=0;ke<e.drawOrder.length;ke++,d++){var Re=e.drawOrder[ke],Pe=null,q=Te(Re,"offsets",null);if(q){Pe=ye.newArray(F,-1);for(var le=ye.newArray(F-q.length,0),Ce=0,dt=0,Qe=0;Qe<q.length;Qe++){var ot=q[Qe],c=n.findSlot(ot.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Ce!=l;)le[dt++]=Ce++;Pe[Ce+ot.offset]=Ce++}for(;Ce<F;)le[dt++]=Ce++;for(var Qe=F-1;Qe>=0;Qe--)Pe[Qe]==-1&&(Pe[Qe]=le[--dt])}p.setFrame(d,Te(Re,"time",0),Pe)}a.push(p)}if(e.events){for(var p=new Pb(e.events.length),d=0,ke=0;ke<e.events.length;ke++,d++){var Ft=e.events[ke],Ln=n.findEvent(Ft.name);if(!Ln)throw new Error("Event not found: "+Ft.name);var lr=new o4(ye.toSinglePrecision(Te(Ft,"time",0)),Ln);lr.intValue=Te(Ft,"int",Ln.intValue),lr.floatValue=Te(Ft,"float",Ln.floatValue),lr.stringValue=Te(Ft,"string",Ln.stringValue),lr.data.audioPath&&(lr.volume=Te(Ft,"volume",1),lr.balance=Te(Ft,"balance",0)),p.setFrame(d,lr)}a.push(p)}for(var Ct=0,ke=0,ae=a.length;ke<ae;ke++)Ct=Math.max(Ct,a[ke].getDuration());if(isNaN(Ct))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Ib(r,a,Ct))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ut.NORMAL;if(e=="additive")return ut.ADD;if(e=="multiply")return ut.MULTIPLY;if(e=="screen")return ut.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),jGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function hs(t,e,r,n){for(var i=t[0],a=Te(i,"time",0),o=Te(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=Te(l,"time",0),f=Te(l,"value",r)*n;i.curve&&(s=Sr(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function wC(t,e,r,n,i,a){for(var o=t[0],s=Te(o,"time",0),c=Te(o,r,i)*a,l=Te(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var p=Te(h,"time",0),d=Te(h,r,i)*a,v=Te(h,n,i)*a,m=o.curve;m&&(u=Sr(m,e,u,f,0,s,p,c,d,a),u=Sr(m,e,u,f,1,s,p,l,v,a)),s=p,c=d,l=v,o=h}}function Sr(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,p,d,o,c),r+1}function Te(t,e,r){return t[e]!==void 0?t[e]:r}var $Ge=function(t){sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new CY(r),this.skeleton.updateWorldTransform(),this.stateData=new xY(r),this.state=new mY(this.stateData)},e}(Eg);const GGe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:Y3,Animation:Ib,AnimationState:mY,AnimationStateAdapter:pGe,AnimationStateData:xY,AtlasAttachmentLoader:i4,Attachment:F3,AttachmentTimeline:jc,Bone:gR,BoneData:a4,BoundingBoxAttachment:pY,ClippingAttachment:vY,ConstraintData:Ob,CurveTimeline:as,CurveTimeline1:os,CurveTimeline2:Rb,DeformTimeline:Z3,DrawOrderTimeline:td,Event:o4,EventData:s4,EventQueue:yY,EventTimeline:Pb,get EventType(){return pa},IkConstraint:bY,IkConstraintData:l4,IkConstraintTimeline:J3,MeshAttachment:Tb,PathAttachment:Xv,PathConstraint:wY,PathConstraintData:u4,PathConstraintMixTimeline:r4,PathConstraintPositionTimeline:e4,PathConstraintSpacingTimeline:t4,PointAttachment:gY,RGB2Timeline:K3,RGBA2Timeline:q3,RGBATimeline:z3,RGBTimeline:W3,RegionAttachment:N3,RotateTimeline:zv,ScaleTimeline:j3,ScaleXTimeline:$3,ScaleYTimeline:G3,Sequence:L3,get SequenceMode(){return wi},SequenceModeValues:M3,SequenceTimeline:n4,ShearTimeline:V3,ShearXTimeline:H3,ShearYTimeline:X3,Skeleton:CY,SkeletonBinary:AY,SkeletonBounds:UGe,SkeletonData:c4,SkeletonJson:TY,Skin:Sx,SkinEntry:mR,Slot:EY,SlotData:f4,get SpacingMode(){return ei},Spine:$Ge,Timeline:Fn,TrackEntry:_Y,TransformConstraint:SY,TransformConstraintData:h4,TransformConstraintTimeline:Q3,TranslateTimeline:B3,TranslateXTimeline:D3,TranslateYTimeline:U3,VertexAttachment:Ns},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _R=function(t,e){return _R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_R(t,e)};function IY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_R(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ti;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(ti||(ti={}));function Cx(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?ti.VER37:e==="3.8"?ti.VER38:e==="4.0"?ti.VER40:e==="4.1"?ti.VER41:r<ti.VER37?ti.VER37:ti.UNKNOWN}var VGe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Cx(i);if(a===ti.VER38&&(n=new UW(new x3(e))),i=this.readVersionNewFormat(r),a=Cx(i),(a===ti.VER40||a===ti.VER41)&&(n=new AY(new i4(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new yx(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new yx(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),HGe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Cx(n),a=null;if(i===ti.VER37&&(a=new dY(new QW(e))),i===ti.VER38&&(a=new jW(new x3(e))),(i===ti.VER40||i===ti.VER41)&&(a=new TY(new i4(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),XGe=function(t){IY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new VGe},e.prototype.createJsonParser=function(){return new HGe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Fa.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(K$e),zGe=function(t){IY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Cx(r.version),i=null;if(n===ti.VER37&&(i=dGe),n===ti.VER38&&(i=oGe),(n===ti.VER40||n===ti.VER41)&&(i=GGe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Eg);XGe.registerLoaderPlugin();var RY={exports:{}},EC={},J5;function zu(){return J5||(J5=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)r(s,c)&&(a[c]=s[c])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,c,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+c),l);return}for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,c,l,u,f;for(c=0,o=0,s=a.length;o<s;o++)c+=a[o].length;for(f=new Uint8Array(c),l=0,o=0,s=a.length;o<s;o++)u=a[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(a,o,s,c,l){for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(EC)),EC}var ah={},Lo={},fc={},Q5;function WGe(){if(Q5)return fc;Q5=1;var t=zu(),e=4,r=0,n=1,i=2;function a(j){for(var de=j.length;--de>=0;)j[de]=0}var o=0,s=1,c=2,l=3,u=258,f=29,h=256,p=h+1+f,d=30,v=19,m=2*p+1,g=15,_=16,y=7,w=256,b=16,E=17,C=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,k=new Array((p+2)*2);a(k);var L=new Array(d*2);a(L);var B=new Array(P);a(B);var U=new Array(u-l+1);a(U);var X=new Array(f);a(X);var ee=new Array(d);a(ee);function ne(j,de,Se,ke,ae){this.static_tree=j,this.extra_bits=de,this.extra_base=Se,this.elems=ke,this.max_length=ae,this.has_stree=j&&j.length}var W,D,z;function V(j,de){this.dyn_tree=j,this.max_code=0,this.stat_desc=de}function G(j){return j<256?B[j]:B[256+(j>>>7)]}function ie(j,de){j.pending_buf[j.pending++]=de&255,j.pending_buf[j.pending++]=de>>>8&255}function se(j,de,Se){j.bi_valid>_-Se?(j.bi_buf|=de<<j.bi_valid&65535,ie(j,j.bi_buf),j.bi_buf=de>>_-j.bi_valid,j.bi_valid+=Se-_):(j.bi_buf|=de<<j.bi_valid&65535,j.bi_valid+=Se)}function me(j,de,Se){se(j,Se[de*2],Se[de*2+1])}function ue(j,de){var Se=0;do Se|=j&1,j>>>=1,Se<<=1;while(--de>0);return Se>>>1}function we(j){j.bi_valid===16?(ie(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):j.bi_valid>=8&&(j.pending_buf[j.pending++]=j.bi_buf&255,j.bi_buf>>=8,j.bi_valid-=8)}function Be(j,de){var Se=de.dyn_tree,ke=de.max_code,ae=de.stat_desc.static_tree,Ie=de.stat_desc.has_stree,H=de.stat_desc.extra_bits,Ue=de.stat_desc.extra_base,pt=de.stat_desc.max_length,F,Re,Pe,q,le,Ce,dt=0;for(q=0;q<=g;q++)j.bl_count[q]=0;for(Se[j.heap[j.heap_max]*2+1]=0,F=j.heap_max+1;F<m;F++)Re=j.heap[F],q=Se[Se[Re*2+1]*2+1]+1,q>pt&&(q=pt,dt++),Se[Re*2+1]=q,!(Re>ke)&&(j.bl_count[q]++,le=0,Re>=Ue&&(le=H[Re-Ue]),Ce=Se[Re*2],j.opt_len+=Ce*(q+le),Ie&&(j.static_len+=Ce*(ae[Re*2+1]+le)));if(dt!==0){do{for(q=pt-1;j.bl_count[q]===0;)q--;j.bl_count[q]--,j.bl_count[q+1]+=2,j.bl_count[pt]--,dt-=2}while(dt>0);for(q=pt;q!==0;q--)for(Re=j.bl_count[q];Re!==0;)Pe=j.heap[--F],!(Pe>ke)&&(Se[Pe*2+1]!==q&&(j.opt_len+=(q-Se[Pe*2+1])*Se[Pe*2],Se[Pe*2+1]=q),Re--)}}function Fe(j,de,Se){var ke=new Array(g+1),ae=0,Ie,H;for(Ie=1;Ie<=g;Ie++)ke[Ie]=ae=ae+Se[Ie-1]<<1;for(H=0;H<=de;H++){var Ue=j[H*2+1];Ue!==0&&(j[H*2]=ue(ke[Ue]++,Ue))}}function Ee(){var j,de,Se,ke,ae,Ie=new Array(g+1);for(Se=0,ke=0;ke<f-1;ke++)for(X[ke]=Se,j=0;j<1<<A[ke];j++)U[Se++]=ke;for(U[Se-1]=ke,ae=0,ke=0;ke<16;ke++)for(ee[ke]=ae,j=0;j<1<<T[ke];j++)B[ae++]=ke;for(ae>>=7;ke<d;ke++)for(ee[ke]=ae<<7,j=0;j<1<<T[ke]-7;j++)B[256+ae++]=ke;for(de=0;de<=g;de++)Ie[de]=0;for(j=0;j<=143;)k[j*2+1]=8,j++,Ie[8]++;for(;j<=255;)k[j*2+1]=9,j++,Ie[9]++;for(;j<=279;)k[j*2+1]=7,j++,Ie[7]++;for(;j<=287;)k[j*2+1]=8,j++,Ie[8]++;for(Fe(k,p+1,Ie),j=0;j<d;j++)L[j*2+1]=5,L[j*2]=ue(j,5);W=new ne(k,A,h+1,p,g),D=new ne(L,T,0,d,g),z=new ne(new Array(0),R,0,v,y)}function Ae(j){var de;for(de=0;de<p;de++)j.dyn_ltree[de*2]=0;for(de=0;de<d;de++)j.dyn_dtree[de*2]=0;for(de=0;de<v;de++)j.bl_tree[de*2]=0;j.dyn_ltree[w*2]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function Ge(j){j.bi_valid>8?ie(j,j.bi_buf):j.bi_valid>0&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function We(j,de,Se,ke){Ge(j),ke&&(ie(j,Se),ie(j,~Se)),t.arraySet(j.pending_buf,j.window,de,Se,j.pending),j.pending+=Se}function Ve(j,de,Se,ke){var ae=de*2,Ie=Se*2;return j[ae]<j[Ie]||j[ae]===j[Ie]&&ke[de]<=ke[Se]}function Xe(j,de,Se){for(var ke=j.heap[Se],ae=Se<<1;ae<=j.heap_len&&(ae<j.heap_len&&Ve(de,j.heap[ae+1],j.heap[ae],j.depth)&&ae++,!Ve(de,ke,j.heap[ae],j.depth));)j.heap[Se]=j.heap[ae],Se=ae,ae<<=1;j.heap[Se]=ke}function qe(j,de,Se){var ke,ae,Ie=0,H,Ue;if(j.last_lit!==0)do ke=j.pending_buf[j.d_buf+Ie*2]<<8|j.pending_buf[j.d_buf+Ie*2+1],ae=j.pending_buf[j.l_buf+Ie],Ie++,ke===0?me(j,ae,de):(H=U[ae],me(j,H+h+1,de),Ue=A[H],Ue!==0&&(ae-=X[H],se(j,ae,Ue)),ke--,H=G(ke),me(j,H,Se),Ue=T[H],Ue!==0&&(ke-=ee[H],se(j,ke,Ue)));while(Ie<j.last_lit);me(j,w,de)}function Et(j,de){var Se=de.dyn_tree,ke=de.stat_desc.static_tree,ae=de.stat_desc.has_stree,Ie=de.stat_desc.elems,H,Ue,pt=-1,F;for(j.heap_len=0,j.heap_max=m,H=0;H<Ie;H++)Se[H*2]!==0?(j.heap[++j.heap_len]=pt=H,j.depth[H]=0):Se[H*2+1]=0;for(;j.heap_len<2;)F=j.heap[++j.heap_len]=pt<2?++pt:0,Se[F*2]=1,j.depth[F]=0,j.opt_len--,ae&&(j.static_len-=ke[F*2+1]);for(de.max_code=pt,H=j.heap_len>>1;H>=1;H--)Xe(j,Se,H);F=Ie;do H=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Xe(j,Se,1),Ue=j.heap[1],j.heap[--j.heap_max]=H,j.heap[--j.heap_max]=Ue,Se[F*2]=Se[H*2]+Se[Ue*2],j.depth[F]=(j.depth[H]>=j.depth[Ue]?j.depth[H]:j.depth[Ue])+1,Se[H*2+1]=Se[Ue*2+1]=F,j.heap[1]=F++,Xe(j,Se,1);while(j.heap_len>=2);j.heap[--j.heap_max]=j.heap[1],Be(j,de),Fe(Se,pt,j.bl_count)}function Rt(j,de,Se){var ke,ae=-1,Ie,H=de[0*2+1],Ue=0,pt=7,F=4;for(H===0&&(pt=138,F=3),de[(Se+1)*2+1]=65535,ke=0;ke<=Se;ke++)Ie=H,H=de[(ke+1)*2+1],!(++Ue<pt&&Ie===H)&&(Ue<F?j.bl_tree[Ie*2]+=Ue:Ie!==0?(Ie!==ae&&j.bl_tree[Ie*2]++,j.bl_tree[b*2]++):Ue<=10?j.bl_tree[E*2]++:j.bl_tree[C*2]++,Ue=0,ae=Ie,H===0?(pt=138,F=3):Ie===H?(pt=6,F=3):(pt=7,F=4))}function ft(j,de,Se){var ke,ae=-1,Ie,H=de[0*2+1],Ue=0,pt=7,F=4;for(H===0&&(pt=138,F=3),ke=0;ke<=Se;ke++)if(Ie=H,H=de[(ke+1)*2+1],!(++Ue<pt&&Ie===H)){if(Ue<F)do me(j,Ie,j.bl_tree);while(--Ue!==0);else Ie!==0?(Ie!==ae&&(me(j,Ie,j.bl_tree),Ue--),me(j,b,j.bl_tree),se(j,Ue-3,2)):Ue<=10?(me(j,E,j.bl_tree),se(j,Ue-3,3)):(me(j,C,j.bl_tree),se(j,Ue-11,7));Ue=0,ae=Ie,H===0?(pt=138,F=3):Ie===H?(pt=6,F=3):(pt=7,F=4)}}function ht(j){var de;for(Rt(j,j.dyn_ltree,j.l_desc.max_code),Rt(j,j.dyn_dtree,j.d_desc.max_code),Et(j,j.bl_desc),de=v-1;de>=3&&j.bl_tree[O[de]*2+1]===0;de--);return j.opt_len+=3*(de+1)+5+5+4,de}function St(j,de,Se,ke){var ae;for(se(j,de-257,5),se(j,Se-1,5),se(j,ke-4,4),ae=0;ae<ke;ae++)se(j,j.bl_tree[O[ae]*2+1],3);ft(j,j.dyn_ltree,de-1),ft(j,j.dyn_dtree,Se-1)}function rr(j){var de=4093624447,Se;for(Se=0;Se<=31;Se++,de>>>=1)if(de&1&&j.dyn_ltree[Se*2]!==0)return r;if(j.dyn_ltree[9*2]!==0||j.dyn_ltree[10*2]!==0||j.dyn_ltree[13*2]!==0)return n;for(Se=32;Se<h;Se++)if(j.dyn_ltree[Se*2]!==0)return n;return r}var Ht=!1;function nr(j){Ht||(Ee(),Ht=!0),j.l_desc=new V(j.dyn_ltree,W),j.d_desc=new V(j.dyn_dtree,D),j.bl_desc=new V(j.bl_tree,z),j.bi_buf=0,j.bi_valid=0,Ae(j)}function Gt(j,de,Se,ke){se(j,(o<<1)+(ke?1:0),3),We(j,de,Se,!0)}function xt(j){se(j,s<<1,3),me(j,w,k),we(j)}function Zt(j,de,Se,ke){var ae,Ie,H=0;j.level>0?(j.strm.data_type===i&&(j.strm.data_type=rr(j)),Et(j,j.l_desc),Et(j,j.d_desc),H=ht(j),ae=j.opt_len+3+7>>>3,Ie=j.static_len+3+7>>>3,Ie<=ae&&(ae=Ie)):ae=Ie=Se+5,Se+4<=ae&&de!==-1?Gt(j,de,Se,ke):j.strategy===e||Ie===ae?(se(j,(s<<1)+(ke?1:0),3),qe(j,k,L)):(se(j,(c<<1)+(ke?1:0),3),St(j,j.l_desc.max_code+1,j.d_desc.max_code+1,H+1),qe(j,j.dyn_ltree,j.dyn_dtree)),Ae(j),ke&&Ge(j)}function Oe(j,de,Se){return j.pending_buf[j.d_buf+j.last_lit*2]=de>>>8&255,j.pending_buf[j.d_buf+j.last_lit*2+1]=de&255,j.pending_buf[j.l_buf+j.last_lit]=Se&255,j.last_lit++,de===0?j.dyn_ltree[Se*2]++:(j.matches++,de--,j.dyn_ltree[(U[Se]+h+1)*2]++,j.dyn_dtree[G(de)*2]++),j.last_lit===j.lit_bufsize-1}return fc._tr_init=nr,fc._tr_stored_block=Gt,fc._tr_flush_block=Zt,fc._tr_tally=Oe,fc._tr_align=xt,fc}var SC,ej;function PY(){if(ej)return SC;ej=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return SC=t,SC}var CC,tj;function OY(){if(tj)return CC;tj=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,c=o+a;n^=-1;for(var l=o;l<c;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return CC=r,CC}var AC,rj;function d4(){return rj||(rj=1,AC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),AC}var nj;function YGe(){if(nj)return Lo;nj=1;var t=zu(),e=WGe(),r=PY(),n=OY(),i=d4(),a=0,o=1,s=3,c=4,l=5,u=0,f=1,h=-2,p=-3,d=-5,v=-1,m=1,g=2,_=3,y=4,w=0,b=2,E=8,C=9,A=15,T=8,R=29,O=256,P=O+1+R,k=30,L=19,B=2*P+1,U=15,X=3,ee=258,ne=ee+X+1,W=32,D=42,z=69,V=73,G=91,ie=103,se=113,me=666,ue=1,we=2,Be=3,Fe=4,Ee=3;function Ae(F,Re){return F.msg=i[Re],Re}function Ge(F){return(F<<1)-(F>4?9:0)}function We(F){for(var Re=F.length;--Re>=0;)F[Re]=0}function Ve(F){var Re=F.state,Pe=Re.pending;Pe>F.avail_out&&(Pe=F.avail_out),Pe!==0&&(t.arraySet(F.output,Re.pending_buf,Re.pending_out,Pe,F.next_out),F.next_out+=Pe,Re.pending_out+=Pe,F.total_out+=Pe,F.avail_out-=Pe,Re.pending-=Pe,Re.pending===0&&(Re.pending_out=0))}function Xe(F,Re){e._tr_flush_block(F,F.block_start>=0?F.block_start:-1,F.strstart-F.block_start,Re),F.block_start=F.strstart,Ve(F.strm)}function qe(F,Re){F.pending_buf[F.pending++]=Re}function Et(F,Re){F.pending_buf[F.pending++]=Re>>>8&255,F.pending_buf[F.pending++]=Re&255}function Rt(F,Re,Pe,q){var le=F.avail_in;return le>q&&(le=q),le===0?0:(F.avail_in-=le,t.arraySet(Re,F.input,F.next_in,le,Pe),F.state.wrap===1?F.adler=r(F.adler,Re,le,Pe):F.state.wrap===2&&(F.adler=n(F.adler,Re,le,Pe)),F.next_in+=le,F.total_in+=le,le)}function ft(F,Re){var Pe=F.max_chain_length,q=F.strstart,le,Ce,dt=F.prev_length,Qe=F.nice_match,ot=F.strstart>F.w_size-ne?F.strstart-(F.w_size-ne):0,Ft=F.window,Ln=F.w_mask,lr=F.prev,Ct=F.strstart+ee,Ar=Ft[q+dt-1],on=Ft[q+dt];F.prev_length>=F.good_match&&(Pe>>=2),Qe>F.lookahead&&(Qe=F.lookahead);do if(le=Re,!(Ft[le+dt]!==on||Ft[le+dt-1]!==Ar||Ft[le]!==Ft[q]||Ft[++le]!==Ft[q+1])){q+=2,le++;do;while(Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&Ft[++q]===Ft[++le]&&q<Ct);if(Ce=ee-(Ct-q),q=Ct-ee,Ce>dt){if(F.match_start=Re,dt=Ce,Ce>=Qe)break;Ar=Ft[q+dt-1],on=Ft[q+dt]}}while((Re=lr[Re&Ln])>ot&&--Pe!==0);return dt<=F.lookahead?dt:F.lookahead}function ht(F){var Re=F.w_size,Pe,q,le,Ce,dt;do{if(Ce=F.window_size-F.lookahead-F.strstart,F.strstart>=Re+(Re-ne)){t.arraySet(F.window,F.window,Re,Re,0),F.match_start-=Re,F.strstart-=Re,F.block_start-=Re,q=F.hash_size,Pe=q;do le=F.head[--Pe],F.head[Pe]=le>=Re?le-Re:0;while(--q);q=Re,Pe=q;do le=F.prev[--Pe],F.prev[Pe]=le>=Re?le-Re:0;while(--q);Ce+=Re}if(F.strm.avail_in===0)break;if(q=Rt(F.strm,F.window,F.strstart+F.lookahead,Ce),F.lookahead+=q,F.lookahead+F.insert>=X)for(dt=F.strstart-F.insert,F.ins_h=F.window[dt],F.ins_h=(F.ins_h<<F.hash_shift^F.window[dt+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[dt+X-1])&F.hash_mask,F.prev[dt&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=dt,dt++,F.insert--,!(F.lookahead+F.insert<X)););}while(F.lookahead<ne&&F.strm.avail_in!==0)}function St(F,Re){var Pe=65535;for(Pe>F.pending_buf_size-5&&(Pe=F.pending_buf_size-5);;){if(F.lookahead<=1){if(ht(F),F.lookahead===0&&Re===a)return ue;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var q=F.block_start+Pe;if((F.strstart===0||F.strstart>=q)&&(F.lookahead=F.strstart-q,F.strstart=q,Xe(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-ne&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):(F.strstart>F.block_start&&(Xe(F,!1),F.strm.avail_out===0),ue)}function rr(F,Re){for(var Pe,q;;){if(F.lookahead<ne){if(ht(F),F.lookahead<ne&&Re===a)return ue;if(F.lookahead===0)break}if(Pe=0,F.lookahead>=X&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+X-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),Pe!==0&&F.strstart-Pe<=F.w_size-ne&&(F.match_length=ft(F,Pe)),F.match_length>=X)if(q=e._tr_tally(F,F.strstart-F.match_start,F.match_length-X),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=X){F.match_length--;do F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+X-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart;while(--F.match_length!==0);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else q=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(q&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=F.strstart<X-1?F.strstart:X-1,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function Ht(F,Re){for(var Pe,q,le;;){if(F.lookahead<ne){if(ht(F),F.lookahead<ne&&Re===a)return ue;if(F.lookahead===0)break}if(Pe=0,F.lookahead>=X&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+X-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=X-1,Pe!==0&&F.prev_length<F.max_lazy_match&&F.strstart-Pe<=F.w_size-ne&&(F.match_length=ft(F,Pe),F.match_length<=5&&(F.strategy===m||F.match_length===X&&F.strstart-F.match_start>4096)&&(F.match_length=X-1)),F.prev_length>=X&&F.match_length<=F.prev_length){le=F.strstart+F.lookahead-X,q=e._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-X),F.lookahead-=F.prev_length-1,F.prev_length-=2;do++F.strstart<=le&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+X-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart);while(--F.prev_length!==0);if(F.match_available=0,F.match_length=X-1,F.strstart++,q&&(Xe(F,!1),F.strm.avail_out===0))return ue}else if(F.match_available){if(q=e._tr_tally(F,0,F.window[F.strstart-1]),q&&Xe(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return ue}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(q=e._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<X-1?F.strstart:X-1,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function nr(F,Re){for(var Pe,q,le,Ce,dt=F.window;;){if(F.lookahead<=ee){if(ht(F),F.lookahead<=ee&&Re===a)return ue;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=X&&F.strstart>0&&(le=F.strstart-1,q=dt[le],q===dt[++le]&&q===dt[++le]&&q===dt[++le])){Ce=F.strstart+ee;do;while(q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&q===dt[++le]&&le<Ce);F.match_length=ee-(Ce-le),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=X?(Pe=e._tr_tally(F,1,F.match_length-X),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(Pe=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),Pe&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function Gt(F,Re){for(var Pe;;){if(F.lookahead===0&&(ht(F),F.lookahead===0)){if(Re===a)return ue;break}if(F.match_length=0,Pe=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,Pe&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function xt(F,Re,Pe,q,le){this.good_length=F,this.max_lazy=Re,this.nice_length=Pe,this.max_chain=q,this.func=le}var Zt;Zt=[new xt(0,0,0,0,St),new xt(4,4,8,4,rr),new xt(4,5,16,8,rr),new xt(4,6,32,32,rr),new xt(4,4,16,16,Ht),new xt(8,16,32,32,Ht),new xt(8,16,128,128,Ht),new xt(8,32,128,256,Ht),new xt(32,128,258,1024,Ht),new xt(32,258,258,4096,Ht)];function Oe(F){F.window_size=2*F.w_size,We(F.head),F.max_lazy_match=Zt[F.level].max_lazy,F.good_match=Zt[F.level].good_length,F.nice_match=Zt[F.level].nice_length,F.max_chain_length=Zt[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=X-1,F.match_available=0,F.ins_h=0}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(B*2),this.dyn_dtree=new t.Buf16((2*k+1)*2),this.bl_tree=new t.Buf16((2*L+1)*2),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(U+1),this.heap=new t.Buf16(2*P+1),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*P+1),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(F){var Re;return!F||!F.state?Ae(F,h):(F.total_in=F.total_out=0,F.data_type=b,Re=F.state,Re.pending=0,Re.pending_out=0,Re.wrap<0&&(Re.wrap=-Re.wrap),Re.status=Re.wrap?D:se,F.adler=Re.wrap===2?0:1,Re.last_flush=a,e._tr_init(Re),u)}function Se(F){var Re=de(F);return Re===u&&Oe(F.state),Re}function ke(F,Re){return!F||!F.state||F.state.wrap!==2?h:(F.state.gzhead=Re,u)}function ae(F,Re,Pe,q,le,Ce){if(!F)return h;var dt=1;if(Re===v&&(Re=6),q<0?(dt=0,q=-q):q>15&&(dt=2,q-=16),le<1||le>C||Pe!==E||q<8||q>15||Re<0||Re>9||Ce<0||Ce>y)return Ae(F,h);q===8&&(q=9);var Qe=new j;return F.state=Qe,Qe.strm=F,Qe.wrap=dt,Qe.gzhead=null,Qe.w_bits=q,Qe.w_size=1<<Qe.w_bits,Qe.w_mask=Qe.w_size-1,Qe.hash_bits=le+7,Qe.hash_size=1<<Qe.hash_bits,Qe.hash_mask=Qe.hash_size-1,Qe.hash_shift=~~((Qe.hash_bits+X-1)/X),Qe.window=new t.Buf8(Qe.w_size*2),Qe.head=new t.Buf16(Qe.hash_size),Qe.prev=new t.Buf16(Qe.w_size),Qe.lit_bufsize=1<<le+6,Qe.pending_buf_size=Qe.lit_bufsize*4,Qe.pending_buf=new t.Buf8(Qe.pending_buf_size),Qe.d_buf=1*Qe.lit_bufsize,Qe.l_buf=(1+2)*Qe.lit_bufsize,Qe.level=Re,Qe.strategy=Ce,Qe.method=Pe,Se(F)}function Ie(F,Re){return ae(F,Re,E,A,T,w)}function H(F,Re){var Pe,q,le,Ce;if(!F||!F.state||Re>l||Re<0)return F?Ae(F,h):h;if(q=F.state,!F.output||!F.input&&F.avail_in!==0||q.status===me&&Re!==c)return Ae(F,F.avail_out===0?d:h);if(q.strm=F,Pe=q.last_flush,q.last_flush=Re,q.status===D)if(q.wrap===2)F.adler=0,qe(q,31),qe(q,139),qe(q,8),q.gzhead?(qe(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),qe(q,q.gzhead.time&255),qe(q,q.gzhead.time>>8&255),qe(q,q.gzhead.time>>16&255),qe(q,q.gzhead.time>>24&255),qe(q,q.level===9?2:q.strategy>=g||q.level<2?4:0),qe(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length&&(qe(q,q.gzhead.extra.length&255),qe(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(F.adler=n(F.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=z):(qe(q,0),qe(q,0),qe(q,0),qe(q,0),qe(q,0),qe(q,q.level===9?2:q.strategy>=g||q.level<2?4:0),qe(q,Ee),q.status=se);else{var dt=E+(q.w_bits-8<<4)<<8,Qe=-1;q.strategy>=g||q.level<2?Qe=0:q.level<6?Qe=1:q.level===6?Qe=2:Qe=3,dt|=Qe<<6,q.strstart!==0&&(dt|=W),dt+=31-dt%31,q.status=se,Et(q,dt),q.strstart!==0&&(Et(q,F.adler>>>16),Et(q,F.adler&65535)),F.adler=1}if(q.status===z)if(q.gzhead.extra){for(le=q.pending;q.gzindex<(q.gzhead.extra.length&65535)&&!(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),Ve(F),le=q.pending,q.pending===q.pending_buf_size));)qe(q,q.gzhead.extra[q.gzindex]&255),q.gzindex++;q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=V)}else q.status=V;if(q.status===V)if(q.gzhead.name){le=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),Ve(F),le=q.pending,q.pending===q.pending_buf_size)){Ce=1;break}q.gzindex<q.gzhead.name.length?Ce=q.gzhead.name.charCodeAt(q.gzindex++)&255:Ce=0,qe(q,Ce)}while(Ce!==0);q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),Ce===0&&(q.gzindex=0,q.status=G)}else q.status=G;if(q.status===G)if(q.gzhead.comment){le=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),Ve(F),le=q.pending,q.pending===q.pending_buf_size)){Ce=1;break}q.gzindex<q.gzhead.comment.length?Ce=q.gzhead.comment.charCodeAt(q.gzindex++)&255:Ce=0,qe(q,Ce)}while(Ce!==0);q.gzhead.hcrc&&q.pending>le&&(F.adler=n(F.adler,q.pending_buf,q.pending-le,le)),Ce===0&&(q.status=ie)}else q.status=ie;if(q.status===ie&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&Ve(F),q.pending+2<=q.pending_buf_size&&(qe(q,F.adler&255),qe(q,F.adler>>8&255),F.adler=0,q.status=se)):q.status=se),q.pending!==0){if(Ve(F),F.avail_out===0)return q.last_flush=-1,u}else if(F.avail_in===0&&Ge(Re)<=Ge(Pe)&&Re!==c)return Ae(F,d);if(q.status===me&&F.avail_in!==0)return Ae(F,d);if(F.avail_in!==0||q.lookahead!==0||Re!==a&&q.status!==me){var ot=q.strategy===g?Gt(q,Re):q.strategy===_?nr(q,Re):Zt[q.level].func(q,Re);if((ot===Be||ot===Fe)&&(q.status=me),ot===ue||ot===Be)return F.avail_out===0&&(q.last_flush=-1),u;if(ot===we&&(Re===o?e._tr_align(q):Re!==l&&(e._tr_stored_block(q,0,0,!1),Re===s&&(We(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),Ve(F),F.avail_out===0))return q.last_flush=-1,u}return Re!==c?u:q.wrap<=0?f:(q.wrap===2?(qe(q,F.adler&255),qe(q,F.adler>>8&255),qe(q,F.adler>>16&255),qe(q,F.adler>>24&255),qe(q,F.total_in&255),qe(q,F.total_in>>8&255),qe(q,F.total_in>>16&255),qe(q,F.total_in>>24&255)):(Et(q,F.adler>>>16),Et(q,F.adler&65535)),Ve(F),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?u:f)}function Ue(F){var Re;return!F||!F.state?h:(Re=F.state.status,Re!==D&&Re!==z&&Re!==V&&Re!==G&&Re!==ie&&Re!==se&&Re!==me?Ae(F,h):(F.state=null,Re===se?Ae(F,p):u))}function pt(F,Re){var Pe=Re.length,q,le,Ce,dt,Qe,ot,Ft,Ln;if(!F||!F.state||(q=F.state,dt=q.wrap,dt===2||dt===1&&q.status!==D||q.lookahead))return h;for(dt===1&&(F.adler=r(F.adler,Re,Pe,0)),q.wrap=0,Pe>=q.w_size&&(dt===0&&(We(q.head),q.strstart=0,q.block_start=0,q.insert=0),Ln=new t.Buf8(q.w_size),t.arraySet(Ln,Re,Pe-q.w_size,q.w_size,0),Re=Ln,Pe=q.w_size),Qe=F.avail_in,ot=F.next_in,Ft=F.input,F.avail_in=Pe,F.next_in=0,F.input=Re,ht(q);q.lookahead>=X;){le=q.strstart,Ce=q.lookahead-(X-1);do q.ins_h=(q.ins_h<<q.hash_shift^q.window[le+X-1])&q.hash_mask,q.prev[le&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=le,le++;while(--Ce);q.strstart=le,q.lookahead=X-1,ht(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=X-1,q.match_available=0,F.next_in=ot,F.input=Ft,F.avail_in=Qe,q.wrap=dt,u}return Lo.deflateInit=Ie,Lo.deflateInit2=ae,Lo.deflateReset=Se,Lo.deflateResetKeep=de,Lo.deflateSetHeader=ke,Lo.deflate=H,Lo.deflateEnd=Ue,Lo.deflateSetDictionary=pt,Lo.deflateInfo="pako deflate (from Nodeca project)",Lo}var hc={},ij;function kY(){if(ij)return hc;ij=1;var t=zu(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,hc.string2buf=function(o){var s,c,l,u,f,h=o.length,p=0;for(u=0;u<h;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),p+=c<128?1:c<2048?2:c<65536?3:4;for(s=new t.Buf8(p),f=0,u=0;f<p;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(o[l]);return c}return hc.buf2binstring=function(o){return a(o,o.length)},hc.binstring2buf=function(o){for(var s=new t.Buf8(o.length),c=0,l=s.length;c<l;c++)s[c]=o.charCodeAt(c);return s},hc.buf2string=function(o,s){var c,l,u,f,h=s||o.length,p=new Array(h*2);for(l=0,c=0;c<h;){if(u=o[c++],u<128){p[l++]=u;continue}if(f=n[u],f>4){p[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|o[c++]&63,f--;if(f>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},hc.utf8border=function(o,s){var c;for(s=s||o.length,s>o.length&&(s=o.length),c=s-1;c>=0&&(o[c]&192)===128;)c--;return c<0||c===0?s:c+n[o[c]]>s?c:s},hc}var TC,aj;function FY(){if(aj)return TC;aj=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return TC=t,TC}var oj;function qGe(){if(oj)return ah;oj=1;var t=YGe(),e=zu(),r=kY(),n=d4(),i=FY(),a=Object.prototype.toString,o=0,s=4,c=0,l=1,u=2,f=-1,h=0,p=8;function d(_){if(!(this instanceof d))return new d(_);this.options=e.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var w=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==c)throw new Error(n[w]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(typeof y.dictionary=="string"?b=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(y.dictionary):b=y.dictionary,w=t.deflateSetDictionary(this.strm,b),w!==c)throw new Error(n[w]);this._dict_set=!0}}d.prototype.push=function(_,y){var w=this.strm,b=this.options.chunkSize,E,C;if(this.ended)return!1;C=y===~~y?y:y===!0?s:o,typeof _=="string"?w.input=r.string2buf(_):a.call(_)==="[object ArrayBuffer]"?w.input=new Uint8Array(_):w.input=_,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new e.Buf8(b),w.next_out=0,w.avail_out=b),E=t.deflate(w,C),E!==l&&E!==c)return this.onEnd(E),this.ended=!0,!1;(w.avail_out===0||w.avail_in===0&&(C===s||C===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(w.output,w.next_out))):this.onData(e.shrinkBuf(w.output,w.next_out)))}while((w.avail_in>0||w.avail_out===0)&&E!==l);return C===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):(C===u&&(this.onEnd(c),w.avail_out=0),!0)},d.prototype.onData=function(_){this.chunks.push(_)},d.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function v(_,y){var w=new d(y);if(w.push(_,!0),w.err)throw w.msg||n[w.err];return w.result}function m(_,y){return y=y||{},y.raw=!0,v(_,y)}function g(_,y){return y=y||{},y.gzip=!0,v(_,y)}return ah.Deflate=d,ah.deflate=v,ah.deflateRaw=m,ah.gzip=g,ah}var oh={},fo={},IC,sj;function KGe(){if(sj)return IC;sj=1;var t=30,e=12;return IC=function(n,i){var a,o,s,c,l,u,f,h,p,d,v,m,g,_,y,w,b,E,C,A,T,R,O,P,k;a=n.state,o=n.next_in,P=n.input,s=o+(n.avail_in-5),c=n.next_out,k=n.output,l=c-(i-n.avail_out),u=c+(n.avail_out-257),f=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,v=a.window,m=a.hold,g=a.bits,_=a.lencode,y=a.distcode,w=(1<<a.lenbits)-1,b=(1<<a.distbits)-1;e:do{g<15&&(m+=P[o++]<<g,g+=8,m+=P[o++]<<g,g+=8),E=_[m&w];t:for(;;){if(C=E>>>24,m>>>=C,g-=C,C=E>>>16&255,C===0)k[c++]=E&65535;else if(C&16){A=E&65535,C&=15,C&&(g<C&&(m+=P[o++]<<g,g+=8),A+=m&(1<<C)-1,m>>>=C,g-=C),g<15&&(m+=P[o++]<<g,g+=8,m+=P[o++]<<g,g+=8),E=y[m&b];r:for(;;){if(C=E>>>24,m>>>=C,g-=C,C=E>>>16&255,C&16){if(T=E&65535,C&=15,g<C&&(m+=P[o++]<<g,g+=8,g<C&&(m+=P[o++]<<g,g+=8)),T+=m&(1<<C)-1,T>f){n.msg="invalid distance too far back",a.mode=t;break e}if(m>>>=C,g-=C,C=c-l,T>C){if(C=T-C,C>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(R=0,O=v,d===0){if(R+=h-C,C<A){A-=C;do k[c++]=v[R++];while(--C);R=c-T,O=k}}else if(d<C){if(R+=h+d-C,C-=d,C<A){A-=C;do k[c++]=v[R++];while(--C);if(R=0,d<A){C=d,A-=C;do k[c++]=v[R++];while(--C);R=c-T,O=k}}}else if(R+=d-C,C<A){A-=C;do k[c++]=v[R++];while(--C);R=c-T,O=k}for(;A>2;)k[c++]=O[R++],k[c++]=O[R++],k[c++]=O[R++],A-=3;A&&(k[c++]=O[R++],A>1&&(k[c++]=O[R++]))}else{R=c-T;do k[c++]=k[R++],k[c++]=k[R++],k[c++]=k[R++],A-=3;while(A>2);A&&(k[c++]=k[R++],A>1&&(k[c++]=k[R++]))}}else if(C&64){n.msg="invalid distance code",a.mode=t;break e}else{E=y[(E&65535)+(m&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=_[(E&65535)+(m&(1<<C)-1)];continue t}break}}while(o<s&&c<u);A=g>>3,o-=A,g-=A<<3,m&=(1<<g)-1,n.next_in=o,n.next_out=c,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=c<u?257+(u-c):257-(c-u),a.hold=m,a.bits=g},IC}var RC,lj;function ZGe(){if(lj)return RC;lj=1;var t=zu(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return RC=function(h,p,d,v,m,g,_,y){var w=y.bits,b=0,E=0,C=0,A=0,T=0,R=0,O=0,P=0,k=0,L=0,B,U,X,ee,ne,W=null,D=0,z,V=new t.Buf16(e+1),G=new t.Buf16(e+1),ie=null,se=0,me,ue,we;for(b=0;b<=e;b++)V[b]=0;for(E=0;E<v;E++)V[p[d+E]]++;for(T=w,A=e;A>=1&&V[A]===0;A--);if(T>A&&(T=A),A===0)return m[g++]=1<<24|64<<16|0,m[g++]=1<<24|64<<16|0,y.bits=1,0;for(C=1;C<A&&V[C]===0;C++);for(T<C&&(T=C),P=1,b=1;b<=e;b++)if(P<<=1,P-=V[b],P<0)return-1;if(P>0&&(h===i||A!==1))return-1;for(G[1]=0,b=1;b<e;b++)G[b+1]=G[b]+V[b];for(E=0;E<v;E++)p[d+E]!==0&&(_[G[p[d+E]]++]=E);if(h===i?(W=ie=_,z=19):h===a?(W=s,D-=257,ie=c,se-=257,z=256):(W=l,ie=u,z=-1),L=0,E=0,b=C,ne=g,R=T,O=0,X=-1,k=1<<T,ee=k-1,h===a&&k>r||h===o&&k>n)return 1;for(;;){me=b-O,_[E]<z?(ue=0,we=_[E]):_[E]>z?(ue=ie[se+_[E]],we=W[D+_[E]]):(ue=32+64,we=0),B=1<<b-O,U=1<<R,C=U;do U-=B,m[ne+(L>>O)+U]=me<<24|ue<<16|we|0;while(U!==0);for(B=1<<b-1;L&B;)B>>=1;if(B!==0?(L&=B-1,L+=B):L=0,E++,--V[b]===0){if(b===A)break;b=p[d+_[E]]}if(b>T&&(L&ee)!==X){for(O===0&&(O=T),ne+=C,R=b-O,P=1<<R;R+O<A&&(P-=V[R+O],!(P<=0));)R++,P<<=1;if(k+=1<<R,h===a&&k>r||h===o&&k>n)return 1;X=L&ee,m[X]=T<<24|R<<16|ne-g|0}}return L!==0&&(m[ne+L]=b-O<<24|64<<16|0),y.bits=T,0},RC}var uj;function JGe(){if(uj)return fo;uj=1;var t=zu(),e=PY(),r=OY(),n=KGe(),i=ZGe(),a=0,o=1,s=2,c=4,l=5,u=6,f=0,h=1,p=2,d=-2,v=-3,m=-4,g=-5,_=8,y=1,w=2,b=3,E=4,C=5,A=6,T=7,R=8,O=9,P=10,k=11,L=12,B=13,U=14,X=15,ee=16,ne=17,W=18,D=19,z=20,V=21,G=22,ie=23,se=24,me=25,ue=26,we=27,Be=28,Fe=29,Ee=30,Ae=31,Ge=32,We=852,Ve=592,Xe=15,qe=Xe;function Et(ae){return(ae>>>24&255)+(ae>>>8&65280)+((ae&65280)<<8)+((ae&255)<<24)}function Rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ft(ae){var Ie;return!ae||!ae.state?d:(Ie=ae.state,ae.total_in=ae.total_out=Ie.total=0,ae.msg="",Ie.wrap&&(ae.adler=Ie.wrap&1),Ie.mode=y,Ie.last=0,Ie.havedict=0,Ie.dmax=32768,Ie.head=null,Ie.hold=0,Ie.bits=0,Ie.lencode=Ie.lendyn=new t.Buf32(We),Ie.distcode=Ie.distdyn=new t.Buf32(Ve),Ie.sane=1,Ie.back=-1,f)}function ht(ae){var Ie;return!ae||!ae.state?d:(Ie=ae.state,Ie.wsize=0,Ie.whave=0,Ie.wnext=0,ft(ae))}function St(ae,Ie){var H,Ue;return!ae||!ae.state||(Ue=ae.state,Ie<0?(H=0,Ie=-Ie):(H=(Ie>>4)+1,Ie<48&&(Ie&=15)),Ie&&(Ie<8||Ie>15))?d:(Ue.window!==null&&Ue.wbits!==Ie&&(Ue.window=null),Ue.wrap=H,Ue.wbits=Ie,ht(ae))}function rr(ae,Ie){var H,Ue;return ae?(Ue=new Rt,ae.state=Ue,Ue.window=null,H=St(ae,Ie),H!==f&&(ae.state=null),H):d}function Ht(ae){return rr(ae,qe)}var nr=!0,Gt,xt;function Zt(ae){if(nr){var Ie;for(Gt=new t.Buf32(512),xt=new t.Buf32(32),Ie=0;Ie<144;)ae.lens[Ie++]=8;for(;Ie<256;)ae.lens[Ie++]=9;for(;Ie<280;)ae.lens[Ie++]=7;for(;Ie<288;)ae.lens[Ie++]=8;for(i(o,ae.lens,0,288,Gt,0,ae.work,{bits:9}),Ie=0;Ie<32;)ae.lens[Ie++]=5;i(s,ae.lens,0,32,xt,0,ae.work,{bits:5}),nr=!1}ae.lencode=Gt,ae.lenbits=9,ae.distcode=xt,ae.distbits=5}function Oe(ae,Ie,H,Ue){var pt,F=ae.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new t.Buf8(F.wsize)),Ue>=F.wsize?(t.arraySet(F.window,Ie,H-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(pt=F.wsize-F.wnext,pt>Ue&&(pt=Ue),t.arraySet(F.window,Ie,H-Ue,pt,F.wnext),Ue-=pt,Ue?(t.arraySet(F.window,Ie,H-Ue,Ue,0),F.wnext=Ue,F.whave=F.wsize):(F.wnext+=pt,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=pt))),0}function j(ae,Ie){var H,Ue,pt,F,Re,Pe,q,le,Ce,dt,Qe,ot,Ft,Ln,lr=0,Ct,Ar,on,qn,Al,Tl,sn,zi,Mn=new t.Buf8(4),La,sa,Af=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&ae.avail_in!==0)return d;H=ae.state,H.mode===L&&(H.mode=B),Re=ae.next_out,pt=ae.output,q=ae.avail_out,F=ae.next_in,Ue=ae.input,Pe=ae.avail_in,le=H.hold,Ce=H.bits,dt=Pe,Qe=q,zi=f;e:for(;;)switch(H.mode){case y:if(H.wrap===0){H.mode=B;break}for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(H.wrap&2&&le===35615){H.check=0,Mn[0]=le&255,Mn[1]=le>>>8&255,H.check=r(H.check,Mn,2,0),le=0,Ce=0,H.mode=w;break}if(H.flags=0,H.head&&(H.head.done=!1),!(H.wrap&1)||(((le&255)<<8)+(le>>8))%31){ae.msg="incorrect header check",H.mode=Ee;break}if((le&15)!==_){ae.msg="unknown compression method",H.mode=Ee;break}if(le>>>=4,Ce-=4,sn=(le&15)+8,H.wbits===0)H.wbits=sn;else if(sn>H.wbits){ae.msg="invalid window size",H.mode=Ee;break}H.dmax=1<<sn,ae.adler=H.check=1,H.mode=le&512?P:L,le=0,Ce=0;break;case w:for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(H.flags=le,(H.flags&255)!==_){ae.msg="unknown compression method",H.mode=Ee;break}if(H.flags&57344){ae.msg="unknown header flags set",H.mode=Ee;break}H.head&&(H.head.text=le>>8&1),H.flags&512&&(Mn[0]=le&255,Mn[1]=le>>>8&255,H.check=r(H.check,Mn,2,0)),le=0,Ce=0,H.mode=b;case b:for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.head&&(H.head.time=le),H.flags&512&&(Mn[0]=le&255,Mn[1]=le>>>8&255,Mn[2]=le>>>16&255,Mn[3]=le>>>24&255,H.check=r(H.check,Mn,4,0)),le=0,Ce=0,H.mode=E;case E:for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.head&&(H.head.xflags=le&255,H.head.os=le>>8),H.flags&512&&(Mn[0]=le&255,Mn[1]=le>>>8&255,H.check=r(H.check,Mn,2,0)),le=0,Ce=0,H.mode=C;case C:if(H.flags&1024){for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.length=le,H.head&&(H.head.extra_len=le),H.flags&512&&(Mn[0]=le&255,Mn[1]=le>>>8&255,H.check=r(H.check,Mn,2,0)),le=0,Ce=0}else H.head&&(H.head.extra=null);H.mode=A;case A:if(H.flags&1024&&(ot=H.length,ot>Pe&&(ot=Pe),ot&&(H.head&&(sn=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Array(H.head.extra_len)),t.arraySet(H.head.extra,Ue,F,ot,sn)),H.flags&512&&(H.check=r(H.check,Ue,ot,F)),Pe-=ot,F+=ot,H.length-=ot),H.length))break e;H.length=0,H.mode=T;case T:if(H.flags&2048){if(Pe===0)break e;ot=0;do sn=Ue[F+ot++],H.head&&sn&&H.length<65536&&(H.head.name+=String.fromCharCode(sn));while(sn&&ot<Pe);if(H.flags&512&&(H.check=r(H.check,Ue,ot,F)),Pe-=ot,F+=ot,sn)break e}else H.head&&(H.head.name=null);H.length=0,H.mode=R;case R:if(H.flags&4096){if(Pe===0)break e;ot=0;do sn=Ue[F+ot++],H.head&&sn&&H.length<65536&&(H.head.comment+=String.fromCharCode(sn));while(sn&&ot<Pe);if(H.flags&512&&(H.check=r(H.check,Ue,ot,F)),Pe-=ot,F+=ot,sn)break e}else H.head&&(H.head.comment=null);H.mode=O;case O:if(H.flags&512){for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le!==(H.check&65535)){ae.msg="header crc mismatch",H.mode=Ee;break}le=0,Ce=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),ae.adler=H.check=0,H.mode=L;break;case P:for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}ae.adler=H.check=Et(le),le=0,Ce=0,H.mode=k;case k:if(H.havedict===0)return ae.next_out=Re,ae.avail_out=q,ae.next_in=F,ae.avail_in=Pe,H.hold=le,H.bits=Ce,p;ae.adler=H.check=1,H.mode=L;case L:if(Ie===l||Ie===u)break e;case B:if(H.last){le>>>=Ce&7,Ce-=Ce&7,H.mode=we;break}for(;Ce<3;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}switch(H.last=le&1,le>>>=1,Ce-=1,le&3){case 0:H.mode=U;break;case 1:if(Zt(H),H.mode=z,Ie===u){le>>>=2,Ce-=2;break e}break;case 2:H.mode=ne;break;case 3:ae.msg="invalid block type",H.mode=Ee}le>>>=2,Ce-=2;break;case U:for(le>>>=Ce&7,Ce-=Ce&7;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if((le&65535)!==(le>>>16^65535)){ae.msg="invalid stored block lengths",H.mode=Ee;break}if(H.length=le&65535,le=0,Ce=0,H.mode=X,Ie===u)break e;case X:H.mode=ee;case ee:if(ot=H.length,ot){if(ot>Pe&&(ot=Pe),ot>q&&(ot=q),ot===0)break e;t.arraySet(pt,Ue,F,ot,Re),Pe-=ot,F+=ot,q-=ot,Re+=ot,H.length-=ot;break}H.mode=L;break;case ne:for(;Ce<14;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(H.nlen=(le&31)+257,le>>>=5,Ce-=5,H.ndist=(le&31)+1,le>>>=5,Ce-=5,H.ncode=(le&15)+4,le>>>=4,Ce-=4,H.nlen>286||H.ndist>30){ae.msg="too many length or distance symbols",H.mode=Ee;break}H.have=0,H.mode=W;case W:for(;H.have<H.ncode;){for(;Ce<3;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.lens[Af[H.have++]]=le&7,le>>>=3,Ce-=3}for(;H.have<19;)H.lens[Af[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,La={bits:H.lenbits},zi=i(a,H.lens,0,19,H.lencode,0,H.work,La),H.lenbits=La.bits,zi){ae.msg="invalid code lengths set",H.mode=Ee;break}H.have=0,H.mode=D;case D:for(;H.have<H.nlen+H.ndist;){for(;lr=H.lencode[le&(1<<H.lenbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,on=lr&65535,!(Ct<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(on<16)le>>>=Ct,Ce-=Ct,H.lens[H.have++]=on;else{if(on===16){for(sa=Ct+2;Ce<sa;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le>>>=Ct,Ce-=Ct,H.have===0){ae.msg="invalid bit length repeat",H.mode=Ee;break}sn=H.lens[H.have-1],ot=3+(le&3),le>>>=2,Ce-=2}else if(on===17){for(sa=Ct+3;Ce<sa;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=Ct,Ce-=Ct,sn=0,ot=3+(le&7),le>>>=3,Ce-=3}else{for(sa=Ct+7;Ce<sa;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=Ct,Ce-=Ct,sn=0,ot=11+(le&127),le>>>=7,Ce-=7}if(H.have+ot>H.nlen+H.ndist){ae.msg="invalid bit length repeat",H.mode=Ee;break}for(;ot--;)H.lens[H.have++]=sn}}if(H.mode===Ee)break;if(H.lens[256]===0){ae.msg="invalid code -- missing end-of-block",H.mode=Ee;break}if(H.lenbits=9,La={bits:H.lenbits},zi=i(o,H.lens,0,H.nlen,H.lencode,0,H.work,La),H.lenbits=La.bits,zi){ae.msg="invalid literal/lengths set",H.mode=Ee;break}if(H.distbits=6,H.distcode=H.distdyn,La={bits:H.distbits},zi=i(s,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,La),H.distbits=La.bits,zi){ae.msg="invalid distances set",H.mode=Ee;break}if(H.mode=z,Ie===u)break e;case z:H.mode=V;case V:if(Pe>=6&&q>=258){ae.next_out=Re,ae.avail_out=q,ae.next_in=F,ae.avail_in=Pe,H.hold=le,H.bits=Ce,n(ae,Qe),Re=ae.next_out,pt=ae.output,q=ae.avail_out,F=ae.next_in,Ue=ae.input,Pe=ae.avail_in,le=H.hold,Ce=H.bits,H.mode===L&&(H.back=-1);break}for(H.back=0;lr=H.lencode[le&(1<<H.lenbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,on=lr&65535,!(Ct<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(Ar&&!(Ar&240)){for(qn=Ct,Al=Ar,Tl=on;lr=H.lencode[Tl+((le&(1<<qn+Al)-1)>>qn)],Ct=lr>>>24,Ar=lr>>>16&255,on=lr&65535,!(qn+Ct<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=qn,Ce-=qn,H.back+=qn}if(le>>>=Ct,Ce-=Ct,H.back+=Ct,H.length=on,Ar===0){H.mode=ue;break}if(Ar&32){H.back=-1,H.mode=L;break}if(Ar&64){ae.msg="invalid literal/length code",H.mode=Ee;break}H.extra=Ar&15,H.mode=G;case G:if(H.extra){for(sa=H.extra;Ce<sa;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.length+=le&(1<<H.extra)-1,le>>>=H.extra,Ce-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=ie;case ie:for(;lr=H.distcode[le&(1<<H.distbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,on=lr&65535,!(Ct<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(!(Ar&240)){for(qn=Ct,Al=Ar,Tl=on;lr=H.distcode[Tl+((le&(1<<qn+Al)-1)>>qn)],Ct=lr>>>24,Ar=lr>>>16&255,on=lr&65535,!(qn+Ct<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=qn,Ce-=qn,H.back+=qn}if(le>>>=Ct,Ce-=Ct,H.back+=Ct,Ar&64){ae.msg="invalid distance code",H.mode=Ee;break}H.offset=on,H.extra=Ar&15,H.mode=se;case se:if(H.extra){for(sa=H.extra;Ce<sa;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}H.offset+=le&(1<<H.extra)-1,le>>>=H.extra,Ce-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){ae.msg="invalid distance too far back",H.mode=Ee;break}H.mode=me;case me:if(q===0)break e;if(ot=Qe-q,H.offset>ot){if(ot=H.offset-ot,ot>H.whave&&H.sane){ae.msg="invalid distance too far back",H.mode=Ee;break}ot>H.wnext?(ot-=H.wnext,Ft=H.wsize-ot):Ft=H.wnext-ot,ot>H.length&&(ot=H.length),Ln=H.window}else Ln=pt,Ft=Re-H.offset,ot=H.length;ot>q&&(ot=q),q-=ot,H.length-=ot;do pt[Re++]=Ln[Ft++];while(--ot);H.length===0&&(H.mode=V);break;case ue:if(q===0)break e;pt[Re++]=H.length,q--,H.mode=V;break;case we:if(H.wrap){for(;Ce<32;){if(Pe===0)break e;Pe--,le|=Ue[F++]<<Ce,Ce+=8}if(Qe-=q,ae.total_out+=Qe,H.total+=Qe,Qe&&(ae.adler=H.check=H.flags?r(H.check,pt,Qe,Re-Qe):e(H.check,pt,Qe,Re-Qe)),Qe=q,(H.flags?le:Et(le))!==H.check){ae.msg="incorrect data check",H.mode=Ee;break}le=0,Ce=0}H.mode=Be;case Be:if(H.wrap&&H.flags){for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le!==(H.total&4294967295)){ae.msg="incorrect length check",H.mode=Ee;break}le=0,Ce=0}H.mode=Fe;case Fe:zi=h;break e;case Ee:zi=v;break e;case Ae:return m;case Ge:default:return d}return ae.next_out=Re,ae.avail_out=q,ae.next_in=F,ae.avail_in=Pe,H.hold=le,H.bits=Ce,(H.wsize||Qe!==ae.avail_out&&H.mode<Ee&&(H.mode<we||Ie!==c))&&Oe(ae,ae.output,ae.next_out,Qe-ae.avail_out),dt-=ae.avail_in,Qe-=ae.avail_out,ae.total_in+=dt,ae.total_out+=Qe,H.total+=Qe,H.wrap&&Qe&&(ae.adler=H.check=H.flags?r(H.check,pt,Qe,ae.next_out-Qe):e(H.check,pt,Qe,ae.next_out-Qe)),ae.data_type=H.bits+(H.last?64:0)+(H.mode===L?128:0)+(H.mode===z||H.mode===X?256:0),(dt===0&&Qe===0||Ie===c)&&zi===f&&(zi=g),zi}function de(ae){if(!ae||!ae.state)return d;var Ie=ae.state;return Ie.window&&(Ie.window=null),ae.state=null,f}function Se(ae,Ie){var H;return!ae||!ae.state||(H=ae.state,!(H.wrap&2))?d:(H.head=Ie,Ie.done=!1,f)}function ke(ae,Ie){var H=Ie.length,Ue,pt,F;return!ae||!ae.state||(Ue=ae.state,Ue.wrap!==0&&Ue.mode!==k)?d:Ue.mode===k&&(pt=1,pt=e(pt,Ie,H,0),pt!==Ue.check)?v:(F=Oe(ae,Ie,H,H),F?(Ue.mode=Ae,m):(Ue.havedict=1,f))}return fo.inflateReset=ht,fo.inflateReset2=St,fo.inflateResetKeep=ft,fo.inflateInit=Ht,fo.inflateInit2=rr,fo.inflate=j,fo.inflateEnd=de,fo.inflateGetHeader=Se,fo.inflateSetDictionary=ke,fo.inflateInfo="pako inflate (from Nodeca project)",fo}var PC,cj;function NY(){return cj||(cj=1,PC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),PC}var OC,fj;function QGe(){if(fj)return OC;fj=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return OC=t,OC}var hj;function e7e(){if(hj)return oh;hj=1;var t=JGe(),e=zu(),r=kY(),n=NY(),i=d4(),a=FY(),o=QGe(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}c.prototype.push=function(f,h){var p=this.strm,d=this.options.chunkSize,v=this.options.dictionary,m,g,_,y,w,b=!1;if(this.ended)return!1;g=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=r.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),m=t.inflate(p,n.Z_NO_FLUSH),m===n.Z_NEED_DICT&&v&&(m=t.inflateSetDictionary(this.strm,v)),m===n.Z_BUF_ERROR&&b===!0&&(m=n.Z_OK,b=!1),m!==n.Z_STREAM_END&&m!==n.Z_OK)return this.onEnd(m),this.ended=!0,!1;p.next_out&&(p.avail_out===0||m===n.Z_STREAM_END||p.avail_in===0&&(g===n.Z_FINISH||g===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=r.utf8border(p.output,p.next_out),y=p.next_out-_,w=r.buf2string(p.output,_),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,_,y,0),this.onData(w)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(b=!0)}while((p.avail_in>0||p.avail_out===0)&&m!==n.Z_STREAM_END);return m===n.Z_STREAM_END&&(g=n.Z_FINISH),g===n.Z_FINISH?(m=t.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===n.Z_OK):(g===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||i[p.err];return p.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return oh.Inflate=c,oh.inflate=l,oh.inflateRaw=u,oh.ungzip=l,oh}var kC,dj;function t7e(){if(dj)return kC;dj=1;var t=zu().assign,e=qGe(),r=e7e(),n=NY(),i={};return t(i,e,r,n),kC=i,kC}(function(t){(function(){var e={},r;t.exports=e,typeof yh=="function"?r=t7e():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),f=0;f<a.frames.length;f++){var h=a.frames[f],p=h.rect.x,d=h.rect.y,v=h.rect.width,m=h.rect.height,g=n.toRGBA8.decodeImage(h.data,v,m,a);if(f==0?l=g:h.blend==0?n._copyTile(g,v,m,l,o,s,p,d,0):h.blend==1&&n._copyTile(g,v,m,l,o,s,p,d,1),c.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,v,m,l,o,s,p,d,0);else if(h.dispose==2){for(var _=f-1;a.frames[_].dispose==2;)_--;l=new Uint8Array(c[_]).slice(0)}}}return c},n.toRGBA8.decodeImage=function(a,o,s,c){var l=o*s,u=n.decode._getBPP(c),f=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=c.ctype,v=c.depth,m=n._bin.readUshort;if(d==6){var g=l<<2;if(v==8)for(var _=0;_<g;_++)h[_]=a[_];if(v==16)for(var _=0;_<g;_++)h[_]=a[_<<1]}else if(d==2){var y=c.tabs.tRNS,w=-1,b=-1,E=-1;if(y&&(w=y[0],b=y[1],E=y[2]),v==8)for(var _=0;_<l;_++){var C=_<<2,A=_*3;h[C]=a[A],h[C+1]=a[A+1],h[C+2]=a[A+2],h[C+3]=255,w!=-1&&a[A]==w&&a[A+1]==b&&a[A+2]==E&&(h[C+3]=0)}if(v==16)for(var _=0;_<l;_++){var C=_<<2,A=_*6;h[C]=a[A],h[C+1]=a[A+2],h[C+2]=a[A+4],h[C+3]=255,w!=-1&&m(a,A)==w&&m(a,A+2)==b&&m(a,A+4)==E&&(h[C+3]=0)}}else if(d==3){var T=c.tabs.PLTE,R=c.tabs.tRNS,O=R?R.length:0;if(v==1)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>3)]>>7-((_&7)<<0)&1,U=3*B;h[C]=T[U],h[C+1]=T[U+1],h[C+2]=T[U+2],h[C+3]=B<O?R[B]:255}if(v==2)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>2)]>>6-((_&3)<<1)&3,U=3*B;h[C]=T[U],h[C+1]=T[U+1],h[C+2]=T[U+2],h[C+3]=B<O?R[B]:255}if(v==4)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>1)]>>4-((_&1)<<2)&15,U=3*B;h[C]=T[U],h[C+1]=T[U+1],h[C+2]=T[U+2],h[C+3]=B<O?R[B]:255}if(v==8)for(var _=0;_<l;_++){var C=_<<2,B=a[_],U=3*B;h[C]=T[U],h[C+1]=T[U+1],h[C+2]=T[U+2],h[C+3]=B<O?R[B]:255}}else if(d==4){if(v==8)for(var _=0;_<l;_++){var C=_<<2,X=_<<1,ee=a[X];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[X+1]}if(v==16)for(var _=0;_<l;_++){var C=_<<2,X=_<<2,ee=a[X];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[X+2]}}else if(d==0){var w=c.tabs.tRNS?c.tabs.tRNS:-1;if(v==1)for(var _=0;_<l;_++){var ee=255*(a[_>>3]>>7-(_&7)&1),ne=ee==w*255?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==2)for(var _=0;_<l;_++){var ee=85*(a[_>>2]>>6-((_&3)<<1)&3),ne=ee==w*85?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==4)for(var _=0;_<l;_++){var ee=17*(a[_>>1]>>4-((_&1)<<2)&15),ne=ee==w*17?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==8)for(var _=0;_<l;_++){var ee=a[_],ne=ee==w?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==16)for(var _=0;_<l;_++){var ee=a[_<<1],ne=m(a,_<<1)==w?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,c=n._bin,l=c.readUshort,u=c.readUint,f={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,v=0,m=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(o[g]!=m[g])throw"The input is not a PNG file!";for(;s<o.length;){var _=c.readUint(o,s);s+=4;var y=c.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,f);else if(y=="IDAT"){for(var g=0;g<_;g++)h[p+g]=o[s+g];p+=_}else if(y=="acTL")f.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(v!=0){var w=f.frames[f.frames.length-1];w.data=n.decode._decompress(f,d.slice(0,v),w.rect.width,w.rect.height),v=0}var b={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var C={rect:b,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};f.frames.push(C)}else if(y=="fdAT"){for(var g=0;g<_-4;g++)d[v+g]=o[s+g+4];v+=_-4}else if(y=="pHYs")f.tabs[y]=[c.readUint(o,s),c.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){f.tabs[y]=[];for(var g=0;g<8;g++)f.tabs[y].push(c.readUint(o,s+g*4))}else if(y=="tEXt"){f.tabs[y]==null&&(f.tabs[y]={});var A=c.nextZero(o,s),T=c.readASCII(o,s,A-s),R=c.readASCII(o,A+1,s+_-A-1);f.tabs[y][T]=R}else if(y=="iTXt"){f.tabs[y]==null&&(f.tabs[y]={});var A=0,O=s;A=c.nextZero(o,O);var T=c.readASCII(o,O,A-O);O=A+1,o[O],o[O+1],O+=2,A=c.nextZero(o,O),c.readASCII(o,O,A-O),O=A+1,A=c.nextZero(o,O),c.readUTF8(o,O,A-O),O=A+1;var R=c.readUTF8(o,O,_-(O-s));f.tabs[y][T]=R}else if(y=="PLTE")f.tabs[y]=c.readBytes(o,s,_);else if(y=="hIST"){var P=f.tabs.PLTE.length/3;f.tabs[y]=[];for(var g=0;g<P;g++)f.tabs[y].push(l(o,s+g*2))}else if(y=="tRNS")f.ctype==3?f.tabs[y]=c.readBytes(o,s,_):f.ctype==0?f.tabs[y]=l(o,s):f.ctype==2&&(f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")f.tabs[y]=c.readUint(o,s)/1e5;else if(y=="sRGB")f.tabs[y]=o[s];else if(y=="bKGD")f.ctype==0||f.ctype==4?f.tabs[y]=[l(o,s)]:f.ctype==2||f.ctype==6?f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:f.ctype==3&&(f.tabs[y]=o[s]);else if(y=="IEND"){if(v!=0){var w=f.frames[f.frames.length-1];w.data=n.decode._decompress(f,d.slice(0,v),w.rect.width,w.rect.height),v=0}f.data=n.decode._decompress(f,h,f.width,f.height);break}s+=_,c.readUint(o,s),s+=4}return delete f.compress,delete f.interlace,delete f.filter,f},n.decode._decompress=function(a,o,s,c){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,c):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,c=o.height,l=n.decode._getBPP(o),u=l>>3,f=Math.ceil(s*l/8),h=new Uint8Array(c*f),p=0,d=[0,0,4,0,2,0,1],v=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],_=0;_<7;){for(var y=m[_],w=g[_],b=0,E=0,C=d[_];C<c;)C+=y,E++;for(var A=v[_];A<s;)A+=w,b++;var T=Math.ceil(b*l/8);n.decode._filterZero(a,o,p,b,E);for(var R=0,O=d[_];O<c;){for(var P=v[_],k=p+R*T<<3;P<s;){if(l==1){var L=a[k>>3];L=L>>7-(k&7)&1,h[O*f+(P>>3)]|=L<<7-((P&3)<<0)}if(l==2){var L=a[k>>3];L=L>>6-(k&7)&3,h[O*f+(P>>2)]|=L<<6-((P&3)<<1)}if(l==4){var L=a[k>>3];L=L>>4-(k&7)&15,h[O*f+(P>>1)]|=L<<4-((P&1)<<2)}if(l>=8)for(var B=O*f+P*u,U=0;U<u;U++)h[B+U]=a[(k>>3)+U];k+=l,P+=w}R++,O+=y}b*E!=0&&(p+=E*(1+T)),_=_+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,c,l){var u=n.decode._getBPP(o),f=Math.ceil(c*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*f,v=d+p+1,m=a[v-1];if(m==0)for(var g=0;g<f;g++)a[d+g]=a[v+g];else if(m==1){for(var g=0;g<u;g++)a[d+g]=a[v+g];for(var g=u;g<f;g++)a[d+g]=a[v+g]+a[d+g-u]&255}else if(p==0){for(var g=0;g<u;g++)a[d+g]=a[v+g];if(m==2)for(var g=u;g<f;g++)a[d+g]=a[v+g]&255;if(m==3)for(var g=u;g<f;g++)a[d+g]=a[v+g]+(a[d+g-u]>>1)&255;if(m==4)for(var g=u;g<f;g++)a[d+g]=a[v+g]+h(a[d+g-u],0,0)&255}else{if(m==2)for(var g=0;g<f;g++)a[d+g]=a[v+g]+a[d+g-f]&255;if(m==3){for(var g=0;g<u;g++)a[d+g]=a[v+g]+(a[d+g-f]>>1)&255;for(var g=u;g<f;g++)a[d+g]=a[v+g]+(a[d+g-f]+a[d+g-u]>>1)&255}if(m==4){for(var g=0;g<u;g++)a[d+g]=a[v+g]+h(0,a[d+g-f],0)&255;for(var g=u;g<f;g++)a[d+g]=a[v+g]+h(a[d+g-u],a[d+g-f],a[d+g-u-f])&255}}}return a},n.decode._paeth=function(a,o,s){var c=a+o-s,l=Math.abs(c-a),u=Math.abs(c-o),f=Math.abs(c-s);return l<=u&&l<=f?a:u<=f?o:s},n.decode._IHDR=function(a,o,s){var c=n._bin;s.width=c.readUint(a,o),o+=4,s.height=c.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[o+l]);return c},writeASCII:function(a,o,s){for(var c=0;c<s.length;c++)a[o+c]=s.charCodeAt(c)},readBytes:function(a,o,s){for(var c=[],l=0;l<s;l++)c.push(a[o+l]);return c},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var c="",l,u=0;u<s;u++)c+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(c)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,c,l,u,f,h,p){for(var d=Math.min(o,l),v=Math.min(s,u),m=0,g=0,_=0;_<v;_++)for(var y=0;y<d;y++)if(f>=0&&h>=0?(m=_*o+y<<2,g=(h+_)*l+f+y<<2):(m=(-h+_)*o-f+y<<2,g=_*l+y<<2),p==0)c[g]=a[m],c[g+1]=a[m+1],c[g+2]=a[m+2],c[g+3]=a[m+3];else if(p==1){var w=a[m+3]*.00392156862745098,b=a[m]*w,E=a[m+1]*w,C=a[m+2]*w,A=c[g+3]*(1/255),T=c[g]*A,R=c[g+1]*A,O=c[g+2]*A,P=1-w,k=w+A*P,L=k==0?0:1/k;c[g+3]=255*k,c[g+0]=(b+T*P)*L,c[g+1]=(E+R*P)*L,c[g+2]=(C+O*P)*L}else if(p==2){var w=a[m+3],b=a[m],E=a[m+1],C=a[m+2],A=c[g+3],T=c[g],R=c[g+1],O=c[g+2];w==A&&b==T&&E==R&&C==O?(c[g]=0,c[g+1]=0,c[g+2]=0,c[g+3]=0):(c[g]=b,c[g+1]=E,c[g+2]=C,c[g+3]=w)}else if(p==3){var w=a[m+3],b=a[m],E=a[m+1],C=a[m+2],A=c[g+3],T=c[g],R=c[g+1],O=c[g+2];if(w==A&&b==T&&E==R&&C==O)continue;if(w<220&&A>20)return!1}return!0},n.encode=function(a,o,s,c,l,u){c==null&&(c=0),u==null&&(u=!1);for(var f=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)f[p]=h[p];var d=8,v=n._bin,m=n.crc.crc,g=v.writeUint,_=v.writeUshort,y=v.writeASCII,w=n.encode.compressPNG(a,o,s,c,u);g(f,d,13),d+=4,y(f,d,"IHDR"),d+=4,g(f,d,o),d+=4,g(f,d,s),d+=4,f[d]=w.depth,d++,f[d]=w.ctype,d++,f[d]=0,d++,f[d]=0,d++,f[d]=0,d++,g(f,d,m(f,d-17,17)),d+=4,g(f,d,1),d+=4,y(f,d,"sRGB"),d+=4,f[d]=1,d++,g(f,d,m(f,d-5,5)),d+=4;var b=a.length>1;if(b&&(g(f,d,8),d+=4,y(f,d,"acTL"),d+=4,g(f,d,a.length),d+=4,g(f,d,0),d+=4,g(f,d,m(f,d-12,12)),d+=4),w.ctype==3){var E=w.plte.length;g(f,d,E*3),d+=4,y(f,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var C=p*3,A=w.plte[p],T=A&255,R=A>>8&255,O=A>>16&255;f[d+C+0]=T,f[d+C+1]=R,f[d+C+2]=O}if(d+=E*3,g(f,d,m(f,d-E*3-4,E*3+4)),d+=4,w.gotAlpha){g(f,d,E),d+=4,y(f,d,"tRNS"),d+=4;for(var p=0;p<E;p++)f[d+p]=w.plte[p]>>24&255;d+=E,g(f,d,m(f,d-E-4,E+4)),d+=4}}for(var P=0,k=0;k<w.frames.length;k++){var L=w.frames[k];b&&(g(f,d,26),d+=4,y(f,d,"fcTL"),d+=4,g(f,d,P++),d+=4,g(f,d,L.rect.width),d+=4,g(f,d,L.rect.height),d+=4,g(f,d,L.rect.x),d+=4,g(f,d,L.rect.y),d+=4,_(f,d,l[k]),d+=2,_(f,d,1e3),d+=2,f[d]=L.dispose,d++,f[d]=L.blend,d++,g(f,d,m(f,d-30,30)),d+=4);var B=L.cimg,E=B.length;g(f,d,E+(k==0?0:4)),d+=4;var U=d;y(f,d,k==0?"IDAT":"fdAT"),d+=4,k!=0&&(g(f,d,P++),d+=4);for(var p=0;p<E;p++)f[d+p]=B[p];d+=E,g(f,d,m(f,U,d-U)),d+=4}return g(f,d,0),d+=4,y(f,d,"IEND"),d+=4,g(f,d,m(f,d-4,4)),d+=4,f.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,c,l){for(var u=n.encode.compress(a,o,s,c,!1,l),f=0;f<a.length;f++){var h=u.frames[f];h.rect.width;var p=h.rect.height,d=h.bpl,v=h.bpp,m=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,v,d,m)}return u},n.encode.compress=function(a,o,s,c,l,u){u==null&&(u=!1);for(var f=6,h=8,p=4,d=255,v=0;v<a.length;v++)for(var m=new Uint8Array(a[v]),g=m.length,_=0;_<g;_+=4)d&=m[_+3];var y=d!=255,w={},b=[];if(a.length!=0&&(w[0]=0,b.push(0),c!=0&&c--),c!=0){var E=n.quantize(a,c,l);a=E.bufs;for(var _=0;_<E.plte.length;_++){var C=E.plte[_].est.rgba;w[C]==null&&(w[C]=b.length,b.push(C))}}else for(var v=0;v<a.length;v++)for(var A=new Uint32Array(a[v]),g=A.length,_=0;_<g;_++){var C=A[_];if((_<o||C!=A[_-1]&&C!=A[_-o])&&w[C]==null&&(w[C]=b.length,b.push(C),b.length>=300))break}var T=y?l:!1,R=b.length;R<=256&&u==!1&&(R<=2?h=1:R<=4?h=2:R<=16?h=4:h=8,l&&(h=8),y=!0);for(var O=[],v=0;v<a.length;v++){var P=new Uint8Array(a[v]),k=new Uint32Array(P.buffer),L=0,B=0,U=o,X=s,ee=0;if(v!=0&&!T){for(var ne=l||v==1||O[O.length-2].dispose==2?1:2,W=0,D=1e9,z=0;z<ne;z++){for(var Fe=new Uint8Array(a[v-1-z]),V=new Uint32Array(a[v-1-z]),G=o,ie=s,se=-1,me=-1,ue=0;ue<s;ue++)for(var we=0;we<o;we++){var _=ue*o+we;k[_]!=V[_]&&(we<G&&(G=we),we>se&&(se=we),ue<ie&&(ie=ue),ue>me&&(me=ue))}var Be=se==-1?1:(se-G+1)*(me-ie+1);Be<D&&(D=Be,W=z,se==-1?(L=B=0,U=X=1):(L=G,B=ie,U=se-G+1,X=me-ie+1))}var Fe=new Uint8Array(a[v-1-W]);W==1&&(O[O.length-1].dispose=2);var Ee=new Uint8Array(U*X*4);new Uint32Array(Ee.buffer),n._copyTile(Fe,o,s,Ee,U,X,-L,-B,0),n._copyTile(P,o,s,Ee,U,X,-L,-B,3)?(n._copyTile(P,o,s,Ee,U,X,-L,-B,2),ee=1):(n._copyTile(P,o,s,Ee,U,X,-L,-B,0),ee=0),P=Ee,k=new Uint32Array(P.buffer)}var Ae=4*U;if(R<=256&&u==!1){Ae=Math.ceil(h*U/8);for(var Ee=new Uint8Array(Ae*X),ue=0;ue<X;ue++){var _=ue*Ae,Ge=ue*U;if(h==8)for(var we=0;we<U;we++)Ee[_+we]=w[k[Ge+we]];else if(h==4)for(var we=0;we<U;we++)Ee[_+(we>>1)]|=w[k[Ge+we]]<<4-(we&1)*4;else if(h==2)for(var we=0;we<U;we++)Ee[_+(we>>2)]|=w[k[Ge+we]]<<6-(we&3)*2;else if(h==1)for(var we=0;we<U;we++)Ee[_+(we>>3)]|=w[k[Ge+we]]<<7-(we&7)*1}P=Ee,f=3,p=1}else if(y==!1&&a.length==1){for(var Ee=new Uint8Array(U*X*3),We=U*X,_=0;_<We;_++){var Ve=_*3,Xe=_*4;Ee[Ve]=P[Xe],Ee[Ve+1]=P[Xe+1],Ee[Ve+2]=P[Xe+2]}P=Ee,f=2,p=3,Ae=3*U}O.push({rect:{x:L,y:B,width:U,height:X},img:P,bpl:Ae,bpp:p,blend:ee,dispose:T?1:0})}return{ctype:f,depth:h,plte:b,gotAlpha:y,frames:O}},n.encode._filterZero=function(a,o,s,c,l){for(var u=[],f=0;f<5;f++)if(!(o*c>5e5&&(f==2||f==3||f==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,c,s,f);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,v=0;v<u.length;v++)u[v].length<d&&(p=v,d=u[v].length);return u[p]},n.encode._filterLine=function(a,o,s,c,l,u){var f=s*c,h=f+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<c;d++)a[h+d]=o[f+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[f+d];for(var d=l;d<c;d++)a[h+d]=o[f+d]-o[f+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[f+d];if(u==2)for(var d=l;d<c;d++)a[h+d]=o[f+d];if(u==3)for(var d=l;d<c;d++)a[h+d]=o[f+d]-(o[f+d-l]>>1)+256&255;if(u==4)for(var d=l;d<c;d++)a[h+d]=o[f+d]-p(o[f+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<c;d++)a[h+d]=o[f+d]+256-o[f+d-c]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-(o[f+d-c]>>1)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-(o[f+d-c]+o[f+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-p(0,o[f+d-c],0)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-p(o[f+d-l],o[f+d-c],o[f+d-l-c])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,c){for(var l=0;l<c;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var c=[],l=0,u=0;u<a.length;u++)c.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var f=new Uint8Array(l),h=new Uint32Array(f.buffer),p=0,u=0;u<c.length;u++){for(var d=c[u],v=d.length,m=0;m<v;m++)f[p+m]=d[m];p+=v}var g={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};g.bst=n.quantize.stats(f,g.i0,g.i1),g.est=n.quantize.estats(g.bst);for(var _=[g];_.length<o;){for(var y=0,w=0,u=0;u<_.length;u++)_[u].est.L>y&&(y=_[u].est.L,w=u);if(y<.001)break;var b=_[w],E=n.quantize.splitPixels(f,h,b.i0,b.i1,b.est.e,b.est.eMq255),C={i0:b.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};C.bst=n.quantize.stats(f,C.i0,C.i1),C.est=n.quantize.estats(C.bst);var A={i0:E,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};A.bst={R:[],m:[],N:b.bst.N-C.bst.N};for(var u=0;u<16;u++)A.bst.R[u]=b.bst.R[u]-C.bst.R[u];for(var u=0;u<4;u++)A.bst.m[u]=b.bst.m[u]-C.bst.m[u];A.est=n.quantize.estats(A.bst),b.left=C,b.right=A,_[w]=C,_.push(A)}_.sort(function(ne,W){return W.bst.N-ne.bst.N});for(var T=0;T<c.length;T++){for(var R=n.quantize.planeDst,O=new Uint8Array(c[T].buffer),P=new Uint32Array(c[T].buffer),k=O.length,u=0;u<k;u+=4){for(var L=O[u]*.00392156862745098,B=O[u+1]*(1/255),U=O[u+2]*(1/255),X=O[u+3]*(1/255),ee=g;ee.left;)ee=R(ee.est,L,B,U,X)<=0?ee.left:ee.right;P[u>>2]=ee.est.rgba}c[T]=P.buffer}return{bufs:c,plte:_}},n.quantize.getNearest=function(a,o,s,c,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,c,l),a;var u=n.quantize.planeDst(a.est,o,s,c,l),f=a.left,h=a.right;u>0&&(f=a.right,h=a.left);var p=n.quantize.getNearest(f,o,s,c,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,c,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,c,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*c+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,c,l){var u=o-a[0],f=s-a[1],h=c-a[2],p=l-a[3];return u*u+f*f+h*h+p*p},n.quantize.splitPixels=function(a,o,s,c,l,u){var f=n.quantize.vecDot;for(c-=4;s<c;){for(;f(a,s,l)<=u;)s+=4;for(;f(a,c,l)>u;)c-=4;if(s>=c)break;var h=o[s>>2];o[s>>2]=o[c>>2],o[c>>2]=h,s+=4,c-=4}for(;f(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,f=o;f<s;f+=4){var h=a[f]*.00392156862745098,p=a[f+1]*(1/255),d=a[f+2]*(1/255),v=a[f+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=v,c[0]+=h*h,c[1]+=h*p,c[2]+=h*d,c[3]+=h*v,c[5]+=p*p,c[6]+=p*d,c[7]+=p*v,c[10]+=d*d,c[11]+=d*v,c[15]+=v*v}return c[4]=c[1],c[8]=c[2],c[12]=c[3],c[9]=c[6],c[13]=c[7],c[14]=c[11],{R:c,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,c=a.N,l=s[0],u=s[1],f=s[2],h=s[3],p=c==0?0:1/c,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*f*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*f*p,o[7]-u*h*p,o[8]-f*l*p,o[9]-f*u*p,o[10]-f*f*p,o[11]-f*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*f*p,o[15]-h*h*p],v=d,m=n.M4,g=[.5,.5,.5,.5],_=0,y=0;if(c!=0)for(var w=0;w<10&&(g=m.multVec(v,g),y=Math.sqrt(m.dot(g,g)),g=m.sml(1/y,g),!(Math.abs(y-_)<1e-9));w++)_=y;var b=[l*p,u*p,f*p,h*p],E=m.dot(m.sml(255,b),g),C=b[3]<.001?0:1/b[3];return{Cov:d,q:b,e:g,L:_,eMq255:E,eMq:m.dot(g,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2]*C)<<16|Math.round(255*b[1]*C)<<8|Math.round(255*b[0]*C)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),c=a.length>>2,l=0;l<c;l++){var u=l<<2,f=a[u+3];o&&(f=f<128?0:255);var h=f*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=f}return s}}(e,r)})()})(RY);var r7e=RY.exports;const pj=Xi(r7e);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yR=function(t,e){return yR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yR(t,e)};function n7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var i7e=function(t){n7e(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new Rv(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Hu);function a7e(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new kt(new hr(a,Object.assign({mipmap:ka.OFF,alphaMode:_a.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);hr.addToCache(s,c),kt.addToCache(a,c),o===0&&(hr.addToCache(s,t),kt.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(c),n.frameDelay.push(s.resource.delay),n.textures[c]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Br.setExtensionXhrType("apng",Br.XHR_RESPONSE_TYPE.BUFFER);var vj=[97,99,84,76],o7e=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const c=await s.arrayBuffer(),l=new Uint8Array(c);if(t.validate(o,l))Object.assign(e,a7e(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=pj.decode(r),i=n.width,a=n.height,o=n.frames,s=pj.toRGBA8(n),c=[];s.forEach(function(u,f){var h=o[f],p=h.delay;c.push({data:new Uint8Array(u),delay:p})});var l=c.map(function(u){return new i7e(u.data,{width:i,height:a,framesCount:c.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<vj.length;i++)if(n[i]!==vj[i])return!1;return!0},t}();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var xR=function(t,e){return xR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xR(t,e)},bR=function(){return bR=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},bR.apply(this,arguments)},Zc={},LY={},dl={};Object.defineProperty(dl,"__esModule",{value:!0}),dl.loop=dl.conditional=dl.parse=void 0;dl.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};dl.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};dl.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.readBits=jn.readArray=jn.readUnsigned=jn.readString=jn.peekBytes=jn.readBytes=jn.peekByte=jn.readByte=jn.buildStream=void 0;jn.buildStream=function(t){return{data:t,pos:0}};var s7e=function(){return function(t){return t.data[t.pos++]}};jn.readByte=s7e;jn.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var kb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};jn.readBytes=kb;jn.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};jn.readString=function(t){return function(e){return Array.from(kb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};jn.readUnsigned=function(t){return function(e){var r=kb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};jn.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=kb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};jn.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=dl,r=jn,n={blocks:function(u){for(var f=[],h=u.data.length,p=0,d=(0,r.readByte)()(u);d!==0&&d;d=(0,r.readByte)()(u)){if(u.pos+d>=h){var v=h-u.pos;f.push((0,r.readBytes)(v)(u)),p+=v;break}f.push((0,r.readBytes)(d)(u)),p+=d}for(var m=new Uint8Array(p),g=0,_=0;_<f.length;_++)m.set(f[_],g),g+=f[_].length;return m}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(LY);var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0}),Ax.deinterlace=void 0;Ax.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var Tx={};Object.defineProperty(Tx,"__esModule",{value:!0}),Tx.lzw=void 0;Tx.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_,y=4096,w=r,b=new Array(r),E=new Array(y),C=new Array(y),A=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)E[u]=0,C[u]=u;for(p=d=v=m=g=_=0,f=0;f<w;){if(m===0){if(d<o){p+=e[_]<<d,d+=8,_++;continue}if(u=p&a,p>>=o,d-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){A[m++]=C[u],l=u,v=u;continue}for(c=u,u==n&&(A[m++]=v,u=l);u>i;)A[m++]=C[u],u=E[u];v=255&C[u],A[m++]=v,n<y&&(E[n]=l,C[n]=v,!(++n&a)&&n<y&&(o++,a+=n)),l=c}m--,b[g++]=A[m],f++}for(f=g;f<w;f++)b[f]=0;return b},Object.defineProperty(Zc,"__esModule",{value:!0});var b_,MY=Zc.decompressFrames=Zc.decompressFrame=BY=Zc.parseGIF=void 0,l7e=(b_=LY)&&b_.__esModule?b_:{default:b_},u7e=dl,c7e=jn,f7e=Ax,h7e=Tx,BY=Zc.parseGIF=function(t){var e=new Uint8Array(t);return(0,u7e.parse)((0,c7e.buildStream)(e),l7e.default)},DY=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,h7e.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,f7e.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],p=s.colorTable[h]||[0,0,0];l[f]=p[0],l[f+1]=p[1],l[f+2]=p[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Zc.decompressFrame=DY;MY=Zc.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return DY(r,t.gct,e)})};var d7e=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,p){var d={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&p.indexOf(v)<0&&(d[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(v=Object.getOwnPropertySymbols(h);m<v.length;m++)p.indexOf(v[m])<0&&Object.prototype.propertyIsEnumerable.call(h,v[m])&&(d[v[m]]=h[v[m]])}return d}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,kt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}xR(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=BY(r);(function(L){for(var B,U=null,X=0,ee=L.frames;X<ee.length;X++){var ne=ee[X];U=(B=ne.gce)!==null&&B!==void 0?B:U,"image"in ne&&!("gce"in ne)&&(ne.gce=U)}})(i);var a=MY(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,p=0;p<a.length;p++){var d=a[p],v=d.disposalType,m=v===void 0?2:v,g=d.delay,_=g===void 0?h:g,y=d.patch,w=d.dims,b=w.width,E=w.height,C=w.left,A=w.top;l.width=b,l.height=E,u.clearRect(0,0,b,E);var T=u.createImageData(b,E);T.data.set(y),u.putImageData(T,0,0),c.drawImage(l,C,A);var R=c.getImageData(0,0,s.width,s.height);m!==2&&m!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+_,imageData:R}),f+=_}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,k=O.height;return new e(o,bR({width:P,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this,Qo.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/yt.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:Ci.LINEAR,fps:bn.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(Xa);window.PIXI=Rje;Fa.registerPlugin(o7e);class p7e{constructor(){ct(this,"currentApp",null);ct(this,"effectsContainer");ct(this,"frameDuration",16.67);ct(this,"notUpdateBacklogEffects",!1);ct(this,"figureContainer");ct(this,"figureObjects",[]);ct(this,"backgroundContainer");ct(this,"backgroundObjects",[]);ct(this,"stageAnimations",[]);ct(this,"assetLoader",new Fa);ct(this,"loadQueue",[]);ct(this,"live2dFigureRecorder",[]);ct(this,"lockTransformTarget",[]);ct(this,"stageWidth",ox().width||Wc.width);ct(this,"stageHeight",ox().height||Wc.height);ct(this,"MAX_TEX_COUNT",10);const e=new bg({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),pk&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new di,this.effectsContainer.zIndex=3,this.figureContainer=new di,this.figureContainer.zIndex=2,this.backgroundContainer=new di,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:rp(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:rp(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};fe.dispatch(Gn.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Xa(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const v=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Xa(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const v=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r,n,i){var h,p;const a=this.assetLoader,o=new _C;this.backgroundObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const l=(d,v,m,g)=>{fetch(d).then(_=>_.arrayBuffer()).then(d7e.fromBuffer).then(_=>{v&&(_.transform=v.transform),m&&(_.width=Tt(m)),g&&(_.height=Tt(g)),o.addChild(_)})};this.backgroundContainer.addChild(o);const u=rp();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var v,m;const d=(m=(v=a.resources)==null?void 0:v[r])==null?void 0:m.texture;if(d&&this.getStageObjByUuid(u)){const g=d.width,_=d.height,y=this.stageWidth/g,w=this.stageHeight/_,b=Math.max(y,w),E=new Xa(d);if(E.scale.x=b,E.scale.y=b,E.anchor.set(.5),r.includes(".gif")){l(r,E,n,i);return}E.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(p=(h=a.resources)==null?void 0:h[r])!=null&&p.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new _C;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=rp();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var v,m;const p=(m=(v=a.resources)==null?void 0:v[r])==null?void 0:m.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const g=a.resources[r],_=[];if(i){const{frameDelay:w,textures:b,frameCount:E}=g;d=w,Object.values(b||[]).forEach(C=>{_.push(C)})}(w=>{const b=p.width,E=p.height,C=this.stageWidth/b,A=this.stageHeight/E,T=Math.min(C,A),R=i?new xW(w):new Xa(p);R.scale.x=T,R.scale.y=T,R.anchor.set(.5),R.position.y=this.stageHeight/2;const O=b*T,P=E*T;if(o.setBaseY(this.stageHeight/2),P<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-P/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(O/2),n==="right"&&o.setBaseX(this.stageWidth-O/2),i){const k=R;let L=0,B=1;const U=()=>{k.gotoAndStop(L),setTimeout(()=>{L===w.length-1&&(B=-1),L===0&&(B=1),L+=B,U()},d[L])};U()}o.pivot.set(0,this.stageHeight/2),o.addChild(R)})(_)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new _C;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=rp();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const v=new zGe(h.spineData),m=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(v);const g=v.width,_=v.height,y=this.stageWidth/g,w=this.stageHeight/_;v.y=-(w*m)/2,console.log(v.state),v.state.setAnimation(0,"07",!0);const b=Math.min(y,w),E=new Xa;E.addChild(v),E.scale.x=b,E.scale.y=b,E.anchor.set(.5),E.position.y=this.stageHeight/2;const C=g*b,A=_*b;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,p,d;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const m=a.pixiContainer.children;for(const g of m)g!=null&&g.internalModel&&((s=(o=g==null?void 0:g.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=g==null?void 0:g.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=g==null?void 0:g.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((d=(p=g==null?void 0:g.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){VX()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Je.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){FC==null||FC(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const FC=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),v7e="_Toaster_container_1phox_1",g7e="_Toaster_image_1phox_16",m7e="_Toaster_text_1phox_27",_7e="_Toaster_fadeIn_1phox_34",y7e="_K_Toaster_fadein_1phox_1",x7e="_Toaster_slideIn_1phox_38",b7e="_K_Toaster_slidein_1phox_1",w7e="_Toaster_out_1phox_45",E7e="_K_Toaster_fadeout_1phox_1",np={Toaster_container:v7e,Toaster_image:g7e,Toaster_text:m7e,Toaster_fadeIn:_7e,K_Toaster_fadein:y7e,Toaster_slideIn:x7e,K_Toaster_slidein:b7e,Toaster_out:w7e,K_Toaster_fadeout:E7e},p4=t=>{const[e,r]=ve.useState();return N.jsx("img",{...t,style:e?{...t.style,width:e.width,height:e.height}:t.style,onLoad:n=>{r({width:Tt(n.currentTarget.naturalWidth),height:Tt(n.currentTarget.naturalHeight)})}})};let S7e=510;function C7e(){const[t,e]=ve.useState(!1),[r,n]=ve.useState({}),[i,a]=ve.useState(!1),o=ve.useRef({showTimer:null,animationTimer:null});if(ve.useEffect(()=>{const c=()=>{o.current.showTimer&&(clearTimeout(o.current.showTimer),o.current.showTimer=null),o.current.animationTimer&&(clearTimeout(o.current.animationTimer),o.current.animationTimer=null),a(!1)},l=window.pubsub.subscribe("toaster",u=>{u.show&&(n({text:u.text,image:u.image,animation:u.animation||"fadeIn"}),c(),e(!0),o.current.showTimer=setTimeout(()=>{a(!0),o.current.animationTimer=setTimeout(()=>{e(!1),a(!1)},S7e)},u.duration??3e3))});return()=>{l(),c()}},[]),!t)return null;const s=[np.Toaster_container,r.image?np.Toaster_image:"",r.animation?np[`Toaster_${r.animation}`]:"",i?np.Toaster_out:""].join(" ");return N.jsxs("div",{className:s,children:[r.image&&N.jsx(p4,{src:r.image}),r.text&&N.jsx("div",{className:np.Toaster_text,children:r.text})]})}const A7e="_BuyGame_container_1jftv_2",T7e="_BuyGame_inner_1jftv_15",I7e="_fadeIn_1jftv_1",R7e="_BuyGame_close_1jftv_20",P7e="_BuyGame_price_1jftv_26",O7e="_BuyGame_button_1jftv_36",k7e="_BuyGame_pay_container_1jftv_60",F7e="_BuyGame_pay_tip_1jftv_70",N7e="_BuyGame_pay_close_1jftv_83",L7e="_BuyGame_pay_title_1jftv_96",M7e="_BuyGame_select_text_1jftv_108",B7e="_BuyGame_info_block_1jftv_118",D7e="_BuyGame_info_row_1jftv_127",U7e="_BuyGame_game_cover_1jftv_132",j7e="_BuyGame_game_cover_inner_1jftv_141",$7e="_BuyGame_info_name_1jftv_154",G7e="_BuyGame_info_text_1jftv_163",V7e="_BuyGame_info_tag_1jftv_171",H7e="_BuyGame_info_price_1jftv_178",X7e="_BuyGame_info_price_stone_1jftv_196",z7e="_BuyGame_price_row_1jftv_203",W7e="_BuyGame_price_stone_1jftv_210",Y7e="_BuyGame_price_text_1jftv_217",q7e="_BuyGame_price_button_1jftv_225",Wr={BuyGame_container:A7e,BuyGame_inner:T7e,fadeIn:I7e,BuyGame_close:R7e,BuyGame_price:P7e,BuyGame_button:O7e,BuyGame_pay_container:k7e,BuyGame_pay_tip:F7e,BuyGame_pay_close:N7e,BuyGame_pay_title:L7e,BuyGame_select_text:M7e,BuyGame_info_block:B7e,BuyGame_info_row:D7e,BuyGame_game_cover:U7e,BuyGame_game_cover_inner:j7e,BuyGame_info_name:$7e,BuyGame_info_text:G7e,BuyGame_info_tag:V7e,BuyGame_info_price:H7e,BuyGame_info_price_stone:X7e,BuyGame_price_row:z7e,BuyGame_price_stone:W7e,BuyGame_price_text:Y7e,BuyGame_price_button:q7e},K7e=""+new URL("buy-game-success.png",import.meta.url).href;function Z7e(){const[t,e]=ve.useState(!1),{playSeEnter:r,playSeClick:n}=Vd(),{gameInfo:i}=vt(s=>s.storeData),a=ve.useRef({buyGameCallback:()=>{},startGameCallback:()=>{}}),o=async()=>{n();const s=await RV();window.pubsub.publish("loading",{loading:!1}),s.code===0||s.code===10053?(s.code===0&&window.pubsub.publish("toaster",{show:!0,image:K7e,animation:"slideIn"}),e(!1),a.current.startGameCallback()):s.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:s.message})};return ve.useEffect(()=>window.pubsub.subscribe("showBuyGameModal",({buyGameCallback:c,startGameCallback:l})=>{e(!0),a.current={buyGameCallback:c,startGameCallback:l}}),[]),t?N.jsx("div",{className:Wr.BuyGame_container,children:N.jsxs("div",{className:Wr.BuyGame_pay_container,children:[N.jsx("div",{className:Wr.BuyGame_pay_tip}),N.jsx("div",{className:Wr.BuyGame_pay_close,onMouseEnter:r,onClick:()=>{n(),e(!1),a.current.buyGameCallback()}}),N.jsx("div",{className:Wr.BuyGame_pay_title,children:""}),N.jsx("div",{className:Wr.BuyGame_select_text,children:"1"}),N.jsxs("div",{className:Wr.BuyGame_info_block,children:[N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("div",{className:Wr.BuyGame_game_cover,children:N.jsx("div",{className:Wr.BuyGame_game_cover_inner,children:N.jsx("img",{src:(i==null?void 0:i.coverPic)||""})})}),N.jsxs("div",{children:[N.jsx("div",{className:Wr.BuyGame_info_name,children:(i==null?void 0:i.name)||""}),N.jsx("div",{className:Wr.BuyGame_info_tag,children:i==null?void 0:i.tagList.map(s=>N.jsx("div",{className:Wr.BuyGame_info_text,children:s.tagName},s.tagId))})]})]}),N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_info_text,children:":"}),N.jsxs("div",{className:Wr.BuyGame_info_price,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_info_price_stone})]})]})]}),N.jsxs("div",{className:Wr.BuyGame_price_row,children:[N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_price_text,style:{marginRight:Tt(4)},children:":"}),N.jsxs("div",{className:Wr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_price_stone})]})]}),N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_price_text,style:{marginRight:Tt(4)},children:":"}),N.jsxs("div",{className:Wr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_price_stone})]}),N.jsx("div",{className:Wr.BuyGame_price_button,onMouseEnter:r,onClick:o})]})]})]})}):null}const J7e=""+new URL("xingshiIcon.webp",import.meta.url).href,Q7e=""+new URL("modal-close.png",import.meta.url).href,eVe="_Recharge_container_1ve9d_1",tVe="_Recharge_inner_1ve9d_14",rVe="_fadeIn_1ve9d_1",nVe="_RechargeModal_modalTitle_1ve9d_23",iVe="_RechargeModal_rechargeModalItem_1ve9d_40",aVe="_RechargeModal_rechargeModalItemChecked_1ve9d_57",oVe="_RechargeModal_rechargeCardIcon_1ve9d_61",sVe="_RechargeModal_rechargeModalCard_1ve9d_71",lVe="_RechargeModal_rechargeModalList_1ve9d_78",uVe="_RechargeModal_rechargeCardDiscount_1ve9d_87",cVe="_RechargeModal_rechargeModalItemHead_1ve9d_114",fVe="_RechargeModal_rechargeModalItemContent_1ve9d_144",hVe="_RechargeModal_rechargeModalItemBtn_1ve9d_166",dVe="_RechargeModal_rechargeModalItemImg_1ve9d_170",pVe="_RechargeModal_rechargeModalListBottom_1ve9d_198",vVe="_RechargeModal_modalFooter_1ve9d_208",gVe="_RechargeModal_modalFooterLeft_1ve9d_223",mVe="_RechargeModal_modalFooterRight_1ve9d_227",_Ve="_RechargeModal_modalFooterConfirm_1ve9d_237",yVe="_Recharge_modal_close_1ve9d_261",si={Recharge_container:eVe,Recharge_inner:tVe,fadeIn:rVe,RechargeModal_modalTitle:nVe,RechargeModal_rechargeModalItem:iVe,RechargeModal_rechargeModalItemChecked:aVe,RechargeModal_rechargeCardIcon:oVe,RechargeModal_rechargeModalCard:sVe,RechargeModal_rechargeModalList:lVe,RechargeModal_rechargeCardDiscount:uVe,RechargeModal_rechargeModalItemHead:cVe,RechargeModal_rechargeModalItemContent:fVe,RechargeModal_rechargeModalItemBtn:hVe,RechargeModal_rechargeModalItemImg:dVe,RechargeModal_rechargeModalListBottom:pVe,RechargeModal_modalFooter:vVe,RechargeModal_modalFooterLeft:gVe,RechargeModal_modalFooterRight:mVe,RechargeModal_modalFooterConfirm:_Ve,Recharge_modal_close:yVe};function xVe(){const[t,e]=ve.useState(!1),{playSeEnter:r,playSeClick:n}=Vd();vt(p=>p.storeData);const i=ve.useRef({successCallback:()=>{},closeCallback:()=>{}}),[a,o]=ve.useState([]),[s,c]=ve.useState(),l=async p=>{var v,m;const d=await qSe(p);d.code===0?((v=d.data)==null?void 0:v.pay_status)===2?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),i.current.successCallback(),e(!1)):((m=d.data)==null?void 0:m.pay_status)===3?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),e(!1)):setTimeout(()=>{l(p)},3e3):(window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1}),e(!1))},u=async()=>{r(),window.pubsub.publish("loading",{loading:!0});const p=await YSe((s==null?void 0:s.id)||0);if(p.code===0){const d=p.data.order_no;l(d)}else window.pubsub.publish("toaster",{show:!0,text:p.message}),window.pubsub.publish("loading",{loading:!1})},f=async()=>{n(),u()},h=async()=>{var d;window.pubsub.publish("loading",{loading:!0});const p=await WSe();p.code===0?(o(ug.chunk(p.data||[],3)),c((d=p.data)==null?void 0:d[0])):window.pubsub.publish("toaster",{show:!0,text:p.message}),window.pubsub.publish("loading",{loading:!1})};return ve.useEffect(()=>window.pubsub.subscribe("rechargeModal",({successCallback:d,closeCallback:v})=>{e(!0),h(),d&&(i.current.successCallback=d),v&&(i.current.closeCallback=v)}),[]),!t||!a.length?null:N.jsx("div",{className:si.Recharge_container,children:N.jsxs("div",{className:si.Recharge_inner,children:[N.jsx("div",{className:si.RechargeModal_modalTitle,children:N.jsx("div",{children:""})}),N.jsx(p4,{src:Q7e,className:si.Recharge_modal_close,onMouseEnter:r,onClick:()=>{n(),e(!1),i.current.closeCallback()}}),N.jsx("div",{className:si.RechargeModal_rechargeModalCard,children:a.map((p,d)=>N.jsxs("div",{className:si.RechargeModal_rechargeModalList,children:[p.map((v,m)=>N.jsxs("div",{className:`${si.RechargeModal_rechargeModalItem} ${v===s?si.RechargeModal_rechargeModalItemChecked:""}`,onMouseEnter:r,onClick:()=>{n(),c(v)},children:[N.jsx("div",{className:si.RechargeModal_rechargeCardIcon}),!!v.discount&&N.jsxs("div",{className:si.RechargeModal_rechargeCardDiscount,children:[N.jsx("span",{children:v.discount}),""]}),N.jsx("div",{className:si.RechargeModal_rechargeModalItemHead,children:N.jsxs("div",{children:[v.bonus_packs_title,N.jsx("img",{src:J7e,alt:""}),v.bonus_packs_num]})}),N.jsxs("div",{className:si.RechargeModal_rechargeModalItemContent,children:[N.jsx("img",{src:v.icon||"http://dummyimage.com/100x100",alt:"",className:si.RechargeModal_rechargeModalItemImg}),N.jsxs("div",{children:[N.jsx("span",{children:"X"})," ",v.beans]})]}),N.jsxs("div",{className:si.RechargeModal_rechargeModalItemBtn,children:[N.jsx("span",{children:"$"}),v.price]})]},m)),N.jsx("div",{className:si.RechargeModal_rechargeModalListBottom})]},d))}),N.jsxs("div",{className:si.RechargeModal_modalFooter,children:[N.jsx("div",{className:si.RechargeModal_modalFooterLeft,children:""}),N.jsxs("div",{className:si.RechargeModal_modalFooterRight,children:[N.jsxs("span",{children:["$",s==null?void 0:s.price]}),N.jsx("div",{className:si.RechargeModal_modalFooterConfirm,onClick:f,children:""})]})]})]})})}const bVe="_progressAchievement_s0txt_2",wVe="_bg_s0txt_11",EVe="_btn_s0txt_17",SVe="_contentContainer_s0txt_24",CVe="_chapterTag_s0txt_46",AVe="_affinityTag_s0txt_65",TVe="_achievementTag_s0txt_84",IVe="_goBack_s0txt_103",dc={progressAchievement:bVe,bg:wVe,btn:EVe,contentContainer:SVe,chapterTag:CVe,affinityTag:AVe,achievementTag:TVe,goBack:IVe},RVe="_affinity_d5bi0_1",PVe="_affinityList_d5bi0_13",NC={affinity:RVe,affinityList:PVe},UY=()=>{const{playSeClick:t,playSeEnter:e}=Nn(),r=Yr(),n=vt(s=>s.GUI),i=vt(s=>s.saveData.unlockAffinityData),a=vt(s=>s.GUI.gameUIConfigs[ci.affinity]);ve.useEffect(()=>{eb(),n.showStoryLine&&r(Pr.setShowStoryline(!1))},[n.showStoryLine]);const o=()=>{t(),wf()};return N.jsx(N.Fragment,{children:n.showAffinity&&N.jsxs("div",{className:NC.affinity,children:[N.jsx(Vi,{item:a.buttons.Affinity_back_button,defaultClass:NC.goBack,onClick:o,onMouseEnter:e}),N.jsx(Vi,{item:a.other[pv.Affinity_title],onClick:o,onMouseEnter:e}),N.jsx(Jd,{item:a.other[pv.Affinity_bg],defaultClass:NC.affinityBg}),i==null?void 0:i.map((s,c)=>{const{name:l,url:u,x:f,y:h,isUnlocked:p}=s;return p?N.jsx(p4,{src:Wt(u,zt.ui),alt:l,style:{position:"absolute",left:Tt(f),top:Tt(h)}},c):null}),N.jsx(oX,{})]})})},OVe=()=>{const{playSeClick:t,playSeEnter:e}=Nn(),r=Yr(),n=vt(c=>c.GUI),i=vt(c=>c.GUI.gameUIConfigs[ci.progressAndAchievement]),[a,o]=ve.useState("chapter");ve.useEffect(()=>{oT()},[]);const s=()=>{t(),wf(),r(bt({component:"showAffinity",visibility:!1})),r(bt({component:"showProgressAndAchievement",visibility:!1})),r(bt({component:"showAchievement",visibility:!1}))};return N.jsx(N.Fragment,{children:n.showProgressAndAchievement&&N.jsxs("div",{className:dc.progressAchievement,children:[N.jsx(Jd,{defaultClass:dc.bg,item:i.other[dv.Progress_bg]}),N.jsx(Vi,{item:i.buttons.Progress_back_button,defaultClass:dc.goBack,onClick:s,onMouseEnter:e}),N.jsx(Vi,{item:i.buttons.Progress_chapter_button,defaultClass:dc.chapterTag,type:"checkbox",checked:a==="chapter",onClick:()=>{oT(),t(),o("chapter")},onMouseEnter:e}),N.jsx(Vi,{item:i.buttons.Progress_achievement_button,defaultClass:dc.achievementTag,type:"checkbox",checked:a==="achievement",onClick:()=>{t(),HH(),o("achievement")},onMouseEnter:e}),N.jsx(Vi,{item:i.buttons.Progress_affinity_button,defaultClass:dc.affinityTag,type:"checkbox",checked:a==="affinity",onClick:()=>{t(),ETe(),o("affinity")},onMouseEnter:e}),N.jsxs(zH,{defaultClass:dc.contentContainer,item:i.other[dv.Progress_content_container],children:[a==="chapter"&&N.jsx(uX,{}),a==="achievement"&&N.jsx(cX,{}),a==="affinity"&&N.jsx(UY,{})]})]})})};function kVe(){const[t,e]=ve.useState(!1),r=Yr(),n=vt(i=>i.GUI);return ve.useEffect(()=>{sPe();const i=localStorage.getItem("editor-token"),a=new URLSearchParams(window.location.search).get("token");if(a||i){e(!0),r(_0e(a||""));let o={current:{gameReady:!1,previewMode:!1,previewModeValue:!1}};const s=()=>{o.current.gameReady&&!o.current.previewMode||(Y.gameplay.pixiStage=new p7e,o.current.previewModeValue?zSe().then(c=>{window.pubsub.publish("gameInfoReady");const l=localStorage.getItem("editorUserInfo")||"{}",u=JSON.parse(l);c.code===0&&c.data.authorId!==u.userId&&(r(zB(!1)),e(!1))}):(EO().then(c=>{c.code===0?window.pubsub.publish("gameInfoReady"):(window.pubsub.publish("gameInfoReady"),Jo({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}}))}),XSe()))};window.pubsub.subscribe("gameReady",()=>{o.current.gameReady=!0,s()}),window.pubsub.subscribe("isPreviewMode",c=>{o.current.previewMode=!0,o.current.previewModeValue=c,r(zB(c)),s()})}else alert("")},[]),X4e(),t?N.jsxs("div",{className:"App",children:[N.jsx(xVe,{}),N.jsx(Z7e,{}),N.jsx(C7e,{}),N.jsx(iFe,{}),N.jsx(V4e,{}),N.jsx(A3e,{}),N.jsx(T3e,{}),N.jsx(O4e,{}),N.jsx(I3e,{}),N.jsx(WRe,{}),N.jsx(QRe,{}),N.jsx(C4e,{}),N.jsx(nke,{}),N.jsx($Se,{}),N.jsx(H4e,{}),N.jsx(L4e,{}),N.jsx(uX,{}),!n.showProgressAndAchievement&&N.jsx(cX,{}),N.jsx(xNe,{}),N.jsx(TNe,{}),N.jsx(eFe,{}),N.jsx(OVe,{}),!n.showProgressAndAchievement&&N.jsx(UY,{})]}):null}function bu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wR(t,e)}function Fb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}function Sg(t,e){if(e&&(Ei(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bu(t)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ls(t)}function FVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NVe(t){return eX(t)||FVe(t)||tX(t)||rX()}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LVe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},MVe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rs(this,t),this.init(e,r)}return ns(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||LVe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,mj(mj({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Es=new MVe,Du=function(){function t(){rs(this,t),this.observers={}}return ns(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function ip(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function _j(t){return t==null?"":""+t}function BVe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function v4(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function yj(t,e,r){var n=v4(t,e,Object),i=n.obj,a=n.k;i[a]=r}function DVe(t,e,r,n){var i=v4(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Ix(t,e){var r=v4(t,e),n=r.obj,i=r.k;if(n)return n[i]}function UVe(t,e,r){var n=Ix(t,r);return n!==void 0?n:Ix(e,r)}function jY(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):jY(t[n],e[n],r):t[n]=e[n]);return t}function sh(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jVe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $Ve(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return jVe[e]}):t}var Nb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,GVe=[" ",",","?","!",";"];function VVe(t,e,r){e=e||"",r=r||"";var n=GVe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function Rx(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?Rx(c,l,r):void 0}i=i[n[a]]}return i}}function xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HVe(t){var e=XVe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sg(this,i)}}function XVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var zVe=function(t){Fb(r,t);var e=HVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return rs(this,r),i=e.call(this),Nb&&Du.call(bu(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return ns(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=Ix(this.data,u);return f||!l||typeof o!="string"?f:Rx(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),yj(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=Ix(this.data,u)||{};s?jY(f,o,c):f=w_(w_({},f),o),yj(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?w_(w_({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Du),$Y={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WVe(t){var e=YVe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sg(this,i)}}function YVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var wj={},Ej=function(t){Fb(r,t);var e=WVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rs(this,r),i=e.call(this),Nb&&Du.call(bu(i)),BVe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,bu(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Es.create("translator"),i}return ns(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!VVe(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(Ei(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Ei(a)==="object"&&(a=Ki({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(v){var m=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(p).concat(m).concat(f),usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:"".concat(p).concat(m).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:f}var g=this.resolve(i,a),_=g&&g.res,y=g&&g.usedKey||f,w=g&&g.exactUsedKey||f,b=Object.prototype.toString.apply(_),E=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(A&&_&&T&&E.indexOf(b)<0&&!(typeof C=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,_,Ki(Ki({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(g.res=R,g):R}if(l){var O=b==="[object Array]",P=O?[]:{},k=O?w:y;for(var L in _)if(Object.prototype.hasOwnProperty.call(_,L)){var B="".concat(k).concat(l).concat(L);P[L]=this.translate(B,Ki(Ki({},a),{joinArrays:!1,ns:h})),P[L]===B&&(P[L]=_[L])}_=P}}else if(A&&typeof C=="string"&&b==="[object Array]")_=_.join(C),_&&(_=this.extendTranslation(_,i,a,o));else{var U=!1,X=!1,ee=a.count!==void 0&&typeof a.count!="string",ne=r.hasDefaultValue(a),W=ee?this.pluralResolver.getSuffix(d,a.count,a):"",D=a["defaultValue".concat(W)]||a.defaultValue;!this.isValidLookup(_)&&ne&&(U=!0,_=D),this.isValidLookup(_)||(X=!0,_=f);var z=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,V=z&&X?void 0:_,G=ne&&D!==_&&this.options.updateMissing;if(X||U||G){if(this.logger.log(G?"updateKey":"missingKey",d,p,f,G?D:_),l){var ie=this.resolve(f,Ki(Ki({},a),{},{keySeparator:!1}));ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var se=[],me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(var ue=0;ue<me.length;ue++)se.push(me[ue]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(a.lng||this.language):se.push(a.lng||this.language);var we=function(Fe,Ee,Ae){var Ge=ne&&Ae!==_?Ae:V;s.options.missingKeyHandler?s.options.missingKeyHandler(Fe,p,Ee,Ge,G,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Fe,p,Ee,Ge,G,a),s.emit("missingKey",Fe,p,Ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?se.forEach(function(Be){s.pluralResolver.getSuffixes(Be,a).forEach(function(Fe){we([Be],f+Fe,a["defaultValue".concat(Fe)]||D)})}):we(se,f,D))}_=this.extendTranslation(_,i,a,g,o),X&&_===f&&this.options.appendNamespaceToMissingKey&&(_="".concat(p,":").concat(f)),(X||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(f):f,U?_:void 0):_=this.options.parseMissingKeyHandler(_))}return c?(g.res=_,g):_}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Ki(Ki({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Ki(Ki({},o),{interpolation:Ki(Ki({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=Ki(Ki({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),v=d&&d.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var _=arguments.length,y=new Array(_),w=0;w<_;w++)y[w]=arguments[w];return c&&c[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,g=typeof m=="string"?[m]:m;return i!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(i=$Y.handle(g,i,a,this.options&&this.options.postProcessPassResolved?Ki({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;c=d;var v=p.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",g=m&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),_=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(w){a.isValidLookup(s)||(f=w,!wj["".concat(y[0],"-").concat(w)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(wj["".concat(y[0],"-").concat(w)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(b){if(!a.isValidLookup(s)){u=b;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,b,w,o);else{var C;m&&(C=a.pluralResolver.getSuffix(b,o.count,o));var A="".concat(a.options.pluralSeparator,"zero");if(m&&(E.push(d+C),g&&E.push(d+A)),_){var T="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(T),m&&(E.push(T+C),g&&E.push(T+A))}}for(var R;R=E.pop();)a.isValidLookup(s)||(l=R,s=a.getResource(b,w,R,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Du);function LC(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Sj=function(){function t(e){rs(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Es.create("languageUtils")}return ns(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=LC(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=LC(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=LC(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),qVe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],KVe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},ZVe=["v1","v2","v3"],Cj={zero:0,one:1,two:2,few:3,many:4,other:5};function JVe(){var t={};return qVe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:KVe[e.fc]}})}),t}var QVe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rs(this,t),this.languageUtils=e,this.options=r,this.logger=Es.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JVe()}return ns(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return Cj[o]-Cj[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!ZVe.includes(this.options.compatibilityJSON)}}]),t}();function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tj(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=UVe(t,e,r);return!a&&i&&typeof r=="string"&&(a=Rx(t,r,n),a===void 0&&(a=Rx(e,r,n))),a}var eHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rs(this,t),this.logger=Es.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return ns(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:$Ve,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?sh(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?sh(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?sh(n.nestingPrefix):n.nestingPrefixEscaped||sh("$t("),this.nestingSuffix=n.nestingSuffix?sh(n.nestingSuffix):n.nestingSuffixEscaped||sh(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(m){return m.replace(/\$/g,"$$$$")}var h=function(g){if(g.indexOf(o.formatSeparator)<0){var _=Tj(n,u,g,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(_,void 0,i,Mo(Mo(Mo({},a),n),{},{interpolationkey:g})):_}var y=g.split(o.formatSeparator),w=y.shift().trim(),b=y.join(o.formatSeparator).trim();return o.format(Tj(n,u,w,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,Mo(Mo(Mo({},a),n),{},{interpolationkey:w}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(g){return f(g)}},{regex:this.regexp,safeValue:function(g){return o.escapeValue?f(o.escape(g)):f(g)}}];return v.forEach(function(m){for(l=0;s=m.regex.exec(r);){var g=s[1].trim();if(c=h(g),c===void 0)if(typeof p=="function"){var _=p(r,s,a);c=typeof _=="string"?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))c="";else if(d){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(g," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=_j(c));var y=m.safeValue(c);if(r=r.replace(s[0],y),d?(m.regex.lastIndex+=c.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(p,d){var v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;var m=p.split(new RegExp("".concat(v,"[ ]*{"))),g="{".concat(m[1]);p=m[0],g=this.interpolate(g,c);var _=g.match(/'/g),y=g.match(/"/g);(_&&_.length%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{c=JSON.parse(g),d&&(c=Mo(Mo({},d),c))}catch(w){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),w),"".concat(p).concat(v).concat(g)}return delete c.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];c=Mo({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=_j(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Mo(Mo({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function Ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tHe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=NVe(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function lh(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var rHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rs(this,t),this.logger=Es.create("formatter"),this.options=e,this.formats={number:lh(function(r,n){var i=new Intl.NumberFormat(r,il({},n));return function(a){return i.format(a)}}),currency:lh(function(r,n){var i=new Intl.NumberFormat(r,il(il({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:lh(function(r,n){var i=new Intl.DateTimeFormat(r,il({},n));return function(a){return i.format(a)}}),relativetime:lh(function(r,n){var i=new Intl.RelativeTimeFormat(r,il({},n));return function(a){return i.format(a,n.range||"day")}}),list:lh(function(r,n){var i=new Intl.ListFormat(r,il({},n));return function(a){return i.format(a)}})},this.init(e)}return ns(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=lh(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=tHe(u),h=f.formatName,p=f.formatOptions;if(a.formats[h]){var d=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},m=v.locale||v.lng||o.locale||o.lng||i;d=a.formats[h](l,m,il(il(il({},p),o),v))}catch(g){a.logger.warn(g)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function Rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nHe(t){var e=iHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sg(this,i)}}function iHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aHe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var oHe=function(t){Fb(r,t);var e=nHe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return rs(this,r),o=e.call(this),Nb&&Du.call(bu(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Es.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return ns(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(v){var m="".concat(p,"|").concat(v);!o.reload&&c.store.hasResourceBundle(p,v)?c.state[m]=2:c.state[m]<0||(c.state[m]===1?u[m]===void 0&&(u[m]=!0):(c.state[m]=1,d=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),h[v]===void 0&&(h[v]=!0)))}),d||(f[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){DVe(f.loaded,[c],l),aHe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var p=f.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(v,m){if(s.readingCalls--,s.waitingReads.length>0){var g=s.waitingReads.shift();s.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(v&&m&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(v,m)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return f(null,d)}).catch(f):f(null,p)}catch(d){f(d)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=Pj(Pj({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,f):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Du);function Oj(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Ei(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Ei(e[2])==="object"||Ei(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function kj(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){Ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sHe(t){var e=lHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sg(this,i)}}function lHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E_(){}function uHe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Px=function(t){Fb(r,t);var e=sHe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(rs(this,r),n=e.call(this),Nb&&Du.call(bu(n)),n.options=kj(i),n.services={},n.logger=Es,n.modules={external:[]},uHe(bu(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Sg(n,bu(n));setTimeout(function(){n.init(i,a)},0)}return n}return ns(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=Oj();this.options=ds(ds(ds({},s),this.options),kj(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=ds(ds({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?Es.init(c(this.modules.logger),this.options):Es.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=rHe);var u=new Sj(this.options);this.store=new zVe(this.options.resources,this.options);var f=this.services;f.logger=Es,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new QVe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new eHe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oHe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),w=1;w<_;w++)y[w-1]=arguments[w];i.emit.apply(i,[g].concat(y))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ej(this.services,this.options),this.translator.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),w=1;w<_;w++)y[w-1]=arguments[w];i.emit.apply(i,[g].concat(y))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.format=this.options.interpolation.format,o||(o=E_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(g){i[g]=function(){var _;return(_=i.store)[g].apply(_,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(g){i[g]=function(){var _;return(_=i.store)[g].apply(_,arguments),i}});var v=ip(),m=function(){var _=function(w,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(b),o(w,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return _(null,i.t.bind(i));i.changeLanguage(i.options.lng,_)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E_,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=ip();return i||(i=this.languages),a||(a=this.options.ns),o||(o=E_),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&$Y.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=ip();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(c(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||c(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(Ei(f)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),v=2;v<p;v++)d[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([u,f].concat(d))}else h=ds({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var m=s.options.keySeparator||".",g;return h.keyPrefix&&Array.isArray(u)?g=u.map(function(_){return"".concat(h.keyPrefix).concat(m).concat(_)}):g=h.keyPrefix?"".concat(h.keyPrefix).concat(m).concat(u):u,s.t(g,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var v=a.services.backendConnector.state["".concat(p,"|").concat(d)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=ip();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=ip();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Sj(Oj());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E_,s=ds(ds(ds({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=ds({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new Ej(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Du);Ja(Px,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Px(t,e)});var oa=Px.createInstance();oa.createInstance=Px.createInstance;oa.createInstance;oa.dir;oa.init;oa.loadResources;oa.reloadResources;oa.use;oa.changeLanguage;oa.getFixedT;oa.t;oa.exists;oa.setDefaultNamespace;oa.hasLoadedNamespace;oa.loadNamespaces;oa.loadLanguages;oa.use(JPe).init({resources:v0e||{},lng:Md[g0e]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Tu.render(N.jsx(Vr.StrictMode,{children:N.jsx(rOe,{children:N.jsx(ySe,{store:fe,children:N.jsx(kVe,{})})})}),document.getElementById("root"));export{di as C,Wc as S,kt as T,Y as W,Xa as a,gHe as r,ox as u};
