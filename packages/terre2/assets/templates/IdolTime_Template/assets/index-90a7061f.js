var gY=Object.defineProperty;var mY=(t,e,r)=>e in t?gY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var qe=(t,e,r)=>(mY(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var l4={exports:{}},Np={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dk=Object.getOwnPropertySymbols,_Y=Object.prototype.hasOwnProperty,xY=Object.prototype.propertyIsEnumerable;function bY(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function SY(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var OA=SY()?Object.assign:function(t,e){for(var r,n=bY(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)_Y.call(r,o)&&(n[o]=r[o]);if(dk){i=dk(r);for(var s=0;s<i.length;s++)xY.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const EY=xi(OA);var u4={exports:{}},er={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA=OA,jf=60103,c4=60106;er.Fragment=60107;er.StrictMode=60108;er.Profiler=60114;var f4=60109,h4=60110,d4=60112;er.Suspense=60113;var p4=60115,v4=60116;if(typeof Symbol=="function"&&Symbol.for){var Za=Symbol.for;jf=Za("react.element"),c4=Za("react.portal"),er.Fragment=Za("react.fragment"),er.StrictMode=Za("react.strict_mode"),er.Profiler=Za("react.profiler"),f4=Za("react.provider"),h4=Za("react.context"),d4=Za("react.forward_ref"),er.Suspense=Za("react.suspense"),p4=Za("react.memo"),v4=Za("react.lazy")}var pk=typeof Symbol=="function"&&Symbol.iterator;function wY(t){return t===null||typeof t!="object"?null:(t=pk&&t[pk]||t["@@iterator"],typeof t=="function"?t:null)}function Up(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m4={};function $f(t,e,r){this.props=t,this.context=e,this.refs=m4,this.updater=r||g4}$f.prototype.isReactComponent={};$f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Up(85));this.updater.enqueueSetState(this,t,e,"setState")};$f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y4(){}y4.prototype=$f.prototype;function IA(t,e,r){this.props=t,this.context=e,this.refs=m4,this.updater=r||g4}var kA=IA.prototype=new y4;kA.constructor=IA;RA(kA,$f.prototype);kA.isPureReactComponent=!0;var FA={current:null},_4=Object.prototype.hasOwnProperty,x4={key:!0,ref:!0,__self:!0,__source:!0};function b4(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)_4.call(e,n)&&!x4.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:jf,type:t,key:a,ref:o,props:i,_owner:FA.current}}function CY(t,e){return{$$typeof:jf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DA(t){return typeof t=="object"&&t!==null&&t.$$typeof===jf}function AY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vk=/\/+/g;function i1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AY(""+t.key):e.toString(36)}function Jv(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jf:case c4:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+i1(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(vk,"$&/")+"/"),Jv(i,e,r,"",function(l){return l})):i!=null&&(DA(i)&&(i=CY(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vk,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+i1(a,s);o+=Jv(a,e,r,c,i)}else if(c=wY(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+i1(a,s++),o+=Jv(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Up(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function tv(t,e,r){if(t==null)return t;var n=[],i=0;return Jv(t,n,"","",function(a){return e.call(r,a,i++)}),n}function TY(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var S4={current:null};function Is(){var t=S4.current;if(t===null)throw Error(Up(321));return t}var PY={ReactCurrentDispatcher:S4,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:FA,IsSomeRendererActing:{current:!1},assign:RA};er.Children={map:tv,forEach:function(t,e,r){tv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return tv(t,function(){e++}),e},toArray:function(t){return tv(t,function(e){return e})||[]},only:function(t){if(!DA(t))throw Error(Up(143));return t}};er.Component=$f;er.PureComponent=IA;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PY;er.cloneElement=function(t,e,r){if(t==null)throw Error(Up(267,t));var n=RA({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=FA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)_4.call(e,c)&&!x4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:jf,type:t.type,key:i,ref:a,props:n,_owner:o}};er.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:h4,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:f4,_context:t},t.Consumer=t};er.createElement=b4;er.createFactory=function(t){var e=b4.bind(null,t);return e.type=t,e};er.createRef=function(){return{current:null}};er.forwardRef=function(t){return{$$typeof:d4,render:t}};er.isValidElement=DA;er.lazy=function(t){return{$$typeof:v4,_payload:{_status:-1,_result:t},_init:TY}};er.memo=function(t,e){return{$$typeof:p4,type:t,compare:e===void 0?null:e}};er.useCallback=function(t,e){return Is().useCallback(t,e)};er.useContext=function(t,e){return Is().useContext(t,e)};er.useDebugValue=function(){};er.useEffect=function(t,e){return Is().useEffect(t,e)};er.useImperativeHandle=function(t,e,r){return Is().useImperativeHandle(t,e,r)};er.useLayoutEffect=function(t,e){return Is().useLayoutEffect(t,e)};er.useMemo=function(t,e){return Is().useMemo(t,e)};er.useReducer=function(t,e,r){return Is().useReducer(t,e,r)};er.useRef=function(t){return Is().useRef(t)};er.useState=function(t){return Is().useState(t)};er.version="17.0.2";u4.exports=er;var pe=u4.exports;const Gn=xi(pe);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OY=pe,E4=60103;Np.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var gk=Symbol.for;E4=gk("react.element"),Np.Fragment=gk("react.fragment")}var RY=OY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IY=Object.prototype.hasOwnProperty,kY={key:!0,ref:!0,__self:!0,__source:!0};function w4(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)IY.call(e,n)&&!kY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:E4,type:t,key:a,ref:o,props:i,_owner:RY.current}}Np.jsx=w4;Np.jsxs=w4;l4.exports=Np;var B=l4.exports,C4={exports:{}},Wa={},A4={exports:{}},T4={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var M=t.unstable_now();c(!0,M),c=null}catch(V){throw setTimeout(u,0),V}};e=function(M){c!==null?setTimeout(e,0,M):(c=M,setTimeout(u,0))},r=function(M,V){l=setTimeout(M,V)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,y=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<M?Math.floor(1e3/M):5};var x=new MessageChannel,S=x.port2;x.port1.onmessage=function(){if(v!==null){var M=t.unstable_now();g=M+m;try{v(!0,M)?S.postMessage(null):(p=!1,v=null)}catch(V){throw S.postMessage(null),V}}else p=!1},e=function(M){v=M,p||(p=!0,S.postMessage(null))},r=function(M,V){y=f(function(){M(t.unstable_now())},V)},n=function(){h(y),y=-1}}function b(M,V){var $=M.length;M.push(V);e:for(;;){var j=$-1>>>1,Q=M[j];if(Q!==void 0&&0<A(Q,V))M[j]=V,M[$]=Q,$=j;else break e}}function w(M){return M=M[0],M===void 0?null:M}function C(M){var V=M[0];if(V!==void 0){var $=M.pop();if($!==V){M[0]=$;e:for(var j=0,Q=M.length;j<Q;){var ie=2*(j+1)-1,de=M[ie],ue=ie+1,be=M[ue];if(de!==void 0&&0>A(de,$))be!==void 0&&0>A(be,de)?(M[j]=be,M[ue]=$,j=ue):(M[j]=de,M[ie]=$,j=ie);else if(be!==void 0&&0>A(be,$))M[j]=be,M[ue]=$,j=ue;else break e}}return V}return null}function A(M,V){var $=M.sortIndex-V.sortIndex;return $!==0?$:M.id-V.id}var P=[],O=[],I=1,R=null,k=3,D=!1,L=!1,U=!1;function W(M){for(var V=w(O);V!==null;){if(V.callback===null)C(O);else if(V.startTime<=M)C(O),V.sortIndex=V.expirationTime,b(P,V);else break;V=w(O)}}function te(M){if(U=!1,W(M),!L)if(w(P)!==null)L=!0,e(J);else{var V=w(O);V!==null&&r(te,V.startTime-M)}}function J(M,V){L=!1,U&&(U=!1,n()),D=!0;var $=k;try{for(W(V),R=w(P);R!==null&&(!(R.expirationTime>V)||M&&!t.unstable_shouldYield());){var j=R.callback;if(typeof j=="function"){R.callback=null,k=R.priorityLevel;var Q=j(R.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?R.callback=Q:R===w(P)&&C(P),W(V)}else C(P);R=w(P)}if(R!==null)var ie=!0;else{var de=w(O);de!==null&&r(te,de.startTime-V),ie=!1}return ie}finally{R=null,k=$,D=!1}}var z=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,e(J))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return w(P)},t.unstable_next=function(M){switch(k){case 1:case 2:case 3:var V=3;break;default:V=k}var $=k;k=V;try{return M()}finally{k=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=k;k=M;try{return V()}finally{k=$}},t.unstable_scheduleCallback=function(M,V,$){var j=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?j+$:j):$=j,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=$+Q,M={id:I++,callback:V,priorityLevel:M,startTime:$,expirationTime:Q,sortIndex:-1},$>j?(M.sortIndex=$,b(O,M),w(P)===null&&M===w(O)&&(U?n():U=!0,r(te,$-j))):(M.sortIndex=Q,b(P,M),L||D||(L=!0,e(J))),M},t.unstable_wrapCallback=function(M){var V=k;return function(){var $=k;k=V;try{return M.apply(this,arguments)}finally{k=$}}}})(T4);A4.exports=T4;var FY=A4.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=pe,Nr=OA,zn=FY;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Gm)throw Error(Le(227));var P4=new Set,Nd={};function Ku(t,e){_f(t,e),_f(t+"Capture",e)}function _f(t,e){for(Nd[t]=e,t=0;t<e.length;t++)P4.add(e[t])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mk=Object.prototype.hasOwnProperty,yk={},_k={};function MY(t){return mk.call(_k,t)?!0:mk.call(yk,t)?!1:DY.test(t)?_k[t]=!0:(yk[t]=!0,!1)}function LY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BY(t,e,r,n){if(e===null||typeof e>"u"||LY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ji(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ni[t]=new ji(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ni[e]=new ji(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ni[t]=new ji(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ni[t]=new ji(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ni[t]=new ji(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ni[t]=new ji(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ni[t]=new ji(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ni[t]=new ji(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ni[t]=new ji(t,5,!1,t.toLowerCase(),null,!1,!1)});var MA=/[\-:]([a-z])/g;function LA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MA,LA);ni[e]=new ji(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MA,LA);ni[e]=new ji(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MA,LA);ni[e]=new ji(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ni[t]=new ji(t,1,!1,t.toLowerCase(),null,!1,!1)});ni.xlinkHref=new ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ni[t]=new ji(t,1,!1,t.toLowerCase(),null,!0,!0)});function BA(t,e,r,n){var i=ni.hasOwnProperty(e)?ni[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(BY(e,r,i,n)&&(r=null),n||i===null?MY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zu=Gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=60103,_u=60106,el=60107,NA=60108,yd=60114,UA=60109,jA=60110,Wm=60112,_d=60113,Og=60120,zm=60115,$A=60116,VA=60121,GA=60128,O4=60129,WA=60130,fE=60131;if(typeof Symbol=="function"&&Symbol.for){var Bn=Symbol.for;ld=Bn("react.element"),_u=Bn("react.portal"),el=Bn("react.fragment"),NA=Bn("react.strict_mode"),yd=Bn("react.profiler"),UA=Bn("react.provider"),jA=Bn("react.context"),Wm=Bn("react.forward_ref"),_d=Bn("react.suspense"),Og=Bn("react.suspense_list"),zm=Bn("react.memo"),$A=Bn("react.lazy"),VA=Bn("react.block"),Bn("react.scope"),GA=Bn("react.opaque.id"),O4=Bn("react.debug_trace_mode"),WA=Bn("react.offscreen"),fE=Bn("react.legacy_hidden")}var xk=typeof Symbol=="function"&&Symbol.iterator;function Fh(t){return t===null||typeof t!="object"?null:(t=xk&&t[xk]||t["@@iterator"],typeof t=="function"?t:null)}var a1;function ud(t){if(a1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);a1=e&&e[1]||""}return`
`+a1+t}var o1=!1;function rv(t,e){if(!t||o1)return"";o1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{o1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ud(t):""}function NY(t){switch(t.tag){case 5:return ud(t.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return t=rv(t.type,!1),t;case 11:return t=rv(t.type.render,!1),t;case 22:return t=rv(t.type._render,!1),t;case 1:return t=rv(t.type,!0),t;default:return""}}function Jc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case el:return"Fragment";case _u:return"Portal";case yd:return"Profiler";case NA:return"StrictMode";case _d:return"Suspense";case Og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jA:return(t.displayName||"Context")+".Consumer";case UA:return(t._context.displayName||"Context")+".Provider";case Wm:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case zm:return Jc(t.type);case VA:return Jc(t._render);case $A:e=t._payload,t=t._init;try{return Jc(t(e))}catch{}}return null}function Al(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function R4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UY(t){var e=R4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nv(t){t._valueTracker||(t._valueTracker=UY(t))}function I4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=R4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Rg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hE(t,e){var r=e.checked;return Nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bk(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Al(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k4(t,e){e=e.checked,e!=null&&BA(t,"checked",e,!1)}function dE(t,e){k4(t,e);var r=Al(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pE(t,e.type,r):e.hasOwnProperty("defaultValue")&&pE(t,e.type,Al(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sk(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pE(t,e,r){(e!=="number"||Rg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function jY(t){var e="";return Gm.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function vE(t,e){return t=Nr({children:void 0},e),(e=jY(e.children))&&(t.children=e),t}function ef(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Al(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ek(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Al(r)}}function F4(t,e){var r=Al(e.value),n=Al(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var mE={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function D4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iv,M4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==mE.svg||"innerHTML"in t)t.innerHTML=e;else{for(iv=iv||document.createElement("div"),iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ud(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$Y=["Webkit","ms","Moz","O"];Object.keys(xd).forEach(function(t){$Y.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xd[e]=xd[t]})});function L4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xd.hasOwnProperty(t)&&xd[t]?(""+e).trim():e+"px"}function B4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=L4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VY=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _E(t,e){if(e){if(VY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function xE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bE=null,tf=null,rf=null;function Ck(t){if(t=$p(t)){if(typeof bE!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=Zm(e),bE(t.stateNode,t.type,e))}}function N4(t){tf?rf?rf.push(t):rf=[t]:tf=t}function U4(){if(tf){var t=tf,e=rf;if(rf=tf=null,Ck(t),e)for(t=0;t<e.length;t++)Ck(e[t])}}function HA(t,e){return t(e)}function j4(t,e,r,n,i){return t(e,r,n,i)}function XA(){}var $4=HA,xu=!1,s1=!1;function YA(){(tf!==null||rf!==null)&&(XA(),U4())}function GY(t,e,r){if(s1)return t(e,r);s1=!0;try{return $4(t,e,r)}finally{s1=!1,YA()}}function jd(t,e){var r=t.stateNode;if(r===null)return null;var n=Zm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var SE=!1;if(Ps)try{var Dh={};Object.defineProperty(Dh,"passive",{get:function(){SE=!0}}),window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{SE=!1}function WY(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var bd=!1,Ig=null,kg=!1,EE=null,zY={onError:function(t){bd=!0,Ig=t}};function HY(t,e,r,n,i,a,o,s,c){bd=!1,Ig=null,WY.apply(zY,arguments)}function XY(t,e,r,n,i,a,o,s,c){if(HY.apply(this,arguments),bd){if(bd){var l=Ig;bd=!1,Ig=null}else throw Error(Le(198));kg||(kg=!0,EE=l)}}function Qu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function V4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ak(t){if(Qu(t)!==t)throw Error(Le(188))}function YY(t){var e=t.alternate;if(!e){if(e=Qu(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ak(i),t;if(a===n)return Ak(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function G4(t){if(t=YY(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Tk(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var W4,qA,z4,H4,wE=!1,Lo=[],hl=null,dl=null,pl=null,$d=new Map,Vd=new Map,Mh=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CE(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Ok(t,e){switch(t){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":$d.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vd.delete(e.pointerId)}}function Lh(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=CE(e,r,n,i,a),e!==null&&(e=$p(e),e!==null&&qA(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qY(t,e,r,n,i){switch(e){case"focusin":return hl=Lh(hl,t,e,r,n,i),!0;case"dragenter":return dl=Lh(dl,t,e,r,n,i),!0;case"mouseover":return pl=Lh(pl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return $d.set(a,Lh($d.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vd.set(a,Lh(Vd.get(a)||null,t,e,r,n,i)),!0}return!1}function KY(t){var e=bu(t.target);if(e!==null){var r=Qu(e);if(r!==null){if(e=r.tag,e===13){if(e=V4(r),e!==null){t.blockedOn=e,H4(t.lanePriority,function(){zn.unstable_runWithPriority(t.priority,function(){z4(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=JA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=$p(r),e!==null&&qA(e),t.blockedOn=r,!1;e.shift()}return!0}function Rk(t,e,r){eg(t)&&r.delete(e)}function ZY(){for(wE=!1;0<Lo.length;){var t=Lo[0];if(t.blockedOn!==null){t=$p(t.blockedOn),t!==null&&W4(t);break}for(var e=t.targetContainers;0<e.length;){var r=JA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Lo.shift()}hl!==null&&eg(hl)&&(hl=null),dl!==null&&eg(dl)&&(dl=null),pl!==null&&eg(pl)&&(pl=null),$d.forEach(Rk),Vd.forEach(Rk)}function Bh(t,e){t.blockedOn===e&&(t.blockedOn=null,wE||(wE=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,ZY)))}function X4(t){function e(i){return Bh(i,t)}if(0<Lo.length){Bh(Lo[0],t);for(var r=1;r<Lo.length;r++){var n=Lo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(hl!==null&&Bh(hl,t),dl!==null&&Bh(dl,t),pl!==null&&Bh(pl,t),$d.forEach(e),Vd.forEach(e),r=0;r<Mh.length;r++)n=Mh[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mh.length&&(r=Mh[0],r.blockedOn===null);)KY(r),r.blockedOn===null&&Mh.shift()}function av(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vc={animationend:av("Animation","AnimationEnd"),animationiteration:av("Animation","AnimationIteration"),animationstart:av("Animation","AnimationStart"),transitionend:av("Transition","TransitionEnd")},l1={},Y4={};Ps&&(Y4=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Hm(t){if(l1[t])return l1[t];if(!Vc[t])return t;var e=Vc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Y4)return l1[t]=e[r];return t}var q4=Hm("animationend"),K4=Hm("animationiteration"),Z4=Hm("animationstart"),Q4=Hm("transitionend"),J4=new Map,KA=new Map,QY=["abort","abort",q4,"animationEnd",K4,"animationIteration",Z4,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Q4,"transitionEnd","waiting","waiting"];function ZA(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),KA.set(n,e),J4.set(n,i),Ku(i,[n])}}var JY=zn.unstable_now;JY();var Er=8;function Uc(t){if(1&t)return Er=15,1;if(2&t)return Er=14,2;if(4&t)return Er=13,4;var e=24&t;return e!==0?(Er=12,e):t&32?(Er=11,32):(e=192&t,e!==0?(Er=10,e):t&256?(Er=9,256):(e=3584&t,e!==0?(Er=8,e):t&4096?(Er=7,4096):(e=4186112&t,e!==0?(Er=6,e):(e=62914560&t,e!==0?(Er=5,e):t&67108864?(Er=4,67108864):t&134217728?(Er=3,134217728):(e=805306368&t,e!==0?(Er=2,e):1073741824&t?(Er=1,1073741824):(Er=8,t))))))}function eq(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function tq(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Le(358,t))}}function Gd(t,e){var r=t.pendingLanes;if(r===0)return Er=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Er=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=Uc(c),i=Er):(s&=a,s!==0&&(n=Uc(s),i=Er))}else a=r&~o,a!==0?(n=Uc(a),i=Er):s!==0&&(n=Uc(s),i=Er);if(n===0)return 0;if(n=31-Tl(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Uc(e),i<=Er)return e;Er=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Tl(e),i=1<<r,n|=t[r],e&=~i;return n}function eN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fg(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=jc(24&~e),t===0?Fg(10,e):t;case 10:return t=jc(192&~e),t===0?Fg(8,e):t;case 8:return t=jc(3584&~e),t===0&&(t=jc(4186112&~e),t===0&&(t=512)),t;case 2:return e=jc(805306368&~e),e===0&&(e=268435456),e}throw Error(Le(358,t))}function jc(t){return t&-t}function u1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xm(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Tl(e),t[e]=r}var Tl=Math.clz32?Math.clz32:iq,rq=Math.log,nq=Math.LN2;function iq(t){return t===0?32:31-(rq(t)/nq|0)|0}var aq=zn.unstable_UserBlockingPriority,oq=zn.unstable_runWithPriority,tg=!0;function sq(t,e,r,n){xu||XA();var i=QA,a=xu;xu=!0;try{j4(i,t,e,r,n)}finally{(xu=a)||YA()}}function lq(t,e,r,n){oq(aq,QA.bind(null,t,e,r,n))}function QA(t,e,r,n){if(tg){var i;if((i=(e&4)===0)&&0<Lo.length&&-1<Pk.indexOf(t))t=CE(null,t,e,r,n),Lo.push(t);else{var a=JA(t,e,r,n);if(a===null)i&&Ok(t,n);else{if(i){if(-1<Pk.indexOf(t)){t=CE(a,t,e,r,n),Lo.push(t);return}if(qY(a,t,e,r,n))return;Ok(t,n)}dN(t,e,n,null,r)}}}}function JA(t,e,r,n){var i=zA(n);if(i=bu(i),i!==null){var a=Qu(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=V4(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return dN(t,e,n,i,r),null}var il=null,e2=null,rg=null;function tN(){if(rg)return rg;var t,e=e2,r=e.length,n,i="value"in il?il.value:il.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return rg=i.slice(t,1<n?1-n:void 0)}function ng(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ov(){return!0}function Ik(){return!1}function _a(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ov:Ik,this.isPropagationStopped=Ik,this}return Nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),e}var Vf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t2=_a(Vf),jp=Nr({},Vf,{view:0,detail:0}),uq=_a(jp),c1,f1,Nh,Ym=Nr({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nh&&(Nh&&t.type==="mousemove"?(c1=t.screenX-Nh.screenX,f1=t.screenY-Nh.screenY):f1=c1=0,Nh=t),c1)},movementY:function(t){return"movementY"in t?t.movementY:f1}}),kk=_a(Ym),cq=Nr({},Ym,{dataTransfer:0}),fq=_a(cq),hq=Nr({},jp,{relatedTarget:0}),h1=_a(hq),dq=Nr({},Vf,{animationName:0,elapsedTime:0,pseudoElement:0}),pq=_a(dq),vq=Nr({},Vf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gq=_a(vq),mq=Nr({},Vf,{data:0}),Fk=_a(mq),yq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xq[t])?!!e[t]:!1}function r2(){return bq}var Sq=Nr({},jp,{key:function(t){if(t.key){var e=yq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ng(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_q[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(t){return t.type==="keypress"?ng(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ng(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eq=_a(Sq),wq=Nr({},Ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dk=_a(wq),Cq=Nr({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),Aq=_a(Cq),Tq=Nr({},Vf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pq=_a(Tq),Oq=Nr({},Ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rq=_a(Oq),Iq=[9,13,27,32],n2=Ps&&"CompositionEvent"in window,Sd=null;Ps&&"documentMode"in document&&(Sd=document.documentMode);var kq=Ps&&"TextEvent"in window&&!Sd,rN=Ps&&(!n2||Sd&&8<Sd&&11>=Sd),Mk=String.fromCharCode(32),Lk=!1;function nN(t,e){switch(t){case"keyup":return Iq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gc=!1;function Fq(t,e){switch(t){case"compositionend":return iN(e);case"keypress":return e.which!==32?null:(Lk=!0,Mk);case"textInput":return t=e.data,t===Mk&&Lk?null:t;default:return null}}function Dq(t,e){if(Gc)return t==="compositionend"||!n2&&nN(t,e)?(t=tN(),rg=e2=il=null,Gc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rN&&e.locale!=="ko"?null:e.data;default:return null}}var Mq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mq[t.type]:e==="textarea"}function aN(t,e,r,n){N4(n),e=Dg(e,"onChange"),0<e.length&&(r=new t2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ed=null,Wd=null;function Lq(t){cN(t,0)}function qm(t){var e=zc(t);if(I4(e))return t}function Bq(t,e){if(t==="change")return e}var oN=!1;if(Ps){var d1;if(Ps){var p1="oninput"in document;if(!p1){var Nk=document.createElement("div");Nk.setAttribute("oninput","return;"),p1=typeof Nk.oninput=="function"}d1=p1}else d1=!1;oN=d1&&(!document.documentMode||9<document.documentMode)}function Uk(){Ed&&(Ed.detachEvent("onpropertychange",sN),Wd=Ed=null)}function sN(t){if(t.propertyName==="value"&&qm(Wd)){var e=[];if(aN(e,Wd,t,zA(t)),t=Lq,xu)t(e);else{xu=!0;try{HA(t,e)}finally{xu=!1,YA()}}}}function Nq(t,e,r){t==="focusin"?(Uk(),Ed=e,Wd=r,Ed.attachEvent("onpropertychange",sN)):t==="focusout"&&Uk()}function Uq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qm(Wd)}function jq(t,e){if(t==="click")return qm(e)}function $q(t,e){if(t==="input"||t==="change")return qm(e)}function Vq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ba=typeof Object.is=="function"?Object.is:Vq,Gq=Object.prototype.hasOwnProperty;function zd(t,e){if(Ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Gq.call(e,r[n])||!Ba(t[r[n]],e[r[n]]))return!1;return!0}function jk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $k(t,e){var r=jk(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jk(r)}}function lN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vk(){for(var t=window,e=Rg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rg(t.document)}return e}function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Wq=Ps&&"documentMode"in document&&11>=document.documentMode,Wc=null,TE=null,wd=null,PE=!1;function Gk(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;PE||Wc==null||Wc!==Rg(n)||(n=Wc,"selectionStart"in n&&AE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wd&&zd(wd,n)||(wd=n,n=Dg(TE,"onSelect"),0<n.length&&(e=new t2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wc)))}ZA("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ZA("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ZA(QY,2);for(var Wk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),v1=0;v1<Wk.length;v1++)KA.set(Wk[v1],0);_f("onMouseEnter",["mouseout","mouseover"]);_f("onMouseLeave",["mouseout","mouseover"]);_f("onPointerEnter",["pointerout","pointerover"]);_f("onPointerLeave",["pointerout","pointerover"]);Ku("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ku("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ku("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ku("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ku("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ku("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("cancel close invalid load scroll toggle".split(" ").concat(cd));function zk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,XY(n,e,void 0,t),t.currentTarget=null}function cN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;zk(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;zk(i,s,l),a=c}}}if(kg)throw t=EE,kg=!1,EE=null,t}function Pr(t,e){var r=vN(e),n=t+"__bubble";r.has(n)||(hN(e,t,2,!1),r.add(n))}var Hk="_reactListening"+Math.random().toString(36).slice(2);function fN(t){t[Hk]||(t[Hk]=!0,P4.forEach(function(e){uN.has(e)||Xk(e,!1,t,null),Xk(e,!0,t,null)}))}function Xk(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&uN.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=vN(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),hN(a,t,i,e),o.add(s))}function hN(t,e,r,n){var i=KA.get(e);switch(i===void 0?2:i){case 0:i=sq;break;case 1:i=lq;break;default:i=QA}r=i.bind(null,e,r,t),i=void 0,!SE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dN(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=bu(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}GY(function(){var l=a,u=zA(r),f=[];e:{var h=J4.get(t);if(h!==void 0){var d=t2,p=t;switch(t){case"keypress":if(ng(r)===0)break e;case"keydown":case"keyup":d=Eq;break;case"focusin":p="focus",d=h1;break;case"focusout":p="blur",d=h1;break;case"beforeblur":case"afterblur":d=h1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=kk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=fq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Aq;break;case q4:case K4:case Z4:d=pq;break;case Q4:d=Pq;break;case"scroll":d=uq;break;case"wheel":d=Rq;break;case"copy":case"cut":case"paste":d=gq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Dk}var v=(e&4)!==0,y=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=l,x;g!==null;){x=g;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=jd(g,m),S!=null&&v.push(Hd(g,S,x)))),y)break;g=g.return}0<v.length&&(h=new d(h,p,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(p=r.relatedTarget||r.fromElement)&&(bu(p)||p[Gf]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=l,p=p?bu(p):null,p!==null&&(y=Qu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(v=kk,S="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Dk,S="onPointerLeave",m="onPointerEnter",g="pointer"),y=d==null?h:zc(d),x=p==null?h:zc(p),h=new v(S,g+"leave",d,r,u),h.target=y,h.relatedTarget=x,S=null,bu(u)===l&&(v=new v(m,g+"enter",p,r,u),v.target=x,v.relatedTarget=y,S=v),y=S,d&&p)t:{for(v=d,m=p,g=0,x=v;x;x=Cc(x))g++;for(x=0,S=m;S;S=Cc(S))x++;for(;0<g-x;)v=Cc(v),g--;for(;0<x-g;)m=Cc(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Cc(v),m=Cc(m)}v=null}else v=null;d!==null&&Yk(f,h,d,v,!1),p!==null&&y!==null&&Yk(f,y,p,v,!0)}}e:{if(h=l?zc(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=Bq;else if(Bk(h))if(oN)b=$q;else{b=Uq;var w=Nq}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=jq);if(b&&(b=b(t,l))){aN(f,b,r,u);break e}w&&w(t,h,l),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&pE(h,"number",h.value)}switch(w=l?zc(l):window,t){case"focusin":(Bk(w)||w.contentEditable==="true")&&(Wc=w,TE=l,wd=null);break;case"focusout":wd=TE=Wc=null;break;case"mousedown":PE=!0;break;case"contextmenu":case"mouseup":case"dragend":PE=!1,Gk(f,r,u);break;case"selectionchange":if(Wq)break;case"keydown":case"keyup":Gk(f,r,u)}var C;if(n2)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Gc?nN(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(rN&&r.locale!=="ko"&&(Gc||A!=="onCompositionStart"?A==="onCompositionEnd"&&Gc&&(C=tN()):(il=u,e2="value"in il?il.value:il.textContent,Gc=!0)),w=Dg(l,A),0<w.length&&(A=new Fk(A,t,null,r,u),f.push({event:A,listeners:w}),C?A.data=C:(C=iN(r),C!==null&&(A.data=C)))),(C=kq?Fq(t,r):Dq(t,r))&&(l=Dg(l,"onBeforeInput"),0<l.length&&(u=new Fk("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}cN(f,e)})}function Hd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Dg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=jd(t,r),a!=null&&n.unshift(Hd(t,a,i)),a=jd(t,e),a!=null&&n.push(Hd(t,a,i))),t=t.return}return n}function Cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yk(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=jd(r,a),c!=null&&o.unshift(Hd(r,c,s))):i||(c=jd(r,a),c!=null&&o.push(Hd(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Mg(){}var g1=null,m1=null;function pN(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function OE(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qk=typeof setTimeout=="function"?setTimeout:void 0,zq=typeof clearTimeout=="function"?clearTimeout:void 0;function i2(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function nf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Kk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var y1=0;function Hq(t){return{$$typeof:GA,toString:t,valueOf:t}}var Km=Math.random().toString(36).slice(2),al="__reactFiber$"+Km,Lg="__reactProps$"+Km,Gf="__reactContainer$"+Km,Zk="__reactEvents$"+Km;function bu(t){var e=t[al];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Gf]||r[al]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Kk(t);t!==null;){if(r=t[al])return r;t=Kk(t)}return e}t=r,r=t.parentNode}return null}function $p(t){return t=t[al]||t[Gf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function Zm(t){return t[Lg]||null}function vN(t){var e=t[Zk];return e===void 0&&(e=t[Zk]=new Set),e}var RE=[],Hc=-1;function Bl(t){return{current:t}}function Ir(t){0>Hc||(t.current=RE[Hc],RE[Hc]=null,Hc--)}function Zr(t,e){Hc++,RE[Hc]=t.current,t.current=e}var Pl={},yi=Bl(Pl),Qi=Bl(!1),Bu=Pl;function xf(t,e){var r=t.type.contextTypes;if(!r)return Pl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ji(t){return t=t.childContextTypes,t!=null}function Bg(){Ir(Qi),Ir(yi)}function Qk(t,e,r){if(yi.current!==Pl)throw Error(Le(168));Zr(yi,e),Zr(Qi,r)}function gN(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,Jc(e)||"Unknown",i));return Nr({},r,n)}function ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pl,Bu=yi.current,Zr(yi,t),Zr(Qi,Qi.current),!0}function Jk(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=gN(t,e,Bu),n.__reactInternalMemoizedMergedChildContext=t,Ir(Qi),Ir(yi),Zr(yi,t)):Ir(Qi),Zr(Qi,r)}var a2=null,Ou=null,Xq=zn.unstable_runWithPriority,o2=zn.unstable_scheduleCallback,IE=zn.unstable_cancelCallback,Yq=zn.unstable_shouldYield,eF=zn.unstable_requestPaint,kE=zn.unstable_now,qq=zn.unstable_getCurrentPriorityLevel,Qm=zn.unstable_ImmediatePriority,mN=zn.unstable_UserBlockingPriority,yN=zn.unstable_NormalPriority,_N=zn.unstable_LowPriority,xN=zn.unstable_IdlePriority,_1={},Kq=eF!==void 0?eF:function(){},ys=null,ag=null,x1=!1,tF=kE(),vi=1e4>tF?kE:function(){return kE()-tF};function bf(){switch(qq()){case Qm:return 99;case mN:return 98;case yN:return 97;case _N:return 96;case xN:return 95;default:throw Error(Le(332))}}function bN(t){switch(t){case 99:return Qm;case 98:return mN;case 97:return yN;case 96:return _N;case 95:return xN;default:throw Error(Le(332))}}function Nu(t,e){return t=bN(t),Xq(t,e)}function Xd(t,e,r){return t=bN(t),o2(t,e,r)}function qo(){if(ag!==null){var t=ag;ag=null,IE(t)}SN()}function SN(){if(!x1&&ys!==null){x1=!0;var t=0;try{var e=ys;Nu(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ys=null}catch(r){throw ys!==null&&(ys=ys.slice(t+1)),o2(Qm,qo),r}finally{x1=!1}}}var Zq=Zu.ReactCurrentBatchConfig;function oo(t,e){if(t&&t.defaultProps){e=Nr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ng=Bl(null),Ug=null,Xc=null,jg=null;function s2(){jg=Xc=Ug=null}function l2(t){var e=Ng.current;Ir(Ng),t.type._context._currentValue=e}function EN(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function af(t,e){Ug=t,jg=Xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(co=!0),t.firstContext=null)}function Va(t,e){if(jg!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(jg=t,e=1073741823),e={context:t,observedBits:e,next:null},Xc===null){if(Ug===null)throw Error(Le(308));Xc=e,Ug.dependencies={lanes:0,firstContext:e,responders:null}}else Xc=Xc.next=e;return t._currentValue}var Ks=!1;function u2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function wN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gl(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function rF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yd(t,e,r,n){var i=t.updateQueue;Ks=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,p=a;switch(s=e,h=r,p.tag){case 1:if(d=p.payload,typeof d=="function"){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=p.payload,s=typeof d=="function"?d.call(h,f,s):d,s==null)break e;f=Nr({},f,s);break e;case 2:Ks=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Gp|=o,t.lanes=o,t.memoizedState=f}}function nF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var CN=new Gm.Component().refs;function $g(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Nr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jm={isMounted:function(t){return(t=t._reactInternals)?Qu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ga(),i=ml(t),a=vl(n,i);a.payload=e,r!=null&&(a.callback=r),gl(t,a),yl(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ga(),i=ml(t),a=vl(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),gl(t,a),yl(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ga(),n=ml(t),i=vl(r,n);i.tag=2,e!=null&&(i.callback=e),gl(t,i),yl(t,n,r)}};function iF(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!zd(r,n)||!zd(i,a):!0}function AN(t,e,r){var n=!1,i=Pl,a=e.contextType;return typeof a=="object"&&a!==null?a=Va(a):(i=Ji(e)?Bu:yi.current,n=e.contextTypes,a=(n=n!=null)?xf(t,i):Pl),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function aF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jm.enqueueReplaceState(e,e.state,null)}function FE(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=CN,u2(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Va(a):(a=Ji(e)?Bu:yi.current,i.context=xf(t,a)),Yd(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($g(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jm.enqueueReplaceState(i,i.state,null),Yd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var sv=Array.isArray;function Uh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===CN&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function lv(t,e){if(t.type!=="textarea")throw Error(Le(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function TN(t){function e(y,m){if(t){var g=y.lastEffect;g!==null?(g.nextEffect=m,y.lastEffect=m):y.firstEffect=y.lastEffect=m,m.nextEffect=null,m.flags=8}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Rl(y,m),y.index=0,y.sibling=null,y}function a(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags=2,m):g):(y.flags=2,m)):m}function o(y){return t&&y.alternate===null&&(y.flags=2),y}function s(y,m,g,x){return m===null||m.tag!==6?(m=C1(g,y.mode,x),m.return=y,m):(m=i(m,g),m.return=y,m)}function c(y,m,g,x){return m!==null&&m.elementType===g.type?(x=i(m,g.props),x.ref=Uh(y,m,g),x.return=y,x):(x=ug(g.type,g.key,g.props,null,y.mode,x),x.ref=Uh(y,m,g),x.return=y,x)}function l(y,m,g,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=A1(g,y.mode,x),m.return=y,m):(m=i(m,g.children||[]),m.return=y,m)}function u(y,m,g,x,S){return m===null||m.tag!==7?(m=uf(g,y.mode,x,S),m.return=y,m):(m=i(m,g),m.return=y,m)}function f(y,m,g){if(typeof m=="string"||typeof m=="number")return m=C1(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ld:return g=ug(m.type,m.key,m.props,null,y.mode,g),g.ref=Uh(y,null,m),g.return=y,g;case _u:return m=A1(m,y.mode,g),m.return=y,m}if(sv(m)||Fh(m))return m=uf(m,y.mode,g,null),m.return=y,m;lv(y,m)}return null}function h(y,m,g,x){var S=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return S!==null?null:s(y,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ld:return g.key===S?g.type===el?u(y,m,g.props.children,x,S):c(y,m,g,x):null;case _u:return g.key===S?l(y,m,g,x):null}if(sv(g)||Fh(g))return S!==null?null:u(y,m,g,x,null);lv(y,g)}return null}function d(y,m,g,x,S){if(typeof x=="string"||typeof x=="number")return y=y.get(g)||null,s(m,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ld:return y=y.get(x.key===null?g:x.key)||null,x.type===el?u(m,y,x.props.children,S,x.key):c(m,y,x,S);case _u:return y=y.get(x.key===null?g:x.key)||null,l(m,y,x,S)}if(sv(x)||Fh(x))return y=y.get(g)||null,u(m,y,x,S,null);lv(m,x)}return null}function p(y,m,g,x){for(var S=null,b=null,w=m,C=m=0,A=null;w!==null&&C<g.length;C++){w.index>C?(A=w,w=null):A=w.sibling;var P=h(y,w,g[C],x);if(P===null){w===null&&(w=A);break}t&&w&&P.alternate===null&&e(y,w),m=a(P,m,C),b===null?S=P:b.sibling=P,b=P,w=A}if(C===g.length)return r(y,w),S;if(w===null){for(;C<g.length;C++)w=f(y,g[C],x),w!==null&&(m=a(w,m,C),b===null?S=w:b.sibling=w,b=w);return S}for(w=n(y,w);C<g.length;C++)A=d(w,y,C,g[C],x),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?C:A.key),m=a(A,m,C),b===null?S=A:b.sibling=A,b=A);return t&&w.forEach(function(O){return e(y,O)}),S}function v(y,m,g,x){var S=Fh(g);if(typeof S!="function")throw Error(Le(150));if(g=S.call(g),g==null)throw Error(Le(151));for(var b=S=null,w=m,C=m=0,A=null,P=g.next();w!==null&&!P.done;C++,P=g.next()){w.index>C?(A=w,w=null):A=w.sibling;var O=h(y,w,P.value,x);if(O===null){w===null&&(w=A);break}t&&w&&O.alternate===null&&e(y,w),m=a(O,m,C),b===null?S=O:b.sibling=O,b=O,w=A}if(P.done)return r(y,w),S;if(w===null){for(;!P.done;C++,P=g.next())P=f(y,P.value,x),P!==null&&(m=a(P,m,C),b===null?S=P:b.sibling=P,b=P);return S}for(w=n(y,w);!P.done;C++,P=g.next())P=d(w,y,C,P.value,x),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?C:P.key),m=a(P,m,C),b===null?S=P:b.sibling=P,b=P);return t&&w.forEach(function(I){return e(y,I)}),S}return function(y,m,g,x){var S=typeof g=="object"&&g!==null&&g.type===el&&g.key===null;S&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case ld:e:{for(b=g.key,S=m;S!==null;){if(S.key===b){switch(S.tag){case 7:if(g.type===el){r(y,S.sibling),m=i(S,g.props.children),m.return=y,y=m;break e}break;default:if(S.elementType===g.type){r(y,S.sibling),m=i(S,g.props),m.ref=Uh(y,S,g),m.return=y,y=m;break e}}r(y,S);break}else e(y,S);S=S.sibling}g.type===el?(m=uf(g.props.children,y.mode,x,g.key),m.return=y,y=m):(x=ug(g.type,g.key,g.props,null,y.mode,x),x.ref=Uh(y,m,g),x.return=y,y=x)}return o(y);case _u:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=i(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=A1(g,y.mode,x),m.return=y,y=m}return o(y)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=i(m,g),m.return=y,y=m):(r(y,m),m=C1(g,y.mode,x),m.return=y,y=m),o(y);if(sv(g))return p(y,m,g,x);if(Fh(g))return v(y,m,g,x);if(b&&lv(y,g),typeof g>"u"&&!S)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Le(152,Jc(y.type)||"Component"))}return r(y,m)}}var Vg=TN(!0),PN=TN(!1),Vp={},jo=Bl(Vp),qd=Bl(Vp),Kd=Bl(Vp);function Su(t){if(t===Vp)throw Error(Le(174));return t}function DE(t,e){switch(Zr(Kd,e),Zr(qd,t),Zr(jo,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yE(e,t)}Ir(jo),Zr(jo,e)}function Sf(){Ir(jo),Ir(qd),Ir(Kd)}function oF(t){Su(Kd.current);var e=Su(jo.current),r=yE(e,t.type);e!==r&&(Zr(qd,t),Zr(jo,r))}function c2(t){qd.current===t&&(Ir(jo),Ir(qd))}var Kr=Bl(0);function Gg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bs=null,ol=null,$o=!1;function ON(t,e){var r=Na(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function sF(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ME(t){if($o){var e=ol;if(e){var r=e;if(!sF(t,e)){if(e=nf(r.nextSibling),!e||!sF(t,e)){t.flags=t.flags&-1025|2,$o=!1,bs=t;return}ON(bs,r)}bs=t,ol=nf(e.firstChild)}else t.flags=t.flags&-1025|2,$o=!1,bs=t}}function lF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function uv(t){if(t!==bs)return!1;if(!$o)return lF(t),$o=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!OE(e,t.memoizedProps))for(e=ol;e;)ON(t,e),e=nf(e.nextSibling);if(lF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ol=nf(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ol=null}}else ol=bs?nf(t.stateNode.nextSibling):null;return!0}function b1(){ol=bs=null,$o=!1}var of=[];function f2(){for(var t=0;t<of.length;t++)of[t]._workInProgressVersionPrimary=null;of.length=0}var Cd=Zu.ReactCurrentDispatcher,$a=Zu.ReactCurrentBatchConfig,Zd=0,sn=null,pi=null,ei=null,Wg=!1,Ad=!1;function Hi(){throw Error(Le(321))}function h2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ba(t[r],e[r]))return!1;return!0}function d2(t,e,r,n,i,a){if(Zd=a,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cd.current=t===null||t.memoizedState===null?Jq:eK,t=r(n,i),Ad){a=0;do{if(Ad=!1,!(25>a))throw Error(Le(301));a+=1,ei=pi=null,e.updateQueue=null,Cd.current=tK,t=r(n,i)}while(Ad)}if(Cd.current=Yg,e=pi!==null&&pi.next!==null,Zd=0,ei=pi=sn=null,Wg=!1,e)throw Error(Le(300));return t}function Eu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?sn.memoizedState=ei=t:ei=ei.next=t,ei}function Ju(){if(pi===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=pi.next;var e=ei===null?sn.memoizedState:ei.next;if(e!==null)ei=e,pi=t;else{if(t===null)throw Error(Le(310));pi=t,t={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},ei===null?sn.memoizedState=ei=t:ei=ei.next=t}return ei}function Bo(t,e){return typeof e=="function"?e(t):e}function jh(t){var e=Ju(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=pi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((Zd&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,sn.lanes|=l,Gp|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,Ba(n,e.memoizedState)||(co=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function $h(t){var e=Ju(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ba(a,e.memoizedState)||(co=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function uF(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Zd&t)===t)&&(e._workInProgressVersionPrimary=n,of.push(e))),t)return r(e._source);throw of.push(e),Error(Le(350))}function RN(t,e,r,n){var i=Mi;if(i===null)throw Error(Le(349));var a=e._getVersion,o=a(e._source),s=Cd.current,c=s.useState(function(){return uF(i,e,r)}),l=c[1],u=c[0];c=ei;var f=t.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var v=sn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var y=a(e._source);if(!Ba(o,y)){y=r(e._source),Ba(u,y)||(l(y),y=ml(v),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var m=i.entanglements,g=y;0<g;){var x=31-Tl(g),S=1<<x;m[x]|=y,g&=~S}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var y=h.getSnapshot,m=h.setSnapshot;try{m(y(e._source));var g=ml(v);i.mutableReadLanes|=g&i.pendingLanes}catch(x){m(function(){throw x})}})},[e,n]),Ba(d,r)&&Ba(p,e)&&Ba(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:u},t.dispatch=l=g2.bind(null,sn,t),c.queue=t,c.baseQueue=null,u=uF(i,e,r),c.memoizedState=c.baseState=u),u}function IN(t,e,r){var n=Ju();return RN(n,t,e,r)}function Vh(t){var e=Eu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},t=t.dispatch=g2.bind(null,sn,t),[e.memoizedState,t]}function zg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null},sn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function cF(t){var e=Eu();return t={current:t},e.memoizedState=t}function Hg(){return Ju().memoizedState}function LE(t,e,r,n){var i=Eu();sn.flags|=t,i.memoizedState=zg(1|e,r,void 0,n===void 0?null:n)}function p2(t,e,r,n){var i=Ju();n=n===void 0?null:n;var a=void 0;if(pi!==null){var o=pi.memoizedState;if(a=o.destroy,n!==null&&h2(n,o.deps)){zg(e,r,a,n);return}}sn.flags|=t,i.memoizedState=zg(1|e,r,a,n)}function fF(t,e){return LE(516,4,t,e)}function Xg(t,e){return p2(516,4,t,e)}function kN(t,e){return p2(4,2,t,e)}function FN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DN(t,e,r){return r=r!=null?r.concat([t]):null,p2(4,2,FN.bind(null,e,t),r)}function v2(){}function MN(t,e){var r=Ju();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function LN(t,e){var r=Ju();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Qq(t,e){var r=bf();Nu(98>r?98:r,function(){t(!0)}),Nu(97<r?97:r,function(){var n=$a.transition;$a.transition=1;try{t(!1),e()}finally{$a.transition=n}})}function g2(t,e,r){var n=ga(),i=ml(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===sn||o!==null&&o===sn)Ad=Wg=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,Ba(c,s))return}catch{}finally{}yl(t,i,n)}}var Yg={readContext:Va,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useOpaqueIdentifier:Hi,unstable_isNewReconciler:!1},Jq={readContext:Va,useCallback:function(t,e){return Eu().memoizedState=[t,e===void 0?null:e],t},useContext:Va,useEffect:fF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,LE(4,2,FN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return LE(4,2,t,e)},useMemo:function(t,e){var r=Eu();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Eu();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=g2.bind(null,sn,t),[n.memoizedState,t]},useRef:cF,useState:Vh,useDebugValue:v2,useDeferredValue:function(t){var e=Vh(t),r=e[0],n=e[1];return fF(function(){var i=$a.transition;$a.transition=1;try{n(t)}finally{$a.transition=i}},[t]),r},useTransition:function(){var t=Vh(!1),e=t[0];return t=Qq.bind(null,t[1]),cF(t),[t,e]},useMutableSource:function(t,e,r){var n=Eu();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},RN(n,t,e,r)},useOpaqueIdentifier:function(){if($o){var t=!1,e=Hq(function(){throw t||(t=!0,r("r:"+(y1++).toString(36))),Error(Le(355))}),r=Vh(e)[1];return!(sn.mode&2)&&(sn.flags|=516,zg(5,function(){r("r:"+(y1++).toString(36))},void 0,null)),e}return e="r:"+(y1++).toString(36),Vh(e),e},unstable_isNewReconciler:!1},eK={readContext:Va,useCallback:MN,useContext:Va,useEffect:Xg,useImperativeHandle:DN,useLayoutEffect:kN,useMemo:LN,useReducer:jh,useRef:Hg,useState:function(){return jh(Bo)},useDebugValue:v2,useDeferredValue:function(t){var e=jh(Bo),r=e[0],n=e[1];return Xg(function(){var i=$a.transition;$a.transition=1;try{n(t)}finally{$a.transition=i}},[t]),r},useTransition:function(){var t=jh(Bo)[0];return[Hg().current,t]},useMutableSource:IN,useOpaqueIdentifier:function(){return jh(Bo)[0]},unstable_isNewReconciler:!1},tK={readContext:Va,useCallback:MN,useContext:Va,useEffect:Xg,useImperativeHandle:DN,useLayoutEffect:kN,useMemo:LN,useReducer:$h,useRef:Hg,useState:function(){return $h(Bo)},useDebugValue:v2,useDeferredValue:function(t){var e=$h(Bo),r=e[0],n=e[1];return Xg(function(){var i=$a.transition;$a.transition=1;try{n(t)}finally{$a.transition=i}},[t]),r},useTransition:function(){var t=$h(Bo)[0];return[Hg().current,t]},useMutableSource:IN,useOpaqueIdentifier:function(){return $h(Bo)[0]},unstable_isNewReconciler:!1},rK=Zu.ReactCurrentOwner,co=!1;function Xi(t,e,r,n){e.child=t===null?PN(e,null,r,n):Vg(e,t.child,r,n)}function hF(t,e,r,n,i){r=r.render;var a=e.ref;return af(e,i),n=d2(t,e,r,n,a,i),t!==null&&!co?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ss(t,e,i)):(e.flags|=1,Xi(t,e,n,i),e.child)}function dF(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!S2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,BN(t,e,o,n,i,a)):(t=ug(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:zd,r(i,n)&&t.ref===e.ref)?Ss(t,e,a):(e.flags|=1,t=Rl(o,n),t.ref=e.ref,t.return=e,e.child=t)}function BN(t,e,r,n,i,a){if(t!==null&&zd(t.memoizedProps,n)&&t.ref===e.ref)if(co=!1,(a&i)!==0)t.flags&16384&&(co=!0);else return e.lanes=t.lanes,Ss(t,e,a);return BE(t,e,r,n,a)}function S1(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},fv(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},fv(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},fv(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,fv(e,n);return Xi(t,e,i,r),e.child}function NN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function BE(t,e,r,n,i){var a=Ji(r)?Bu:yi.current;return a=xf(e,a),af(e,i),r=d2(t,e,r,n,a,i),t!==null&&!co?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ss(t,e,i)):(e.flags|=1,Xi(t,e,r,i),e.child)}function pF(t,e,r,n,i){if(Ji(r)){var a=!0;ig(e)}else a=!1;if(af(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),AN(e,r,n),FE(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Va(l):(l=Ji(r)?Bu:yi.current,l=xf(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&aF(e,o,n,l),Ks=!1;var h=e.memoizedState;o.state=h,Yd(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Qi.current||Ks?(typeof u=="function"&&($g(e,r,u,n),c=e.memoizedState),(s=Ks||iF(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,wN(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:oo(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Va(c):(c=Ji(r)?Bu:yi.current,c=xf(e,c));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&aF(e,o,n,c),Ks=!1,h=e.memoizedState,o.state=h,Yd(e,n,o,i);var p=e.memoizedState;s!==f||h!==p||Qi.current||Ks?(typeof d=="function"&&($g(e,r,d,n),p=e.memoizedState),(l=Ks||iF(e,r,l,n,h,p,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return NE(t,e,r,n,a,i)}function NE(t,e,r,n,i,a){NN(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&Jk(e,r,!1),Ss(t,e,a);n=e.stateNode,rK.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Vg(e,t.child,null,a),e.child=Vg(e,null,s,a)):Xi(t,e,s,a),e.memoizedState=n.state,i&&Jk(e,r,!0),e.child}function vF(t){var e=t.stateNode;e.pendingContext?Qk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qk(t,e.context,!1),DE(t,e.containerInfo)}var cv={dehydrated:null,retryLane:0};function gF(t,e,r){var n=e.pendingProps,i=Kr.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Zr(Kr,i&1),t===null?(n.fallback!==void 0&&ME(e),t=n.children,i=n.fallback,a?(t=mF(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=cv,t):typeof n.unstable_expectedLoadTime=="number"?(t=mF(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=cv,e.lanes=33554432,t):(r=E2({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=_F(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=cv,n):(r=yF(t,e,n.children,r),e.memoizedState=null,r):a?(n=_F(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=cv,n):(r=yF(t,e,n.children,r),e.memoizedState=null,r)}function mF(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=E2(e,i,0,null),r=uf(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function yF(t,e,r,n){var i=t.child;return t=i.sibling,r=Rl(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function _F(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Rl(o,s),t!==null?n=Rl(t,n):(n=uf(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function xF(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),EN(t.return,e)}function E1(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function bF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Xi(t,e,n.children,r),n=Kr.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xF(t,r);else if(t.tag===19)xF(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Zr(Kr,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Gg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),E1(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}E1(e,!0,r,null,a,e.lastEffect);break;case"together":E1(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gp|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=Rl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Rl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var UN,UE,jN,$N;UN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};UE=function(){};jN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Su(jo.current);var a=null;switch(r){case"input":i=hE(t,i),n=hE(t,n),a=[];break;case"option":i=vE(t,i),n=vE(t,n),a=[];break;case"select":i=Nr({},i,{value:void 0}),n=Nr({},n,{value:void 0}),a=[];break;case"textarea":i=gE(t,i),n=gE(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mg)}_E(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Nd.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Nd.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Pr("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===GA?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};$N=function(t,e,r,n){r!==n&&(e.flags|=4)};function Gh(t,e){if(!$o)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nK(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ji(e.type)&&Bg(),null;case 3:return Sf(),Ir(Qi),Ir(yi),f2(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uv(e)?e.flags|=4:n.hydrate||(e.flags|=256)),UE(e),null;case 5:c2(e);var i=Su(Kd.current);if(r=e.type,t!==null&&e.stateNode!=null)jN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return null}if(t=Su(jo.current),uv(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[al]=e,n[Lg]=a,r){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(t=0;t<cd.length;t++)Pr(cd[t],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":bk(n,a),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Pr("invalid",n);break;case"textarea":Ek(n,a),Pr("invalid",n)}_E(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Nd.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Pr("scroll",n));switch(r){case"input":nv(n),Sk(n,a,!0);break;case"textarea":nv(n),wk(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Mg)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===mE.html&&(t=D4(r)),t===mE.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[al]=e,t[Lg]=n,UN(t,e,!1,!1),e.stateNode=t,o=xE(r,n),r){case"dialog":Pr("cancel",t),Pr("close",t),i=n;break;case"iframe":case"object":case"embed":Pr("load",t),i=n;break;case"video":case"audio":for(i=0;i<cd.length;i++)Pr(cd[i],t);i=n;break;case"source":Pr("error",t),i=n;break;case"img":case"image":case"link":Pr("error",t),Pr("load",t),i=n;break;case"details":Pr("toggle",t),i=n;break;case"input":bk(t,n),i=hE(t,n),Pr("invalid",t);break;case"option":i=vE(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Nr({},n,{value:void 0}),Pr("invalid",t);break;case"textarea":Ek(t,n),i=gE(t,n),Pr("invalid",t);break;default:i=n}_E(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?B4(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M4(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ud(t,c):typeof c=="number"&&Ud(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pr("scroll",t):c!=null&&BA(t,a,c,o))}switch(r){case"input":nv(t),Sk(t,n,!1);break;case"textarea":nv(t),wk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Al(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ef(t,!!n.multiple,a,!1):n.defaultValue!=null&&ef(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mg)}pN(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)$N(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));r=Su(Kd.current),Su(jo.current),uv(e)?(n=e.stateNode,r=e.memoizedProps,n[al]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[al]=e,e.stateNode=n)}return null;case 13:return Ir(Kr),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&uv(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Kr.current&1?ri===0&&(ri=3):((ri===0||ri===3)&&(ri=4),Mi===null||!(Gp&134217727)&&!(zf&134217727)||sf(Mi,gi))),(n||r)&&(e.flags|=4),null);case 4:return Sf(),UE(e),t===null&&fN(e.stateNode.containerInfo),null;case 10:return l2(e),null;case 17:return Ji(e.type)&&Bg(),null;case 19:if(Ir(Kr),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)Gh(n,!1);else{if(ri!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Gg(t),o!==null){for(e.flags|=64,Gh(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Zr(Kr,Kr.current&1|2),e.child}t=t.sibling}n.tail!==null&&vi()>zE&&(e.flags|=64,a=!0,Gh(n,!1),e.lanes=33554432)}else{if(!a)if(t=Gg(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Gh(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!$o)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*vi()-n.renderingStartTime>zE&&r!==1073741824&&(e.flags|=64,a=!0,Gh(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=vi(),r.sibling=null,e=Kr.current,Zr(Kr,a?e&1|2:e&1),r):null;case 23:case 24:return b2(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Le(156,e.tag))}function iK(t){switch(t.tag){case 1:Ji(t.type)&&Bg();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Sf(),Ir(Qi),Ir(yi),f2(),e=t.flags,e&64)throw Error(Le(285));return t.flags=e&-4097|64,t;case 5:return c2(t),null;case 13:return Ir(Kr),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ir(Kr),null;case 4:return Sf(),null;case 10:return l2(t),null;case 23:case 24:return b2(),null;default:return null}}function m2(t,e){try{var r="",n=e;do r+=NY(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function jE(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var aK=typeof WeakMap=="function"?WeakMap:Map;function VN(t,e,r){r=vl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Kg||(Kg=!0,HE=n),jE(t,e)},r}function GN(t,e,r){r=vl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return jE(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(No===null?No=new Set([this]):No.add(this),jE(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var oK=typeof WeakSet=="function"?WeakSet:Set;function SF(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){_l(t,r)}else e.current=null}function sK(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:oo(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&i2(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Le(163))}function lK(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(QN(r,t),gK(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:oo(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&nF(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}nF(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&pN(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&X4(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Le(163))}function EF(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=L4("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function wF(t,e){if(Ou&&typeof Ou.onCommitFiberUnmount=="function")try{Ou.onCommitFiberUnmount(a2,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)QN(e,r);else{n=e;try{i()}catch(a){_l(n,a)}}r=r.next}while(r!==t)}break;case 1:if(SF(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){_l(e,a)}break;case 5:SF(e);break;case 4:WN(t,e)}}function CF(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function AF(t){return t.tag===5||t.tag===3||t.tag===4}function TF(t){e:{for(var e=t.return;e!==null;){if(AF(e))break e;e=e.return}throw Error(Le(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Le(161))}r.flags&16&&(Ud(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||AF(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?$E(t,r,e):VE(t,r,e)}function $E(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mg));else if(n!==4&&(t=t.child,t!==null))for($E(t,e,r),t=t.sibling;t!==null;)$E(t,e,r),t=t.sibling}function VE(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(VE(t,e,r),t=t.sibling;t!==null;)VE(t,e,r),t=t.sibling}function WN(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Le(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(wF(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(wF(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function w1(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Lg]=n,t==="input"&&n.type==="radio"&&n.name!=null&&k4(r,n),xE(t,i),e=xE(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?B4(r,s):o==="dangerouslySetInnerHTML"?M4(r,s):o==="children"?Ud(r,s):BA(r,o,s,e)}switch(t){case"input":dE(r,n);break;case"textarea":F4(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?ef(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?ef(r,!!n.multiple,n.defaultValue,!0):ef(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Le(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,X4(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(x2=vi(),EF(e.child,!0)),PF(e);return;case 19:PF(e);return;case 17:return;case 23:case 24:EF(e,e.memoizedState!==null);return}throw Error(Le(163))}function PF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oK),e.forEach(function(n){var i=_K.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function uK(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var cK=Math.ceil,qg=Zu.ReactCurrentDispatcher,y2=Zu.ReactCurrentOwner,xt=0,Mi=null,Pn=null,gi=0,Uu=0,GE=Bl(0),ri=0,ey=null,Wf=0,Gp=0,zf=0,_2=0,WE=null,x2=0,zE=1/0;function Hf(){zE=vi()+500}var Je=null,Kg=!1,HE=null,No=null,Ol=!1,Td=null,fd=90,XE=[],YE=[],Cs=null,Pd=0,qE=null,og=-1,_s=0,sg=0,Od=null,lg=!1;function ga(){return xt&48?vi():og!==-1?og:og=vi()}function ml(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return bf()===99?1:2;if(_s===0&&(_s=Wf),Zq.transition!==0){sg!==0&&(sg=WE!==null?WE.pendingLanes:0),t=_s;var e=4186112&~sg;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=bf(),xt&4&&t===98?t=Fg(12,_s):(t=eq(t),t=Fg(t,_s)),t}function yl(t,e,r){if(50<Pd)throw Pd=0,qE=null,Error(Le(185));if(t=ty(t,e),t===null)return null;Xm(t,e,r),t===Mi&&(zf|=e,ri===4&&sf(t,gi));var n=bf();e===1?xt&8&&!(xt&48)?KE(t):(Ga(t,r),xt===0&&(Hf(),qo())):(!(xt&4)||n!==98&&n!==99||(Cs===null?Cs=new Set([t]):Cs.add(t)),Ga(t,r)),WE=t}function ty(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Ga(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Tl(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,Uc(c);var u=Er;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=Gd(t,t===Mi?gi:0),e=Er,n===0)r!==null&&(r!==_1&&IE(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==_1&&IE(r)}e===15?(r=KE.bind(null,t),ys===null?(ys=[r],ag=o2(Qm,SN)):ys.push(r),r=_1):e===14?r=Xd(99,KE.bind(null,t)):(r=tq(e),r=Xd(r,zN.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function zN(t){if(og=-1,sg=_s=0,xt&48)throw Error(Le(327));var e=t.callbackNode;if(Nl()&&t.callbackNode!==e)return null;var r=Gd(t,t===Mi?gi:0);if(r===0)return null;var n=r,i=xt;xt|=16;var a=qN();(Mi!==t||gi!==n)&&(Hf(),lf(t,n));do try{dK();break}catch(s){YN(t,s)}while(1);if(s2(),qg.current=a,xt=i,Pn!==null?n=0:(Mi=null,gi=0,n=ri),Wf&zf)lf(t,0);else if(n!==0){if(n===2&&(xt|=64,t.hydrate&&(t.hydrate=!1,i2(t.containerInfo)),r=eN(t),r!==0&&(n=hd(t,r))),n===1)throw e=ey,lf(t,0),sf(t,r),Ga(t,vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Le(345));case 2:uu(t);break;case 3:if(sf(t,r),(r&62914560)===r&&(n=x2+500-vi(),10<n)){if(Gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ga(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qk(uu.bind(null,t),n);break}uu(t);break;case 4:if(sf(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Tl(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=vi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cK(r/1960))-r,10<r){t.timeoutHandle=qk(uu.bind(null,t),r);break}uu(t);break;case 5:uu(t);break;default:throw Error(Le(329))}}return Ga(t,vi()),t.callbackNode===e?zN.bind(null,t):null}function sf(t,e){for(e&=~_2,e&=~zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Tl(e),n=1<<r;t[r]=-1,e&=~n}}function KE(t){if(xt&48)throw Error(Le(327));if(Nl(),t===Mi&&t.expiredLanes&gi){var e=gi,r=hd(t,e);Wf&zf&&(e=Gd(t,e),r=hd(t,e))}else e=Gd(t,0),r=hd(t,e);if(t.tag!==0&&r===2&&(xt|=64,t.hydrate&&(t.hydrate=!1,i2(t.containerInfo)),e=eN(t),e!==0&&(r=hd(t,e))),r===1)throw r=ey,lf(t,0),sf(t,e),Ga(t,vi()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,uu(t),Ga(t,vi()),null}function fK(){if(Cs!==null){var t=Cs;Cs=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ga(e,vi())})}qo()}function HN(t,e){var r=xt;xt|=1;try{return t(e)}finally{xt=r,xt===0&&(Hf(),qo())}}function XN(t,e){var r=xt;xt&=-2,xt|=8;try{return t(e)}finally{xt=r,xt===0&&(Hf(),qo())}}function fv(t,e){Zr(GE,Uu),Uu|=e,Wf|=e}function b2(){Uu=GE.current,Ir(GE)}function lf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zq(r)),Pn!==null)for(r=Pn.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bg();break;case 3:Sf(),Ir(Qi),Ir(yi),f2();break;case 5:c2(n);break;case 4:Sf();break;case 13:Ir(Kr);break;case 19:Ir(Kr);break;case 10:l2(n);break;case 23:case 24:b2()}r=r.return}Mi=t,Pn=Rl(t.current,null),gi=Uu=Wf=e,ri=0,ey=null,_2=zf=Gp=0}function YN(t,e){do{var r=Pn;try{if(s2(),Cd.current=Yg,Wg){for(var n=sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wg=!1}if(Zd=0,ei=pi=sn=null,Ad=!1,y2.current=null,r===null||r.return===null){ri=1,ey=e,Pn=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=gi,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Kr.current&1)!==0,h=o;do{var d;if(d=h.tag===13){var p=h.memoizedState;if(p!==null)d=p.dehydrated!==null;else{var v=h.memoizedProps;d=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var y=h.updateQueue;if(y===null){var m=new Set;m.add(l),h.updateQueue=m}else y.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=vl(-1,1);g.tag=2,gl(s,g)}s.lanes|=1;break e}c=void 0,s=e;var x=a.pingCache;if(x===null?(x=a.pingCache=new aK,c=new Set,x.set(l,c)):(c=x.get(l),c===void 0&&(c=new Set,x.set(l,c))),!c.has(s)){c.add(s);var S=yK.bind(null,a,l,s);l.then(S,S)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Jc(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ri!==5&&(ri=2),c=m2(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var b=VN(h,a,e);rF(h,b);break e;case 1:a=c;var w=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(No===null||!No.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var A=GN(h,a,e);rF(h,A);break e}}h=h.return}while(h!==null)}ZN(r)}catch(P){e=P,Pn===r&&r!==null&&(Pn=r=r.return);continue}break}while(1)}function qN(){var t=qg.current;return qg.current=Yg,t===null?Yg:t}function hd(t,e){var r=xt;xt|=16;var n=qN();Mi===t&&gi===e||lf(t,e);do try{hK();break}catch(i){YN(t,i)}while(1);if(s2(),xt=r,qg.current=n,Pn!==null)throw Error(Le(261));return Mi=null,gi=0,ri}function hK(){for(;Pn!==null;)KN(Pn)}function dK(){for(;Pn!==null&&!Yq();)KN(Pn)}function KN(t){var e=JN(t.alternate,t,Uu);t.memoizedProps=t.pendingProps,e===null?ZN(t):Pn=e,y2.current=null}function ZN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=iK(e),r!==null){r.flags&=2047,Pn=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=nK(r,e,Uu),r!==null){Pn=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Uu&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);ri===0&&(ri=5)}function uu(t){var e=bf();return Nu(99,pK.bind(null,t,e)),null}function pK(t,e){do Nl();while(Td!==null);if(xt&48)throw Error(Le(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-Tl(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(Cs!==null&&!(n&24)&&Cs.has(t)&&Cs.delete(t),t===Mi&&(Pn=Mi=null,gi=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=xt,xt|=32,y2.current=null,g1=tg,o=Vk(),AE(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,d=0,p=0,v=o,y=null;t:for(;;){for(var m;v!==s||a!==0&&v.nodeType!==3||(f=u+a),v!==c||l!==0&&v.nodeType!==3||(h=u+l),v.nodeType===3&&(u+=v.nodeValue.length),(m=v.firstChild)!==null;)y=v,v=m;for(;;){if(v===o)break t;if(y===s&&++d===a&&(f=u),y===c&&++p===l&&(h=u),(m=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=m}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;m1={focusedElem:o,selectionRange:s},tg=!1,Od=null,lg=!1,Je=n;do try{vK()}catch(P){if(Je===null)throw Error(Le(330));_l(Je,P),Je=Je.nextEffect}while(Je!==null);Od=null,Je=n;do try{for(o=t;Je!==null;){var g=Je.flags;if(g&16&&Ud(Je.stateNode,""),g&128){var x=Je.alternate;if(x!==null){var S=x.ref;S!==null&&(typeof S=="function"?S(null):S.current=null)}}switch(g&1038){case 2:TF(Je),Je.flags&=-3;break;case 6:TF(Je),Je.flags&=-3,w1(Je.alternate,Je);break;case 1024:Je.flags&=-1025;break;case 1028:Je.flags&=-1025,w1(Je.alternate,Je);break;case 4:w1(Je.alternate,Je);break;case 8:s=Je,WN(o,s);var b=s.alternate;CF(s),b!==null&&CF(b)}Je=Je.nextEffect}}catch(P){if(Je===null)throw Error(Le(330));_l(Je,P),Je=Je.nextEffect}while(Je!==null);if(S=m1,x=Vk(),g=S.focusedElem,o=S.selectionRange,x!==g&&g&&g.ownerDocument&&lN(g.ownerDocument.documentElement,g)){for(o!==null&&AE(g)&&(x=o.start,S=o.end,S===void 0&&(S=x),"selectionStart"in g?(g.selectionStart=x,g.selectionEnd=Math.min(S,g.value.length)):(S=(x=g.ownerDocument||document)&&x.defaultView||window,S.getSelection&&(S=S.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!S.extend&&b>o&&(s=o,o=b,b=s),s=$k(g,b),a=$k(g,o),s&&a&&(S.rangeCount!==1||S.anchorNode!==s.node||S.anchorOffset!==s.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&(x=x.createRange(),x.setStart(s.node,s.offset),S.removeAllRanges(),b>o?(S.addRange(x),S.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),S.addRange(x)))))),x=[],S=g;S=S.parentNode;)S.nodeType===1&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<x.length;g++)S=x[g],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}tg=!!g1,m1=g1=null,t.current=r,Je=n;do try{for(g=t;Je!==null;){var w=Je.flags;if(w&36&&lK(g,Je.alternate,Je),w&128){x=void 0;var C=Je.ref;if(C!==null){var A=Je.stateNode;switch(Je.tag){case 5:x=A;break;default:x=A}typeof C=="function"?C(x):C.current=x}}Je=Je.nextEffect}}catch(P){if(Je===null)throw Error(Le(330));_l(Je,P),Je=Je.nextEffect}while(Je!==null);Je=null,Kq(),xt=i}else t.current=r;if(Ol)Ol=!1,Td=t,fd=e;else for(Je=n;Je!==null;)e=Je.nextEffect,Je.nextEffect=null,Je.flags&8&&(w=Je,w.sibling=null,w.stateNode=null),Je=e;if(n=t.pendingLanes,n===0&&(No=null),n===1?t===qE?Pd++:(Pd=0,qE=t):Pd=0,r=r.stateNode,Ou&&typeof Ou.onCommitFiberRoot=="function")try{Ou.onCommitFiberRoot(a2,r,void 0,(r.current.flags&64)===64)}catch{}if(Ga(t,vi()),Kg)throw Kg=!1,t=HE,HE=null,t;return xt&8||qo(),null}function vK(){for(;Je!==null;){var t=Je.alternate;lg||Od===null||(Je.flags&8?Tk(Je,Od)&&(lg=!0):Je.tag===13&&uK(t,Je)&&Tk(Je,Od)&&(lg=!0));var e=Je.flags;e&256&&sK(t,Je),!(e&512)||Ol||(Ol=!0,Xd(97,function(){return Nl(),null})),Je=Je.nextEffect}}function Nl(){if(fd!==90){var t=97<fd?97:fd;return fd=90,Nu(t,mK)}return!1}function gK(t,e){XE.push(e,t),Ol||(Ol=!0,Xd(97,function(){return Nl(),null}))}function QN(t,e){YE.push(e,t),Ol||(Ol=!0,Xd(97,function(){return Nl(),null}))}function mK(){if(Td===null)return!1;var t=Td;if(Td=null,xt&48)throw Error(Le(331));var e=xt;xt|=32;var r=YE;YE=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(Le(330));_l(a,c)}}for(r=XE,XE=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(Le(330));_l(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return xt=e,qo(),!0}function OF(t,e,r){e=m2(r,e),e=VN(t,e,1),gl(t,e),e=ga(),t=ty(t,1),t!==null&&(Xm(t,1,e),Ga(t,e))}function _l(t,e){if(t.tag===3)OF(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){OF(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(No===null||!No.has(n))){t=m2(e,t);var i=GN(r,t,1);if(gl(r,i),i=ga(),r=ty(r,1),r!==null)Xm(r,1,i),Ga(r,i);else if(typeof n.componentDidCatch=="function"&&(No===null||!No.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function yK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ga(),t.pingedLanes|=t.suspendedLanes&r,Mi===t&&(gi&r)===r&&(ri===4||ri===3&&(gi&62914560)===gi&&500>vi()-x2?lf(t,0):_2|=r),Ga(t,e)}function _K(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(_s===0&&(_s=Wf),e=jc(62914560&~_s),e===0&&(e=4194304)):e=bf()===99?1:2:e=1),r=ga(),t=ty(t,e),t!==null&&(Xm(t,e,r),Ga(t,r))}var JN;JN=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Qi.current)co=!0;else if(r&n)co=!!(t.flags&16384);else{switch(co=!1,e.tag){case 3:vF(e),b1();break;case 5:oF(e);break;case 1:Ji(e.type)&&ig(e);break;case 4:DE(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Zr(Ng,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?gF(t,e,r):(Zr(Kr,Kr.current&1),e=Ss(t,e,r),e!==null?e.sibling:null);Zr(Kr,Kr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return bF(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zr(Kr,Kr.current),n)break;return null;case 23:case 24:return e.lanes=0,S1(t,e,r)}return Ss(t,e,r)}else co=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=xf(e,yi.current),af(e,r),i=d2(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ji(n)){var a=!0;ig(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u2(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&$g(e,n,o,t),i.updater=Jm,e.stateNode=i,i._reactInternals=e,FE(e,n,t,r),e=NE(null,e,n,!0,a,r)}else e.tag=0,Xi(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=bK(i),t=oo(i,t),a){case 0:e=BE(null,e,i,t,r);break e;case 1:e=pF(null,e,i,t,r);break e;case 11:e=hF(null,e,i,t,r);break e;case 14:e=dF(null,e,i,oo(i.type,t),n,r);break e}throw Error(Le(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:oo(n,i),BE(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:oo(n,i),pF(t,e,n,i,r);case 3:if(vF(e),n=e.updateQueue,t===null||n===null)throw Error(Le(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,wN(t,e),Yd(e,n,null,r),n=e.memoizedState.element,n===i)b1(),e=Ss(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(ol=nf(e.stateNode.containerInfo.firstChild),bs=e,a=$o=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],of.push(a);for(r=PN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Xi(t,e,n,r),b1();e=e.child}return e;case 5:return oF(e),t===null&&ME(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,OE(n,i)?o=null:a!==null&&OE(n,a)&&(e.flags|=16),NN(t,e),Xi(t,e,o,r),e.child;case 6:return t===null&&ME(e),null;case 13:return gF(t,e,r);case 4:return DE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Vg(e,null,n,r):Xi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:oo(n,i),hF(t,e,n,i,r);case 7:return Xi(t,e,e.pendingProps,r),e.child;case 8:return Xi(t,e,e.pendingProps.children,r),e.child;case 12:return Xi(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Zr(Ng,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=Ba(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Qi.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=vl(-1,r&-r),l.tag=2,gl(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),EN(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,af(e,r),i=Va(i,a.unstable_observedBits),n=n(i),e.flags|=1,Xi(t,e,n,r),e.child;case 14:return i=e.type,a=oo(i,e.pendingProps),a=oo(i.type,a),dF(t,e,i,a,n,r);case 15:return BN(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:oo(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ji(n)?(t=!0,ig(e)):t=!1,af(e,r),AN(e,n,i),FE(e,n,i,r),NE(null,e,n,!0,t,r);case 19:return bF(t,e,r);case 23:return S1(t,e,r);case 24:return S1(t,e,r)}throw Error(Le(156,e.tag))};function xK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(t,e,r,n){return new xK(t,e,r,n)}function S2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bK(t){if(typeof t=="function")return S2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wm)return 11;if(t===zm)return 14}return 2}function Rl(t,e){var r=t.alternate;return r===null?(r=Na(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ug(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")S2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case el:return uf(r.children,i,a,e);case O4:o=8,i|=16;break;case NA:o=8,i|=1;break;case yd:return t=Na(12,r,e,i|8),t.elementType=yd,t.type=yd,t.lanes=a,t;case _d:return t=Na(13,r,e,i),t.type=_d,t.elementType=_d,t.lanes=a,t;case Og:return t=Na(19,r,e,i),t.elementType=Og,t.lanes=a,t;case WA:return E2(r,i,a,e);case fE:return t=Na(24,r,e,i),t.elementType=fE,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UA:o=10;break e;case jA:o=9;break e;case Wm:o=11;break e;case zm:o=14;break e;case $A:o=16,n=null;break e;case VA:o=22;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Na(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function uf(t,e,r,n){return t=Na(7,t,n,e),t.lanes=r,t}function E2(t,e,r,n){return t=Na(23,t,n,e),t.elementType=WA,t.lanes=r,t}function C1(t,e,r){return t=Na(6,t,null,e),t.lanes=r,t}function A1(t,e,r){return e=Na(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SK(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=u1(0),this.expirationTimes=u1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u1(0),this.mutableSourceEagerHydrationData=null}function EK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Zg(t,e,r,n){var i=e.current,a=ga(),o=ml(i);e:if(r){r=r._reactInternals;t:{if(Qu(r)!==r||r.tag!==1)throw Error(Le(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ji(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Le(171))}if(r.tag===1){var c=r.type;if(Ji(c)){r=gN(r,c,s);break e}}r=s}else r=Pl;return e.context===null?e.context=r:e.pendingContext=r,e=vl(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),gl(i,e),yl(i,o,a),o}function T1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function w2(t,e){RF(t,e),(t=t.alternate)&&RF(t,e)}function wK(){return null}function C2(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new SK(t,e,r!=null&&r.hydrate===!0),e=Na(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,u2(e),t[Gf]=r.current,fN(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}C2.prototype.render=function(t){Zg(t,this._internalRoot,null,null)};C2.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zg(null,t,null,function(){e[Gf]=null})};function Wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CK(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new C2(t,0,e?{hydrate:!0}:void 0)}function ry(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=T1(o);s.call(l)}}Zg(e,o,t,i)}else{if(a=r._reactRootContainer=CK(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=T1(o);c.call(l)}}XN(function(){Zg(e,o,t,i)})}return T1(o)}W4=function(t){if(t.tag===13){var e=ga();yl(t,4,e),w2(t,4)}};qA=function(t){if(t.tag===13){var e=ga();yl(t,67108864,e),w2(t,67108864)}};z4=function(t){if(t.tag===13){var e=ga(),r=ml(t);yl(t,r,e),w2(t,r)}};H4=function(t,e){return e()};bE=function(t,e,r){switch(e){case"input":if(dE(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Zm(n);if(!i)throw Error(Le(90));I4(n),dE(n,i)}}}break;case"textarea":F4(t,r);break;case"select":e=r.value,e!=null&&ef(t,!!r.multiple,e,!1)}};HA=HN;j4=function(t,e,r,n,i){var a=xt;xt|=4;try{return Nu(98,t.bind(null,e,r,n,i))}finally{xt=a,xt===0&&(Hf(),qo())}};XA=function(){!(xt&49)&&(fK(),Nl())};$4=function(t,e){var r=xt;xt|=2;try{return t(e)}finally{xt=r,xt===0&&(Hf(),qo())}};function e8(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(e))throw Error(Le(200));return EK(t,e,null,r)}var AK={Events:[$p,zc,Zm,N4,U4,Nl,{current:!1}]},Wh={findFiberByHostInstance:bu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},TK={bundleType:Wh.bundleType,version:Wh.version,rendererPackageName:Wh.rendererPackageName,rendererConfig:Wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G4(t),t===null?null:t.stateNode},findFiberByHostInstance:Wh.findFiberByHostInstance||wK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{a2=hv.inject(TK),Ou=hv}catch{}}Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AK;Wa.createPortal=e8;Wa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):Error(Le(268,Object.keys(t)));return t=G4(e),t=t===null?null:t.stateNode,t};Wa.flushSync=function(t,e){var r=xt;if(r&48)return t(e);xt|=1;try{if(t)return Nu(99,t.bind(null,e))}finally{xt=r,qo()}};Wa.hydrate=function(t,e,r){if(!Wp(e))throw Error(Le(200));return ry(null,t,e,!0,r)};Wa.render=function(t,e,r){if(!Wp(e))throw Error(Le(200));return ry(null,t,e,!1,r)};Wa.unmountComponentAtNode=function(t){if(!Wp(t))throw Error(Le(40));return t._reactRootContainer?(XN(function(){ry(null,null,t,!1,function(){t._reactRootContainer=null,t[Gf]=null})}),!0):!1};Wa.unstable_batchedUpdates=HN;Wa.unstable_createPortal=function(t,e){return e8(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Wa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wp(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return ry(t,e,r,!1,n)};Wa.version="17.0.2";function t8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t8)}catch(t){console.error(t)}}t8(),C4.exports=Wa;var r8=C4.exports;const ju=xi(r8);const PK="_Title_main_1acxo_1",OK="_Title_buttonList_1acxo_8",RK="_Title_button_1acxo_8",IK="_Title_button_text_1acxo_40",kK="_Title_button_custom_1acxo_45",FK="_Title_backup_background_1acxo_64",zh={Title_main:PK,Title_buttonList:OK,Title_button:RK,Title_button_text:IK,Title_button_custom:kK,Title_backup_background:FK};function uo(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Il(t){return!!t&&!!t[Lr]}function Os(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===VK}(t)||Array.isArray(t)||!!t[BF]||!!(!((e=t.constructor)===null||e===void 0)&&e[BF])||A2(t)||T2(t))}function $u(t,e,r){r===void 0&&(r=!1),Xf(t)===0?(r?Object.keys:ff)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Xf(t){var e=t[Lr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:A2(t)?2:T2(t)?3:0}function cf(t,e){return Xf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function DK(t,e){return Xf(t)===2?t.get(e):t[e]}function n8(t,e,r){var n=Xf(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function i8(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function A2(t){return jK&&t instanceof Map}function T2(t){return $K&&t instanceof Set}function cu(t){return t.o||t.t}function P2(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=o8(t);delete e[Lr];for(var r=ff(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function O2(t,e){return e===void 0&&(e=!1),R2(t)||Il(t)||!Os(t)||(Xf(t)>1&&(t.set=t.add=t.clear=t.delete=MK),Object.freeze(t),e&&$u(t,function(r,n){return O2(n,!0)},!0)),t}function MK(){uo(2)}function R2(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Vo(t){var e=ew[t];return e||uo(18,t),e}function LK(t,e){ew[t]||(ew[t]=e)}function ZE(){return Qd}function P1(t,e){e&&(Vo("Patches"),t.u=[],t.s=[],t.v=e)}function Qg(t){QE(t),t.p.forEach(BK),t.p=null}function QE(t){t===Qd&&(Qd=t.l)}function IF(t){return Qd={p:[],l:Qd,h:t,m:!0,_:0}}function BK(t){var e=t[Lr];e.i===0||e.i===1?e.j():e.g=!0}function O1(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||Vo("ES5").S(e,t,n),n?(r[Lr].P&&(Qg(e),uo(4)),Os(t)&&(t=Jg(e,t),e.l||em(e,t)),e.u&&Vo("Patches").M(r[Lr].t,t,e.u,e.s)):t=Jg(e,r,[]),Qg(e),e.u&&e.v(e.u,e.s),t!==a8?t:void 0}function Jg(t,e,r){if(R2(e))return e;var n=e[Lr];if(!n)return $u(e,function(s,c){return kF(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return em(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=P2(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),$u(a,function(s,c){return kF(t,n,i,s,c,r,o)}),em(t,i,!1),r&&t.u&&Vo("Patches").N(n,r,t.u,t.s)}return n.o}function kF(t,e,r,n,i,a,o){if(Il(i)){var s=Jg(t,i,a&&e&&e.i!==3&&!cf(e.R,n)?a.concat(n):void 0);if(n8(r,n,s),!Il(s))return;t.m=!1}else o&&r.add(i);if(Os(i)&&!R2(i)){if(!t.h.D&&t._<1)return;Jg(t,i),e&&e.A.l||em(t,i)}}function em(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&O2(e,r)}function R1(t,e){var r=t[Lr];return(r?cu(r):t)[e]}function FF(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function tl(t){t.P||(t.P=!0,t.l&&tl(t.l))}function I1(t){t.o||(t.o=P2(t.t))}function JE(t,e,r){var n=A2(e)?Vo("MapSet").F(e,r):T2(e)?Vo("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:ZE(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=Jd;o&&(c=[s],l=dd);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):Vo("ES5").J(e,r);return(r?r.A:ZE()).p.push(n),n}function NK(t){return Il(t)||uo(22,t),function e(r){if(!Os(r))return r;var n,i=r[Lr],a=Xf(r);if(i){if(!i.P&&(i.i<4||!Vo("ES5").K(i)))return i.t;i.I=!0,n=DF(r,a),i.I=!1}else n=DF(r,a);return $u(n,function(o,s){i&&DK(i.t,o)===s||n8(n,o,e(s))}),a===3?new Set(n):n}(t)}function DF(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return P2(t)}function UK(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[Lr];return Jd.get(c,a)},set:function(c){var l=this[Lr];Jd.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][Lr];if(!s.P)switch(s.i){case 5:n(s)&&tl(s);break;case 4:r(s)&&tl(s)}}}function r(a){for(var o=a.t,s=a.k,c=ff(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==Lr){var f=o[u];if(f===void 0&&!cf(o,u))return!0;var h=s[u],d=h&&h[Lr];if(d?d.t!==f:!i8(h,f))return!0}}var p=!!o[Lr];return c.length!==ff(o).length+(p?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};LK("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,t(d,!0));return h}var p=o8(f);delete p[Lr];for(var v=ff(p),y=0;y<v.length;y++){var m=v[y];p[m]=t(m,u||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(s,a),l={i:s?5:4,A:o?o.A:ZE(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Lr,{value:l,writable:!0}),c},S:function(a,o,s){s?Il(o)&&o[Lr].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[Lr];if(u){var f=u.t,h=u.k,d=u.R,p=u.i;if(p===4)$u(h,function(x){x!==Lr&&(f[x]!==void 0||cf(f,x)?d[x]||c(h[x]):(d[x]=!0,tl(u)))}),$u(f,function(x){h[x]!==void 0||cf(h,x)||(d[x]=!1,tl(u))});else if(p===5){if(n(u)&&(tl(u),d.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)d[v]=!1;else for(var y=f.length;y<h.length;y++)d[y]=!0;for(var m=Math.min(h.length,f.length),g=0;g<m;g++)h.hasOwnProperty(g)||(d[g]=!0),d[g]===void 0&&c(h[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var MF,Qd,I2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",jK=typeof Map<"u",$K=typeof Set<"u",LF=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",a8=I2?Symbol.for("immer-nothing"):((MF={})["immer-nothing"]=!0,MF),BF=I2?Symbol.for("immer-draftable"):"__$immer_draftable",Lr=I2?Symbol.for("immer-state"):"__$immer_state",VK=""+Object.prototype.constructor,ff=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,o8=Object.getOwnPropertyDescriptors||function(t){var e={};return ff(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},ew={},Jd={get:function(t,e){if(e===Lr)return t;var r=cu(t);if(!cf(r,e))return function(i,a,o){var s,c=FF(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!Os(n)?n:n===R1(t.t,e)?(I1(t),t.o[e]=JE(t.A.h,n,t)):n},has:function(t,e){return e in cu(t)},ownKeys:function(t){return Reflect.ownKeys(cu(t))},set:function(t,e,r){var n=FF(cu(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=R1(cu(t),e),a=i==null?void 0:i[Lr];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(i8(r,i)&&(r!==void 0||cf(t.t,e)))return!0;I1(t),tl(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return R1(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,I1(t),tl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=cu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){uo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){uo(12)}},dd={};$u(Jd,function(t,e){dd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),dd.deleteProperty=function(t,e){return dd.set.call(this,t,e,void 0)},dd.set=function(t,e,r){return Jd.set.call(this,t[0],e,r,t[0])};var GK=function(){function t(r){var n=this;this.O=LF,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(v){var y=this;v===void 0&&(v=s);for(var m=arguments.length,g=Array(m>1?m-1:0),x=1;x<m;x++)g[x-1]=arguments[x];return c.produce(v,function(S){var b;return(b=a).call.apply(b,[y,S].concat(g))})}}var l;if(typeof a!="function"&&uo(6),o!==void 0&&typeof o!="function"&&uo(7),Os(i)){var u=IF(n),f=JE(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?Qg(u):QE(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return P1(u,o),O1(v,u)},function(v){throw Qg(u),v}):(P1(u,o),O1(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===a8&&(l=void 0),n.D&&O2(l,!0),o){var d=[],p=[];Vo("Patches").M(i,l,d,p),o(d,p)}return l}uo(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Os(r)||uo(8),Il(r)&&(r=NK(r));var n=IF(this),i=JE(this,r,void 0);return i[Lr].C=!0,QE(n),i},e.finishDraft=function(r,n){var i=r&&r[Lr],a=i.A;return P1(a,n),O1(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!LF&&uo(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=Vo("Patches").$;return Il(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),ya=new GK,s8=ya.produce;ya.produceWithPatches.bind(ya);ya.setAutoFreeze.bind(ya);ya.setUseProxies.bind(ya);ya.applyPatches.bind(ya);ya.createDraft.bind(ya);ya.finishDraft.bind(ya);function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}function WK(t,e){if(Wn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l8(t){var e=WK(t,"string");return Wn(e)=="symbol"?e:e+""}function xa(t,e,r){return e=l8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var jF=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),k1=function(){return Math.random().toString(36).substring(7).split("").join(".")},tm={INIT:"@@redux/INIT"+k1(),REPLACE:"@@redux/REPLACE"+k1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+k1()}};function zK(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function u8(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hi(1));return r(u8)(t,e)}if(typeof t!="function")throw new Error(hi(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(hi(3));return a}function f(v){if(typeof v!="function")throw new Error(hi(4));if(c)throw new Error(hi(5));var y=!0;return l(),s.push(v),function(){if(y){if(c)throw new Error(hi(6));y=!1,l();var g=s.indexOf(v);s.splice(g,1),o=null}}}function h(v){if(!zK(v))throw new Error(hi(7));if(typeof v.type>"u")throw new Error(hi(8));if(c)throw new Error(hi(9));try{c=!0,a=i(a,v)}finally{c=!1}for(var y=o=s,m=0;m<y.length;m++){var g=y[m];g()}return v}function d(v){if(typeof v!="function")throw new Error(hi(10));i=v,h({type:tm.REPLACE})}function p(){var v,y=f;return v={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(hi(11));function x(){g.next&&g.next(u())}x();var S=y(x);return{unsubscribe:S}}},v[jF]=function(){return this},v}return h({type:tm.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:d},n[jF]=p,n}function HK(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:tm.INIT});if(typeof n>"u")throw new Error(hi(12));if(typeof r(void 0,{type:tm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hi(13))})}function XK(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{HK(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var d=a[h],p=r[d],v=c[d],y=p(v,l);if(typeof y>"u")throw l&&l.type,new Error(hi(14));f[d]=y,u=u||y!==v}return u=u||a.length!==Object.keys(c).length,u?f:c}}function rm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function YK(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(hi(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=rm.apply(void 0,s)(i.dispatch),UF(UF({},i),{},{dispatch:a})}}}function c8(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var f8=c8();f8.withExtraArgument=c8;const $F=f8;var h8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qK=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ef=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},KK=Object.defineProperty,ZK=Object.defineProperties,QK=Object.getOwnPropertyDescriptors,VF=Object.getOwnPropertySymbols,JK=Object.prototype.hasOwnProperty,eZ=Object.prototype.propertyIsEnumerable,GF=function(t,e,r){return e in t?KK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},xl=function(t,e){for(var r in e||(e={}))JK.call(e,r)&&GF(t,r,e[r]);if(VF)for(var n=0,i=VF(e);n<i.length;n++){var r=i[n];eZ.call(e,r)&&GF(t,r,e[r])}return t},F1=function(t,e){return ZK(t,QK(e))},tZ=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},rZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rm:rm.apply(null,arguments)};function nZ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function bl(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return xl(xl({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var iZ=function(t){h8(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Ef([void 0],r[0].concat(this)))):new(e.bind.apply(e,Ef([void 0],r.concat(this))))},e}(Array),aZ=function(t){h8(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Ef([void 0],r[0].concat(this)))):new(e.bind.apply(e,Ef([void 0],r.concat(this))))},e}(Array);function tw(t){return Os(t)?s8(t,function(){}):t}function oZ(t){return typeof t=="boolean"}function sZ(){return function(e){return d8(e)}}function d8(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new iZ;return r&&(oZ(r)?n.push($F):n.push($F.withExtraArgument(r.extraArgument))),n}var lZ=!0;function uZ(t){var e=sZ(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(nZ(i))d=XK(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var v=YK.apply(void 0,p),y=rm;c&&(y=rZ(xl({trace:!lZ},typeof c=="object"&&c)));var m=new aZ(v),g=m;Array.isArray(h)?g=Ef([v],h):typeof h=="function"&&(g=h(m));var x=y.apply(void 0,g);return u8(d,u,x)}function p8(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function cZ(t){return typeof t=="function"}function fZ(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?p8(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(cZ(t))c=function(){return tw(t())};else{var l=tw(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var d=Ef([a[h.type]],o.filter(function(p){var v=p.matcher;return v(h)}).map(function(p){var v=p.reducer;return v}));return d.filter(function(p){return!!p}).length===0&&(d=[s]),d.reduce(function(p,v){if(v)if(Il(p)){var y=p,m=v(y,h);return m===void 0?p:m}else{if(Os(p))return s8(p,function(g){return v(g,h)});var m=v(p,h);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return u.getInitialState=c,u}function hZ(t,e){return t+"/"+e}function ny(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:tw(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=hZ(e,u),d,p;"reducer"in f?(d=f.reducer,p=f.prepare):d=f,a[u]=d,o[h]=d,s[u]=p?bl(h,p):bl(h)});function c(){var u=typeof t.extraReducers=="function"?p8(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,d=u[1],p=d===void 0?[]:d,v=u[2],y=v===void 0?void 0:v,m=xl(xl({},h),o);return fZ(r,function(g){for(var x in m)g.addCase(x,m[x]);for(var S=0,b=p;S<b.length;S++){var w=b[S];g.addMatcher(w.matcher,w.reducer)}y&&g.addDefaultCase(y)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var dZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pZ=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=dZ[Math.random()*64|0];return e},vZ=["name","message","stack","code"],D1=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),WF=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),gZ=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=vZ;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=bl(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:F1(xl({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=bl(e+"/pending",function(l,u,f){return{payload:void 0,meta:F1(xl({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=bl(e+"/rejected",function(l,u,f,h,d){return{payload:h,error:(n&&n.serializeError||gZ)(l||"Rejected"),meta:F1(xl({},d||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var d=n!=null&&n.idGenerator?n.idGenerator(l):pZ(),p=new s,v;function y(g){v=g,p.abort()}var m=function(){return tZ(this,null,function(){var g,x,S,b,w,C,A;return qK(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),b=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:f,extra:h}),yZ(b)?[4,b]:[3,2];case 1:b=P.sent(),P.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(O,I){return p.signal.addEventListener("abort",function(){return I({name:"AbortError",message:v||"Aborted"})})}),u(a(d,l,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([w,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:d,signal:p.signal,abort:y,rejectWithValue:function(O,I){return new D1(O,I)},fulfillWithValue:function(O,I){return new WF(O,I)}})).then(function(O){if(O instanceof D1)throw O;return O instanceof WF?i(O.payload,d,l,O.meta):i(O,d,l)})])];case 3:return S=P.sent(),[3,5];case 4:return C=P.sent(),S=C instanceof D1?o(null,d,l,C.payload,C.meta):o(C,d,l),[3,5];case 5:return A=n&&!n.dispatchConditionRejection&&o.match(S)&&S.meta.condition,A||u(S),[2,S]}})})}();return Object.assign(m,{abort:y,requestId:d,arg:l,unwrap:function(){return m.then(mZ)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function mZ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function yZ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var k2="listenerMiddleware";bl(k2+"/add");bl(k2+"/removeAll");bl(k2+"/remove");var zF;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);UK();function _Z(){this.__data__=[],this.size=0}var xZ=_Z;function bZ(t,e){return t===e||t!==t&&e!==e}var F2=bZ,SZ=F2;function EZ(t,e){for(var r=t.length;r--;)if(SZ(t[r][0],e))return r;return-1}var iy=EZ,wZ=iy,CZ=Array.prototype,AZ=CZ.splice;function TZ(t){var e=this.__data__,r=wZ(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():AZ.call(e,r,1),--this.size,!0}var PZ=TZ,OZ=iy;function RZ(t){var e=this.__data__,r=OZ(e,t);return r<0?void 0:e[r][1]}var IZ=RZ,kZ=iy;function FZ(t){return kZ(this.__data__,t)>-1}var DZ=FZ,MZ=iy;function LZ(t,e){var r=this.__data__,n=MZ(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var BZ=LZ,NZ=xZ,UZ=PZ,jZ=IZ,$Z=DZ,VZ=BZ;function Yf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yf.prototype.clear=NZ;Yf.prototype.delete=UZ;Yf.prototype.get=jZ;Yf.prototype.has=$Z;Yf.prototype.set=VZ;var ay=Yf,GZ=ay;function WZ(){this.__data__=new GZ,this.size=0}var zZ=WZ;function HZ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var XZ=HZ;function YZ(t){return this.__data__.get(t)}var qZ=YZ;function KZ(t){return this.__data__.has(t)}var ZZ=KZ,QZ=typeof st=="object"&&st&&st.Object===Object&&st,v8=QZ,JZ=v8,eQ=typeof self=="object"&&self&&self.Object===Object&&self,tQ=JZ||eQ||Function("return this")(),go=tQ,rQ=go,nQ=rQ.Symbol,zp=nQ,HF=zp,g8=Object.prototype,iQ=g8.hasOwnProperty,aQ=g8.toString,Hh=HF?HF.toStringTag:void 0;function oQ(t){var e=iQ.call(t,Hh),r=t[Hh];try{t[Hh]=void 0;var n=!0}catch{}var i=aQ.call(t);return n&&(e?t[Hh]=r:delete t[Hh]),i}var sQ=oQ,lQ=Object.prototype,uQ=lQ.toString;function cQ(t){return uQ.call(t)}var fQ=cQ,XF=zp,hQ=sQ,dQ=fQ,pQ="[object Null]",vQ="[object Undefined]",YF=XF?XF.toStringTag:void 0;function gQ(t){return t==null?t===void 0?vQ:pQ:YF&&YF in Object(t)?hQ(t):dQ(t)}var Hp=gQ;function mQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ko=mQ,yQ=Hp,_Q=Ko,xQ="[object AsyncFunction]",bQ="[object Function]",SQ="[object GeneratorFunction]",EQ="[object Proxy]";function wQ(t){if(!_Q(t))return!1;var e=yQ(t);return e==bQ||e==SQ||e==xQ||e==EQ}var m8=wQ,CQ=go,AQ=CQ["__core-js_shared__"],TQ=AQ,M1=TQ,qF=function(){var t=/[^.]+$/.exec(M1&&M1.keys&&M1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PQ(t){return!!qF&&qF in t}var OQ=PQ,RQ=Function.prototype,IQ=RQ.toString;function kQ(t){if(t!=null){try{return IQ.call(t)}catch{}try{return t+""}catch{}}return""}var y8=kQ,FQ=m8,DQ=OQ,MQ=Ko,LQ=y8,BQ=/[\\^$.*+?()[\]{}|]/g,NQ=/^\[object .+?Constructor\]$/,UQ=Function.prototype,jQ=Object.prototype,$Q=UQ.toString,VQ=jQ.hasOwnProperty,GQ=RegExp("^"+$Q.call(VQ).replace(BQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WQ(t){if(!MQ(t)||DQ(t))return!1;var e=FQ(t)?GQ:NQ;return e.test(LQ(t))}var zQ=WQ;function HQ(t,e){return t==null?void 0:t[e]}var XQ=HQ,YQ=zQ,qQ=XQ;function KQ(t,e){var r=qQ(t,e);return YQ(r)?r:void 0}var ec=KQ,ZQ=ec,QQ=go,JQ=ZQ(QQ,"Map"),D2=JQ,eJ=ec,tJ=eJ(Object,"create"),oy=tJ,KF=oy;function rJ(){this.__data__=KF?KF(null):{},this.size=0}var nJ=rJ;function iJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aJ=iJ,oJ=oy,sJ="__lodash_hash_undefined__",lJ=Object.prototype,uJ=lJ.hasOwnProperty;function cJ(t){var e=this.__data__;if(oJ){var r=e[t];return r===sJ?void 0:r}return uJ.call(e,t)?e[t]:void 0}var fJ=cJ,hJ=oy,dJ=Object.prototype,pJ=dJ.hasOwnProperty;function vJ(t){var e=this.__data__;return hJ?e[t]!==void 0:pJ.call(e,t)}var gJ=vJ,mJ=oy,yJ="__lodash_hash_undefined__";function _J(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mJ&&e===void 0?yJ:e,this}var xJ=_J,bJ=nJ,SJ=aJ,EJ=fJ,wJ=gJ,CJ=xJ;function qf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qf.prototype.clear=bJ;qf.prototype.delete=SJ;qf.prototype.get=EJ;qf.prototype.has=wJ;qf.prototype.set=CJ;var AJ=qf,ZF=AJ,TJ=ay,PJ=D2;function OJ(){this.size=0,this.__data__={hash:new ZF,map:new(PJ||TJ),string:new ZF}}var RJ=OJ;function IJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kJ=IJ,FJ=kJ;function DJ(t,e){var r=t.__data__;return FJ(e)?r[typeof e=="string"?"string":"hash"]:r.map}var sy=DJ,MJ=sy;function LJ(t){var e=MJ(this,t).delete(t);return this.size-=e?1:0,e}var BJ=LJ,NJ=sy;function UJ(t){return NJ(this,t).get(t)}var jJ=UJ,$J=sy;function VJ(t){return $J(this,t).has(t)}var GJ=VJ,WJ=sy;function zJ(t,e){var r=WJ(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var HJ=zJ,XJ=RJ,YJ=BJ,qJ=jJ,KJ=GJ,ZJ=HJ;function Kf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kf.prototype.clear=XJ;Kf.prototype.delete=YJ;Kf.prototype.get=qJ;Kf.prototype.has=KJ;Kf.prototype.set=ZJ;var M2=Kf,QJ=ay,JJ=D2,eee=M2,tee=200;function ree(t,e){var r=this.__data__;if(r instanceof QJ){var n=r.__data__;if(!JJ||n.length<tee-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new eee(n)}return r.set(t,e),this.size=r.size,this}var nee=ree,iee=ay,aee=zZ,oee=XZ,see=qZ,lee=ZZ,uee=nee;function Zf(t){var e=this.__data__=new iee(t);this.size=e.size}Zf.prototype.clear=aee;Zf.prototype.delete=oee;Zf.prototype.get=see;Zf.prototype.has=lee;Zf.prototype.set=uee;var L2=Zf;function cee(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var fee=cee,hee=ec,dee=function(){try{var t=hee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pee=dee,QF=pee;function vee(t,e,r){e=="__proto__"&&QF?QF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var _8=vee,gee=_8,mee=F2,yee=Object.prototype,_ee=yee.hasOwnProperty;function xee(t,e,r){var n=t[e];(!(_ee.call(t,e)&&mee(n,r))||r===void 0&&!(e in t))&&gee(t,e,r)}var B2=xee,bee=B2,See=_8;function Eee(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?See(r,s,c):bee(r,s,c)}return r}var ly=Eee;function wee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Cee=wee;function Aee(t){return t!=null&&typeof t=="object"}var tc=Aee,Tee=Hp,Pee=tc,Oee="[object Arguments]";function Ree(t){return Pee(t)&&Tee(t)==Oee}var Iee=Ree,JF=Iee,kee=tc,x8=Object.prototype,Fee=x8.hasOwnProperty,Dee=x8.propertyIsEnumerable,Mee=JF(function(){return arguments}())?JF:function(t){return kee(t)&&Fee.call(t,"callee")&&!Dee.call(t,"callee")},b8=Mee,Lee=Array.isArray,ks=Lee,nm={exports:{}};function Bee(){return!1}var Nee=Bee;nm.exports;(function(t,e){var r=go,n=Nee,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(nm,nm.exports);var N2=nm.exports,Uee=9007199254740991,jee=/^(?:0|[1-9]\d*)$/;function $ee(t,e){var r=typeof t;return e=e??Uee,!!e&&(r=="number"||r!="symbol"&&jee.test(t))&&t>-1&&t%1==0&&t<e}var U2=$ee,Vee=9007199254740991;function Gee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vee}var j2=Gee,Wee=Hp,zee=j2,Hee=tc,Xee="[object Arguments]",Yee="[object Array]",qee="[object Boolean]",Kee="[object Date]",Zee="[object Error]",Qee="[object Function]",Jee="[object Map]",ete="[object Number]",tte="[object Object]",rte="[object RegExp]",nte="[object Set]",ite="[object String]",ate="[object WeakMap]",ote="[object ArrayBuffer]",ste="[object DataView]",lte="[object Float32Array]",ute="[object Float64Array]",cte="[object Int8Array]",fte="[object Int16Array]",hte="[object Int32Array]",dte="[object Uint8Array]",pte="[object Uint8ClampedArray]",vte="[object Uint16Array]",gte="[object Uint32Array]",Or={};Or[lte]=Or[ute]=Or[cte]=Or[fte]=Or[hte]=Or[dte]=Or[pte]=Or[vte]=Or[gte]=!0;Or[Xee]=Or[Yee]=Or[ote]=Or[qee]=Or[ste]=Or[Kee]=Or[Zee]=Or[Qee]=Or[Jee]=Or[ete]=Or[tte]=Or[rte]=Or[nte]=Or[ite]=Or[ate]=!1;function mte(t){return Hee(t)&&zee(t.length)&&!!Or[Wee(t)]}var yte=mte;function _te(t){return function(e){return t(e)}}var $2=_te,im={exports:{}};im.exports;(function(t,e){var r=v8,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(im,im.exports);var V2=im.exports,xte=yte,bte=$2,eD=V2,tD=eD&&eD.isTypedArray,Ste=tD?bte(tD):xte,S8=Ste,Ete=Cee,wte=b8,Cte=ks,Ate=N2,Tte=U2,Pte=S8,Ote=Object.prototype,Rte=Ote.hasOwnProperty;function Ite(t,e){var r=Cte(t),n=!r&&wte(t),i=!r&&!n&&Ate(t),a=!r&&!n&&!i&&Pte(t),o=r||n||i||a,s=o?Ete(t.length,String):[],c=s.length;for(var l in t)(e||Rte.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Tte(l,c)))&&s.push(l);return s}var E8=Ite,kte=Object.prototype;function Fte(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kte;return t===r}var G2=Fte;function Dte(t,e){return function(r){return t(e(r))}}var w8=Dte,Mte=w8,Lte=Mte(Object.keys,Object),Bte=Lte,Nte=G2,Ute=Bte,jte=Object.prototype,$te=jte.hasOwnProperty;function Vte(t){if(!Nte(t))return Ute(t);var e=[];for(var r in Object(t))$te.call(t,r)&&r!="constructor"&&e.push(r);return e}var Gte=Vte,Wte=m8,zte=j2;function Hte(t){return t!=null&&zte(t.length)&&!Wte(t)}var C8=Hte,Xte=E8,Yte=Gte,qte=C8;function Kte(t){return qte(t)?Xte(t):Yte(t)}var uy=Kte,Zte=ly,Qte=uy;function Jte(t,e){return t&&Zte(e,Qte(e),t)}var ere=Jte;function tre(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var rre=tre,nre=Ko,ire=G2,are=rre,ore=Object.prototype,sre=ore.hasOwnProperty;function lre(t){if(!nre(t))return are(t);var e=ire(t),r=[];for(var n in t)n=="constructor"&&(e||!sre.call(t,n))||r.push(n);return r}var ure=lre,cre=E8,fre=ure,hre=C8;function dre(t){return hre(t)?cre(t,!0):fre(t)}var W2=dre,pre=ly,vre=W2;function gre(t,e){return t&&pre(e,vre(e),t)}var mre=gre,am={exports:{}};am.exports;(function(t,e){var r=go,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(am,am.exports);var yre=am.exports;function _re(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var xre=_re;function bre(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Sre=bre;function Ere(){return[]}var A8=Ere,wre=Sre,Cre=A8,Are=Object.prototype,Tre=Are.propertyIsEnumerable,rD=Object.getOwnPropertySymbols,Pre=rD?function(t){return t==null?[]:(t=Object(t),wre(rD(t),function(e){return Tre.call(t,e)}))}:Cre,z2=Pre,Ore=ly,Rre=z2;function Ire(t,e){return Ore(t,Rre(t),e)}var kre=Ire;function Fre(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var T8=Fre,Dre=w8,Mre=Dre(Object.getPrototypeOf,Object),P8=Mre,Lre=T8,Bre=P8,Nre=z2,Ure=A8,jre=Object.getOwnPropertySymbols,$re=jre?function(t){for(var e=[];t;)Lre(e,Nre(t)),t=Bre(t);return e}:Ure,O8=$re,Vre=ly,Gre=O8;function Wre(t,e){return Vre(t,Gre(t),e)}var zre=Wre,Hre=T8,Xre=ks;function Yre(t,e,r){var n=e(t);return Xre(t)?n:Hre(n,r(t))}var R8=Yre,qre=R8,Kre=z2,Zre=uy;function Qre(t){return qre(t,Zre,Kre)}var I8=Qre,Jre=R8,ene=O8,tne=W2;function rne(t){return Jre(t,tne,ene)}var k8=rne,nne=ec,ine=go,ane=nne(ine,"DataView"),one=ane,sne=ec,lne=go,une=sne(lne,"Promise"),cne=une,fne=ec,hne=go,dne=fne(hne,"Set"),F8=dne,pne=ec,vne=go,gne=pne(vne,"WeakMap"),mne=gne,rw=one,nw=D2,iw=cne,aw=F8,ow=mne,D8=Hp,Qf=y8,nD="[object Map]",yne="[object Object]",iD="[object Promise]",aD="[object Set]",oD="[object WeakMap]",sD="[object DataView]",_ne=Qf(rw),xne=Qf(nw),bne=Qf(iw),Sne=Qf(aw),Ene=Qf(ow),fu=D8;(rw&&fu(new rw(new ArrayBuffer(1)))!=sD||nw&&fu(new nw)!=nD||iw&&fu(iw.resolve())!=iD||aw&&fu(new aw)!=aD||ow&&fu(new ow)!=oD)&&(fu=function(t){var e=D8(t),r=e==yne?t.constructor:void 0,n=r?Qf(r):"";if(n)switch(n){case _ne:return sD;case xne:return nD;case bne:return iD;case Sne:return aD;case Ene:return oD}return e});var cy=fu,wne=Object.prototype,Cne=wne.hasOwnProperty;function Ane(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Cne.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Tne=Ane,Pne=go,One=Pne.Uint8Array,M8=One,lD=M8;function Rne(t){var e=new t.constructor(t.byteLength);return new lD(e).set(new lD(t)),e}var H2=Rne,Ine=H2;function kne(t,e){var r=e?Ine(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Fne=kne,Dne=/\w*$/;function Mne(t){var e=new t.constructor(t.source,Dne.exec(t));return e.lastIndex=t.lastIndex,e}var Lne=Mne,uD=zp,cD=uD?uD.prototype:void 0,fD=cD?cD.valueOf:void 0;function Bne(t){return fD?Object(fD.call(t)):{}}var Nne=Bne,Une=H2;function jne(t,e){var r=e?Une(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var $ne=jne,Vne=H2,Gne=Fne,Wne=Lne,zne=Nne,Hne=$ne,Xne="[object Boolean]",Yne="[object Date]",qne="[object Map]",Kne="[object Number]",Zne="[object RegExp]",Qne="[object Set]",Jne="[object String]",eie="[object Symbol]",tie="[object ArrayBuffer]",rie="[object DataView]",nie="[object Float32Array]",iie="[object Float64Array]",aie="[object Int8Array]",oie="[object Int16Array]",sie="[object Int32Array]",lie="[object Uint8Array]",uie="[object Uint8ClampedArray]",cie="[object Uint16Array]",fie="[object Uint32Array]";function hie(t,e,r){var n=t.constructor;switch(e){case tie:return Vne(t);case Xne:case Yne:return new n(+t);case rie:return Gne(t,r);case nie:case iie:case aie:case oie:case sie:case lie:case uie:case cie:case fie:return Hne(t,r);case qne:return new n;case Kne:case Jne:return new n(t);case Zne:return Wne(t);case Qne:return new n;case eie:return zne(t)}}var die=hie,pie=Ko,hD=Object.create,vie=function(){function t(){}return function(e){if(!pie(e))return{};if(hD)return hD(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),gie=vie,mie=gie,yie=P8,_ie=G2;function xie(t){return typeof t.constructor=="function"&&!_ie(t)?mie(yie(t)):{}}var bie=xie,Sie=cy,Eie=tc,wie="[object Map]";function Cie(t){return Eie(t)&&Sie(t)==wie}var Aie=Cie,Tie=Aie,Pie=$2,dD=V2,pD=dD&&dD.isMap,Oie=pD?Pie(pD):Tie,Rie=Oie,Iie=cy,kie=tc,Fie="[object Set]";function Die(t){return kie(t)&&Iie(t)==Fie}var Mie=Die,Lie=Mie,Bie=$2,vD=V2,gD=vD&&vD.isSet,Nie=gD?Bie(gD):Lie,Uie=Nie,jie=L2,$ie=fee,Vie=B2,Gie=ere,Wie=mre,zie=yre,Hie=xre,Xie=kre,Yie=zre,qie=I8,Kie=k8,Zie=cy,Qie=Tne,Jie=die,eae=bie,tae=ks,rae=N2,nae=Rie,iae=Ko,aae=Uie,oae=uy,sae=W2,lae=1,uae=2,cae=4,L8="[object Arguments]",fae="[object Array]",hae="[object Boolean]",dae="[object Date]",pae="[object Error]",B8="[object Function]",vae="[object GeneratorFunction]",gae="[object Map]",mae="[object Number]",N8="[object Object]",yae="[object RegExp]",_ae="[object Set]",xae="[object String]",bae="[object Symbol]",Sae="[object WeakMap]",Eae="[object ArrayBuffer]",wae="[object DataView]",Cae="[object Float32Array]",Aae="[object Float64Array]",Tae="[object Int8Array]",Pae="[object Int16Array]",Oae="[object Int32Array]",Rae="[object Uint8Array]",Iae="[object Uint8ClampedArray]",kae="[object Uint16Array]",Fae="[object Uint32Array]",br={};br[L8]=br[fae]=br[Eae]=br[wae]=br[hae]=br[dae]=br[Cae]=br[Aae]=br[Tae]=br[Pae]=br[Oae]=br[gae]=br[mae]=br[N8]=br[yae]=br[_ae]=br[xae]=br[bae]=br[Rae]=br[Iae]=br[kae]=br[Fae]=!0;br[pae]=br[B8]=br[Sae]=!1;function cg(t,e,r,n,i,a){var o,s=e&lae,c=e&uae,l=e&cae;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!iae(t))return t;var u=tae(t);if(u){if(o=Qie(t),!s)return Hie(t,o)}else{var f=Zie(t),h=f==B8||f==vae;if(rae(t))return zie(t,s);if(f==N8||f==L8||h&&!i){if(o=c||h?{}:eae(t),!s)return c?Yie(t,Wie(o,t)):Xie(t,Gie(o,t))}else{if(!br[f])return i?t:{};o=Jie(t,f,s)}}a||(a=new jie);var d=a.get(t);if(d)return d;a.set(t,o),aae(t)?t.forEach(function(y){o.add(cg(y,e,r,y,t,a))}):nae(t)&&t.forEach(function(y,m){o.set(m,cg(y,e,r,m,t,a))});var p=l?c?Kie:qie:c?sae:oae,v=u?void 0:p(t);return $ie(v||t,function(y,m){v&&(m=y,y=t[m]),Vie(o,m,cg(y,e,r,m,t,a))}),o}var Dae=cg,Mae=Dae,Lae=1,Bae=4;function Nae(t){return Mae(t,Lae|Bae)}var Uae=Nae;const zr=xi(Uae);var Pt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t))(Pt||{});function dv(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const U8={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",gameSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:dv().defaultWidth,storyLineBgY:dv().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:dv().defaultWidth,achieveBgY:dv().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},X2=ny({name:"stage",initialState:zr(U8),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Pt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{t.showValueList.push(e.payload)},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:fy,setStage:ht,setStageVar:j8,setAchieveBg:jae,setUnlockAchieve:NNe,setStoryLineBg:UNe,addShowValues:Ac,addShowValueList:$ae,updateShowValueList:Vae}=X2.actions,qi=X2.actions,Gae=X2.reducer;function pd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $8={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof pd=="function"&&pd;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(p){var v=n[l][1][p];return o(v||p)},d,d.exports,r,n,i,a)}return i[l].exports}for(var s=typeof pd=="function"&&pd,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(p),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var y=a.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:s=function(){setTimeout(p,0)};var h,d=[];function p(){h=!0;for(var y,m,g=d.length;g;){for(m=d,d=[],y=-1;++y<g;)m[y]();g=d.length}h=!1}n.exports=v;function v(y){d.push(y)===1&&!h&&s()}}).call(this,typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,w){if(typeof b!="function"&&this.state===l||typeof w!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var A=this.state===l?b:w;d(C,A,this.outcome)}else this.queue.push(new h(C,b,w));return C};function h(b,w,C){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){d(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){d(this.promise,this.onRejected,b)};function d(b,w,C){a(function(){var A;try{A=w(C)}catch(P){return s.reject(b,P)}A===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,A)})}s.resolve=function(b,w){var C=y(p,w);if(C.status==="error")return s.reject(b,C.value);var A=C.value;if(A)v(b,A);else{b.state=l,b.outcome=w;for(var P=-1,O=b.queue.length;++P<O;)b.queue[P].callFulfilled(w)}return b},s.reject=function(b,w){b.state=c,b.outcome=w;for(var C=-1,A=b.queue.length;++C<A;)b.queue[C].callRejected(w);return b};function p(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function v(b,w){var C=!1;function A(R){C||(C=!0,s.reject(b,R))}function P(R){C||(C=!0,s.resolve(b,R))}function O(){w(P,A)}var I=y(O);I.status==="error"&&A(I.value)}function y(b,w){var C={};try{C.value=b(w),C.status="success"}catch(A){C.status="error",C.value=A}return C}f.resolve=m;function m(b){return b instanceof this?b:s.resolve(new this(o),b)}f.reject=g;function g(b){var w=new this(o);return s.reject(w,b)}f.all=x;function x(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var P=new Array(C),O=0,I=-1,R=new this(o);++I<C;)k(b[I],I);return R;function k(D,L){w.resolve(D).then(U,function(W){A||(A=!0,s.reject(R,W))});function U(W){P[L]=W,++O===C&&!A&&(A=!0,s.resolve(R,P))}}}f.race=S;function S(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=b.length,A=!1;if(!C)return this.resolve([]);for(var P=-1,O=new this(o);++P<C;)I(b[P]);return O;function I(R){w.resolve(R).then(function(k){A||(A=!0,s.resolve(O,k))},function(k){A||(A=!0,s.reject(O,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function o(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var X=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),re=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!X||re)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(X,re){X=X||[],re=re||{};try{return new Blob(X,re)}catch(ae){if(ae.name!=="TypeError")throw ae;for(var Z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,oe=new Z,he=0;he<X.length;he+=1)oe.append(X[he]);return oe.getBlob(re.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(X,re){re&&X.then(function(Z){re(null,Z)},function(Z){re(Z)})}function d(X,re,Z){typeof re=="function"&&X.then(re),typeof Z=="function"&&X.catch(Z)}function p(X){return typeof X!="string"&&(console.warn(X+" used as a key, but it is not a string."),X=String(X)),X}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,g={},x=Object.prototype.toString,S="readonly",b="readwrite";function w(X){for(var re=X.length,Z=new ArrayBuffer(re),oe=new Uint8Array(Z),he=0;he<re;he++)oe[he]=X.charCodeAt(he);return Z}function C(X){return new f(function(re){var Z=X.transaction(y,b),oe=u([""]);Z.objectStore(y).put(oe,"key"),Z.onabort=function(he){he.preventDefault(),he.stopPropagation(),re(!1)},Z.oncomplete=function(){var he=navigator.userAgent.match(/Chrome\/(\d+)/),ae=navigator.userAgent.match(/Edge\//);re(ae||!he||parseInt(he[1],10)>=43)}}).catch(function(){return!1})}function A(X){return typeof m=="boolean"?f.resolve(m):C(X).then(function(re){return m=re,m})}function P(X){var re=g[X.name],Z={};Z.promise=new f(function(oe,he){Z.resolve=oe,Z.reject=he}),re.deferredOperations.push(Z),re.dbReady?re.dbReady=re.dbReady.then(function(){return Z.promise}):re.dbReady=Z.promise}function O(X){var re=g[X.name],Z=re.deferredOperations.pop();if(Z)return Z.resolve(),Z.promise}function I(X,re){var Z=g[X.name],oe=Z.deferredOperations.pop();if(oe)return oe.reject(re),oe.promise}function R(X,re){return new f(function(Z,oe){if(g[X.name]=g[X.name]||V(),X.db)if(re)P(X),X.db.close();else return Z(X.db);var he=[X.name];re&&he.push(X.version);var ae=c.open.apply(c,he);re&&(ae.onupgradeneeded=function(Ee){var Ie=ae.result;try{Ie.createObjectStore(X.storeName),Ee.oldVersion<=1&&Ie.createObjectStore(y)}catch(De){if(De.name==="ConstraintError")console.warn('The database "'+X.name+'" has been upgraded from version '+Ee.oldVersion+" to version "+Ee.newVersion+', but the storage "'+X.storeName+'" already exists.');else throw De}}),ae.onerror=function(Ee){Ee.preventDefault(),oe(ae.error)},ae.onsuccess=function(){var Ee=ae.result;Ee.onversionchange=function(Ie){Ie.target.close()},Z(Ee),O(X)}})}function k(X){return R(X,!1)}function D(X){return R(X,!0)}function L(X,re){if(!X.db)return!0;var Z=!X.db.objectStoreNames.contains(X.storeName),oe=X.version<X.db.version,he=X.version>X.db.version;if(oe&&(X.version!==re&&console.warn('The database "'+X.name+`" can't be downgraded from version `+X.db.version+" to version "+X.version+"."),X.version=X.db.version),he||Z){if(Z){var ae=X.db.version+1;ae>X.version&&(X.version=ae)}return!0}return!1}function U(X){return new f(function(re,Z){var oe=new FileReader;oe.onerror=Z,oe.onloadend=function(he){var ae=btoa(he.target.result||"");re({__local_forage_encoded_blob:!0,data:ae,type:X.type})},oe.readAsBinaryString(X)})}function W(X){var re=w(atob(X.data));return u([re],{type:X.type})}function te(X){return X&&X.__local_forage_encoded_blob}function J(X){var re=this,Z=re._initReady().then(function(){var oe=g[re._dbInfo.name];if(oe&&oe.dbReady)return oe.dbReady});return d(Z,X,X),Z}function z(X){P(X);for(var re=g[X.name],Z=re.forages,oe=0;oe<Z.length;oe++){var he=Z[oe];he._dbInfo.db&&(he._dbInfo.db.close(),he._dbInfo.db=null)}return X.db=null,k(X).then(function(ae){return X.db=ae,L(X)?D(X):ae}).then(function(ae){X.db=re.db=ae;for(var Ee=0;Ee<Z.length;Ee++)Z[Ee]._dbInfo.db=ae}).catch(function(ae){throw I(X,ae),ae})}function M(X,re,Z,oe){oe===void 0&&(oe=1);try{var he=X.db.transaction(X.storeName,re);Z(null,he)}catch(ae){if(oe>0&&(!X.db||ae.name==="InvalidStateError"||ae.name==="NotFoundError"))return f.resolve().then(function(){if(!X.db||ae.name==="NotFoundError"&&!X.db.objectStoreNames.contains(X.storeName)&&X.version<=X.db.version)return X.db&&(X.version=X.db.version+1),D(X)}).then(function(){return z(X).then(function(){M(X,re,Z,oe-1)})}).catch(Z);Z(ae)}}function V(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $(X){var re=this,Z={db:null};if(X)for(var oe in X)Z[oe]=X[oe];var he=g[Z.name];he||(he=V(),g[Z.name]=he),he.forages.push(re),re._initReady||(re._initReady=re.ready,re.ready=J);var ae=[];function Ee(){return f.resolve()}for(var Ie=0;Ie<he.forages.length;Ie++){var De=he.forages[Ie];De!==re&&ae.push(De._initReady().catch(Ee))}var Me=he.forages.slice(0);return f.all(ae).then(function(){return Z.db=he.db,k(Z)}).then(function(Be){return Z.db=Be,L(Z,re._defaultConfig.version)?D(Z):Be}).then(function(Be){Z.db=he.db=Be,re._dbInfo=Z;for(var et=0;et<Me.length;et++){var It=Me[et];It!==re&&(It._dbInfo.db=Z.db,It._dbInfo.version=Z.version)}})}function j(X,re){var Z=this;X=p(X);var oe=new f(function(he,ae){Z.ready().then(function(){M(Z._dbInfo,S,function(Ee,Ie){if(Ee)return ae(Ee);try{var De=Ie.objectStore(Z._dbInfo.storeName),Me=De.get(X);Me.onsuccess=function(){var Be=Me.result;Be===void 0&&(Be=null),te(Be)&&(Be=W(Be)),he(Be)},Me.onerror=function(){ae(Me.error)}}catch(Be){ae(Be)}})}).catch(ae)});return h(oe,re),oe}function Q(X,re){var Z=this,oe=new f(function(he,ae){Z.ready().then(function(){M(Z._dbInfo,S,function(Ee,Ie){if(Ee)return ae(Ee);try{var De=Ie.objectStore(Z._dbInfo.storeName),Me=De.openCursor(),Be=1;Me.onsuccess=function(){var et=Me.result;if(et){var It=et.value;te(It)&&(It=W(It));var Qt=X(It,et.key,Be++);Qt!==void 0?he(Qt):et.continue()}else he()},Me.onerror=function(){ae(Me.error)}}catch(et){ae(et)}})}).catch(ae)});return h(oe,re),oe}function ie(X,re,Z){var oe=this;X=p(X);var he=new f(function(ae,Ee){var Ie;oe.ready().then(function(){return Ie=oe._dbInfo,x.call(re)==="[object Blob]"?A(Ie.db).then(function(De){return De?re:U(re)}):re}).then(function(De){M(oe._dbInfo,b,function(Me,Be){if(Me)return Ee(Me);try{var et=Be.objectStore(oe._dbInfo.storeName);De===null&&(De=void 0);var It=et.put(De,X);Be.oncomplete=function(){De===void 0&&(De=null),ae(De)},Be.onabort=Be.onerror=function(){var Qt=It.error?It.error:It.transaction.error;Ee(Qt)}}catch(Qt){Ee(Qt)}})}).catch(Ee)});return h(he,Z),he}function de(X,re){var Z=this;X=p(X);var oe=new f(function(he,ae){Z.ready().then(function(){M(Z._dbInfo,b,function(Ee,Ie){if(Ee)return ae(Ee);try{var De=Ie.objectStore(Z._dbInfo.storeName),Me=De.delete(X);Ie.oncomplete=function(){he()},Ie.onerror=function(){ae(Me.error)},Ie.onabort=function(){var Be=Me.error?Me.error:Me.transaction.error;ae(Be)}}catch(Be){ae(Be)}})}).catch(ae)});return h(oe,re),oe}function ue(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){M(re._dbInfo,b,function(ae,Ee){if(ae)return he(ae);try{var Ie=Ee.objectStore(re._dbInfo.storeName),De=Ie.clear();Ee.oncomplete=function(){oe()},Ee.onabort=Ee.onerror=function(){var Me=De.error?De.error:De.transaction.error;he(Me)}}catch(Me){he(Me)}})}).catch(he)});return h(Z,X),Z}function be(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){M(re._dbInfo,S,function(ae,Ee){if(ae)return he(ae);try{var Ie=Ee.objectStore(re._dbInfo.storeName),De=Ie.count();De.onsuccess=function(){oe(De.result)},De.onerror=function(){he(De.error)}}catch(Me){he(Me)}})}).catch(he)});return h(Z,X),Z}function Pe(X,re){var Z=this,oe=new f(function(he,ae){if(X<0){he(null);return}Z.ready().then(function(){M(Z._dbInfo,S,function(Ee,Ie){if(Ee)return ae(Ee);try{var De=Ie.objectStore(Z._dbInfo.storeName),Me=!1,Be=De.openKeyCursor();Be.onsuccess=function(){var et=Be.result;if(!et){he(null);return}X===0||Me?he(et.key):(Me=!0,et.advance(X))},Be.onerror=function(){ae(Be.error)}}catch(et){ae(et)}})}).catch(ae)});return h(oe,re),oe}function ye(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){M(re._dbInfo,S,function(ae,Ee){if(ae)return he(ae);try{var Ie=Ee.objectStore(re._dbInfo.storeName),De=Ie.openKeyCursor(),Me=[];De.onsuccess=function(){var Be=De.result;if(!Be){oe(Me);return}Me.push(Be.key),Be.continue()},De.onerror=function(){he(De.error)}}catch(Be){he(Be)}})}).catch(he)});return h(Z,X),Z}function we(X,re){re=v.apply(this,arguments);var Z=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||Z.name,X.storeName=X.storeName||Z.storeName);var oe=this,he;if(!X.name)he=f.reject("Invalid arguments");else{var ae=X.name===Z.name&&oe._dbInfo.db,Ee=ae?f.resolve(oe._dbInfo.db):k(X).then(function(Ie){var De=g[X.name],Me=De.forages;De.db=Ie;for(var Be=0;Be<Me.length;Be++)Me[Be]._dbInfo.db=Ie;return Ie});X.storeName?he=Ee.then(function(Ie){if(Ie.objectStoreNames.contains(X.storeName)){var De=Ie.version+1;P(X);var Me=g[X.name],Be=Me.forages;Ie.close();for(var et=0;et<Be.length;et++){var It=Be[et];It._dbInfo.db=null,It._dbInfo.version=De}var Qt=new f(function(Jt,kr){var pr=c.open(X.name,De);pr.onerror=function(wi){var Ms=pr.result;Ms.close(),kr(wi)},pr.onupgradeneeded=function(){var wi=pr.result;wi.deleteObjectStore(X.storeName)},pr.onsuccess=function(){var wi=pr.result;wi.close(),Jt(wi)}});return Qt.then(function(Jt){Me.db=Jt;for(var kr=0;kr<Be.length;kr++){var pr=Be[kr];pr._dbInfo.db=Jt,O(pr._dbInfo)}}).catch(function(Jt){throw(I(X,Jt)||f.resolve()).catch(function(){}),Jt})}}):he=Ee.then(function(Ie){P(X);var De=g[X.name],Me=De.forages;Ie.close();for(var Be=0;Be<Me.length;Be++){var et=Me[Be];et._dbInfo.db=null}var It=new f(function(Qt,Jt){var kr=c.deleteDatabase(X.name);kr.onerror=function(){var pr=kr.result;pr&&pr.close(),Jt(kr.error)},kr.onblocked=function(){console.warn('dropInstance blocked for database "'+X.name+'" until all open connections are closed')},kr.onsuccess=function(){var pr=kr.result;pr&&pr.close(),Qt(pr)}});return It.then(function(Qt){De.db=Qt;for(var Jt=0;Jt<Me.length;Jt++){var kr=Me[Jt];O(kr._dbInfo)}}).catch(function(Qt){throw(I(X,Qt)||f.resolve()).catch(function(){}),Qt})})}return h(he,re),he}var _e={_driver:"asyncStorage",_initStorage:$,_support:l(),iterate:Q,getItem:j,setItem:ie,removeItem:de,clear:ue,length:be,key:Pe,keys:ye,dropInstance:we};function xe(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xe="~~local_forage_type~",Fe=/^~~local_forage_type~([^~]+)~/,at="__lfsc__:",vt=at.length,yt="arbf",tt="blob",ot="si08",dt="ui08",qt="uic8",nr="si16",Zt="si32",Gt="ur16",St="ui32",sr="fl32",ge="fl64",Ce=vt+yt.length,Re=Object.prototype.toString;function Ye(X){var re=X.length*.75,Z=X.length,oe,he=0,ae,Ee,Ie,De;X[X.length-1]==="="&&(re--,X[X.length-2]==="="&&re--);var Me=new ArrayBuffer(re),Be=new Uint8Array(Me);for(oe=0;oe<Z;oe+=4)ae=je.indexOf(X[oe]),Ee=je.indexOf(X[oe+1]),Ie=je.indexOf(X[oe+2]),De=je.indexOf(X[oe+3]),Be[he++]=ae<<2|Ee>>4,Be[he++]=(Ee&15)<<4|Ie>>2,Be[he++]=(Ie&3)<<6|De&63;return Me}function $e(X){var re=new Uint8Array(X),Z="",oe;for(oe=0;oe<re.length;oe+=3)Z+=je[re[oe]>>2],Z+=je[(re[oe]&3)<<4|re[oe+1]>>4],Z+=je[(re[oe+1]&15)<<2|re[oe+2]>>6],Z+=je[re[oe+2]&63];return re.length%3===2?Z=Z.substring(0,Z.length-1)+"=":re.length%3===1&&(Z=Z.substring(0,Z.length-2)+"=="),Z}function rt(X,re){var Z="";if(X&&(Z=Re.call(X)),X&&(Z==="[object ArrayBuffer]"||X.buffer&&Re.call(X.buffer)==="[object ArrayBuffer]")){var oe,he=at;X instanceof ArrayBuffer?(oe=X,he+=yt):(oe=X.buffer,Z==="[object Int8Array]"?he+=ot:Z==="[object Uint8Array]"?he+=dt:Z==="[object Uint8ClampedArray]"?he+=qt:Z==="[object Int16Array]"?he+=nr:Z==="[object Uint16Array]"?he+=Gt:Z==="[object Int32Array]"?he+=Zt:Z==="[object Uint32Array]"?he+=St:Z==="[object Float32Array]"?he+=sr:Z==="[object Float64Array]"?he+=ge:re(new Error("Failed to get type for BinaryArray"))),re(he+$e(oe))}else if(Z==="[object Blob]"){var ae=new FileReader;ae.onload=function(){var Ee=Xe+X.type+"~"+$e(this.result);re(at+tt+Ee)},ae.readAsArrayBuffer(X)}else try{re(JSON.stringify(X))}catch(Ee){console.error("Couldn't convert value into a JSON string: ",X),re(null,Ee)}}function tr(X){if(X.substring(0,vt)!==at)return JSON.parse(X);var re=X.substring(Ce),Z=X.substring(vt,Ce),oe;if(Z===tt&&Fe.test(re)){var he=re.match(Fe);oe=he[1],re=re.substring(he[0].length)}var ae=Ye(re);switch(Z){case yt:return ae;case tt:return u([ae],{type:oe});case ot:return new Int8Array(ae);case dt:return new Uint8Array(ae);case qt:return new Uint8ClampedArray(ae);case nr:return new Int16Array(ae);case Gt:return new Uint16Array(ae);case Zt:return new Int32Array(ae);case St:return new Uint32Array(ae);case sr:return new Float32Array(ae);case ge:return new Float64Array(ae);default:throw new Error("Unkown type: "+Z)}}var Cr={serialize:rt,deserialize:tr,stringToBuffer:Ye,bufferToString:$e};function Dn(X,re,Z,oe){X.executeSql("CREATE TABLE IF NOT EXISTS "+re.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Z,oe)}function Mn(X){var re=this,Z={db:null};if(X)for(var oe in X)Z[oe]=typeof X[oe]!="string"?X[oe].toString():X[oe];var he=new f(function(ae,Ee){try{Z.db=openDatabase(Z.name,String(Z.version),Z.description,Z.size)}catch(Ie){return Ee(Ie)}Z.db.transaction(function(Ie){Dn(Ie,Z,function(){re._dbInfo=Z,ae()},function(De,Me){Ee(Me)})},Ee)});return Z.serializer=Cr,he}function yr(X,re,Z,oe,he,ae){X.executeSql(Z,oe,he,function(Ee,Ie){Ie.code===Ie.SYNTAX_ERR?Ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[re.storeName],function(De,Me){Me.rows.length?ae(De,Ie):Dn(De,re,function(){De.executeSql(Z,oe,he,ae)},ae)},ae):ae(Ee,Ie)},ae)}function na(X,re){var Z=this;X=p(X);var oe=new f(function(he,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Ie){yr(Ie,Ee,"SELECT * FROM "+Ee.storeName+" WHERE key = ? LIMIT 1",[X],function(De,Me){var Be=Me.rows.length?Me.rows.item(0).value:null;Be&&(Be=Ee.serializer.deserialize(Be)),he(Be)},function(De,Me){ae(Me)})})}).catch(ae)});return h(oe,re),oe}function ai(X,re){var Z=this,oe=new f(function(he,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Ie){yr(Ie,Ee,"SELECT * FROM "+Ee.storeName,[],function(De,Me){for(var Be=Me.rows,et=Be.length,It=0;It<et;It++){var Qt=Be.item(It),Jt=Qt.value;if(Jt&&(Jt=Ee.serializer.deserialize(Jt)),Jt=X(Jt,Qt.key,It+1),Jt!==void 0){he(Jt);return}}he()},function(De,Me){ae(Me)})})}).catch(ae)});return h(oe,re),oe}function mn(X,re,Z,oe){var he=this;X=p(X);var ae=new f(function(Ee,Ie){he.ready().then(function(){re===void 0&&(re=null);var De=re,Me=he._dbInfo;Me.serializer.serialize(re,function(Be,et){et?Ie(et):Me.db.transaction(function(It){yr(It,Me,"INSERT OR REPLACE INTO "+Me.storeName+" (key, value) VALUES (?, ?)",[X,Be],function(){Ee(De)},function(Qt,Jt){Ie(Jt)})},function(It){if(It.code===It.QUOTA_ERR){if(oe>0){Ee(mn.apply(he,[X,De,Z,oe-1]));return}Ie(It)}})})}).catch(Ie)});return h(ae,Z),ae}function ia(X,re,Z){return mn.apply(this,[X,re,Z,1])}function wa(X,re){var Z=this;X=p(X);var oe=new f(function(he,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Ie){yr(Ie,Ee,"DELETE FROM "+Ee.storeName+" WHERE key = ?",[X],function(){he()},function(De,Me){ae(Me)})})}).catch(ae)});return h(oe,re),oe}function So(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){yr(Ee,ae,"DELETE FROM "+ae.storeName,[],function(){oe()},function(Ie,De){he(De)})})}).catch(he)});return h(Z,X),Z}function Si(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){yr(Ee,ae,"SELECT COUNT(key) as c FROM "+ae.storeName,[],function(Ie,De){var Me=De.rows.item(0).c;oe(Me)},function(Ie,De){he(De)})})}).catch(he)});return h(Z,X),Z}function Fs(X,re){var Z=this,oe=new f(function(he,ae){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Ie){yr(Ie,Ee,"SELECT key FROM "+Ee.storeName+" WHERE id = ? LIMIT 1",[X+1],function(De,Me){var Be=Me.rows.length?Me.rows.item(0).key:null;he(Be)},function(De,Me){ae(Me)})})}).catch(ae)});return h(oe,re),oe}function Ei(X){var re=this,Z=new f(function(oe,he){re.ready().then(function(){var ae=re._dbInfo;ae.db.transaction(function(Ee){yr(Ee,ae,"SELECT key FROM "+ae.storeName,[],function(Ie,De){for(var Me=[],Be=0;Be<De.rows.length;Be++)Me.push(De.rows.item(Be).key);oe(Me)},function(Ie,De){he(De)})})}).catch(he)});return h(Z,X),Z}function Ha(X){return new f(function(re,Z){X.transaction(function(oe){oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(he,ae){for(var Ee=[],Ie=0;Ie<ae.rows.length;Ie++)Ee.push(ae.rows.item(Ie).name);re({db:X,storeNames:Ee})},function(he,ae){Z(ae)})},function(oe){Z(oe)})})}function oi(X,re){re=v.apply(this,arguments);var Z=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||Z.name,X.storeName=X.storeName||Z.storeName);var oe=this,he;return X.name?he=new f(function(ae){var Ee;X.name===Z.name?Ee=oe._dbInfo.db:Ee=openDatabase(X.name,"","",0),X.storeName?ae({db:Ee,storeNames:[X.storeName]}):ae(Ha(Ee))}).then(function(ae){return new f(function(Ee,Ie){ae.db.transaction(function(De){function Me(Qt){return new f(function(Jt,kr){De.executeSql("DROP TABLE IF EXISTS "+Qt,[],function(){Jt()},function(pr,wi){kr(wi)})})}for(var Be=[],et=0,It=ae.storeNames.length;et<It;et++)Be.push(Me(ae.storeNames[et]));f.all(Be).then(function(){Ee()}).catch(function(Qt){Ie(Qt)})},function(De){Ie(De)})})}):he=f.reject("Invalid arguments"),h(he,re),he}var Yr={_driver:"webSQLStorage",_initStorage:Mn,_support:xe(),iterate:ai,getItem:na,setItem:ia,removeItem:wa,clear:So,length:Si,key:Fs,keys:Ei,dropInstance:oi};function $i(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Gl(X,re){var Z=X.name+"/";return X.storeName!==re.storeName&&(Z+=X.storeName+"/"),Z}function vh(){var X="_localforage_support_test";try{return localStorage.setItem(X,!0),localStorage.removeItem(X),!1}catch{return!0}}function D_(){return!vh()||localStorage.length>0}function M_(X){var re=this,Z={};if(X)for(var oe in X)Z[oe]=X[oe];return Z.keyPrefix=Gl(X,re._defaultConfig),D_()?(re._dbInfo=Z,Z.serializer=Cr,f.resolve()):f.reject()}function L_(X){var re=this,Z=re.ready().then(function(){for(var oe=re._dbInfo.keyPrefix,he=localStorage.length-1;he>=0;he--){var ae=localStorage.key(he);ae.indexOf(oe)===0&&localStorage.removeItem(ae)}});return h(Z,X),Z}function B_(X,re){var Z=this;X=p(X);var oe=Z.ready().then(function(){var he=Z._dbInfo,ae=localStorage.getItem(he.keyPrefix+X);return ae&&(ae=he.serializer.deserialize(ae)),ae});return h(oe,re),oe}function N_(X,re){var Z=this,oe=Z.ready().then(function(){for(var he=Z._dbInfo,ae=he.keyPrefix,Ee=ae.length,Ie=localStorage.length,De=1,Me=0;Me<Ie;Me++){var Be=localStorage.key(Me);if(Be.indexOf(ae)===0){var et=localStorage.getItem(Be);if(et&&(et=he.serializer.deserialize(et)),et=X(et,Be.substring(Ee),De++),et!==void 0)return et}}});return h(oe,re),oe}function U_(X,re){var Z=this,oe=Z.ready().then(function(){var he=Z._dbInfo,ae;try{ae=localStorage.key(X)}catch{ae=null}return ae&&(ae=ae.substring(he.keyPrefix.length)),ae});return h(oe,re),oe}function u0(X){var re=this,Z=re.ready().then(function(){for(var oe=re._dbInfo,he=localStorage.length,ae=[],Ee=0;Ee<he;Ee++){var Ie=localStorage.key(Ee);Ie.indexOf(oe.keyPrefix)===0&&ae.push(Ie.substring(oe.keyPrefix.length))}return ae});return h(Z,X),Z}function j_(X){var re=this,Z=re.keys().then(function(oe){return oe.length});return h(Z,X),Z}function $_(X,re){var Z=this;X=p(X);var oe=Z.ready().then(function(){var he=Z._dbInfo;localStorage.removeItem(he.keyPrefix+X)});return h(oe,re),oe}function V_(X,re,Z){var oe=this;X=p(X);var he=oe.ready().then(function(){re===void 0&&(re=null);var ae=re;return new f(function(Ee,Ie){var De=oe._dbInfo;De.serializer.serialize(re,function(Me,Be){if(Be)Ie(Be);else try{localStorage.setItem(De.keyPrefix+X,Me),Ee(ae)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(et),Ie(et)}})})});return h(he,Z),he}function G_(X,re){if(re=v.apply(this,arguments),X=typeof X!="function"&&X||{},!X.name){var Z=this.config();X.name=X.name||Z.name,X.storeName=X.storeName||Z.storeName}var oe=this,he;return X.name?he=new f(function(ae){X.storeName?ae(Gl(X,oe._defaultConfig)):ae(X.name+"/")}).then(function(ae){for(var Ee=localStorage.length-1;Ee>=0;Ee--){var Ie=localStorage.key(Ee);Ie.indexOf(ae)===0&&localStorage.removeItem(Ie)}}):he=f.reject("Invalid arguments"),h(he,re),he}var W_={_driver:"localStorageWrapper",_initStorage:M_,_support:$i(),iterate:N_,getItem:B_,setItem:V_,removeItem:$_,clear:L_,length:j_,key:U_,keys:u0,dropInstance:G_},z_=function(re,Z){return re===Z||typeof re=="number"&&typeof Z=="number"&&isNaN(re)&&isNaN(Z)},uc=function(re,Z){for(var oe=re.length,he=0;he<oe;){if(z_(re[he],Z))return!0;he++}return!1},c0=Array.isArray||function(X){return Object.prototype.toString.call(X)==="[object Array]"},Eo={},f0={},Ds={INDEXEDDB:_e,WEBSQL:Yr,LOCALSTORAGE:W_},H_=[Ds.INDEXEDDB._driver,Ds.WEBSQL._driver,Ds.LOCALSTORAGE._driver],Wl=["dropInstance"],cc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Wl),h0={description:"",driver:H_.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function X_(X,re){X[re]=function(){var Z=arguments;return X.ready().then(function(){return X[re].apply(X,Z)})}}function gh(){for(var X=1;X<arguments.length;X++){var re=arguments[X];if(re)for(var Z in re)re.hasOwnProperty(Z)&&(c0(re[Z])?arguments[0][Z]=re[Z].slice():arguments[0][Z]=re[Z])}return arguments[0]}var Y_=function(){function X(re){o(this,X);for(var Z in Ds)if(Ds.hasOwnProperty(Z)){var oe=Ds[Z],he=oe._driver;this[Z]=he,Eo[he]||this.defineDriver(oe)}this._defaultConfig=gh({},h0),this._config=gh({},this._defaultConfig,re),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return X.prototype.config=function(Z){if((typeof Z>"u"?"undefined":a(Z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var oe in Z){if(oe==="storeName"&&(Z[oe]=Z[oe].replace(/\W/g,"_")),oe==="version"&&typeof Z[oe]!="number")return new Error("Database version must be a number.");this._config[oe]=Z[oe]}return"driver"in Z&&Z.driver?this.setDriver(this._config.driver):!0}else return typeof Z=="string"?this._config[Z]:this._config},X.prototype.defineDriver=function(Z,oe,he){var ae=new f(function(Ee,Ie){try{var De=Z._driver,Me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Z._driver){Ie(Me);return}for(var Be=cc.concat("_initStorage"),et=0,It=Be.length;et<It;et++){var Qt=Be[et],Jt=!uc(Wl,Qt);if((Jt||Z[Qt])&&typeof Z[Qt]!="function"){Ie(Me);return}}var kr=function(){for(var Ms=function(p0){return function(){var Z_=new Error("Method "+p0+" is not implemented by the current driver"),v0=f.reject(Z_);return h(v0,arguments[arguments.length-1]),v0}},mh=0,d0=Wl.length;mh<d0;mh++){var fc=Wl[mh];Z[fc]||(Z[fc]=Ms(fc))}};kr();var pr=function(Ms){Eo[De]&&console.info("Redefining LocalForage driver: "+De),Eo[De]=Z,f0[De]=Ms,Ee()};"_support"in Z?Z._support&&typeof Z._support=="function"?Z._support().then(pr,Ie):pr(!!Z._support):pr(!0)}catch(wi){Ie(wi)}});return d(ae,oe,he),ae},X.prototype.driver=function(){return this._driver||null},X.prototype.getDriver=function(Z,oe,he){var ae=Eo[Z]?f.resolve(Eo[Z]):f.reject(new Error("Driver not found."));return d(ae,oe,he),ae},X.prototype.getSerializer=function(Z){var oe=f.resolve(Cr);return d(oe,Z),oe},X.prototype.ready=function(Z){var oe=this,he=oe._driverSet.then(function(){return oe._ready===null&&(oe._ready=oe._initDriver()),oe._ready});return d(he,Z,Z),he},X.prototype.setDriver=function(Z,oe,he){var ae=this;c0(Z)||(Z=[Z]);var Ee=this._getSupportedDrivers(Z);function Ie(){ae._config.driver=ae.driver()}function De(et){return ae._extend(et),Ie(),ae._ready=ae._initStorage(ae._config),ae._ready}function Me(et){return function(){var It=0;function Qt(){for(;It<et.length;){var Jt=et[It];return It++,ae._dbInfo=null,ae._ready=null,ae.getDriver(Jt).then(De).catch(Qt)}Ie();var kr=new Error("No available storage method found.");return ae._driverSet=f.reject(kr),ae._driverSet}return Qt()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Be.then(function(){var et=Ee[0];return ae._dbInfo=null,ae._ready=null,ae.getDriver(et).then(function(It){ae._driver=It._driver,Ie(),ae._wrapLibraryMethodsWithReady(),ae._initDriver=Me(Ee)})}).catch(function(){Ie();var et=new Error("No available storage method found.");return ae._driverSet=f.reject(et),ae._driverSet}),d(this._driverSet,oe,he),this._driverSet},X.prototype.supports=function(Z){return!!f0[Z]},X.prototype._extend=function(Z){gh(this,Z)},X.prototype._getSupportedDrivers=function(Z){for(var oe=[],he=0,ae=Z.length;he<ae;he++){var Ee=Z[he];this.supports(Ee)&&oe.push(Ee)}return oe},X.prototype._wrapLibraryMethodsWithReady=function(){for(var Z=0,oe=cc.length;Z<oe;Z++)X_(this,cc[Z])},X.prototype.createInstance=function(Z){return new X(Z)},X}(),q_=new Y_;n.exports=q_},{3:3}]},{},[4])(4)})})($8);var Vu=$8.exports;const Zo=xi(Vu);var Y2={exports:{}},V8=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},Wae=V8,rc=Object.prototype.toString;function q2(t){return rc.call(t)==="[object Array]"}function sw(t){return typeof t>"u"}function zae(t){return t!==null&&!sw(t)&&t.constructor!==null&&!sw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Hae(t){return rc.call(t)==="[object ArrayBuffer]"}function Xae(t){return typeof FormData<"u"&&t instanceof FormData}function Yae(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function qae(t){return typeof t=="string"}function Kae(t){return typeof t=="number"}function G8(t){return t!==null&&typeof t=="object"}function fg(t){if(rc.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Zae(t){return rc.call(t)==="[object Date]"}function Qae(t){return rc.call(t)==="[object File]"}function Jae(t){return rc.call(t)==="[object Blob]"}function W8(t){return rc.call(t)==="[object Function]"}function eoe(t){return G8(t)&&W8(t.pipe)}function toe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function roe(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function noe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function K2(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),q2(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function lw(){var t={};function e(i,a){fg(t[a])&&fg(i)?t[a]=lw(t[a],i):fg(i)?t[a]=lw({},i):q2(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)K2(arguments[r],e);return t}function ioe(t,e,r){return K2(e,function(i,a){r&&typeof i=="function"?t[a]=Wae(i,r):t[a]=i}),t}function aoe(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var ba={isArray:q2,isArrayBuffer:Hae,isBuffer:zae,isFormData:Xae,isArrayBufferView:Yae,isString:qae,isNumber:Kae,isObject:G8,isPlainObject:fg,isUndefined:sw,isDate:Zae,isFile:Qae,isBlob:Jae,isFunction:W8,isStream:eoe,isURLSearchParams:toe,isStandardBrowserEnv:noe,forEach:K2,merge:lw,extend:ioe,trim:roe,stripBOM:aoe},Tc=ba;function mD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var z8=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Tc.isURLSearchParams(r))i=r.toString();else{var a=[];Tc.forEach(r,function(c,l){c===null||typeof c>"u"||(Tc.isArray(c)?l=l+"[]":c=[c],Tc.forEach(c,function(f){Tc.isDate(f)?f=f.toISOString():Tc.isObject(f)&&(f=JSON.stringify(f)),a.push(mD(l)+"="+mD(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},ooe=ba;function hy(){this.handlers=[]}hy.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};hy.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};hy.prototype.forEach=function(e){ooe.forEach(this.handlers,function(n){n!==null&&e(n)})};var soe=hy,loe=ba,uoe=function(e,r){loe.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},H8=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},L1,yD;function X8(){if(yD)return L1;yD=1;var t=H8;return L1=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},L1}var B1,_D;function coe(){if(_D)return B1;_D=1;var t=X8();return B1=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},B1}var N1,xD;function foe(){if(xD)return N1;xD=1;var t=ba;return N1=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),N1}var U1,bD;function hoe(){return bD||(bD=1,U1=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),U1}var j1,SD;function doe(){return SD||(SD=1,j1=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),j1}var $1,ED;function poe(){if(ED)return $1;ED=1;var t=hoe(),e=doe();return $1=function(n,i){return n&&!t(i)?e(n,i):i},$1}var V1,wD;function voe(){if(wD)return V1;wD=1;var t=ba,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return V1=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},V1}var G1,CD;function goe(){if(CD)return G1;CD=1;var t=ba;return G1=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),G1}var W1,AD;function dy(){if(AD)return W1;AD=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,W1=t,W1}var z1,TD;function PD(){if(TD)return z1;TD=1;var t=ba,e=coe(),r=foe(),n=z8,i=poe(),a=voe(),o=goe(),s=X8(),c=py(),l=dy();return z1=function(f){return new Promise(function(d,p){var v=f.data,y=f.headers,m=f.responseType,g;function x(){f.cancelToken&&f.cancelToken.unsubscribe(g),f.signal&&f.signal.removeEventListener("abort",g)}t.isFormData(v)&&delete y["Content-Type"];var S=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",w=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";y.Authorization="Basic "+btoa(b+":"+w)}var C=i(f.baseURL,f.url);S.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),S.timeout=f.timeout;function A(){if(S){var O="getAllResponseHeaders"in S?a(S.getAllResponseHeaders()):null,I=!m||m==="text"||m==="json"?S.responseText:S.response,R={data:I,status:S.status,statusText:S.statusText,headers:O,config:f,request:S};e(function(D){d(D),x()},function(D){p(D),x()},R),S=null}}if("onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(p(s("Request aborted",f,"ECONNABORTED",S)),S=null)},S.onerror=function(){p(s("Network Error",f,null,S)),S=null},S.ontimeout=function(){var I=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",R=f.transitional||c.transitional;f.timeoutErrorMessage&&(I=f.timeoutErrorMessage),p(s(I,f,R.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",S)),S=null},t.isStandardBrowserEnv()){var P=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;P&&(y[f.xsrfHeaderName]=P)}"setRequestHeader"in S&&t.forEach(y,function(I,R){typeof v>"u"&&R.toLowerCase()==="content-type"?delete y[R]:S.setRequestHeader(R,I)}),t.isUndefined(f.withCredentials)||(S.withCredentials=!!f.withCredentials),m&&m!=="json"&&(S.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&S.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(g=function(O){S&&(p(!O||O&&O.type?new l("canceled"):O),S.abort(),S=null)},f.cancelToken&&f.cancelToken.subscribe(g),f.signal&&(f.signal.aborted?g():f.signal.addEventListener("abort",g))),v||(v=null),S.send(v)})},z1}var H1,OD;function py(){if(OD)return H1;OD=1;var t=ba,e=uoe,r=H8,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=PD()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,d=!f&&this.responseType==="json";if(d||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(p){if(d)throw p.name==="SyntaxError"?r(p,this,"E_JSON_PARSE"):p}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),H1=s,H1}var moe=ba,yoe=py(),_oe=function(e,r,n){var i=this||yoe;return moe.forEach(n,function(o){e=o.call(i,e,r)}),e},X1,RD;function Y8(){return RD||(RD=1,X1=function(e){return!!(e&&e.__CANCEL__)}),X1}var ID=ba,Y1=_oe,xoe=Y8(),boe=py(),Soe=dy();function q1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Soe("canceled")}var Eoe=function(e){q1(e),e.headers=e.headers||{},e.data=Y1.call(e,e.data,e.headers,e.transformRequest),e.headers=ID.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ID.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||boe.adapter;return r(e).then(function(i){return q1(e),i.data=Y1.call(e,i.data,i.headers,e.transformResponse),i},function(i){return xoe(i)||(q1(e),i&&i.response&&(i.response.data=Y1.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},fa=ba,q8=function(e,r){r=r||{};var n={};function i(u,f){return fa.isPlainObject(u)&&fa.isPlainObject(f)?fa.merge(u,f):fa.isPlainObject(f)?fa.merge({},f):fa.isArray(f)?f.slice():f}function a(u){if(fa.isUndefined(r[u])){if(!fa.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!fa.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(fa.isUndefined(r[u])){if(!fa.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return fa.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);fa.isUndefined(d)&&h!==c||(n[f]=d)}),n},K1,kD;function K8(){return kD||(kD=1,K1={version:"0.24.0"}),K1}var woe=K8().version,Z2={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Z2[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var FD={};Z2.transitional=function(e,r,n){function i(a,o){return"[Axios v"+woe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!FD[o]&&(FD[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Coe(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var Aoe={assertOptions:Coe,validators:Z2},Z8=ba,Toe=z8,DD=soe,MD=Eoe,vy=q8,Q8=Aoe,Pc=Q8.validators;function Xp(t){this.defaults=t,this.interceptors={request:new DD,response:new DD}}Xp.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=vy(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&Q8.assertOptions(r,{silentJSONParsing:Pc.transitional(Pc.boolean),forcedJSONParsing:Pc.transitional(Pc.boolean),clarifyTimeoutError:Pc.transitional(Pc.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[MD,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=MD(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Xp.prototype.getUri=function(e){return e=vy(this.defaults,e),Toe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Z8.forEach(["delete","get","head","options"],function(e){Xp.prototype[e]=function(r,n){return this.request(vy(n||{},{method:e,url:r,data:(n||{}).data}))}});Z8.forEach(["post","put","patch"],function(e){Xp.prototype[e]=function(r,n,i){return this.request(vy(i||{},{method:e,url:r,data:n}))}});var Poe=Xp,Z1,LD;function Ooe(){if(LD)return Z1;LD=1;var t=dy();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Z1=e,Z1}var Q1,BD;function Roe(){return BD||(BD=1,Q1=function(e){return function(n){return e.apply(null,n)}}),Q1}var J1,ND;function Ioe(){return ND||(ND=1,J1=function(e){return typeof e=="object"&&e.isAxiosError===!0}),J1}var UD=ba,koe=V8,hg=Poe,Foe=q8,Doe=py();function J8(t){var e=new hg(t),r=koe(hg.prototype.request,e);return UD.extend(r,hg.prototype,e),UD.extend(r,e),r.create=function(i){return J8(Foe(t,i))},r}var Qo=J8(Doe);Qo.Axios=hg;Qo.Cancel=dy();Qo.CancelToken=Ooe();Qo.isCancel=Y8();Qo.VERSION=K8().version;Qo.all=function(e){return Promise.all(e)};Qo.spread=Roe();Qo.isAxiosError=Ioe();Y2.exports=Qo;Y2.exports.default=Qo;var Moe=Y2.exports,Loe=Moe;const Boe=Loe;class Noe{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&Boe.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var Uoe=Noe;const joe=xi(Uoe),Ge=new joe,$oe={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},Voe={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},Goe={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:"",collection:"",collected:"",continue:"",backToLevel:"",setting:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},Woe={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},zoe={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},Hoe={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Jf=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Jf||{});const jD={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},Xoe={en:{translation:$oe},zhCn:{translation:Goe},jp:{translation:Voe},fr:{translation:Woe},de:{translation:zoe},zhTw:{translation:Hoe}},Yoe=0;var As=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(As||{}),Sl=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(Sl||{}),Ru=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Ru||{}),Q2=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(Q2||{}),Ua=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Ua||{}),fi=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(fi||{});const e6={slPage:1,volumeMain:100,textSpeed:As.normal,autoSpeed:As.normal,textSize:Sl.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Ru.song,textboxOpacity:75,language:Jf.zhCn,voiceInterruption:Q2.yes,fullScreen:Ua.off,uiLight:100,videoSize:fi.Size720P},uw={optionData:e6,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},t6=ny({name:"userData",initialState:zr(uw),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,e6)},resetAllData(t){Object.assign(t,zr(uw))}}}),{setUserData:jNe,resetUserData:J2,setOptionData:lo,setGlobalVar:qoe,setSlPage:om,unlockCgInUserData:r6,unlockBgmInUserData:n6,resetOptionSet:$Ne,resetAllData:VNe}=t6.actions,Koe=t6.reducer,i6={backlog_size:200,fast_timeout:50},Zoe={textInitialDelay:80};class Qoe{constructor(e){qe(this,"isSaveBacklogNext",!1);qe(this,"backlog",[]);qe(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=se.getState().stage,r=zr(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:zr(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>i6.backlog_size;)this.getBacklog().shift()}}var Rt=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t))(Rt||{});const Mt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;default:r="";break}return r}},Joe=(t,e)=>{(!Y.sceneManager.sceneAssetsList[e]||!Object.values(Y.sceneManager.sceneAssetsList[e]).length)&&(Y.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=Y.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(Xh(e),Ge.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",Xh(e),Y.videoManager.preloadVideo(r.url)):(n[r.url]="loading",ese(r.url,3,1e3,()=>{n[r.url]="success",Xh(e)},()=>{n[r.url]="error",Xh(e);const i=Y.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&Y.sceneManager.settledAssets.splice(i,1)}),Y.sceneManager.settledAssets.push(r.url)))}t.length===0&&Xh(e)},Xh=t=>{const e=Y.sceneManager.sceneAssetsList[t];Object.values(e).every(r=>r==="error"||r==="success"),Y.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(r=>r==="success")},ese=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],d=["mp4","webm","ogg","flv"],p=["wav","mp3","ogg"];return h.includes(f)?u.blob():p.includes(f)||d.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var He;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera"})(He||(He={}));He.intro,He.changeBg,He.changeFigure,He.miniAvatar,He.changeScene,He.choose,He.end,He.bgm,He.video,He.setComplexAnimation,He.setFilter,He.pixiInit,He.pixi,He.label,He.jumpLabel,He.setVar,He.callScene,He.showVars,He.unlockCg,He.unlockBgm,He.say,He.filmMode,He.callScene,He.setTextbox,He.setAnimation,He.playEffect,He.applyStyle,He.unlockAchieve,He.unlockStoryline,He.showValue,He.payProduct,He.finishTrial,He.moveCamera;He.bgm,He.pixi,He.pixiInit,He.label,He.if,He.miniAvatar,He.setVar,He.unlockBgm,He.unlockCg,He.filmMode,He.playEffect,He.showValue;var hn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(hn||(hn={}));function a6(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,hn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function tse(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of a6(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function rse(t){return t.replaceAll("\r","").split(`
`).map(r=>tse(r)).filter(r=>r.command!=="")}const $D=(t,e,r)=>{let n={type:He.say,additionalArgs:[]};const i=nse(t,e,r);return n.type=i,i===He.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=ise(n,i,e),n};function nse(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??He.say}function ise(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const ase=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case He.playEffect:return r(t,hn.vocal);case He.changeBg:return r(t,hn.background);case He.changeFigure:return r(t,hn.figure);case He.bgm:return r(t,hn.bgm);case He.callScene:return r(t,hn.scene);case He.changeScene:return r(t,hn.scene);case He.miniAvatar:return r(t,hn.figure);case He.video:return r(t,hn.video);case He.choose:return ose(t,r);case He.unlockBgm:return r(t,hn.bgm);case He.unlockCg:return r(t,hn.background);default:return t}};function ose(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,hn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const sse=(t,e,r)=>{const n=[];return t===He.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:hn.vocal})}),e==="none"||e===""||(t===He.changeBg&&n.push({name:e,url:e,lineNumber:0,type:hn.background}),t===He.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:hn.figure}),t===He.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:hn.figure}),t===He.video&&n.push({name:e,url:e,lineNumber:0,type:hn.video}),t===He.bgm&&n.push({name:e,url:e,lineNumber:0,type:hn.bgm})),n},lse=(t,e)=>{const r=[];return(t===He.changeScene||t===He.callScene)&&r.push(e),(t===He.choose||t===He.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},use=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:He.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=$D(u,r,n),i=l.type;for(const p of l.additionalArgs)i===He.say&&p.key==="speaker"||s.push(p)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=$D(u,r,n),i=l.type;for(const p of l.additionalArgs)s.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,t.length);f=f.substring(0,d.index);for(const v of a6(p,e))s.push(v)}return a=ase(f,i,e),c=sse(i,a,s),o=lse(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cse=typeof pv=="object"&&pv&&pv.Object===Object&&pv,fse=cse,hse=fse,dse=typeof self=="object"&&self&&self.Object===Object&&self,pse=hse||dse||Function("return this")(),gy=pse,vse=gy,gse=vse.Symbol,o6=gse,VD=o6,s6=Object.prototype,mse=s6.hasOwnProperty,yse=s6.toString,Yh=VD?VD.toStringTag:void 0;function _se(t){var e=mse.call(t,Yh),r=t[Yh];try{t[Yh]=void 0;var n=!0}catch{}var i=yse.call(t);return n&&(e?t[Yh]=r:delete t[Yh]),i}var xse=_se,bse=Object.prototype,Sse=bse.toString;function Ese(t){return Sse.call(t)}var wse=Ese,GD=o6,Cse=xse,Ase=wse,Tse="[object Null]",Pse="[object Undefined]",WD=GD?GD.toStringTag:void 0;function Ose(t){return t==null?t===void 0?Pse:Tse:WD&&WD in Object(t)?Cse(t):Ase(t)}var Rse=Ose;function Ise(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var l6=Ise,kse=Rse,Fse=l6,Dse="[object AsyncFunction]",Mse="[object Function]",Lse="[object GeneratorFunction]",Bse="[object Proxy]";function Nse(t){if(!Fse(t))return!1;var e=kse(t);return e==Mse||e==Lse||e==Dse||e==Bse}var Use=Nse,jse=gy,$se=jse["__core-js_shared__"],Vse=$se,eb=Vse,zD=function(){var t=/[^.]+$/.exec(eb&&eb.keys&&eb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gse(t){return!!zD&&zD in t}var Wse=Gse,zse=Function.prototype,Hse=zse.toString;function Xse(t){if(t!=null){try{return Hse.call(t)}catch{}try{return t+""}catch{}}return""}var Yse=Xse,qse=Use,Kse=Wse,Zse=l6,Qse=Yse,Jse=/[\\^$.*+?()[\]{}|]/g,ele=/^\[object .+?Constructor\]$/,tle=Function.prototype,rle=Object.prototype,nle=tle.toString,ile=rle.hasOwnProperty,ale=RegExp("^"+nle.call(ile).replace(Jse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ole(t){if(!Zse(t)||Kse(t))return!1;var e=qse(t)?ale:ele;return e.test(Qse(t))}var sle=ole;function lle(t,e){return t==null?void 0:t[e]}var ule=lle,cle=sle,fle=ule;function hle(t,e){var r=fle(t,e);return cle(r)?r:void 0}var eT=hle,dle=eT,ple=dle(Object,"create"),my=ple,HD=my;function vle(){this.__data__=HD?HD(null):{},this.size=0}var gle=vle;function mle(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yle=mle,_le=my,xle="__lodash_hash_undefined__",ble=Object.prototype,Sle=ble.hasOwnProperty;function Ele(t){var e=this.__data__;if(_le){var r=e[t];return r===xle?void 0:r}return Sle.call(e,t)?e[t]:void 0}var wle=Ele,Cle=my,Ale=Object.prototype,Tle=Ale.hasOwnProperty;function Ple(t){var e=this.__data__;return Cle?e[t]!==void 0:Tle.call(e,t)}var Ole=Ple,Rle=my,Ile="__lodash_hash_undefined__";function kle(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Rle&&e===void 0?Ile:e,this}var Fle=kle,Dle=gle,Mle=yle,Lle=wle,Ble=Ole,Nle=Fle;function eh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}eh.prototype.clear=Dle;eh.prototype.delete=Mle;eh.prototype.get=Lle;eh.prototype.has=Ble;eh.prototype.set=Nle;var Ule=eh;function jle(){this.__data__=[],this.size=0}var $le=jle;function Vle(t,e){return t===e||t!==t&&e!==e}var Gle=Vle,Wle=Gle;function zle(t,e){for(var r=t.length;r--;)if(Wle(t[r][0],e))return r;return-1}var yy=zle,Hle=yy,Xle=Array.prototype,Yle=Xle.splice;function qle(t){var e=this.__data__,r=Hle(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Yle.call(e,r,1),--this.size,!0}var Kle=qle,Zle=yy;function Qle(t){var e=this.__data__,r=Zle(e,t);return r<0?void 0:e[r][1]}var Jle=Qle,eue=yy;function tue(t){return eue(this.__data__,t)>-1}var rue=tue,nue=yy;function iue(t,e){var r=this.__data__,n=nue(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var aue=iue,oue=$le,sue=Kle,lue=Jle,uue=rue,cue=aue;function th(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}th.prototype.clear=oue;th.prototype.delete=sue;th.prototype.get=lue;th.prototype.has=uue;th.prototype.set=cue;var fue=th,hue=eT,due=gy,pue=hue(due,"Map"),vue=pue,XD=Ule,gue=fue,mue=vue;function yue(){this.size=0,this.__data__={hash:new XD,map:new(mue||gue),string:new XD}}var _ue=yue;function xue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bue=xue,Sue=bue;function Eue(t,e){var r=t.__data__;return Sue(e)?r[typeof e=="string"?"string":"hash"]:r.map}var _y=Eue,wue=_y;function Cue(t){var e=wue(this,t).delete(t);return this.size-=e?1:0,e}var Aue=Cue,Tue=_y;function Pue(t){return Tue(this,t).get(t)}var Oue=Pue,Rue=_y;function Iue(t){return Rue(this,t).has(t)}var kue=Iue,Fue=_y;function Due(t,e){var r=Fue(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Mue=Due,Lue=_ue,Bue=Aue,Nue=Oue,Uue=kue,jue=Mue;function rh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rh.prototype.clear=Lue;rh.prototype.delete=Bue;rh.prototype.get=Nue;rh.prototype.has=Uue;rh.prototype.set=jue;var $ue=rh,Vue="__lodash_hash_undefined__";function Gue(t){return this.__data__.set(t,Vue),this}var Wue=Gue;function zue(t){return this.__data__.has(t)}var Hue=zue,Xue=$ue,Yue=Wue,que=Hue;function sm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Xue;++e<r;)this.add(t[e])}sm.prototype.add=sm.prototype.push=Yue;sm.prototype.has=que;var Kue=sm;function Zue(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Que=Zue;function Jue(t){return t!==t}var ece=Jue;function tce(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var rce=tce,nce=Que,ice=ece,ace=rce;function oce(t,e,r){return e===e?ace(t,e,r):nce(t,ice,r)}var sce=oce,lce=sce;function uce(t,e){var r=t==null?0:t.length;return!!r&&lce(t,e,0)>-1}var cce=uce;function fce(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var hce=fce;function dce(t,e){return t.has(e)}var pce=dce,vce=eT,gce=gy,mce=vce(gce,"Set"),yce=mce;function _ce(){}var xce=_ce;function bce(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var u6=bce,tb=yce,Sce=xce,Ece=u6,wce=1/0,Cce=tb&&1/Ece(new tb([,-0]))[1]==wce?function(t){return new tb(t)}:Sce,Ace=Cce,Tce=Kue,Pce=cce,Oce=hce,Rce=pce,Ice=Ace,kce=u6,Fce=200;function Dce(t,e,r){var n=-1,i=Pce,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Oce;else if(a>=Fce){var l=e?null:Ice(t);if(l)return kce(l);o=!1,i=Rce,c=new Tce}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Mce=Dce,Lce=Mce;function Bce(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Lce(t,void 0,e):[]}var Nce=Bce;const Uce=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(d=>{const p=use(d,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});l=Nce(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(d=>h.includes(d.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function jce(t){const[e,r]=$ce(t);return{classNameStyles:e,others:r}}function $ce(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class Vce{constructor(e,r,n,i){qe(this,"assetsPrefetcher");qe(this,"assetSetter");qe(this,"ADD_NEXT_ARG_LIST");qe(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return Uce(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return rse(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return jce(e)}}function Ut(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const Gce=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=Ut(t,"enter"),a=Ut(t,"volume");return r!==""&&se.dispatch(n6({name:r,url:e,series:n})),zT(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var tT={exports:{}},c6=function(e,r){return function(){return e.apply(r,arguments)}},Wce=c6,rT=Object.prototype.toString,nT=function(t){return function(e){var r=rT.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Ul(t){return t=t.toLowerCase(),function(r){return nT(r)===t}}function xy(t){return Array.isArray(t)}function cw(t){return typeof t>"u"}function zce(t){return t!==null&&!cw(t)&&t.constructor!==null&&!cw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var f6=Ul("ArrayBuffer");function Hce(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&f6(t.buffer),e}function Xce(t){return typeof t=="string"}function h6(t){return typeof t=="number"}function d6(t){return t!==null&&typeof t=="object"}function dg(t){if(nT(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Yce(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var qce=Ul("Date"),Kce=Ul("File"),Zce=Ul("Blob"),Qce=Ul("FileList");function iT(t){return rT.call(t)==="[object Function]"}function Jce(t){return d6(t)&&iT(t.pipe)}function efe(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||rT.call(t)===e||iT(t.toString)&&t.toString()===e)}var tfe=Ul("URLSearchParams");function rfe(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function nfe(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function aT(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),xy(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function fw(){var t={};function e(i,a){dg(t[a])&&dg(i)?t[a]=fw(t[a],i):dg(i)?t[a]=fw({},i):xy(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)aT(arguments[r],e);return t}function ife(t,e,r){return aT(e,function(i,a){r&&typeof i=="function"?t[a]=Wce(i,r):t[a]=i}),t}function afe(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function ofe(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function sfe(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function lfe(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function ufe(t){if(!t)return null;if(xy(t))return t;var e=t.length;if(!h6(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var cfe=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function ffe(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function hfe(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var dfe=Ul("HTMLFormElement"),pfe=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),Fn={isArray:xy,isArrayBuffer:f6,isBuffer:zce,isFormData:efe,isArrayBufferView:Hce,isString:Xce,isNumber:h6,isObject:d6,isPlainObject:dg,isEmptyObject:Yce,isUndefined:cw,isDate:qce,isFile:Kce,isBlob:Zce,isFunction:iT,isStream:Jce,isURLSearchParams:tfe,isStandardBrowserEnv:nfe,forEach:aT,merge:fw,extend:ife,trim:rfe,stripBOM:afe,inherits:ofe,toFlatObject:sfe,kindOf:nT,kindOfTest:Ul,endsWith:lfe,toArray:ufe,isTypedArray:cfe,isFileList:Qce,forEachEntry:ffe,matchAll:hfe,isHTMLForm:dfe,hasOwnProperty:pfe},p6=Fn;function wf(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}p6.inherits(wf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var v6=wf.prototype,g6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){g6[t]={value:t}});Object.defineProperties(wf,g6);Object.defineProperty(v6,"isAxiosError",{value:!0});wf.from=function(t,e,r,n,i,a){var o=Object.create(v6);return p6.toFlatObject(t,o,function(c){return c!==Error.prototype}),wf.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var nc=wf,vfe=typeof self=="object"?self.FormData:window.FormData,gfe=vfe,Sr=Fn,mfe=nc,yfe=gfe;function hw(t){return Sr.isPlainObject(t)||Sr.isArray(t)}function m6(t){return Sr.endsWith(t,"[]")?t.slice(0,-2):t}function YD(t,e,r){return t?t.concat(e).map(function(i,a){return i=m6(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function _fe(t){return Sr.isArray(t)&&!t.some(hw)}var xfe=Sr.toFlatObject(Sr,{},null,function(e){return/^is[A-Z]/.test(e)});function bfe(t){return t&&Sr.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Sfe(t,e,r){if(!Sr.isObject(t))throw new TypeError("target must be an object");e=e||new(yfe||FormData),r=Sr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Sr.isUndefined(y[v])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,c=s&&bfe(e);if(!Sr.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(Sr.isDate(p))return p.toISOString();if(!c&&Sr.isBlob(p))throw new mfe("Blob is not supported. Use a Buffer instead.");return Sr.isArrayBuffer(p)||Sr.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,y){var m=p;if(p&&!y&&typeof p=="object"){if(Sr.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(Sr.isArray(p)&&_fe(p)||Sr.isFileList(p)||Sr.endsWith(v,"[]")&&(m=Sr.toArray(p)))return v=m6(v),m.forEach(function(x,S){!Sr.isUndefined(x)&&e.append(o===!0?YD([v],S,a):o===null?v:v+"[]",l(x))}),!1}return hw(p)?!0:(e.append(YD(y,v,a),l(p)),!1)}var f=[],h=Object.assign(xfe,{defaultVisitor:u,convertValue:l,isVisitable:hw});function d(p,v){if(!Sr.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),Sr.forEach(p,function(m,g){var x=!Sr.isUndefined(m)&&i.call(e,m,Sr.isString(g)?g.trim():g,v,h);x===!0&&d(m,v?v.concat(g):[g])}),f.pop()}}if(!Sr.isObject(t))throw new TypeError("data must be an object");return d(t),e}var by=Sfe,Efe=by;function qD(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function y6(t,e){this._pairs=[],t&&Efe(t,this,e)}var _6=y6.prototype;_6.append=function(e,r){this._pairs.push([e,r])};_6.toString=function(e){var r=e?function(n){return e.call(this,n,qD)}:qD;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var x6=y6,wfe=Fn,Cfe=x6;function Afe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var b6=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||Afe,o=wfe.isURLSearchParams(r)?r.toString():new Cfe(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},Tfe=Fn;function Yp(){this.handlers=[]}Yp.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Yp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Yp.prototype.clear=function(){this.handlers&&(this.handlers=[])};Yp.prototype.forEach=function(e){Tfe.forEach(this.handlers,function(n){n!==null&&e(n)})};var Pfe=Yp,Ofe=Fn,S6=function(e,r){Ofe.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},E6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rfe=x6,Ife=typeof URLSearchParams<"u"?URLSearchParams:Rfe,kfe=FormData,Ffe={isBrowser:!0,classes:{URLSearchParams:Ife,FormData:kfe,Blob},protocols:["http","https","file","blob","url","data"]},oT=Ffe,Dfe=Fn,Mfe=by,KD=oT,Lfe=function(e,r){return Mfe(e,new KD.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return KD.isNode&&Dfe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},Ys=Fn;function Bfe(t){return Ys.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function Nfe(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Ufe(t){function e(n,i,a,o){var s=n[o++],c=Number.isFinite(+s),l=o>=n.length;if(s=!s&&Ys.isArray(a)?a.length:s,l)return Ys.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!c;(!a[s]||!Ys.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&Ys.isArray(a[s])&&(a[s]=Nfe(a[s])),!c}if(Ys.isFormData(t)&&Ys.isFunction(t.entries)){var r={};return Ys.forEachEntry(t,function(n,i){e(Bfe(n),i,r,0)}),r}return null}var w6=Ufe,rb,ZD;function jfe(){if(ZD)return rb;ZD=1;var t=nc;return rb=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},rb}var nb,QD;function $fe(){if(QD)return nb;QD=1;var t=Fn;return nb=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),nb}var Vfe=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Gfe=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Wfe=Vfe,zfe=Gfe,C6=function(e,r){return e&&!Wfe(r)?zfe(e,r):r},ib,JD;function Hfe(){if(JD)return ib;JD=1;var t=Fn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ib=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},ib}var ab,eM;function Xfe(){if(eM)return ab;eM=1;var t=Fn;return ab=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),ab}var ob,tM;function Sy(){if(tM)return ob;tM=1;var t=nc,e=Fn;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),ob=r,ob}var sb,rM;function Yfe(){return rM||(rM=1,sb=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),sb}var lb,nM;function iM(){if(nM)return lb;nM=1;var t=Fn,e=jfe(),r=$fe(),n=b6,i=C6,a=Hfe(),o=Xfe(),s=E6,c=nc,l=Sy(),u=Yfe(),f=oT;return lb=function(d){return new Promise(function(v,y){var m=d.data,g=d.headers,x=d.responseType,S=d.withXSRFToken,b;function w(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}t.isFormData(m)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var C=new XMLHttpRequest;if(d.auth){var A=d.auth.username||"",P=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(A+":"+P)}var O=i(d.baseURL,d.url);C.open(d.method.toUpperCase(),n(O,d.params,d.paramsSerializer),!0),C.timeout=d.timeout;function I(){if(C){var D="getAllResponseHeaders"in C?a(C.getAllResponseHeaders()):null,L=!x||x==="text"||x==="json"?C.responseText:C.response,U={data:L,status:C.status,statusText:C.statusText,headers:D,config:d,request:C};e(function(te){v(te),w()},function(te){y(te),w()},U),C=null}}if("onloadend"in C?C.onloadend=I:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(I)},C.onabort=function(){C&&(y(new c("Request aborted",c.ECONNABORTED,d,C)),C=null)},C.onerror=function(){y(new c("Network Error",c.ERR_NETWORK,d,C)),C=null},C.ontimeout=function(){var L=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",U=d.transitional||s;d.timeoutErrorMessage&&(L=d.timeoutErrorMessage),y(new c(L,U.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,d,C)),C=null},t.isStandardBrowserEnv()&&(S&&t.isFunction(S)&&(S=S(d)),S||S!==!1&&o(O))){var R=d.xsrfHeaderName&&d.xsrfCookieName&&r.read(d.xsrfCookieName);R&&(g[d.xsrfHeaderName]=R)}"setRequestHeader"in C&&t.forEach(g,function(L,U){typeof m>"u"&&U.toLowerCase()==="content-type"?delete g[U]:C.setRequestHeader(U,L)}),t.isUndefined(d.withCredentials)||(C.withCredentials=!!d.withCredentials),x&&x!=="json"&&(C.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&C.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(D){C&&(y(!D||D.type?new l(null,d,req):D),C.abort(),C=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),!m&&m!==!1&&m!==0&&m!==""&&(m=null);var k=u(O);if(k&&f.protocols.indexOf(k)===-1){y(new c("Unsupported protocol "+k+":",c.ERR_BAD_REQUEST,d));return}C.send(m)})},lb}var bn=Fn,aM=S6,oM=nc,qfe=E6,Kfe=by,Zfe=Lfe,sM=oT,Qfe=w6,Jfe={"Content-Type":"application/x-www-form-urlencoded"};function lM(t,e){!bn.isUndefined(t)&&bn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function ehe(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=iM()),t}function the(t,e,r){if(bn.isString(t))try{return(e||JSON.parse)(t),bn.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Ey={transitional:qfe,adapter:ehe(),transformRequest:[function(e,r){aM(r,"Accept"),aM(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=bn.isObject(e);a&&bn.isHTMLForm(e)&&(e=new FormData(e));var o=bn.isFormData(e);if(o)return i?JSON.stringify(Qfe(e)):e;if(bn.isArrayBuffer(e)||bn.isBuffer(e)||bn.isStream(e)||bn.isFile(e)||bn.isBlob(e))return e;if(bn.isArrayBufferView(e))return e.buffer;if(bn.isURLSearchParams(e))return lM(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return Zfe(e,this.formSerializer).toString();if((s=bn.isFileList(e))||n.indexOf("multipart/form-data")>-1){var c=this.env&&this.env.FormData;return Kfe(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(lM(r,"application/json"),the(e)):e}],transformResponse:[function(e){var r=this.transitional||Ey.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&bn.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?oM.from(s,oM.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sM.classes.FormData,Blob:sM.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};bn.forEach(["delete","get","head"],function(e){Ey.headers[e]={}});bn.forEach(["post","put","patch"],function(e){Ey.headers[e]=bn.merge(Jfe)});var sT=Ey,rhe=Fn,nhe=sT,ihe=function(e,r,n,i){var a=this||nhe;return rhe.forEach(i,function(s){e=s.call(a,e,r,n)}),e},ub,uM;function A6(){return uM||(uM=1,ub=function(e){return!!(e&&e.__CANCEL__)}),ub}var cM=Fn,cb=ihe,ahe=A6(),ohe=sT,she=Sy(),fM=S6;function fb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new she}var lhe=function(e){fb(e),e.headers=e.headers||{},e.data=cb.call(e,e.data,e.headers,null,e.transformRequest),fM(e.headers,"Accept"),fM(e.headers,"Content-Type"),e.headers=cM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),cM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||ohe.adapter;return r(e).then(function(i){return fb(e),i.data=cb.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return ahe(i)||(fb(e),i&&i.response&&(i.response.data=cb.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},Pi=Fn,T6=function(e,r){r=r||{};var n={};function i(u,f){return Pi.isPlainObject(u)&&Pi.isPlainObject(f)?Pi.merge(u,f):Pi.isEmptyObject(f)?Pi.merge({},u):Pi.isPlainObject(f)?Pi.merge({},f):Pi.isArray(f)?f.slice():f}function a(u){if(Pi.isUndefined(r[u])){if(!Pi.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Pi.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Pi.isUndefined(r[u])){if(!Pi.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Pi.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);Pi.isUndefined(d)&&h!==c||(n[f]=d)}),n},hb,hM;function P6(){return hM||(hM=1,hb={version:"0.28.0"}),hb}var uhe=P6().version,Zs=nc,lT={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){lT[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var dM={};lT.transitional=function(e,r,n){function i(a,o){return"[Axios v"+uhe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Zs(i(o," has been removed"+(r?" in "+r:"")),Zs.ERR_DEPRECATED);return r&&!dM[o]&&(dM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function che(t,e,r){if(typeof t!="object")throw new Zs("options must be an object",Zs.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Zs("option "+a+" must be "+c,Zs.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Zs("Unknown option "+a,Zs.ERR_BAD_OPTION)}}var fhe={assertOptions:che,validators:lT},uT=Fn,hhe=b6,pM=Pfe,vM=lhe,wy=T6,dhe=C6,O6=fhe,Oc=O6.validators;function Cf(t){this.defaults=t,this.interceptors={request:new pM,response:new pM}}Cf.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=wy(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&O6.assertOptions(n,{silentJSONParsing:Oc.transitional(Oc.boolean),forcedJSONParsing:Oc.transitional(Oc.boolean),clarifyTimeoutError:Oc.transitional(Oc.boolean)},!1);var i=r.paramsSerializer;uT.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(o=o&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});var s=[];this.interceptors.response.forEach(function(p){s.push(p.fulfilled,p.rejected)});var c;if(!o){var l=[vM,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),c=Promise.resolve(r);l.length;)c=c.then(l.shift(),l.shift());return c}for(var u=r;a.length;){var f=a.shift(),h=a.shift();try{u=f(u)}catch(d){h(d);break}}try{c=vM(u)}catch(d){return Promise.reject(d)}for(;s.length;)c=c.then(s.shift(),s.shift());return c};Cf.prototype.getUri=function(e){e=wy(this.defaults,e);var r=dhe(e.baseURL,e.url);return hhe(r,e.params,e.paramsSerializer)};uT.forEach(["delete","get","head","options"],function(e){Cf.prototype[e]=function(r,n){return this.request(wy(n||{},{method:e,url:r,data:(n||{}).data}))}});uT.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(wy(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Cf.prototype[e]=r(),Cf.prototype[e+"Form"]=r(!0)});var phe=Cf,db,gM;function vhe(){if(gM)return db;gM=1;var t=Sy();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,c){i.reason||(i.reason=new t(o,s,c),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},db=e,db}var pb,mM;function ghe(){return mM||(mM=1,pb=function(e){return function(n){return e.apply(null,n)}}),pb}var vb,yM;function mhe(){if(yM)return vb;yM=1;var t=Fn;return vb=function(r){return t.isObject(r)&&r.isAxiosError===!0},vb}var dw=Fn,yhe=c6,pg=phe,_he=T6,xhe=sT,bhe=w6;function R6(t){var e=new pg(t),r=yhe(pg.prototype.request,e);return dw.extend(r,pg.prototype,e),dw.extend(r,e),r.create=function(i){return R6(_he(t,i))},r}var Ni=R6(xhe);Ni.Axios=pg;Ni.CanceledError=Sy();Ni.CancelToken=vhe();Ni.isCancel=A6();Ni.VERSION=P6().version;Ni.toFormData=by;Ni.AxiosError=nc;Ni.Cancel=Ni.CanceledError;Ni.all=function(e){return Promise.all(e)};Ni.spread=ghe();Ni.isAxiosError=mhe();Ni.formToJSON=function(t){return bhe(dw.isHTMLForm(t)?new FormData(t):t)};tT.exports=Ni;tT.exports.default=Ni;var She=tT.exports,Ehe=She;const ep=xi(Ehe),Sa=t=>new Promise(e=>{ep.get(t).then(r=>{const n=r.data.toString();e(n)})}),whe={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},Cy=t=>{var n;let e=whe;e=(((n=K5[t.command])==null?void 0:n.scriptFunction)??iU.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>Y.gameplay.performController.arrangeNewPerform(i,t)):Y.gameplay.performController.arrangeNewPerform(e,t)},Che=t=>{Sa(t.sceneUrl).then(async e=>{await Y.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(Y.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Ge.debug("",Y.sceneManager.sceneData.currentScene),un())})};var cT={},tp={document:{}},I6=Object.prototype.hasOwnProperty,k6=function(t){return Ay(t)?t.toLowerCase():t},Rd=Array.isArray,Ahe=function(t){return Ay(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(k6=Ahe);var The,fT=Object.prototype.toString,F6=Object.getPrototypeOf,gb=N6("ng");tp.angular||(tp.angular={});tp.document.documentMode;function Phe(t){if(t==null||pT(t))return!1;if(Rd(t)||Ay(t)||The)return!0;var e="length"in Object(t)&&t.length;return dT(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Vr(t,e,r){var n,i;if(t)if(L6(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Rd(t)||Phe(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Vr)t.forEach(e,r,t);else if(M6(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)I6.call(t,n)&&e.call(r,t[n],n,t);return t}function Ohe(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function hT(){}hT.$inject=[];function Rhe(t){return typeof t>"u"}function Yc(t){return typeof t<"u"}function D6(t){return t!==null&&typeof t=="object"}function M6(t){return t!==null&&typeof t=="object"&&!F6(t)}function Ay(t){return typeof t=="string"}function dT(t){return typeof t=="number"}function L6(t){return typeof t=="function"}function pT(t){return t&&t.window===t}function B6(t){return t&&t.$evalAsync&&t.$watch}var Ihe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function khe(t){return t&&dT(t.length)&&Ihe.test(fT.call(t))}function Fhe(t){return fT.call(t)==="[object ArrayBuffer]"}function Dhe(t,e){var r=[],n=[];if(e){if(khe(e)||Fhe(e))throw gb("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw gb("cpi","Can't copy! Source and destination are identical.");return Rd(e)?e.length=0:Vr(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(Rd(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(M6(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)I6.call(s,u)&&(c[u]=a(s[u]));return Ohe(c,l),c}function a(s){if(!D6(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(pT(s)||B6(s))throw gb("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=Rd(s)?[]:Object.create(F6(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(fT.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(L6(s.cloneNode))return s.cloneNode(!0)}}function Mhe(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:pT(e)?r="$WINDOW":e&&tp.document===e?r="$DOCUMENT":B6(e)&&(r="$SCOPE"),r}function Lhe(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Lhe(tp.document);function Bhe(){return Object.create(null)}function Nhe(t){var e=[];return JSON.stringify(t,function(r,n){if(n=Mhe(r,n),D6(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function _M(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):Rhe(t)?"undefined":typeof t!="string"?Nhe(t):t}function N6(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?_M(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(_M(n[c]));return new e(a)}}var qc=N6("$parse");({}).constructor.prototype.valueOf;function U6(t){return t+""}var vg=Bhe();Vr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){vg[t]=!0});var Uhe={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},pw=function(e){this.options=e};pw.prototype={constructor:pw,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=vg[e],a=vg[r],o=vg[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Yc(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw qc("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=k6(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=Uhe[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var ke=function(e,r){this.lexer=e,this.options=r};ke.Program="Program";ke.ExpressionStatement="ExpressionStatement";ke.AssignmentExpression="AssignmentExpression";ke.ConditionalExpression="ConditionalExpression";ke.LogicalExpression="LogicalExpression";ke.BinaryExpression="BinaryExpression";ke.UnaryExpression="UnaryExpression";ke.CallExpression="CallExpression";ke.MemberExpression="MemberExpression";ke.Identifier="Identifier";ke.Literal="Literal";ke.ArrayExpression="ArrayExpression";ke.Property="Property";ke.ObjectExpression="ObjectExpression";ke.ThisExpression="ThisExpression";ke.LocalsExpression="LocalsExpression";ke.NGValueParameter="NGValueParameter";ke.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:ke.Program,body:t}},expressionStatement:function(){return{type:ke.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!V6(t))throw qc("lval","Trying to assign a value to a non l-value");t={type:ke.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:ke.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:ke.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:ke.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:ke.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=Dhe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:ke.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:ke.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:ke.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:ke.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:ke.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:ke.Identifier,name:t.text}},constant:function(){return{type:ke.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ke.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:ke.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ke.ObjectExpression,properties:t}},throwError:function(t,e){throw qc("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw qc("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw qc("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:ke.ThisExpression},$locals:{type:ke.LocalsExpression}}};function jhe(t,e){return typeof t<"u"?t:e}function j6(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function $he(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Un(t,e){var r,n,i;switch(t.type){case ke.Program:r=!0,Vr(t.body,function(a){Un(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case ke.Literal:t.constant=!0,t.toWatch=[];break;case ke.UnaryExpression:Un(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case ke.BinaryExpression:Un(t.left,e),Un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case ke.LogicalExpression:Un(t.left,e),Un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case ke.ConditionalExpression:Un(t.test,e),Un(t.alternate,e),Un(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case ke.Identifier:t.constant=!1,t.toWatch=[t];break;case ke.MemberExpression:Un(t.object,e),t.computed&&Un(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case ke.CallExpression:i=t.filter?$he(e,t.callee.name):!1,r=i,n=[],Vr(t.arguments,function(a){Un(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case ke.AssignmentExpression:Un(t.left,e),Un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case ke.ArrayExpression:r=!0,n=[],Vr(t.elements,function(a){Un(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case ke.ObjectExpression:r=!0,n=[],Vr(t.properties,function(a){Un(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case ke.ThisExpression:t.constant=!1,t.toWatch=[];break;case ke.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function $6(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function V6(t){return t.type===ke.Identifier||t.type===ke.MemberExpression}function G6(t){if(t.body.length===1&&V6(t.body[0].expression))return{type:ke.AssignmentExpression,left:t.body[0].expression,right:{type:ke.NGValueParameter},operator:"="}}function W6(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===ke.Literal||t.body[0].expression.type===ke.ArrayExpression||t.body[0].expression.type===ke.ObjectExpression)}function z6(t){return t.constant}function H6(t,e){this.astBuilder=t,this.$filter=e}H6.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Un(r,e.$filter);var n="",i;if(this.stage="assign",i=G6(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=$6(r.body);e.stage="inputs",Vr(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,U6,jhe,j6);return this.state=this.stage=void 0,c.ast=r,c.literal=W6(r),c.constant=z6(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Vr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Vr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||hT,!a&&Yc(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case ke.Program:Vr(t.body,function(d,p){c.recurse(d.expression,void 0,void 0,function(v){s=v}),p!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case ke.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case ke.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(d){s=d}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case ke.BinaryExpression:this.recurse(t.left,void 0,void 0,function(d){o=d}),this.recurse(t.right,void 0,void 0,function(d){s=d}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case ke.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case ke.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case ke.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case ke.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var d=null,p=c.current().inAssignment;t.computed?(s=c.nextId(),p||c.state.computing==="assign"?d=c.unsafeComputedMember(o,s):d=c.computedMember(o,s)):(p||c.state.computing==="assign"?d=c.unsafeNonComputedMember(o,t.property.name):d=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===ke.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(d),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==ke.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case ke.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Vr(t.arguments,function(d){var p=c.nextId();c.recurse(d,p),l.push(p)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Vr(t.arguments,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(v){l.push(v)})}),o.name){var d=c.member(o.context,o.name,o.computed);u="("+d+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case ke.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case ke.ArrayExpression:l=[],Vr(t.elements,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(p){l.push(p)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case ke.ObjectExpression:l=[],f=!1,Vr(t.properties,function(d){d.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Vr(t.properties,function(d){d.computed?(o=c.nextId(),c.recurse(d.key,o)):o=d.key.type===ke.Identifier?d.key.name:""+d.key.value,s=c.nextId(),c.recurse(d.value,s),c.assign(c.unsafeMember(e,o,d.computed),s)})):(Vr(t.properties,function(d){c.recurse(d.value,t.constant?void 0:c.nextId(),void 0,function(p){l.push(c.escape(d.key.type===ke.Identifier?d.key.name:""+d.key.value)+":"+p)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case ke.ThisExpression:this.assign(e,"s"),n(e||"s");break;case ke.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case ke.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(Ay(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(dT(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw qc("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function X6(t,e){this.astBuilder=t,this.$filter=e}X6.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Un(r,e.$filter);var n,i;(n=G6(r))&&(i=this.recurse(n));var a=$6(r.body),o;a&&(o=[],Vr(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Vr(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?hT:r.body.length===1?s[0]:function(l,u){var f;return Vr(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=W6(r),c.constant=z6(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case ke.Literal:return this.value(t.value,e);case ke.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case ke.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case ke.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case ke.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case ke.Identifier:return a.identifier(t.name,e,r);case ke.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case ke.CallExpression:return o=[],Vr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var d=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:d}:d}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var d=[],p=0;p<o.length;++p)d.push(o[p](s,c,l,u));h=f.value.apply(f.context,d)}return e?{value:h}:h};case ke.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case ke.ArrayExpression:return o=[],Vr(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case ke.ObjectExpression:return o=[],Vr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===ke.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case ke.ThisExpression:return function(s){return e?{value:s}:s};case ke.LocalsExpression:return function(s,c){return e?{value:c}:c};case ke.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Yc(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Yc(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=j6(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(Yc(s)?s:0)-(Yc(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=U6(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var vw=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new ke(e,n),this.astCompiler=n.csp?new X6(this.ast,r):new H6(this.ast,r)};vw.prototype={constructor:vw,parse:function(t){return this.astCompiler.compile(t)}};cT.Lexer=pw;cT.Parser=vw;var Y6=cT,Vhe={},Ghe=Y6.Lexer,Whe=Y6.Parser;function vT(t,e){e=e||{};var r=e.filters||Vhe,n=e.filters?e.cache||{}:vT.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new Ghe(i),c=new Whe(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}vT.cache=Object.create(null);var q6=vT;function zhe(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const Hhe=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=zhe(r,n));let o;if(e?o=qoe:o=j8,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();se.dispatch(o({key:s,value:l})),se.dispatch(Ac({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(d=>d.match(/[a-zA-Z]/)?gT(d).toString():d).reduce((d,p)=>d+p,"");let h=q6(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),se.dispatch(o({key:s,value:h})),se.dispatch(Ac({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(se.dispatch(o({key:s,value:!0})),se.dispatch(Ac({key:s,value:!0}))),c.match(/false/)&&(se.dispatch(o({key:s,value:!1})),se.dispatch(Ac({key:s,value:!1})))):isNaN(Number(c))?(se.dispatch(o({key:s,value:i?a:c})),se.dispatch(Ac({key:s,value:i?a:c}))):(se.dispatch(o({key:s,value:i?a:Number(c)})),se.dispatch(Ac({key:s,value:i?a:Number(c)})));e?(Ge.debug("",{key:s,value:se.getState().userData.globalGameVar[s]}),dU()):Ge.debug("",{key:s,value:se.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function gT(t){let e=0;return se.getState().stage.GameVar.hasOwnProperty(t)?e=se.getState().stage.GameVar[t]:se.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=se.getState().userData.globalGameVar[t]),e}function Xhe(t){return q6(t)()}const gw=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:gT(i).toString():i).reduce((i,a)=>i+a,"");return!!Xhe(n)}return!0},K6=()=>{if(Y.sceneManager.sceneData.currentScene.sceneName,Y.sceneManager.sceneData.currentSentenceId>Y.sceneManager.sceneData.currentScene.sentenceList.length-1){if(Y.sceneManager.sceneData.sceneStack.length!==0){const l=Y.sceneManager.sceneData.sceneStack.pop();l!==void 0&&Che(l)}return}const t=Y.sceneManager.sceneData.currentScene.sentenceList[Y.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((d,p)=>{const v=u.indexOf(d,p?u.indexOf(h[p-1])+h[p-1].length:0);return v===0||u[v-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const d=gT(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,d?d.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=gw(a)),!n){Ge.warn(""),Y.sceneManager.sceneData.currentSentenceId++,un();return}Cy(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Pt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){Y.sceneManager.sceneData.currentSentenceId++,K6();return}setTimeout(()=>{c=se.getState().stage,se.getState().userData.globalGameVar,Ge.debug("",Y.sceneManager.sceneData.currentSentenceId),s&&Y.backlogManager.saveCurrentStateToBacklog()},0),Y.sceneManager.sceneData.currentSentenceId++},un=()=>{if(Y.events.userInteractNext.emit(),se.getState().GUI.showTitle)return;let e=!1;if(Y.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!Y.gameplay.isFast&&!Y.gameplay.isSyncingWithOrigine&&(e=!0)}),e){Ge.warn("next ");return}let r=!0;if(Y.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=se.getState().stage,a=zr(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);se.dispatch(fy(a)),K6();return}Ge.warn("");let n=!1;for(let i=0;i<Y.gameplay.performController.performList.length;i++){const a=Y.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),Y.gameplay.performController.performList.splice(i,1),i--))}n&&un()};var Yhe="__lodash_hash_undefined__";function qhe(t){return this.__data__.set(t,Yhe),this}var Khe=qhe;function Zhe(t){return this.__data__.has(t)}var Qhe=Zhe,Jhe=M2,ede=Khe,tde=Qhe;function lm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Jhe;++e<r;)this.add(t[e])}lm.prototype.add=lm.prototype.push=ede;lm.prototype.has=tde;var Z6=lm;function rde(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var nde=rde;function ide(t){return t!==t}var ade=ide;function ode(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var sde=ode,lde=nde,ude=ade,cde=sde;function fde(t,e,r){return e===e?cde(t,e,r):lde(t,ude,r)}var hde=fde,dde=hde;function pde(t,e){var r=t==null?0:t.length;return!!r&&dde(t,e,0)>-1}var vde=pde;function gde(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var mde=gde;function yde(t,e){return t.has(e)}var Q6=yde;function _de(){}var xde=_de;function bde(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var mT=bde,mb=F8,Sde=xde,Ede=mT,wde=1/0,Cde=mb&&1/Ede(new mb([,-0]))[1]==wde?function(t){return new mb(t)}:Sde,Ade=Cde,Tde=Z6,Pde=vde,Ode=mde,Rde=Q6,Ide=Ade,kde=mT,Fde=200;function Dde(t,e,r){var n=-1,i=Pde,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Ode;else if(a>=Fde){var l=e?null:Ide(t);if(l)return kde(l);o=!1,i=Rde,c=new Tde}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Mde=Dde,Lde=Mde;function Bde(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Lde(t,void 0,e):[]}var Nde=Bde;const qp=xi(Nde),nh=t=>{for(const e of t)Y.sceneManager.settledScenes.includes(e)?Ge.warn(`${e}`):(Ge.info(`${e}`),Sa(e).then(r=>{ip(r,e,e)}))},Ude=(t,e)=>{Y.sceneManager.sceneData.sceneStack.push({sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl,continueLine:Y.sceneManager.sceneData.currentSentenceId}),Sa(t).then(async r=>{if(await Y.sceneManager.setCurrentScene(r,e,t,!0)){Y.sceneManager.sceneData.currentSentenceId=0;const i=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const a=qp(i);nh(a),Ge.debug("",Y.sceneManager.sceneData),un()}})},jde=t=>{const e=t.content.split("/"),r=e[e.length-1];return Ude(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function rp(t,e,r){let n;const a=se.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function J6(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function e5(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const yT={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};var hu=(t=>(t.Click="click",t.Move="move",t.Error="error",t.Alert="alert",t))(hu||{});function t5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var $de=function(){},xM=function(){};const mw=(t,e,r)=>Math.min(Math.max(r,t),e),yb=.001,Vde=.01,bM=10,Gde=.05,Wde=1;function zde({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;$de(t<=bM*1e3);let o=1-e;o=mw(Gde,Wde,o),t=mw(Vde,bM,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,d=yw(l,o),p=Math.exp(-f);return yb-h/d*p},a=l=>{const f=l*o*t,h=f*r+r,d=Math.pow(o,2)*Math.pow(l,2)*t,p=Math.exp(-f),v=yw(Math.pow(l,2),o);return(-i(l)+yb>0?-1:1)*((h-d)*p)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-yb+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=Xde(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const Hde=12;function Xde(t,e,r){let n=r;for(let i=1;i<Hde;i++)n=n-t(n)/e(n);return n}function yw(t,e){return t*Math.sqrt(1-e*e)}const Yde=["duration","bounce"],qde=["stiffness","damping","mass"];function SM(t,e){return e.some(r=>t[r]!==void 0)}function Kde(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!SM(t,qde)&&SM(t,Yde)){const r=zde(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function _T(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=t5(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=Kde(a),d=EM,p=EM;function v(){const y=u?-(u/1e3):0,m=r-e,g=c/(2*Math.sqrt(s*l)),x=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),g<1){const S=yw(x,g);d=b=>{const w=Math.exp(-g*x*b);return r-w*((y+g*x*m)/S*Math.sin(S*b)+m*Math.cos(S*b))},p=b=>{const w=Math.exp(-g*x*b);return g*x*w*(Math.sin(S*b)*(y+g*x*m)/S+m*Math.cos(S*b))-w*(Math.cos(S*b)*(y+g*x*m)-S*m*Math.sin(S*b))}}else if(g===1)d=S=>r-Math.exp(-x*S)*(m+(y+x*m)*S);else{const S=x*Math.sqrt(g*g-1);d=b=>{const w=Math.exp(-g*x*b),C=Math.min(S*b,300);return r-w*((y+g*x*m)*Math.sinh(C)+S*m*Math.cosh(C))/S}}}return v(),{next:y=>{const m=d(y);if(h)o.done=y>=f;else{const g=p(y)*1e3,x=Math.abs(g)<=n,S=Math.abs(r-m)<=i;o.done=x&&S}return o.value=o.done?r:m,o},flipTarget:()=>{u=-u,[e,r]=[r,e],v()}}}_T.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const EM=t=>0,r5=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},xT=(t,e,r)=>-r*t+r*e+t,n5=(t,e)=>r=>Math.max(Math.min(r,e),t),Id=t=>t%1?Number(t.toFixed(5)):t,um=/(-)?([\d]*\.?[\d])+/g,_w=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Zde=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Kp(t){return typeof t=="string"}const Ty={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},i5=Object.assign(Object.assign({},Ty),{transform:n5(0,1)});Object.assign(Object.assign({},Ty),{default:1});const Qde=t=>({test:e=>Kp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kd=Qde("%");Object.assign(Object.assign({},kd),{parse:t=>kd.parse(t)/100,transform:t=>kd.transform(t*100)});const bT=(t,e)=>r=>!!(Kp(r)&&Zde.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),a5=(t,e,r)=>n=>{if(!Kp(n))return n;const[i,a,o,s]=n.match(um);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},wu={test:bT("hsl","hue"),parse:a5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+kd.transform(Id(e))+", "+kd.transform(Id(r))+", "+Id(i5.transform(n))+")"},Jde=n5(0,255),_b=Object.assign(Object.assign({},Ty),{transform:t=>Math.round(Jde(t))}),sl={test:bT("rgb","red"),parse:a5("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_b.transform(t)+", "+_b.transform(e)+", "+_b.transform(r)+", "+Id(i5.transform(n))+")"};function epe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const xw={test:bT("#"),parse:epe,transform:sl.transform},Py={test:t=>sl.test(t)||xw.test(t)||wu.test(t),parse:t=>sl.test(t)?sl.parse(t):wu.test(t)?wu.parse(t):xw.parse(t),transform:t=>Kp(t)?t:t.hasOwnProperty("red")?sl.transform(t):wu.transform(t)},o5="${c}",s5="${n}";function tpe(t){var e,r,n,i;return isNaN(t)&&Kp(t)&&((r=(e=t.match(um))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(_w))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function l5(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(_w);n&&(r=n.length,t=t.replace(_w,o5),e.push(...n.map(Py.parse)));const i=t.match(um);return i&&(t=t.replace(um,s5),e.push(...i.map(Ty.parse))),{values:e,numColors:r,tokenised:t}}function u5(t){return l5(t).values}function c5(t){const{values:e,numColors:r,tokenised:n}=l5(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?o5:s5,s<r?Py.transform(a[s]):Id(a[s]));return o}}const rpe=t=>typeof t=="number"?0:t;function npe(t){const e=u5(t);return c5(t)(e.map(rpe))}const f5={test:tpe,parse:u5,createTransformer:c5,getAnimatableNone:npe};function xb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=xb(c,s,t+1/3),a=xb(c,s,t),o=xb(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const ipe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},ape=[xw,sl,wu],CM=t=>ape.find(e=>e.test(t)),h5=(t,e)=>{let r=CM(t),n=CM(e),i=r.parse(t),a=n.parse(e);r===wu&&(i=wM(i),r=sl),n===wu&&(a=wM(a),n=sl);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=ipe(i[c],a[c],s));return o.alpha=xT(i.alpha,a.alpha,s),r.transform(o)}},ope=t=>typeof t=="number",spe=(t,e)=>r=>e(t(r)),d5=(...t)=>t.reduce(spe);function p5(t,e){return ope(t)?r=>xT(t,e,r):Py.test(t)?h5(t,e):g5(t,e)}const v5=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>p5(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},lpe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=p5(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function AM(t){const e=f5.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const g5=(t,e)=>{const r=f5.createTransformer(e),n=AM(t),i=AM(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?d5(v5(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},upe=(t,e)=>r=>xT(t,e,r);function cpe(t){if(typeof t=="number")return upe;if(typeof t=="string")return Py.test(t)?h5:g5;if(Array.isArray(t))return v5;if(typeof t=="object")return lpe}function fpe(t,e,r){const n=[],i=r||cpe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=d5(c,s)}n.push(s)}return n}function hpe([t,e],[r]){return n=>r(r5(t,e,n))}function dpe(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=r5(t[a],t[a+1],i);return e[a](s)}}function m5(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;xM(a===e.length),xM(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=fpe(e,n,i),s=a===2?hpe(t,o):dpe(t,o);return r?c=>s(mw(t[0],t[a-1],c)):s}const ppe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vpe=t=>e=>Math.pow(e,t),gpe=t=>e=>e*e*((t+1)*e-t),mpe=t=>{const e=gpe(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},ype=1.525,_pe=vpe(2),xpe=ppe(_pe);mpe(ype);function bpe(t,e){return t.map(()=>e||xpe).splice(0,t.length-1)}function Spe(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Epe(t,e){return t.map(r=>r*e)}function gg({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=Epe(n&&n.length===o.length?n:Spe(o),i);function c(){return m5(s,o,{ease:Array.isArray(r)?r:bpe(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function wpe({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const TM={keyframes:gg,spring:_T,decay:wpe};function Cpe(t){if(Array.isArray(t.to))return gg;if(TM[t.type])return TM[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?gg:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?_T:gg}const y5=1/60*1e3,Ape=typeof performance<"u"?()=>performance.now():()=>Date.now(),_5=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Ape()),y5);function Tpe(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Ppe=40;let bw=!0,np=!1,Sw=!1;const Fd={delta:0,timestamp:0},Zp=["read","update","preRender","render","postRender"],Oy=Zp.reduce((t,e)=>(t[e]=Tpe(()=>np=!0),t),{}),Ope=Zp.reduce((t,e)=>{const r=Oy[e];return t[e]=(n,i=!1,a=!1)=>(np||kpe(),r.schedule(n,i,a)),t},{}),Rpe=Zp.reduce((t,e)=>(t[e]=Oy[e].cancel,t),{});Zp.reduce((t,e)=>(t[e]=()=>Oy[e].process(Fd),t),{});const Ipe=t=>Oy[t].process(Fd),x5=t=>{np=!1,Fd.delta=bw?y5:Math.max(Math.min(t-Fd.timestamp,Ppe),1),Fd.timestamp=t,Sw=!0,Zp.forEach(Ipe),Sw=!1,np&&(bw=!1,_5(x5))},kpe=()=>{np=!0,bw=!0,Sw||_5(x5)},Fpe=Ope;function b5(t,e,r=0){return t-e-r}function Dpe(t,e,r=0,n=!0){return n?b5(e+-t,e,r):e-(t-e)+r}function Mpe(t,e,r,n){return n?t>=e+r:t<=-r}const Lpe=t=>{const e=({delta:r})=>t(r);return{start:()=>Fpe.update(e,!0),stop:()=>Rpe.update(e)}};function Bpe(t){var e,r,{from:n,autoplay:i=!0,driver:a=Lpe,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:d,onUpdate:p}=t,v=t5(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:y}=v,m,g=0,x=v.duration,S,b=!1,w=!0,C;const A=Cpe(v);!((r=(e=A).needsInterpolation)===null||r===void 0)&&r.call(e,n,y)&&(C=m5([0,100],[n,y],{clamp:!1}),n=0,y=100);const P=A(Object.assign(Object.assign({},v),{from:n,to:y}));function O(){g++,c==="reverse"?(w=g%2===0,o=Dpe(o,x,l,w)):(o=b5(o,x,l),c==="mirror"&&P.flipTarget()),b=!1,d&&d()}function I(){m.stop(),h&&h()}function R(D){if(w||(D=-D),o+=D,!b){const L=P.next(Math.max(0,o));S=L.value,C&&(S=C(S)),b=w?L.done:o<=0}p==null||p(S),b&&(g===0&&(x??(x=o)),g<s?Mpe(o,x,l,w)&&O():I())}function k(){u==null||u(),m=a(R),m.start()}return i&&k(),{stop:()=>{f==null||f(),m.stop()}}}function Npe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Upe=Npe,jpe=Z6,$pe=Upe,Vpe=Q6,Gpe=1,Wpe=2;function zpe(t,e,r,n,i,a){var o=r&Gpe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,d=r&Wpe?new jpe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],v=e[f];if(n)var y=o?n(v,p,f,e,t,a):n(p,v,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!$pe(e,function(m,g){if(!Vpe(d,g)&&(p===m||i(p,m,r,n,a)))return d.push(g)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var S5=zpe;function Hpe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Xpe=Hpe,PM=zp,OM=M8,Ype=F2,qpe=S5,Kpe=Xpe,Zpe=mT,Qpe=1,Jpe=2,e0e="[object Boolean]",t0e="[object Date]",r0e="[object Error]",n0e="[object Map]",i0e="[object Number]",a0e="[object RegExp]",o0e="[object Set]",s0e="[object String]",l0e="[object Symbol]",u0e="[object ArrayBuffer]",c0e="[object DataView]",RM=PM?PM.prototype:void 0,bb=RM?RM.valueOf:void 0;function f0e(t,e,r,n,i,a,o){switch(r){case c0e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case u0e:return!(t.byteLength!=e.byteLength||!a(new OM(t),new OM(e)));case e0e:case t0e:case i0e:return Ype(+t,+e);case r0e:return t.name==e.name&&t.message==e.message;case a0e:case s0e:return t==e+"";case n0e:var s=Kpe;case o0e:var c=n&Qpe;if(s||(s=Zpe),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=Jpe,o.set(t,e);var u=qpe(s(t),s(e),n,i,a,o);return o.delete(t),u;case l0e:if(bb)return bb.call(t)==bb.call(e)}return!1}var h0e=f0e,IM=I8,d0e=1,p0e=Object.prototype,v0e=p0e.hasOwnProperty;function g0e(t,e,r,n,i,a){var o=r&d0e,s=IM(t),c=s.length,l=IM(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:v0e.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<c;){h=s[f];var m=t[h],g=e[h];if(n)var x=o?n(g,m,h,e,t,a):n(m,g,h,t,e,a);if(!(x===void 0?m===g||i(m,g,r,n,a):x)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=t.constructor,b=e.constructor;S!=b&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(t),a.delete(e),v}var m0e=g0e,Sb=L2,y0e=S5,_0e=h0e,x0e=m0e,kM=cy,FM=ks,DM=N2,b0e=S8,S0e=1,MM="[object Arguments]",LM="[object Array]",vv="[object Object]",E0e=Object.prototype,BM=E0e.hasOwnProperty;function w0e(t,e,r,n,i,a){var o=FM(t),s=FM(e),c=o?LM:kM(t),l=s?LM:kM(e);c=c==MM?vv:c,l=l==MM?vv:l;var u=c==vv,f=l==vv,h=c==l;if(h&&DM(t)){if(!DM(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Sb),o||b0e(t)?y0e(t,e,r,n,i,a):_0e(t,e,c,r,n,i,a);if(!(r&S0e)){var d=u&&BM.call(t,"__wrapped__"),p=f&&BM.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return a||(a=new Sb),i(v,y,r,n,a)}}return h?(a||(a=new Sb),x0e(t,e,r,n,i,a)):!1}var C0e=w0e,A0e=C0e,NM=tc;function E5(t,e,r,n,i){return t===e?!0:t==null||e==null||!NM(t)&&!NM(e)?t!==t&&e!==e:A0e(t,e,r,n,E5,i)}var w5=E5,T0e=L2,P0e=w5,O0e=1,R0e=2;function I0e(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new T0e;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?P0e(u,l,O0e|R0e,n,f):h))return!1}}return!0}var k0e=I0e,F0e=Ko;function D0e(t){return t===t&&!F0e(t)}var C5=D0e,M0e=C5,L0e=uy;function B0e(t){for(var e=L0e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,M0e(i)]}return e}var N0e=B0e;function U0e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var A5=U0e,j0e=k0e,$0e=N0e,V0e=A5;function G0e(t){var e=$0e(t);return e.length==1&&e[0][2]?V0e(e[0][0],e[0][1]):function(r){return r===t||j0e(r,t,e)}}var W0e=G0e,z0e=Hp,H0e=tc,X0e="[object Symbol]";function Y0e(t){return typeof t=="symbol"||H0e(t)&&z0e(t)==X0e}var Ry=Y0e,q0e=ks,K0e=Ry,Z0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q0e=/^\w*$/;function J0e(t,e){if(q0e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||K0e(t)?!0:Q0e.test(t)||!Z0e.test(t)||e!=null&&t in Object(e)}var ST=J0e,T5=M2,eve="Expected a function";function ET(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eve);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ET.Cache||T5),r}ET.Cache=T5;var tve=ET,rve=tve,nve=500;function ive(t){var e=rve(t,function(n){return r.size===nve&&r.clear(),n}),r=e.cache;return e}var ave=ive,ove=ave,sve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lve=/\\(\\)?/g,uve=ove(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sve,function(r,n,i,a){e.push(i?a.replace(lve,"$1"):n||r)}),e}),cve=uve;function fve(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var P5=fve,UM=zp,hve=P5,dve=ks,pve=Ry,vve=1/0,jM=UM?UM.prototype:void 0,$M=jM?jM.toString:void 0;function O5(t){if(typeof t=="string")return t;if(dve(t))return hve(t,O5)+"";if(pve(t))return $M?$M.call(t):"";var e=t+"";return e=="0"&&1/t==-vve?"-0":e}var gve=O5,mve=gve;function yve(t){return t==null?"":mve(t)}var _ve=yve,xve=ks,bve=ST,Sve=cve,Eve=_ve;function wve(t,e){return xve(t)?t:bve(t,e)?[t]:Sve(Eve(t))}var Iy=wve,Cve=Ry,Ave=1/0;function Tve(t){if(typeof t=="string"||Cve(t))return t;var e=t+"";return e=="0"&&1/t==-Ave?"-0":e}var Qp=Tve,Pve=Iy,Ove=Qp;function Rve(t,e){e=Pve(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Ove(e[r++])];return r&&r==n?t:void 0}var wT=Rve,Ive=wT;function kve(t,e,r){var n=t==null?void 0:Ive(t,e);return n===void 0?r:n}var Fve=kve;function Dve(t,e){return t!=null&&e in Object(t)}var Mve=Dve,Lve=Iy,Bve=b8,Nve=ks,Uve=U2,jve=j2,$ve=Qp;function Vve(t,e,r){e=Lve(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=$ve(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&jve(i)&&Uve(o,i)&&(Nve(t)||Bve(t)))}var Gve=Vve,Wve=Mve,zve=Gve;function Hve(t,e){return t!=null&&zve(t,e,Wve)}var Xve=Hve,Yve=w5,qve=Fve,Kve=Xve,Zve=ST,Qve=C5,Jve=A5,ege=Qp,tge=1,rge=2;function nge(t,e){return Zve(t)&&Qve(e)?Jve(ege(t),e):function(r){var n=qve(r,t);return n===void 0&&n===e?Kve(r,t):Yve(e,n,tge|rge)}}var ige=nge;function age(t){return t}var oge=age;function sge(t){return function(e){return e==null?void 0:e[t]}}var lge=sge,uge=wT;function cge(t){return function(e){return uge(e,t)}}var fge=cge,hge=lge,dge=fge,pge=ST,vge=Qp;function gge(t){return pge(t)?hge(vge(t)):dge(t)}var mge=gge,yge=W0e,_ge=ige,xge=oge,bge=ks,Sge=mge;function Ege(t){return typeof t=="function"?t:t==null?xge:typeof t=="object"?bge(t)?_ge(t[0],t[1]):yge(t):Sge(t)}var R5=Ege,wge="Expected a function";function Cge(t){if(typeof t!="function")throw new TypeError(wge);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Age=Cge,Tge=B2,Pge=Iy,Oge=U2,VM=Ko,Rge=Qp;function Ige(t,e,r,n){if(!VM(t))return t;e=Pge(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=Rge(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=VM(u)?u:Oge(e[i+1])?[]:{})}Tge(s,c,l),s=s[c]}return t}var kge=Ige,Fge=wT,Dge=kge,Mge=Iy;function Lge(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Fge(t,o);r(s,o)&&Dge(a,Mge(o,t),s)}return a}var Bge=Lge,Nge=P5,Uge=R5,jge=Bge,$ge=k8;function Vge(t,e){if(t==null)return{};var r=Nge($ge(t),function(n){return[n]});return e=Uge(e),jge(t,r,function(n,i){return e(n,i[0])})}var Gge=Vge,Wge=R5,zge=Age,Hge=Gge;function Xge(t,e){return Hge(t,zge(Wge(e)))}var Yge=Xge;const Eb=xi(Yge);function qge(t){return t===void 0}var Kge=qge;const fs=xi(Kge);function I5(t,e,r){const n=Y.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const m of t){const g=m.duration;i+=g;const{position:x,scale:S,...b}=m;a.push({x:x.x,y:x.y,scaleX:S.x,scaleY:S.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=Bpe({to:a,offset:o,duration:r,onUpdate:m=>{if(s){const{scaleX:g,scaleY:x,...S}=m;Object.assign(s,Eb(S,fs)),fs(g)||(s.scale.x=g),fs(x)||(s.scale.y=x)}}}));const{duration:l,...u}=v();se.dispatch(qi.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:m,scale:g,...x}=p(),S=Eb({x:m.x,y:m.y,...x},fs);Object.assign(n==null?void 0:n.pixiContainer,S),n!=null&&n.pixiContainer&&(fs(g.x)||(n.pixiContainer.scale.x=g.x),fs(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:m,scale:g,...x}=v(),S=Eb({x:m.x,y:m.y,...x},fs);Object.assign(n==null?void 0:n.pixiContainer,S),n!=null&&n.pixiContainer&&(fs(g.x)||(n.pixiContainer.scale.x=g.x),fs(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function d(m){}function p(){return t[0]}function v(){return t[t.length-1]}function y(){const m=t[t.length-1],{alpha:g,rotation:x,blur:S,duration:b,scale:w,position:C,...A}=m;return A}return{setStartState:f,setEndState:h,tickerFunc:d,getEndFilterEffect:y}}function cm(t,e,r){const n=Y.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=se.getState().stage.effects.find(c=>c.target===e),s=zr({...(o==null?void 0:o.transform)??yT,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Ge.debug("",i),I5(i,e,r)}return null}function Ki(t){const e=Y.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function rl(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=J6(t,n);const a=Y.animationManager.nextEnterAnimationName.get(t);return a&&(Ge.debug("",t),i=cm(a,t,Ki(a)),n=Ki(a),Y.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=e5(t,n);const a=Y.animationManager.nextExitAnimationName.get(t);return a&&(Ge.debug("",t),i=cm(a,t,Ki(a)),n=Ki(a),Y.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Af=()=>Math.random().toString().substring(0,10);class Zge{constructor(){qe(this,"performList",[]);qe(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};se.dispatch(qi.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){se.dispatch(qi.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):un()}}const Qge=t=>{const e=t.content,r=se.dispatch;if(se.getState().GUI.showStoryLine)return r(ht({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(ht({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(ht({key:"storyLineBgY",value:f.value}))}),{performName:Af(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(se.getState().GUI.showAchievement)return r(jae(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(ht({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(ht({key:"achieveBgY",value:f.value}))}),{performName:Af(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(r6({name:n,url:e,series:i})),r(qi.removeEffectByTargetId("bg-main"));const s=Ut(t,"transform");let c=Ut(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=rp("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};Y.animationManager.addAnimation(d),c=Ki(h),Y.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=rp("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};Y.animationManager.addAnimation(d),c=Ki(h),Y.animationManager.nextEnterAnimationName.set("bg-main",h)}return Ut(t,"enter")&&(Y.animationManager.nextEnterAnimationName.set("bg-main",Ut(t,"enter").toString()),c=Ki(Ut(t,"enter").toString())),Ut(t,"exit")&&(Y.animationManager.nextExitAnimationName.set("bg-main-off",Ut(t,"exit").toString()),c=Ki(Ut(t,"exit").toString())),a&&r(ht({key:"bgX",value:a})),o&&r(ht({key:"bgY",value:o})),r(ht({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Jge(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",d="";const p=se.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":c=b.value.toString(),c=Mt(c,Rt.figure);break;case"mouthClose":l=b.value.toString(),l=Mt(l,Rt.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=Mt(u,Rt.figure);break;case"eyesOpen":f=b.value.toString(),f=Mt(f,Rt.figure);break;case"eyesClose":h=b.value.toString(),h=Mt(h,Rt.figure);break;case"animationFlag":d=b.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,m=se.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==v),g={targetId:v,animationFlag:d,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};m.push(g),p(ht({key:"figureAssociatedAnimation",value:m}));let x=!0;if(o!==""){const b=se.getState().stage.freeFigure.find(w=>w.key===o);b&&b.name===t.content&&(x=!1)}else e==="center"&&se.getState().stage.figName===t.content&&(x=!1),e==="left"&&se.getState().stage.figNameLeft===t.content&&(x=!1),e==="right"&&se.getState().stage.figNameRight===t.content&&(x=!1);if(x){const b=`fig-${e}`,w=`${o}`;se.dispatch(qi.removeEffectByTargetId(b)),se.dispatch(qi.removeEffectByTargetId(w))}const S=(b,w)=>{const C=Ut(w,"transform"),A=Ut(w,"duration");A&&typeof A=="number"&&(s=A);let P;if(C){console.log(C);try{const k=JSON.parse(C.toString());P=rp(b,k,s),P[0].alpha=0;const D=(Math.random()*10).toString(16),L={name:D,effects:P};Y.animationManager.addAnimation(L),s=Ki(D),Y.animationManager.nextEnterAnimationName.set(b,D)}catch{O()}}else O();function O(){P=rp(b,{},s),P[0].alpha=0;const D=(Math.random()*10).toString(16),L={name:D,effects:P};Y.animationManager.addAnimation(L),s=Ki(D),Y.animationManager.nextEnterAnimationName.set(b,D)}const I=Ut(w,"enter"),R=Ut(w,"exit");I&&(Y.animationManager.nextEnterAnimationName.set(b,I.toString()),s=Ki(I.toString())),R&&(Y.animationManager.nextExitAnimationName.set(b+"-off",R.toString()),s=Ki(R.toString()))};if(n){se.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};S(o,t),i&&p(qi.setLive2dMotion({target:o,motion:i})),a&&p(qi.setLive2dExpression({target:o,expression:a})),p(qi.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},w={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],S(o,t),i&&p(qi.setLive2dMotion({target:o,motion:i})),a&&p(qi.setLive2dExpression({target:o,expression:a})),p(ht({key:w[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const k5=(t,e)=>{Sa(t).then(async r=>{if(await Y.sceneManager.setCurrentScene(r,e,t,!0)){Y.sceneManager.sceneData.currentSentenceId=0;const i=[];Y.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),Y.videoManager.destroyExcept(i);const a=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const o=qp(a);nh(o),Ge.debug("",Y.sceneManager.sceneData),un()}})},eme=t=>{const e=t.content.split("/"),r=e[e.length-1];return k5(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},F5=t=>{const e=Y.sceneManager.sceneData.currentSentenceId;let r=e;Y.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Pt.label&&n.content===t&&i!==e&&(r=i)}),Y.sceneManager.sceneData.currentSentenceId=r,setTimeout(un,1)},tme="_Choose_Main_94qva_1",rme="_Choose_item_94qva_13",nme="_Choose_item_image_94qva_30",ime="_Choose_item_countdown_94qva_45",ame="_Choose_item_countdown_disabled_94qva_52",ome="_Choose_item_progress_bar_94qva_59",sme="_Choose_item_disabled_94qva_68",eu={Choose_Main:tme,Choose_item:rme,Choose_item_image:nme,Choose_item_countdown:ime,Choose_item_countdown_disabled:ame,Choose_item_progress_bar:ome,Choose_item_disabled:sme};var D5={exports:{}},M5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=pe;function lme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ume=typeof Object.is=="function"?Object.is:lme,cme=Tf.useState,fme=Tf.useEffect,hme=Tf.useLayoutEffect,dme=Tf.useDebugValue;function pme(t,e){var r=e(),n=cme({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return hme(function(){i.value=r,i.getSnapshot=e,wb(i)&&a({inst:i})},[t,r,e]),fme(function(){return wb(i)&&a({inst:i}),t(function(){wb(i)&&a({inst:i})})},[t]),dme(r),r}function wb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ume(t,r)}catch{return!0}}function vme(t,e){return e()}var gme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vme:pme;M5.useSyncExternalStore=Tf.useSyncExternalStore!==void 0?Tf.useSyncExternalStore:gme;D5.exports=M5;var mme=D5.exports,L5={exports:{}},B5={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=pe,yme=mme;function _me(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xme=typeof Object.is=="function"?Object.is:_me,bme=yme.useSyncExternalStore,Sme=ky.useRef,Eme=ky.useEffect,wme=ky.useMemo,Cme=ky.useDebugValue;B5.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Sme(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=wme(function(){function c(d){if(!l){if(l=!0,u=d,d=n(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,xme(u,d))return p;var v=n(d);return i!==void 0&&i(p,v)?p:(u=d,f=v)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=bme(t,a[0],a[1]);return Eme(function(){o.hasValue=!0,o.value=s},[s]),Cme(s),s};L5.exports=B5;var Ame=L5.exports;function Tme(t){t()}let N5=Tme;const Pme=t=>N5=t,Ome=()=>N5,GM=Symbol.for("react-redux-context"),WM=typeof globalThis<"u"?globalThis:{};function Rme(){var t;if(!pe.createContext)return{};const e=(t=WM[GM])!=null?t:WM[GM]=new Map;let r=e.get(pe.createContext);return r||(r=pe.createContext(null),e.set(pe.createContext,r)),r}const kl=Rme();function CT(t=kl){return function(){return pe.useContext(t)}}const U5=CT(),Ime=()=>{throw new Error("uSES not initialized!")};let j5=Ime;const kme=t=>{j5=t},Fme=(t,e)=>t===e;function Dme(t=kl){const e=t===kl?U5:CT(t);return function(n,i={}){const{equalityFn:a=Fme,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();pe.useRef(!0);const d=pe.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),p=j5(l.addNestedSub,c.getState,u||c.getState,d,a);return pe.useDebugValue(p),p}}const it=Dme();function Mme(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var $5={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=typeof Symbol=="function"&&Symbol.for,AT=Yn?Symbol.for("react.element"):60103,TT=Yn?Symbol.for("react.portal"):60106,Fy=Yn?Symbol.for("react.fragment"):60107,Dy=Yn?Symbol.for("react.strict_mode"):60108,My=Yn?Symbol.for("react.profiler"):60114,Ly=Yn?Symbol.for("react.provider"):60109,By=Yn?Symbol.for("react.context"):60110,PT=Yn?Symbol.for("react.async_mode"):60111,Ny=Yn?Symbol.for("react.concurrent_mode"):60111,Uy=Yn?Symbol.for("react.forward_ref"):60112,jy=Yn?Symbol.for("react.suspense"):60113,Lme=Yn?Symbol.for("react.suspense_list"):60120,$y=Yn?Symbol.for("react.memo"):60115,Vy=Yn?Symbol.for("react.lazy"):60116,Bme=Yn?Symbol.for("react.block"):60121,Nme=Yn?Symbol.for("react.fundamental"):60117,Ume=Yn?Symbol.for("react.responder"):60118,jme=Yn?Symbol.for("react.scope"):60119;function Ea(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case AT:switch(t=t.type,t){case PT:case Ny:case Fy:case My:case Dy:case jy:return t;default:switch(t=t&&t.$$typeof,t){case By:case Uy:case Vy:case $y:case Ly:return t;default:return e}}case TT:return e}}}function V5(t){return Ea(t)===Ny}dr.AsyncMode=PT;dr.ConcurrentMode=Ny;dr.ContextConsumer=By;dr.ContextProvider=Ly;dr.Element=AT;dr.ForwardRef=Uy;dr.Fragment=Fy;dr.Lazy=Vy;dr.Memo=$y;dr.Portal=TT;dr.Profiler=My;dr.StrictMode=Dy;dr.Suspense=jy;dr.isAsyncMode=function(t){return V5(t)||Ea(t)===PT};dr.isConcurrentMode=V5;dr.isContextConsumer=function(t){return Ea(t)===By};dr.isContextProvider=function(t){return Ea(t)===Ly};dr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===AT};dr.isForwardRef=function(t){return Ea(t)===Uy};dr.isFragment=function(t){return Ea(t)===Fy};dr.isLazy=function(t){return Ea(t)===Vy};dr.isMemo=function(t){return Ea(t)===$y};dr.isPortal=function(t){return Ea(t)===TT};dr.isProfiler=function(t){return Ea(t)===My};dr.isStrictMode=function(t){return Ea(t)===Dy};dr.isSuspense=function(t){return Ea(t)===jy};dr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fy||t===Ny||t===My||t===Dy||t===jy||t===Lme||typeof t=="object"&&t!==null&&(t.$$typeof===Vy||t.$$typeof===$y||t.$$typeof===Ly||t.$$typeof===By||t.$$typeof===Uy||t.$$typeof===Nme||t.$$typeof===Ume||t.$$typeof===jme||t.$$typeof===Bme)};dr.typeOf=Ea;$5.exports=dr;var $me=$5.exports,G5=$me,Vme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W5={};W5[G5.ForwardRef]=Vme;W5[G5.Memo]=Gme;var gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT=Symbol.for("react.element"),RT=Symbol.for("react.portal"),Gy=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),Hy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),Wme=Symbol.for("react.server_context"),Yy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Ky=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),Qy=Symbol.for("react.lazy"),zme=Symbol.for("react.offscreen"),z5;z5=Symbol.for("react.module.reference");function za(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OT:switch(t=t.type,t){case Gy:case zy:case Wy:case qy:case Ky:return t;default:switch(t=t&&t.$$typeof,t){case Wme:case Xy:case Yy:case Qy:case Zy:case Hy:return t;default:return e}}case RT:return e}}}gr.ContextConsumer=Xy;gr.ContextProvider=Hy;gr.Element=OT;gr.ForwardRef=Yy;gr.Fragment=Gy;gr.Lazy=Qy;gr.Memo=Zy;gr.Portal=RT;gr.Profiler=zy;gr.StrictMode=Wy;gr.Suspense=qy;gr.SuspenseList=Ky;gr.isAsyncMode=function(){return!1};gr.isConcurrentMode=function(){return!1};gr.isContextConsumer=function(t){return za(t)===Xy};gr.isContextProvider=function(t){return za(t)===Hy};gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OT};gr.isForwardRef=function(t){return za(t)===Yy};gr.isFragment=function(t){return za(t)===Gy};gr.isLazy=function(t){return za(t)===Qy};gr.isMemo=function(t){return za(t)===Zy};gr.isPortal=function(t){return za(t)===RT};gr.isProfiler=function(t){return za(t)===zy};gr.isStrictMode=function(t){return za(t)===Wy};gr.isSuspense=function(t){return za(t)===qy};gr.isSuspenseList=function(t){return za(t)===Ky};gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gy||t===zy||t===Wy||t===qy||t===Ky||t===zme||typeof t=="object"&&t!==null&&(t.$$typeof===Qy||t.$$typeof===Zy||t.$$typeof===Hy||t.$$typeof===Xy||t.$$typeof===Yy||t.$$typeof===z5||t.getModuleId!==void 0)};gr.typeOf=za;function Hme(){const t=Ome();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const zM={notify(){},get:()=>[]};function Xme(t,e){let r,n=zM,i=0,a=!1;function o(v){u();const y=n.subscribe(v);let m=!1;return()=>{m||(m=!0,y(),f())}}function s(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=Hme())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=zM)}function h(){a||(a=!0,u())}function d(){a&&(a=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return p}const Yme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qme=Yme?pe.useLayoutEffect:pe.useEffect;function Kme({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=pe.useMemo(()=>{const l=Xme(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=pe.useMemo(()=>t.getState(),[t]);qme(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||kl;return pe.createElement(c.Provider,{value:o},r)}function H5(t=kl){const e=t===kl?U5:CT(t);return function(){const{store:n}=e();return n}}const Zme=H5();function Qme(t=kl){const e=t===kl?Zme:H5(t);return function(){return e().dispatch}}const Ur=Qme();kme(Ame.useSyncExternalStoreWithSelector);Pme(r8.unstable_batchedUpdates);const Jme={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],gameScounds:{},menuScounds:{},uiSeAudioElement:null},X5=ny({name:"saveData",initialState:zr(Jme),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},setSaveStatus:(t,e)=>{t[e.payload.key]=e.payload.value}}}),Kt=X5.actions,eye=X5.reducer,tye=""+new URL("page-flip-1.mp3",import.meta.url).href,rye=""+new URL("switch-1.mp3",import.meta.url).href,Y5=""+new URL("mouse-enter.mp3",import.meta.url).href,nye=""+new URL("dialog.mp3",import.meta.url).href,q5=""+new URL("click.mp3",import.meta.url).href,ii=()=>{const t=Ur();let e=!1;const r=(c,l)=>{var f,h;const u=se.getState().saveData.uiSeAudioElement;c&&typeof c=="boolean"||(u&&((f=u==null?void 0:u.pause)==null||f.call(u),u.volume=0,(h=u==null?void 0:u.remove)==null||h.call(u),se.dispatch(Kt.setSaveStatus({key:"uiSeAudioElement",value:null}))),t(ht({key:"uiSe",value:c||l})),e=!1)};return{playSeEnter:()=>{var u,f;if(e)return;e=!0;const c=se.getState().saveData,l=se.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[hu.Move]:(f=c.menuScounds)==null?void 0:f[hu.Move];r(l,Y5)},playSeClick:()=>{var u,f;const c=se.getState().saveData,l=se.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[hu.Click]:(f=c.menuScounds)==null?void 0:f[hu.Click];r(l,q5)},playSePageChange:()=>{t(ht({key:"uiSe",value:tye}))},playSeDialogOpen:()=>{var u,f;const c=se.getState().saveData,l=se.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[hu.Alert]:(f=c.menuScounds)==null?void 0:f[hu.Alert];r(l,nye)},playSeSwitch:()=>{t(ht({key:"uiSe",value:rye}))}}},IT=()=>({playSeEnter:()=>{se.dispatch(ht({key:"uiSe",value:Y5}))},playSeClick:()=>{se.dispatch(ht({key:"uiSe",value:q5}))}}),iye=""+new URL("progress-bar-bg.png",import.meta.url).href,aye=""+new URL("progress-bar.png",import.meta.url).href;var fm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fm.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,d=4,p=1,v=2,y=1,m=2,g=4,x=8,S=16,b=32,w=64,C=128,A=256,P=512,O=30,I="...",R=800,k=16,D=1,L=2,U=3,W=1/0,te=9007199254740991,J=17976931348623157e292,z=0/0,M=4294967295,V=M-1,$=M>>>1,j=[["ary",C],["bind",y],["bindKey",m],["curry",x],["curryRight",S],["flip",P],["partial",b],["partialRight",w],["rearg",A]],Q="[object Arguments]",ie="[object Array]",de="[object AsyncFunction]",ue="[object Boolean]",be="[object Date]",Pe="[object DOMException]",ye="[object Error]",we="[object Function]",_e="[object GeneratorFunction]",xe="[object Map]",je="[object Number]",Xe="[object Null]",Fe="[object Object]",at="[object Promise]",vt="[object Proxy]",yt="[object RegExp]",tt="[object Set]",ot="[object String]",dt="[object Symbol]",qt="[object Undefined]",nr="[object WeakMap]",Zt="[object WeakSet]",Gt="[object ArrayBuffer]",St="[object DataView]",sr="[object Float32Array]",ge="[object Float64Array]",Ce="[object Int8Array]",Re="[object Int16Array]",Ye="[object Int32Array]",$e="[object Uint8Array]",rt="[object Uint8ClampedArray]",tr="[object Uint16Array]",Cr="[object Uint32Array]",Dn=/\b__p \+= '';/g,Mn=/\b(__p \+=) '' \+/g,yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,na=/&(?:amp|lt|gt|quot|#39);/g,ai=/[&<>"']/g,mn=RegExp(na.source),ia=RegExp(ai.source),wa=/<%-([\s\S]+?)%>/g,So=/<%([\s\S]+?)%>/g,Si=/<%=([\s\S]+?)%>/g,Fs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ei=/^\w*$/,Ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oi=/[\\^$.*+?()[\]{}|]/g,Yr=RegExp(oi.source),$i=/^\s+/,Gl=/\s/,vh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,D_=/\{\n\/\* \[wrapped with (.+)\] \*/,M_=/,? & /,L_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,B_=/[()=,{}\[\]\/\s]/,N_=/\\(\\)?/g,U_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u0=/\w*$/,j_=/^[-+]0x[0-9a-f]+$/i,$_=/^0b[01]+$/i,V_=/^\[object .+?Constructor\]$/,G_=/^0o[0-7]+$/i,W_=/^(?:0|[1-9]\d*)$/,z_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uc=/($^)/,c0=/['\n\r\u2028\u2029\\]/g,Eo="\\ud800-\\udfff",f0="\\u0300-\\u036f",Ds="\\ufe20-\\ufe2f",H_="\\u20d0-\\u20ff",Wl=f0+Ds+H_,cc="\\u2700-\\u27bf",h0="a-z\\xdf-\\xf6\\xf8-\\xff",X_="\\xac\\xb1\\xd7\\xf7",gh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Y_="\\u2000-\\u206f",q_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",X="A-Z\\xc0-\\xd6\\xd8-\\xde",re="\\ufe0e\\ufe0f",Z=X_+gh+Y_+q_,oe="[']",he="["+Eo+"]",ae="["+Z+"]",Ee="["+Wl+"]",Ie="\\d+",De="["+cc+"]",Me="["+h0+"]",Be="[^"+Eo+Z+Ie+cc+h0+X+"]",et="\\ud83c[\\udffb-\\udfff]",It="(?:"+Ee+"|"+et+")",Qt="[^"+Eo+"]",Jt="(?:\\ud83c[\\udde6-\\uddff]){2}",kr="[\\ud800-\\udbff][\\udc00-\\udfff]",pr="["+X+"]",wi="\\u200d",Ms="(?:"+Me+"|"+Be+")",mh="(?:"+pr+"|"+Be+")",d0="(?:"+oe+"(?:d|ll|m|re|s|t|ve))?",fc="(?:"+oe+"(?:D|LL|M|RE|S|T|VE))?",K_=It+"?",p0="["+re+"]?",Z_="(?:"+wi+"(?:"+[Qt,Jt,kr].join("|")+")"+p0+K_+")*",v0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SV="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aR=p0+K_+Z_,EV="(?:"+[De,Jt,kr].join("|")+")"+aR,wV="(?:"+[Qt+Ee+"?",Ee,Jt,kr,he].join("|")+")",CV=RegExp(oe,"g"),AV=RegExp(Ee,"g"),Q_=RegExp(et+"(?="+et+")|"+wV+aR,"g"),TV=RegExp([pr+"?"+Me+"+"+d0+"(?="+[ae,pr,"$"].join("|")+")",mh+"+"+fc+"(?="+[ae,pr+Ms,"$"].join("|")+")",pr+"?"+Ms+"+"+d0,pr+"+"+fc,SV,v0,Ie,EV].join("|"),"g"),PV=RegExp("["+wi+Eo+Wl+re+"]"),OV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,RV=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],IV=-1,Ar={};Ar[sr]=Ar[ge]=Ar[Ce]=Ar[Re]=Ar[Ye]=Ar[$e]=Ar[rt]=Ar[tr]=Ar[Cr]=!0,Ar[Q]=Ar[ie]=Ar[Gt]=Ar[ue]=Ar[St]=Ar[be]=Ar[ye]=Ar[we]=Ar[xe]=Ar[je]=Ar[Fe]=Ar[yt]=Ar[tt]=Ar[ot]=Ar[nr]=!1;var _r={};_r[Q]=_r[ie]=_r[Gt]=_r[St]=_r[ue]=_r[be]=_r[sr]=_r[ge]=_r[Ce]=_r[Re]=_r[Ye]=_r[xe]=_r[je]=_r[Fe]=_r[yt]=_r[tt]=_r[ot]=_r[dt]=_r[$e]=_r[rt]=_r[tr]=_r[Cr]=!0,_r[ye]=_r[we]=_r[nr]=!1;var kV={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},FV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DV={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},MV={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},LV=parseFloat,BV=parseInt,oR=typeof st=="object"&&st&&st.Object===Object&&st,NV=typeof self=="object"&&self&&self.Object===Object&&self,Kn=oR||NV||Function("return this")(),J_=e&&!e.nodeType&&e,zl=J_&&!0&&t&&!t.nodeType&&t,sR=zl&&zl.exports===J_,ex=sR&&oR.process,Ca=function(){try{var le=zl&&zl.require&&zl.require("util").types;return le||ex&&ex.binding&&ex.binding("util")}catch{}}(),lR=Ca&&Ca.isArrayBuffer,uR=Ca&&Ca.isDate,cR=Ca&&Ca.isMap,fR=Ca&&Ca.isRegExp,hR=Ca&&Ca.isSet,dR=Ca&&Ca.isTypedArray;function aa(le,Se,me){switch(me.length){case 0:return le.call(Se);case 1:return le.call(Se,me[0]);case 2:return le.call(Se,me[0],me[1]);case 3:return le.call(Se,me[0],me[1],me[2])}return le.apply(Se,me)}function UV(le,Se,me,Ze){for(var Et=-1,ir=le==null?0:le.length;++Et<ir;){var yn=le[Et];Se(Ze,yn,me(yn),le)}return Ze}function Aa(le,Se){for(var me=-1,Ze=le==null?0:le.length;++me<Ze&&Se(le[me],me,le)!==!1;);return le}function jV(le,Se){for(var me=le==null?0:le.length;me--&&Se(le[me],me,le)!==!1;);return le}function pR(le,Se){for(var me=-1,Ze=le==null?0:le.length;++me<Ze;)if(!Se(le[me],me,le))return!1;return!0}function Ls(le,Se){for(var me=-1,Ze=le==null?0:le.length,Et=0,ir=[];++me<Ze;){var yn=le[me];Se(yn,me,le)&&(ir[Et++]=yn)}return ir}function g0(le,Se){var me=le==null?0:le.length;return!!me&&hc(le,Se,0)>-1}function tx(le,Se,me){for(var Ze=-1,Et=le==null?0:le.length;++Ze<Et;)if(me(Se,le[Ze]))return!0;return!1}function Fr(le,Se){for(var me=-1,Ze=le==null?0:le.length,Et=Array(Ze);++me<Ze;)Et[me]=Se(le[me],me,le);return Et}function Bs(le,Se){for(var me=-1,Ze=Se.length,Et=le.length;++me<Ze;)le[Et+me]=Se[me];return le}function rx(le,Se,me,Ze){var Et=-1,ir=le==null?0:le.length;for(Ze&&ir&&(me=le[++Et]);++Et<ir;)me=Se(me,le[Et],Et,le);return me}function $V(le,Se,me,Ze){var Et=le==null?0:le.length;for(Ze&&Et&&(me=le[--Et]);Et--;)me=Se(me,le[Et],Et,le);return me}function nx(le,Se){for(var me=-1,Ze=le==null?0:le.length;++me<Ze;)if(Se(le[me],me,le))return!0;return!1}var VV=ix("length");function GV(le){return le.split("")}function WV(le){return le.match(L_)||[]}function vR(le,Se,me){var Ze;return me(le,function(Et,ir,yn){if(Se(Et,ir,yn))return Ze=ir,!1}),Ze}function m0(le,Se,me,Ze){for(var Et=le.length,ir=me+(Ze?1:-1);Ze?ir--:++ir<Et;)if(Se(le[ir],ir,le))return ir;return-1}function hc(le,Se,me){return Se===Se?rG(le,Se,me):m0(le,gR,me)}function zV(le,Se,me,Ze){for(var Et=me-1,ir=le.length;++Et<ir;)if(Ze(le[Et],Se))return Et;return-1}function gR(le){return le!==le}function mR(le,Se){var me=le==null?0:le.length;return me?ox(le,Se)/me:z}function ix(le){return function(Se){return Se==null?r:Se[le]}}function ax(le){return function(Se){return le==null?r:le[Se]}}function yR(le,Se,me,Ze,Et){return Et(le,function(ir,yn,mr){me=Ze?(Ze=!1,ir):Se(me,ir,yn,mr)}),me}function HV(le,Se){var me=le.length;for(le.sort(Se);me--;)le[me]=le[me].value;return le}function ox(le,Se){for(var me,Ze=-1,Et=le.length;++Ze<Et;){var ir=Se(le[Ze]);ir!==r&&(me=me===r?ir:me+ir)}return me}function sx(le,Se){for(var me=-1,Ze=Array(le);++me<le;)Ze[me]=Se(me);return Ze}function XV(le,Se){return Fr(Se,function(me){return[me,le[me]]})}function _R(le){return le&&le.slice(0,ER(le)+1).replace($i,"")}function oa(le){return function(Se){return le(Se)}}function lx(le,Se){return Fr(Se,function(me){return le[me]})}function yh(le,Se){return le.has(Se)}function xR(le,Se){for(var me=-1,Ze=le.length;++me<Ze&&hc(Se,le[me],0)>-1;);return me}function bR(le,Se){for(var me=le.length;me--&&hc(Se,le[me],0)>-1;);return me}function YV(le,Se){for(var me=le.length,Ze=0;me--;)le[me]===Se&&++Ze;return Ze}var qV=ax(kV),KV=ax(FV);function ZV(le){return"\\"+MV[le]}function QV(le,Se){return le==null?r:le[Se]}function dc(le){return PV.test(le)}function JV(le){return OV.test(le)}function eG(le){for(var Se,me=[];!(Se=le.next()).done;)me.push(Se.value);return me}function ux(le){var Se=-1,me=Array(le.size);return le.forEach(function(Ze,Et){me[++Se]=[Et,Ze]}),me}function SR(le,Se){return function(me){return le(Se(me))}}function Ns(le,Se){for(var me=-1,Ze=le.length,Et=0,ir=[];++me<Ze;){var yn=le[me];(yn===Se||yn===u)&&(le[me]=u,ir[Et++]=me)}return ir}function y0(le){var Se=-1,me=Array(le.size);return le.forEach(function(Ze){me[++Se]=Ze}),me}function tG(le){var Se=-1,me=Array(le.size);return le.forEach(function(Ze){me[++Se]=[Ze,Ze]}),me}function rG(le,Se,me){for(var Ze=me-1,Et=le.length;++Ze<Et;)if(le[Ze]===Se)return Ze;return-1}function nG(le,Se,me){for(var Ze=me+1;Ze--;)if(le[Ze]===Se)return Ze;return Ze}function pc(le){return dc(le)?aG(le):VV(le)}function Xa(le){return dc(le)?oG(le):GV(le)}function ER(le){for(var Se=le.length;Se--&&Gl.test(le.charAt(Se)););return Se}var iG=ax(DV);function aG(le){for(var Se=Q_.lastIndex=0;Q_.test(le);)++Se;return Se}function oG(le){return le.match(Q_)||[]}function sG(le){return le.match(TV)||[]}var lG=function le(Se){Se=Se==null?Kn:vc.defaults(Kn.Object(),Se,vc.pick(Kn,RV));var me=Se.Array,Ze=Se.Date,Et=Se.Error,ir=Se.Function,yn=Se.Math,mr=Se.Object,cx=Se.RegExp,uG=Se.String,Ta=Se.TypeError,_0=me.prototype,cG=ir.prototype,gc=mr.prototype,x0=Se["__core-js_shared__"],b0=cG.toString,cr=gc.hasOwnProperty,fG=0,wR=function(){var _=/[^.]+$/.exec(x0&&x0.keys&&x0.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),S0=gc.toString,hG=b0.call(mr),dG=Kn._,pG=cx("^"+b0.call(cr).replace(oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E0=sR?Se.Buffer:r,Us=Se.Symbol,w0=Se.Uint8Array,CR=E0?E0.allocUnsafe:r,C0=SR(mr.getPrototypeOf,mr),AR=mr.create,TR=gc.propertyIsEnumerable,A0=_0.splice,PR=Us?Us.isConcatSpreadable:r,_h=Us?Us.iterator:r,Hl=Us?Us.toStringTag:r,T0=function(){try{var _=Zl(mr,"defineProperty");return _({},"",{}),_}catch{}}(),vG=Se.clearTimeout!==Kn.clearTimeout&&Se.clearTimeout,gG=Ze&&Ze.now!==Kn.Date.now&&Ze.now,mG=Se.setTimeout!==Kn.setTimeout&&Se.setTimeout,P0=yn.ceil,O0=yn.floor,fx=mr.getOwnPropertySymbols,yG=E0?E0.isBuffer:r,OR=Se.isFinite,_G=_0.join,xG=SR(mr.keys,mr),_n=yn.max,si=yn.min,bG=Ze.now,SG=Se.parseInt,RR=yn.random,EG=_0.reverse,hx=Zl(Se,"DataView"),xh=Zl(Se,"Map"),dx=Zl(Se,"Promise"),mc=Zl(Se,"Set"),bh=Zl(Se,"WeakMap"),Sh=Zl(mr,"create"),R0=bh&&new bh,yc={},wG=Ql(hx),CG=Ql(xh),AG=Ql(dx),TG=Ql(mc),PG=Ql(bh),I0=Us?Us.prototype:r,Eh=I0?I0.valueOf:r,IR=I0?I0.toString:r;function G(_){if(qr(_)&&!wt(_)&&!(_ instanceof jt)){if(_ instanceof Pa)return _;if(cr.call(_,"__wrapped__"))return kI(_)}return new Pa(_)}var _c=function(){function _(){}return function(E){if(!$r(E))return{};if(AR)return AR(E);_.prototype=E;var T=new _;return _.prototype=r,T}}();function k0(){}function Pa(_,E){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=r}G.templateSettings={escape:wa,evaluate:So,interpolate:Si,variable:"",imports:{_:G}},G.prototype=k0.prototype,G.prototype.constructor=G,Pa.prototype=_c(k0.prototype),Pa.prototype.constructor=Pa;function jt(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function OG(){var _=new jt(this.__wrapped__);return _.__actions__=Vi(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Vi(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Vi(this.__views__),_}function RG(){if(this.__filtered__){var _=new jt(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function IG(){var _=this.__wrapped__.value(),E=this.__dir__,T=wt(_),F=E<0,N=T?_.length:0,q=G7(0,N,this.__views__),ee=q.start,ne=q.end,fe=ne-ee,Ae=F?ne:ee-1,Te=this.__iteratees__,Oe=Te.length,We=0,nt=si(fe,this.__takeCount__);if(!T||!F&&N==fe&&nt==fe)return tI(_,this.__actions__);var ct=[];e:for(;fe--&&We<nt;){Ae+=E;for(var kt=-1,ft=_[Ae];++kt<Oe;){var Nt=Te[kt],Wt=Nt.iteratee,ua=Nt.type,Ti=Wt(ft);if(ua==L)ft=Ti;else if(!Ti){if(ua==D)continue e;break e}}ct[We++]=ft}return ct}jt.prototype=_c(k0.prototype),jt.prototype.constructor=jt;function Xl(_){var E=-1,T=_==null?0:_.length;for(this.clear();++E<T;){var F=_[E];this.set(F[0],F[1])}}function kG(){this.__data__=Sh?Sh(null):{},this.size=0}function FG(_){var E=this.has(_)&&delete this.__data__[_];return this.size-=E?1:0,E}function DG(_){var E=this.__data__;if(Sh){var T=E[_];return T===c?r:T}return cr.call(E,_)?E[_]:r}function MG(_){var E=this.__data__;return Sh?E[_]!==r:cr.call(E,_)}function LG(_,E){var T=this.__data__;return this.size+=this.has(_)?0:1,T[_]=Sh&&E===r?c:E,this}Xl.prototype.clear=kG,Xl.prototype.delete=FG,Xl.prototype.get=DG,Xl.prototype.has=MG,Xl.prototype.set=LG;function rs(_){var E=-1,T=_==null?0:_.length;for(this.clear();++E<T;){var F=_[E];this.set(F[0],F[1])}}function BG(){this.__data__=[],this.size=0}function NG(_){var E=this.__data__,T=F0(E,_);if(T<0)return!1;var F=E.length-1;return T==F?E.pop():A0.call(E,T,1),--this.size,!0}function UG(_){var E=this.__data__,T=F0(E,_);return T<0?r:E[T][1]}function jG(_){return F0(this.__data__,_)>-1}function $G(_,E){var T=this.__data__,F=F0(T,_);return F<0?(++this.size,T.push([_,E])):T[F][1]=E,this}rs.prototype.clear=BG,rs.prototype.delete=NG,rs.prototype.get=UG,rs.prototype.has=jG,rs.prototype.set=$G;function ns(_){var E=-1,T=_==null?0:_.length;for(this.clear();++E<T;){var F=_[E];this.set(F[0],F[1])}}function VG(){this.size=0,this.__data__={hash:new Xl,map:new(xh||rs),string:new Xl}}function GG(_){var E=z0(this,_).delete(_);return this.size-=E?1:0,E}function WG(_){return z0(this,_).get(_)}function zG(_){return z0(this,_).has(_)}function HG(_,E){var T=z0(this,_),F=T.size;return T.set(_,E),this.size+=T.size==F?0:1,this}ns.prototype.clear=VG,ns.prototype.delete=GG,ns.prototype.get=WG,ns.prototype.has=zG,ns.prototype.set=HG;function Yl(_){var E=-1,T=_==null?0:_.length;for(this.__data__=new ns;++E<T;)this.add(_[E])}function XG(_){return this.__data__.set(_,c),this}function YG(_){return this.__data__.has(_)}Yl.prototype.add=Yl.prototype.push=XG,Yl.prototype.has=YG;function Ya(_){var E=this.__data__=new rs(_);this.size=E.size}function qG(){this.__data__=new rs,this.size=0}function KG(_){var E=this.__data__,T=E.delete(_);return this.size=E.size,T}function ZG(_){return this.__data__.get(_)}function QG(_){return this.__data__.has(_)}function JG(_,E){var T=this.__data__;if(T instanceof rs){var F=T.__data__;if(!xh||F.length<i-1)return F.push([_,E]),this.size=++T.size,this;T=this.__data__=new ns(F)}return T.set(_,E),this.size=T.size,this}Ya.prototype.clear=qG,Ya.prototype.delete=KG,Ya.prototype.get=ZG,Ya.prototype.has=QG,Ya.prototype.set=JG;function kR(_,E){var T=wt(_),F=!T&&Jl(_),N=!T&&!F&&Ws(_),q=!T&&!F&&!N&&Ec(_),ee=T||F||N||q,ne=ee?sx(_.length,uG):[],fe=ne.length;for(var Ae in _)(E||cr.call(_,Ae))&&!(ee&&(Ae=="length"||N&&(Ae=="offset"||Ae=="parent")||q&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||ss(Ae,fe)))&&ne.push(Ae);return ne}function FR(_){var E=_.length;return E?_[wx(0,E-1)]:r}function e7(_,E){return H0(Vi(_),ql(E,0,_.length))}function t7(_){return H0(Vi(_))}function px(_,E,T){(T!==r&&!qa(_[E],T)||T===r&&!(E in _))&&is(_,E,T)}function wh(_,E,T){var F=_[E];(!(cr.call(_,E)&&qa(F,T))||T===r&&!(E in _))&&is(_,E,T)}function F0(_,E){for(var T=_.length;T--;)if(qa(_[T][0],E))return T;return-1}function r7(_,E,T,F){return js(_,function(N,q,ee){E(F,N,T(N),ee)}),F}function DR(_,E){return _&&Co(E,Ln(E),_)}function n7(_,E){return _&&Co(E,Wi(E),_)}function is(_,E,T){E=="__proto__"&&T0?T0(_,E,{configurable:!0,enumerable:!0,value:T,writable:!0}):_[E]=T}function vx(_,E){for(var T=-1,F=E.length,N=me(F),q=_==null;++T<F;)N[T]=q?r:qx(_,E[T]);return N}function ql(_,E,T){return _===_&&(T!==r&&(_=_<=T?_:T),E!==r&&(_=_>=E?_:E)),_}function Oa(_,E,T,F,N,q){var ee,ne=E&f,fe=E&h,Ae=E&d;if(T&&(ee=N?T(_,F,N,q):T(_)),ee!==r)return ee;if(!$r(_))return _;var Te=wt(_);if(Te){if(ee=z7(_),!ne)return Vi(_,ee)}else{var Oe=li(_),We=Oe==we||Oe==_e;if(Ws(_))return iI(_,ne);if(Oe==Fe||Oe==Q||We&&!N){if(ee=fe||We?{}:EI(_),!ne)return fe?D7(_,n7(ee,_)):F7(_,DR(ee,_))}else{if(!_r[Oe])return N?_:{};ee=H7(_,Oe,ne)}}q||(q=new Ya);var nt=q.get(_);if(nt)return nt;q.set(_,ee),QI(_)?_.forEach(function(ft){ee.add(Oa(ft,E,T,ft,_,q))}):KI(_)&&_.forEach(function(ft,Nt){ee.set(Nt,Oa(ft,E,T,Nt,_,q))});var ct=Ae?fe?Mx:Dx:fe?Wi:Ln,kt=Te?r:ct(_);return Aa(kt||_,function(ft,Nt){kt&&(Nt=ft,ft=_[Nt]),wh(ee,Nt,Oa(ft,E,T,Nt,_,q))}),ee}function i7(_){var E=Ln(_);return function(T){return MR(T,_,E)}}function MR(_,E,T){var F=T.length;if(_==null)return!F;for(_=mr(_);F--;){var N=T[F],q=E[N],ee=_[N];if(ee===r&&!(N in _)||!q(ee))return!1}return!0}function LR(_,E,T){if(typeof _!="function")throw new Ta(o);return Ih(function(){_.apply(r,T)},E)}function Ch(_,E,T,F){var N=-1,q=g0,ee=!0,ne=_.length,fe=[],Ae=E.length;if(!ne)return fe;T&&(E=Fr(E,oa(T))),F?(q=tx,ee=!1):E.length>=i&&(q=yh,ee=!1,E=new Yl(E));e:for(;++N<ne;){var Te=_[N],Oe=T==null?Te:T(Te);if(Te=F||Te!==0?Te:0,ee&&Oe===Oe){for(var We=Ae;We--;)if(E[We]===Oe)continue e;fe.push(Te)}else q(E,Oe,F)||fe.push(Te)}return fe}var js=uI(wo),BR=uI(mx,!0);function a7(_,E){var T=!0;return js(_,function(F,N,q){return T=!!E(F,N,q),T}),T}function D0(_,E,T){for(var F=-1,N=_.length;++F<N;){var q=_[F],ee=E(q);if(ee!=null&&(ne===r?ee===ee&&!la(ee):T(ee,ne)))var ne=ee,fe=q}return fe}function o7(_,E,T,F){var N=_.length;for(T=Tt(T),T<0&&(T=-T>N?0:N+T),F=F===r||F>N?N:Tt(F),F<0&&(F+=N),F=T>F?0:ek(F);T<F;)_[T++]=E;return _}function NR(_,E){var T=[];return js(_,function(F,N,q){E(F,N,q)&&T.push(F)}),T}function Zn(_,E,T,F,N){var q=-1,ee=_.length;for(T||(T=Y7),N||(N=[]);++q<ee;){var ne=_[q];E>0&&T(ne)?E>1?Zn(ne,E-1,T,F,N):Bs(N,ne):F||(N[N.length]=ne)}return N}var gx=cI(),UR=cI(!0);function wo(_,E){return _&&gx(_,E,Ln)}function mx(_,E){return _&&UR(_,E,Ln)}function M0(_,E){return Ls(E,function(T){return ls(_[T])})}function Kl(_,E){E=Vs(E,_);for(var T=0,F=E.length;_!=null&&T<F;)_=_[Ao(E[T++])];return T&&T==F?_:r}function jR(_,E,T){var F=E(_);return wt(_)?F:Bs(F,T(_))}function Ci(_){return _==null?_===r?qt:Xe:Hl&&Hl in mr(_)?V7(_):tW(_)}function yx(_,E){return _>E}function s7(_,E){return _!=null&&cr.call(_,E)}function l7(_,E){return _!=null&&E in mr(_)}function u7(_,E,T){return _>=si(E,T)&&_<_n(E,T)}function _x(_,E,T){for(var F=T?tx:g0,N=_[0].length,q=_.length,ee=q,ne=me(q),fe=1/0,Ae=[];ee--;){var Te=_[ee];ee&&E&&(Te=Fr(Te,oa(E))),fe=si(Te.length,fe),ne[ee]=!T&&(E||N>=120&&Te.length>=120)?new Yl(ee&&Te):r}Te=_[0];var Oe=-1,We=ne[0];e:for(;++Oe<N&&Ae.length<fe;){var nt=Te[Oe],ct=E?E(nt):nt;if(nt=T||nt!==0?nt:0,!(We?yh(We,ct):F(Ae,ct,T))){for(ee=q;--ee;){var kt=ne[ee];if(!(kt?yh(kt,ct):F(_[ee],ct,T)))continue e}We&&We.push(ct),Ae.push(nt)}}return Ae}function c7(_,E,T,F){return wo(_,function(N,q,ee){E(F,T(N),q,ee)}),F}function Ah(_,E,T){E=Vs(E,_),_=TI(_,E);var F=_==null?_:_[Ao(Ia(E))];return F==null?r:aa(F,_,T)}function $R(_){return qr(_)&&Ci(_)==Q}function f7(_){return qr(_)&&Ci(_)==Gt}function h7(_){return qr(_)&&Ci(_)==be}function Th(_,E,T,F,N){return _===E?!0:_==null||E==null||!qr(_)&&!qr(E)?_!==_&&E!==E:d7(_,E,T,F,Th,N)}function d7(_,E,T,F,N,q){var ee=wt(_),ne=wt(E),fe=ee?ie:li(_),Ae=ne?ie:li(E);fe=fe==Q?Fe:fe,Ae=Ae==Q?Fe:Ae;var Te=fe==Fe,Oe=Ae==Fe,We=fe==Ae;if(We&&Ws(_)){if(!Ws(E))return!1;ee=!0,Te=!1}if(We&&!Te)return q||(q=new Ya),ee||Ec(_)?xI(_,E,T,F,N,q):j7(_,E,fe,T,F,N,q);if(!(T&p)){var nt=Te&&cr.call(_,"__wrapped__"),ct=Oe&&cr.call(E,"__wrapped__");if(nt||ct){var kt=nt?_.value():_,ft=ct?E.value():E;return q||(q=new Ya),N(kt,ft,T,F,q)}}return We?(q||(q=new Ya),$7(_,E,T,F,N,q)):!1}function p7(_){return qr(_)&&li(_)==xe}function xx(_,E,T,F){var N=T.length,q=N,ee=!F;if(_==null)return!q;for(_=mr(_);N--;){var ne=T[N];if(ee&&ne[2]?ne[1]!==_[ne[0]]:!(ne[0]in _))return!1}for(;++N<q;){ne=T[N];var fe=ne[0],Ae=_[fe],Te=ne[1];if(ee&&ne[2]){if(Ae===r&&!(fe in _))return!1}else{var Oe=new Ya;if(F)var We=F(Ae,Te,fe,_,E,Oe);if(!(We===r?Th(Te,Ae,p|v,F,Oe):We))return!1}}return!0}function VR(_){if(!$r(_)||K7(_))return!1;var E=ls(_)?pG:V_;return E.test(Ql(_))}function v7(_){return qr(_)&&Ci(_)==yt}function g7(_){return qr(_)&&li(_)==tt}function m7(_){return qr(_)&&Q0(_.length)&&!!Ar[Ci(_)]}function GR(_){return typeof _=="function"?_:_==null?zi:typeof _=="object"?wt(_)?HR(_[0],_[1]):zR(_):fk(_)}function bx(_){if(!Rh(_))return xG(_);var E=[];for(var T in mr(_))cr.call(_,T)&&T!="constructor"&&E.push(T);return E}function y7(_){if(!$r(_))return eW(_);var E=Rh(_),T=[];for(var F in _)F=="constructor"&&(E||!cr.call(_,F))||T.push(F);return T}function Sx(_,E){return _<E}function WR(_,E){var T=-1,F=Gi(_)?me(_.length):[];return js(_,function(N,q,ee){F[++T]=E(N,q,ee)}),F}function zR(_){var E=Bx(_);return E.length==1&&E[0][2]?CI(E[0][0],E[0][1]):function(T){return T===_||xx(T,_,E)}}function HR(_,E){return Ux(_)&&wI(E)?CI(Ao(_),E):function(T){var F=qx(T,_);return F===r&&F===E?Kx(T,_):Th(E,F,p|v)}}function L0(_,E,T,F,N){_!==E&&gx(E,function(q,ee){if(N||(N=new Ya),$r(q))_7(_,E,ee,T,L0,F,N);else{var ne=F?F($x(_,ee),q,ee+"",_,E,N):r;ne===r&&(ne=q),px(_,ee,ne)}},Wi)}function _7(_,E,T,F,N,q,ee){var ne=$x(_,T),fe=$x(E,T),Ae=ee.get(fe);if(Ae){px(_,T,Ae);return}var Te=q?q(ne,fe,T+"",_,E,ee):r,Oe=Te===r;if(Oe){var We=wt(fe),nt=!We&&Ws(fe),ct=!We&&!nt&&Ec(fe);Te=fe,We||nt||ct?wt(ne)?Te=ne:tn(ne)?Te=Vi(ne):nt?(Oe=!1,Te=iI(fe,!0)):ct?(Oe=!1,Te=aI(fe,!0)):Te=[]:kh(fe)||Jl(fe)?(Te=ne,Jl(ne)?Te=tk(ne):(!$r(ne)||ls(ne))&&(Te=EI(fe))):Oe=!1}Oe&&(ee.set(fe,Te),N(Te,fe,F,q,ee),ee.delete(fe)),px(_,T,Te)}function XR(_,E){var T=_.length;if(T)return E+=E<0?T:0,ss(E,T)?_[E]:r}function YR(_,E,T){E.length?E=Fr(E,function(q){return wt(q)?function(ee){return Kl(ee,q.length===1?q[0]:q)}:q}):E=[zi];var F=-1;E=Fr(E,oa(ut()));var N=WR(_,function(q,ee,ne){var fe=Fr(E,function(Ae){return Ae(q)});return{criteria:fe,index:++F,value:q}});return HV(N,function(q,ee){return k7(q,ee,T)})}function x7(_,E){return qR(_,E,function(T,F){return Kx(_,F)})}function qR(_,E,T){for(var F=-1,N=E.length,q={};++F<N;){var ee=E[F],ne=Kl(_,ee);T(ne,ee)&&Ph(q,Vs(ee,_),ne)}return q}function b7(_){return function(E){return Kl(E,_)}}function Ex(_,E,T,F){var N=F?zV:hc,q=-1,ee=E.length,ne=_;for(_===E&&(E=Vi(E)),T&&(ne=Fr(_,oa(T)));++q<ee;)for(var fe=0,Ae=E[q],Te=T?T(Ae):Ae;(fe=N(ne,Te,fe,F))>-1;)ne!==_&&A0.call(ne,fe,1),A0.call(_,fe,1);return _}function KR(_,E){for(var T=_?E.length:0,F=T-1;T--;){var N=E[T];if(T==F||N!==q){var q=N;ss(N)?A0.call(_,N,1):Tx(_,N)}}return _}function wx(_,E){return _+O0(RR()*(E-_+1))}function S7(_,E,T,F){for(var N=-1,q=_n(P0((E-_)/(T||1)),0),ee=me(q);q--;)ee[F?q:++N]=_,_+=T;return ee}function Cx(_,E){var T="";if(!_||E<1||E>te)return T;do E%2&&(T+=_),E=O0(E/2),E&&(_+=_);while(E);return T}function Dt(_,E){return Vx(AI(_,E,zi),_+"")}function E7(_){return FR(wc(_))}function w7(_,E){var T=wc(_);return H0(T,ql(E,0,T.length))}function Ph(_,E,T,F){if(!$r(_))return _;E=Vs(E,_);for(var N=-1,q=E.length,ee=q-1,ne=_;ne!=null&&++N<q;){var fe=Ao(E[N]),Ae=T;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return _;if(N!=ee){var Te=ne[fe];Ae=F?F(Te,fe,ne):r,Ae===r&&(Ae=$r(Te)?Te:ss(E[N+1])?[]:{})}wh(ne,fe,Ae),ne=ne[fe]}return _}var ZR=R0?function(_,E){return R0.set(_,E),_}:zi,C7=T0?function(_,E){return T0(_,"toString",{configurable:!0,enumerable:!1,value:Qx(E),writable:!0})}:zi;function A7(_){return H0(wc(_))}function Ra(_,E,T){var F=-1,N=_.length;E<0&&(E=-E>N?0:N+E),T=T>N?N:T,T<0&&(T+=N),N=E>T?0:T-E>>>0,E>>>=0;for(var q=me(N);++F<N;)q[F]=_[F+E];return q}function T7(_,E){var T;return js(_,function(F,N,q){return T=E(F,N,q),!T}),!!T}function B0(_,E,T){var F=0,N=_==null?F:_.length;if(typeof E=="number"&&E===E&&N<=$){for(;F<N;){var q=F+N>>>1,ee=_[q];ee!==null&&!la(ee)&&(T?ee<=E:ee<E)?F=q+1:N=q}return N}return Ax(_,E,zi,T)}function Ax(_,E,T,F){var N=0,q=_==null?0:_.length;if(q===0)return 0;E=T(E);for(var ee=E!==E,ne=E===null,fe=la(E),Ae=E===r;N<q;){var Te=O0((N+q)/2),Oe=T(_[Te]),We=Oe!==r,nt=Oe===null,ct=Oe===Oe,kt=la(Oe);if(ee)var ft=F||ct;else Ae?ft=ct&&(F||We):ne?ft=ct&&We&&(F||!nt):fe?ft=ct&&We&&!nt&&(F||!kt):nt||kt?ft=!1:ft=F?Oe<=E:Oe<E;ft?N=Te+1:q=Te}return si(q,V)}function QR(_,E){for(var T=-1,F=_.length,N=0,q=[];++T<F;){var ee=_[T],ne=E?E(ee):ee;if(!T||!qa(ne,fe)){var fe=ne;q[N++]=ee===0?0:ee}}return q}function JR(_){return typeof _=="number"?_:la(_)?z:+_}function sa(_){if(typeof _=="string")return _;if(wt(_))return Fr(_,sa)+"";if(la(_))return IR?IR.call(_):"";var E=_+"";return E=="0"&&1/_==-W?"-0":E}function $s(_,E,T){var F=-1,N=g0,q=_.length,ee=!0,ne=[],fe=ne;if(T)ee=!1,N=tx;else if(q>=i){var Ae=E?null:N7(_);if(Ae)return y0(Ae);ee=!1,N=yh,fe=new Yl}else fe=E?[]:ne;e:for(;++F<q;){var Te=_[F],Oe=E?E(Te):Te;if(Te=T||Te!==0?Te:0,ee&&Oe===Oe){for(var We=fe.length;We--;)if(fe[We]===Oe)continue e;E&&fe.push(Oe),ne.push(Te)}else N(fe,Oe,T)||(fe!==ne&&fe.push(Oe),ne.push(Te))}return ne}function Tx(_,E){return E=Vs(E,_),_=TI(_,E),_==null||delete _[Ao(Ia(E))]}function eI(_,E,T,F){return Ph(_,E,T(Kl(_,E)),F)}function N0(_,E,T,F){for(var N=_.length,q=F?N:-1;(F?q--:++q<N)&&E(_[q],q,_););return T?Ra(_,F?0:q,F?q+1:N):Ra(_,F?q+1:0,F?N:q)}function tI(_,E){var T=_;return T instanceof jt&&(T=T.value()),rx(E,function(F,N){return N.func.apply(N.thisArg,Bs([F],N.args))},T)}function Px(_,E,T){var F=_.length;if(F<2)return F?$s(_[0]):[];for(var N=-1,q=me(F);++N<F;)for(var ee=_[N],ne=-1;++ne<F;)ne!=N&&(q[N]=Ch(q[N]||ee,_[ne],E,T));return $s(Zn(q,1),E,T)}function rI(_,E,T){for(var F=-1,N=_.length,q=E.length,ee={};++F<N;){var ne=F<q?E[F]:r;T(ee,_[F],ne)}return ee}function Ox(_){return tn(_)?_:[]}function Rx(_){return typeof _=="function"?_:zi}function Vs(_,E){return wt(_)?_:Ux(_,E)?[_]:II(lr(_))}var P7=Dt;function Gs(_,E,T){var F=_.length;return T=T===r?F:T,!E&&T>=F?_:Ra(_,E,T)}var nI=vG||function(_){return Kn.clearTimeout(_)};function iI(_,E){if(E)return _.slice();var T=_.length,F=CR?CR(T):new _.constructor(T);return _.copy(F),F}function Ix(_){var E=new _.constructor(_.byteLength);return new w0(E).set(new w0(_)),E}function O7(_,E){var T=E?Ix(_.buffer):_.buffer;return new _.constructor(T,_.byteOffset,_.byteLength)}function R7(_){var E=new _.constructor(_.source,u0.exec(_));return E.lastIndex=_.lastIndex,E}function I7(_){return Eh?mr(Eh.call(_)):{}}function aI(_,E){var T=E?Ix(_.buffer):_.buffer;return new _.constructor(T,_.byteOffset,_.length)}function oI(_,E){if(_!==E){var T=_!==r,F=_===null,N=_===_,q=la(_),ee=E!==r,ne=E===null,fe=E===E,Ae=la(E);if(!ne&&!Ae&&!q&&_>E||q&&ee&&fe&&!ne&&!Ae||F&&ee&&fe||!T&&fe||!N)return 1;if(!F&&!q&&!Ae&&_<E||Ae&&T&&N&&!F&&!q||ne&&T&&N||!ee&&N||!fe)return-1}return 0}function k7(_,E,T){for(var F=-1,N=_.criteria,q=E.criteria,ee=N.length,ne=T.length;++F<ee;){var fe=oI(N[F],q[F]);if(fe){if(F>=ne)return fe;var Ae=T[F];return fe*(Ae=="desc"?-1:1)}}return _.index-E.index}function sI(_,E,T,F){for(var N=-1,q=_.length,ee=T.length,ne=-1,fe=E.length,Ae=_n(q-ee,0),Te=me(fe+Ae),Oe=!F;++ne<fe;)Te[ne]=E[ne];for(;++N<ee;)(Oe||N<q)&&(Te[T[N]]=_[N]);for(;Ae--;)Te[ne++]=_[N++];return Te}function lI(_,E,T,F){for(var N=-1,q=_.length,ee=-1,ne=T.length,fe=-1,Ae=E.length,Te=_n(q-ne,0),Oe=me(Te+Ae),We=!F;++N<Te;)Oe[N]=_[N];for(var nt=N;++fe<Ae;)Oe[nt+fe]=E[fe];for(;++ee<ne;)(We||N<q)&&(Oe[nt+T[ee]]=_[N++]);return Oe}function Vi(_,E){var T=-1,F=_.length;for(E||(E=me(F));++T<F;)E[T]=_[T];return E}function Co(_,E,T,F){var N=!T;T||(T={});for(var q=-1,ee=E.length;++q<ee;){var ne=E[q],fe=F?F(T[ne],_[ne],ne,T,_):r;fe===r&&(fe=_[ne]),N?is(T,ne,fe):wh(T,ne,fe)}return T}function F7(_,E){return Co(_,Nx(_),E)}function D7(_,E){return Co(_,bI(_),E)}function U0(_,E){return function(T,F){var N=wt(T)?UV:r7,q=E?E():{};return N(T,_,ut(F,2),q)}}function xc(_){return Dt(function(E,T){var F=-1,N=T.length,q=N>1?T[N-1]:r,ee=N>2?T[2]:r;for(q=_.length>3&&typeof q=="function"?(N--,q):r,ee&&Ai(T[0],T[1],ee)&&(q=N<3?r:q,N=1),E=mr(E);++F<N;){var ne=T[F];ne&&_(E,ne,F,q)}return E})}function uI(_,E){return function(T,F){if(T==null)return T;if(!Gi(T))return _(T,F);for(var N=T.length,q=E?N:-1,ee=mr(T);(E?q--:++q<N)&&F(ee[q],q,ee)!==!1;);return T}}function cI(_){return function(E,T,F){for(var N=-1,q=mr(E),ee=F(E),ne=ee.length;ne--;){var fe=ee[_?ne:++N];if(T(q[fe],fe,q)===!1)break}return E}}function M7(_,E,T){var F=E&y,N=Oh(_);function q(){var ee=this&&this!==Kn&&this instanceof q?N:_;return ee.apply(F?T:this,arguments)}return q}function fI(_){return function(E){E=lr(E);var T=dc(E)?Xa(E):r,F=T?T[0]:E.charAt(0),N=T?Gs(T,1).join(""):E.slice(1);return F[_]()+N}}function bc(_){return function(E){return rx(uk(lk(E).replace(CV,"")),_,"")}}function Oh(_){return function(){var E=arguments;switch(E.length){case 0:return new _;case 1:return new _(E[0]);case 2:return new _(E[0],E[1]);case 3:return new _(E[0],E[1],E[2]);case 4:return new _(E[0],E[1],E[2],E[3]);case 5:return new _(E[0],E[1],E[2],E[3],E[4]);case 6:return new _(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new _(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var T=_c(_.prototype),F=_.apply(T,E);return $r(F)?F:T}}function L7(_,E,T){var F=Oh(_);function N(){for(var q=arguments.length,ee=me(q),ne=q,fe=Sc(N);ne--;)ee[ne]=arguments[ne];var Ae=q<3&&ee[0]!==fe&&ee[q-1]!==fe?[]:Ns(ee,fe);if(q-=Ae.length,q<T)return gI(_,E,j0,N.placeholder,r,ee,Ae,r,r,T-q);var Te=this&&this!==Kn&&this instanceof N?F:_;return aa(Te,this,ee)}return N}function hI(_){return function(E,T,F){var N=mr(E);if(!Gi(E)){var q=ut(T,3);E=Ln(E),T=function(ne){return q(N[ne],ne,N)}}var ee=_(E,T,F);return ee>-1?N[q?E[ee]:ee]:r}}function dI(_){return os(function(E){var T=E.length,F=T,N=Pa.prototype.thru;for(_&&E.reverse();F--;){var q=E[F];if(typeof q!="function")throw new Ta(o);if(N&&!ee&&W0(q)=="wrapper")var ee=new Pa([],!0)}for(F=ee?F:T;++F<T;){q=E[F];var ne=W0(q),fe=ne=="wrapper"?Lx(q):r;fe&&jx(fe[0])&&fe[1]==(C|x|b|A)&&!fe[4].length&&fe[9]==1?ee=ee[W0(fe[0])].apply(ee,fe[3]):ee=q.length==1&&jx(q)?ee[ne]():ee.thru(q)}return function(){var Ae=arguments,Te=Ae[0];if(ee&&Ae.length==1&&wt(Te))return ee.plant(Te).value();for(var Oe=0,We=T?E[Oe].apply(this,Ae):Te;++Oe<T;)We=E[Oe].call(this,We);return We}})}function j0(_,E,T,F,N,q,ee,ne,fe,Ae){var Te=E&C,Oe=E&y,We=E&m,nt=E&(x|S),ct=E&P,kt=We?r:Oh(_);function ft(){for(var Nt=arguments.length,Wt=me(Nt),ua=Nt;ua--;)Wt[ua]=arguments[ua];if(nt)var Ti=Sc(ft),ca=YV(Wt,Ti);if(F&&(Wt=sI(Wt,F,N,nt)),q&&(Wt=lI(Wt,q,ee,nt)),Nt-=ca,nt&&Nt<Ae){var rn=Ns(Wt,Ti);return gI(_,E,j0,ft.placeholder,T,Wt,rn,ne,fe,Ae-Nt)}var Ka=Oe?T:this,cs=We?Ka[_]:_;return Nt=Wt.length,ne?Wt=rW(Wt,ne):ct&&Nt>1&&Wt.reverse(),Te&&fe<Nt&&(Wt.length=fe),this&&this!==Kn&&this instanceof ft&&(cs=kt||Oh(cs)),cs.apply(Ka,Wt)}return ft}function pI(_,E){return function(T,F){return c7(T,_,E(F),{})}}function $0(_,E){return function(T,F){var N;if(T===r&&F===r)return E;if(T!==r&&(N=T),F!==r){if(N===r)return F;typeof T=="string"||typeof F=="string"?(T=sa(T),F=sa(F)):(T=JR(T),F=JR(F)),N=_(T,F)}return N}}function kx(_){return os(function(E){return E=Fr(E,oa(ut())),Dt(function(T){var F=this;return _(E,function(N){return aa(N,F,T)})})})}function V0(_,E){E=E===r?" ":sa(E);var T=E.length;if(T<2)return T?Cx(E,_):E;var F=Cx(E,P0(_/pc(E)));return dc(E)?Gs(Xa(F),0,_).join(""):F.slice(0,_)}function B7(_,E,T,F){var N=E&y,q=Oh(_);function ee(){for(var ne=-1,fe=arguments.length,Ae=-1,Te=F.length,Oe=me(Te+fe),We=this&&this!==Kn&&this instanceof ee?q:_;++Ae<Te;)Oe[Ae]=F[Ae];for(;fe--;)Oe[Ae++]=arguments[++ne];return aa(We,N?T:this,Oe)}return ee}function vI(_){return function(E,T,F){return F&&typeof F!="number"&&Ai(E,T,F)&&(T=F=r),E=us(E),T===r?(T=E,E=0):T=us(T),F=F===r?E<T?1:-1:us(F),S7(E,T,F,_)}}function G0(_){return function(E,T){return typeof E=="string"&&typeof T=="string"||(E=ka(E),T=ka(T)),_(E,T)}}function gI(_,E,T,F,N,q,ee,ne,fe,Ae){var Te=E&x,Oe=Te?ee:r,We=Te?r:ee,nt=Te?q:r,ct=Te?r:q;E|=Te?b:w,E&=~(Te?w:b),E&g||(E&=~(y|m));var kt=[_,E,N,nt,Oe,ct,We,ne,fe,Ae],ft=T.apply(r,kt);return jx(_)&&PI(ft,kt),ft.placeholder=F,OI(ft,_,E)}function Fx(_){var E=yn[_];return function(T,F){if(T=ka(T),F=F==null?0:si(Tt(F),292),F&&OR(T)){var N=(lr(T)+"e").split("e"),q=E(N[0]+"e"+(+N[1]+F));return N=(lr(q)+"e").split("e"),+(N[0]+"e"+(+N[1]-F))}return E(T)}}var N7=mc&&1/y0(new mc([,-0]))[1]==W?function(_){return new mc(_)}:t1;function mI(_){return function(E){var T=li(E);return T==xe?ux(E):T==tt?tG(E):XV(E,_(E))}}function as(_,E,T,F,N,q,ee,ne){var fe=E&m;if(!fe&&typeof _!="function")throw new Ta(o);var Ae=F?F.length:0;if(Ae||(E&=~(b|w),F=N=r),ee=ee===r?ee:_n(Tt(ee),0),ne=ne===r?ne:Tt(ne),Ae-=N?N.length:0,E&w){var Te=F,Oe=N;F=N=r}var We=fe?r:Lx(_),nt=[_,E,T,F,N,Te,Oe,q,ee,ne];if(We&&J7(nt,We),_=nt[0],E=nt[1],T=nt[2],F=nt[3],N=nt[4],ne=nt[9]=nt[9]===r?fe?0:_.length:_n(nt[9]-Ae,0),!ne&&E&(x|S)&&(E&=~(x|S)),!E||E==y)var ct=M7(_,E,T);else E==x||E==S?ct=L7(_,E,ne):(E==b||E==(y|b))&&!N.length?ct=B7(_,E,T,F):ct=j0.apply(r,nt);var kt=We?ZR:PI;return OI(kt(ct,nt),_,E)}function yI(_,E,T,F){return _===r||qa(_,gc[T])&&!cr.call(F,T)?E:_}function _I(_,E,T,F,N,q){return $r(_)&&$r(E)&&(q.set(E,_),L0(_,E,r,_I,q),q.delete(E)),_}function U7(_){return kh(_)?r:_}function xI(_,E,T,F,N,q){var ee=T&p,ne=_.length,fe=E.length;if(ne!=fe&&!(ee&&fe>ne))return!1;var Ae=q.get(_),Te=q.get(E);if(Ae&&Te)return Ae==E&&Te==_;var Oe=-1,We=!0,nt=T&v?new Yl:r;for(q.set(_,E),q.set(E,_);++Oe<ne;){var ct=_[Oe],kt=E[Oe];if(F)var ft=ee?F(kt,ct,Oe,E,_,q):F(ct,kt,Oe,_,E,q);if(ft!==r){if(ft)continue;We=!1;break}if(nt){if(!nx(E,function(Nt,Wt){if(!yh(nt,Wt)&&(ct===Nt||N(ct,Nt,T,F,q)))return nt.push(Wt)})){We=!1;break}}else if(!(ct===kt||N(ct,kt,T,F,q))){We=!1;break}}return q.delete(_),q.delete(E),We}function j7(_,E,T,F,N,q,ee){switch(T){case St:if(_.byteLength!=E.byteLength||_.byteOffset!=E.byteOffset)return!1;_=_.buffer,E=E.buffer;case Gt:return!(_.byteLength!=E.byteLength||!q(new w0(_),new w0(E)));case ue:case be:case je:return qa(+_,+E);case ye:return _.name==E.name&&_.message==E.message;case yt:case ot:return _==E+"";case xe:var ne=ux;case tt:var fe=F&p;if(ne||(ne=y0),_.size!=E.size&&!fe)return!1;var Ae=ee.get(_);if(Ae)return Ae==E;F|=v,ee.set(_,E);var Te=xI(ne(_),ne(E),F,N,q,ee);return ee.delete(_),Te;case dt:if(Eh)return Eh.call(_)==Eh.call(E)}return!1}function $7(_,E,T,F,N,q){var ee=T&p,ne=Dx(_),fe=ne.length,Ae=Dx(E),Te=Ae.length;if(fe!=Te&&!ee)return!1;for(var Oe=fe;Oe--;){var We=ne[Oe];if(!(ee?We in E:cr.call(E,We)))return!1}var nt=q.get(_),ct=q.get(E);if(nt&&ct)return nt==E&&ct==_;var kt=!0;q.set(_,E),q.set(E,_);for(var ft=ee;++Oe<fe;){We=ne[Oe];var Nt=_[We],Wt=E[We];if(F)var ua=ee?F(Wt,Nt,We,E,_,q):F(Nt,Wt,We,_,E,q);if(!(ua===r?Nt===Wt||N(Nt,Wt,T,F,q):ua)){kt=!1;break}ft||(ft=We=="constructor")}if(kt&&!ft){var Ti=_.constructor,ca=E.constructor;Ti!=ca&&"constructor"in _&&"constructor"in E&&!(typeof Ti=="function"&&Ti instanceof Ti&&typeof ca=="function"&&ca instanceof ca)&&(kt=!1)}return q.delete(_),q.delete(E),kt}function os(_){return Vx(AI(_,r,MI),_+"")}function Dx(_){return jR(_,Ln,Nx)}function Mx(_){return jR(_,Wi,bI)}var Lx=R0?function(_){return R0.get(_)}:t1;function W0(_){for(var E=_.name+"",T=yc[E],F=cr.call(yc,E)?T.length:0;F--;){var N=T[F],q=N.func;if(q==null||q==_)return N.name}return E}function Sc(_){var E=cr.call(G,"placeholder")?G:_;return E.placeholder}function ut(){var _=G.iteratee||Jx;return _=_===Jx?GR:_,arguments.length?_(arguments[0],arguments[1]):_}function z0(_,E){var T=_.__data__;return q7(E)?T[typeof E=="string"?"string":"hash"]:T.map}function Bx(_){for(var E=Ln(_),T=E.length;T--;){var F=E[T],N=_[F];E[T]=[F,N,wI(N)]}return E}function Zl(_,E){var T=QV(_,E);return VR(T)?T:r}function V7(_){var E=cr.call(_,Hl),T=_[Hl];try{_[Hl]=r;var F=!0}catch{}var N=S0.call(_);return F&&(E?_[Hl]=T:delete _[Hl]),N}var Nx=fx?function(_){return _==null?[]:(_=mr(_),Ls(fx(_),function(E){return TR.call(_,E)}))}:r1,bI=fx?function(_){for(var E=[];_;)Bs(E,Nx(_)),_=C0(_);return E}:r1,li=Ci;(hx&&li(new hx(new ArrayBuffer(1)))!=St||xh&&li(new xh)!=xe||dx&&li(dx.resolve())!=at||mc&&li(new mc)!=tt||bh&&li(new bh)!=nr)&&(li=function(_){var E=Ci(_),T=E==Fe?_.constructor:r,F=T?Ql(T):"";if(F)switch(F){case wG:return St;case CG:return xe;case AG:return at;case TG:return tt;case PG:return nr}return E});function G7(_,E,T){for(var F=-1,N=T.length;++F<N;){var q=T[F],ee=q.size;switch(q.type){case"drop":_+=ee;break;case"dropRight":E-=ee;break;case"take":E=si(E,_+ee);break;case"takeRight":_=_n(_,E-ee);break}}return{start:_,end:E}}function W7(_){var E=_.match(D_);return E?E[1].split(M_):[]}function SI(_,E,T){E=Vs(E,_);for(var F=-1,N=E.length,q=!1;++F<N;){var ee=Ao(E[F]);if(!(q=_!=null&&T(_,ee)))break;_=_[ee]}return q||++F!=N?q:(N=_==null?0:_.length,!!N&&Q0(N)&&ss(ee,N)&&(wt(_)||Jl(_)))}function z7(_){var E=_.length,T=new _.constructor(E);return E&&typeof _[0]=="string"&&cr.call(_,"index")&&(T.index=_.index,T.input=_.input),T}function EI(_){return typeof _.constructor=="function"&&!Rh(_)?_c(C0(_)):{}}function H7(_,E,T){var F=_.constructor;switch(E){case Gt:return Ix(_);case ue:case be:return new F(+_);case St:return O7(_,T);case sr:case ge:case Ce:case Re:case Ye:case $e:case rt:case tr:case Cr:return aI(_,T);case xe:return new F;case je:case ot:return new F(_);case yt:return R7(_);case tt:return new F;case dt:return I7(_)}}function X7(_,E){var T=E.length;if(!T)return _;var F=T-1;return E[F]=(T>1?"& ":"")+E[F],E=E.join(T>2?", ":" "),_.replace(vh,`{
/* [wrapped with `+E+`] */
`)}function Y7(_){return wt(_)||Jl(_)||!!(PR&&_&&_[PR])}function ss(_,E){var T=typeof _;return E=E??te,!!E&&(T=="number"||T!="symbol"&&W_.test(_))&&_>-1&&_%1==0&&_<E}function Ai(_,E,T){if(!$r(T))return!1;var F=typeof E;return(F=="number"?Gi(T)&&ss(E,T.length):F=="string"&&E in T)?qa(T[E],_):!1}function Ux(_,E){if(wt(_))return!1;var T=typeof _;return T=="number"||T=="symbol"||T=="boolean"||_==null||la(_)?!0:Ei.test(_)||!Fs.test(_)||E!=null&&_ in mr(E)}function q7(_){var E=typeof _;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?_!=="__proto__":_===null}function jx(_){var E=W0(_),T=G[E];if(typeof T!="function"||!(E in jt.prototype))return!1;if(_===T)return!0;var F=Lx(T);return!!F&&_===F[0]}function K7(_){return!!wR&&wR in _}var Z7=x0?ls:n1;function Rh(_){var E=_&&_.constructor,T=typeof E=="function"&&E.prototype||gc;return _===T}function wI(_){return _===_&&!$r(_)}function CI(_,E){return function(T){return T==null?!1:T[_]===E&&(E!==r||_ in mr(T))}}function Q7(_){var E=K0(_,function(F){return T.size===l&&T.clear(),F}),T=E.cache;return E}function J7(_,E){var T=_[1],F=E[1],N=T|F,q=N<(y|m|C),ee=F==C&&T==x||F==C&&T==A&&_[7].length<=E[8]||F==(C|A)&&E[7].length<=E[8]&&T==x;if(!(q||ee))return _;F&y&&(_[2]=E[2],N|=T&y?0:g);var ne=E[3];if(ne){var fe=_[3];_[3]=fe?sI(fe,ne,E[4]):ne,_[4]=fe?Ns(_[3],u):E[4]}return ne=E[5],ne&&(fe=_[5],_[5]=fe?lI(fe,ne,E[6]):ne,_[6]=fe?Ns(_[5],u):E[6]),ne=E[7],ne&&(_[7]=ne),F&C&&(_[8]=_[8]==null?E[8]:si(_[8],E[8])),_[9]==null&&(_[9]=E[9]),_[0]=E[0],_[1]=N,_}function eW(_){var E=[];if(_!=null)for(var T in mr(_))E.push(T);return E}function tW(_){return S0.call(_)}function AI(_,E,T){return E=_n(E===r?_.length-1:E,0),function(){for(var F=arguments,N=-1,q=_n(F.length-E,0),ee=me(q);++N<q;)ee[N]=F[E+N];N=-1;for(var ne=me(E+1);++N<E;)ne[N]=F[N];return ne[E]=T(ee),aa(_,this,ne)}}function TI(_,E){return E.length<2?_:Kl(_,Ra(E,0,-1))}function rW(_,E){for(var T=_.length,F=si(E.length,T),N=Vi(_);F--;){var q=E[F];_[F]=ss(q,T)?N[q]:r}return _}function $x(_,E){if(!(E==="constructor"&&typeof _[E]=="function")&&E!="__proto__")return _[E]}var PI=RI(ZR),Ih=mG||function(_,E){return Kn.setTimeout(_,E)},Vx=RI(C7);function OI(_,E,T){var F=E+"";return Vx(_,X7(F,nW(W7(F),T)))}function RI(_){var E=0,T=0;return function(){var F=bG(),N=k-(F-T);if(T=F,N>0){if(++E>=R)return arguments[0]}else E=0;return _.apply(r,arguments)}}function H0(_,E){var T=-1,F=_.length,N=F-1;for(E=E===r?F:E;++T<E;){var q=wx(T,N),ee=_[q];_[q]=_[T],_[T]=ee}return _.length=E,_}var II=Q7(function(_){var E=[];return _.charCodeAt(0)===46&&E.push(""),_.replace(Ha,function(T,F,N,q){E.push(N?q.replace(N_,"$1"):F||T)}),E});function Ao(_){if(typeof _=="string"||la(_))return _;var E=_+"";return E=="0"&&1/_==-W?"-0":E}function Ql(_){if(_!=null){try{return b0.call(_)}catch{}try{return _+""}catch{}}return""}function nW(_,E){return Aa(j,function(T){var F="_."+T[0];E&T[1]&&!g0(_,F)&&_.push(F)}),_.sort()}function kI(_){if(_ instanceof jt)return _.clone();var E=new Pa(_.__wrapped__,_.__chain__);return E.__actions__=Vi(_.__actions__),E.__index__=_.__index__,E.__values__=_.__values__,E}function iW(_,E,T){(T?Ai(_,E,T):E===r)?E=1:E=_n(Tt(E),0);var F=_==null?0:_.length;if(!F||E<1)return[];for(var N=0,q=0,ee=me(P0(F/E));N<F;)ee[q++]=Ra(_,N,N+=E);return ee}function aW(_){for(var E=-1,T=_==null?0:_.length,F=0,N=[];++E<T;){var q=_[E];q&&(N[F++]=q)}return N}function oW(){var _=arguments.length;if(!_)return[];for(var E=me(_-1),T=arguments[0],F=_;F--;)E[F-1]=arguments[F];return Bs(wt(T)?Vi(T):[T],Zn(E,1))}var sW=Dt(function(_,E){return tn(_)?Ch(_,Zn(E,1,tn,!0)):[]}),lW=Dt(function(_,E){var T=Ia(E);return tn(T)&&(T=r),tn(_)?Ch(_,Zn(E,1,tn,!0),ut(T,2)):[]}),uW=Dt(function(_,E){var T=Ia(E);return tn(T)&&(T=r),tn(_)?Ch(_,Zn(E,1,tn,!0),r,T):[]});function cW(_,E,T){var F=_==null?0:_.length;return F?(E=T||E===r?1:Tt(E),Ra(_,E<0?0:E,F)):[]}function fW(_,E,T){var F=_==null?0:_.length;return F?(E=T||E===r?1:Tt(E),E=F-E,Ra(_,0,E<0?0:E)):[]}function hW(_,E){return _&&_.length?N0(_,ut(E,3),!0,!0):[]}function dW(_,E){return _&&_.length?N0(_,ut(E,3),!0):[]}function pW(_,E,T,F){var N=_==null?0:_.length;return N?(T&&typeof T!="number"&&Ai(_,E,T)&&(T=0,F=N),o7(_,E,T,F)):[]}function FI(_,E,T){var F=_==null?0:_.length;if(!F)return-1;var N=T==null?0:Tt(T);return N<0&&(N=_n(F+N,0)),m0(_,ut(E,3),N)}function DI(_,E,T){var F=_==null?0:_.length;if(!F)return-1;var N=F-1;return T!==r&&(N=Tt(T),N=T<0?_n(F+N,0):si(N,F-1)),m0(_,ut(E,3),N,!0)}function MI(_){var E=_==null?0:_.length;return E?Zn(_,1):[]}function vW(_){var E=_==null?0:_.length;return E?Zn(_,W):[]}function gW(_,E){var T=_==null?0:_.length;return T?(E=E===r?1:Tt(E),Zn(_,E)):[]}function mW(_){for(var E=-1,T=_==null?0:_.length,F={};++E<T;){var N=_[E];F[N[0]]=N[1]}return F}function LI(_){return _&&_.length?_[0]:r}function yW(_,E,T){var F=_==null?0:_.length;if(!F)return-1;var N=T==null?0:Tt(T);return N<0&&(N=_n(F+N,0)),hc(_,E,N)}function _W(_){var E=_==null?0:_.length;return E?Ra(_,0,-1):[]}var xW=Dt(function(_){var E=Fr(_,Ox);return E.length&&E[0]===_[0]?_x(E):[]}),bW=Dt(function(_){var E=Ia(_),T=Fr(_,Ox);return E===Ia(T)?E=r:T.pop(),T.length&&T[0]===_[0]?_x(T,ut(E,2)):[]}),SW=Dt(function(_){var E=Ia(_),T=Fr(_,Ox);return E=typeof E=="function"?E:r,E&&T.pop(),T.length&&T[0]===_[0]?_x(T,r,E):[]});function EW(_,E){return _==null?"":_G.call(_,E)}function Ia(_){var E=_==null?0:_.length;return E?_[E-1]:r}function wW(_,E,T){var F=_==null?0:_.length;if(!F)return-1;var N=F;return T!==r&&(N=Tt(T),N=N<0?_n(F+N,0):si(N,F-1)),E===E?nG(_,E,N):m0(_,gR,N,!0)}function CW(_,E){return _&&_.length?XR(_,Tt(E)):r}var AW=Dt(BI);function BI(_,E){return _&&_.length&&E&&E.length?Ex(_,E):_}function TW(_,E,T){return _&&_.length&&E&&E.length?Ex(_,E,ut(T,2)):_}function PW(_,E,T){return _&&_.length&&E&&E.length?Ex(_,E,r,T):_}var OW=os(function(_,E){var T=_==null?0:_.length,F=vx(_,E);return KR(_,Fr(E,function(N){return ss(N,T)?+N:N}).sort(oI)),F});function RW(_,E){var T=[];if(!(_&&_.length))return T;var F=-1,N=[],q=_.length;for(E=ut(E,3);++F<q;){var ee=_[F];E(ee,F,_)&&(T.push(ee),N.push(F))}return KR(_,N),T}function Gx(_){return _==null?_:EG.call(_)}function IW(_,E,T){var F=_==null?0:_.length;return F?(T&&typeof T!="number"&&Ai(_,E,T)?(E=0,T=F):(E=E==null?0:Tt(E),T=T===r?F:Tt(T)),Ra(_,E,T)):[]}function kW(_,E){return B0(_,E)}function FW(_,E,T){return Ax(_,E,ut(T,2))}function DW(_,E){var T=_==null?0:_.length;if(T){var F=B0(_,E);if(F<T&&qa(_[F],E))return F}return-1}function MW(_,E){return B0(_,E,!0)}function LW(_,E,T){return Ax(_,E,ut(T,2),!0)}function BW(_,E){var T=_==null?0:_.length;if(T){var F=B0(_,E,!0)-1;if(qa(_[F],E))return F}return-1}function NW(_){return _&&_.length?QR(_):[]}function UW(_,E){return _&&_.length?QR(_,ut(E,2)):[]}function jW(_){var E=_==null?0:_.length;return E?Ra(_,1,E):[]}function $W(_,E,T){return _&&_.length?(E=T||E===r?1:Tt(E),Ra(_,0,E<0?0:E)):[]}function VW(_,E,T){var F=_==null?0:_.length;return F?(E=T||E===r?1:Tt(E),E=F-E,Ra(_,E<0?0:E,F)):[]}function GW(_,E){return _&&_.length?N0(_,ut(E,3),!1,!0):[]}function WW(_,E){return _&&_.length?N0(_,ut(E,3)):[]}var zW=Dt(function(_){return $s(Zn(_,1,tn,!0))}),HW=Dt(function(_){var E=Ia(_);return tn(E)&&(E=r),$s(Zn(_,1,tn,!0),ut(E,2))}),XW=Dt(function(_){var E=Ia(_);return E=typeof E=="function"?E:r,$s(Zn(_,1,tn,!0),r,E)});function YW(_){return _&&_.length?$s(_):[]}function qW(_,E){return _&&_.length?$s(_,ut(E,2)):[]}function KW(_,E){return E=typeof E=="function"?E:r,_&&_.length?$s(_,r,E):[]}function Wx(_){if(!(_&&_.length))return[];var E=0;return _=Ls(_,function(T){if(tn(T))return E=_n(T.length,E),!0}),sx(E,function(T){return Fr(_,ix(T))})}function NI(_,E){if(!(_&&_.length))return[];var T=Wx(_);return E==null?T:Fr(T,function(F){return aa(E,r,F)})}var ZW=Dt(function(_,E){return tn(_)?Ch(_,E):[]}),QW=Dt(function(_){return Px(Ls(_,tn))}),JW=Dt(function(_){var E=Ia(_);return tn(E)&&(E=r),Px(Ls(_,tn),ut(E,2))}),ez=Dt(function(_){var E=Ia(_);return E=typeof E=="function"?E:r,Px(Ls(_,tn),r,E)}),tz=Dt(Wx);function rz(_,E){return rI(_||[],E||[],wh)}function nz(_,E){return rI(_||[],E||[],Ph)}var iz=Dt(function(_){var E=_.length,T=E>1?_[E-1]:r;return T=typeof T=="function"?(_.pop(),T):r,NI(_,T)});function UI(_){var E=G(_);return E.__chain__=!0,E}function az(_,E){return E(_),_}function X0(_,E){return E(_)}var oz=os(function(_){var E=_.length,T=E?_[0]:0,F=this.__wrapped__,N=function(q){return vx(q,_)};return E>1||this.__actions__.length||!(F instanceof jt)||!ss(T)?this.thru(N):(F=F.slice(T,+T+(E?1:0)),F.__actions__.push({func:X0,args:[N],thisArg:r}),new Pa(F,this.__chain__).thru(function(q){return E&&!q.length&&q.push(r),q}))});function sz(){return UI(this)}function lz(){return new Pa(this.value(),this.__chain__)}function uz(){this.__values__===r&&(this.__values__=JI(this.value()));var _=this.__index__>=this.__values__.length,E=_?r:this.__values__[this.__index__++];return{done:_,value:E}}function cz(){return this}function fz(_){for(var E,T=this;T instanceof k0;){var F=kI(T);F.__index__=0,F.__values__=r,E?N.__wrapped__=F:E=F;var N=F;T=T.__wrapped__}return N.__wrapped__=_,E}function hz(){var _=this.__wrapped__;if(_ instanceof jt){var E=_;return this.__actions__.length&&(E=new jt(this)),E=E.reverse(),E.__actions__.push({func:X0,args:[Gx],thisArg:r}),new Pa(E,this.__chain__)}return this.thru(Gx)}function dz(){return tI(this.__wrapped__,this.__actions__)}var pz=U0(function(_,E,T){cr.call(_,T)?++_[T]:is(_,T,1)});function vz(_,E,T){var F=wt(_)?pR:a7;return T&&Ai(_,E,T)&&(E=r),F(_,ut(E,3))}function gz(_,E){var T=wt(_)?Ls:NR;return T(_,ut(E,3))}var mz=hI(FI),yz=hI(DI);function _z(_,E){return Zn(Y0(_,E),1)}function xz(_,E){return Zn(Y0(_,E),W)}function bz(_,E,T){return T=T===r?1:Tt(T),Zn(Y0(_,E),T)}function jI(_,E){var T=wt(_)?Aa:js;return T(_,ut(E,3))}function $I(_,E){var T=wt(_)?jV:BR;return T(_,ut(E,3))}var Sz=U0(function(_,E,T){cr.call(_,T)?_[T].push(E):is(_,T,[E])});function Ez(_,E,T,F){_=Gi(_)?_:wc(_),T=T&&!F?Tt(T):0;var N=_.length;return T<0&&(T=_n(N+T,0)),J0(_)?T<=N&&_.indexOf(E,T)>-1:!!N&&hc(_,E,T)>-1}var wz=Dt(function(_,E,T){var F=-1,N=typeof E=="function",q=Gi(_)?me(_.length):[];return js(_,function(ee){q[++F]=N?aa(E,ee,T):Ah(ee,E,T)}),q}),Cz=U0(function(_,E,T){is(_,T,E)});function Y0(_,E){var T=wt(_)?Fr:WR;return T(_,ut(E,3))}function Az(_,E,T,F){return _==null?[]:(wt(E)||(E=E==null?[]:[E]),T=F?r:T,wt(T)||(T=T==null?[]:[T]),YR(_,E,T))}var Tz=U0(function(_,E,T){_[T?0:1].push(E)},function(){return[[],[]]});function Pz(_,E,T){var F=wt(_)?rx:yR,N=arguments.length<3;return F(_,ut(E,4),T,N,js)}function Oz(_,E,T){var F=wt(_)?$V:yR,N=arguments.length<3;return F(_,ut(E,4),T,N,BR)}function Rz(_,E){var T=wt(_)?Ls:NR;return T(_,Z0(ut(E,3)))}function Iz(_){var E=wt(_)?FR:E7;return E(_)}function kz(_,E,T){(T?Ai(_,E,T):E===r)?E=1:E=Tt(E);var F=wt(_)?e7:w7;return F(_,E)}function Fz(_){var E=wt(_)?t7:A7;return E(_)}function Dz(_){if(_==null)return 0;if(Gi(_))return J0(_)?pc(_):_.length;var E=li(_);return E==xe||E==tt?_.size:bx(_).length}function Mz(_,E,T){var F=wt(_)?nx:T7;return T&&Ai(_,E,T)&&(E=r),F(_,ut(E,3))}var Lz=Dt(function(_,E){if(_==null)return[];var T=E.length;return T>1&&Ai(_,E[0],E[1])?E=[]:T>2&&Ai(E[0],E[1],E[2])&&(E=[E[0]]),YR(_,Zn(E,1),[])}),q0=gG||function(){return Kn.Date.now()};function Bz(_,E){if(typeof E!="function")throw new Ta(o);return _=Tt(_),function(){if(--_<1)return E.apply(this,arguments)}}function VI(_,E,T){return E=T?r:E,E=_&&E==null?_.length:E,as(_,C,r,r,r,r,E)}function GI(_,E){var T;if(typeof E!="function")throw new Ta(o);return _=Tt(_),function(){return--_>0&&(T=E.apply(this,arguments)),_<=1&&(E=r),T}}var zx=Dt(function(_,E,T){var F=y;if(T.length){var N=Ns(T,Sc(zx));F|=b}return as(_,F,E,T,N)}),WI=Dt(function(_,E,T){var F=y|m;if(T.length){var N=Ns(T,Sc(WI));F|=b}return as(E,F,_,T,N)});function zI(_,E,T){E=T?r:E;var F=as(_,x,r,r,r,r,r,E);return F.placeholder=zI.placeholder,F}function HI(_,E,T){E=T?r:E;var F=as(_,S,r,r,r,r,r,E);return F.placeholder=HI.placeholder,F}function XI(_,E,T){var F,N,q,ee,ne,fe,Ae=0,Te=!1,Oe=!1,We=!0;if(typeof _!="function")throw new Ta(o);E=ka(E)||0,$r(T)&&(Te=!!T.leading,Oe="maxWait"in T,q=Oe?_n(ka(T.maxWait)||0,E):q,We="trailing"in T?!!T.trailing:We);function nt(rn){var Ka=F,cs=N;return F=N=r,Ae=rn,ee=_.apply(cs,Ka),ee}function ct(rn){return Ae=rn,ne=Ih(Nt,E),Te?nt(rn):ee}function kt(rn){var Ka=rn-fe,cs=rn-Ae,hk=E-Ka;return Oe?si(hk,q-cs):hk}function ft(rn){var Ka=rn-fe,cs=rn-Ae;return fe===r||Ka>=E||Ka<0||Oe&&cs>=q}function Nt(){var rn=q0();if(ft(rn))return Wt(rn);ne=Ih(Nt,kt(rn))}function Wt(rn){return ne=r,We&&F?nt(rn):(F=N=r,ee)}function ua(){ne!==r&&nI(ne),Ae=0,F=fe=N=ne=r}function Ti(){return ne===r?ee:Wt(q0())}function ca(){var rn=q0(),Ka=ft(rn);if(F=arguments,N=this,fe=rn,Ka){if(ne===r)return ct(fe);if(Oe)return nI(ne),ne=Ih(Nt,E),nt(fe)}return ne===r&&(ne=Ih(Nt,E)),ee}return ca.cancel=ua,ca.flush=Ti,ca}var Nz=Dt(function(_,E){return LR(_,1,E)}),Uz=Dt(function(_,E,T){return LR(_,ka(E)||0,T)});function jz(_){return as(_,P)}function K0(_,E){if(typeof _!="function"||E!=null&&typeof E!="function")throw new Ta(o);var T=function(){var F=arguments,N=E?E.apply(this,F):F[0],q=T.cache;if(q.has(N))return q.get(N);var ee=_.apply(this,F);return T.cache=q.set(N,ee)||q,ee};return T.cache=new(K0.Cache||ns),T}K0.Cache=ns;function Z0(_){if(typeof _!="function")throw new Ta(o);return function(){var E=arguments;switch(E.length){case 0:return!_.call(this);case 1:return!_.call(this,E[0]);case 2:return!_.call(this,E[0],E[1]);case 3:return!_.call(this,E[0],E[1],E[2])}return!_.apply(this,E)}}function $z(_){return GI(2,_)}var Vz=P7(function(_,E){E=E.length==1&&wt(E[0])?Fr(E[0],oa(ut())):Fr(Zn(E,1),oa(ut()));var T=E.length;return Dt(function(F){for(var N=-1,q=si(F.length,T);++N<q;)F[N]=E[N].call(this,F[N]);return aa(_,this,F)})}),Hx=Dt(function(_,E){var T=Ns(E,Sc(Hx));return as(_,b,r,E,T)}),YI=Dt(function(_,E){var T=Ns(E,Sc(YI));return as(_,w,r,E,T)}),Gz=os(function(_,E){return as(_,A,r,r,r,E)});function Wz(_,E){if(typeof _!="function")throw new Ta(o);return E=E===r?E:Tt(E),Dt(_,E)}function zz(_,E){if(typeof _!="function")throw new Ta(o);return E=E==null?0:_n(Tt(E),0),Dt(function(T){var F=T[E],N=Gs(T,0,E);return F&&Bs(N,F),aa(_,this,N)})}function Hz(_,E,T){var F=!0,N=!0;if(typeof _!="function")throw new Ta(o);return $r(T)&&(F="leading"in T?!!T.leading:F,N="trailing"in T?!!T.trailing:N),XI(_,E,{leading:F,maxWait:E,trailing:N})}function Xz(_){return VI(_,1)}function Yz(_,E){return Hx(Rx(E),_)}function qz(){if(!arguments.length)return[];var _=arguments[0];return wt(_)?_:[_]}function Kz(_){return Oa(_,d)}function Zz(_,E){return E=typeof E=="function"?E:r,Oa(_,d,E)}function Qz(_){return Oa(_,f|d)}function Jz(_,E){return E=typeof E=="function"?E:r,Oa(_,f|d,E)}function eH(_,E){return E==null||MR(_,E,Ln(E))}function qa(_,E){return _===E||_!==_&&E!==E}var tH=G0(yx),rH=G0(function(_,E){return _>=E}),Jl=$R(function(){return arguments}())?$R:function(_){return qr(_)&&cr.call(_,"callee")&&!TR.call(_,"callee")},wt=me.isArray,nH=lR?oa(lR):f7;function Gi(_){return _!=null&&Q0(_.length)&&!ls(_)}function tn(_){return qr(_)&&Gi(_)}function iH(_){return _===!0||_===!1||qr(_)&&Ci(_)==ue}var Ws=yG||n1,aH=uR?oa(uR):h7;function oH(_){return qr(_)&&_.nodeType===1&&!kh(_)}function sH(_){if(_==null)return!0;if(Gi(_)&&(wt(_)||typeof _=="string"||typeof _.splice=="function"||Ws(_)||Ec(_)||Jl(_)))return!_.length;var E=li(_);if(E==xe||E==tt)return!_.size;if(Rh(_))return!bx(_).length;for(var T in _)if(cr.call(_,T))return!1;return!0}function lH(_,E){return Th(_,E)}function uH(_,E,T){T=typeof T=="function"?T:r;var F=T?T(_,E):r;return F===r?Th(_,E,r,T):!!F}function Xx(_){if(!qr(_))return!1;var E=Ci(_);return E==ye||E==Pe||typeof _.message=="string"&&typeof _.name=="string"&&!kh(_)}function cH(_){return typeof _=="number"&&OR(_)}function ls(_){if(!$r(_))return!1;var E=Ci(_);return E==we||E==_e||E==de||E==vt}function qI(_){return typeof _=="number"&&_==Tt(_)}function Q0(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=te}function $r(_){var E=typeof _;return _!=null&&(E=="object"||E=="function")}function qr(_){return _!=null&&typeof _=="object"}var KI=cR?oa(cR):p7;function fH(_,E){return _===E||xx(_,E,Bx(E))}function hH(_,E,T){return T=typeof T=="function"?T:r,xx(_,E,Bx(E),T)}function dH(_){return ZI(_)&&_!=+_}function pH(_){if(Z7(_))throw new Et(a);return VR(_)}function vH(_){return _===null}function gH(_){return _==null}function ZI(_){return typeof _=="number"||qr(_)&&Ci(_)==je}function kh(_){if(!qr(_)||Ci(_)!=Fe)return!1;var E=C0(_);if(E===null)return!0;var T=cr.call(E,"constructor")&&E.constructor;return typeof T=="function"&&T instanceof T&&b0.call(T)==hG}var Yx=fR?oa(fR):v7;function mH(_){return qI(_)&&_>=-te&&_<=te}var QI=hR?oa(hR):g7;function J0(_){return typeof _=="string"||!wt(_)&&qr(_)&&Ci(_)==ot}function la(_){return typeof _=="symbol"||qr(_)&&Ci(_)==dt}var Ec=dR?oa(dR):m7;function yH(_){return _===r}function _H(_){return qr(_)&&li(_)==nr}function xH(_){return qr(_)&&Ci(_)==Zt}var bH=G0(Sx),SH=G0(function(_,E){return _<=E});function JI(_){if(!_)return[];if(Gi(_))return J0(_)?Xa(_):Vi(_);if(_h&&_[_h])return eG(_[_h]());var E=li(_),T=E==xe?ux:E==tt?y0:wc;return T(_)}function us(_){if(!_)return _===0?_:0;if(_=ka(_),_===W||_===-W){var E=_<0?-1:1;return E*J}return _===_?_:0}function Tt(_){var E=us(_),T=E%1;return E===E?T?E-T:E:0}function ek(_){return _?ql(Tt(_),0,M):0}function ka(_){if(typeof _=="number")return _;if(la(_))return z;if($r(_)){var E=typeof _.valueOf=="function"?_.valueOf():_;_=$r(E)?E+"":E}if(typeof _!="string")return _===0?_:+_;_=_R(_);var T=$_.test(_);return T||G_.test(_)?BV(_.slice(2),T?2:8):j_.test(_)?z:+_}function tk(_){return Co(_,Wi(_))}function EH(_){return _?ql(Tt(_),-te,te):_===0?_:0}function lr(_){return _==null?"":sa(_)}var wH=xc(function(_,E){if(Rh(E)||Gi(E)){Co(E,Ln(E),_);return}for(var T in E)cr.call(E,T)&&wh(_,T,E[T])}),rk=xc(function(_,E){Co(E,Wi(E),_)}),ev=xc(function(_,E,T,F){Co(E,Wi(E),_,F)}),CH=xc(function(_,E,T,F){Co(E,Ln(E),_,F)}),AH=os(vx);function TH(_,E){var T=_c(_);return E==null?T:DR(T,E)}var PH=Dt(function(_,E){_=mr(_);var T=-1,F=E.length,N=F>2?E[2]:r;for(N&&Ai(E[0],E[1],N)&&(F=1);++T<F;)for(var q=E[T],ee=Wi(q),ne=-1,fe=ee.length;++ne<fe;){var Ae=ee[ne],Te=_[Ae];(Te===r||qa(Te,gc[Ae])&&!cr.call(_,Ae))&&(_[Ae]=q[Ae])}return _}),OH=Dt(function(_){return _.push(r,_I),aa(nk,r,_)});function RH(_,E){return vR(_,ut(E,3),wo)}function IH(_,E){return vR(_,ut(E,3),mx)}function kH(_,E){return _==null?_:gx(_,ut(E,3),Wi)}function FH(_,E){return _==null?_:UR(_,ut(E,3),Wi)}function DH(_,E){return _&&wo(_,ut(E,3))}function MH(_,E){return _&&mx(_,ut(E,3))}function LH(_){return _==null?[]:M0(_,Ln(_))}function BH(_){return _==null?[]:M0(_,Wi(_))}function qx(_,E,T){var F=_==null?r:Kl(_,E);return F===r?T:F}function NH(_,E){return _!=null&&SI(_,E,s7)}function Kx(_,E){return _!=null&&SI(_,E,l7)}var UH=pI(function(_,E,T){E!=null&&typeof E.toString!="function"&&(E=S0.call(E)),_[E]=T},Qx(zi)),jH=pI(function(_,E,T){E!=null&&typeof E.toString!="function"&&(E=S0.call(E)),cr.call(_,E)?_[E].push(T):_[E]=[T]},ut),$H=Dt(Ah);function Ln(_){return Gi(_)?kR(_):bx(_)}function Wi(_){return Gi(_)?kR(_,!0):y7(_)}function VH(_,E){var T={};return E=ut(E,3),wo(_,function(F,N,q){is(T,E(F,N,q),F)}),T}function GH(_,E){var T={};return E=ut(E,3),wo(_,function(F,N,q){is(T,N,E(F,N,q))}),T}var WH=xc(function(_,E,T){L0(_,E,T)}),nk=xc(function(_,E,T,F){L0(_,E,T,F)}),zH=os(function(_,E){var T={};if(_==null)return T;var F=!1;E=Fr(E,function(q){return q=Vs(q,_),F||(F=q.length>1),q}),Co(_,Mx(_),T),F&&(T=Oa(T,f|h|d,U7));for(var N=E.length;N--;)Tx(T,E[N]);return T});function HH(_,E){return ik(_,Z0(ut(E)))}var XH=os(function(_,E){return _==null?{}:x7(_,E)});function ik(_,E){if(_==null)return{};var T=Fr(Mx(_),function(F){return[F]});return E=ut(E),qR(_,T,function(F,N){return E(F,N[0])})}function YH(_,E,T){E=Vs(E,_);var F=-1,N=E.length;for(N||(N=1,_=r);++F<N;){var q=_==null?r:_[Ao(E[F])];q===r&&(F=N,q=T),_=ls(q)?q.call(_):q}return _}function qH(_,E,T){return _==null?_:Ph(_,E,T)}function KH(_,E,T,F){return F=typeof F=="function"?F:r,_==null?_:Ph(_,E,T,F)}var ak=mI(Ln),ok=mI(Wi);function ZH(_,E,T){var F=wt(_),N=F||Ws(_)||Ec(_);if(E=ut(E,4),T==null){var q=_&&_.constructor;N?T=F?new q:[]:$r(_)?T=ls(q)?_c(C0(_)):{}:T={}}return(N?Aa:wo)(_,function(ee,ne,fe){return E(T,ee,ne,fe)}),T}function QH(_,E){return _==null?!0:Tx(_,E)}function JH(_,E,T){return _==null?_:eI(_,E,Rx(T))}function eX(_,E,T,F){return F=typeof F=="function"?F:r,_==null?_:eI(_,E,Rx(T),F)}function wc(_){return _==null?[]:lx(_,Ln(_))}function tX(_){return _==null?[]:lx(_,Wi(_))}function rX(_,E,T){return T===r&&(T=E,E=r),T!==r&&(T=ka(T),T=T===T?T:0),E!==r&&(E=ka(E),E=E===E?E:0),ql(ka(_),E,T)}function nX(_,E,T){return E=us(E),T===r?(T=E,E=0):T=us(T),_=ka(_),u7(_,E,T)}function iX(_,E,T){if(T&&typeof T!="boolean"&&Ai(_,E,T)&&(E=T=r),T===r&&(typeof E=="boolean"?(T=E,E=r):typeof _=="boolean"&&(T=_,_=r)),_===r&&E===r?(_=0,E=1):(_=us(_),E===r?(E=_,_=0):E=us(E)),_>E){var F=_;_=E,E=F}if(T||_%1||E%1){var N=RR();return si(_+N*(E-_+LV("1e-"+((N+"").length-1))),E)}return wx(_,E)}var aX=bc(function(_,E,T){return E=E.toLowerCase(),_+(T?sk(E):E)});function sk(_){return Zx(lr(_).toLowerCase())}function lk(_){return _=lr(_),_&&_.replace(z_,qV).replace(AV,"")}function oX(_,E,T){_=lr(_),E=sa(E);var F=_.length;T=T===r?F:ql(Tt(T),0,F);var N=T;return T-=E.length,T>=0&&_.slice(T,N)==E}function sX(_){return _=lr(_),_&&ia.test(_)?_.replace(ai,KV):_}function lX(_){return _=lr(_),_&&Yr.test(_)?_.replace(oi,"\\$&"):_}var uX=bc(function(_,E,T){return _+(T?"-":"")+E.toLowerCase()}),cX=bc(function(_,E,T){return _+(T?" ":"")+E.toLowerCase()}),fX=fI("toLowerCase");function hX(_,E,T){_=lr(_),E=Tt(E);var F=E?pc(_):0;if(!E||F>=E)return _;var N=(E-F)/2;return V0(O0(N),T)+_+V0(P0(N),T)}function dX(_,E,T){_=lr(_),E=Tt(E);var F=E?pc(_):0;return E&&F<E?_+V0(E-F,T):_}function pX(_,E,T){_=lr(_),E=Tt(E);var F=E?pc(_):0;return E&&F<E?V0(E-F,T)+_:_}function vX(_,E,T){return T||E==null?E=0:E&&(E=+E),SG(lr(_).replace($i,""),E||0)}function gX(_,E,T){return(T?Ai(_,E,T):E===r)?E=1:E=Tt(E),Cx(lr(_),E)}function mX(){var _=arguments,E=lr(_[0]);return _.length<3?E:E.replace(_[1],_[2])}var yX=bc(function(_,E,T){return _+(T?"_":"")+E.toLowerCase()});function _X(_,E,T){return T&&typeof T!="number"&&Ai(_,E,T)&&(E=T=r),T=T===r?M:T>>>0,T?(_=lr(_),_&&(typeof E=="string"||E!=null&&!Yx(E))&&(E=sa(E),!E&&dc(_))?Gs(Xa(_),0,T):_.split(E,T)):[]}var xX=bc(function(_,E,T){return _+(T?" ":"")+Zx(E)});function bX(_,E,T){return _=lr(_),T=T==null?0:ql(Tt(T),0,_.length),E=sa(E),_.slice(T,T+E.length)==E}function SX(_,E,T){var F=G.templateSettings;T&&Ai(_,E,T)&&(E=r),_=lr(_),E=ev({},E,F,yI);var N=ev({},E.imports,F.imports,yI),q=Ln(N),ee=lx(N,q),ne,fe,Ae=0,Te=E.interpolate||uc,Oe="__p += '",We=cx((E.escape||uc).source+"|"+Te.source+"|"+(Te===Si?U_:uc).source+"|"+(E.evaluate||uc).source+"|$","g"),nt="//# sourceURL="+(cr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++IV+"]")+`
`;_.replace(We,function(ft,Nt,Wt,ua,Ti,ca){return Wt||(Wt=ua),Oe+=_.slice(Ae,ca).replace(c0,ZV),Nt&&(ne=!0,Oe+=`' +
__e(`+Nt+`) +
'`),Ti&&(fe=!0,Oe+=`';
`+Ti+`;
__p += '`),Wt&&(Oe+=`' +
((__t = (`+Wt+`)) == null ? '' : __t) +
'`),Ae=ca+ft.length,ft}),Oe+=`';
`;var ct=cr.call(E,"variable")&&E.variable;if(!ct)Oe=`with (obj) {
`+Oe+`
}
`;else if(B_.test(ct))throw new Et(s);Oe=(fe?Oe.replace(Dn,""):Oe).replace(Mn,"$1").replace(yr,"$1;"),Oe="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var kt=ck(function(){return ir(q,nt+"return "+Oe).apply(r,ee)});if(kt.source=Oe,Xx(kt))throw kt;return kt}function EX(_){return lr(_).toLowerCase()}function wX(_){return lr(_).toUpperCase()}function CX(_,E,T){if(_=lr(_),_&&(T||E===r))return _R(_);if(!_||!(E=sa(E)))return _;var F=Xa(_),N=Xa(E),q=xR(F,N),ee=bR(F,N)+1;return Gs(F,q,ee).join("")}function AX(_,E,T){if(_=lr(_),_&&(T||E===r))return _.slice(0,ER(_)+1);if(!_||!(E=sa(E)))return _;var F=Xa(_),N=bR(F,Xa(E))+1;return Gs(F,0,N).join("")}function TX(_,E,T){if(_=lr(_),_&&(T||E===r))return _.replace($i,"");if(!_||!(E=sa(E)))return _;var F=Xa(_),N=xR(F,Xa(E));return Gs(F,N).join("")}function PX(_,E){var T=O,F=I;if($r(E)){var N="separator"in E?E.separator:N;T="length"in E?Tt(E.length):T,F="omission"in E?sa(E.omission):F}_=lr(_);var q=_.length;if(dc(_)){var ee=Xa(_);q=ee.length}if(T>=q)return _;var ne=T-pc(F);if(ne<1)return F;var fe=ee?Gs(ee,0,ne).join(""):_.slice(0,ne);if(N===r)return fe+F;if(ee&&(ne+=fe.length-ne),Yx(N)){if(_.slice(ne).search(N)){var Ae,Te=fe;for(N.global||(N=cx(N.source,lr(u0.exec(N))+"g")),N.lastIndex=0;Ae=N.exec(Te);)var Oe=Ae.index;fe=fe.slice(0,Oe===r?ne:Oe)}}else if(_.indexOf(sa(N),ne)!=ne){var We=fe.lastIndexOf(N);We>-1&&(fe=fe.slice(0,We))}return fe+F}function OX(_){return _=lr(_),_&&mn.test(_)?_.replace(na,iG):_}var RX=bc(function(_,E,T){return _+(T?" ":"")+E.toUpperCase()}),Zx=fI("toUpperCase");function uk(_,E,T){return _=lr(_),E=T?r:E,E===r?JV(_)?sG(_):WV(_):_.match(E)||[]}var ck=Dt(function(_,E){try{return aa(_,r,E)}catch(T){return Xx(T)?T:new Et(T)}}),IX=os(function(_,E){return Aa(E,function(T){T=Ao(T),is(_,T,zx(_[T],_))}),_});function kX(_){var E=_==null?0:_.length,T=ut();return _=E?Fr(_,function(F){if(typeof F[1]!="function")throw new Ta(o);return[T(F[0]),F[1]]}):[],Dt(function(F){for(var N=-1;++N<E;){var q=_[N];if(aa(q[0],this,F))return aa(q[1],this,F)}})}function FX(_){return i7(Oa(_,f))}function Qx(_){return function(){return _}}function DX(_,E){return _==null||_!==_?E:_}var MX=dI(),LX=dI(!0);function zi(_){return _}function Jx(_){return GR(typeof _=="function"?_:Oa(_,f))}function BX(_){return zR(Oa(_,f))}function NX(_,E){return HR(_,Oa(E,f))}var UX=Dt(function(_,E){return function(T){return Ah(T,_,E)}}),jX=Dt(function(_,E){return function(T){return Ah(_,T,E)}});function e1(_,E,T){var F=Ln(E),N=M0(E,F);T==null&&!($r(E)&&(N.length||!F.length))&&(T=E,E=_,_=this,N=M0(E,Ln(E)));var q=!($r(T)&&"chain"in T)||!!T.chain,ee=ls(_);return Aa(N,function(ne){var fe=E[ne];_[ne]=fe,ee&&(_.prototype[ne]=function(){var Ae=this.__chain__;if(q||Ae){var Te=_(this.__wrapped__),Oe=Te.__actions__=Vi(this.__actions__);return Oe.push({func:fe,args:arguments,thisArg:_}),Te.__chain__=Ae,Te}return fe.apply(_,Bs([this.value()],arguments))})}),_}function $X(){return Kn._===this&&(Kn._=dG),this}function t1(){}function VX(_){return _=Tt(_),Dt(function(E){return XR(E,_)})}var GX=kx(Fr),WX=kx(pR),zX=kx(nx);function fk(_){return Ux(_)?ix(Ao(_)):b7(_)}function HX(_){return function(E){return _==null?r:Kl(_,E)}}var XX=vI(),YX=vI(!0);function r1(){return[]}function n1(){return!1}function qX(){return{}}function KX(){return""}function ZX(){return!0}function QX(_,E){if(_=Tt(_),_<1||_>te)return[];var T=M,F=si(_,M);E=ut(E),_-=M;for(var N=sx(F,E);++T<_;)E(T);return N}function JX(_){return wt(_)?Fr(_,Ao):la(_)?[_]:Vi(II(lr(_)))}function eY(_){var E=++fG;return lr(_)+E}var tY=$0(function(_,E){return _+E},0),rY=Fx("ceil"),nY=$0(function(_,E){return _/E},1),iY=Fx("floor");function aY(_){return _&&_.length?D0(_,zi,yx):r}function oY(_,E){return _&&_.length?D0(_,ut(E,2),yx):r}function sY(_){return mR(_,zi)}function lY(_,E){return mR(_,ut(E,2))}function uY(_){return _&&_.length?D0(_,zi,Sx):r}function cY(_,E){return _&&_.length?D0(_,ut(E,2),Sx):r}var fY=$0(function(_,E){return _*E},1),hY=Fx("round"),dY=$0(function(_,E){return _-E},0);function pY(_){return _&&_.length?ox(_,zi):0}function vY(_,E){return _&&_.length?ox(_,ut(E,2)):0}return G.after=Bz,G.ary=VI,G.assign=wH,G.assignIn=rk,G.assignInWith=ev,G.assignWith=CH,G.at=AH,G.before=GI,G.bind=zx,G.bindAll=IX,G.bindKey=WI,G.castArray=qz,G.chain=UI,G.chunk=iW,G.compact=aW,G.concat=oW,G.cond=kX,G.conforms=FX,G.constant=Qx,G.countBy=pz,G.create=TH,G.curry=zI,G.curryRight=HI,G.debounce=XI,G.defaults=PH,G.defaultsDeep=OH,G.defer=Nz,G.delay=Uz,G.difference=sW,G.differenceBy=lW,G.differenceWith=uW,G.drop=cW,G.dropRight=fW,G.dropRightWhile=hW,G.dropWhile=dW,G.fill=pW,G.filter=gz,G.flatMap=_z,G.flatMapDeep=xz,G.flatMapDepth=bz,G.flatten=MI,G.flattenDeep=vW,G.flattenDepth=gW,G.flip=jz,G.flow=MX,G.flowRight=LX,G.fromPairs=mW,G.functions=LH,G.functionsIn=BH,G.groupBy=Sz,G.initial=_W,G.intersection=xW,G.intersectionBy=bW,G.intersectionWith=SW,G.invert=UH,G.invertBy=jH,G.invokeMap=wz,G.iteratee=Jx,G.keyBy=Cz,G.keys=Ln,G.keysIn=Wi,G.map=Y0,G.mapKeys=VH,G.mapValues=GH,G.matches=BX,G.matchesProperty=NX,G.memoize=K0,G.merge=WH,G.mergeWith=nk,G.method=UX,G.methodOf=jX,G.mixin=e1,G.negate=Z0,G.nthArg=VX,G.omit=zH,G.omitBy=HH,G.once=$z,G.orderBy=Az,G.over=GX,G.overArgs=Vz,G.overEvery=WX,G.overSome=zX,G.partial=Hx,G.partialRight=YI,G.partition=Tz,G.pick=XH,G.pickBy=ik,G.property=fk,G.propertyOf=HX,G.pull=AW,G.pullAll=BI,G.pullAllBy=TW,G.pullAllWith=PW,G.pullAt=OW,G.range=XX,G.rangeRight=YX,G.rearg=Gz,G.reject=Rz,G.remove=RW,G.rest=Wz,G.reverse=Gx,G.sampleSize=kz,G.set=qH,G.setWith=KH,G.shuffle=Fz,G.slice=IW,G.sortBy=Lz,G.sortedUniq=NW,G.sortedUniqBy=UW,G.split=_X,G.spread=zz,G.tail=jW,G.take=$W,G.takeRight=VW,G.takeRightWhile=GW,G.takeWhile=WW,G.tap=az,G.throttle=Hz,G.thru=X0,G.toArray=JI,G.toPairs=ak,G.toPairsIn=ok,G.toPath=JX,G.toPlainObject=tk,G.transform=ZH,G.unary=Xz,G.union=zW,G.unionBy=HW,G.unionWith=XW,G.uniq=YW,G.uniqBy=qW,G.uniqWith=KW,G.unset=QH,G.unzip=Wx,G.unzipWith=NI,G.update=JH,G.updateWith=eX,G.values=wc,G.valuesIn=tX,G.without=ZW,G.words=uk,G.wrap=Yz,G.xor=QW,G.xorBy=JW,G.xorWith=ez,G.zip=tz,G.zipObject=rz,G.zipObjectDeep=nz,G.zipWith=iz,G.entries=ak,G.entriesIn=ok,G.extend=rk,G.extendWith=ev,e1(G,G),G.add=tY,G.attempt=ck,G.camelCase=aX,G.capitalize=sk,G.ceil=rY,G.clamp=rX,G.clone=Kz,G.cloneDeep=Qz,G.cloneDeepWith=Jz,G.cloneWith=Zz,G.conformsTo=eH,G.deburr=lk,G.defaultTo=DX,G.divide=nY,G.endsWith=oX,G.eq=qa,G.escape=sX,G.escapeRegExp=lX,G.every=vz,G.find=mz,G.findIndex=FI,G.findKey=RH,G.findLast=yz,G.findLastIndex=DI,G.findLastKey=IH,G.floor=iY,G.forEach=jI,G.forEachRight=$I,G.forIn=kH,G.forInRight=FH,G.forOwn=DH,G.forOwnRight=MH,G.get=qx,G.gt=tH,G.gte=rH,G.has=NH,G.hasIn=Kx,G.head=LI,G.identity=zi,G.includes=Ez,G.indexOf=yW,G.inRange=nX,G.invoke=$H,G.isArguments=Jl,G.isArray=wt,G.isArrayBuffer=nH,G.isArrayLike=Gi,G.isArrayLikeObject=tn,G.isBoolean=iH,G.isBuffer=Ws,G.isDate=aH,G.isElement=oH,G.isEmpty=sH,G.isEqual=lH,G.isEqualWith=uH,G.isError=Xx,G.isFinite=cH,G.isFunction=ls,G.isInteger=qI,G.isLength=Q0,G.isMap=KI,G.isMatch=fH,G.isMatchWith=hH,G.isNaN=dH,G.isNative=pH,G.isNil=gH,G.isNull=vH,G.isNumber=ZI,G.isObject=$r,G.isObjectLike=qr,G.isPlainObject=kh,G.isRegExp=Yx,G.isSafeInteger=mH,G.isSet=QI,G.isString=J0,G.isSymbol=la,G.isTypedArray=Ec,G.isUndefined=yH,G.isWeakMap=_H,G.isWeakSet=xH,G.join=EW,G.kebabCase=uX,G.last=Ia,G.lastIndexOf=wW,G.lowerCase=cX,G.lowerFirst=fX,G.lt=bH,G.lte=SH,G.max=aY,G.maxBy=oY,G.mean=sY,G.meanBy=lY,G.min=uY,G.minBy=cY,G.stubArray=r1,G.stubFalse=n1,G.stubObject=qX,G.stubString=KX,G.stubTrue=ZX,G.multiply=fY,G.nth=CW,G.noConflict=$X,G.noop=t1,G.now=q0,G.pad=hX,G.padEnd=dX,G.padStart=pX,G.parseInt=vX,G.random=iX,G.reduce=Pz,G.reduceRight=Oz,G.repeat=gX,G.replace=mX,G.result=YH,G.round=hY,G.runInContext=le,G.sample=Iz,G.size=Dz,G.snakeCase=yX,G.some=Mz,G.sortedIndex=kW,G.sortedIndexBy=FW,G.sortedIndexOf=DW,G.sortedLastIndex=MW,G.sortedLastIndexBy=LW,G.sortedLastIndexOf=BW,G.startCase=xX,G.startsWith=bX,G.subtract=dY,G.sum=pY,G.sumBy=vY,G.template=SX,G.times=QX,G.toFinite=us,G.toInteger=Tt,G.toLength=ek,G.toLower=EX,G.toNumber=ka,G.toSafeInteger=EH,G.toString=lr,G.toUpper=wX,G.trim=CX,G.trimEnd=AX,G.trimStart=TX,G.truncate=PX,G.unescape=OX,G.uniqueId=eY,G.upperCase=RX,G.upperFirst=Zx,G.each=jI,G.eachRight=$I,G.first=LI,e1(G,function(){var _={};return wo(G,function(E,T){cr.call(G.prototype,T)||(_[T]=E)}),_}(),{chain:!1}),G.VERSION=n,Aa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){G[_].placeholder=G}),Aa(["drop","take"],function(_,E){jt.prototype[_]=function(T){T=T===r?1:_n(Tt(T),0);var F=this.__filtered__&&!E?new jt(this):this.clone();return F.__filtered__?F.__takeCount__=si(T,F.__takeCount__):F.__views__.push({size:si(T,M),type:_+(F.__dir__<0?"Right":"")}),F},jt.prototype[_+"Right"]=function(T){return this.reverse()[_](T).reverse()}}),Aa(["filter","map","takeWhile"],function(_,E){var T=E+1,F=T==D||T==U;jt.prototype[_]=function(N){var q=this.clone();return q.__iteratees__.push({iteratee:ut(N,3),type:T}),q.__filtered__=q.__filtered__||F,q}}),Aa(["head","last"],function(_,E){var T="take"+(E?"Right":"");jt.prototype[_]=function(){return this[T](1).value()[0]}}),Aa(["initial","tail"],function(_,E){var T="drop"+(E?"":"Right");jt.prototype[_]=function(){return this.__filtered__?new jt(this):this[T](1)}}),jt.prototype.compact=function(){return this.filter(zi)},jt.prototype.find=function(_){return this.filter(_).head()},jt.prototype.findLast=function(_){return this.reverse().find(_)},jt.prototype.invokeMap=Dt(function(_,E){return typeof _=="function"?new jt(this):this.map(function(T){return Ah(T,_,E)})}),jt.prototype.reject=function(_){return this.filter(Z0(ut(_)))},jt.prototype.slice=function(_,E){_=Tt(_);var T=this;return T.__filtered__&&(_>0||E<0)?new jt(T):(_<0?T=T.takeRight(-_):_&&(T=T.drop(_)),E!==r&&(E=Tt(E),T=E<0?T.dropRight(-E):T.take(E-_)),T)},jt.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},jt.prototype.toArray=function(){return this.take(M)},wo(jt.prototype,function(_,E){var T=/^(?:filter|find|map|reject)|While$/.test(E),F=/^(?:head|last)$/.test(E),N=G[F?"take"+(E=="last"?"Right":""):E],q=F||/^find/.test(E);N&&(G.prototype[E]=function(){var ee=this.__wrapped__,ne=F?[1]:arguments,fe=ee instanceof jt,Ae=ne[0],Te=fe||wt(ee),Oe=function(Nt){var Wt=N.apply(G,Bs([Nt],ne));return F&&We?Wt[0]:Wt};Te&&T&&typeof Ae=="function"&&Ae.length!=1&&(fe=Te=!1);var We=this.__chain__,nt=!!this.__actions__.length,ct=q&&!We,kt=fe&&!nt;if(!q&&Te){ee=kt?ee:new jt(this);var ft=_.apply(ee,ne);return ft.__actions__.push({func:X0,args:[Oe],thisArg:r}),new Pa(ft,We)}return ct&&kt?_.apply(this,ne):(ft=this.thru(Oe),ct?F?ft.value()[0]:ft.value():ft)})}),Aa(["pop","push","shift","sort","splice","unshift"],function(_){var E=_0[_],T=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",F=/^(?:pop|shift)$/.test(_);G.prototype[_]=function(){var N=arguments;if(F&&!this.__chain__){var q=this.value();return E.apply(wt(q)?q:[],N)}return this[T](function(ee){return E.apply(wt(ee)?ee:[],N)})}}),wo(jt.prototype,function(_,E){var T=G[E];if(T){var F=T.name+"";cr.call(yc,F)||(yc[F]=[]),yc[F].push({name:E,func:T})}}),yc[j0(r,m).name]=[{name:"wrapper",func:r}],jt.prototype.clone=OG,jt.prototype.reverse=RG,jt.prototype.value=IG,G.prototype.at=oz,G.prototype.chain=sz,G.prototype.commit=lz,G.prototype.next=uz,G.prototype.plant=fz,G.prototype.reverse=hz,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=dz,G.prototype.first=G.prototype.head,_h&&(G.prototype[_h]=cz),G},vc=lG();zl?((zl.exports=vc)._=vc,J_._=vc):Kn._=vc}).call(st)})(fm,fm.exports);var Jp=fm.exports;const Iu={height:1440,width:2560};function Rs(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(Iu.width=Number(r[0])*2,Iu.height=Number(r[1])*2),Iu}function zt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const K5={};function oye(t){const e={};for(const[r,n]of Object.entries(t))e[r]=K5[n.scriptType]={scriptString:r,...n};return e}const gt=t=>{const e=Rs().width==2560?.5:.33333;return(typeof t=="string"?Number(t):t)/e};function Cn(t){const e={};return t&&(t.x!==void 0&&(e.left=gt(t.x)+"px",e.position="absolute",e.transform="translateX(-50%)"),t.y!==void 0&&(e.top=gt(t.y)+"px",e.position="absolute",e.transform+=" translateY(-50%)"),t.scale!==void 0&&(e.transform+=` scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=gt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=gt(t.width)+"px"),t.height!==void 0&&(e.height=gt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=gt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=gt(t.marginRight)+"px"),t.marginTop!==void 0&&(e.marginTop=gt(t.marginTop)+"px"),t.marginBottom!==void 0&&(e.marginBottom=gt(t.marginBottom)+"px"),t.gap!==void 0&&(e.gap=gt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=gt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=gt(t.columnGap)+"px"),t.position&&(e.position=t.position),t.alignPosition!==void 0&&(t.alignPosition==="top-center"?e.top="0":t.alignPosition==="bottom-center"&&(e.top="auto",e.bottom="0")),t.fontColor===void 0&&t.customColor!==void 0&&(e.color=t.customColor),t.fontColor===void 0&&t.customFontSize!==void 0&&(e.fontSize=gt(t.customFontSize)+"px")),e}function sye(t){if(!t||Jp.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:Mt(n,Rt.ui)})}),e}function lye(t){if(!t||Jp.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"video",url:Mt(n,Rt.video)})}),e}function HM(t,e){const r=document.createElement("style");let n=`
    @keyframes ${e==="normal"?"":"active-"}cursor-animation {
  `;if(!t.imgs||t.imgs.length===0)return;t.imgs.forEach((a,o)=>{const s=Mt(a,Rt.ui),c=o/t.imgs.length*100;n+=`
      ${c}% { cursor: url(${s}), pointer; }
    `}),n+=`
    100% { cursor: url(${Mt(t.imgs[0],Rt.ui)}), pointer; }
    }
  `;const i=[n];e==="normal"?i.push(`#root { animation: cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`):i.push(`.interactive { animation: active-cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`),r.innerHTML=i.join(`
`),document.head.appendChild(r)}class kT{constructor(e,r){qe(this,"text");qe(this,"jump");qe(this,"jumpToScene");qe(this,"showCondition");qe(this,"enableCondition");qe(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new kT(o,a[1]),c=/\$\{(.*?)\}/,l=i.match(c);if(l){const f=l[1].split(","),h={};f.forEach(d=>{const[p,v]=d.split("=");p&&v&&(h[p.trim()]=isNaN(Number(v.trim()))?v.trim():Number(v.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const f=n.match(/\[(.*)\]/);f&&(s.enableCondition=f[1])}return s}}const Ew=(t,e)=>{const n=t.content.split("|").map(f=>kT.parse(f)),a=se.getState().userData.optionData.textboxFont===Ru.song?'"", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=IT();let c=!1,l={current:null};const u=f=>f.filter((h,d)=>gw(h.showCondition)).map((h,d)=>{var g,x;const p=gw(h.enableCondition);let v=p?`${eu.Choose_item} interactive`:eu.Choose_item_disabled;const y=()=>{if(!(!p&&!c)){if(s(),e==null||e(),l.current&&(clearTimeout(l.current),l.current=null),h.jumpToScene){const S=h.jump.split("./game/scene/")[1];k5(h.jump,S)}else F5(h.jump);Y.gameplay.performController.unmountPerform("choose"),c=!1}};let m={fontFamily:a};if(h.style&&(m=Cn(h.style)),typeof((g=h.style)==null?void 0:g.countdown)=="number"){v=p?eu.Choose_item_countdown:eu.Choose_item_countdown_disabled;let S=h.style.countdown,b=1082,w=1082/(S*1e3/16);const C=()=>{S<=0&&l.current?(clearTimeout(l),l.current=null,c=!p,y()):l.current=setTimeout(()=>{S-=.016,b-=w;let A=document.getElementById("rect");A==null||A.setAttribute("width",Math.max(0,b).toString()),C()},16)};return C(),B.jsxs(Gn.Fragment,{children:[B.jsxs("div",{className:v,style:m,onClick:y,children:[B.jsx("img",{src:iye,alt:h.text,style:{width:"1082px",height:"106px"}}),B.jsx("img",{src:aye,className:eu.Choose_item_progress_bar})]}),B.jsx("svg",{width:"0",height:"0",children:B.jsx("defs",{children:B.jsx("clipPath",{id:"myClip",children:B.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},h.jump+d)}if((x=h.style)!=null&&x.image){v=eu.Choose_item_image;const S=Mt(h.style.image,Rt.ui),b=`img-option-${d}`,w=new Image;return w.src=S,w.onload=function(){let C=document.getElementById(b);w.style.width=w.naturalWidth+"px",w.style.height=w.naturalHeight+"px",w.style.position="absolute",w.alt=h.text,C&&(C.style.width=w.naturalWidth+"px",C.style.height=w.naturalHeight+"px",setTimeout(()=>{C==null||C.prepend(w),C=null},32))},B.jsx("div",{id:b,className:v,style:m,onClick:y,onMouseEnter:p?o:void 0,children:B.jsx("span",{children:h.text})},h.jump+d)}return B.jsx("div",{className:v,style:m,onClick:y,onMouseEnter:p?o:void 0,children:h.text},h.jump+d)});return ju.render(B.jsx("div",{className:eu.Choose_Main,children:u(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ju.render(B.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},uye=t=>(Ge.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),cye=t=>(t.content!==""&&t.content!=="none"?se.dispatch(ht({key:"enableFilm",value:t.content})):se.dispatch(ht({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),fye="_Choose_Main_4xkm5_1",hye="_Choose_item_4xkm5_13",dye="_glabalDialog_container_inner_4xkm5_28",pye="_glabalDialog_container_4xkm5_28",vye="_title_4xkm5_47",gye="_button_4xkm5_59",Rc={Choose_Main:fye,Choose_item:hye,glabalDialog_container_inner:dye,glabalDialog_container:pye,title:vye,button:gye},mye=t=>{const e=t.content.toString().trim(),r=Ut(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=Ut(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=se.getState().userData.optionData.textboxFont===Ru.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=IT(),u=B.jsx("div",{style:{fontFamily:s},className:Rc.glabalDialog_container,children:B.jsxs("div",{className:Rc.glabalDialog_container_inner,children:[B.jsx("div",{className:Rc.title,children:n}),B.jsx("input",{id:"user-input",className:Rc.Choose_item}),B.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&se.dispatch(j8({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),Y.gameplay.performController.unmountPerform("userInput"),un()},className:Rc.button,children:a})]})});return ju.render(B.jsx("div",{className:Rc.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ju.render(B.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},yye="_FullScreenPerform_main_7er8a_2",_ye="_FullScreenPerform_element_7er8a_9",xye="_fullScreen_video_7er8a_17",bye="_fadeIn_7er8a_74",Sye="_intro_showSoftly_7er8a_1",Eye="_slideIn_7er8a_80",wye="_typingEffect_7er8a_86",Cye="_typing_7er8a_86",Aye="_blinkCursor_7er8a_1",Tye="_pixelateEffect_7er8a_95",Pye="_pixelateAnimation_7er8a_1",Oye="_revealAnimation_7er8a_101",Rye="_videoContainer_7er8a_115",qs={FullScreenPerform_main:yye,FullScreenPerform_element:_ye,fullScreen_video:xye,fadeIn:bye,intro_showSoftly:Sye,slideIn:Eye,typingEffect:wye,typing:Cye,blinkCursor:Aye,pixelateEffect:Tye,pixelateAnimation:Pye,revealAnimation:Oye,videoContainer:Rye},Iye=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,w=0)=>{switch(b){case"fadeIn":return qs.fadeIn;case"slideIn":return qs.slideIn;case"typingEffect":return`${qs.typingEffect} ${w}`;case"pixelateEffect":return qs.pixelateEffect;case"revealAnimation":return qs.revealAnimation;default:return qs.fadeIn}};let o=qs.fadeIn,s=1500,c=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const w=parseInt(b.value.toString(),10);s=isNaN(w)?s:w}b.key==="hold"&&b.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const d=c?1e3*60*60*24:1e3+s*u.length;let p=!0,v=setTimeout(()=>{p=!1},h),y=setTimeout(()=>{});const m=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{p=!1},h),b){const w=b.childNodes[0].childNodes[0].childNodes,C=w.length;w.forEach((A,P)=>{const O=Number(A.style.animationDelay.split("ms")[0]);O>0&&(A.style.animationDelay=`${O-s}ms`),P===C-1&&(O===0?(clearTimeout(y),Y.gameplay.performController.unmountPerform(e)):(clearTimeout(y),c||(y=setTimeout(()=>{Y.gameplay.performController.unmountPerform(e),setTimeout(un,0)},h))))})}};Y.events.userInteractNext.on(m);const g=u.map((b,w)=>B.jsxs("div",{style:{animationDelay:`${s*w}ms`},className:o,children:[b,b===""?"":""]},"introtext"+w+Math.random().toString())),x=B.jsx("div",{style:l,children:B.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:g})});ju.render(x,document.getElementById("introContainer"));const S=document.getElementById("introContainer");return S&&(S.style.display="block"),{performName:e,duration:d,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),Y.events.userInteractNext.off(m)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}},kye=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Fye=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),se.dispatch(ht({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Dye="modulepreload",Mye=function(t,e){return new URL(t,e).href},XM={},Lye=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Mye(a,n),a in XM)return;XM[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Dye,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Z5=new Map;function Bye(t){return t?typeof t=="string"?t:t():null}function Q5(t){const e=Bye(t);return e||(Ge.error("Get name of perform failed. There no name of the perform."),"")}function GNe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);Z5.set(Q5(t),e)}function Nye(t,e=[]){const r=Z5.get(Q5(t));if(!r||!(r instanceof Function))throw Ge.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}Lye(()=>import("./initRegister-fdda802a.js"),[],import.meta.url);const Uye=t=>{const e="PixiPerform"+t.content;Y.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=Nye(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Ge.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=Y.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=Y.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},jye=t=>{var a;Ge.debug("play SE");let e="effect-sound";Y.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;Ut(t,"id")&&(e=`effect-sound-${((a=Ut(t,"id"))==null?void 0:a.toString())??""}`,Y.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(()=>{var p;const s=Ut(t,"volume");let c=document.createElement("audio");c.src=r,n&&(c.loop=!0);const l=se.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((p=l.optionData)==null?void 0:p.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const d={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(d),c==null||c.play(),c.onended=()=>{for(const v of Y.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),Y.gameplay.performController.unmountPerform(v.performName))}},1)})}};function $ye(t,e){for(let r=t;r<=e;r++){const n=se.getState().saveData.saveData[r];n&&Zo.setItem(`${Y.gameKey}-saves${r}`,n).then(()=>{Ge.info(`${r}`)})}}async function e0(t,e){for(let r=t;r<=e;r++){const n=await Zo.getItem(`${Y.gameKey}-saves${r}`);se.dispatch(Kt.saveGame({index:r,saveData:n})),Ge.info(`${r}`)}}async function Vye(){const t=se.getState().saveData.quickSaveData;await Zo.setItem(`${Y.gameKey}-saves-fast`,t),Ge.info("")}async function J5(){const t=await Zo.getItem(`${Y.gameKey}-saves-fast`);se.dispatch(Kt.setFastSave(t)),Ge.info("")}async function eU(){const t=se.getState().saveData.unlockStorylineList;await Zo.setItem(`${Y.gameKey}-storyline`,{data:t}),Ge.info(" >> ")}async function FT(){const t=await Zo.getItem(`${Y.gameKey}-storyline`);se.dispatch(Kt.setStorylineListFromStorage((t==null?void 0:t.data)??[])),Ge.info(" >> ")}async function tU(){const t=se.getState().saveData.unlockAchieveData;await Zo.setItem(`${Y.gameKey}-unlock-achieve`,{data:t}),Ge.info(" >>> ")}async function Gye(){const t=await Zo.getItem(`${Y.gameKey}-unlock-achieve`);se.dispatch(Kt.setUnlockAchieveData((t==null?void 0:t.data)||[])),Ge.info(" >>> ")}const hm=async(t,e)=>{const r=await rU(t,!0,e);se.dispatch(Kt.saveGame({index:t,saveData:r})),$ye(t,t)};async function rU(t,e=!0,r){const n=se.getState().stage,i=zr(Y.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=Y.videoManager.videosByKey[Y.videoManager.currentPlayingVideo];c.player&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:zr(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:Y.sceneManager.sceneData.currentSentenceId,sceneStack:zr(Y.sceneManager.sceneData.sceneStack),sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function Wye(){const t=se.getState().stage,e=zr(Y.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:zr(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:Y.sceneManager.sceneData.currentSentenceId,sceneStack:zr(Y.sceneManager.sceneData.sceneStack),sceneName:Y.sceneManager.sceneData.currentScene.sceneName,sceneUrl:Y.sceneManager.sceneData.currentScene.sceneUrl}};return se.dispatch(Kt.setSaveVideoData(n)),n}const zye=t=>{const e=se.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a="videoPlay."+Af();let o="",s=!1;const c=Date.now();se.dispatch(sp(!1));const l={current:()=>{console.log("")}};t.args.forEach(d=>{d.key==="choose"&&(o="choose:"+d.value),d.key==="continueBgm"&&d.value,d.key==="loop"&&(s=d.value===!0)});const u=()=>{let d=Ut(t,"skipOff"),p=!0;return Y.gameplay.isFast&&Y.gameplay.isSyncingWithOrigine?(p=!1,d&&(p=!0),s&&(p=!1),o!==""&&(p=!0,l.current())):(d||s||o!=="")&&(p=!0),p};Y.videoManager.showVideo(t.content);let f=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:u,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(d=>{const p=v=>{f=!0,v.stopFunction(),Y.gameplay.performController.unmountPerform(v.performName)};setTimeout(()=>{const v=t.content,y=se.getState().saveData.isLoadVideo;Y.videoManager.seek(v,.03),Y.videoManager.setVolume(v,i),Y.videoManager.setLoop(v,s);const m=o?o.slice(7).split("|").map(C=>"game/scene/"+C.split(":")[1]):[];m.length&&nh(m);const g=()=>{if(y){se.dispatch(mt({component:"showExtra",visibility:!0}));return}for(const C of Y.gameplay.performController.performList)if(C.performName===a)if(o!==""&&!s){const A=ip(o,`${c}.txt`,""),P=Y.videoManager.getDuration(v);Y.videoManager.seek(v,(P||0)-.03),Y.videoManager.pauseVideo(v);const O=A.sentenceList[0],I=Ew(O,()=>{p(C)});Y.gameplay.performController.arrangeNewPerform(I,O)}else p(C),un()};l.current=g;const x={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:(C=!1)=>{const A=document.getElementById("currentVocal");A&&(A.volume=n.toString()),Y.videoManager.destroy(v,C)},blockingNext:u,blockingAuto:()=>!f,stopTimeout:void 0,goNextWhenOver:!0};d(x);const S=0,b=document.getElementById("currentVocal");b&&(b.volume=S.toString()),Y.videoManager.playVideo(v);const w=se.getState().saveData.saveData||[];if(w!=null&&w.length&&w.forEach(C=>{var A,P;(P=(A=C==null?void 0:C.nowStageState)==null?void 0:A.PerformList)==null||P.forEach(O=>{var I;((I=O==null?void 0:O.script)==null?void 0:I.content)===v&&setTimeout(()=>{se.dispatch(sp(!0))})})}),o&&s){const A=ip(o,`${c}.txt`,"").sentenceList[0],P=Ew(A,g);Y.gameplay.performController.arrangeNewPerform(P,A)}setTimeout(()=>{Wye()},1e3),Y.videoManager.onEnded(v,()=>{if(s)Y.videoManager.seek(v,.03),Y.videoManager.playVideo(v);else{const C=se.getState().stage.showValueList;if(C!=null&&C.length){const A=se.getState().stage.showValueName,P=C.filter(O=>O.showValueName!==A);se.dispatch(Vae(P))}g()}})},100)})}},Hye=t=>{var o;se.getState().stage.currentDialogKey;const e=t.content,r=Ki(e),n=(((o=Ut(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=Y.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=cm(e,n,r);s&&(Ge.debug(`${e}${n}`,r),(l=Y.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;se.getState().stage.currentDialogKey,(s=Y.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Xye(t,e){const r=Y.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=Y.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Yye=[{name:"universalSoftIn",animationGenerateFunc:J6},{name:"universalSoftOff",animationGenerateFunc:e5},{name:"testblur",animationGenerateFunc:Xye}],qye=t=>{var s,c,l;se.getState().stage.currentDialogKey;const e=t.content,r=Ut(t,"duration")??0,n=((s=Ut(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=Kye(e);let o=()=>{};if(a){Ge.debug(`${e}${n}`,r);const u=a(n,r);(c=Y.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=Y.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;se.getState().stage.currentDialogKey,(f=Y.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Kye(t){const e=Yye.find(r=>r.name===t);return Ge.debug("",e),e?e.animationGenerateFunc:null}const Zye=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Qye=t=>{var l;se.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};Y.animationManager.addAnimation(i);const a=Ki(e),o=((l=Ut(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=Y.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=cm(e,o,a);u&&(Ge.debug(`${e}${o}`,a),(h=Y.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;se.getState().stage.currentDialogKey,(u=Y.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Jye(t){return t.content==="hide"?se.dispatch(ht({key:"isDisableTextbox",value:!0})):se.dispatch(ht({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const e_e=t=>{var u;se.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=Ut(t,"duration"),a=((u=Ut(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=rp(a,f,i)}catch{n=[]}const o={name:e,effects:n};Y.animationManager.addAnimation(o);const s=r_e(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,d;(h=Y.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=t_e(e,a,s);f&&(Ge.debug(`${e}${a}`,s),(d=Y.gameplay.pixiStage)==null||d.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;se.getState().stage.currentDialogKey,(f=Y.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function t_e(t,e,r){const n=Y.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=zr({...yT,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Ge.debug("",i),I5(i,e,r)}return null}function r_e(t){const e=Y.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const n_e=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return Ut(t,"enter")&&Y.animationManager.nextEnterAnimationName.set(e,Ut(t,"enter").toString()),Ut(t,"exit")&&Y.animationManager.nextExitAnimationName.set(e+"-off",Ut(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},i_e=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ge.info(`BGM${r}${e}${n}`),se.dispatch(n6({name:r,url:e,series:n}));const i=se.getState().userData;return Zo.setItem(Y.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},a_e=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ge.info(`CG${r}${e}${n}`),se.dispatch(r6({name:r,url:e,series:n}));const i=se.getState().userData;return Zo.setItem(Y.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},DT=(t,e=!0,r=!0)=>{t&&Y.backlogManager.makeBacklogEmpty(),r&&Y.videoManager.destroyAll(!0),e&&Y.sceneManager.resetScene(),Y.gameplay.performController.removeAllPerform(),Y.gameplay.resetGamePlay();const n=zr(U8),i=se.getState().stage.GameVar;se.dispatch(fy(n)),e||se.dispatch(ht({key:"GameVar",value:i})),se.dispatch(Kt.setLoadVideo(!1))},o_e=t=>{DT(!0);const e=se.dispatch,r=Mt("start.txt",Rt.scene);return setTimeout(()=>{Y.sceneManager.resetScene()},5),e(Kt.resetFastSave()),dU(),Sa(r).then(n=>{Y.sceneManager.setCurrentScene(n,"start.txt",r)}),e(mt({component:"showTitle",visibility:!0})),e(mt({component:"isInGaming",visibility:!1})),zT(se.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},s_e=t=>(F5(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),l_e=t=>(Y.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Ge.warn("pixi ",e.performName);for(let r=0;r<Y.gameplay.performController.performList.length;r++){const n=Y.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),Y.gameplay.performController.performList.splice(r,1),r--)}se.dispatch(qi.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),ur={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},u_e=t=>(ur.maxAudioLevel=Math.max(t,ur.maxAudioLevel),{OPEN_THRESHOLD:ur.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:ur.maxAudioLevel*.5}),c_e=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=Y.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),ur.blinkTimerID=setTimeout(()=>{var a;(a=Y.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;ur.blinkTimerID=setTimeout(r,i)},200))}r()},f_e=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},YM=t=>{var h,d;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=Y.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((d=Y.gameplay.pixiStage)==null||d.performMouthSyncAnimation(o,s,f,c))};class h_e{constructor(e){qe(this,"subject");qe(this,"result");qe(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function Jy(t){return new h_e(t)}const d_e=t=>{Ge.debug("play vocal");const e="vocal-play",r=Ut(t,"vocal"),n=Ut(t,"volume");let i;i=se.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");Y.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const p of t.args)p.value===!0&&Jy(p.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),p.key==="figureId"&&(o=`${p.value.toString()}`);se.dispatch(ht({key:"playVocal",value:r})),se.dispatch(ht({key:"vocal",value:r}));let d=!1;return{arrangePerformPromise:new Promise(p=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?se.dispatch(ht({key:"vocalVolume",value:n})):se.dispatch(ht({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const y={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(ur.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const g=c.find(x=>x.targetId===o);YM({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:g,pos:a}),clearTimeout(ur.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!d,skipNextCollect:!0,stopTimeout:void 0};Y.gameplay.performController.arrangeNewPerform(y,t,!1),o=o||`fig-${a}`;const m=c.find(g=>g.targetId===o);if(m){const g=s.find(b=>b.key===o);if(g&&(a=g.basePosition),!ur.audioContext){let b;b=new AudioContext,ur.analyser=b.createAnalyser(),ur.analyser.fftSize=256,ur.dataArray=new Uint8Array(ur.analyser.frequencyBinCount)}ur.analyser||(ur.analyser=ur.audioContext.createAnalyser(),ur.analyser.fftSize=256),l=ur.analyser.frequencyBinCount,ur.dataArray=new Uint8Array(l);let x=document.getElementById("currentVocal");ur.source||(ur.source=ur.audioContext.createMediaElementSource(x),ur.source.connect(ur.analyser)),ur.analyser.connect(ur.audioContext.destination),ur.audioLevelInterval=setInterval(()=>{const b=f_e(ur.analyser,ur.dataArray,l),{OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:C}=u_e(b);YM({audioLevel:b,OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:m,pos:a})},50);let S;S=Date.now()+1e4,c_e({key:o,animationItem:m,pos:a,animationEndTime:S}),setTimeout(()=>{clearTimeout(ur.blinkTimerID)},1e4)}v==null||v.play(),v.onended=()=>{for(const g of Y.gameplay.performController.performList)g.performName===e&&(d=!0,g.stopFunction(),Y.gameplay.performController.unmountPerform(g.performName))}}},1)})}};function nU(t){switch(t){case As.slow:return 80;case As.normal:return 35;case As.fast:return 3}}function p_e(t){switch(t){case As.slow:return 800;case As.normal:return 350;case As.fast:return 200}}const v_e=t=>{const e=se.getState().stage,r=se.getState().userData,n=se.dispatch;let i=Math.random().toString(),a=t.content;const o=Ut(t,"concat"),s=Ut(t,"notend"),c=Ut(t,"speaker"),l=Ut(t,"clear"),u=Ut(t,"vocal");o?(i=e.currentDialogKey,a=e.showText+a,n(ht({key:"currentConcatDialogPrev",value:e.showText}))):n(ht({key:"currentConcatDialogPrev",value:""})),n(ht({key:"showText",value:a})),n(ht({key:"vocal",value:""})),r.optionData.voiceInterruption===Q2.no&&u===null||(n(ht({key:"playVocal",value:""})),Y.gameplay.performController.unmountPerform("vocal-play",!0)),n(ht({key:"currentDialogKey",value:i}));const h=nU(r.optionData.textSpeed)*t.content.length;for(const y of t.args)if(y.key==="fontSize")switch(y.value){case"default":n(ht({key:"showTextSize",value:-1}));break;case"small":n(ht({key:"showTextSize",value:Sl.small}));break;case"medium":n(ht({key:"showTextSize",value:Sl.medium}));break;case"large":n(ht({key:"showTextSize",value:Sl.large}));break}let d=e.showName;c!==null&&(d=c),l&&(d=""),n(ht({key:"showName",value:d})),u&&d_e(t);const p=Af();let v=750-r.optionData.textSpeed*250;return s&&(v=0),{performName:p,duration:h+v,isHoldOn:!1,stopFunction:()=>{Y.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},g_e=t=>{const e=se.getState().stage,r=se.getState().userData,n=se.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(ht({key:"showText",value:JSON.stringify(i)})),n(ht({key:"showName",value:""})),Ge.debug("",i),setTimeout(()=>{Y.events.textSettle.emit()},0);const a=Af(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{Y.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},m_e=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];se.dispatch(qi.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},y_e=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await FT(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=se.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?se.dispatch(Kt.addStorylineList({storyLine:o,videoData:se.getState().saveData.saveVideoData})):se.dispatch(Kt.replaceStorylineList({index:i,data:{storyLine:o,videoData:se.getState().saveData.saveVideoData}})),eU()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),__e=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=se.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return se.dispatch(Kt.saveAllUnlockAchieveList(c)),i===-1?se.dispatch(Kt.addUnlockAchieveData(s)):se.dispatch(Kt.replaceUnlockAchieveData({index:i,data:s})),tU(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function x_e(t){const e={isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0};return t!=null&&t.content&&(se.dispatch(ht({key:"showValueName",value:t.content})),e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?(se.dispatch(ht({key:"isShowValueSWitch",value:r.value})),e.isShowValueSWitch=!!r.value):r.key==="x"?(se.dispatch(ht({key:"showValueAxisX",value:Number(r.value)})),e.showValueAxisX=Number(r.value)):r.key==="y"&&(se.dispatch(ht({key:"showValueAxisY",value:Number(r.value)})),e.showValueAxisY=Number(r.value))}),se.dispatch($ae(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}function b_e(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,d=Math.min(h/n,1),p=u(d);t.scrollTo(i+o*p,a+s*p),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const S_e=t=>{const e=Af();let r=0,n=0,i=0,a=!1;console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(s=>{s.key==="duration"?r=Number(s.value):s.key==="x"?n=Number(s.value):s.key==="y"?i=Number(s.value):s.key==="next"&&(a=s.value==="true")});const o=document.getElementById("camera");return o&&(Ge.info(`${n}${i}`),b_e(o,n,i,r)),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},iU=oye({intro:zt(Pt.intro,Iye),changeBg:zt(Pt.changeBg,Qge),changeFigure:zt(Pt.changeFigure,Jge),miniAvatar:zt(Pt.miniAvatar,Fye,{next:!0}),changeScene:zt(Pt.changeScene,eme),choose:zt(Pt.choose,Ew),end:zt(Pt.end,o_e),bgm:zt(Pt.bgm,Gce,{next:!0}),playVideo:zt(Pt.video,zye),setComplexAnimation:zt(Pt.setComplexAnimation,qye),setFilter:zt(Pt.setFilter,Zye),pixiInit:zt(Pt.pixiInit,l_e,{next:!0}),pixiPerform:zt(Pt.pixi,Uye,{next:!0}),label:zt(Pt.label,kye,{next:!0}),jumpLabel:zt(Pt.jumpLabel,s_e),setVar:zt(Pt.setVar,Hhe,{next:!0}),showVars:zt(Pt.showVars,g_e),unlockCg:zt(Pt.unlockCg,a_e,{next:!0}),unlockBgm:zt(Pt.unlockBgm,i_e,{next:!0}),say:zt(Pt.say,v_e),filmMode:zt(Pt.filmMode,cye,{next:!0}),callScene:zt(Pt.callScene,jde),setTextbox:zt(Pt.setTextbox,Jye),setAnimation:zt(Pt.setAnimation,Hye),playEffect:zt(Pt.playEffect,jye,{next:!0}),setTempAnimation:zt(Pt.setTempAnimation,Qye),__commment:zt(Pt.comment,uye,{next:!0}),setTransform:zt(Pt.setTransform,e_e),setTransition:zt(Pt.setTransition,n_e,{next:!0}),getUserInput:zt(Pt.getUserInput,mye),applyStyle:zt(Pt.applyStyle,m_e,{next:!0}),unlockAchieve:zt(Pt.unlockAchieve,__e,{next:!0}),unlockStoryline:zt(Pt.unlockStoryline,y_e,{next:!0}),showValue:zt(Pt.showValue,x_e,{next:!0}),moveCamera:zt(Pt.moveCamera,S_e)}),aU=Object.values(iU),E_e=aU.filter(t=>t.next).map(t=>t.scriptType),e_=new Vce(Joe,Mt,E_e,aU),ip=(t,e,r)=>{const n=e_.parse(t,e,r);return Ge.info(`${e}`,n),n};var Gu=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(Gu||{});const qM={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class w_e{constructor(){qe(this,"settledScenes",[]);qe(this,"settledAssets",[]);qe(this,"sceneData",zr(qM));qe(this,"sceneAssetsList",{});qe(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=zr(qM.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{this.sceneData.currentScene=ip(e,r,n);const o=this.sceneData.currentScene.sentenceList;r==="storyline.txt"&&this.getAllStorylineList(o),r==="achieve.txt"&&this.getAllUnlockAchieveList(o),a(this.sceneData.currentScene)})}async getAllStorylineList(e){await FT();const r=new Map,n=new Map;se.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Pt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});se.dispatch(Kt.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);se.dispatch(Kt.setStorylineListFromStorage(a)),await eU()}async getAllUnlockAchieveList(e){await Gye();const r=new Map,n=new Map;se.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Pt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});se.dispatch(Kt.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);se.dispatch(Kt.setUnlockAchieveData(a)),await tU()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class C_e{constructor(){qe(this,"nextEnterAnimationName",new Map);qe(this,"nextExitAnimationName",new Map);qe(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class A_e{constructor(){qe(this,"isAuto",!1);qe(this,"isFast",!1);qe(this,"isSyncingWithOrigine",!1);qe(this,"autoInterval",null);qe(this,"fastInterval",null);qe(this,"autoTimeout",null);qe(this,"pixiStage",null);qe(this,"performController",new Zge)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function T_e(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class P_e{constructor(){qe(this,"textSettle",gv("text-settle"));qe(this,"userInteractNext",gv("__NEXT"));qe(this,"fullscreenDbClick",gv("fullscreen-dbclick"));qe(this,"styleUpdate",gv("style-update"))}}const Cb=T_e();function gv(t){return{on:(e,r)=>{Cb.on(`${t}-${r??""}`,e)},emit:(e,r)=>{Cb.emit(`${t}-${r??""}`,e)},off:(e,r)=>{Cb.off(`${t}-${r??""}`,e)}}}var oU={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(ge){var Ce=typeof ge;return ge!==null&&(Ce==="object"||Ce==="function")}function u(ge){return typeof ge=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(ge){return Object.prototype.toString.call(ge)==="[object Array]"};var h=f,d=0,p=void 0,v=void 0,y=function(Ce,Re){k[d]=Ce,k[d+1]=Re,d+=2,d===2&&(v?v(D):U())};function m(ge){v=ge}function g(ge){y=ge}var x=typeof window<"u"?window:void 0,S=x||{},b=S.MutationObserver||S.WebKitMutationObserver,w=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(D)}}function P(){return typeof p<"u"?function(){p(D)}:R()}function O(){var ge=0,Ce=new b(D),Re=document.createTextNode("");return Ce.observe(Re,{characterData:!0}),function(){Re.data=ge=++ge%2}}function I(){var ge=new MessageChannel;return ge.port1.onmessage=D,function(){return ge.port2.postMessage(0)}}function R(){var ge=setTimeout;return function(){return ge(D,1)}}var k=new Array(1e3);function D(){for(var ge=0;ge<d;ge+=2){var Ce=k[ge],Re=k[ge+1];Ce(Re),k[ge]=void 0,k[ge+1]=void 0}d=0}function L(){try{var ge=Function("return this")().require("vertx");return p=ge.runOnLoop||ge.runOnContext,P()}catch{return R()}}var U=void 0;w?U=A():b?U=O():C?U=I():x===void 0?U=L():U=R();function W(ge,Ce){var Re=this,Ye=new this.constructor(z);Ye[J]===void 0&&yt(Ye);var $e=Re._state;if($e){var rt=arguments[$e-1];y(function(){return Xe($e,Ye,rt,Re._result)})}else xe(Re,Ye,ge,Ce);return Ye}function te(ge){var Ce=this;if(ge&&typeof ge=="object"&&ge.constructor===Ce)return ge;var Re=new Ce(z);return Pe(Re,ge),Re}var J=Math.random().toString(36).substring(2);function z(){}var M=void 0,V=1,$=2;function j(){return new TypeError("You cannot resolve a promise with itself")}function Q(){return new TypeError("A promises callback cannot return that same promise.")}function ie(ge,Ce,Re,Ye){try{ge.call(Ce,Re,Ye)}catch($e){return $e}}function de(ge,Ce,Re){y(function(Ye){var $e=!1,rt=ie(Re,Ce,function(tr){$e||($e=!0,Ce!==tr?Pe(Ye,tr):we(Ye,tr))},function(tr){$e||($e=!0,_e(Ye,tr))},"Settle: "+(Ye._label||" unknown promise"));!$e&&rt&&($e=!0,_e(Ye,rt))},ge)}function ue(ge,Ce){Ce._state===V?we(ge,Ce._result):Ce._state===$?_e(ge,Ce._result):xe(Ce,void 0,function(Re){return Pe(ge,Re)},function(Re){return _e(ge,Re)})}function be(ge,Ce,Re){Ce.constructor===ge.constructor&&Re===W&&Ce.constructor.resolve===te?ue(ge,Ce):Re===void 0?we(ge,Ce):u(Re)?de(ge,Ce,Re):we(ge,Ce)}function Pe(ge,Ce){if(ge===Ce)_e(ge,j());else if(l(Ce)){var Re=void 0;try{Re=Ce.then}catch(Ye){_e(ge,Ye);return}be(ge,Ce,Re)}else we(ge,Ce)}function ye(ge){ge._onerror&&ge._onerror(ge._result),je(ge)}function we(ge,Ce){ge._state===M&&(ge._result=Ce,ge._state=V,ge._subscribers.length!==0&&y(je,ge))}function _e(ge,Ce){ge._state===M&&(ge._state=$,ge._result=Ce,y(ye,ge))}function xe(ge,Ce,Re,Ye){var $e=ge._subscribers,rt=$e.length;ge._onerror=null,$e[rt]=Ce,$e[rt+V]=Re,$e[rt+$]=Ye,rt===0&&ge._state&&y(je,ge)}function je(ge){var Ce=ge._subscribers,Re=ge._state;if(Ce.length!==0){for(var Ye=void 0,$e=void 0,rt=ge._result,tr=0;tr<Ce.length;tr+=3)Ye=Ce[tr],$e=Ce[tr+Re],Ye?Xe(Re,Ye,$e,rt):$e(rt);ge._subscribers.length=0}}function Xe(ge,Ce,Re,Ye){var $e=u(Re),rt=void 0,tr=void 0,Cr=!0;if($e){try{rt=Re(Ye)}catch(Dn){Cr=!1,tr=Dn}if(Ce===rt){_e(Ce,Q());return}}else rt=Ye;Ce._state!==M||($e&&Cr?Pe(Ce,rt):Cr===!1?_e(Ce,tr):ge===V?we(Ce,rt):ge===$&&_e(Ce,rt))}function Fe(ge,Ce){try{Ce(function(Ye){Pe(ge,Ye)},function(Ye){_e(ge,Ye)})}catch(Re){_e(ge,Re)}}var at=0;function vt(){return at++}function yt(ge){ge[J]=at++,ge._state=void 0,ge._result=void 0,ge._subscribers=[]}function tt(){return new Error("Array Methods must be provided an Array")}var ot=function(){function ge(Ce,Re){this._instanceConstructor=Ce,this.promise=new Ce(z),this.promise[J]||yt(this.promise),h(Re)?(this.length=Re.length,this._remaining=Re.length,this._result=new Array(this.length),this.length===0?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Re),this._remaining===0&&we(this.promise,this._result))):_e(this.promise,tt())}return ge.prototype._enumerate=function(Re){for(var Ye=0;this._state===M&&Ye<Re.length;Ye++)this._eachEntry(Re[Ye],Ye)},ge.prototype._eachEntry=function(Re,Ye){var $e=this._instanceConstructor,rt=$e.resolve;if(rt===te){var tr=void 0,Cr=void 0,Dn=!1;try{tr=Re.then}catch(yr){Dn=!0,Cr=yr}if(tr===W&&Re._state!==M)this._settledAt(Re._state,Ye,Re._result);else if(typeof tr!="function")this._remaining--,this._result[Ye]=Re;else if($e===St){var Mn=new $e(z);Dn?_e(Mn,Cr):be(Mn,Re,tr),this._willSettleAt(Mn,Ye)}else this._willSettleAt(new $e(function(yr){return yr(Re)}),Ye)}else this._willSettleAt(rt(Re),Ye)},ge.prototype._settledAt=function(Re,Ye,$e){var rt=this.promise;rt._state===M&&(this._remaining--,Re===$?_e(rt,$e):this._result[Ye]=$e),this._remaining===0&&we(rt,this._result)},ge.prototype._willSettleAt=function(Re,Ye){var $e=this;xe(Re,void 0,function(rt){return $e._settledAt(V,Ye,rt)},function(rt){return $e._settledAt($,Ye,rt)})},ge}();function dt(ge){return new ot(this,ge).promise}function qt(ge){var Ce=this;return h(ge)?new Ce(function(Re,Ye){for(var $e=ge.length,rt=0;rt<$e;rt++)Ce.resolve(ge[rt]).then(Re,Ye)}):new Ce(function(Re,Ye){return Ye(new TypeError("You must pass an array to race."))})}function nr(ge){var Ce=this,Re=new Ce(z);return _e(Re,ge),Re}function Zt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Gt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var St=function(){function ge(Ce){this[J]=vt(),this._result=this._state=void 0,this._subscribers=[],z!==Ce&&(typeof Ce!="function"&&Zt(),this instanceof ge?Fe(this,Ce):Gt())}return ge.prototype.catch=function(Re){return this.then(null,Re)},ge.prototype.finally=function(Re){var Ye=this,$e=Ye.constructor;return u(Re)?Ye.then(function(rt){return $e.resolve(Re()).then(function(){return rt})},function(rt){return $e.resolve(Re()).then(function(){throw rt})}):Ye.then(Re,Re)},ge}();St.prototype.then=W,St.all=dt,St.race=qt,St.resolve=te,St.reject=nr,St._setScheduler=m,St._setAsap=g,St._asap=y;function sr(){var ge=void 0;if(typeof c.g<"u")ge=c.g;else if(typeof self<"u")ge=self;else try{ge=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ce=ge.Promise;if(Ce){var Re=null;try{Re=Object.prototype.toString.call(Ce.resolve())}catch{}if(Re==="[object Promise]"&&!Ce.cast)return}ge.Promise=St}return St.polyfill=sr,St.Promise=St,St})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(R,k,D){return Function.prototype.apply.call(R,k,D)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:l=function(R){return Object.getOwnPropertyNames(R)};function u(I){console&&console.warn&&console.warn(I)}var f=Number.isNaN||function(R){return R!==R};function h(){h.init.call(this)}o.exports=h,o.exports.once=A,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var d=10;function p(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(I){if(typeof I!="number"||I<0||f(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");d=I}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||f(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function v(I){return I._maxListeners===void 0?h.defaultMaxListeners:I._maxListeners}h.prototype.getMaxListeners=function(){return v(this)},h.prototype.emit=function(R){for(var k=[],D=1;D<arguments.length;D++)k.push(arguments[D]);var L=R==="error",U=this._events;if(U!==void 0)L=L&&U.error===void 0;else if(!L)return!1;if(L){var W;if(k.length>0&&(W=k[0]),W instanceof Error)throw W;var te=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw te.context=W,te}var J=U[R];if(J===void 0)return!1;if(typeof J=="function")c(J,this,k);else for(var z=J.length,M=b(J,z),D=0;D<z;++D)c(M[D],this,k);return!0};function y(I,R,k,D){var L,U,W;if(p(k),U=I._events,U===void 0?(U=I._events=Object.create(null),I._eventsCount=0):(U.newListener!==void 0&&(I.emit("newListener",R,k.listener?k.listener:k),U=I._events),W=U[R]),W===void 0)W=U[R]=k,++I._eventsCount;else if(typeof W=="function"?W=U[R]=D?[k,W]:[W,k]:D?W.unshift(k):W.push(k),L=v(I),L>0&&W.length>L&&!W.warned){W.warned=!0;var te=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");te.name="MaxListenersExceededWarning",te.emitter=I,te.type=R,te.count=W.length,u(te)}return I}h.prototype.addListener=function(R,k){return y(this,R,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(R,k){return y(this,R,k,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(I,R,k){var D={fired:!1,wrapFn:void 0,target:I,type:R,listener:k},L=m.bind(D);return L.listener=k,D.wrapFn=L,L}h.prototype.once=function(R,k){return p(k),this.on(R,g(this,R,k)),this},h.prototype.prependOnceListener=function(R,k){return p(k),this.prependListener(R,g(this,R,k)),this},h.prototype.removeListener=function(R,k){var D,L,U,W,te;if(p(k),L=this._events,L===void 0)return this;if(D=L[R],D===void 0)return this;if(D===k||D.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete L[R],L.removeListener&&this.emit("removeListener",R,D.listener||k));else if(typeof D!="function"){for(U=-1,W=D.length-1;W>=0;W--)if(D[W]===k||D[W].listener===k){te=D[W].listener,U=W;break}if(U<0)return this;U===0?D.shift():w(D,U),D.length===1&&(L[R]=D[0]),L.removeListener!==void 0&&this.emit("removeListener",R,te||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(R){var k,D,L;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[R]),this;if(arguments.length===0){var U=Object.keys(D),W;for(L=0;L<U.length;++L)W=U[L],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=D[R],typeof k=="function")this.removeListener(R,k);else if(k!==void 0)for(L=k.length-1;L>=0;L--)this.removeListener(R,k[L]);return this};function x(I,R,k){var D=I._events;if(D===void 0)return[];var L=D[R];return L===void 0?[]:typeof L=="function"?k?[L.listener||L]:[L]:k?C(L):b(L,L.length)}h.prototype.listeners=function(R){return x(this,R,!0)},h.prototype.rawListeners=function(R){return x(this,R,!1)},h.listenerCount=function(I,R){return typeof I.listenerCount=="function"?I.listenerCount(R):S.call(I,R)},h.prototype.listenerCount=S;function S(I){var R=this._events;if(R!==void 0){var k=R[I];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(I,R){for(var k=new Array(R),D=0;D<R;++D)k[D]=I[D];return k}function w(I,R){for(;R+1<I.length;R++)I[R]=I[R+1];I.pop()}function C(I){for(var R=new Array(I.length),k=0;k<R.length;++k)R[k]=I[k].listener||I[k];return R}function A(I,R){return new Promise(function(k,D){function L(W){I.removeListener(R,U),D(W)}function U(){typeof I.removeListener=="function"&&I.removeListener("error",L),k([].slice.call(arguments))}O(I,R,U,{once:!0}),R!=="error"&&P(I,L,{once:!0})})}function P(I,R,k){typeof I.on=="function"&&O(I,"error",R,k)}function O(I,R,k,D){if(typeof I.on=="function")D.once?I.once(R,k):I.on(R,k);else if(typeof I.addEventListener=="function")I.addEventListener(R,function L(U){D.once&&I.removeEventListener(R,L),k(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(m){var g={};function x(b){if(g[b])return g[b].exports;var w=g[b]={i:b,l:!1,exports:{}};return m[b].call(w.exports,w,w.exports,x),w.l=!0,w.exports}x.m=m,x.c=g,x.i=function(b){return b},x.d=function(b,w,C){x.o(b,w)||Object.defineProperty(b,w,{configurable:!1,enumerable:!0,get:C})},x.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},x.n=function(b){var w=b&&b.__esModule?function(){return b.default}:function(){return b};return x.d(w,"a",w),w},x.o=function(b,w){return Object.prototype.hasOwnProperty.call(b,w)},x.p="/",x.oe=function(b){throw console.error(b),b};var S=x(x.s=ENTRY_MODULE);return S.default||S}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function d(m){return!isNaN(1*m)}function p(m,g,x){var S={};S[x]=[];var b=g.toString(),w=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!w)return S;for(var C=w[1],A=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),P;P=A.exec(b);)P[3]!=="dll-reference"&&S[x].push(P[3]);for(A=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");P=A.exec(b);)m[P[2]]||(S[x].push(P[1]),m[P[2]]=c(P[1]).m),S[P[2]]=S[P[2]]||[],S[P[2]].push(P[4]);for(var O=Object.keys(S),I=0;I<O.length;I++)for(var R=0;R<S[O[I]].length;R++)d(S[O[I]][R])&&(S[O[I]][R]=1*S[O[I]][R]);return S}function v(m){var g=Object.keys(m);return g.reduce(function(x,S){return x||m[S].length>0},!1)}function y(m,g){for(var x={main:[g]},S={main:[]},b={main:{}};v(x);)for(var w=Object.keys(x),C=0;C<w.length;C++){var A=w[C],P=x[A],O=P.pop();if(b[A]=b[A]||{},!(b[A][O]||!m[A][O])){b[A][O]=!0,S[A]=S[A]||[],S[A].push(O);for(var I=p(m,m[A][O],A),R=Object.keys(I),k=0;k<R.length;k++)x[R[k]]=x[R[k]]||[],x[R[k]]=x[R[k]].concat(I[R[k]])}}return S}o.exports=function(m,g){g=g||{};var x={main:c.m},S=g.all?{main:Object.keys(x.main)}:y(x,m),b="";Object.keys(S).filter(function(O){return O!=="main"}).forEach(function(O){for(var I=0;S[O][I];)I++;S[O].push(I),x[O][I]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+O+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+S[O].map(function(R){return""+JSON.stringify(R)+": "+x[O][R].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+S.main.map(function(O){return""+JSON.stringify(O)+": "+x.main[O].toString()}).join(",")+"}))(self);";var w=new window.Blob([b],{type:"text/javascript"});if(g.bare)return w;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,A=C.createObjectURL(w),P=new window.Worker(A);return P.objectURL=A,P}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p=="fetch-stream-loader"||p=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p},h.supportNativeMediaPlayback=function(d){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var p=h.videoElement.canPlayType(d);return p==="probably"||p=="maybe"},h.getFeatureList=function(){var d={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return d.mseFlvPlayback=h.supportMSEH264Playback(),d.networkStreamIO=h.supportNetworkStreamIO(),d.networkLoaderName=h.getNetworkLoaderTypeName(),d.mseLiveFlvPlayback=d.mseFlvPlayback&&d.networkStreamIO,d.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),d.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),d.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),d},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,d=this._search(h.times,f);return{index:d,milliseconds:h.times[d],fileposition:h.filepositions[d]}},u.prototype._search=function(f,h){var d=0,p=f.length-1,v=0,y=0,m=p;for(h<f[0]&&(d=0,y=m+1);y<=m;)if(v=y+Math.floor((m-y)/2),v===p||h>=f[v]&&h<f[v+1]){d=v;break}else f[v]<h?y=v+1:m=v-1;return d},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function d(p,v,y,m,g){this.dts=p,this.pts=v,this.duration=y,this.originalDts=m,this.isSyncPoint=g,this.fileposition=null}return d}(),u=function(){function d(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return d.prototype.appendSyncPoint=function(p){p.isSyncPoint=!0,this.syncPoints.push(p)},d}(),f=function(){function d(){this._list=[]}return d.prototype.clear=function(){this._list=[]},d.prototype.appendArray=function(p){var v=this._list;p.length!==0&&(v.length>0&&p[0].originalDts<v[v.length-1].originalDts&&this.clear(),Array.prototype.push.apply(v,p))},d.prototype.getLastSyncPointBeforeDts=function(p){if(this._list.length==0)return null;var v=this._list,y=0,m=v.length-1,g=0,x=0,S=m;for(p<v[0].dts&&(y=0,x=S+1);x<=S;)if(g=x+Math.floor((S-x)/2),g===m||p>=v[g].dts&&p<v[g+1].dts){y=g;break}else v[g].dts<p?x=g+1:S=g-1;return this._list[y]},d}(),h=function(){function d(p){this._type=p,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),d.prototype.isEmpty=function(){return this._list.length===0},d.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},d.prototype._searchNearestSegmentBefore=function(p){var v=this._list;if(v.length===0)return-2;var y=v.length-1,m=0,g=0,x=y,S=0;if(p<v[0].originalBeginDts)return S=-1,S;for(;g<=x;)if(m=g+Math.floor((x-g)/2),m===y||p>v[m].lastSample.originalDts&&p<v[m+1].originalBeginDts){S=m;break}else v[m].originalBeginDts<p?g=m+1:x=m-1;return S},d.prototype._searchNearestSegmentAfter=function(p){return this._searchNearestSegmentBefore(p)+1},d.prototype.append=function(p){var v=this._list,y=p,m=this._lastAppendLocation,g=0;m!==-1&&m<v.length&&y.originalBeginDts>=v[m].lastSample.originalDts&&(m===v.length-1||m<v.length-1&&y.originalBeginDts<v[m+1].originalBeginDts)?g=m+1:v.length>0&&(g=this._searchNearestSegmentBefore(y.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,y)},d.prototype.getLastSegmentBefore=function(p){var v=this._searchNearestSegmentBefore(p);return v>=0?this._list[v]:null},d.prototype.getLastSampleBefore=function(p){var v=this.getLastSegmentBefore(p);return v!=null?v.lastSample:null},d.prototype.getLastSyncPointBefore=function(p){for(var v=this._searchNearestSegmentBefore(p),y=this._list[v].syncPoints;y.length===0&&v>0;)v--,y=this._list[v].syncPoints;return y.length>0?y[y.length-1]:null},d}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/mse-events.js"),p=c("./src/core/media-segment-info.js"),v=c("./src/utils/exception.js"),y=function(){function m(g){this.TAG="MSEController",this._config=g,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new p.IDRSampleList}return m.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(g,x){this._emitter.addListener(g,x)},m.prototype.off=function(g,x){this._emitter.removeListener(g,x)},m.prototype.attachMediaElement=function(g){if(this._mediaSource)throw new v.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=g,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),g.src=this._mediaSourceObjectURL},m.prototype.detachMediaElement=function(){if(this._mediaSource){var g=this._mediaSource;for(var x in this._sourceBuffers){var S=this._pendingSegments[x];S.splice(0,S.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var b=this._sourceBuffers[x];if(b){if(g.readyState!=="closed"){try{g.removeSourceBuffer(b)}catch(w){f.default.e(this.TAG,w.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(g.readyState==="open")try{g.endOfStream()}catch(w){f.default.e(this.TAG,w.message)}g.removeEventListener("sourceopen",this.e.onSourceOpen),g.removeEventListener("sourceended",this.e.onSourceEnded),g.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},m.prototype.appendInitSegment=function(g,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(g),this._pendingSegments[g.type].push(g);return}var S=g,b=""+S.container;S.codec&&S.codec.length>0&&(b+=";codecs="+S.codec);var w=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[S.type]=S,b!==this._mimeTypes[S.type]){if(this._mimeTypes[S.type])f.default.v(this.TAG,"Notice: "+S.type+" mimeType changed, origin: "+this._mimeTypes[S.type]+", target: "+b);else{w=!0;try{var C=this._sourceBuffers[S.type]=this._mediaSource.addSourceBuffer(b);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[S.type]=b}x||this._pendingSegments[S.type].push(S),w||this._sourceBuffers[S.type]&&!this._sourceBuffers[S.type].updating&&this._doAppendSegments(),h.default.safari&&S.container==="audio/mpeg"&&S.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=S.mediaDuration/1e3,this._updateMediaSourceDuration())},m.prototype.appendMediaSegment=function(g){var x=g;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var S=this._sourceBuffers[x.type];S&&!S.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},m.prototype.seek=function(g){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var S=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{S.abort()}catch(O){f.default.e(this.TAG,O.message)}this._idrList.clear();var b=this._pendingSegments[x];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var w=0;w<S.buffered.length;w++){var C=S.buffered.start(w),A=S.buffered.end(w);this._pendingRemoveRanges[x].push({start:C,end:A})}if(S.updating||this._doRemoveRanges(),h.default.safari){var P=this._lastInitSegments[x];P&&(this._pendingSegments[x].push(P),S.updating||this._doAppendSegments())}}}},m.prototype.endOfStream=function(){var g=this._mediaSource,x=this._sourceBuffers;if(!g||g.readyState!=="open"){g&&g.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,g.endOfStream())},m.prototype.getNearestKeyframe=function(g){return this._idrList.getLastSyncPointBeforeDts(g)},m.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var g=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var S=this._sourceBuffers[x];if(S){var b=S.buffered;if(b.length>=1&&g-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},m.prototype._doCleanupSourceBuffer=function(){var g=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var S=this._sourceBuffers[x];if(S){for(var b=S.buffered,w=!1,C=0;C<b.length;C++){var A=b.start(C),P=b.end(C);if(A<=g&&g<P+3){if(g-A>=this._config.autoCleanupMaxBackwardDuration){w=!0;var O=g-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:A,end:O})}}else P<g&&(w=!0,this._pendingRemoveRanges[x].push({start:A,end:P}))}w&&!S.updating&&this._doRemoveRanges()}}},m.prototype._updateMediaSourceDuration=function(){var g=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(g.video&&g.video.updating||g.audio&&g.audio.updating)){var x=this._mediaSource.duration,S=this._pendingMediaDuration;S>0&&(isNaN(x)||S>x)&&(f.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+S),this._mediaSource.duration=S),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},m.prototype._doRemoveRanges=function(){for(var g in this._pendingRemoveRanges)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating))for(var x=this._sourceBuffers[g],S=this._pendingRemoveRanges[g];S.length&&!x.updating;){var b=S.shift();x.remove(b.start,b.end)}},m.prototype._doAppendSegments=function(){var g=this._pendingSegments;for(var x in g)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&g[x].length>0){var S=g[x].shift();if(S.timestampOffset){var b=this._sourceBuffers[x].timestampOffset,w=S.timestampOffset/1e3,C=Math.abs(b-w);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+w),this._sourceBuffers[x].timestampOffset=w),delete S.timestampOffset}if(!S.data||S.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(S.data),this._isBufferFull=!1,x==="video"&&S.hasOwnProperty("info")&&this._idrList.appendArray(S.info.syncPoints)}catch(A){this._pendingSegments[x].unshift(S),A.code===22?(this._isBufferFull||this._emitter.emit(d.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message}))}}},m.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var g=this._pendingSourceBufferInit;g.length;){var x=g.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(d.default.SOURCE_OPEN)},m.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},m.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},m.prototype._hasPendingSegments=function(){var g=this._pendingSegments;return g.video.length>0||g.audio.length>0},m.prototype._hasPendingRemoveRanges=function(){var g=this._pendingRemoveRanges;return g.video.length>0||g.audio.length>0},m.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(d.default.UPDATE_END)},m.prototype._onSourceBufferError=function(g){f.default.e(this.TAG,"SourceBuffer Error: "+g)},m}();s.default=y},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),d=c("./src/utils/logger.js"),p=c("./src/utils/logging-control.js"),v=c("./src/core/transmuxing-controller.js"),y=c("./src/core/transmuxing-events.js"),m=c("./src/core/media-info.js"),g=function(){function x(S,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[S,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},p.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:p.default.getConfig()})}catch{d.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.default(S,b)}else this._controller=new v.default(S,b);if(this._controller){var w=this._controller;w.on(y.default.IO_ERROR,this._onIOError.bind(this)),w.on(y.default.DEMUX_ERROR,this._onDemuxError.bind(this)),w.on(y.default.INIT_SEGMENT,this._onInitSegment.bind(this)),w.on(y.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),w.on(y.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),w.on(y.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),w.on(y.default.MEDIA_INFO,this._onMediaInfo.bind(this)),w.on(y.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),w.on(y.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),w.on(y.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),w.on(y.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),p.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(S,b){this._emitter.addListener(S,b)},x.prototype.off=function(S,b){this._emitter.removeListener(S,b)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(S){this._worker?this._worker.postMessage({cmd:"seek",param:S}):this._controller.seek(S)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(S,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(y.default.INIT_SEGMENT,S,b)})},x.prototype._onMediaSegment=function(S,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(y.default.MEDIA_SEGMENT,S,b)})},x.prototype._onLoadingComplete=function(){var S=this;Promise.resolve().then(function(){S._emitter.emit(y.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var S=this;Promise.resolve().then(function(){S._emitter.emit(y.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(S){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.MEDIA_INFO,S)})},x.prototype._onMetaDataArrived=function(S){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.METADATA_ARRIVED,S)})},x.prototype._onScriptDataArrived=function(S){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.SCRIPTDATA_ARRIVED,S)})},x.prototype._onStatisticsInfo=function(S){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.STATISTICS_INFO,S)})},x.prototype._onIOError=function(S,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(y.default.IO_ERROR,S,b)})},x.prototype._onDemuxError=function(S,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(y.default.DEMUX_ERROR,S,b)})},x.prototype._onRecommendSeekpoint=function(S){var b=this;Promise.resolve().then(function(){b._emitter.emit(y.default.RECOMMEND_SEEKPOINT,S)})},x.prototype._onLoggingConfigChanged=function(S){this._worker&&this._worker.postMessage({cmd:"logging_config",param:S})},x.prototype._onWorkerMessage=function(S){var b=S.data,w=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case y.default.INIT_SEGMENT:case y.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,w.type,w.data);break;case y.default.LOADING_COMPLETE:case y.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case y.default.MEDIA_INFO:Object.setPrototypeOf(w,m.default.prototype),this._emitter.emit(b.msg,w);break;case y.default.METADATA_ARRIVED:case y.default.SCRIPTDATA_ARRIVED:case y.default.STATISTICS_INFO:this._emitter.emit(b.msg,w);break;case y.default.IO_ERROR:case y.default.DEMUX_ERROR:this._emitter.emit(b.msg,w.type,w.info);break;case y.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,w);break;case"logcat_callback":d.default.emitter.emit("log",w.type,w.logcat);break}},x}();s.default=g},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-info.js"),p=c("./src/demux/flv-demuxer.js"),v=c("./src/remux/mp4-remuxer.js"),y=c("./src/demux/demux-errors.js"),m=c("./src/io/io-controller.js"),g=c("./src/core/transmuxing-events.js"),x=function(){function S(b,w){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=w,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=C,C+=A.duration,A.cors=b.cors,A.withCredentials=b.withCredentials,w.referrerPolicy&&(A.referrerPolicy=w.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return S.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},S.prototype.on=function(b,w){this._emitter.addListener(b,w)},S.prototype.off=function(b,w){this._emitter.removeListener(b,w)},S.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},S.prototype._loadSegment=function(b,w){this._currentSegmentIndex=b;var C=this._mediaDataSource.segments[b],A=this._ioctl=new m.default(C,this._config,b);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),w?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(w)},S.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},S.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},S.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},S.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},S.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var w=this._searchSegmentIndexContains(b);if(w===this._currentSegmentIndex){var C=this._mediaInfo.segments[w];if(C==null)this._pendingSeekTime=b;else{var A=C.getNearestKeyframe(b);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var P=this._mediaInfo.segments[w];if(P==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(w);else{var A=P.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[w].timestampBase,this._loadSegment(w,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(w)}}this._enableStatisticsReporter()}},S.prototype._searchSegmentIndexContains=function(b){for(var w=this._mediaDataSource.segments,C=w.length-1,A=0;A<w.length;A++)if(b<w[A].timestampBase){C=A-1;break}return C},S.prototype._onInitChunkArrival=function(b,w){var C=this,A=null,P=0;if(w>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,P=this._demuxer.parseChunks(b,w);else if((A=p.default.probe(b)).match){this._demuxer=new p.default(A,this._config),this._remuxer||(this._remuxer=new v.default(this._config));var O=this._mediaDataSource;O.duration!=null&&!isNaN(O.duration)&&(this._demuxer.overridedDuration=O.duration),typeof O.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=O.hasAudio),typeof O.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=O.hasVideo),this._demuxer.timestampBase=O.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),P=this._demuxer.parseChunks(b,w)}else A=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(g.default.DEMUX_ERROR,y.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),P=0;return P},S.prototype._onMediaInfo=function(b){var w=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,d.default.prototype));var C=Object.assign({},b);Object.setPrototypeOf(C,d.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=w._pendingSeekTime;w._pendingSeekTime=null,w.seek(A)})},S.prototype._onMetaDataArrived=function(b){this._emitter.emit(g.default.METADATA_ARRIVED,b)},S.prototype._onScriptDataArrived=function(b){this._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)},S.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},S.prototype._onIOComplete=function(b){var w=b,C=w+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(g.default.LOADING_COMPLETE),this._disableStatisticsReporter())},S.prototype._onIORedirect=function(b){var w=this._ioctl.extraData;this._mediaDataSource.segments[w].redirectedURL=b},S.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(g.default.RECOVERED_EARLY_EOF)},S.prototype._onIOException=function(b,w){f.default.e(this.TAG,"IOException: type = "+b+", code = "+w.code+", msg = "+w.msg),this._emitter.emit(g.default.IO_ERROR,b,w),this._disableStatisticsReporter()},S.prototype._onDemuxException=function(b,w){f.default.e(this.TAG,"DemuxException: type = "+b+", info = "+w),this._emitter.emit(g.default.DEMUX_ERROR,b,w)},S.prototype._onRemuxerInitSegmentArrival=function(b,w){this._emitter.emit(g.default.INIT_SEGMENT,b,w)},S.prototype._onRemuxerMediaSegmentArrival=function(b,w){if(this._pendingSeekTime==null&&(this._emitter.emit(g.default.MEDIA_SEGMENT,b,w),this._pendingResolveSeekPoint!=null&&b==="video")){var C=w.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===A&&(A=C[0].pts),this._emitter.emit(g.default.RECOMMEND_SEEKPOINT,A)}},S.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},S.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},S.prototype._reportSegmentMediaInfo=function(b){var w=this._mediaInfo.segments[b],C=Object.assign({},w);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(g.default.MEDIA_INFO,C)},S.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(g.default.STATISTICS_INFO,b)},S}();s.default=x},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),d=function(p){var v=null,y=R.bind(this);u.default.install(),p.addEventListener("message",function(k){switch(k.data.cmd){case"init":v=new f.default(k.data.param[0],k.data.param[1]),v.on(h.default.IO_ERROR,P.bind(this)),v.on(h.default.DEMUX_ERROR,O.bind(this)),v.on(h.default.INIT_SEGMENT,m.bind(this)),v.on(h.default.MEDIA_SEGMENT,g.bind(this)),v.on(h.default.LOADING_COMPLETE,x.bind(this)),v.on(h.default.RECOVERED_EARLY_EOF,S.bind(this)),v.on(h.default.MEDIA_INFO,b.bind(this)),v.on(h.default.METADATA_ARRIVED,w.bind(this)),v.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),v.on(h.default.STATISTICS_INFO,A.bind(this)),v.on(h.default.RECOMMEND_SEEKPOINT,I.bind(this));break;case"destroy":v&&(v.destroy(),v=null),p.postMessage({msg:"destroyed"});break;case"start":v.start();break;case"stop":v.stop();break;case"seek":v.seek(k.data.param);break;case"pause":v.pause();break;case"resume":v.resume();break;case"logging_config":{var D=k.data.param;l.default.applyConfig(D),D.enableCallback===!0?l.default.addLogListener(y):l.default.removeLogListener(y);break}}});function m(k,D){var L={msg:h.default.INIT_SEGMENT,data:{type:k,data:D}};p.postMessage(L,[D.data])}function g(k,D){var L={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:D}};p.postMessage(L,[D.data])}function x(){var k={msg:h.default.LOADING_COMPLETE};p.postMessage(k)}function S(){var k={msg:h.default.RECOVERED_EARLY_EOF};p.postMessage(k)}function b(k){var D={msg:h.default.MEDIA_INFO,data:k};p.postMessage(D)}function w(k){var D={msg:h.default.METADATA_ARRIVED,data:k};p.postMessage(D)}function C(k){var D={msg:h.default.SCRIPTDATA_ARRIVED,data:k};p.postMessage(D)}function A(k){var D={msg:h.default.STATISTICS_INFO,data:k};p.postMessage(D)}function P(k,D){p.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:D}})}function O(k,D){p.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:D}})}function I(k){p.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function R(k,D){p.postMessage({msg:"logcat_callback",data:{type:k,logcat:D}})}};s.default=d},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}(),d=function(){function p(){}return p.parseScriptData=function(v,y,m){var g={};try{var x=p.parseValue(v,y,m),S=p.parseValue(v,y+x.size,m-x.size);g[x.data]=S.data}catch(b){l.default.e("AMF",b.toString())}return g},p.parseObject=function(v,y,m){if(m<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var g=p.parseString(v,y,m),x=p.parseValue(v,y+g.size,m-g.size),S=x.objectEnd;return{data:{name:g.data,value:x.data},size:g.size+x.size,objectEnd:S}},p.parseVariable=function(v,y,m){return p.parseObject(v,y,m)},p.parseString=function(v,y,m){if(m<2)throw new f.IllegalStateException("Data not enough when parse String");var g=new DataView(v,y,m),x=g.getUint16(0,!h),S;return x>0?S=(0,u.default)(new Uint8Array(v,y+2,x)):S="",{data:S,size:2+x}},p.parseLongString=function(v,y,m){if(m<4)throw new f.IllegalStateException("Data not enough when parse LongString");var g=new DataView(v,y,m),x=g.getUint32(0,!h),S;return x>0?S=(0,u.default)(new Uint8Array(v,y+4,x)):S="",{data:S,size:4+x}},p.parseDate=function(v,y,m){if(m<10)throw new f.IllegalStateException("Data size invalid when parse Date");var g=new DataView(v,y,m),x=g.getFloat64(0,!h),S=g.getInt16(8,!h);return x+=S*60*1e3,{data:new Date(x),size:8+2}},p.parseValue=function(v,y,m){if(m<1)throw new f.IllegalStateException("Data not enough when parse Value");var g=new DataView(v,y,m),x=1,S=g.getUint8(0),b,w=!1;try{switch(S){case 0:b=g.getFloat64(1,!h),x+=8;break;case 1:{var C=g.getUint8(1);b=!!C,x+=1;break}case 2:{var A=p.parseString(v,y+1,m-1);b=A.data,x+=A.size;break}case 3:{b={};var P=0;for((g.getUint32(m-4,!h)&16777215)===9&&(P=3);x<m-4;){var O=p.parseObject(v,y+x,m-x-P);if(O.objectEnd)break;b[O.data.name]=O.data.value,x+=O.size}if(x<=m-3){var I=g.getUint32(x-1,!h)&16777215;I===9&&(x+=3)}break}case 8:{b={},x+=4;var P=0;for((g.getUint32(m-4,!h)&16777215)===9&&(P=3);x<m-8;){var R=p.parseVariable(v,y+x,m-x-P);if(R.objectEnd)break;b[R.data.name]=R.data.value,x+=R.size}if(x<=m-3){var I=g.getUint32(x-1,!h)&16777215;I===9&&(x+=3)}break}case 9:b=void 0,x=1,w=!0;break;case 10:{b=[];var k=g.getUint32(1,!h);x+=4;for(var D=0;D<k;D++){var L=p.parseValue(v,y+x,m-x);b.push(L.data),x+=L.size}break}case 11:{var U=p.parseDate(v,y+1,m-1);b=U.data,x+=U.size;break}case 12:{var W=p.parseString(v,y+1,m-1);b=W.data,x+=W.size;break}default:x=m,l.default.w("AMF","Unsupported AMF value type "+S)}}catch(te){l.default.e("AMF",te.toString())}return{data:b,size:x,objectEnd:w}},p}();s.default=d},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var d=Math.min(4,h),p=new Uint8Array(4);p.set(this._buffer.subarray(this._buffer_index,this._buffer_index+d)),this._current_word=new DataView(p.buffer).getUint32(0,!1),this._buffer_index+=d,this._current_word_bits_left=d*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var d=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,d}var p=this._current_word_bits_left?this._current_word:0;p=p>>>32-this._current_word_bits_left;var v=h-this._current_word_bits_left;this._fillCurrentWord();var y=Math.min(v,this._current_word_bits_left),m=this._current_word>>>32-y;return this._current_word<<=y,this._current_word_bits_left-=y,p=p<<y|m,p},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),d=c("./src/core/media-info.js"),p=c("./src/utils/exception.js");function v(m,g){return m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3]}var y=function(){function m(g,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=g.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=g.hasAudioTrack,this._hasVideo=g.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new d.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256}()}return m.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},m.probe=function(g){var x=new Uint8Array(g),S={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return S;var b=(x[4]&4)>>>2!==0,w=(x[4]&1)!==0,C=v(x,5);return C<9?S:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:b,hasVideoTrack:w}},m.prototype.bindDataSource=function(g){return g.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(m.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(g){this._onTrackMetadata=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(g){this._onMediaInfo=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(g){this._onMetaDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(g){this._onScriptDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(g){this._onDataAvailable=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(g){this._timestampBase=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedDuration",{get:function(){return this._duration},set:function(g){this._durationOverrided=!0,this._duration=g,this._mediaInfo.duration=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasAudio",{set:function(g){this._hasAudioFlagOverrided=!0,this._hasAudio=g,this._mediaInfo.hasAudio=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasVideo",{set:function(g){this._hasVideoFlagOverrided=!0,this._hasVideo=g,this._mediaInfo.hasVideo=g},enumerable:!1,configurable:!0}),m.prototype.resetMediaInfo=function(){this._mediaInfo=new d.default},m.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},m.prototype.parseChunks=function(g,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new p.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var S=0,b=this._littleEndian;if(x===0)if(g.byteLength>13){var w=m.probe(g);S=w.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+S!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(g,S),A=C.getUint32(0,!b);A!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),S+=4}for(;S<g.byteLength;){this._dispatch=!0;var C=new DataView(g,S);if(S+11+4>g.byteLength)break;var P=C.getUint8(0),O=C.getUint32(0,!b)&16777215;if(S+11+O+4>g.byteLength)break;if(P!==8&&P!==9&&P!==18){l.default.w(this.TAG,"Unsupported tag type "+P+", skipped"),S+=11+O+4;continue}var I=C.getUint8(4),R=C.getUint8(5),k=C.getUint8(6),D=C.getUint8(7),L=k|R<<8|I<<16|D<<24,U=C.getUint32(7,!b)&16777215;U!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var W=S+11;switch(P){case 8:this._parseAudioData(g,W,O,L);break;case 9:this._parseVideoData(g,W,O,L,x+S);break;case 18:this._parseScriptData(g,W,O);break}var te=C.getUint32(11+O,!b);te!==11+O&&l.default.w(this.TAG,"Invalid PrevTagSize "+te),S+=11+O+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),S},m.prototype._parseScriptData=function(g,x,S){var b=u.default.parseScriptData(g,x,S);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var w=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},w)),typeof w.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=w.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof w.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=w.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof w.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=w.audiodatarate),typeof w.videodatarate=="number"&&(this._mediaInfo.videoDataRate=w.videodatarate),typeof w.width=="number"&&(this._mediaInfo.width=w.width),typeof w.height=="number"&&(this._mediaInfo.height=w.height),typeof w.duration=="number"){if(!this._durationOverrided){var C=Math.floor(w.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof w.framerate=="number"){var A=Math.floor(w.framerate*1e3);if(A>0){var P=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=P,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=P}}if(typeof w.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var O=w.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(O),w.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=w,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},m.prototype._parseKeyframesIndex=function(g){for(var x=[],S=[],b=1;b<g.times.length;b++){var w=this._timestampBase+Math.floor(g.times[b]*1e3);x.push(w),S.push(g.filepositions[b])}return{times:x,filepositions:S}},m.prototype._parseAudioData=function(g,x,S,b){if(S<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var w=new DataView(g,x,S),C=w.getUint8(0),A=C>>>4;if(A!==2&&A!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var P=0,O=(C&12)>>>2;if(O>=0&&O<=4)P=this._flvSoundRateTable[O];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+O);return}var I=C&1,R=this._audioMetadata,k=this._audioTrack;if(R||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),R=this._audioMetadata={},R.type="audio",R.id=k.id,R.timescale=this._timescale,R.duration=this._duration,R.audioSampleRate=P,R.channelCount=I===0?1:2),A===10){var D=this._parseAACAudioData(g,x+1,S-1);if(D==null)return;if(D.packetType===0){R.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var L=D.data;R.audioSampleRate=L.samplingRate,R.channelCount=L.channelCount,R.codec=L.codec,R.originalCodec=L.originalCodec,R.config=L.config,R.refSampleDuration=1024/R.audioSampleRate*R.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",R);var U=this._mediaInfo;U.audioCodec=R.originalCodec,U.audioSampleRate=R.audioSampleRate,U.audioChannelCount=R.channelCount,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}else if(D.packetType===1){var W=this._timestampBase+b,te={unit:D.data,length:D.data.byteLength,dts:W,pts:W};k.samples.push(te),k.length+=D.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+D.packetType)}else if(A===2){if(!R.codec){var L=this._parseMP3AudioData(g,x+1,S-1,!0);if(L==null)return;R.audioSampleRate=L.samplingRate,R.channelCount=L.channelCount,R.codec=L.codec,R.originalCodec=L.originalCodec,R.refSampleDuration=1152/R.audioSampleRate*R.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",R);var U=this._mediaInfo;U.audioCodec=R.codec,U.audioSampleRate=R.audioSampleRate,U.audioChannelCount=R.channelCount,U.audioDataRate=L.bitRate,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}var J=this._parseMP3AudioData(g,x+1,S-1,!1);if(J==null)return;var W=this._timestampBase+b,z={unit:J,length:J.byteLength,dts:W,pts:W};k.samples.push(z),k.length+=J.length}}},m.prototype._parseAACAudioData=function(g,x,S){if(S<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},w=new Uint8Array(g,x,S);return b.packetType=w[0],w[0]===0?b.data=this._parseAACAudioSpecificConfig(g,x+1,S-1):b.data=w.subarray(1),b},m.prototype._parseAACAudioSpecificConfig=function(g,x,S){var b=new Uint8Array(g,x,S),w=null,C=0,A=0,P=0,O=null;if(C=A=b[0]>>>3,P=(b[0]&7)<<1|b[1]>>>7,P<0||P>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var I=this._mpegSamplingRates[P],R=(b[1]&120)>>>3;if(R<0||R>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(O=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?P>=6?(C=5,w=new Array(4),O=P-3):(C=2,w=new Array(2),O=P):k.indexOf("android")!==-1?(C=2,w=new Array(2),O=P):(C=5,O=P,w=new Array(4),P>=6?O=P-3:R===1&&(C=2,w=new Array(2),O=P)),w[0]=C<<3,w[0]|=(P&15)>>>1,w[1]=(P&15)<<7,w[1]|=(R&15)<<3,C===5&&(w[1]|=(O&15)>>>1,w[2]=(O&1)<<7,w[2]|=8,w[3]=0),{config:w,samplingRate:I,channelCount:R,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+A}},m.prototype._parseMP3AudioData=function(g,x,S,b){if(S<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var w=new Uint8Array(g,x,S),C=null;if(b){if(w[0]!==255)return;var A=w[1]>>>3&3,P=(w[1]&6)>>1,O=(w[2]&240)>>>4,I=(w[2]&12)>>>2,R=w[3]>>>6&3,k=R!==3?2:1,D=0,L=0,U="mp3";switch(A){case 0:D=this._mpegAudioV25SampleRateTable[I];break;case 2:D=this._mpegAudioV20SampleRateTable[I];break;case 3:D=this._mpegAudioV10SampleRateTable[I];break}switch(P){case 1:O<this._mpegAudioL3BitRateTable.length&&(L=this._mpegAudioL3BitRateTable[O]);break;case 2:O<this._mpegAudioL2BitRateTable.length&&(L=this._mpegAudioL2BitRateTable[O]);break;case 3:O<this._mpegAudioL1BitRateTable.length&&(L=this._mpegAudioL1BitRateTable[O]);break}C={bitRate:L,samplingRate:D,channelCount:k,codec:U,originalCodec:U}}else C=w;return C},m.prototype._parseVideoData=function(g,x,S,b,w){if(S<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(g,x,S)[0],A=(C&240)>>>4,P=C&15;if(P!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+P);return}this._parseAVCVideoPacket(g,x+1,S-1,b,w,A)}},m.prototype._parseAVCVideoPacket=function(g,x,S,b,w,C){if(S<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,P=new DataView(g,x,S),O=P.getUint8(0),I=P.getUint32(0,!A)&16777215,R=I<<8>>8;if(O===0)this._parseAVCDecoderConfigurationRecord(g,x+4,S-4);else if(O===1)this._parseAVCVideoData(g,x+4,S-4,b,w,C,R);else if(O!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+O);return}},m.prototype._parseAVCDecoderConfigurationRecord=function(g,x,S){if(S<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,w=this._videoTrack,C=this._littleEndian,A=new DataView(g,x,S);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=w.id,b.timescale=this._timescale,b.duration=this._duration);var P=A.getUint8(0),O=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),P!==1||O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var I=A.getUint8(5)&31;if(I===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else I>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+I);for(var R=6,k=0;k<I;k++){var D=A.getUint16(R,!C);if(R+=2,D!==0){var L=new Uint8Array(g,x+R,D);R+=D;var U=f.default.parseSPS(L);if(k===0){b.codecWidth=U.codec_size.width,b.codecHeight=U.codec_size.height,b.presentWidth=U.present_size.width,b.presentHeight=U.present_size.height,b.profile=U.profile_string,b.level=U.level_string,b.bitDepth=U.bit_depth,b.chromaFormat=U.chroma_format,b.sarRatio=U.sar_ratio,b.frameRate=U.frame_rate,(U.frame_rate.fixed===!1||U.frame_rate.fps_num===0||U.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var W=b.frameRate.fps_den,te=b.frameRate.fps_num;b.refSampleDuration=b.timescale*(W/te);for(var J=L.subarray(1,4),z="avc1.",M=0;M<3;M++){var V=J[M].toString(16);V.length<2&&(V="0"+V),z+=V}b.codec=z;var $=this._mediaInfo;$.width=b.codecWidth,$.height=b.codecHeight,$.fps=b.frameRate.fps,$.profile=b.profile,$.level=b.level,$.refFrames=U.ref_frames,$.chromaFormat=U.chroma_format_string,$.sarNum=b.sarRatio.width,$.sarDen=b.sarRatio.height,$.videoCodec=z,$.hasAudio?$.audioCodec!=null&&($.mimeType='video/x-flv; codecs="'+$.videoCodec+","+$.audioCodec+'"'):$.mimeType='video/x-flv; codecs="'+$.videoCodec+'"',$.isComplete()&&this._onMediaInfo($)}}}var j=A.getUint8(R);if(j===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else j>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+j);R++;for(var k=0;k<j;k++){var D=A.getUint16(R,!C);R+=2,D!==0&&(R+=D)}b.avcc=new Uint8Array(S),b.avcc.set(new Uint8Array(g,x,S),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},m.prototype._parseAVCVideoData=function(g,x,S,b,w,C,A){for(var P=this._littleEndian,O=new DataView(g,x,S),I=[],R=0,k=0,D=this._naluLengthSize,L=this._timestampBase+b,U=C===1;k<S;){if(k+4>=S){l.default.w(this.TAG,"Malformed Nalu near timestamp "+L+", offset = "+k+", dataSize = "+S);break}var W=O.getUint32(k,!P);if(D===3&&(W>>>=8),W>S-D){l.default.w(this.TAG,"Malformed Nalus near timestamp "+L+", NaluSize > DataSize!");return}var te=O.getUint8(k+D)&31;te===5&&(U=!0);var J=new Uint8Array(g,x+k,D+W),z={type:te,data:J};I.push(z),R+=J.byteLength,k+=D+W}if(I.length){var M=this._videoTrack,V={units:I,length:R,isKeyframe:U,dts:L,cts:A,pts:L+A};U&&(V.fileposition=w),M.samples.push(V),M.length+=R}},m}();s.default=y},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var d=h,p=d.byteLength,v=new Uint8Array(p),y=0,m=0;m<p;m++)m>=2&&d[m]===3&&d[m-1]===0&&d[m-2]===0||(v[y]=d[m],y++);return new Uint8Array(v.buffer,0,y)},f.parseSPS=function(h){var d=f._ebsp2rbsp(h),p=new l.default(d);p.readByte();var v=p.readByte();p.readByte();var y=p.readByte();p.readUEG();var m=f.getProfileString(v),g=f.getLevelString(y),x=1,S=420,b=[0,420,422,444],w=8;if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===144)&&(x=p.readUEG(),x===3&&p.readBits(1),x<=3&&(S=b[x]),w=p.readUEG()+8,p.readUEG(),p.readBits(1),p.readBool()))for(var C=x!==3?8:12,A=0;A<C;A++)p.readBool()&&(A<6?f._skipScalingList(p,16):f._skipScalingList(p,64));p.readUEG();var P=p.readUEG();if(P===0)p.readUEG();else if(P===1){p.readBits(1),p.readSEG(),p.readSEG();for(var O=p.readUEG(),A=0;A<O;A++)p.readSEG()}var I=p.readUEG();p.readBits(1);var R=p.readUEG(),k=p.readUEG(),D=p.readBits(1);D===0&&p.readBits(1),p.readBits(1);var L=0,U=0,W=0,te=0,J=p.readBool();J&&(L=p.readUEG(),U=p.readUEG(),W=p.readUEG(),te=p.readUEG());var z=1,M=1,V=0,$=!0,j=0,Q=0,ie=p.readBool();if(ie){if(p.readBool()){var de=p.readByte(),ue=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],be=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];de>0&&de<16?(z=ue[de-1],M=be[de-1]):de===255&&(z=p.readByte()<<8|p.readByte(),M=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var Pe=p.readBits(32),ye=p.readBits(32);$=p.readBool(),j=ye,Q=Pe*2,V=j/Q}}var we=1;(z!==1||M!==1)&&(we=z/M);var _e=0,xe=0;if(x===0)_e=1,xe=2-D;else{var je=x===3?1:2,Xe=x===1?2:1;_e=je,xe=Xe*(2-D)}var Fe=(R+1)*16,at=(2-D)*((k+1)*16);Fe-=(L+U)*_e,at-=(W+te)*xe;var vt=Math.ceil(Fe*we);return p.destroy(),p=null,{profile_string:m,level_string:g,bit_depth:w,ref_frames:I,chroma_format:S,chroma_format_string:f.getChromaFormatString(S),frame_rate:{fixed:$,fps:V,fps_den:Q,fps_num:j},sar_ratio:{width:z,height:M},codec_size:{width:Fe,height:at},present_size:{width:vt,height:at}}},f._skipScalingList=function(h,d){for(var p=8,v=8,y=0,m=0;m<d;m++)v!==0&&(y=h.readSEG(),v=(p+y+256)%256),p=v===0?p:v},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),d=c("./src/player/native-player.js"),p=c("./src/player/player-events.js"),v=c("./src/player/player-errors.js"),y=c("./src/utils/logging-control.js"),m=c("./src/utils/exception.js");l.default.install();function g(w,C){var A=w;if(A==null||typeof A!="object")throw new m.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new m.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new h.default(A,C);default:return new d.default(A,C)}}function x(){return u.default.supportMSEH264Playback()}function S(){return u.default.getFeatureList()}var b={};b.createPlayer=g,b.isSupported=x,b.getFeatureList=S,b.BaseLoader=f.BaseLoader,b.LoaderStatus=f.LoaderStatus,b.LoaderErrors=f.LoaderErrors,b.Events=p.default,b.ErrorTypes=v.ErrorTypes,b.ErrorDetails=v.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=d.default,b.LoggingControl=y.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(m[x]=g[x])},p(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(v,y);function m(){this.constructor=v}v.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),d=function(p){h(v,p);function v(y,m){var g=p.call(this,"fetch-stream-loader")||this;return g.TAG="FetchStreamLoader",g._seekHandler=y,g._config=m,g._needStash=!0,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return v.isSupported=function(){try{var y=l.default.msedge&&l.default.version.minor>=15048,m=l.default.msedge?y:!0;return self.fetch&&self.ReadableStream&&m}catch{return!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),p.prototype.destroy.call(this)},v.prototype.open=function(y,m){var g=this;this._dataSource=y,this._range=m;var x=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(x=y.redirectedURL);var S=this._seekHandler.getConfig(x,m),b=new self.Headers;if(typeof S.headers=="object"){var w=S.headers;for(var C in w)w.hasOwnProperty(C)&&b.append(C,w[C])}var A={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)b.append(C,this._config.headers[C]);y.cors===!1&&(A.mode="same-origin"),y.withCredentials&&(A.credentials="include"),y.referrerPolicy&&(A.referrerPolicy=y.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(S.url,A).then(function(P){if(g._requestAbort){g._status=u.LoaderStatus.kIdle,P.body.cancel();return}if(P.ok&&P.status>=200&&P.status<=299){if(P.url!==S.url&&g._onURLRedirect){var O=g._seekHandler.removeURLParameters(P.url);g._onURLRedirect(O)}var I=P.headers.get("Content-Length");return I!=null&&(g._contentLength=parseInt(I),g._contentLength!==0&&g._onContentLengthKnown&&g._onContentLengthKnown(g._contentLength)),g._pump.call(g,P.body.getReader())}else if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:P.status,msg:P.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+P.status+" "+P.statusText)}).catch(function(P){if(!(g._abortController&&g._abortController.signal.aborted))if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:P.message});else throw P})},v.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},v.prototype._pump=function(y){var m=this;return y.read().then(function(g){if(g.done)if(m._contentLength!==null&&m._receivedLength<m._contentLength){m._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,S={code:-1,msg:"Fetch stream meet Early-EOF"};if(m._onError)m._onError(x,S);else throw new f.RuntimeException(S.msg)}else m._status=u.LoaderStatus.kComplete,m._onComplete&&m._onComplete(m._range.from,m._range.from+m._receivedLength-1);else{if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}else if(m._requestAbort===!0)return m._status=u.LoaderStatus.kComplete,y.cancel();m._status=u.LoaderStatus.kBuffering;var b=g.value.buffer,w=m._range.from+m._receivedLength;m._receivedLength+=b.byteLength,m._onDataArrival&&m._onDataArrival(b,w,m._receivedLength),m._pump(y)}}).catch(function(g){if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}if(!(g.code===11&&l.default.msedge)){m._status=u.LoaderStatus.kError;var x=0,S=null;if((g.code===19||g.message==="network error")&&(m._contentLength===null||m._contentLength!==null&&m._receivedLength<m._contentLength)?(x=u.LoaderErrors.EARLY_EOF,S={code:g.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,S={code:g.code,msg:g.message}),m._onError)m._onError(x,S);else throw new f.RuntimeException(S.msg)}})},v}(u.BaseLoader);s.default=d},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),d=c("./src/io/xhr-moz-chunked-loader.js"),p=c("./src/io/xhr-range-loader.js"),v=c("./src/io/websocket-loader.js"),y=c("./src/io/range-seek-handler.js"),m=c("./src/io/param-seek-handler.js"),g=c("./src/utils/exception.js"),x=function(){function S(b,w,C){this.TAG="IOController",this._config=w,this._extraData=C,this._stashInitialSize=1024*384,w.stashInitialSize!=null&&w.stashInitialSize>0&&(this._stashInitialSize=w.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,w.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return S.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},S.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},S.prototype.isPaused=function(){return this._paused},Object.defineProperty(S.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"currentSpeed",{get:function(){return this._loaderClass===p.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),S.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new y.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var w=b.seekParamStart||"bstart",C=b.seekParamEnd||"bend";this._seekHandler=new m.default(w,C)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new g.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new g.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},S.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(d.default.isSupported())this._loaderClass=d.default;else if(p.default.isSupported())this._loaderClass=p.default;else throw new g.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},S.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},S.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},S.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},S.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},S.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},S.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},S.prototype._internalSeek=function(b,w){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(w),this._loader.destroy(),this._loader=null;var C={from:b,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},S.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new g.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},S.prototype._expandBuffer=function(b){for(var w=this._stashSize;w+1024*1024*1<b;)w*=2;if(w+=1024*1024*1,w!==this._bufferSize){var C=new ArrayBuffer(w);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),P=new Uint8Array(C,0,w);P.set(A,0)}this._stashBuffer=C,this._bufferSize=w}},S.prototype._normalizeSpeed=function(b){var w=this._speedNormalizeList,C=w.length-1,A=0,P=0,O=C;if(b<w[0])return w[0];for(;P<=O;){if(A=P+Math.floor((O-P)/2),A===C||b>=w[A]&&b<w[A+1])return w[A];w[A]<b?P=A+1:O=A-1}},S.prototype._adjustStashSize=function(b){var w=0;this._config.isLive||b<512?w=b:b>=512&&b<=1024?w=Math.floor(b*1.5):w=b*2,w>8192&&(w=8192);var C=w*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=w*1024},S.prototype._dispatchChunks=function(b,w){return this._currentRange.to=w+b.byteLength-1,this._onDataArrival(b,w)},S.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},S.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},S.prototype._onLoaderChunkArrival=function(b,w,C){if(!this._onDataArrival)throw new g.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var P=this._normalizeSpeed(A);this._speedNormalized!==P&&(this._speedNormalized=P,this._adjustStashSize(P))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=w),this._stashUsed+b.byteLength<=this._stashSize){var R=new Uint8Array(this._stashBuffer,0,this._stashSize);R.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var R=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var D=this._stashBuffer.slice(0,this._stashUsed),O=this._dispatchChunks(D,this._stashByteStart);if(O<D.byteLength){if(O>0){var k=new Uint8Array(D,O);R.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=O}}else this._stashUsed=0,this._stashByteStart+=O;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),R=new Uint8Array(this._stashBuffer,0,this._bufferSize)),R.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var O=this._dispatchChunks(b,w);if(O<b.byteLength){var I=b.byteLength-O;I>this._bufferSize&&(this._expandBuffer(I),R=new Uint8Array(this._stashBuffer,0,this._bufferSize)),R.set(new Uint8Array(b,O),0),this._stashUsed+=I,this._stashByteStart=w+O}}}else if(this._stashUsed===0){var O=this._dispatchChunks(b,w);if(O<b.byteLength){var I=b.byteLength-O;I>this._bufferSize&&this._expandBuffer(I);var R=new Uint8Array(this._stashBuffer,0,this._bufferSize);R.set(new Uint8Array(b,O),0),this._stashUsed+=I,this._stashByteStart=w+O}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var R=new Uint8Array(this._stashBuffer,0,this._bufferSize);R.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var O=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(O<this._stashUsed&&O>0){var k=new Uint8Array(this._stashBuffer,O);R.set(k,0)}this._stashUsed-=O,this._stashByteStart+=O}}},S.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var w=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(w,this._stashByteStart),A=w.byteLength-C;if(C<w.byteLength)if(b)l.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var P=new Uint8Array(this._stashBuffer,0,this._bufferSize),O=new Uint8Array(w,C);P.set(O,0),this._stashUsed=O.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},S.prototype._onLoaderComplete=function(b,w){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},S.prototype._onLoaderError=function(b,w){switch(l.default.e(this.TAG,"Loader error, code = "+w.code+", msg = "+w.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,w);else throw new g.RuntimeException("IOException: "+w.msg)},S}();s.default=x},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function d(p){this._type=p||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return d.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},d.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(p){this._onContentLengthKnown=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(p){this._onURLRedirect=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(p){this._onDataArrival=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onError",{get:function(){return this._onError},set:function(p){this._onError=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onComplete",{get:function(){return this._onComplete},set:function(p){this._onComplete=p},enumerable:!1,configurable:!0}),d.prototype.open=function(p,v){throw new l.NotImplementedException("Unimplemented abstract function!")},d.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},d}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var d=f;if(h.from!==0||h.to!==-1){var p=!0;d.indexOf("?")===-1&&(d+="?",p=!1),p&&(d+="&"),d+=this._startName+"="+h.from.toString(),h.to!==-1&&(d+="&"+this._endName+"="+h.to.toString())}return{url:d,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],d=void 0,p=f.indexOf("?");p!==-1&&(d=f.substring(p+1));var v="";if(d!=null&&d.length>0)for(var y=d.split("&"),m=0;m<y.length;m++){var g=y[m].split("="),x=m>0;g[0]!==this._startName&&g[0]!==this._endName&&(x&&(v+="&"),v+=y[m])}return v.length===0?h:h+"?"+v},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var d={};if(h.from!==0||h.to!==-1){var p=void 0;h.to!==-1?p="bytes="+h.from.toString()+"-"+h.to.toString():p="bytes="+h.from.toString()+"-",d.Range=p}else this._zeroStart&&(d.Range="bytes=0-");return{url:f,headers:d}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var d=function(p,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},d(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(p,v);function y(){this.constructor=p}p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),h=function(d){f(p,d);function p(){var v=d.call(this,"websocket-loader")||this;return v.TAG="WebSocketLoader",v._needStash=!0,v._ws=null,v._requestAbort=!1,v._receivedLength=0,v}return p.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},p.prototype.destroy=function(){this._ws&&this.abort(),d.prototype.destroy.call(this)},p.prototype.open=function(v){try{var y=this._ws=new self.WebSocket(v.url);y.binaryType="arraybuffer",y.onopen=this._onWebSocketOpen.bind(this),y.onclose=this._onWebSocketClose.bind(this),y.onmessage=this._onWebSocketMessage.bind(this),y.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(g){this._status=l.LoaderStatus.kError;var m={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)}},p.prototype.abort=function(){var v=this._ws;v&&(v.readyState===0||v.readyState===1)&&(this._requestAbort=!0,v.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},p.prototype._onWebSocketOpen=function(v){this._status=l.LoaderStatus.kBuffering},p.prototype._onWebSocketClose=function(v){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},p.prototype._onWebSocketMessage=function(v){var y=this;if(v.data instanceof ArrayBuffer)this._dispatchArrayBuffer(v.data);else if(v.data instanceof Blob){var m=new FileReader;m.onload=function(){y._dispatchArrayBuffer(m.result)},m.readAsArrayBuffer(v.data)}else{this._status=l.LoaderStatus.kError;var g={code:-1,msg:"Unsupported WebSocket message type: "+v.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},p.prototype._dispatchArrayBuffer=function(v){var y=v,m=this._receivedLength;this._receivedLength+=y.byteLength,this._onDataArrival&&this._onDataArrival(y,m,this._receivedLength)},p.prototype._onWebSocketError=function(v){this._status=l.LoaderStatus.kError;var y={code:v.code,msg:v.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,y);else throw new u.RuntimeException(y.msg)},p}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(m[x]=g[x])},p(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(v,y);function m(){this.constructor=v}v.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),d=function(p){h(v,p);function v(y,m){var g=p.call(this,"xhr-moz-chunked-loader")||this;return g.TAG="MozChunkedLoader",g._seekHandler=y,g._config=m,g._needStash=!0,g._xhr=null,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return v.isSupported=function(){try{var y=new XMLHttpRequest;return y.open("GET","https://example.com",!0),y.responseType="moz-chunked-arraybuffer",y.responseType==="moz-chunked-arraybuffer"}catch(m){return l.default.w("MozChunkedLoader",m.message),!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),p.prototype.destroy.call(this)},v.prototype.open=function(y,m){this._dataSource=y,this._range=m;var g=y.url;this._config.reuseRedirectedURL&&y.redirectedURL!=null&&(g=y.redirectedURL);var x=this._seekHandler.getConfig(g,m);this._requestURL=x.url;var S=this._xhr=new XMLHttpRequest;if(S.open("GET",x.url,!0),S.responseType="moz-chunked-arraybuffer",S.onreadystatechange=this._onReadyStateChange.bind(this),S.onprogress=this._onProgress.bind(this),S.onloadend=this._onLoadEnd.bind(this),S.onerror=this._onXhrError.bind(this),y.withCredentials&&(S.withCredentials=!0),typeof x.headers=="object"){var b=x.headers;for(var w in b)b.hasOwnProperty(w)&&S.setRequestHeader(w,b[w])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var w in b)b.hasOwnProperty(w)&&S.setRequestHeader(w,b[w])}this._status=u.LoaderStatus.kConnecting,S.send()},v.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},v.prototype._onReadyStateChange=function(y){var m=y.target;if(m.readyState===2){if(m.responseURL!=null&&m.responseURL!==this._requestURL&&this._onURLRedirect){var g=this._seekHandler.removeURLParameters(m.responseURL);this._onURLRedirect(g)}if(m.status!==0&&(m.status<200||m.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:m.status,msg:m.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+m.status+" "+m.statusText);else this._status=u.LoaderStatus.kBuffering}},v.prototype._onProgress=function(y){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&y.total!==null&&y.total!==0&&(this._contentLength=y.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var m=y.target.response,g=this._range.from+this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,g,this._receivedLength)}},v.prototype._onLoadEnd=function(y){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},v.prototype._onXhrError=function(y){this._status=u.LoaderStatus.kError;var m=0,g=null;if(this._contentLength&&y.loaded<this._contentLength?(m=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(m=u.LoaderErrors.EXCEPTION,g={code:-1,msg:y.constructor.name+" "+y.type}),this._onError)this._onError(m,g);else throw new f.RuntimeException(g.msg)},v}(u.BaseLoader);s.default=d},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),d=function(){var v=function(y,m){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(g[S]=x[S])},v(y,m)};return function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");v(y,m);function g(){this.constructor=y}y.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),p=function(v){d(y,v);function y(m,g){var x=v.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=m,x._config=g,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return y.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="arraybuffer",m.responseType==="arraybuffer"}catch(g){return l.default.w("RangeLoader",g.message),!1}},y.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},Object.defineProperty(y.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),y.prototype.open=function(m,g){this._dataSource=m,this._range=g,this._status=f.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},y.prototype._openSubRange=function(){var m=this._currentChunkSizeKB*1024,g=this._range.from+this._receivedLength,x=g+m;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:g,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},y.prototype._internalOpen=function(m,g){this._lastTimeLoaded=0;var x=m.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:m.redirectedURL!=null&&(x=m.redirectedURL));var S=this._seekHandler.getConfig(x,g);this._currentRequestURL=S.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",S.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),m.withCredentials&&(b.withCredentials=!0),typeof S.headers=="object"){var w=S.headers;for(var C in w)w.hasOwnProperty(C)&&b.setRequestHeader(C,w[C])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var C in w)w.hasOwnProperty(C)&&b.setRequestHeader(C,w[C])}b.send()},y.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},y.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},y.prototype._onReadyStateChange=function(m){var g=m.target;if(g.readyState===2){if(g.responseURL!=null){var x=this._seekHandler.removeURLParameters(g.responseURL);g.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(g.status>=200&&g.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+g.status+" "+g.statusText)}},y.prototype._onProgress=function(m){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var g=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,g=!0;var x=m.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,g){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var S=m.loaded-this._lastTimeLoaded;this._lastTimeLoaded=m.loaded,this._speedSampler.addBytes(S)}},y.prototype._normalizeSpeed=function(m){var g=this._chunkSizeKBList,x=g.length-1,S=0,b=0,w=x;if(m<g[0])return g[0];for(;b<=w;){if(S=b+Math.floor((w-b)/2),S===x||m>=g[S]&&m<g[S+1])return g[S];g[S]<m?b=S+1:w=S-1}},y.prototype._onLoad=function(m){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var g=this._speedSampler.lastSecondKBps;if(g===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(g=this._speedSampler.currentKBps)),g!==0){var x=this._normalizeSpeed(g);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var S=m.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=S.byteLength;var w=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():w=!0,this._onDataArrival&&this._onDataArrival(S,b,this._receivedLength),w&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},y.prototype._onXhrError=function(m){this._status=f.LoaderStatus.kError;var g=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(g=f.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(g=f.LoaderErrors.EXCEPTION,x={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(g,x);else throw new h.RuntimeException(x.msg)},y}(f.BaseLoader);s.default=p},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/player/player-events.js"),p=c("./src/core/transmuxer.js"),v=c("./src/core/transmuxing-events.js"),y=c("./src/core/mse-controller.js"),m=c("./src/core/mse-events.js"),g=c("./src/player/player-errors.js"),x=c("./src/config.js"),S=c("./src/utils/exception.js"),b=function(){function w(C,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),C.type.toLowerCase()!=="flv")throw new S.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var P=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(P||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return w.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},w.prototype.on=function(C,A){var P=this;C===d.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){P._emitter.emit(d.default.MEDIA_INFO,P.mediaInfo)}):C===d.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){P._emitter.emit(d.default.STATISTICS_INFO,P.statisticsInfo)}),this._emitter.addListener(C,A)},w.prototype.off=function(C,A){this._emitter.removeListener(C,A)},w.prototype.attachMediaElement=function(C){var A=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new y.default(this._config),this._msectl.on(m.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(m.default.ERROR,function(P){A._emitter.emit(d.default.ERROR,g.ErrorTypes.MEDIA_ERROR,g.ErrorDetails.MEDIA_MSE_ERROR,P)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},w.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},w.prototype.load=function(){var C=this;if(!this._mediaElement)throw new S.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new S.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new p.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(A,P){C._msectl.appendInitSegment(P)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(A,P){if(C._msectl.appendMediaSegment(P),C._config.lazyLoad&&!C._config.isLive){var O=C._mediaElement.currentTime;P.info.endDts>=(O+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(d.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(d.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(A,P){C._emitter.emit(d.default.ERROR,g.ErrorTypes.NETWORK_ERROR,A,P)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(A,P){C._emitter.emit(d.default.ERROR,g.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:P})}),this._transmuxer.on(v.default.MEDIA_INFO,function(A){C._mediaInfo=A,C._emitter.emit(d.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(A){C._emitter.emit(d.default.METADATA_ARRIVED,A)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(A){C._emitter.emit(d.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(A){C._statisticsInfo=C._fillStatisticsInfo(A),C._emitter.emit(d.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(A){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},w.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},w.prototype.play=function(){return this._mediaElement.play()},w.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(w.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),w.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var A=!0,P=0,O=0;if(this._mediaElement.getVideoPlaybackQuality){var I=this._mediaElement.getVideoPlaybackQuality();P=I.totalVideoFrames,O=I.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(P=this._mediaElement.webkitDecodedFrameCount,O=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(C.decodedFrames=P,C.droppedFrames=O),C},w.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,A=this._mediaElement.currentTime,P=0,O=0;O<C.length;O++){var I=C.start(O),R=C.end(O);if(I<=A&&A<R){P=R;break}}P>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},w.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},w.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},w.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,A=this._mediaElement.buffered,P=!1,O=0;O<A.length;O++){var I=A.start(O),R=A.end(O);if(C>=I&&C<R){C>=R-this._config.lazyLoadRecoverDuration&&(P=!0);break}}P&&(window.clearInterval(this._progressChecker),this._progressChecker=null,P&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},w.prototype._isTimepointBuffered=function(C){for(var A=this._mediaElement.buffered,P=0;P<A.length;P++){var O=A.start(P),I=A.end(P);if(C>=O&&C<I)return!0}return!1},w.prototype._internalSeek=function(C){var A=this._isTimepointBuffered(C),P=!1,O=0;if(C<1&&this._mediaElement.buffered.length>0){var I=this._mediaElement.buffered.start(0);(I<1&&C<I||h.default.safari)&&(P=!0,O=h.default.safari?.1:I)}if(P)this._requestSetTime=!0,this._mediaElement.currentTime=O;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var R=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,R!=null?this._mediaElement.currentTime=R.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},w.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},w.prototype._checkAndResumeStuckPlayback=function(C){var A=this._mediaElement;if(C||!this._receivedCanPlay||A.readyState<2){var P=A.buffered;P.length>0&&A.currentTime<P.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+P.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=P.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},w.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},w.prototype._onvSeeking=function(C){var A=this._mediaElement.currentTime,P=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&P.length>0){var O=P.start(0);if(O<1&&A<O||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:O;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var I=this._msectl.getNearestKeyframe(Math.floor(A*1e3));I!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=I.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},w.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},w.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},w.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},w}();s.default=b},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),d=c("./src/utils/exception.js"),p=function(){function v(y,m){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof m=="object"&&Object.assign(this._config,m),y.type.toLowerCase()==="flv")throw new d.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(y.hasOwnProperty("segments"))throw new d.InvalidArgumentException("NativePlayer("+y.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=y,this._mediaElement=null}return v.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(y,m){var g=this;y===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.MEDIA_INFO,g.mediaInfo)}):y===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.STATISTICS_INFO,g.statisticsInfo)}),this._emitter.addListener(y,m)},v.prototype.off=function(y,m){this._emitter.removeListener(y,m)},v.prototype.attachMediaElement=function(y){if(this._mediaElement=y,y.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{y.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.load=function(){if(!this._mediaElement)throw new d.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},v.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(y){this._mediaElement.volume=y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(y){this._mediaElement.muted=y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(y){this._mediaElement?this._mediaElement.currentTime=y:this._pendingSeekTime=y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){var y=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",m={mimeType:y+this._mediaDataSource.type};return this._mediaElement&&(m.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(m.width=this._mediaElement.videoWidth,m.height=this._mediaElement.videoHeight)),m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){var y={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return y;var m=!0,g=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var S=this._mediaElement.getVideoPlaybackQuality();g=S.totalVideoFrames,x=S.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(g=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):m=!1;return m&&(y.decodedFrames=g,y.droppedFrames=x),y},enumerable:!1,configurable:!0}),v.prototype._onvLoadedMetadata=function(y){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},v.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},v}();s.default=p},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,d=null,p=Array.prototype.slice.call(arguments,1),v=p.length,y=0;y<v;y++)h+=p[y].byteLength;d=new Uint8Array(h),d[0]=h>>>24&255,d[1]=h>>>16&255,d[2]=h>>>8&255,d[3]=h&255,d.set(f,4);for(var m=8,y=0;y<v;y++)d.set(p[y],m),m+=p[y].byteLength;return d},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),d=u.moov(f),p=new Uint8Array(h.byteLength+d.byteLength);return p.set(h,0),p.set(d,h.byteLength),p},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),d=u.trak(f),p=u.mvex(f);return u.box(u.types.moov,h,d,p)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,d=f.duration,p=f.presentWidth,v=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,p>>>8&255,p&255,0,0,v>>>8&255,v&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,d=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types[".mp3"],p)},u.mp4a=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types.mp4a,p,u.esds(f))},u.esds=function(f){var h=f.config||[],d=h.length,p=new Uint8Array([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([d]).concat(h).concat([6,1,2]));return u.box(u.types.esds,p)},u.avc1=function(f){var h=f.avcc,d=f.codecWidth,p=f.codecHeight,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>>8&255,d&255,p>>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,v,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,d=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,d)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var d=f.id,p=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255])),v=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),y=u.sdtp(f),m=u.trun(f,y.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,p,v,m,y)},u.sdtp=function(f){for(var h=f.samples||[],d=h.length,p=new Uint8Array(4+d),v=0;v<d;v++){var y=h[v].flags;p[v+4]=y.isLeading<<6|y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy}return u.box(u.types.sdtp,p)},u.trun=function(f,h){var d=f.samples||[],p=d.length,v=12+16*p,y=new Uint8Array(v);h+=8+v,y.set([0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,p&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var m=0;m<p;m++){var g=d[m].duration,x=d[m].size,S=d[m].flags,b=d[m].cts;y.set([g>>>24&255,g>>>16&255,g>>>8&255,g&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,S.isLeading<<2|S.dependsOn,S.isDependedOn<<6|S.hasRedundancy<<4|S.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*m)}return u.box(u.types.trun,y)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-segment-info.js"),p=c("./src/utils/exception.js"),v=function(){function y(m){this.TAG="MP4Remuxer",this._config=m,this._isLive=m.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new d.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new d.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return y.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},y.prototype.bindDataSource=function(m){return m.onDataAvailable=this.remux.bind(this),m.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(y.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(m){this._onInitSegment=m},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(m){this._onMediaSegment=m},enumerable:!1,configurable:!0}),y.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},y.prototype.seek=function(m){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},y.prototype.remux=function(m,g){if(!this._onMediaSegment)throw new p.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(m,g),this._remuxVideo(g),this._remuxAudio(m)},y.prototype._onTrackMetadataReceived=function(m,g){var x=null,S="mp4",b=g.codec;if(m==="audio")this._audioMeta=g,g.codec==="mp3"&&this._mp3UseMpegAudio?(S="mpeg",b="",x=new Uint8Array):x=u.default.generateInitSegment(g);else if(m==="video")this._videoMeta=g,x=u.default.generateInitSegment(g);else return;if(!this._onInitSegment)throw new p.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(m,{type:m,data:x.buffer,codec:b,container:m+"/"+S,mediaDuration:g.duration})},y.prototype._calculateDtsBase=function(m,g){this._dtsBaseInited||(m.samples&&m.samples.length&&(this._audioDtsBase=m.samples[0].dts),g.samples&&g.samples.length&&(this._videoDtsBase=g.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},y.prototype.flushStashedSamples=function(){var m=this._videoStashedLastSample,g=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};m!=null&&(x.samples.push(m),x.length=m.length);var S={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};g!=null&&(S.samples.push(g),S.length=g.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(S,!0)},y.prototype._remuxAudio=function(m,g){if(this._audioMeta!=null){var x=m,S=x.samples,b=void 0,w=-1,C=-1,A=this._audioMeta.refSampleDuration,P=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,O=this._dtsBaseInited&&this._audioNextDts===void 0,I=!1;if(!(!S||S.length===0)&&!(S.length===1&&!g)){var R=0,k=null,D=0;P?(R=0,D=x.length):(R=8,D=8+x.length);var L=null;if(S.length>1&&(L=S.pop(),D-=L.length),this._audioStashedLastSample!=null){var U=this._audioStashedLastSample;this._audioStashedLastSample=null,S.unshift(U),D+=U.length}L!=null&&(this._audioStashedLastSample=L);var W=S[0].dts-this._dtsBase;if(this._audioNextDts)b=W-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(I=!0);else{var te=this._audioSegmentInfoList.getLastSampleBefore(W);if(te!=null){var J=W-(te.originalDts+te.duration);J<=3&&(J=0);var z=te.dts+te.duration+J;b=W-z}else b=0}if(I){var M=W-b,V=this._videoSegmentInfoList.getLastSegmentBefore(W);if(V!=null&&V.beginDts<M){var $=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if($){var j=V.beginDts,Q=M-V.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+j+", duration: "+Q),S.unshift({unit:$,dts:j,pts:j}),D+=$.byteLength}}else I=!1}for(var ie=[],de=0;de<S.length;de++){var U=S[de],ue=U.unit,be=U.dts-this._dtsBase,j=be,Pe=!1,ye=null,we=0;if(!(be<-.001)){if(this._audioMeta.codec!=="mp3"){var _e=be,xe=3;if(this._audioNextDts&&(_e=this._audioNextDts),b=be-_e,b<=-xe*A){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+be+" ms ,curRefDts: "+_e+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=xe*A&&this._fillAudioTimestampGap&&!h.default.safari){Pe=!0;var je=Math.floor(b/A);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+be+" ms, curRefDts: "+_e+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+je+" frames")),j=Math.floor(_e),we=Math.floor(_e+A)-j;var $=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);$==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),$=ue),ye=[];for(var Xe=0;Xe<je;Xe++){_e=_e+A;var Fe=Math.floor(_e),at=Math.floor(_e+A)-Fe,vt={dts:Fe,pts:Fe,cts:0,unit:$,size:$.byteLength,duration:at,originalDts:be,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};ye.push(vt),D+=vt.size}this._audioNextDts=_e+A}else j=Math.floor(_e),we=Math.floor(_e+A)-j,this._audioNextDts=_e+A}else{if(j=be-b,de!==S.length-1){var yt=S[de+1].dts-this._dtsBase-b;we=yt-j}else if(L!=null){var yt=L.dts-this._dtsBase-b;we=yt-j}else ie.length>=1?we=ie[ie.length-1].duration:we=Math.floor(A);this._audioNextDts=j+we}w===-1&&(w=j),ie.push({dts:j,pts:j,cts:0,unit:U.unit,size:U.unit.byteLength,duration:we,originalDts:be,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Pe&&ie.push.apply(ie,ye)}}if(ie.length===0){x.samples=[],x.length=0;return}P?k=new Uint8Array(D):(k=new Uint8Array(D),k[0]=D>>>24&255,k[1]=D>>>16&255,k[2]=D>>>8&255,k[3]=D&255,k.set(u.default.types.mdat,4));for(var de=0;de<ie.length;de++){var ue=ie[de].unit;k.set(ue,R),R+=ue.byteLength}var tt=ie[ie.length-1];C=tt.dts+tt.duration;var ot=new d.MediaSegmentInfo;ot.beginDts=w,ot.endDts=C,ot.beginPts=w,ot.endPts=C,ot.originalBeginDts=ie[0].originalDts,ot.originalEndDts=tt.originalDts+tt.duration,ot.firstSample=new d.SampleInfo(ie[0].dts,ie[0].pts,ie[0].duration,ie[0].originalDts,!1),ot.lastSample=new d.SampleInfo(tt.dts,tt.pts,tt.duration,tt.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ot),x.samples=ie,x.sequenceNumber++;var dt=null;P?dt=new Uint8Array:dt=u.default.moof(x,w),x.samples=[],x.length=0;var qt={type:"audio",data:this._mergeBoxes(dt,k).buffer,sampleCount:ie.length,info:ot};P&&O&&(qt.timestampOffset=w),this._onMediaSegment("audio",qt)}}},y.prototype._remuxVideo=function(m,g){if(this._videoMeta!=null){var x=m,S=x.samples,b=void 0,w=-1,C=-1,A=-1,P=-1;if(!(!S||S.length===0)&&!(S.length===1&&!g)){var O=8,I=null,R=8+m.length,k=null;if(S.length>1&&(k=S.pop(),R-=k.length),this._videoStashedLastSample!=null){var D=this._videoStashedLastSample;this._videoStashedLastSample=null,S.unshift(D),R+=D.length}k!=null&&(this._videoStashedLastSample=k);var L=S[0].dts-this._dtsBase;if(this._videoNextDts)b=L-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var U=this._videoSegmentInfoList.getLastSampleBefore(L);if(U!=null){var W=L-(U.originalDts+U.duration);W<=3&&(W=0);var te=U.dts+U.duration+W;b=L-te}else b=0}for(var J=new d.MediaSegmentInfo,z=[],M=0;M<S.length;M++){var D=S[M],V=D.dts-this._dtsBase,$=D.isKeyframe,j=V-b,Q=D.cts,ie=j+Q;w===-1&&(w=j,A=ie);var de=0;if(M!==S.length-1){var ue=S[M+1].dts-this._dtsBase-b;de=ue-j}else if(k!=null){var ue=k.dts-this._dtsBase-b;de=ue-j}else z.length>=1?de=z[z.length-1].duration:de=Math.floor(this._videoMeta.refSampleDuration);if($){var be=new d.SampleInfo(j,ie,de,D.dts,!0);be.fileposition=D.fileposition,J.appendSyncPoint(be)}z.push({dts:j,pts:ie,cts:Q,units:D.units,size:D.length,isKeyframe:$,duration:de,originalDts:V,flags:{isLeading:0,dependsOn:$?2:1,isDependedOn:$?1:0,hasRedundancy:0,isNonSync:$?0:1}})}I=new Uint8Array(R),I[0]=R>>>24&255,I[1]=R>>>16&255,I[2]=R>>>8&255,I[3]=R&255,I.set(u.default.types.mdat,4);for(var M=0;M<z.length;M++)for(var Pe=z[M].units;Pe.length;){var ye=Pe.shift(),we=ye.data;I.set(we,O),O+=we.byteLength}var _e=z[z.length-1];if(C=_e.dts+_e.duration,P=_e.pts+_e.duration,this._videoNextDts=C,J.beginDts=w,J.endDts=C,J.beginPts=A,J.endPts=P,J.originalBeginDts=z[0].originalDts,J.originalEndDts=_e.originalDts+_e.duration,J.firstSample=new d.SampleInfo(z[0].dts,z[0].pts,z[0].duration,z[0].originalDts,z[0].isKeyframe),J.lastSample=new d.SampleInfo(_e.dts,_e.pts,_e.duration,_e.originalDts,_e.isKeyframe),this._isLive||this._videoSegmentInfoList.append(J),x.samples=z,x.sequenceNumber++,this._forceFirstIDR){var xe=z[0].flags;xe.dependsOn=2,xe.isNonSync=0}var je=u.default.moof(x,w);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(je,I).buffer,sampleCount:z.length,info:J})}}},y.prototype._mergeBoxes=function(m,g){var x=new Uint8Array(m.byteLength+g.byteLength);return x.set(m,0),x.set(g,m.byteLength),x},y}();s.default=v},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],d=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],p={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:d[0]||""},v={};if(p.browser){v[p.browser]=!0;var y=p.majorVersion.split(".");v.version={major:parseInt(p.majorVersion,10),string:p.version},y.length>1&&(v.version.minor=parseInt(y[1],10)),y.length>2&&(v.version.build=parseInt(y[2],10))}if(p.platform&&(v[p.platform]=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){v.rv&&delete v.rv;var m="msie";p.browser=m,v[m]=!0}if(v.edge){delete v.edge;var g="msedge";p.browser=g,v[g]=!0}if(v.opr){var x="opera";p.browser=x,v[x]=!0}if(v.safari&&v.android){var S="android";p.browser=S,v[S]=!0}v.name=p.browser,v.platform=p.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,v)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return d}});var l=function(){var p=function(v,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(m[x]=g[x])},p(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(v,y);function m(){this.constructor=v}v.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}(),u=function(){function p(v){this._message=v}return Object.defineProperty(p.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),p.prototype.toString=function(){return this.name+": "+this.message},p}(),f=function(p){l(v,p);function v(y){return p.call(this,y)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),v}(u),h=function(p){l(v,p);function v(y){return p.call(this,y)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),v}(u),d=function(p){l(v,p);function v(y){return p.call(this,y)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),v}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",v),h.ENABLE_ERROR&&(console.error?console.error(v):console.warn?console.warn(v):console.log(v))},h.i=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",v),h.ENABLE_INFO&&(console.info?console.info(v):console.log(v))},h.w=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",v),h.ENABLE_WARN&&(console.warn?console.warn(v):console.log(v))},h.d=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",v),h.ENABLE_DEBUG&&(console.debug?console.debug(v):console.log(v))},h.v=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",v),h.ENABLE_VERBOSE&&console.log(v)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function d(){}return Object.defineProperty(d,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(p){f.default.FORCE_GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(p){f.default.GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_VERBOSE=p,f.default.ENABLE_DEBUG=p,f.default.ENABLE_INFO=p,f.default.ENABLE_WARN=p,f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(p){f.default.ENABLE_DEBUG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(p){f.default.ENABLE_VERBOSE=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(p){f.default.ENABLE_INFO=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(p){f.default.ENABLE_WARN=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),d.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},d.applyConfig=function(p){f.default.GLOBAL_TAG=p.globalTag,f.default.FORCE_GLOBAL_TAG=p.forceGlobalTag,f.default.ENABLE_VERBOSE=p.enableVerbose,f.default.ENABLE_DEBUG=p.enableDebug,f.default.ENABLE_INFO=p.enableInfo,f.default.ENABLE_WARN=p.enableWarn,f.default.ENABLE_ERROR=p.enableError,f.default.ENABLE_CALLBACK=p.enableCallback},d._notifyChange=function(){var p=d.emitter;if(p.listenerCount("change")>0){var v=d.getConfig();p.emit("change",v)}},d.registerListener=function(p){d.emitter.addListener("change",p)},d.removeListener=function(p){d.emitter.removeListener("change",p)},d.addLogListener=function(p){f.default.emitter.addListener("log",p),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,d._notifyChange())},d.removeLogListener=function(p){f.default.emitter.removeListener("log",p),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,d._notifyChange())},d}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),d=1;d<arguments.length;d++){var p=arguments[d];if(p!=null)for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,d){var p=f;if(h+d<p.length){for(;d--;)if((p[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],d=f,p=0,v=f.length;p<v;){if(d[p]<128){h.push(String.fromCharCode(d[p])),++p;continue}else if(!(d[p]<192)){if(d[p]<224){if(l(d,p,1)){var y=(d[p]&31)<<6|d[p+1]&63;if(y>=128){h.push(String.fromCharCode(y&65535)),p+=2;continue}}}else if(d[p]<240){if(l(d,p,2)){var y=(d[p]&15)<<12|(d[p+1]&63)<<6|d[p+2]&63;if(y>=2048&&(y&63488)!==55296){h.push(String.fromCharCode(y&65535)),p+=3;continue}}}else if(d[p]<248&&l(d,p,3)){var y=(d[p]&7)<<18|(d[p+1]&63)<<12|(d[p+2]&63)<<6|d[p+3]&63;if(y>65536&&y<1114112){y-=65536,h.push(String.fromCharCode(y>>>10|55296)),h.push(String.fromCharCode(y&1023|56320)),p+=4;continue}}}h.push(String.fromCharCode(65533)),++p}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(oU);var O_e=oU.exports;const ww=xi(O_e);var sU={exports:{}},Ab={exports:{}};const R_e={},I_e=Object.freeze(Object.defineProperty({__proto__:null,default:R_e},Symbol.toStringTag,{value:"Module"})),lU=yY(I_e);var KM;function Yt(){return KM||(KM=1,function(t,e){(function(r,n){t.exports=n()})(st,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof st<"u"&&st.crypto&&(a=st.crypto),!a&&typeof pd=="function")try{a=lU}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function g(){}return function(x){var S;return g.prototype=x,S=new g,g.prototype=null,S}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(g){var x=s(this);return g&&x.mixIn(g),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var x in g)g.hasOwnProperty(x)&&(this[x]=g[x]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(g,x){g=this.words=g||[],x!=i?this.sigBytes=x:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var x=this.words,S=g.words,b=this.sigBytes,w=g.sigBytes;if(this.clamp(),b%4)for(var C=0;C<w;C++){var A=S[C>>>2]>>>24-C%4*8&255;x[b+C>>>2]|=A<<24-(b+C)%4*8}else for(var P=0;P<w;P+=4)x[b+P>>>2]=S[P>>>2];return this.sigBytes+=w,this},clamp:function(){var g=this.words,x=this.sigBytes;g[x>>>2]&=4294967295<<32-x%4*8,g.length=n.ceil(x/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var x=[],S=0;S<g;S+=4)x.push(o());return new f.init(x,g)}}),h=c.enc={},d=h.Hex={stringify:function(g){for(var x=g.words,S=g.sigBytes,b=[],w=0;w<S;w++){var C=x[w>>>2]>>>24-w%4*8&255;b.push((C>>>4).toString(16)),b.push((C&15).toString(16))}return b.join("")},parse:function(g){for(var x=g.length,S=[],b=0;b<x;b+=2)S[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new f.init(S,x/2)}},p=h.Latin1={stringify:function(g){for(var x=g.words,S=g.sigBytes,b=[],w=0;w<S;w++){var C=x[w>>>2]>>>24-w%4*8&255;b.push(String.fromCharCode(C))}return b.join("")},parse:function(g){for(var x=g.length,S=[],b=0;b<x;b++)S[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new f.init(S,x)}},v=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(p.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return p.parse(unescape(encodeURIComponent(g)))}},y=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=v.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var x,S=this._data,b=S.words,w=S.sigBytes,C=this.blockSize,A=C*4,P=w/A;g?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var O=P*C,I=n.min(O*4,w);if(O){for(var R=0;R<O;R+=C)this._doProcessBlock(b,R);x=b.splice(0,O),S.sigBytes-=I}return new f.init(x,I)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=y.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(g){return function(x,S){return new g.init(S).finalize(x)}},_createHmacHelper:function(g){return function(x,S){return new m.HMAC.init(g,S).finalize(x)}}});var m=c.algo={};return c}(Math);return r})}(Ab)),Ab.exports}var Tb={exports:{}},ZM;function t_(){return ZM||(ZM=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var d=l[h];f.push(d.high),f.push(d.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(Tb)),Tb.exports}var Pb={exports:{}},QM;function k_e(){return QM||(QM=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(Pb)),Pb.exports}var Ob={exports:{}},JM;function F_e(){return JM||(JM=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(Ob)),Ob.exports}var Rb={exports:{}},eL;function ic(){return eL||(eL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],d=0;d<u;d+=3)for(var p=l[d>>>2]>>>24-d%4*8&255,v=l[d+1>>>2]>>>24-(d+1)%4*8&255,y=l[d+2>>>2]>>>24-(d+2)%4*8&255,m=p<<16|v<<8|y,g=0;g<4&&d+g*.75<u;g++)h.push(f.charAt(m>>>6*(3-g)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var d=u.charAt(64);if(d){var p=c.indexOf(d);p!==-1&&(l=p)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,y=p|v;f[h>>>2]|=y<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(Rb)),Rb.exports}var Ib={exports:{}},tL;function D_e(){return tL||(tL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var d=[],p=0;p<f;p+=3)for(var v=u[p>>>2]>>>24-p%4*8&255,y=u[p+1>>>2]>>>24-(p+1)%4*8&255,m=u[p+2>>>2]>>>24-(p+2)%4*8&255,g=v<<16|y<<8|m,x=0;x<4&&p+x*.75<f;x++)d.push(h.charAt(g>>>6*(3-x)&63));var S=h.charAt(64);if(S)for(;d.length%4;)d.push(S);return d.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<f.length;d++)h[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var v=c.indexOf(p);v!==-1&&(u=v)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,y=p|v;f[h>>>2]|=y<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(Ib)),Ib.exports}var kb={exports:{}},rL;function ac(){return rL||(rL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var v=0;v<64;v++)l[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,y){for(var m=0;m<16;m++){var g=y+m,x=v[g];v[g]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var S=this._hash.words,b=v[y+0],w=v[y+1],C=v[y+2],A=v[y+3],P=v[y+4],O=v[y+5],I=v[y+6],R=v[y+7],k=v[y+8],D=v[y+9],L=v[y+10],U=v[y+11],W=v[y+12],te=v[y+13],J=v[y+14],z=v[y+15],M=S[0],V=S[1],$=S[2],j=S[3];M=f(M,V,$,j,b,7,l[0]),j=f(j,M,V,$,w,12,l[1]),$=f($,j,M,V,C,17,l[2]),V=f(V,$,j,M,A,22,l[3]),M=f(M,V,$,j,P,7,l[4]),j=f(j,M,V,$,O,12,l[5]),$=f($,j,M,V,I,17,l[6]),V=f(V,$,j,M,R,22,l[7]),M=f(M,V,$,j,k,7,l[8]),j=f(j,M,V,$,D,12,l[9]),$=f($,j,M,V,L,17,l[10]),V=f(V,$,j,M,U,22,l[11]),M=f(M,V,$,j,W,7,l[12]),j=f(j,M,V,$,te,12,l[13]),$=f($,j,M,V,J,17,l[14]),V=f(V,$,j,M,z,22,l[15]),M=h(M,V,$,j,w,5,l[16]),j=h(j,M,V,$,I,9,l[17]),$=h($,j,M,V,U,14,l[18]),V=h(V,$,j,M,b,20,l[19]),M=h(M,V,$,j,O,5,l[20]),j=h(j,M,V,$,L,9,l[21]),$=h($,j,M,V,z,14,l[22]),V=h(V,$,j,M,P,20,l[23]),M=h(M,V,$,j,D,5,l[24]),j=h(j,M,V,$,J,9,l[25]),$=h($,j,M,V,A,14,l[26]),V=h(V,$,j,M,k,20,l[27]),M=h(M,V,$,j,te,5,l[28]),j=h(j,M,V,$,C,9,l[29]),$=h($,j,M,V,R,14,l[30]),V=h(V,$,j,M,W,20,l[31]),M=d(M,V,$,j,O,4,l[32]),j=d(j,M,V,$,k,11,l[33]),$=d($,j,M,V,U,16,l[34]),V=d(V,$,j,M,J,23,l[35]),M=d(M,V,$,j,w,4,l[36]),j=d(j,M,V,$,P,11,l[37]),$=d($,j,M,V,R,16,l[38]),V=d(V,$,j,M,L,23,l[39]),M=d(M,V,$,j,te,4,l[40]),j=d(j,M,V,$,b,11,l[41]),$=d($,j,M,V,A,16,l[42]),V=d(V,$,j,M,I,23,l[43]),M=d(M,V,$,j,D,4,l[44]),j=d(j,M,V,$,W,11,l[45]),$=d($,j,M,V,z,16,l[46]),V=d(V,$,j,M,C,23,l[47]),M=p(M,V,$,j,b,6,l[48]),j=p(j,M,V,$,R,10,l[49]),$=p($,j,M,V,J,15,l[50]),V=p(V,$,j,M,O,21,l[51]),M=p(M,V,$,j,W,6,l[52]),j=p(j,M,V,$,A,10,l[53]),$=p($,j,M,V,L,15,l[54]),V=p(V,$,j,M,w,21,l[55]),M=p(M,V,$,j,k,6,l[56]),j=p(j,M,V,$,z,10,l[57]),$=p($,j,M,V,I,15,l[58]),V=p(V,$,j,M,te,21,l[59]),M=p(M,V,$,j,P,6,l[60]),j=p(j,M,V,$,U,10,l[61]),$=p($,j,M,V,C,15,l[62]),V=p(V,$,j,M,D,21,l[63]),S[0]=S[0]+M|0,S[1]=S[1]+V|0,S[2]=S[2]+$|0,S[3]=S[3]+j|0},_doFinalize:function(){var v=this._data,y=v.words,m=this._nDataBytes*8,g=v.sigBytes*8;y[g>>>5]|=128<<24-g%32;var x=n.floor(m/4294967296),S=m;y[(g+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,y[(g+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,v.sigBytes=(y.length+1)*4,this._process();for(var b=this._hash,w=b.words,C=0;C<4;C++){var A=w[C];w[C]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,y,m,g,x,S,b){var w=v+(y&m|~y&g)+x+b;return(w<<S|w>>>32-S)+y}function h(v,y,m,g,x,S,b){var w=v+(y&g|m&~g)+x+b;return(w<<S|w>>>32-S)+y}function d(v,y,m,g,x,S,b){var w=v+(y^m^g)+x+b;return(w<<S|w>>>32-S)+y}function p(v,y,m,g,x,S,b){var w=v+(m^(y|~g))+x+b;return(w<<S|w>>>32-S)+y}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(kb)),kb.exports}var Fb={exports:{}},nL;function uU(){return nL||(nL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,d=h[0],p=h[1],v=h[2],y=h[3],m=h[4],g=0;g<80;g++){if(g<16)c[g]=u[f+g]|0;else{var x=c[g-3]^c[g-8]^c[g-14]^c[g-16];c[g]=x<<1|x>>>31}var S=(d<<5|d>>>27)+m+c[g];g<20?S+=(p&v|~p&y)+1518500249:g<40?S+=(p^v^y)+1859775393:g<60?S+=(p&v|p&y|v&y)-1894007588:S+=(p^v^y)-899497514,m=y,y=v,v=p<<30|p>>>2,p=d,d=S}h[0]=h[0]+d|0,h[1]=h[1]+p|0,h[2]=h[2]+v|0,h[3]=h[3]+y|0,h[4]=h[4]+m|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,d=u.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(d+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(Fb)),Fb.exports}var Db={exports:{}},iL;function MT(){return iL||(iL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function d(m){for(var g=n.sqrt(m),x=2;x<=g;x++)if(!(m%x))return!1;return!0}function p(m){return(m-(m|0))*4294967296|0}for(var v=2,y=0;y<64;)d(v)&&(y<8&&(l[y]=p(n.pow(v,1/2))),u[y]=p(n.pow(v,1/3)),y++),v++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(d,p){for(var v=this._hash.words,y=v[0],m=v[1],g=v[2],x=v[3],S=v[4],b=v[5],w=v[6],C=v[7],A=0;A<64;A++){if(A<16)f[A]=d[p+A]|0;else{var P=f[A-15],O=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,I=f[A-2],R=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;f[A]=O+f[A-7]+R+f[A-16]}var k=S&b^~S&w,D=y&m^y&g^m&g,L=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),U=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),W=C+U+k+u[A]+f[A],te=L+D;C=w,w=b,b=S,S=x+W|0,x=g,g=m,m=y,y=W+te|0}v[0]=v[0]+y|0,v[1]=v[1]+m|0,v[2]=v[2]+g|0,v[3]=v[3]+x|0,v[4]=v[4]+S|0,v[5]=v[5]+b|0,v[6]=v[6]+w|0,v[7]=v[7]+C|0},_doFinalize:function(){var d=this._data,p=d.words,v=this._nDataBytes*8,y=d.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=n.floor(v/4294967296),p[(y+64>>>9<<4)+15]=v,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(Db)),Db.exports}var Mb={exports:{}},aL;function M_e(){return aL||(aL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),MT())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(Mb)),Mb.exports}var Lb={exports:{}},oL;function cU(){return oL||(oL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),t_())})(st,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=u()})();var d=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var y=this._hash.words,m=y[0],g=y[1],x=y[2],S=y[3],b=y[4],w=y[5],C=y[6],A=y[7],P=m.high,O=m.low,I=g.high,R=g.low,k=x.high,D=x.low,L=S.high,U=S.low,W=b.high,te=b.low,J=w.high,z=w.low,M=C.high,V=C.low,$=A.high,j=A.low,Q=P,ie=O,de=I,ue=R,be=k,Pe=D,ye=L,we=U,_e=W,xe=te,je=J,Xe=z,Fe=M,at=V,vt=$,yt=j,tt=0;tt<80;tt++){var ot,dt,qt=h[tt];if(tt<16)dt=qt.high=p[v+tt*2]|0,ot=qt.low=p[v+tt*2+1]|0;else{var nr=h[tt-15],Zt=nr.high,Gt=nr.low,St=(Zt>>>1|Gt<<31)^(Zt>>>8|Gt<<24)^Zt>>>7,sr=(Gt>>>1|Zt<<31)^(Gt>>>8|Zt<<24)^(Gt>>>7|Zt<<25),ge=h[tt-2],Ce=ge.high,Re=ge.low,Ye=(Ce>>>19|Re<<13)^(Ce<<3|Re>>>29)^Ce>>>6,$e=(Re>>>19|Ce<<13)^(Re<<3|Ce>>>29)^(Re>>>6|Ce<<26),rt=h[tt-7],tr=rt.high,Cr=rt.low,Dn=h[tt-16],Mn=Dn.high,yr=Dn.low;ot=sr+Cr,dt=St+tr+(ot>>>0<sr>>>0?1:0),ot=ot+$e,dt=dt+Ye+(ot>>>0<$e>>>0?1:0),ot=ot+yr,dt=dt+Mn+(ot>>>0<yr>>>0?1:0),qt.high=dt,qt.low=ot}var na=_e&je^~_e&Fe,ai=xe&Xe^~xe&at,mn=Q&de^Q&be^de&be,ia=ie&ue^ie&Pe^ue&Pe,wa=(Q>>>28|ie<<4)^(Q<<30|ie>>>2)^(Q<<25|ie>>>7),So=(ie>>>28|Q<<4)^(ie<<30|Q>>>2)^(ie<<25|Q>>>7),Si=(_e>>>14|xe<<18)^(_e>>>18|xe<<14)^(_e<<23|xe>>>9),Fs=(xe>>>14|_e<<18)^(xe>>>18|_e<<14)^(xe<<23|_e>>>9),Ei=f[tt],Ha=Ei.high,oi=Ei.low,Yr=yt+Fs,$i=vt+Si+(Yr>>>0<yt>>>0?1:0),Yr=Yr+ai,$i=$i+na+(Yr>>>0<ai>>>0?1:0),Yr=Yr+oi,$i=$i+Ha+(Yr>>>0<oi>>>0?1:0),Yr=Yr+ot,$i=$i+dt+(Yr>>>0<ot>>>0?1:0),Gl=So+ia,vh=wa+mn+(Gl>>>0<So>>>0?1:0);vt=Fe,yt=at,Fe=je,at=Xe,je=_e,Xe=xe,xe=we+Yr|0,_e=ye+$i+(xe>>>0<we>>>0?1:0)|0,ye=be,we=Pe,be=de,Pe=ue,de=Q,ue=ie,ie=Yr+Gl|0,Q=$i+vh+(ie>>>0<Yr>>>0?1:0)|0}O=m.low=O+ie,m.high=P+Q+(O>>>0<ie>>>0?1:0),R=g.low=R+ue,g.high=I+de+(R>>>0<ue>>>0?1:0),D=x.low=D+Pe,x.high=k+be+(D>>>0<Pe>>>0?1:0),U=S.low=U+we,S.high=L+ye+(U>>>0<we>>>0?1:0),te=b.low=te+xe,b.high=W+_e+(te>>>0<xe>>>0?1:0),z=w.low=z+Xe,w.high=J+je+(z>>>0<Xe>>>0?1:0),V=C.low=V+at,C.high=M+Fe+(V>>>0<at>>>0?1:0),j=A.low=j+yt,A.high=$+vt+(j>>>0<yt>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,y=this._nDataBytes*8,m=p.sigBytes*8;v[m>>>5]|=128<<24-m%32,v[(m+128>>>10<<5)+30]=Math.floor(y/4294967296),v[(m+128>>>10<<5)+31]=y,p.sigBytes=v.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=a._createHelper(d),n.HmacSHA512=a._createHmacHelper(d)}(),r.SHA512})}(Lb)),Lb.exports}var Bb={exports:{}},sL;function L_e(){return sL||(sL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),t_(),cU())})(st,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(Bb)),Bb.exports}var Nb={exports:{}},lL;function B_e(){return lL||(lL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),t_())})(st,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],d=[];(function(){for(var y=1,m=0,g=0;g<24;g++){f[y+5*m]=(g+1)*(g+2)/2%64;var x=m%5,S=(2*y+3*m)%5;y=x,m=S}for(var y=0;y<5;y++)for(var m=0;m<5;m++)h[y+5*m]=m+(2*y+3*m)%5*5;for(var b=1,w=0;w<24;w++){for(var C=0,A=0,P=0;P<7;P++){if(b&1){var O=(1<<P)-1;O<32?A^=1<<O:C^=1<<O-32}b&128?b=b<<1^113:b<<=1}d[w]=l.create(C,A)}})();var p=[];(function(){for(var y=0;y<25;y++)p[y]=l.create()})();var v=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],m=0;m<25;m++)y[m]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,m){for(var g=this._state,x=this.blockSize/2,S=0;S<x;S++){var b=y[m+2*S],w=y[m+2*S+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var C=g[S];C.high^=w,C.low^=b}for(var A=0;A<24;A++){for(var P=0;P<5;P++){for(var O=0,I=0,R=0;R<5;R++){var C=g[P+5*R];O^=C.high,I^=C.low}var k=p[P];k.high=O,k.low=I}for(var P=0;P<5;P++)for(var D=p[(P+4)%5],L=p[(P+1)%5],U=L.high,W=L.low,O=D.high^(U<<1|W>>>31),I=D.low^(W<<1|U>>>31),R=0;R<5;R++){var C=g[P+5*R];C.high^=O,C.low^=I}for(var te=1;te<25;te++){var O,I,C=g[te],J=C.high,z=C.low,M=f[te];M<32?(O=J<<M|z>>>32-M,I=z<<M|J>>>32-M):(O=z<<M-32|J>>>64-M,I=J<<M-32|z>>>64-M);var V=p[h[te]];V.high=O,V.low=I}var $=p[0],j=g[0];$.high=j.high,$.low=j.low;for(var P=0;P<5;P++)for(var R=0;R<5;R++){var te=P+5*R,C=g[te],Q=p[te],ie=p[(P+1)%5+5*R],de=p[(P+2)%5+5*R];C.high=Q.high^~ie.high&de.high,C.low=Q.low^~ie.low&de.low}var C=g[0],ue=d[A];C.high^=ue.high,C.low^=ue.low}},_doFinalize:function(){var y=this._data,m=y.words;this._nDataBytes*8;var g=y.sigBytes*8,x=this.blockSize*32;m[g>>>5]|=1<<24-g%32,m[(n.ceil((g+1)/x)*x>>>5)-1]|=128,y.sigBytes=m.length*4,this._process();for(var S=this._state,b=this.cfg.outputLength/8,w=b/8,C=[],A=0;A<w;A++){var P=S[A],O=P.high,I=P.low;O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,C.push(I),C.push(O)}return new o.init(C,b)},clone:function(){for(var y=s.clone.call(this),m=y._state=this._state.slice(0),g=0;g<25;g++)m[g]=m[g].clone();return y}});i.SHA3=s._createHelper(v),i.HmacSHA3=s._createHmacHelper(v)}(Math),r.SHA3})}(Nb)),Nb.exports}var Ub={exports:{}},uL;function N_e(){return uL||(uL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,C){for(var A=0;A<16;A++){var P=C+A,O=w[P];w[P]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var I=this._hash.words,R=d.words,k=p.words,D=l.words,L=u.words,U=f.words,W=h.words,te,J,z,M,V,$,j,Q,ie,de;$=te=I[0],j=J=I[1],Q=z=I[2],ie=M=I[3],de=V=I[4];for(var ue,A=0;A<80;A+=1)ue=te+w[C+D[A]]|0,A<16?ue+=y(J,z,M)+R[0]:A<32?ue+=m(J,z,M)+R[1]:A<48?ue+=g(J,z,M)+R[2]:A<64?ue+=x(J,z,M)+R[3]:ue+=S(J,z,M)+R[4],ue=ue|0,ue=b(ue,U[A]),ue=ue+V|0,te=V,V=M,M=b(z,10),z=J,J=ue,ue=$+w[C+L[A]]|0,A<16?ue+=S(j,Q,ie)+k[0]:A<32?ue+=x(j,Q,ie)+k[1]:A<48?ue+=g(j,Q,ie)+k[2]:A<64?ue+=m(j,Q,ie)+k[3]:ue+=y(j,Q,ie)+k[4],ue=ue|0,ue=b(ue,W[A]),ue=ue+de|0,$=de,de=ie,ie=b(Q,10),Q=j,j=ue;ue=I[1]+z+ie|0,I[1]=I[2]+M+de|0,I[2]=I[3]+V+$|0,I[3]=I[4]+te+j|0,I[4]=I[0]+J+Q|0,I[0]=ue},_doFinalize:function(){var w=this._data,C=w.words,A=this._nDataBytes*8,P=w.sigBytes*8;C[P>>>5]|=128<<24-P%32,C[(P+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w.sigBytes=(C.length+1)*4,this._process();for(var O=this._hash,I=O.words,R=0;R<5;R++){var k=I[R];I[R]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return O},clone:function(){var w=s.clone.call(this);return w._hash=this._hash.clone(),w}});function y(w,C,A){return w^C^A}function m(w,C,A){return w&C|~w&A}function g(w,C,A){return(w|~C)^A}function x(w,C,A){return w&A|C&~A}function S(w,C,A){return w^(C|~A)}function b(w,C){return w<<C|w>>>32-C}i.RIPEMD160=s._createHelper(v),i.HmacRIPEMD160=s._createHmacHelper(v)}(),r.RIPEMD160})}(Ub)),Ub.exports}var jb={exports:{}},cL;function LT(){return cL||(cL=1,function(t,e){(function(r,n){t.exports=n(Yt())})(st,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),p=this._iKey=u.clone(),v=d.words,y=p.words,m=0;m<f;m++)v[m]^=1549556828,y[m]^=909522486;d.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(jb)),jb.exports}var $b={exports:{}},fL;function U_e(){return fL||(fL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),MT(),LT())})(st,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var d=this.cfg,p=l.create(d.hasher,f),v=o.create(),y=o.create([1]),m=v.words,g=y.words,x=d.keySize,S=d.iterations;m.length<x;){var b=p.update(h).finalize(y);p.reset();for(var w=b.words,C=w.length,A=b,P=1;P<S;P++){A=p.finalize(A),p.reset();for(var O=A.words,I=0;I<C;I++)w[I]^=O[I]}v.concat(b),g[0]++}return v.sigBytes=x*4,v}});n.PBKDF2=function(f,h,d){return u.create(d).compute(f,h)}}(),r.PBKDF2})}($b)),$b.exports}var Vb={exports:{}},hL;function jl(){return hL||(hL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),uU(),LT())})(st,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,d=this.cfg,p=d.hasher.create(),v=o.create(),y=v.words,m=d.keySize,g=d.iterations;y.length<m;){h&&p.update(h),h=p.update(u).finalize(f),p.reset();for(var x=1;x<g;x++)h=p.finalize(h),p.reset();v.concat(h)}return v.sigBytes=m*4,v}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(Vb)),Vb.exports}var Gb={exports:{}},dL;function qn(){return dL||(dL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),jl())})(st,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,d=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(O,I){return this.create(this._ENC_XFORM_MODE,O,I)},createDecryptor:function(O,I){return this.create(this._DEC_XFORM_MODE,O,I)},init:function(O,I,R){this.cfg=this.cfg.extend(R),this._xformMode=O,this._key=I,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(O){return this._append(O),this._process()},finalize:function(O){O&&this._append(O);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function O(I){return typeof I=="string"?P:w}return function(I){return{encrypt:function(R,k,D){return O(k).encrypt(I,R,k,D)},decrypt:function(R,k,D){return O(k).decrypt(I,R,k,D)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var O=this._process(!0);return O},blockSize:1});var p=i.mode={},v=a.BlockCipherMode=o.extend({createEncryptor:function(O,I){return this.Encryptor.create(O,I)},createDecryptor:function(O,I){return this.Decryptor.create(O,I)},init:function(O,I){this._cipher=O,this._iv=I}}),y=p.CBC=function(){var O=v.extend();O.Encryptor=O.extend({processBlock:function(R,k){var D=this._cipher,L=D.blockSize;I.call(this,R,k,L),D.encryptBlock(R,k),this._prevBlock=R.slice(k,k+L)}}),O.Decryptor=O.extend({processBlock:function(R,k){var D=this._cipher,L=D.blockSize,U=R.slice(k,k+L);D.decryptBlock(R,k),I.call(this,R,k,L),this._prevBlock=U}});function I(R,k,D){var L,U=this._iv;U?(L=U,this._iv=n):L=this._prevBlock;for(var W=0;W<D;W++)R[k+W]^=L[W]}return O}(),m=i.pad={},g=m.Pkcs7={pad:function(O,I){for(var R=I*4,k=R-O.sigBytes%R,D=k<<24|k<<16|k<<8|k,L=[],U=0;U<k;U+=4)L.push(D);var W=s.create(L,k);O.concat(W)},unpad:function(O){var I=O.words[O.sigBytes-1>>>2]&255;O.sigBytes-=I}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:g}),reset:function(){var O;d.reset.call(this);var I=this.cfg,R=I.iv,k=I.mode;this._xformMode==this._ENC_XFORM_MODE?O=k.createEncryptor:(O=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==O?this._mode.init(this,R&&R.words):(this._mode=O.call(k,this,R&&R.words),this._mode.__creator=O)},_doProcessBlock:function(O,I){this._mode.processBlock(O,I)},_doFinalize:function(){var O,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),O=this._process(!0)):(O=this._process(!0),I.unpad(O)),O},blockSize:128/32});var x=a.CipherParams=o.extend({init:function(O){this.mixIn(O)},toString:function(O){return(O||this.formatter).stringify(this)}}),S=i.format={},b=S.OpenSSL={stringify:function(O){var I,R=O.ciphertext,k=O.salt;return k?I=s.create([1398893684,1701076831]).concat(k).concat(R):I=R,I.toString(u)},parse:function(O){var I,R=u.parse(O),k=R.words;return k[0]==1398893684&&k[1]==1701076831&&(I=s.create(k.slice(2,4)),k.splice(0,4),R.sigBytes-=16),x.create({ciphertext:R,salt:I})}},w=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(O,I,R,k){k=this.cfg.extend(k);var D=O.createEncryptor(R,k),L=D.finalize(I),U=D.cfg;return x.create({ciphertext:L,key:R,iv:U.iv,algorithm:O,mode:U.mode,padding:U.padding,blockSize:O.blockSize,formatter:k.format})},decrypt:function(O,I,R,k){k=this.cfg.extend(k),I=this._parse(I,k.format);var D=O.createDecryptor(R,k).finalize(I.ciphertext);return D},_parse:function(O,I){return typeof O=="string"?I.parse(O,this):O}}),C=i.kdf={},A=C.OpenSSL={execute:function(O,I,R,k,D){if(k||(k=s.random(64/8)),D)var L=h.create({keySize:I+R,hasher:D}).compute(O,k);else var L=h.create({keySize:I+R}).compute(O,k);var U=s.create(L.words.slice(I),R*4);return L.sigBytes=I*4,x.create({key:L,iv:U,salt:k})}},P=a.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:A}),encrypt:function(O,I,R,k){k=this.cfg.extend(k);var D=k.kdf.execute(R,O.keySize,O.ivSize,k.salt,k.hasher);k.iv=D.iv;var L=w.encrypt.call(this,O,I,D.key,k);return L.mixIn(D),L},decrypt:function(O,I,R,k){k=this.cfg.extend(k),I=this._parse(I,k.format);var D=k.kdf.execute(R,O.keySize,O.ivSize,I.salt,k.hasher);k.iv=D.iv;var L=w.decrypt.call(this,O,I,D.key,k);return L}})}()})}(Gb)),Gb.exports}var Wb={exports:{}},pL;function j_e(){return pL||(pL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(Wb)),Wb.exports}var zb={exports:{}},vL;function $_e(){return vL||(vL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(zb)),zb.exports}var Hb={exports:{}},gL;function V_e(){return gL||(gL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var d=h.slice(0);l.encryptBlock(d,0);for(var p=0;p<u;p++)s[c+p]^=d[p]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(Hb)),Hb.exports}var Xb={exports:{}},mL;function G_e(){return mL||(mL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Xb)),Xb.exports}var Yb={exports:{}},yL;function W_e(){return yL||(yL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(Yb)),Yb.exports}var qb={exports:{}},_L;function z_e(){return _L||(_L=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(qb)),qb.exports}var Kb={exports:{}},xL;function H_e(){return xL||(xL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Kb)),Kb.exports}var Zb={exports:{}},bL;function X_e(){return bL||(bL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Zb)),Zb.exports}var Qb={exports:{}},SL;function Y_e(){return SL||(SL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Qb)),Qb.exports}var Jb={exports:{}},EL;function q_e(){return EL||(EL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Jb)),Jb.exports}var eS={exports:{}},wL;function K_e(){return wL||(wL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),qn())})(st,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(eS)),eS.exports}var tS={exports:{}},CL;function Z_e(){return CL||(CL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],d=[],p=[],v=[],y=[];(function(){for(var x=[],S=0;S<256;S++)S<128?x[S]=S<<1:x[S]=S<<1^283;for(var b=0,w=0,S=0;S<256;S++){var C=w^w<<1^w<<2^w<<3^w<<4;C=C>>>8^C&255^99,s[b]=C,c[C]=b;var A=x[b],P=x[A],O=x[P],I=x[C]*257^C*16843008;l[b]=I<<24|I>>>8,u[b]=I<<16|I>>>16,f[b]=I<<8|I>>>24,h[b]=I;var I=O*16843009^P*65537^A*257^b*16843008;d[C]=I<<24|I>>>8,p[C]=I<<16|I>>>16,v[C]=I<<8|I>>>24,y[C]=I,b?(b=A^x[x[x[O^A]]],w^=x[x[w]]):b=w=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,b=S.words,w=S.sigBytes/4,C=this._nRounds=w+6,A=(C+1)*4,P=this._keySchedule=[],O=0;O<A;O++)O<w?P[O]=b[O]:(x=P[O-1],O%w?w>6&&O%w==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=m[O/w|0]<<24),P[O]=P[O-w]^x);for(var I=this._invKeySchedule=[],R=0;R<A;R++){var O=A-R;if(R%4)var x=P[O];else var x=P[O-4];R<4||O<=4?I[R]=x:I[R]=d[s[x>>>24]]^p[s[x>>>16&255]]^v[s[x>>>8&255]]^y[s[x&255]]}}},encryptBlock:function(x,S){this._doCryptBlock(x,S,this._keySchedule,l,u,f,h,s)},decryptBlock:function(x,S){var b=x[S+1];x[S+1]=x[S+3],x[S+3]=b,this._doCryptBlock(x,S,this._invKeySchedule,d,p,v,y,c);var b=x[S+1];x[S+1]=x[S+3],x[S+3]=b},_doCryptBlock:function(x,S,b,w,C,A,P,O){for(var I=this._nRounds,R=x[S]^b[0],k=x[S+1]^b[1],D=x[S+2]^b[2],L=x[S+3]^b[3],U=4,W=1;W<I;W++){var te=w[R>>>24]^C[k>>>16&255]^A[D>>>8&255]^P[L&255]^b[U++],J=w[k>>>24]^C[D>>>16&255]^A[L>>>8&255]^P[R&255]^b[U++],z=w[D>>>24]^C[L>>>16&255]^A[R>>>8&255]^P[k&255]^b[U++],M=w[L>>>24]^C[R>>>16&255]^A[k>>>8&255]^P[D&255]^b[U++];R=te,k=J,D=z,L=M}var te=(O[R>>>24]<<24|O[k>>>16&255]<<16|O[D>>>8&255]<<8|O[L&255])^b[U++],J=(O[k>>>24]<<24|O[D>>>16&255]<<16|O[L>>>8&255]<<8|O[R&255])^b[U++],z=(O[D>>>24]<<24|O[L>>>16&255]<<16|O[R>>>8&255]<<8|O[k&255])^b[U++],M=(O[L>>>24]<<24|O[R>>>16&255]<<16|O[k>>>8&255]<<8|O[D&255])^b[U++];x[S]=te,x[S+1]=J,x[S+2]=z,x[S+3]=M},keySize:256/32});n.AES=a._createHelper(g)}(),r.AES})}(tS)),tS.exports}var rS={exports:{}},AL;function Q_e(){return AL||(AL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=o.extend({_doReset:function(){for(var m=this._key,g=m.words,x=[],S=0;S<56;S++){var b=c[S]-1;x[S]=g[b>>>5]>>>31-b%32&1}for(var w=this._subKeys=[],C=0;C<16;C++){for(var A=w[C]=[],P=u[C],S=0;S<24;S++)A[S/6|0]|=x[(l[S]-1+P)%28]<<31-S%6,A[4+(S/6|0)]|=x[28+(l[S+24]-1+P)%28]<<31-S%6;A[0]=A[0]<<1|A[0]>>>31;for(var S=1;S<7;S++)A[S]=A[S]>>>(S-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var O=this._invSubKeys=[],S=0;S<16;S++)O[S]=w[15-S]},encryptBlock:function(m,g){this._doCryptBlock(m,g,this._subKeys)},decryptBlock:function(m,g){this._doCryptBlock(m,g,this._invSubKeys)},_doCryptBlock:function(m,g,x){this._lBlock=m[g],this._rBlock=m[g+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var b=x[S],w=this._lBlock,C=this._rBlock,A=0,P=0;P<8;P++)A|=f[P][((C^b[P])&h[P])>>>0];this._lBlock=C,this._rBlock=w^A}var O=this._lBlock;this._lBlock=this._rBlock,this._rBlock=O,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),m[g]=this._lBlock,m[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(m,g){var x=(this._lBlock>>>m^this._rBlock)&g;this._rBlock^=x,this._lBlock^=x<<m}function v(m,g){var x=(this._rBlock>>>m^this._lBlock)&g;this._lBlock^=x,this._rBlock^=x<<m}n.DES=o._createHelper(d);var y=s.TripleDES=o.extend({_doReset:function(){var m=this._key,g=m.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=g.slice(0,2),S=g.length<4?g.slice(0,2):g.slice(2,4),b=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=d.createEncryptor(a.create(x)),this._des2=d.createEncryptor(a.create(S)),this._des3=d.createEncryptor(a.create(b))},encryptBlock:function(m,g){this._des1.encryptBlock(m,g),this._des2.decryptBlock(m,g),this._des3.encryptBlock(m,g)},decryptBlock:function(m,g){this._des3.decryptBlock(m,g),this._des2.encryptBlock(m,g),this._des1.decryptBlock(m,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(y)}(),r.TripleDES})}(rS)),rS.exports}var nS={exports:{}},TL;function J_e(){return TL||(TL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,v=0;p<256;p++){var y=p%h,m=f[y>>>2]>>>24-y%4*8&255;v=(v+d[p]+m)%256;var g=d[p];d[p]=d[v],d[v]=g}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,d|=u[(u[f]+u[h])%256]<<24-p*8}return this._i=f,this._j=h,d}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(nS)),nS.exports}var iS={exports:{}},PL;function exe(){return PL||(PL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,d=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],y=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)y[p]^=v[p+4&7];if(d){var m=d.words,g=m[0],x=m[1],S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,w=S>>>16|b&4294901760,C=b<<16|S&65535;y[0]^=S,y[1]^=w,y[2]^=b,y[3]^=C,y[4]^=S,y[5]^=w,y[6]^=b,y[7]^=C;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],y=v&65535,m=v>>>16,g=((y*y>>>17)+y*m>>>15)+m*m,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=g^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(iS)),iS.exports}var aS={exports:{}},OL;function txe(){return OL||(OL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,d=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)v[y]^=p[y+4&7];if(d){var m=d.words,g=m[0],x=m[1],S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,w=S>>>16|b&4294901760,C=b<<16|S&65535;v[0]^=S,v[1]^=w,v[2]^=b,v[3]^=C,v[4]^=S,v[5]^=w,v[6]^=b,v[7]^=C;for(var y=0;y<4;y++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],y=v&65535,m=v>>>16,g=((y*y>>>17)+y*m>>>15)+m*m,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=g^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(aS)),aS.exports}var oS={exports:{}},RL;function rxe(){return RL||(RL=1,function(t,e){(function(r,n,i){t.exports=n(Yt(),ic(),ac(),jl(),qn())})(st,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(y,m){let g=m>>24&255,x=m>>16&255,S=m>>8&255,b=m&255,w=y.sbox[0][g]+y.sbox[1][x];return w=w^y.sbox[2][S],w=w+y.sbox[3][b],w}function h(y,m,g){let x=m,S=g,b;for(let w=0;w<s;++w)x=x^y.pbox[w],S=f(y,x)^S,b=x,x=S,S=b;return b=x,x=S,S=b,S=S^y.pbox[s],x=x^y.pbox[s+1],{left:x,right:S}}function d(y,m,g){let x=m,S=g,b;for(let w=s+1;w>1;--w)x=x^y.pbox[w],S=f(y,x)^S,b=x,x=S,S=b;return b=x,x=S,S=b,S=S^y.pbox[1],x=x^y.pbox[0],{left:x,right:S}}function p(y,m,g){for(let C=0;C<4;C++){y.sbox[C]=[];for(let A=0;A<256;A++)y.sbox[C][A]=l[C][A]}let x=0;for(let C=0;C<s+2;C++)y.pbox[C]=c[C]^m[x],x++,x>=g&&(x=0);let S=0,b=0,w=0;for(let C=0;C<s+2;C+=2)w=h(y,S,b),S=w.left,b=w.right,y.pbox[C]=S,y.pbox[C+1]=b;for(let C=0;C<4;C++)for(let A=0;A<256;A+=2)w=h(y,S,b),S=w.left,b=w.right,y.sbox[C][A]=S,y.sbox[C][A+1]=b;return!0}var v=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,m=y.words,g=y.sigBytes/4;p(u,m,g)}},encryptBlock:function(y,m){var g=h(u,y[m],y[m+1]);y[m]=g.left,y[m+1]=g.right},decryptBlock:function(y,m){var g=d(u,y[m],y[m+1]);y[m]=g.left,y[m+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(v)}(),r.Blowfish})}(oS)),oS.exports}(function(t,e){(function(r,n,i){t.exports=n(Yt(),t_(),k_e(),F_e(),ic(),D_e(),ac(),uU(),MT(),M_e(),cU(),L_e(),B_e(),N_e(),LT(),U_e(),jl(),qn(),j_e(),$_e(),V_e(),G_e(),W_e(),z_e(),H_e(),X_e(),Y_e(),q_e(),K_e(),Z_e(),Q_e(),J_e(),exe(),txe(),rxe())})(st,function(r){return r})})(sU);var nxe=sU.exports;const mg=xi(nxe);function ixe(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return mg.lib.WordArray.create(r,e.length)}async function fU(t,e,r,n){const i=mg.enc.Hex.parse(e),a=mg.enc.Hex.parse(r),o=ixe(t),s=mg.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class axe{constructor(){qe(this,"videosByKey");qe(this,"currentPlayingVideo","");qe(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let d=!1;for(let m=0;m<f;m++){if(String.fromCharCode(h[m])!==u[m]){d=!1;break}d=!0}let p;if(d){const m=l.slice(f);p=await fU(m,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else p=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const v=ww.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(p)});v.attachMediaElement(a),v.load();const y={...this.videosByKey[e],player:v};this.videosByKey[e]=y,a.onloadeddata=()=>{const m=Object.keys(y.waitCommands);if(y){const g=document.createElement("canvas"),x=g.getContext("2d");g.width=480,g.height=270,x.drawImage(a,0,0,480,270);const S=g.toDataURL("image/webp",.5);g.remove(),y.poster=S}m.length&&m.forEach(g=>{if(!y){console.log("",e);return}this[g](e,y.waitCommands[g])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class oxe{constructor(){qe(this,"sceneManager",new w_e);qe(this,"backlogManager",new Qoe(this.sceneManager));qe(this,"animationManager",new C_e);qe(this,"gameplay",new A_e);qe(this,"gameName","");qe(this,"gameKey","");qe(this,"events",new P_e);qe(this,"videoManager",new axe)}}const Y=new oxe,An=hU(()=>{const t=se.getState().userData;Vu.setItem(Y.gameKey,t).then(()=>{Ge.info("")})},100),dm=hU(()=>{Vu.getItem(Y.gameKey).then(t=>{if(!t||!pU(t)){Ge.warn(""),An();return}se.dispatch(J2(t))})},100);function hU(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const dU=()=>{const t=se.getState().userData;Vu.setItem(Y.gameKey,t).then(()=>{Vu.getItem(Y.gameKey).then(e=>{if(!e){An();return}se.dispatch(J2(e))}),Ge.info("")})};function pU(t){let e=!0;for(const r in uw)t.hasOwnProperty(r)||(e=!1);return e}async function sxe(){const t=await Vu.getItem(Y.gameKey);if(!t||!pU(t)){const e=se.getState().userData;return Ge.warn(""),await Vu.setItem(Y.gameKey,e)}else se.dispatch(J2(t))}var Fa=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t))(Fa||{}),yg=(t=>(t.slider="slider",t.sliderBg="sliderBg",t.sliderThumb="sliderThumb",t))(yg||{}),BT=(t=>(t.Load_back_button="Load_back_button",t))(BT||{}),NT=(t=>(t.Storyline_back_button="Storyline_back_button",t))(NT||{}),UT=(t=>(t.Achievement_back_button="Achievement_back_button",t))(UT||{}),jT=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(jT||{}),ap=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(ap||{}),Dr=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t.Collection_detail_left_bg="Collection_detail_left_bg",t.Collection_detail_right_content_bg="Collection_detail_right_content_bg",t.Collection_detail_right_thumbnail_bg="Collection_detail_right_thumbnail_bg",t.Collection_detail_right_desc_bg="Collection_detail_right_desc_bg",t))(Dr||{}),r_=(t=>(t.Option_back_button="Option_back_button",t))(r_||{}),$T=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))($T||{}),da=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(da||{}),VT=(t=>(t.Achievement_title="Achievement_title",t))(VT||{}),GT=(t=>(t.Storyline_title="Storyline_title",t))(GT||{}),WT=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(WT||{}),op=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(op||{}),En=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t))(En||{});const sS={title:{buttons:Fa,other:op},load:{buttons:BT,other:WT},storyline:{buttons:NT,other:GT},achievement:{buttons:UT,other:VT},extra:{buttons:jT,other:ap},option:{buttons:r_,other:da},collection:{buttons:$T,other:Dr}},Qe=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},lxe={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:Qe()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:Qe(["hoverStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:Qe(["hoverStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:Qe(["hoverStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:Qe(["hoverStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:Qe(["hoverStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:Qe(["hoverStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:Qe(["hoverStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:Qe(["hoverStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:Qe()},Load_title:{key:"Load_title",content:"",args:Qe(["hoverStyle"])},Load_item:{key:"Load_item",content:"",args:Qe(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:Qe(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:Qe(["hoverStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:Qe(["hoverStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:Qe(["hoverStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:Qe(["hoverStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:Qe(["hoverStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:Qe(["hoverStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:Qe(["hoverStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:Qe(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:Qe()},Extra_indicator:{key:"Extra_indicator",content:"",args:Qe(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:Qe()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:Qe()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:Qe(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:Qe(["hoverStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:Qe(["hoverStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:Qe(["hoverStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:Qe()},Option_title:{key:"Option_title",content:"",args:Qe(["hoverStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:Qe(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:Qe(["hoverStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:Qe(["hoverStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:Qe(["hoverStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:Qe(["hoverStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:Qe(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:Qe(["hoverStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:Qe(["hoverStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:Qe()},Collection_img1:{key:"Collection_img1",content:"",args:Qe()},Collection_img2:{key:"Collection_img2",content:"",args:Qe()},Collection_img3:{key:"Collection_img3",content:"",args:Qe()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:Qe(["hoverStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:Qe()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:Qe()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:Qe()},Collection_detail_left_bg:{key:"Collection_detail_left_bg",content:"",args:Qe()},Collection_detail_right_content_bg:{key:"Collection_detail_right_content_bg",content:"",args:Qe()},Collection_detail_right_thumbnail_bg:{key:"Collection_detail_right_thumbnail_bg",content:"",args:Qe()},Collection_detail_right_desc_bg:{key:"Collection_detail_right_desc_bg",content:"",args:Qe()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:Qe(["hoverStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:Qe(["hoverStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:Qe(["hoverStyle"])}}}},uxe={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Collection_detail_left_bg:1,Collection_detail_right_content_bg:1,Collection_detail_right_thumbnail_bg:1,Collection_detail_right_desc_bg:1};var ea=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(ea||{}),Fi=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(Fi||{}),du=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(du||{});const Ic={content:"",args:{hide:!0,style:{},hoverStyle:{}}},mv={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnPosition:"",align:"",fontFamily:""}}},pm={isInGaming:!1,showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:ea.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:lxe,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,isShowGameMenu:!1,escMenus:{Esc_continueGame_button:mv,Esc_backToLevel_button:mv,Esc_setting_button:mv,Esc_exitGame_button:mv},achievementUI:{Achievement_progress_bg:Ic,Achievement_progress_text:Ic,Achievement_progress:Ic,Achievement_notUnlock:Ic,Achievement_back_button:Ic,Achievement_title:Ic}},vU=ny({name:"gui",initialState:pm,reducers:{setVisibility:(t,e)=>{dm();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{dm(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload}}}),{setVisibility:mt,setMenuPanelTag:vm,setGuiAsset:IL,setLogoImage:cxe,setShowStoryLine:Cw,setshowFavorited:sp,setGameUIConfigs:fxe,setGameR18:gU,setEscMenus:hxe,setAchievementUI:dxe}=vU.actions,pxe=vU.reducer,se=uZ({reducer:{stage:Gae,GUI:pxe,userData:Koe,saveData:eye},middleware:d8({serializableCheck:!1})});let kL;function zT(t,e=0,r=100){if(Ge.info("playing bgm"+t),t===""){kL=setTimeout(()=>{se.dispatch(ht({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=se.getState().stage.bgm.src;se.dispatch(ht({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(kL),se.dispatch(ht({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function t0(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const HT=()=>{Ge.warn("");for(let t=0;t<Y.gameplay.performController.performList.length;t++){const e=Y.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),Y.gameplay.performController.performList.splice(t,1),t--}},XT=()=>{se.getState().stage.PerformList.forEach(e=>{Cy(e.script)})},vxe=t=>{const e=se.dispatch,r=Y.backlogManager.getBacklog()[t];Ge.debug("backlog",r),Sa(r.saveScene.sceneUrl).then(async i=>{if(await Y.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(Y.sceneManager.sceneData.currentScene.sceneUrl);const s=qp(o);nh(s)}}),Y.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,Y.sceneManager.sceneData.sceneStack=zr(r.saveScene.sceneStack),HT();for(let i=Y.backlogManager.getBacklog().length-1;i>t;i--)Y.backlogManager.getBacklog().pop();Y.backlogManager.isSaveBacklogNext=!0;const n=zr(r.currentStageState);e(fy(n)),setTimeout(XT,0),e(mt({component:"showBacklog",visibility:!1})),e(mt({component:"showTextBox",visibility:!0}))},mU=(t,e=!1)=>{const n=se.getState().saveData.saveData[t];Ge.debug("",n),YT(n,e)};async function YT(t,e=!1){if(!t){Ge.info("");return}const r=t;try{const o=await Sa(r.sceneData.sceneUrl);if(!await Y.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(Y.sceneManager.sceneData.currentScene.sceneUrl);const l=qp(c);nh(l)}catch(o){Ge.error("",o);return}Y.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,Y.sceneManager.sceneData.sceneStack=zr(r.sceneData.sceneStack),HT();const n=r.backlog;Y.backlogManager.getBacklog().splice(0,Y.backlogManager.getBacklog().length);for(const o of n)Y.backlogManager.getBacklog().push(o);const i=zr(r.nowStageState),a=se.dispatch;a(fy(i)),e?(a(Kt.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{Cy(o.script)})):setTimeout(XT,0),a(mt({component:"showTitle",visibility:!1})),a(mt({component:"showMenuPanel",visibility:!1})),a(mt({component:"showExtra",visibility:!1})),t0(se.getState().stage.bgName)}function gxe(){`${Y.gameName}${Y.gameKey}`,`${Y.gameName}${Y.gameKey}`}async function mxe(){const t=await rU(-1,!1),e=zr(t);se.dispatch(Kt.setFastSave(e)),await Vye()}async function yxe(){return await sxe(),se.getState().saveData.quickSaveData!==null}async function _xe(){await J5();const t=se.getState().saveData.quickSaveData;t&&YT(t)}const yU=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},xxe=()=>{DT(!0,!0,!1);const t=Mt("start.txt",Rt.scene);Sa(t).then(e=>{Y.sceneManager.setCurrentScene(e,"start.txt",t).then(r=>{r&&un()})}),se.dispatch(Kt.setIsShowUnlock(!0)),se.dispatch(Kt.setShowStoryline(!0)),se.dispatch(mt({component:"showTitle",visibility:!1})),se.dispatch(mt({component:"isInGaming",visibility:!0})),yU(se.getState().userData.optionData.uiLight)};async function bxe(){if(t0(se.getState().stage.bgName),await yxe()&&Y.sceneManager.sceneData.currentSentenceId===0){await _xe();return}Y.sceneManager.sceneData.currentSentenceId===0&&Y.sceneManager.sceneData.currentScene.sceneName==="start.txt"?un():XT()}const Sxe=async()=>{const t=Mt(Gu.Storyline,Rt.scene);Y.sceneManager.resetScene();const e=await Sa(t);se.dispatch(Cw(!0)),await Y.sceneManager.setCurrentScene(e,Gu.Storyline,t),un(),se.dispatch(mt({component:"showMenuPanel",visibility:!1})),se.dispatch(mt({component:"showTextBox",visibility:!1}))},Exe=()=>{se.dispatch(mt({component:"showBeautyGuide",visibility:!0}))};function wxe(t){return e_.parseScssToWebgalStyleObj(t)}function Wu(t){const[e,r]=pe.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function Cxe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Axe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Txe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Axe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Cxe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ci="-ms-",gm="-moz-",ar="-webkit-",_U="comm",qT="rule",KT="decl",Pxe="@import",xU="@keyframes",Oxe="@layer",Rxe=Math.abs,n_=String.fromCharCode,Ixe=Object.assign;function kxe(t,e){return ti(t,0)^45?(((e<<2^ti(t,0))<<2^ti(t,1))<<2^ti(t,2))<<2^ti(t,3):0}function bU(t){return t.trim()}function Fxe(t,e){return(t=e.exec(t))?t[0]:t}function or(t,e,r){return t.replace(e,r)}function Aw(t,e){return t.indexOf(e)}function ti(t,e){return t.charCodeAt(e)|0}function lp(t,e,r){return t.slice(e,r)}function ko(t){return t.length}function ZT(t){return t.length}function yv(t,e){return e.push(t),t}function Dxe(t,e){return t.map(e).join("")}var i_=1,Pf=1,SU=0,ta=0,gn=0,ih="";function a_(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:i_,column:Pf,length:o,return:""}}function qh(t,e){return Ixe(a_("",null,null,"",null,null,0),t,{length:-t.length},e)}function Mxe(){return gn}function Lxe(){return gn=ta>0?ti(ih,--ta):0,Pf--,gn===10&&(Pf=1,i_--),gn}function ma(){return gn=ta<SU?ti(ih,ta++):0,Pf++,gn===10&&(Pf=1,i_++),gn}function Go(){return ti(ih,ta)}function _g(){return ta}function r0(t,e){return lp(ih,t,e)}function up(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EU(t){return i_=Pf=1,SU=ko(ih=t),ta=0,[]}function wU(t){return ih="",t}function xg(t){return bU(r0(ta-1,Tw(t===91?t+2:t===40?t+1:t)))}function Bxe(t){for(;(gn=Go())&&gn<33;)ma();return up(t)>2||up(gn)>3?"":" "}function Nxe(t,e){for(;--e&&ma()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return r0(t,_g()+(e<6&&Go()==32&&ma()==32))}function Tw(t){for(;ma();)switch(gn){case t:return ta;case 34:case 39:t!==34&&t!==39&&Tw(gn);break;case 40:t===41&&Tw(t);break;case 92:ma();break}return ta}function Uxe(t,e){for(;ma()&&t+gn!==47+10;)if(t+gn===42+42&&Go()===47)break;return"/*"+r0(e,ta-1)+"*"+n_(t===47?t:ma())}function jxe(t){for(;!up(Go());)ma();return r0(t,ta)}function $xe(t){return wU(bg("",null,null,null,[""],t=EU(t),0,[0],t))}function bg(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,x="",S=i,b=a,w=n,C=x;y;)switch(p=g,g=ma()){case 40:if(p!=108&&ti(C,f-1)==58){Aw(C+=or(xg(g),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:C+=xg(g);break;case 9:case 10:case 13:case 32:C+=Bxe(p);break;case 92:C+=Nxe(_g()-1,7);continue;case 47:switch(Go()){case 42:case 47:yv(Vxe(Uxe(ma(),_g()),e,r),c);break;default:C+="/"}break;case 123*v:s[l++]=ko(C)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+u:m==-1&&(C=or(C,/\f/g,"")),d>0&&ko(C)-f&&yv(d>32?DL(C+";",n,r,f-1):DL(or(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(yv(w=FL(C,e,r,l,u,i,s,x,S=[],b=[],f),a),g===123)if(u===0)bg(C,e,w,w,S,a,f,s,b);else switch(h===99&&ti(C,3)===110?100:h){case 100:case 108:case 109:case 115:bg(t,w,w,n&&yv(FL(t,w,w,0,0,i,s,x,i,S=[],f),b),i,b,f,s,n?S:b);break;default:bg(C,w,w,w,[""],b,0,s,b)}}l=u=d=0,v=m=1,x=C="",f=o;break;case 58:f=1+ko(C),d=p;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&Lxe()==125)continue}switch(C+=n_(g),g*v){case 38:m=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(ko(C)-1)*m,m=1;break;case 64:Go()===45&&(C+=xg(ma())),h=Go(),u=f=ko(x=C+=jxe(_g())),g++;break;case 45:p===45&&ko(C)==2&&(v=0)}}return a}function FL(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],d=ZT(h),p=0,v=0,y=0;p<n;++p)for(var m=0,g=lp(t,f+1,f=Rxe(v=o[p])),x=t;m<d;++m)(x=bU(v>0?h[m]+" "+g:or(g,/&\f/g,h[m])))&&(c[y++]=x);return a_(t,e,r,i===0?qT:s,c,l,u)}function Vxe(t,e,r){return a_(t,e,r,_U,n_(Mxe()),lp(t,2,-2),0)}function DL(t,e,r,n){return a_(t,e,r,KT,lp(t,0,n),lp(t,n+1,-1),n)}function hf(t,e){for(var r="",n=ZT(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Gxe(t,e,r,n){switch(t.type){case Oxe:if(t.children.length)break;case Pxe:case KT:return t.return=t.return||t.value;case _U:return"";case xU:return t.return=t.value+"{"+hf(t.children,n)+"}";case qT:t.value=t.props.join(",")}return ko(r=hf(t.children,n))?t.return=t.value+"{"+r+"}":""}function Wxe(t){var e=ZT(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function zxe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hxe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Xxe=function(e,r,n){for(var i=0,a=0;i=a,a=Go(),i===38&&a===12&&(r[n]=1),!up(a);)ma();return r0(e,ta)},Yxe=function(e,r){var n=-1,i=44;do switch(up(i)){case 0:i===38&&Go()===12&&(r[n]=1),e[n]+=Xxe(ta-1,r,n);break;case 2:e[n]+=xg(i);break;case 4:if(i===44){e[++n]=Go()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=n_(i)}while(i=ma());return e},qxe=function(e,r){return wU(Yxe(EU(e),r))},ML=new WeakMap,Kxe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!ML.get(n))&&!i){ML.set(e,!0);for(var a=[],o=qxe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},Zxe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function CU(t,e){switch(kxe(t,e)){case 5103:return ar+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ar+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ar+t+gm+t+ci+t+t;case 6828:case 4268:return ar+t+ci+t+t;case 6165:return ar+t+ci+"flex-"+t+t;case 5187:return ar+t+or(t,/(\w+).+(:[^]+)/,ar+"box-$1$2"+ci+"flex-$1$2")+t;case 5443:return ar+t+ci+"flex-item-"+or(t,/flex-|-self/,"")+t;case 4675:return ar+t+ci+"flex-line-pack"+or(t,/align-content|flex-|-self/,"")+t;case 5548:return ar+t+ci+or(t,"shrink","negative")+t;case 5292:return ar+t+ci+or(t,"basis","preferred-size")+t;case 6060:return ar+"box-"+or(t,"-grow","")+ar+t+ci+or(t,"grow","positive")+t;case 4554:return ar+or(t,/([^-])(transform)/g,"$1"+ar+"$2")+t;case 6187:return or(or(or(t,/(zoom-|grab)/,ar+"$1"),/(image-set)/,ar+"$1"),t,"")+t;case 5495:case 3959:return or(t,/(image-set\([^]*)/,ar+"$1$`$1");case 4968:return or(or(t,/(.+:)(flex-)?(.*)/,ar+"box-pack:$3"+ci+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ar+t+t;case 4095:case 3583:case 4068:case 2532:return or(t,/(.+)-inline(.+)/,ar+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ko(t)-1-e>6)switch(ti(t,e+1)){case 109:if(ti(t,e+4)!==45)break;case 102:return or(t,/(.+:)(.+)-([^]+)/,"$1"+ar+"$2-$3$1"+gm+(ti(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Aw(t,"stretch")?CU(or(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ti(t,e+1)!==115)break;case 6444:switch(ti(t,ko(t)-3-(~Aw(t,"!important")&&10))){case 107:return or(t,":",":"+ar)+t;case 101:return or(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ar+(ti(t,14)===45?"inline-":"")+"box$3$1"+ar+"$2$3$1"+ci+"$2box$3")+t}break;case 5936:switch(ti(t,e+11)){case 114:return ar+t+ci+or(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ar+t+ci+or(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ar+t+ci+or(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ar+t+ci+t+t}return t}var Qxe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case KT:e.return=CU(e.value,e.length);break;case xU:return hf([qh(e,{value:or(e.value,"@","@"+ar)})],i);case qT:if(e.length)return Dxe(e.props,function(a){switch(Fxe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hf([qh(e,{props:[or(a,/:(read-\w+)/,":"+gm+"$1")]})],i);case"::placeholder":return hf([qh(e,{props:[or(a,/:(plac\w+)/,":"+ar+"input-$1")]}),qh(e,{props:[or(a,/:(plac\w+)/,":"+gm+"$1")]}),qh(e,{props:[or(a,/:(plac\w+)/,ci+"input-$1")]})],i)}return""})}},Jxe=[Qxe],e1e=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||Jxe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)a[y[m]]=!0;s.push(v)});var c,l=[Kxe,Zxe];{var u,f=[Gxe,zxe(function(v){u.insert(v)})],h=Wxe(l.concat(i,f)),d=function(y){return hf($xe(y),h)};c=function(y,m,g,x){u=g,d(y?y+"{"+m.styles+"}":m.styles),x&&(p.inserted[m.name]=!0)}}var p={key:r,sheet:new Txe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return p.sheet.hydrate(s),p};function t1e(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r1e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n1e=/[A-Z]|^ms/g,i1e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AU=function(e){return e.charCodeAt(1)===45},LL=function(e){return e!=null&&typeof e!="boolean"},lS=Hxe(function(t){return AU(t)?t:t.replace(n1e,"-$&").toLowerCase()}),BL=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(i1e,function(n,i,a){return Fo={name:i,styles:a,next:Fo},i})}return r1e[e]!==1&&!AU(e)&&typeof r=="number"&&r!==0?r+"px":r};function cp(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Fo={name:r.name,styles:r.styles,next:Fo},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Fo={name:n.name,styles:n.styles,next:Fo},n=n.next;var i=r.styles+";";return i}return a1e(t,e,r)}case"function":{if(t!==void 0){var a=Fo,o=r(t);return Fo=a,cp(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function a1e(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=cp(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":LL(o)&&(n+=lS(a)+":"+BL(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)LL(o[s])&&(n+=lS(a)+":"+BL(a,o[s])+";");else{var c=cp(t,e,o);switch(a){case"animation":case"animationName":{n+=lS(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var NL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fo,uS=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Fo=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=cp(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=cp(n,r,e[s]),i&&(a+=o[s]);NL.lastIndex=0;for(var c="",l;(l=NL.exec(a))!==null;)c+="-"+l[1];var u=t1e(a)+c;return{name:u,styles:a,next:Fo}},o1e=!0;function TU(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var s1e=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||o1e===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},l1e=function(e,r,n){s1e(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function UL(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function jL(t,e,r){var n=[],i=TU(t,n,r);return n.length<2?r:i+e(n)}var u1e=function(e){var r=e1e(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uS(l,r.registered,void 0);return l1e(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uS(l,r.registered),h="animation-"+f.name;return UL(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uS(l,r.registered);UL(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return jL(r.registered,n,c1e(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:TU.bind(null,r.registered),merge:jL.bind(null,r.registered,n)}},c1e=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},PU=u1e({key:"css"}),f1e=PU.injectGlobal,h1e=PU.css;function QT(t){const e=Wu({classNameStyles:{},others:""}),r=it(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=h1e(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{Ge.debug(" Scss ",t);const o=(await ep.get(`game/template/${t}`)).data;e.set(wxe(o))};return pe.useEffect(()=>{i()},[]),pe.useEffect(()=>{f1e(e.value.others)},[e.value.others]),d1e(i),n}function d1e(t){const e=()=>{t()};pe.useEffect(()=>(Y.events.styleUpdate.on(e),()=>Y.events.styleUpdate.off(e)),[])}function ah(t){const e=it(t),r=pe.useRef(e);return pe.useEffect(()=>{r.current=e},[e]),r}function oh(t){pe.useEffect(()=>{t()},[])}function sh(t){pe.useEffect(()=>function(){t()},[])}function p1e(t){pe.useEffect(()=>{t()})}const v1e="_main_1ozrm_1",g1e="_fallBack_1ozrm_16",m1e="_pause_1ozrm_32",y1e="_advance_1ozrm_51",_1e="_collect_1ozrm_67",x1e="_autoplay_1ozrm_83",b1e="_button_1ozrm_100",S1e="_button_text_1ozrm_107",E1e="_button_on_1ozrm_115",w1e="_singleButton_1ozrm_126",C1e="_button_icon_1ozrm_139",A1e="_fastSlPreview_1ozrm_161",T1e="_fastSlEnter_1ozrm_1",P1e="_fastsave_1ozrm_175",O1e="_fastSPreview_1ozrm_175",R1e="_fastload_1ozrm_179",I1e="_fastLPreview_1ozrm_179",k1e="_slPreviewMain_1ozrm_191",F1e="_imgContainer_1ozrm_199",D1e="_textContainer_1ozrm_207",di={main:v1e,fallBack:g1e,pause:m1e,advance:y1e,collect:_1e,autoplay:x1e,button:b1e,button_text:S1e,button_on:E1e,singleButton:w1e,button_icon:C1e,fastSlPreview:A1e,fastSlEnter:T1e,fastsave:P1e,fastSPreview:O1e,fastload:R1e,fastLPreview:I1e,slPreviewMain:k1e,imgContainer:F1e,textContainer:D1e},OU=t=>{const e=document.getElementById("Button_ControlPanel_auto");e&&(t?e.className=di.button_on:e.className=di.singleButton)},JT=()=>{Y.gameplay.isAuto=!1,OU(!1),Y.gameplay.autoInterval!==null&&(clearInterval(Y.gameplay.autoInterval),Y.gameplay.autoInterval=null),Y.gameplay.autoTimeout!==null&&(clearTimeout(Y.gameplay.autoTimeout),Y.gameplay.autoTimeout=null)},M1e=()=>{Y.gameplay.isAuto?JT():(Y.gameplay.isAuto=!0,OU(!0),Y.gameplay.autoInterval=setInterval(B1e,100))},L1e=()=>{un(),Y.gameplay.autoTimeout=null},B1e=()=>{const e=750-250*se.getState().userData.optionData.autoSpeed;let r=!1;Y.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&Y.gameplay.autoTimeout===null&&(Y.gameplay.autoTimeout=setTimeout(L1e,e))},RU=t=>{const e=document.getElementById("Button_ControlPanel_fast");e&&(t?e.className=di.button_on:e.className=di.singleButton)},df=()=>{kU()&&(Y.gameplay.isFast=!1,RU(!1),Y.gameplay.fastInterval!==null&&(clearInterval(Y.gameplay.fastInterval),Y.gameplay.fastInterval=null))},IU=()=>{kU()||(Y.gameplay.isFast=!0,RU(!0),Y.gameplay.fastInterval=setInterval(()=>{un()},i6.fast_timeout))},kU=function(){return Y.gameplay.isFast},eP=()=>{df(),JT()},N1e=()=>{Y.gameplay.isFast?df():IU()},U1e="_Backlog_main_jojwe_2",j1e="_backlog_soft_in_jojwe_1",$1e="_Backlog_main_out_jojwe_15",V1e="_backlog_soft_out_jojwe_1",G1e="_Backlog_main_out_IndexHide_jojwe_28",W1e="_Backlog_main_DisableScroll_jojwe_32",z1e="_backlog_top_jojwe_36",H1e="_backlog_top_icon_jojwe_42",X1e="_backlog_icon_softin_jojwe_1",Y1e="_backlog_title_jojwe_62",q1e="_backlog_content_jojwe_72",K1e="_backlog_item_jojwe_84",Z1e="_backlog_item_in_jojwe_1",Q1e="_backlog_item_out_jojwe_94",J1e="_backlog_func_area_jojwe_104",ebe="_backlog_item_content_name_jojwe_113",tbe="_backlog_item_content_jojwe_113",rbe="_backlog_item_button_list_jojwe_137",nbe="_backlog_item_button_element_jojwe_144",ibe="_backlog_item_content_text_jojwe_157",Qn={Backlog_main:U1e,backlog_soft_in:j1e,Backlog_main_out:$1e,backlog_soft_out:V1e,Backlog_main_out_IndexHide:G1e,Backlog_main_DisableScroll:W1e,backlog_top:z1e,backlog_top_icon:H1e,backlog_icon_softin:X1e,backlog_title:Y1e,backlog_content:q1e,backlog_item:K1e,backlog_item_in:Z1e,backlog_item_out:Q1e,backlog_func_area:J1e,backlog_item_content_name:ebe,backlog_item_content:tbe,backlog_item_button_list:rbe,backlog_item_button_element:nbe,backlog_item_content_text:ibe};var abe=go,obe=function(){return abe.Date.now()},sbe=obe,lbe=/\s/;function ube(t){for(var e=t.length;e--&&lbe.test(t.charAt(e)););return e}var cbe=ube,fbe=cbe,hbe=/^\s+/;function dbe(t){return t&&t.slice(0,fbe(t)+1).replace(hbe,"")}var pbe=dbe,vbe=pbe,$L=Ko,gbe=Ry,VL=0/0,mbe=/^[-+]0x[0-9a-f]+$/i,ybe=/^0b[01]+$/i,_be=/^0o[0-7]+$/i,xbe=parseInt;function bbe(t){if(typeof t=="number")return t;if(gbe(t))return VL;if($L(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$L(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vbe(t);var r=ybe.test(t);return r||_be.test(t)?xbe(t.slice(2),r?2:8):mbe.test(t)?VL:+t}var Sbe=bbe,Ebe=Ko,cS=sbe,GL=Sbe,wbe="Expected a function",Cbe=Math.max,Abe=Math.min;function Tbe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(wbe);e=GL(e)||0,Ebe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Cbe(GL(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function d(w){var C=n,A=i;return n=i=void 0,l=w,o=t.apply(A,C),o}function p(w){return l=w,s=setTimeout(m,e),u?d(w):o}function v(w){var C=w-c,A=w-l,P=e-C;return f?Abe(P,a-A):P}function y(w){var C=w-c,A=w-l;return c===void 0||C>=e||C<0||f&&A>=a}function m(){var w=cS();if(y(w))return g(w);s=setTimeout(m,v(w))}function g(w){return s=void 0,h&&n?d(w):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function S(){return s===void 0?o:g(cS())}function b(){var w=cS(),C=y(w);if(n=arguments,i=this,c=w,C){if(s===void 0)return p(c);if(f)return clearTimeout(s),s=setTimeout(m,e),d(c)}return s===void 0&&(s=setTimeout(m,e)),o}return b.cancel=x,b.flush=S,b}var Pbe=Tbe,Obe=Pbe,Rbe=Ko,Ibe="Expected a function";function kbe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Ibe);return Rbe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Obe(t,e,{leading:n,maxWait:e,trailing:i})}var Fbe=kbe;const Dbe=xi(Fbe),Kc="keyboard"in navigator&&navigator.keyboard;function Mbe(t){Lbe(),Nbe(),jbe(),Ube(),$be(),Hbe(),Ybe()}function Lbe(){const t=ah(c=>c.GUI),e=s_(),r=o_(t),n=FU(t),i=Vbe(t),a=Wbe(t),o=Gbe(t),s=pe.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);oh(()=>{document.addEventListener("contextmenu",s)}),sh(()=>{document.removeEventListener("contextmenu",s)})}let Bbe=setTimeout(()=>{},0);function Nbe(){const t=ah(s=>s.GUI),e=s_(),r=o_(t),n=FU(t),i=DU(t),a=pe.useCallback(Dbe(()=>{un()},100),[]),o=pe.useRef(0);pe.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${Qn.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=Xbe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(Bbe),Y.gameplay.isFast=!0,setTimeout(()=>{Y.gameplay.isFast=!1},150),a())},[]),oh(()=>{}),sh(()=>{})}function Ube(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=ah(s=>s.GUI),n=pe.useCallback(()=>r.current.showTitle,[r]),i=DU(r),a=s_(),o=pe.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),eP()))},[]);oh(()=>{document.addEventListener("keyup",o)}),sh(()=>{document.removeEventListener("keyup",o)})}function jbe(){const t=ah(o=>o.GUI),e=o_(t),r=pe.useCallback(o=>o.keyCode===17,[]),n=pe.useCallback(o=>{r(o)&&e()&&IU()},[]),i=pe.useCallback(o=>{r(o)&&e()&&df()},[]),a=pe.useCallback(o=>{df()},[]);oh(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),sh(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),p1e(()=>{e()||df()})}function $be(){const t=zbe(),e=pe.useCallback(async r=>{t()&&await mxe()},[]);oh(()=>{window.addEventListener("beforeunload",e)}),sh(()=>{window.removeEventListener("beforeunload",e)})}function o_(t){return pe.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function FU(t){return pe.useCallback(()=>t.current.showBacklog,[t])}function Vbe(t){return pe.useCallback(()=>t.current.showGlobalDialog,[t])}function Gbe(t){return pe.useCallback(()=>t.current.showExtra,[t])}function DU(t){return pe.useCallback(()=>t.current.showPanicOverlay,[t])}function Wbe(t){return pe.useCallback(()=>[ea.Save,ea.Load,ea.Option].includes(t.current.currentMenuTag),[t])}function zbe(){return pe.useCallback(()=>Y.sceneManager.sceneData.currentSentenceId!==0,[Y.sceneManager.sceneData])}function s_(){const t=Ur();return(e,r)=>{t(mt({component:e,visibility:r}))}}function Hbe(){const t=ah(c=>c.GUI),e=o_(t),r=s_(),n=pe.useRef(!1),i=pe.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=pe.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}eP(),un(),n.current=!0}},[]),o=pe.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=pe.useCallback(c=>{n.current=!1},[]);oh(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),sh(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function Xbe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function Ybe(){const t=it(n=>n.userData),e=Ur(),r=t.optionData.fullScreen;pe.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Ua.on?(e(lo({key:"fullScreen",value:Ua.on})),An()):(e(lo({key:"fullScreen",value:Ua.off})),An()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const qbe=async()=>{se.dispatch(Kt.setIsShowUnlock(!1));const t=Mt(Gu.Achieve,Rt.scene);Y.sceneManager.resetScene(),Sa(t).then(e=>{Y.sceneManager.setCurrentScene(e,Gu.Achieve,t).then(r=>{r&&un()})}),se.dispatch(mt({component:"showMenuPanel",visibility:!1})),se.dispatch(mt({component:"showTextBox",visibility:!1})),se.dispatch(mt({component:"showAchievement",visibility:!0}))},Kbe=""+new URL("bar-bg.png",import.meta.url).href,Zbe=""+new URL("bar-checked.png",import.meta.url).href;const Qbe=({text:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=pe.useState(!1);let u=e,f=n;const h=Jp.debounce(()=>{i&&l(!0),a&&a()},100),d=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),B.jsx("span",{className:u,onMouseEnter:h,onMouseLeave:d,onClick:s,style:f,children:t})},Of=({src:t,hoverSrc:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,nId:l,draggable:u})=>{const[f,h]=pe.useState(!1),[d,p]=pe.useState(0),v=()=>p(b=>b+1),y=pe.useRef({width:void 0,height:void 0});let m=r,g=i||{};const x=Jp.debounce(()=>{a&&h(!0),o&&o()},100),S=()=>{h(!1),s&&s()};return f&&(m=`${r} ${n} imageHoverAnimation`,g={...i,...a}),g.width===void 0&&(g.width=y.current.width,g.height=y.current.height),B.jsx("img",{id:l,src:f&&e?e:t,className:m,onMouseEnter:x,onMouseLeave:S,draggable:u,style:g,onClick:c,onLoad:b=>{g.width===void 0&&(y.current.width=b.currentTarget.naturalWidth,y.current.height=b.currentTarget.naturalHeight,v())}})},tP=({children:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=pe.useState(!1);let u=e,f=n;const h=Jp.debounce(()=>{i&&l(!0),a&&a()},100),d=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),B.jsx("div",{className:u,onMouseEnter:h,onMouseLeave:d,onClick:s,style:f,children:t})},ll=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=Cn(t.args.style),i=Mt(((a=t.args.style)==null?void 0:a.image)||"",Rt.background);return(o=t.args.style)!=null&&o.image?B.jsx(Of,{defaultClass:e,src:i,style:n,draggable:!1},r):B.jsx("div",{className:e,style:n,draggable:"false"})},mi=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c="button",checked:l=!1,onChecked:u=()=>{},text:f="",style:h,defaultText:d=""})=>{var C,A;if(t.args.hide)return null;const p=Cn(t.args.style),v=Cn(t.args.hoverStyle),y=((C=t.args.style)==null?void 0:C.image)||"",m=((A=t.args.hoverStyle)==null?void 0:A.image)||y,g=t,x={},S=y?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},b={...p,...h};b.width&&(x.width=b.width),b.height&&(x.height=b.height),y&&(b.backgroundImage=`url(${Mt(y,Rt.ui)})`,b.backgroundSize="100% 100%",b.backgroundRepeat="no-repeat");const w=P=>{c==="checkbox"&&u(!l),s&&s()};return B.jsxs(tP,{onMouseEnter:a,onMouseLeave:o,onClick:w,defaultClass:e,defaultHoverClass:i,style:b,hoverStyle:v,children:[!!m&&c==="checkbox"&&l&&B.jsx(Of,{nId:n,src:Mt(m,Rt.ui),hoverSrc:c!=="checkbox"?m:"",style:x,onMouseEnter:a,onMouseLeave:o}),g.content?B.jsx(Qbe,{text:g.content,defaultClass:r,style:S}):!y&&d]},n)},fS=({item:t,defaultClass:e,uniqueID:r,initValue:n,onChange:i,min:a,max:o,className:s})=>{var y,m,g,x,S,b,w,C,A,P,O,I;if(t.args.hide)return null;const{playSeEnter:c}=ii();pe.useEffect(()=>{setTimeout(()=>{const R=document.getElementById(r);R!==null&&R.setAttribute("value",(n||0).toString()),l()},1)},[]),pe.useEffect(()=>{l()},[n]),pe.useEffect(()=>{const R=Cn(t.args.sliderThumb),k=eSe(R);k&&(hS(`#${r}::-webkit-slider-thumb`,`#${r}::-webkit-slider-thumb { ${k} }`),hS(`#${r}::-moz-range-thumb`,`#${r}::-moz-range-thumb { ${k} }`),hS(`#${r}::-ms-thumb`,`#${r}::-ms-thumb { ${k} }`))},[t.args.sliderThumb,r]);function l(){var k,D;const R=document.getElementById(`${r}-bg`);if(R!==null)if(r==="light"){const L=Rs().width==2560?2:3,W=(Number(n)-50)/50*((((k=t.args.style)==null?void 0:k.width)||342)*L)+"px";R.style.width=W}else{const L=Rs().width==2560?.5:.3333;R.style.width=Number(n.toString())/100*(((D=t.args.style)==null?void 0:D.width)||342)/L+"px"}}const u={background:"none"},f=Cn(t.args.style),h=(m=(y=t.args)==null?void 0:y.slider)!=null&&m.image?{...Cn((g=t.args)==null?void 0:g.slider),...u}:Cn((x=t.args)==null?void 0:x.slider),d=(b=(S=t.args)==null?void 0:S.sliderBg)!=null&&b.image?{...Cn((w=t.args)==null?void 0:w.sliderBg),...u}:Cn((C=t.args)==null?void 0:C.sliderBg),p=(P=(A=t.args)==null?void 0:A.slider)!=null&&P.image?Mt(t.args.slider.image,Rt.ui):Zbe,v=(I=(O=t.args)==null?void 0:O.sliderBg)!=null&&I.image?Mt(t.args.sliderBg.image,Rt.ui):Kbe;return B.jsxs(tP,{style:f,defaultClass:`Option_WebGAL_slider ${e}`,children:[B.jsx("input",{className:"Rang_input",id:r,type:"range",min:a||0,max:o||100,onChange:i,onFocus:c,onMouseEnter:c}),B.jsxs("div",{className:"Slider_group",children:[B.jsx(Of,{src:p,style:h,defaultClass:"Slider_bg",nId:`${r}-bg`,draggable:!1}),B.jsx(Of,{src:v,style:d,defaultClass:"Slider_bg_under",draggable:!1})]})]})},Jbe=({item:t,defaultClass:e,key:r,onMouseEnter:n,activeIndex:i,pageLength:a=1,indicatorDefaultClass:o,activeIndecatorClass:s,onClickIndicator:c=()=>{},onClickPrev:l=()=>{},onClickNext:u=()=>{},nextIconDefaultClass:f,prevIconDefaultClass:h})=>{var m,g,x;if(t.args.hide)return null;const d=Cn(t.args.style),p=pe.useMemo(()=>Array.from({length:a}).map((S,b)=>{var w;return{content:(w=t.args.indicatorStyle)!=null&&w.image?"":(b+1).toString(),key:"",args:{hide:!1,style:t.args.indicatorStyle||{},hoverStyle:t.args.indicatorHoverStyle}}}),[a]),v=((m=t.args.indicatorLeftStyle)==null?void 0:m.image)||"",y=((g=t.args.indicatorRightStyle)==null?void 0:g.image)||"";return(x=t.args.indicatorStyle)!=null&&x.image,B.jsxs(tP,{defaultClass:e,style:d,children:[v?B.jsx(Of,{src:v,onMouseEnter:n,defaultClass:h,onClick:l}):B.jsx("div",{className:h,onMouseEnter:n,onClick:l}),p.map((S,b)=>B.jsx(mi,{item:S,defaultClass:`${o} ${b===i?s:""}`,checked:b===i,type:"checkbox",onChecked:()=>{c(b)}},b.toString())),y?B.jsx(Of,{src:y,onMouseEnter:n,defaultClass:f,onClick:u}):B.jsx("div",{className:f,onMouseEnter:n,onClick:u})]},r)};function hS(t,e){const r=document.styleSheets[0];if(!e||e.includes("{}")){console.warn(`: ${e}`);return}for(let n=0;n<r.cssRules.length;n++)if(r.cssRules[n].selectorText===t){r.deleteRule(n),r.insertRule(e,n);return}r.insertRule(e,r.cssRules.length)}function eSe(t){const e=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return Object.entries(t).map(([r,n])=>{const i=e(r);let a=n;return typeof n=="number"&&i!=="z-index"&&i!=="opacity"&&(a=`${n}px`),`${i}: ${a};`}).join(" ")}const tSe=()=>{const t=it(l=>l.userData),e=it(l=>l.GUI),r=Ur(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=ii(),o=e.gameUIConfigs[En.title],s=QT("UI/Title/title.scss"),c={[Fa.Game_start_button]:()=>{xxe(),a(),r(sp(!1))},[Fa.Game_achievement_button]:()=>{qbe(),a()},[Fa.Game_storyline_button]:()=>{Sxe(),a()},[Fa.Game_extra_button]:()=>{r(mt({component:"showExtra",visibility:!0})),a()},[Fa.Game_collection_button]:()=>{Exe(),a()},[Fa.Game_continue_button]:()=>{a(),r(mt({component:"showTitle",visibility:!1})),r(mt({component:"isInGaming",visibility:!0})),bxe()},[Fa.Game_option_button]:()=>{a(),r(mt({component:"showMenuPanel",visibility:!0})),r(vm(ea.Option))},[Fa.Game_load_button]:()=>{a(),r(mt({component:"showMenuPanel",visibility:!0})),r(vm(ea.Load))}};return B.jsxs(B.Fragment,{children:[e.showTitle&&B.jsx("div",{className:s("Title_backup_background",zh.Title_backup_background)}),B.jsx("div",{id:"enter_game_target",onClick:()=>{zT(e.titleBgm),r(mt({component:"isEnterGame",visibility:!0})),n===Ua.on&&(document.documentElement.requestFullscreen(),Kc&&Kc.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&B.jsxs("div",{children:[B.jsx(ll,{defaultClass:s("Title_main",zh.Title_main),item:o.other[op.Title_img]}),B.jsx("div",{className:s("Title_buttonList",zh.Title_buttonList),children:Object.keys(o.buttons).map(l=>{let u=l,f=o.buttons[u];return B.jsx(mi,{item:f,defaultClass:`${zh.Title_button} interactive`,defaultTextClass:zh.Title_button_text,onClick:c[u],onMouseEnter:i},u)})})]})]})},rSe="_Logo_main_y88l5_1",nSe="_overlay_y88l5_14",iSe="_Logo_Back_y88l5_61",aSe="_animationActive_y88l5_75",oSe="_fadeout_y88l5_1",_v={Logo_main:rSe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:nSe,"fade-in":"_fade-in_y88l5_1",Logo_Back:iSe,animationActive:aSe,fadeout:oSe,"fade-in-out":"_fade-in-out_y88l5_1"},sSe=()=>{const t=Ur(),e=it(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Wu(-1),a=Wu(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(mt({component:"openR18Modal",visibility:!0})),i.set(-1))};pe.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return B.jsxs(B.Fragment,{children:[i.value!==-1&&B.jsx("div",{className:_v.Logo_Back+" "+(i.value===r.length-1?_v.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:_v.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),B.jsx("div",{className:_v.overlay})]})]})},lSe=[yg.slider,yg.sliderBg,yg.sliderThumb],Zc=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),uSe=t=>{const e=se.getState().GUI,r=se.dispatch;ep.get(t).then(n=>{var o;let i=n.data;const a=e_.parseConfig(i);if(Ge.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:d,args:p,options:v}=h;switch(d){case"Title_img":{const y=Mt(p.join(""),Rt.background);r(IL({asset:"titleBg",value:y})),t0(y);break}case"Game_Logo":{const y=p.map(m=>Mt(m,Rt.background));r(cxe(y));break}case"Game_cursor":{let y="{}",m="{}";v.forEach(S=>{S.key==="normal"?y=S.value:S.key==="active"&&(m=S.value)});const g=JSON.parse(y),x=JSON.parse(m);HM(g,"normal"),HM(x,"active");break}case"Title_bgm":{const y=Mt(p[0],Rt.bgm);r(IL({asset:"titleBgm",value:y}));break}case"Game_name":{Y.gameName=p[0],document.title=p[0];break}case"Game_key":{Y.gameKey=p[0],dm(),J5(),e0(0,0);break}case"Game_r18":{(p==null?void 0:p.length)>0&&r(gU(!!Zc.get(p[0])));break}case"Game_sound":{if((v==null?void 0:v.length)>0){const y=WL(v);r(Kt.setSaveStatus({key:"gameScounds",value:y}))}break}case"Menu_sound":{if((v==null?void 0:v.length)>0){const y=WL(v);r(Kt.setSaveStatus({key:"menuScounds",value:y}))}break}case"Game_Icon":{if(p[0]){const y=Mt(p[0],Rt.background),m=document.getElementById("dynamic-favicon");m&&(m.href=y+`?t=${new Date().getTime()}`)}break}case Fi.Esc_continueGame_button:case Fi.Esc_backToLevel_button:case Fi.Esc_setting_button:case Fi.Esc_exitGame_button:{if(!(v!=null&&v.length))break;let y="",m=!1;const g={},x=["x","y","scale","fontSize"];v==null||v.forEach(b=>{var w,C;typeof(b==null?void 0:b.value)=="string"&&((C=(w=b.value)==null?void 0:w.split(","))==null||C.forEach(A=>{const[P,O]=(A==null?void 0:A.split("="))||[];P==="name"?y=O:P==="hide"?m=(Zc==null?void 0:Zc.get(O))??!1:g[P]=x.includes(P)?Number(O):O}))});const S={...pm.escMenus[Fi[d]].args.style};c[Fi[d]]={content:y,args:{hide:m,style:{...S,...g}}},l=!0;break}case du.Achievement_progress_bg:case du.Achievement_progress_text:case du.Achievement_notUnlock:case du.Achievement_progress:{u[du[d]]=cSe(du[d],p,v),f=!0;break}}if((Fa[d]||op[d])&&d!==op.Title_bgm){const y=En.title;tu(s,y,h)}else if(BT[d]||WT[d]){const y=En.load;tu(s,y,h)}else if(NT[d]||GT[d]){const y=En.storyline;tu(s,y,h)}else if(UT[d]||VT[d]){const y=En.achievement;tu(s,y,h)}else if(r_[d]||da[d]){const y=En.option;tu(s,y,h)}else if(jT[d]||ap[d]){const y=En.extra;tu(s,y,h)}else if($T[d]||Dr[d]){const y=En.collection;tu(s,y,h)}}),r(fxe(s)),l&&r(hxe(c)),f&&r(dxe(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,gxe()})};function tu(t,e,r){const n=(i,a="")=>{const o=c=>{let l={};const u=/\{(.*?)\}/,f=c.match(u);if(f){const d=f[1].split(","),p={};d.forEach(v=>{const[y,m]=v.split("=");y&&m&&(p[y.trim()]=isNaN(Number(m.trim()))?m.trim():Number(m.trim()))}),l=p}return l},s={hide:!1,style:{}};return i.forEach(c=>{if(c.key==="hide")s.hide=c.value===!0;else if(c.key.toLowerCase().endsWith("style")||lSe.includes(c.key)){const l=o(c.value);c.key==="style"&&a&&(l.image=a),s[c.key]=l}else if(c.key.includes("info")||c.key.includes("images")||c.key==="videos"){const l=o(c.value);s[c.key]=l}}),s};if(sS[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),sS[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(sS[e].other[r.command]){let a=!1;uxe[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function cSe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...pm.achievementUI[t].args.style},s={...pm.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const d=/\{(.*?)\}/,p=h.match(d);if(p){const y=p[1].split(","),m={};return y.forEach(g=>{const[x,S]=g.split("=");x&&S&&(m[x.trim()]=isNaN(Number(S.trim()))?S.trim():Number(S.trim()))}),m}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}function WL(t){const e={};return t.forEach(r=>{var n;if(typeof r.value=="string"){const i=((n=r.value)==null?void 0:n.split(","))??[];e[r.key]=i!=null&&i.length?!!Zc.get(i[0])||Mt(i[1],Rt.bgm):!1}else e[r.key]=typeof r.value=="boolean"?!!Zc.get(r.value):!1}),e}const fSe=(t,e)=>{Ge.warn(""+t+":"+e);const r=se.dispatch;r(mt({component:"showTitle",visibility:!1})),r(mt({component:"showMenuPanel",visibility:!1})),r(mt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),DT(!0);const i=Mt(t,Rt.scene);setTimeout(()=>{Sa(i).then(async a=>{if(!await Y.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=Y.sceneManager.sceneData.currentScene.sceneName;Y.gameplay.isFast=!0,Y.gameplay.isSyncingWithOrigine=!0,rP(e,s)})},16)};function rP(t,e){Y.sceneManager.sceneData.currentSentenceId<t&&Y.sceneManager.sceneData.currentScene.sceneName===e?(un(),setTimeout(()=>rP(t,e),100)):(Y.gameplay.isSyncingWithOrigine=!1,Y.gameplay.isFast=!1)}const hSe=()=>{window.JMP=rP};var vd=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(vd||{});const dSe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Ge.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Ge.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:vd.SYNCFC,sceneMsg:{scene:Y.sceneManager.sceneData.currentScene.sceneName,sentence:Y.sceneManager.sceneData.currentSentenceId},stageSyncMsg:se.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===vd.JUMP&&fSe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===vd.EXE_COMMAND){const u=l.message,h=e_.parse(u,"temp.txt","temp.txt").sentenceList[0];Cy(h)}if(l.command===vd.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),Y.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!0),Ge.info(" Terre ")}};function pSe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function vSe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function MU(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}MU.prototype=Error.prototype;function gSe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new MU(a,"All promises were rejected"))})}catch(s){n(s)}})}var mSe=setTimeout;function LU(t){return!!(t&&typeof t.length<"u")}function ySe(){}function _Se(t,e){return function(){t.apply(e,arguments)}}function Hr(t){if(!(this instanceof Hr))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],NU(t,this)}function BU(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Hr._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?Pw:fp)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){fp(e.promise,i);return}Pw(e.promise,n)})}function Pw(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Hr){t._state=3,t._value=e,Ow(t);return}else if(typeof r=="function"){NU(_Se(r,e),t);return}}t._state=1,t._value=e,Ow(t)}catch(n){fp(t,n)}}function fp(t,e){t._state=2,t._value=e,Ow(t)}function Ow(t){t._state===2&&t._deferreds.length===0&&Hr._immediateFn(function(){t._handled||Hr._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)BU(t,t._deferreds[e]);t._deferreds=null}function xSe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function NU(t,e){var r=!1;try{t(function(n){r||(r=!0,Pw(e,n))},function(n){r||(r=!0,fp(e,n))})}catch(n){if(r)return;r=!0,fp(e,n)}}Hr.prototype.catch=function(t){return this.then(null,t)};Hr.prototype.then=function(t,e){var r=new this.constructor(ySe);return BU(this,new xSe(t,e,r)),r};Hr.prototype.finally=pSe;Hr.all=function(t){return new Hr(function(e,r){if(!LU(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Hr.any=gSe;Hr.allSettled=vSe;Hr.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Hr?t:new Hr(function(e){e(t)})};Hr.reject=function(t){return new Hr(function(e,r){r(t)})};Hr.race=function(t){return new Hr(function(e,r){if(!LU(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Hr.resolve(t[n]).then(e,r)})};Hr._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){mSe(t,0)};Hr._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Hr);Object.assign||(Object.assign=EY);var bSe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var SSe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-SSe}}var dS=Date.now(),zL=["ms","moz","webkit","o"];for(var pS=0;pS<zL.length&&!globalThis.requestAnimationFrame;++pS){var vS=zL[pS];globalThis.requestAnimationFrame=globalThis[vS+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[vS+"CancelAnimationFrame"]||globalThis[vS+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=bSe+dS-e;return r<0&&(r=0),dS=e,globalThis.self.setTimeout(function(){dS=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wo;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Wo||(Wo={}));var Rf;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Rf||(Rf={}));var hp;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(hp||(hp={}));var ze;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ze||(ze={}));var va;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(va||(va={}));var Ue;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ue||(Ue={}));var El;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(El||(El={}));var lt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(lt||(lt={}));var dp;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(dp||(dp={}));var On;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(On||(On={}));var fo;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(fo||(fo={}));var Ui;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ui||(Ui={}));var ra;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ra||(ra={}));var La;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(La||(La={}));var pp;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(pp||(pp={}));var Zi;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Zi||(Zi={}));var an;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(an||(an={}));var Rw;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(Rw||(Rw={}));var Rr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Rr||(Rr={}));var ho;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ho||(ho={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var UU={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},gS=/iPhone/i,HL=/iPod/i,XL=/iPad/i,YL=/\biOS-universal(?:.+)Mac\b/i,mS=/\bAndroid(?:.+)Mobile\b/i,qL=/Android/i,kc=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,xv=/Silk/i,hs=/Windows Phone/i,KL=/\bWindows(?:.+)ARM\b/i,ZL=/BlackBerry/i,QL=/BB10/i,JL=/Opera Mini/i,eB=/\b(CriOS|Chrome)(?:.+)Mobile/i,tB=/Mobile(?:.+)Firefox\b/i,rB=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function ESe(t){return function(e){return e.test(t)}}function wSe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=ESe(r),a={apple:{phone:i(gS)&&!i(hs),ipod:i(HL),tablet:!i(gS)&&(i(XL)||rB(e))&&!i(hs),universal:i(YL),device:(i(gS)||i(HL)||i(XL)||i(YL)||rB(e))&&!i(hs)},amazon:{phone:i(kc),tablet:!i(kc)&&i(xv),device:i(kc)||i(xv)},android:{phone:!i(hs)&&i(kc)||!i(hs)&&i(mS),tablet:!i(hs)&&!i(kc)&&!i(mS)&&(i(xv)||i(qL)),device:!i(hs)&&(i(kc)||i(xv)||i(mS)||i(qL))||i(/\bokhttp\b/i)},windows:{phone:i(hs),tablet:i(KL),device:i(hs)||i(KL)},other:{blackberry:i(ZL),blackberry10:i(QL),opera:i(JL),firefox:i(tB),chrome:i(eB),device:i(ZL)||i(QL)||i(JL)||i(tB)||i(eB)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var ja=wSe(globalThis.navigator);function CSe(){return!ja.apple.device}function ASe(t){var e=!0;if(ja.tablet||ja.phone){if(ja.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(ja.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var Ve={ADAPTER:UU,MIPMAP_TEXTURES:Ui.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Rr.NONE,SPRITE_MAX_TEXTURES:ASe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:pp.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:fo.CLAMP,SCALE_MODE:On.LINEAR,PRECISION_VERTEX:Zi.HIGH,PRECISION_FRAGMENT:ja.apple.device?Zi.HIGH:Zi.MEDIUM,CAN_UPLOAD_SAME_BUFFER:CSe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},jU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||c,h),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],d]:c._events[p].push(d):(c._events[p]=d,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,d,p){var v=r?r+l:l;if(!this._events[v])return!1;var y=this._events[v],m=arguments.length,g,x;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,d),!0;case 6:return y.fn.call(y.context,u,f,h,d,p),!0}for(x=1,g=new Array(m-1);x<m;x++)g[x-1]=arguments[x];y.fn.apply(y.context,g)}else{var S=y.length,b;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(l,y[x].fn,void 0,!0),m){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,h);break;default:if(!g)for(b=1,g=new Array(m-1);b<m;b++)g[b-1]=arguments[b];y[x].fn.apply(y[x].context,g)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var d=r?r+l:l;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,y=[],m=p.length;v<m;v++)(p[v].fn!==u||h&&!p[v].once||f&&p[v].context!==f)&&y.push(p[v]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(jU);var TSe=jU.exports;const lh=xi(TSe);var nP={exports:{}};nP.exports=l_;nP.exports.default=l_;function l_(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=$U(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,d;if(n&&(a=kSe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var p=r;p<i;p+=r)f=t[p],h=t[p+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-s,u-c),d=d!==0?32767/d:0}return vp(a,o,r,s,c,d,0),o}function $U(t,e,r,n,i){var a,o;if(i===Fw(t,e,r,n)>0)for(a=e;a<r;a+=n)o=nB(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=nB(a,t[a],t[a+1],o);return o&&u_(o,o.next)&&(mp(o),o=o.next),o}function zu(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(u_(r,r.next)||Wr(r.prev,r,r.next)===0)){if(mp(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function vp(t,e,r,n,i,a,o){if(t){!o&&a&&BSe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?OSe(t,n,i,a):PSe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),mp(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=RSe(zu(t),e,r),vp(t,e,r,n,i,a,2)):o===2&&ISe(t,e,r,n,i,a):vp(zu(t),e,r,n,i,a,1);break}}}}function PSe(t){var e=t.prev,r=t,n=t.next;if(Wr(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,d=s>c?s>l?s:l:c>l?c:l,p=n.next;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&Qc(i,s,a,c,o,l,p.x,p.y)&&Wr(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function OSe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(Wr(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,d=s<c?s<l?s:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,v=s>c?s>l?s:l:c>l?c:l,y=u>f?u>h?u:h:f>h?f:h,m=Iw(d,p,e,r,n),g=Iw(v,y,e,r,n),x=t.prevZ,S=t.nextZ;x&&x.z>=m&&S&&S.z<=g;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=y&&x!==i&&x!==o&&Qc(s,u,c,f,l,h,x.x,x.y)&&Wr(x.prev,x,x.next)>=0||(x=x.prevZ,S.x>=d&&S.x<=v&&S.y>=p&&S.y<=y&&S!==i&&S!==o&&Qc(s,u,c,f,l,h,S.x,S.y)&&Wr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;x&&x.z>=m;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=y&&x!==i&&x!==o&&Qc(s,u,c,f,l,h,x.x,x.y)&&Wr(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;S&&S.z<=g;){if(S.x>=d&&S.x<=v&&S.y>=p&&S.y<=y&&S!==i&&S!==o&&Qc(s,u,c,f,l,h,S.x,S.y)&&Wr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function RSe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!u_(i,a)&&VU(i,n,n.next,a)&&gp(i,a)&&gp(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),mp(n),mp(n.next),n=t=a),n=n.next}while(n!==t);return zu(n)}function ISe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&jSe(o,s)){var c=GU(o,s);o=zu(o,o.next),c=zu(c,c.next),vp(o,e,r,n,i,a,0),vp(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function kSe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=$U(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(USe(l));for(i.sort(FSe),a=0;a<i.length;a++)r=DSe(i[a],r);return r}function FSe(t,e){return t.x-e.x}function DSe(t,e){var r=MSe(t,e);if(!r)return e;var n=GU(r,t);return zu(n,n.next),zu(r,r.next)}function MSe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Qc(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),gp(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&LSe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function LSe(t,e){return Wr(t.prev,t,e.prev)<0&&Wr(e.next,t,t.next)<0}function BSe(t,e,r,n){var i=t;do i.z===0&&(i.z=Iw(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,NSe(i)}function NSe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function Iw(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function USe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Qc(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function jSe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!$Se(t,e)&&(gp(t,e)&&gp(e,t)&&VSe(t,e)&&(Wr(t.prev,t,e.prev)||Wr(t,e.prev,e))||u_(t,e)&&Wr(t.prev,t,t.next)>0&&Wr(e.prev,e,e.next)>0)}function Wr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function u_(t,e){return t.x===e.x&&t.y===e.y}function VU(t,e,r,n){var i=Sv(Wr(t,e,r)),a=Sv(Wr(t,e,n)),o=Sv(Wr(r,n,t)),s=Sv(Wr(r,n,e));return!!(i!==a&&o!==s||i===0&&bv(t,r,e)||a===0&&bv(t,n,e)||o===0&&bv(r,t,n)||s===0&&bv(r,e,n))}function bv(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Sv(t){return t>0?1:t<0?-1:0}function $Se(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&VU(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function gp(t,e){return Wr(t.prev,t,t.next)<0?Wr(t,e,t.next)>=0&&Wr(t,t.prev,e)>=0:Wr(t,e,t.prev)<0||Wr(t,t.next,e)<0}function VSe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function GU(t,e){var r=new kw(t.i,t.x,t.y),n=new kw(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function nB(t,e,r,n){var i=new kw(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function mp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kw(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}l_.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(Fw(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(Fw(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;f+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Fw(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}l_.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var GSe=nP.exports;const iP=xi(GSe);var mm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */mm.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof st=="object"&&st;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,d=72,p=128,v="-",y=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=c-l,b=Math.floor,w=String.fromCharCode,C;function A(z){throw new RangeError(x[z])}function P(z,M){for(var V=z.length,$=[];V--;)$[V]=M(z[V]);return $}function O(z,M){var V=z.split("@"),$="";V.length>1&&($=V[0]+"@",z=V[1]),z=z.replace(g,".");var j=z.split("."),Q=P(j,M).join(".");return $+Q}function I(z){for(var M=[],V=0,$=z.length,j,Q;V<$;)j=z.charCodeAt(V++),j>=55296&&j<=56319&&V<$?(Q=z.charCodeAt(V++),(Q&64512)==56320?M.push(((j&1023)<<10)+(Q&1023)+65536):(M.push(j),V--)):M.push(j);return M}function R(z){return P(z,function(M){var V="";return M>65535&&(M-=65536,V+=w(M>>>10&1023|55296),M=56320|M&1023),V+=w(M),V}).join("")}function k(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:c}function D(z,M){return z+22+75*(z<26)-((M!=0)<<5)}function L(z,M,V){var $=0;for(z=V?b(z/h):z>>1,z+=b(z/M);z>S*u>>1;$+=c)z=b(z/S);return b($+(S+1)*z/(z+f))}function U(z){var M=[],V=z.length,$,j=0,Q=p,ie=d,de,ue,be,Pe,ye,we,_e,xe,je;for(de=z.lastIndexOf(v),de<0&&(de=0),ue=0;ue<de;++ue)z.charCodeAt(ue)>=128&&A("not-basic"),M.push(z.charCodeAt(ue));for(be=de>0?de+1:0;be<V;){for(Pe=j,ye=1,we=c;be>=V&&A("invalid-input"),_e=k(z.charCodeAt(be++)),(_e>=c||_e>b((s-j)/ye))&&A("overflow"),j+=_e*ye,xe=we<=ie?l:we>=ie+u?u:we-ie,!(_e<xe);we+=c)je=c-xe,ye>b(s/je)&&A("overflow"),ye*=je;$=M.length+1,ie=L(j-Pe,$,Pe==0),b(j/$)>s-Q&&A("overflow"),Q+=b(j/$),j%=$,M.splice(j++,0,Q)}return R(M)}function W(z){var M,V,$,j,Q,ie,de,ue,be,Pe,ye,we=[],_e,xe,je,Xe;for(z=I(z),_e=z.length,M=p,V=0,Q=d,ie=0;ie<_e;++ie)ye=z[ie],ye<128&&we.push(w(ye));for($=j=we.length,j&&we.push(v);$<_e;){for(de=s,ie=0;ie<_e;++ie)ye=z[ie],ye>=M&&ye<de&&(de=ye);for(xe=$+1,de-M>b((s-V)/xe)&&A("overflow"),V+=(de-M)*xe,M=de,ie=0;ie<_e;++ie)if(ye=z[ie],ye<M&&++V>s&&A("overflow"),ye==M){for(ue=V,be=c;Pe=be<=Q?l:be>=Q+u?u:be-Q,!(ue<Pe);be+=c)Xe=ue-Pe,je=c-Pe,we.push(w(D(Pe+Xe%je,0))),ue=b(Xe/je);we.push(w(D(ue,0))),Q=L(V,xe,$==j),V=0,++$}++V,++M}return we.join("")}function te(z){return O(z,function(M){return y.test(M)?U(M.slice(4).toLowerCase()):M})}function J(z){return O(z,function(M){return m.test(M)?"xn--"+W(M):M})}if(o={version:"1.4.1",ucs2:{decode:I,encode:R},decode:U,encode:W,toASCII:J,toUnicode:te},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(st)})(mm,mm.exports);var WSe=mm.exports,zSe=Error,HSe=EvalError,XSe=RangeError,YSe=ReferenceError,WU=SyntaxError,n0=TypeError,qSe=URIError,KSe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},iB=typeof Symbol<"u"&&Symbol,ZSe=KSe,QSe=function(){return typeof iB!="function"||typeof Symbol!="function"||typeof iB("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ZSe()},yS={__proto__:null,foo:{}},JSe=Object,eEe=function(){return{__proto__:yS}.foo===yS.foo&&!(yS instanceof JSe)},tEe="Function.prototype.bind called on incompatible ",rEe=Object.prototype.toString,nEe=Math.max,iEe="[object Function]",aB=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},aEe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},oEe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},sEe=function(e){var r=this;if(typeof r!="function"||rEe.apply(r)!==iEe)throw new TypeError(tEe+r);for(var n=aEe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,aB(n,arguments));return Object(u)===u?u:this}return r.apply(e,aB(n,arguments))},o=nEe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+oEe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},lEe=sEe,aP=Function.prototype.bind||lEe,uEe=Function.prototype.call,cEe=Object.prototype.hasOwnProperty,fEe=aP,hEe=fEe.call(uEe,cEe),$t,dEe=zSe,pEe=HSe,vEe=XSe,gEe=YSe,If=WU,pf=n0,mEe=qSe,zU=Function,_S=function(t){try{return zU('"use strict"; return ('+t+").constructor;")()}catch{}},ku=Object.getOwnPropertyDescriptor;if(ku)try{ku({},"")}catch{ku=null}var xS=function(){throw new pf},yEe=ku?function(){try{return arguments.callee,xS}catch{try{return ku(arguments,"callee").get}catch{return xS}}}():xS,Fc=QSe(),_Ee=eEe(),jn=Object.getPrototypeOf||(_Ee?function(t){return t.__proto__}:null),$c={},xEe=typeof Uint8Array>"u"||!jn?$t:jn(Uint8Array),Fu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$t:ArrayBuffer,"%ArrayIteratorPrototype%":Fc&&jn?jn([][Symbol.iterator]()):$t,"%AsyncFromSyncIteratorPrototype%":$t,"%AsyncFunction%":$c,"%AsyncGenerator%":$c,"%AsyncGeneratorFunction%":$c,"%AsyncIteratorPrototype%":$c,"%Atomics%":typeof Atomics>"u"?$t:Atomics,"%BigInt%":typeof BigInt>"u"?$t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":dEe,"%eval%":eval,"%EvalError%":pEe,"%Float32Array%":typeof Float32Array>"u"?$t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$t:FinalizationRegistry,"%Function%":zU,"%GeneratorFunction%":$c,"%Int8Array%":typeof Int8Array>"u"?$t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fc&&jn?jn(jn([][Symbol.iterator]())):$t,"%JSON%":typeof JSON=="object"?JSON:$t,"%Map%":typeof Map>"u"?$t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fc||!jn?$t:jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$t:Promise,"%Proxy%":typeof Proxy>"u"?$t:Proxy,"%RangeError%":vEe,"%ReferenceError%":gEe,"%Reflect%":typeof Reflect>"u"?$t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fc||!jn?$t:jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fc&&jn?jn(""[Symbol.iterator]()):$t,"%Symbol%":Fc?Symbol:$t,"%SyntaxError%":If,"%ThrowTypeError%":yEe,"%TypedArray%":xEe,"%TypeError%":pf,"%Uint8Array%":typeof Uint8Array>"u"?$t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$t:Uint32Array,"%URIError%":mEe,"%WeakMap%":typeof WeakMap>"u"?$t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$t:WeakSet};if(jn)try{null.error}catch(t){var bEe=jn(jn(t));Fu["%Error.prototype%"]=bEe}var SEe=function t(e){var r;if(e==="%AsyncFunction%")r=_S("async function () {}");else if(e==="%GeneratorFunction%")r=_S("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=_S("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&jn&&(r=jn(i.prototype))}return Fu[e]=r,r},oB={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},i0=aP,ym=hEe,EEe=i0.call(Function.call,Array.prototype.concat),wEe=i0.call(Function.apply,Array.prototype.splice),sB=i0.call(Function.call,String.prototype.replace),_m=i0.call(Function.call,String.prototype.slice),CEe=i0.call(Function.call,RegExp.prototype.exec),AEe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,TEe=/\\(\\)?/g,PEe=function(e){var r=_m(e,0,1),n=_m(e,-1);if(r==="%"&&n!=="%")throw new If("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new If("invalid intrinsic syntax, expected opening `%`");var i=[];return sB(e,AEe,function(a,o,s,c){i[i.length]=s?sB(c,TEe,"$1"):o||a}),i},OEe=function(e,r){var n=e,i;if(ym(oB,n)&&(i=oB[n],n="%"+i[0]+"%"),ym(Fu,n)){var a=Fu[n];if(a===$c&&(a=SEe(n)),typeof a>"u"&&!r)throw new pf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new If("intrinsic "+e+" does not exist!")},uh=function(e,r){if(typeof e!="string"||e.length===0)throw new pf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new pf('"allowMissing" argument must be a boolean');if(CEe(/^%?[^%]*%?$/,e)===null)throw new If("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=PEe(e),i=n.length>0?n[0]:"",a=OEe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],wEe(n,EEe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],d=_m(h,0,1),p=_m(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new If("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",ym(Fu,o))s=Fu[o];else if(s!=null){if(!(h in s)){if(!r)throw new pf("base intrinsic for "+e+" exists, but the property is not available.");return}if(ku&&u+1>=n.length){var v=ku(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=ym(s,h),s=s[h];f&&!c&&(Fu[o]=s)}}return s},HU={exports:{}},bS,lB;function oP(){if(lB)return bS;lB=1;var t=uh,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bS=e,bS}var REe=uh,Sg=REe("%Object.getOwnPropertyDescriptor%",!0);if(Sg)try{Sg([],"length")}catch{Sg=null}var XU=Sg,uB=oP(),IEe=WU,Dc=n0,cB=XU,kEe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Dc("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Dc("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Dc("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Dc("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Dc("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Dc("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!cB&&cB(e,r);if(uB)uB(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new IEe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Dw=oP(),YU=function(){return!!Dw};YU.hasArrayLengthDefineBug=function(){if(!Dw)return null;try{return Dw([],"length",{value:1}).length!==1}catch{return!0}};var FEe=YU,DEe=uh,fB=kEe,MEe=FEe(),hB=XU,dB=n0,LEe=DEe("%Math.floor%"),BEe=function(e,r){if(typeof e!="function")throw new dB("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||LEe(r)!==r)throw new dB("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&hB){var o=hB(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(MEe?fB(e,"length",r,!0,!0):fB(e,"length",r)),e};(function(t){var e=aP,r=uh,n=BEe,i=n0,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=oP(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var d=s(e,o,arguments);return n(d,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(HU);var NEe=HU.exports,qU=uh,KU=NEe,UEe=KU(qU("String.prototype.indexOf")),jEe=function(e,r){var n=qU(e,!!r);return typeof n=="function"&&UEe(e,".prototype.")>-1?KU(n):n},sP=typeof Map=="function"&&Map.prototype,SS=Object.getOwnPropertyDescriptor&&sP?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,xm=sP&&SS&&typeof SS.get=="function"?SS.get:null,pB=sP&&Map.prototype.forEach,lP=typeof Set=="function"&&Set.prototype,ES=Object.getOwnPropertyDescriptor&&lP?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,bm=lP&&ES&&typeof ES.get=="function"?ES.get:null,vB=lP&&Set.prototype.forEach,$Ee=typeof WeakMap=="function"&&WeakMap.prototype,Dd=$Ee?WeakMap.prototype.has:null,VEe=typeof WeakSet=="function"&&WeakSet.prototype,Md=VEe?WeakSet.prototype.has:null,GEe=typeof WeakRef=="function"&&WeakRef.prototype,gB=GEe?WeakRef.prototype.deref:null,WEe=Boolean.prototype.valueOf,zEe=Object.prototype.toString,HEe=Function.prototype.toString,XEe=String.prototype.match,uP=String.prototype.slice,ul=String.prototype.replace,YEe=String.prototype.toUpperCase,mB=String.prototype.toLowerCase,ZU=RegExp.prototype.test,yB=Array.prototype.concat,Do=Array.prototype.join,qEe=Array.prototype.slice,_B=Math.floor,Mw=typeof BigInt=="function"?BigInt.prototype.valueOf:null,wS=Object.getOwnPropertySymbols,Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,kf=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_i=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===kf||"symbol")?Symbol.toStringTag:null,QU=Object.prototype.propertyIsEnumerable,xB=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function bB(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ZU.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-_B(-t):_B(t);if(n!==t){var i=String(n),a=uP.call(e,i.length+1);return ul.call(i,r,"$&_")+"."+ul.call(ul.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ul.call(e,r,"$&_")}var Bw=lU,SB=Bw.custom,EB=ej(SB)?SB:null,KEe=function t(e,r,n,i){var a=r||{};if(Qs(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qs(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Qs(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qs(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qs(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return rj(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?bB(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?bB(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return Nw(e)?"[Array]":"[Object]";var f=pwe(a,n);if(typeof i>"u")i=[];else if(tj(i,e)>=0)return"[Circular]";function h(k,D,L){if(D&&(i=qEe.call(i),i.push(D)),L){var U={depth:a.depth};return Qs(a,"quoteStyle")&&(U.quoteStyle=a.quoteStyle),t(k,U,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!wB(e)){var d=awe(e),p=Ev(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Do.call(p,", ")+" }":"")}if(ej(e)){var v=kf?ul.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lw.call(e);return typeof e=="object"&&!kf?Kh(v):v}if(fwe(e)){for(var y="<"+mB.call(String(e.nodeName)),m=e.attributes||[],g=0;g<m.length;g++)y+=" "+m[g].name+"="+JU(ZEe(m[g].value),"double",a);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+mB.call(String(e.nodeName))+">",y}if(Nw(e)){if(e.length===0)return"[]";var x=Ev(e,h);return f&&!dwe(x)?"["+Uw(x,f)+"]":"[ "+Do.call(x,", ")+" ]"}if(JEe(e)){var S=Ev(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!QU.call(e,"cause")?"{ ["+String(e)+"] "+Do.call(yB.call("[cause]: "+h(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Do.call(S,", ")+" }"}if(typeof e=="object"&&o){if(EB&&typeof e[EB]=="function"&&Bw)return Bw(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(owe(e)){var b=[];return pB&&pB.call(e,function(k,D){b.push(h(D,e,!0)+" => "+h(k,e))}),CB("Map",xm.call(e),b,f)}if(uwe(e)){var w=[];return vB&&vB.call(e,function(k){w.push(h(k,e))}),CB("Set",bm.call(e),w,f)}if(swe(e))return CS("WeakMap");if(cwe(e))return CS("WeakSet");if(lwe(e))return CS("WeakRef");if(twe(e))return Kh(h(Number(e)));if(nwe(e))return Kh(h(Mw.call(e)));if(rwe(e))return Kh(WEe.call(e));if(ewe(e))return Kh(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===st)return"{ [object globalThis] }";if(!QEe(e)&&!wB(e)){var C=Ev(e,h),A=xB?xB(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",O=!A&&_i&&Object(e)===e&&_i in e?uP.call($l(e),8,-1):P?"Object":"",I=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",R=I+(O||P?"["+Do.call(yB.call([],O||[],P||[]),": ")+"] ":"");return C.length===0?R+"{}":f?R+"{"+Uw(C,f)+"}":R+"{ "+Do.call(C,", ")+" }"}return String(e)};function JU(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ZEe(t){return ul.call(String(t),/"/g,"&quot;")}function Nw(t){return $l(t)==="[object Array]"&&(!_i||!(typeof t=="object"&&_i in t))}function QEe(t){return $l(t)==="[object Date]"&&(!_i||!(typeof t=="object"&&_i in t))}function wB(t){return $l(t)==="[object RegExp]"&&(!_i||!(typeof t=="object"&&_i in t))}function JEe(t){return $l(t)==="[object Error]"&&(!_i||!(typeof t=="object"&&_i in t))}function ewe(t){return $l(t)==="[object String]"&&(!_i||!(typeof t=="object"&&_i in t))}function twe(t){return $l(t)==="[object Number]"&&(!_i||!(typeof t=="object"&&_i in t))}function rwe(t){return $l(t)==="[object Boolean]"&&(!_i||!(typeof t=="object"&&_i in t))}function ej(t){if(kf)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Lw)return!1;try{return Lw.call(t),!0}catch{}return!1}function nwe(t){if(!t||typeof t!="object"||!Mw)return!1;try{return Mw.call(t),!0}catch{}return!1}var iwe=Object.prototype.hasOwnProperty||function(t){return t in this};function Qs(t,e){return iwe.call(t,e)}function $l(t){return zEe.call(t)}function awe(t){if(t.name)return t.name;var e=XEe.call(HEe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function tj(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function owe(t){if(!xm||!t||typeof t!="object")return!1;try{xm.call(t);try{bm.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function swe(t){if(!Dd||!t||typeof t!="object")return!1;try{Dd.call(t,Dd);try{Md.call(t,Md)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function lwe(t){if(!gB||!t||typeof t!="object")return!1;try{return gB.call(t),!0}catch{}return!1}function uwe(t){if(!bm||!t||typeof t!="object")return!1;try{bm.call(t);try{xm.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function cwe(t){if(!Md||!t||typeof t!="object")return!1;try{Md.call(t,Md);try{Dd.call(t,Dd)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function fwe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function rj(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return rj(uP.call(t,0,e.maxStringLength),e)+n}var i=ul.call(ul.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,hwe);return JU(i,"single",e)}function hwe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+YEe.call(e.toString(16))}function Kh(t){return"Object("+t+")"}function CS(t){return t+" { ? }"}function CB(t,e,r,n){var i=n?Uw(r,n):Do.call(r,", ");return t+" ("+e+") {"+i+"}"}function dwe(t){for(var e=0;e<t.length;e++)if(tj(t[e],`
`)>=0)return!1;return!0}function pwe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Do.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Do.call(Array(e+1),r)}}function Uw(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Do.call(t,","+r)+`
`+e.prev}function Ev(t,e){var r=Nw(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Qs(t,i)?e(t[i],t):""}var a=typeof wS=="function"?wS(t):[],o;if(kf){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Qs(t,c)&&(r&&String(Number(c))===c&&c<t.length||kf&&o["$"+c]instanceof Symbol||(ZU.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof wS=="function")for(var l=0;l<a.length;l++)QU.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var nj=uh,ch=jEe,vwe=KEe,gwe=n0,wv=nj("%WeakMap%",!0),Cv=nj("%Map%",!0),mwe=ch("WeakMap.prototype.get",!0),ywe=ch("WeakMap.prototype.set",!0),_we=ch("WeakMap.prototype.has",!0),xwe=ch("Map.prototype.get",!0),bwe=ch("Map.prototype.set",!0),Swe=ch("Map.prototype.has",!0),cP=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Ewe=function(t,e){var r=cP(t,e);return r&&r.value},wwe=function(t,e,r){var n=cP(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Cwe=function(t,e){return!!cP(t,e)},Awe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new gwe("Side channel does not contain "+vwe(a))},get:function(a){if(wv&&a&&(typeof a=="object"||typeof a=="function")){if(e)return mwe(e,a)}else if(Cv){if(r)return xwe(r,a)}else if(n)return Ewe(n,a)},has:function(a){if(wv&&a&&(typeof a=="object"||typeof a=="function")){if(e)return _we(e,a)}else if(Cv){if(r)return Swe(r,a)}else if(n)return Cwe(n,a);return!1},set:function(a,o){wv&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new wv),ywe(e,a,o)):Cv?(r||(r=new Cv),bwe(r,a,o)):(n||(n={key:{},next:null}),wwe(n,a,o))}};return i},Twe=String.prototype.replace,Pwe=/%20/g,AS={RFC1738:"RFC1738",RFC3986:"RFC3986"},fP={default:AS.RFC3986,formatters:{RFC1738:function(t){return Twe.call(t,Pwe,"+")},RFC3986:function(t){return String(t)}},RFC1738:AS.RFC1738,RFC3986:AS.RFC3986},Owe=fP,TS=Object.prototype.hasOwnProperty,yu=Array.isArray,To=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Rwe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(yu(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},ij=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Iwe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(yu(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!TS.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return yu(e)&&!yu(r)&&(i=ij(e,n)),yu(e)&&yu(r)?(r.forEach(function(a,o){if(TS.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return TS.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},kwe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Fwe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Dwe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===Owe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+To[l];continue}if(l<2048){s=s+(To[192|l>>6]+To[128|l&63]);continue}if(l<55296||l>=57344){s=s+(To[224|l>>12]+To[128|l>>6&63]+To[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=To[240|l>>18]+To[128|l>>12&63]+To[128|l>>6&63]+To[128|l&63]}return s},Mwe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return Rwe(r),e},Lwe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Bwe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nwe=function(e,r){return[].concat(e,r)},Uwe=function(e,r){if(yu(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},aj={arrayToObject:ij,assign:kwe,combine:Nwe,compact:Mwe,decode:Fwe,encode:Dwe,isBuffer:Bwe,isRegExp:Lwe,maybeMap:Uwe,merge:Iwe},oj=Awe,Eg=aj,Ld=fP,jwe=Object.prototype.hasOwnProperty,sj={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Io=Array.isArray,$we=Array.prototype.push,lj=function(t,e){$we.apply(t,Io(e)?e:[e])},Vwe=Date.prototype.toISOString,AB=Ld.default,xn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Eg.encode,encodeValuesOnly:!1,format:AB,formatter:Ld.formatters[AB],indices:!1,serializeDate:function(e){return Vwe.call(e)},skipNulls:!1,strictNullHandling:!1},Gwe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},PS={},Wwe=function t(e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,y,m,g){for(var x=e,S=g,b=0,w=!1;(S=S.get(PS))!==void 0&&!w;){var C=S.get(e);if(b+=1,typeof C<"u"){if(C===b)throw new RangeError("Cyclic object value");w=!0}typeof S.get(PS)>"u"&&(b=0)}if(typeof u=="function"?x=u(r,x):x instanceof Date?x=d(x):n==="comma"&&Io(x)&&(x=Eg.maybeMap(x,function(z){return z instanceof Date?d(z):z})),x===null){if(o)return l&&!y?l(r,xn.encoder,m,"key",p):r;x=""}if(Gwe(x)||Eg.isBuffer(x)){if(l){var A=y?r:l(r,xn.encoder,m,"key",p);return[v(A)+"="+v(l(x,xn.encoder,m,"value",p))]}return[v(r)+"="+v(String(x))]}var P=[];if(typeof x>"u")return P;var O;if(n==="comma"&&Io(x))y&&l&&(x=Eg.maybeMap(x,l)),O=[{value:x.length>0?x.join(",")||null:void 0}];else if(Io(u))O=u;else{var I=Object.keys(x);O=f?I.sort(f):I}var R=c?r.replace(/\./g,"%2E"):r,k=i&&Io(x)&&x.length===1?R+"[]":R;if(a&&Io(x)&&x.length===0)return k+"[]";for(var D=0;D<O.length;++D){var L=O[D],U=typeof L=="object"&&typeof L.value<"u"?L.value:x[L];if(!(s&&U===null)){var W=h&&c?L.replace(/\./g,"%2E"):L,te=Io(x)?typeof n=="function"?n(k,W):k:k+(h?"."+W:"["+W+"]");g.set(e,b);var J=oj();J.set(PS,g),lj(P,t(U,te,n,i,a,o,s,c,n==="comma"&&y&&Io(x)?null:l,u,f,h,d,p,v,y,m,J))}}return P},zwe=function(e){if(!e)return xn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||xn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ld.default;if(typeof e.format<"u"){if(!jwe.call(Ld.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ld.formatters[n],a=xn.filter;(typeof e.filter=="function"||Io(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in sj?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=xn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:xn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:xn.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xn.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?xn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:xn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:xn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:xn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:xn.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:xn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:xn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xn.strictNullHandling}},Hwe=function(t,e){var r=t,n=zwe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Io(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=sj[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=oj(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||lj(o,Wwe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},Ff=aj,jw=Object.prototype.hasOwnProperty,Xwe=Array.isArray,nn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Ff.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ywe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},uj=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},qwe="utf8=%26%2310003%3B",Kwe="utf8=%E2%9C%93",Zwe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Kwe?l="utf-8":o[c]===qwe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(u,nn.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,h),nn.decoder,l,"key"),p=Ff.maybeMap(uj(u.slice(h+1),r),function(y){return r.decoder(y,nn.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=Ywe(p)),u.indexOf("[]=")>-1&&(p=Xwe(p)?[p]:p);var v=jw.call(n,d);v&&r.duplicates==="combine"?n[d]=Ff.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},Qwe=function(t,e,r,n){for(var i=n?e:uj(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},Jwe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&jw.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&jw.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),Qwe(u,r,n,i)}},eCe=function(e){if(!e)return nn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?nn.charset:e.charset,n=typeof e.duplicates>"u"?nn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:nn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:nn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:nn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:nn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:nn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:nn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:nn.decoder,delimiter:typeof e.delimiter=="string"||Ff.isRegExp(e.delimiter)?e.delimiter:nn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:nn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:nn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:nn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:nn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nn.strictNullHandling}},tCe=function(t,e){var r=eCe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Zwe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=Jwe(s,n[s],r,typeof t=="string");i=Ff.merge(i,c,r)}return r.allowSparse===!0?i:Ff.compact(i)},rCe=Hwe,nCe=tCe,iCe=fP,aCe={formats:iCe,parse:nCe,stringify:rCe},oCe=WSe;function po(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var sCe=/^([a-z0-9.+-]+:)/i,lCe=/:[0-9]*$/,uCe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,cCe=["<",">",'"',"`"," ","\r",`
`,"	"],fCe=["{","}","|","\\","^","`"].concat(cCe),$w=["'"].concat(fCe),TB=["%","/","?",";","#"].concat($w),PB=["/","?","#"],hCe=255,OB=/^[+a-z0-9A-Z_-]{0,63}$/,dCe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pCe={javascript:!0,"javascript:":!0},Vw={javascript:!0,"javascript:":!0},vf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Gw=aCe;function c_(t,e,r){if(t&&typeof t=="object"&&t instanceof po)return t;var n=new po;return n.parse(t,e,r),n}po.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=uCe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Gw.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=sCe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&Vw[l])&&(s=s.substr(2),this.slashes=!0)}if(!Vw[l]&&(f||l&&!vf[l])){for(var h=-1,d=0;d<PB.length;d++){var p=s.indexOf(PB[d]);p!==-1&&(h===-1||p<h)&&(h=p)}var v,y;h===-1?y=s.lastIndexOf("@"):y=s.lastIndexOf("@",h),y!==-1&&(v=s.slice(0,y),s=s.slice(y+1),this.auth=decodeURIComponent(v)),h=-1;for(var d=0;d<TB.length;d++){var p=s.indexOf(TB[d]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var g=this.hostname.split(/\./),d=0,x=g.length;d<x;d++){var S=g[d];if(S&&!S.match(OB)){for(var b="",w=0,C=S.length;w<C;w++)S.charCodeAt(w)>127?b+="x":b+=S[w];if(!b.match(OB)){var A=g.slice(0,d),P=g.slice(d+1),O=S.match(dCe);O&&(A.push(O[1]),P.unshift(O[2])),P.length&&(s="/"+P.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>hCe?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=oCe.toASCII(this.hostname));var I=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+I,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!pCe[u])for(var d=0,x=$w.length;d<x;d++){var k=$w[d];if(s.indexOf(k)!==-1){var D=encodeURIComponent(k);D===k&&(D=escape(k)),s=s.split(k).join(D)}}var L=s.indexOf("#");L!==-1&&(this.hash=s.substr(L),s=s.slice(0,L));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),e&&(this.query=Gw.parse(this.query)),s=s.slice(0,U)):e&&(this.search="",this.query={}),s&&(this.pathname=s),vf[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",W=this.search||"";this.path=I+W}return this.href=this.format(),this};function vCe(t){return typeof t=="string"&&(t=c_(t)),t instanceof po?t.format():po.prototype.format.call(t)}po.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Gw.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||vf[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function gCe(t,e){return c_(t,!1,!0).resolve(e)}po.prototype.resolve=function(t){return this.resolveObject(c_(t,!1,!0)).format()};po.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new po;e.parse(t,!1,!0),t=e}for(var r=new po,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return vf[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!vf[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Vw[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",d=r.search||"";r.path=h+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",y=v||p||r.host&&t.pathname,m=y,g=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],S=r.protocol&&!vf[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),y=y&&(x[0]===""||g[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=x;else if(x.length)g||(g=[]),g.pop(),g=g.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(S){r.host=g.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=g.slice(-1)[0],C=(r.host||t.host||g.length>1)&&(w==="."||w==="..")||w==="",A=0,P=g.length;P>=0;P--)w=g[P],w==="."?g.splice(P,1):w===".."?(g.splice(P,1),A++):A&&(g.splice(P,1),A--);if(!y&&!m)for(;A--;A)g.unshift("..");y&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),C&&g.join("/").substr(-1)!=="/"&&g.push("");var O=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(S){r.hostname=O?"":g.length?g.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return y=y||r.host&&g.length,y&&!O&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};po.prototype.parseHost=function(){var t=this.host,e=lCe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var mCe=c_,yCe=gCe,_Ce=vCe;/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cu={parse:mCe,format:_Ce,resolve:yCe};function Qa(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function RB(t){var e=t.split("?")[0];return e.split("#")[0]}function xCe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bCe(t,e,r){return t.replace(new RegExp(xCe(e),"g"),r)}function SCe(t,e){for(var r="",n=0,i=-1,a=0,o,s=0;s<=t.length;++s){if(s<t.length)o=t.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=s,a=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a!==-1?++a:a=-1}return r}var cj={toPosix:function(t){return bCe(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){Qa(t),t=this.toPosix(t);var e="",r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){var a=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=a,t=t.slice(a.length)}return e},toAbsolute:function(t,e,r){if(this.isDataUrl(t))return t;var n=RB(this.toPosix(e??Ve.ADAPTER.getBaseUrl())),i=RB(this.toPosix(r??this.rootname(n)));if(Qa(t),t=this.toPosix(t),t.startsWith("/"))return cj.join(i,t.slice(1));var a=this.isAbsolute(t)?t:this.join(n,t);return a},normalize:function(t){if(t=this.toPosix(t),Qa(t),t.length===0)return".";var e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var n=t.endsWith("/");return t=SCe(t,!1),t.length>0&&n&&(t+="/"),r?"/"+t:e+t},isAbsolute:function(t){return Qa(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join:function(){for(var t=arguments,e,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length===0)return".";for(var i,a=0;a<r.length;++a){var o=r[a];if(Qa(o),o.length>0)if(i===void 0)i=o;else{var s=(e=r[a-1])!==null&&e!==void 0?e:"";this.extname(s)?i+="/../"+o:i+="/"+o}}return i===void 0?".":this.normalize(i)},dirname:function(t){if(Qa(t),t.length===0)return".";t=this.toPosix(t);var e=t.charCodeAt(0),r=e===47,n=-1,i=!0,a=this.getProtocol(t),o=t;t=t.slice(a.length);for(var s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),e===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname:function(t){Qa(t),t=this.toPosix(t);var e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename:function(t,e){Qa(t),e&&Qa(e),t=this.toPosix(t);var r=0,n=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var o=e.length-1,s=-1;for(a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!i){r=a+1;break}}else s===-1&&(i=!1,s=a+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=s))}return r===n?n=s:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!i){r=a+1;break}}else n===-1&&(i=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname:function(t){Qa(t),t=this.toPosix(t);for(var e=-1,r=0,n=-1,i=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(s===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),s===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse:function(t){Qa(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);var r=t.charCodeAt(0),n=this.isAbsolute(t),i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;for(var a=-1,o=0,s=-1,c=!0,l=t.length-1,u=0;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!c){o=l+1;break}continue}s===-1&&(c=!1,s=l+1),r===46?a===-1?a=l:u!==1&&(u=1):a!==-1&&(u=-1)}return a===-1||s===-1||u===0||u===1&&a===s-1&&a===o+1?s!==-1&&(o===0&&n?e.base=e.name=t.slice(1,s):e.base=e.name=t.slice(o,s)):(o===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,s)):(e.name=t.slice(o,a),e.base=t.slice(o,s)),e.ext=t.slice(a,s)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};Ve.RETINA_PREFIX=/@([0-9\.]+)x/;Ve.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ww=!1,IB="6.5.10";function ECe(){Ww=!0}function fj(t){var e;if(!Ww){if(Ve.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+IB+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+IB+" - "+t+" - http://www.pixijs.com/");Ww=!0}}var OS;function hj(){return typeof OS>"u"&&(OS=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Ve.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ve.ADAPTER.getWebGLRenderingContext())return!1;var r=Ve.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),OS}var wCe="#f0f8ff",CCe="#faebd7",ACe="#00ffff",TCe="#7fffd4",PCe="#f0ffff",OCe="#f5f5dc",RCe="#ffe4c4",ICe="#000000",kCe="#ffebcd",FCe="#0000ff",DCe="#8a2be2",MCe="#a52a2a",LCe="#deb887",BCe="#5f9ea0",NCe="#7fff00",UCe="#d2691e",jCe="#ff7f50",$Ce="#6495ed",VCe="#fff8dc",GCe="#dc143c",WCe="#00ffff",zCe="#00008b",HCe="#008b8b",XCe="#b8860b",YCe="#a9a9a9",qCe="#006400",KCe="#a9a9a9",ZCe="#bdb76b",QCe="#8b008b",JCe="#556b2f",eAe="#ff8c00",tAe="#9932cc",rAe="#8b0000",nAe="#e9967a",iAe="#8fbc8f",aAe="#483d8b",oAe="#2f4f4f",sAe="#2f4f4f",lAe="#00ced1",uAe="#9400d3",cAe="#ff1493",fAe="#00bfff",hAe="#696969",dAe="#696969",pAe="#1e90ff",vAe="#b22222",gAe="#fffaf0",mAe="#228b22",yAe="#ff00ff",_Ae="#dcdcdc",xAe="#f8f8ff",bAe="#daa520",SAe="#ffd700",EAe="#808080",wAe="#008000",CAe="#adff2f",AAe="#808080",TAe="#f0fff0",PAe="#ff69b4",OAe="#cd5c5c",RAe="#4b0082",IAe="#fffff0",kAe="#f0e68c",FAe="#fff0f5",DAe="#e6e6fa",MAe="#7cfc00",LAe="#fffacd",BAe="#add8e6",NAe="#f08080",UAe="#e0ffff",jAe="#fafad2",$Ae="#d3d3d3",VAe="#90ee90",GAe="#d3d3d3",WAe="#ffb6c1",zAe="#ffa07a",HAe="#20b2aa",XAe="#87cefa",YAe="#778899",qAe="#778899",KAe="#b0c4de",ZAe="#ffffe0",QAe="#00ff00",JAe="#32cd32",e2e="#faf0e6",t2e="#ff00ff",r2e="#800000",n2e="#66cdaa",i2e="#0000cd",a2e="#ba55d3",o2e="#9370db",s2e="#3cb371",l2e="#7b68ee",u2e="#00fa9a",c2e="#48d1cc",f2e="#c71585",h2e="#191970",d2e="#f5fffa",p2e="#ffe4e1",v2e="#ffe4b5",g2e="#ffdead",m2e="#000080",y2e="#fdf5e6",_2e="#808000",x2e="#6b8e23",b2e="#ffa500",S2e="#ff4500",E2e="#da70d6",w2e="#eee8aa",C2e="#98fb98",A2e="#afeeee",T2e="#db7093",P2e="#ffefd5",O2e="#ffdab9",R2e="#cd853f",I2e="#ffc0cb",k2e="#dda0dd",F2e="#b0e0e6",D2e="#800080",M2e="#663399",L2e="#ff0000",B2e="#bc8f8f",N2e="#4169e1",U2e="#8b4513",j2e="#fa8072",$2e="#f4a460",V2e="#2e8b57",G2e="#fff5ee",W2e="#a0522d",z2e="#c0c0c0",H2e="#87ceeb",X2e="#6a5acd",Y2e="#708090",q2e="#708090",K2e="#fffafa",Z2e="#00ff7f",Q2e="#4682b4",J2e="#d2b48c",eTe="#008080",tTe="#d8bfd8",rTe="#ff6347",nTe="#40e0d0",iTe="#ee82ee",aTe="#f5deb3",oTe="#ffffff",sTe="#f5f5f5",lTe="#ffff00",uTe="#9acd32",cTe={aliceblue:wCe,antiquewhite:CCe,aqua:ACe,aquamarine:TCe,azure:PCe,beige:OCe,bisque:RCe,black:ICe,blanchedalmond:kCe,blue:FCe,blueviolet:DCe,brown:MCe,burlywood:LCe,cadetblue:BCe,chartreuse:NCe,chocolate:UCe,coral:jCe,cornflowerblue:$Ce,cornsilk:VCe,crimson:GCe,cyan:WCe,darkblue:zCe,darkcyan:HCe,darkgoldenrod:XCe,darkgray:YCe,darkgreen:qCe,darkgrey:KCe,darkkhaki:ZCe,darkmagenta:QCe,darkolivegreen:JCe,darkorange:eAe,darkorchid:tAe,darkred:rAe,darksalmon:nAe,darkseagreen:iAe,darkslateblue:aAe,darkslategray:oAe,darkslategrey:sAe,darkturquoise:lAe,darkviolet:uAe,deeppink:cAe,deepskyblue:fAe,dimgray:hAe,dimgrey:dAe,dodgerblue:pAe,firebrick:vAe,floralwhite:gAe,forestgreen:mAe,fuchsia:yAe,gainsboro:_Ae,ghostwhite:xAe,goldenrod:bAe,gold:SAe,gray:EAe,green:wAe,greenyellow:CAe,grey:AAe,honeydew:TAe,hotpink:PAe,indianred:OAe,indigo:RAe,ivory:IAe,khaki:kAe,lavenderblush:FAe,lavender:DAe,lawngreen:MAe,lemonchiffon:LAe,lightblue:BAe,lightcoral:NAe,lightcyan:UAe,lightgoldenrodyellow:jAe,lightgray:$Ae,lightgreen:VAe,lightgrey:GAe,lightpink:WAe,lightsalmon:zAe,lightseagreen:HAe,lightskyblue:XAe,lightslategray:YAe,lightslategrey:qAe,lightsteelblue:KAe,lightyellow:ZAe,lime:QAe,limegreen:JAe,linen:e2e,magenta:t2e,maroon:r2e,mediumaquamarine:n2e,mediumblue:i2e,mediumorchid:a2e,mediumpurple:o2e,mediumseagreen:s2e,mediumslateblue:l2e,mediumspringgreen:u2e,mediumturquoise:c2e,mediumvioletred:f2e,midnightblue:h2e,mintcream:d2e,mistyrose:p2e,moccasin:v2e,navajowhite:g2e,navy:m2e,oldlace:y2e,olive:_2e,olivedrab:x2e,orange:b2e,orangered:S2e,orchid:E2e,palegoldenrod:w2e,palegreen:C2e,paleturquoise:A2e,palevioletred:T2e,papayawhip:P2e,peachpuff:O2e,peru:R2e,pink:I2e,plum:k2e,powderblue:F2e,purple:D2e,rebeccapurple:M2e,red:L2e,rosybrown:B2e,royalblue:N2e,saddlebrown:U2e,salmon:j2e,sandybrown:$2e,seagreen:V2e,seashell:G2e,sienna:W2e,silver:z2e,skyblue:H2e,slateblue:X2e,slategray:Y2e,slategrey:q2e,snow:K2e,springgreen:Z2e,steelblue:Q2e,tan:J2e,teal:eTe,thistle:tTe,tomato:rTe,turquoise:nTe,violet:iTe,wheat:aTe,white:oTe,whitesmoke:sTe,yellow:lTe,yellowgreen:uTe};function In(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function hP(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function dP(t){return typeof t=="string"&&(t=cTe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function Li(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function fTe(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ze.NORMAL_NPM]=ze.NORMAL,t[ze.ADD_NPM]=ze.ADD,t[ze.SCREEN_NPM]=ze.SCREEN,e[ze.NORMAL]=ze.NORMAL_NPM,e[ze.ADD]=ze.ADD_NPM,e[ze.SCREEN]=ze.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var pP=fTe();function vP(t,e){return pP[e?1:0][t]}function dj(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function f_(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function gP(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function pj(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function h_(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var hTe={Float32Array,Uint32Array,Int32Array,Uint8Array};function dTe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=h_(u);i[f]||(i[f]=new hTe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}function yp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function zw(t){return!(t&t-1)&&!!t}function Hw(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Du(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function Au(t){return t===0?0:t<0?-1:1}var pTe=0;function Fl(){return++pTe}var kB={};function Bi(t,e,r){if(r===void 0&&(r=3),!kB[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),kB[e]=!0}}var Xw={},Yi=Object.create(null),Da=Object.create(null);function vTe(){var t;for(t in Yi)Yi[t].destroy();for(t in Da)Da[t].destroy()}function vj(){var t;for(t in Yi)delete Yi[t];for(t in Da)delete Da[t]}var Yw=function(){function t(e,r,n){this.canvas=Ve.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||Ve.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function gj(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var mj=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function gTe(t){var e=mj.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Av;function yj(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Av||(Av=document.createElement("a")),Av.href=t;var r=Cu.parse(Av.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function _p(t,e){var r=Ve.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const mTe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Da,CanvasRenderTarget:Yw,DATA_URI:mj,EventEmitter:lh,ProgramCache:Xw,TextureCache:Yi,clearTextureCache:vj,correctBlendMode:vP,createIndicesForQuads:pj,decomposeDataUri:gTe,deprecation:Bi,destroyTextureCache:vTe,determineCrossOrigin:yj,earcut:iP,getBufferType:h_,getResolutionOfUrl:_p,hex2rgb:In,hex2string:hP,interleaveTypedArrays:dTe,isMobile:ja,isPow2:zw,isWebGLSupported:hj,log2:Hw,nextPow2:yp,path:cj,premultiplyBlendMode:pP,premultiplyRgba:dj,premultiplyTint:f_,premultiplyTintToRgba:gP,removeItems:Du,rgb2hex:Li,sayHello:fj,sign:Au,skipHello:ECe,string2hex:dP,trimCanvas:gj,uid:Fl,url:Cu},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var xp=Math.PI*2,_j=180/Math.PI,Dl=Math.PI/180,Tn;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Tn||(Tn={}));var Lt=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Tv=[new Lt,new Lt,new Lt,new Lt],Bt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Tn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=Tv[0].set(e.left,e.top),h=Tv[1].set(e.left,e.bottom),d=Tv[2].set(e.right,e.top),p=Tv[3].set(e.right,e.bottom);if(d.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(d,d),r.apply(p,p),Math.max(f.x,h.x,d.x,p.x)<=s||Math.min(f.x,h.x,d.x,p.x)>=c||Math.max(f.y,h.y,d.y,p.y)<=l||Math.min(f.y,h.y,d.y,p.y)>=u))return!1;var y=v*(h.y-f.y),m=v*(f.x-h.x),g=y*s+m*l,x=y*c+m*l,S=y*s+m*u,b=y*c+m*u;if(Math.max(g,x,S,b)<=y*f.x+m*f.y||Math.min(g,x,S,b)>=y*p.x+m*p.y)return!1;var w=v*(f.y-d.y),C=v*(d.x-f.x),A=w*s+C*l,P=w*c+C*l,O=w*s+C*u,I=w*c+C*u;return!(Math.max(A,P,O,I)<=w*f.x+C*f.y||Math.min(A,P,O,I)>=w*p.x+C*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),xj=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Tn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new Bt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),bj=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Tn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Bt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),gf=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=Tn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),Sj=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=Tn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),cl=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Xr=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new Lt;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new Lt;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(xp-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),pu=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],vu=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],qw=[],Ej=[],Pv=Math.sign;function yTe(){for(var t=0;t<16;t++){var e=[];qw.push(e);for(var r=0;r<16;r++)for(var n=Pv(pu[t]*pu[r]+gu[t]*vu[r]),i=Pv(vu[t]*pu[r]+mu[t]*vu[r]),a=Pv(pu[t]*gu[r]+gu[t]*mu[r]),o=Pv(vu[t]*gu[r]+mu[t]*mu[r]),s=0;s<16;s++)if(pu[s]===n&&vu[s]===i&&gu[s]===a&&mu[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new Xr;c.set(pu[t],vu[t],gu[t],mu[t],0,0),Ej.push(c)}}yTe();var Mr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return pu[t]},uY:function(t){return vu[t]},vX:function(t){return gu[t]},vY:function(t){return mu[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return qw[t][e]},sub:function(t,e){return qw[t][Mr.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?Mr.S:Mr.N:Math.abs(e)*2<=Math.abs(t)?t>0?Mr.E:Mr.W:e>0?t>0?Mr.SE:Mr.SW:t>0?Mr.NE:Mr.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=Ej[Mr.inv(e)];i.tx=r,i.ty=n,t.append(i)}},d_=function(){function t(){this.worldTransform=new Xr,this.localTransform=new Xr,this.position=new cl(this.onChange,this,0,0),this.scale=new cl(this.onChange,this,1,1),this.pivot=new cl(this.onChange,this,0,0),this.skew=new cl(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ve.SORTABLE_CHILDREN=!1;var bp=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Bt.EMPTY:(e=e||new Bt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=o*r+c*n+u,m=s*r+l*n+f;h=y<h?y:h,d=m<d?m:d,p=y>p?y:p,v=m>v?m:v,y=o*i+c*n+u,m=s*i+l*n+f,h=y<h?y:h,d=m<d?m:d,p=y>p?y:p,v=m>v?m:v,y=o*r+c*a+u,m=s*r+l*a+f,h=y<h?y:h,d=m<d?m:d,p=y>p?y:p,v=m>v?m:v,y=o*i+c*a+u,m=s*i+l*a+f,h=y<h?y:h,d=m<d?m:d,p=y>p?y:p,v=m>v?m:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,y=this.maxY,m=n;m<i;m+=2){var g=r[m],x=r[m+1],S=s*g+l*x+f,b=u*x+c*g+h;d=Math.min(d,S-a),v=Math.max(v,S+a),p=Math.min(p,b-o),y=Math.max(y,b+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=y},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kw=function(t,e){return Kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Kw(t,e)};function mP(t,e){Kw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jr=function(t){mP(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new d_,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new bp,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Bt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Bt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new bp);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new yP),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*_j},set:function(r){this.transform.rotation=r*Dl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(lh),yP=function(t){mP(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Jr);Jr.prototype.displayObjectUpdateTransform=Jr.prototype.updateTransform;function _Te(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Rn=function(t){mP(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Ve.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Du(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Du(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Du(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(_Te),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==an.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Jr);Rn.prototype.containerUpdateTransform=Rn.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bd=function(){return Bd=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bd.apply(this,arguments)},hr;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(hr||(hr={}));var FB=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Bd(Bd({},e),{ref:t})}if(typeof t=="object")t=Bd({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Jo={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(FB).forEach(function(i){i.type.forEach(function(a){var o,s;return(s=(o=e._removeHandlers)[a])===null||s===void 0?void 0:s.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(FB).forEach(function(i){i.type.forEach(function(a){var o=e._addHandlers,s=e._queue;o[a]?o[a](i):(s[a]=s[a]||[],s[a].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var a=this._queue;return a[t]&&(a[t].forEach(function(o){return e(o)}),delete a[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.includes(r.ref)||(e.push(r.ref),t===hr.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $n=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,d=f.length;h<d;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties($n.prototype,{dispatch:{value:$n.prototype.emit},run:{value:$n.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ve.TARGET_FPMS=.06;var vo;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(vo||(vo={}));var RS=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Gr=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new RS(null,null,1/0),this.deltaMS=1/Ve.TARGET_FPMS,this.elapsedMS=1/Ve.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=vo.NORMAL),this._addListener(new RS(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=vo.NORMAL),this._addListener(new RS(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ve.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ve.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),wj=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,vo.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Gr.shared:new Gr,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=hr.Application,t}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ve.PREFER_ENV=ja.any?Wo.WEBGL:Wo.WEBGL2;Ve.STRICT_TEXTURE_CACHE=!1;var Sp=[];function p_(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Sp.length-1;i>=0;--i){var a=Sp[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zw=function(t,e){return Zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Zw(t,e)};function wr(t,e){Zw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qw=function(){return Qw=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Qw.apply(this,arguments)};function xTe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Hu=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new $n("setRealSize"),this.onUpdate=new $n("update"),this.onError=new $n("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),oc=function(t){wr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ra.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Hu),bTe={scaleMode:On.NEAREST,format:Ue.RGBA,alphaMode:ra.NPM},Xt=function(t){wr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,d=n.type,p=n.target,v=n.resolution,y=n.resourceOptions;return r&&!(r instanceof Hu)&&(r=p_(r,y),r.internal=!0),i.resolution=v||Ve.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:Ve.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Ve.ANISOTROPIC_LEVEL,i._wrapMode=f||Ve.WRAP_MODE,i._scaleMode=c!==void 0?c:Ve.SCALE_MODE,i.format=h||Ue.RGBA,i.type=d||lt.UNSIGNED_BYTE,i.target=p||El.TEXTURE_2D,i.alphaMode=a!==void 0?a:ra.UNPACK,i.uid=Fl(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=zw(this.realWidth)&&zw(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Da[this.cacheId],delete Yi[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Ve.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Fl()}o=r._pixiId}var c=Da[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new oc(r,{width:n,height:i}),s=r instanceof Float32Array?lt.FLOAT:lt.UNSIGNED_BYTE;return new e(o,Object.assign({},bTe,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Da[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Da[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Da[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Da[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete Da[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(lh),v_=function(t){wr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new Xt;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Hu?this.addResourceAt(r[i],i):this.addResourceAt(p_(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(Hu),_P=function(t){wr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=El.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(v_),zo=function(t){wr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=yj(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ra.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Hu),xP=function(t){wr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(zo),bP=function(t){wr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=El.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=El.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=El.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];(a[o]<s.dirtyId||i.dirtyId<n.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(v_),g_=function(t){wr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;zo.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Ve.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===ra.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(zo),SP=function(t){wr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,Ve.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;zo.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Fl(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(zo),EP=function(t){wr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];zo.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[d]||"video/"+d,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Gr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Gr.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Gr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(zo),wP=function(t){wr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(zo);Sp.push(g_,wP,xP,EP,SP,oc,bP,_P);var Cj={__proto__:null,Resource:Hu,BaseImageResource:zo,INSTALLED:Sp,autoDetectResource:p_,AbstractMultiResource:v_,ArrayResource:_P,BufferResource:oc,CanvasResource:xP,CubeResource:bP,ImageResource:g_,SVGResource:SP,VideoResource:EP,ImageBitmapResource:wP},STe=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ra.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(oc),Sm=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new $n("disposeFramebuffer"),this.multisample=Rr.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Xt(null,{scaleMode:On.NEAREST,resolution:1,mipmap:Ui.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Xt(new STe(null,{width:this.width,height:this.height}),{scaleMode:On.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ui.OFF,format:Ue.DEPTH_COMPONENT,type:lt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),CP=function(t){wr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Rr.NONE,n=t.call(this,null,r)||this,n.mipmap=Ui.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Sm(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Xt),AP=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=Mr.add(n,Mr.NW),this.x0=c+o*Mr.uX(n),this.y0=l+s*Mr.uY(n),n=Mr.add(n,2),this.x1=c+o*Mr.uX(n),this.y1=l+s*Mr.uY(n),n=Mr.add(n,2),this.x2=c+o*Mr.uX(n),this.y2=l+s*Mr.uY(n),n=Mr.add(n,2),this.x3=c+o*Mr.uX(n),this.y3=l+s*Mr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),DB=new AP;function Ov(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var pt=function(t){wr(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new Bt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=DB,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new Lt(s.x,s.y):new Lt(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Yi[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===DB&&(this._uvs=new AP),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Ve.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof Xt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Fl(),Xt.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Fl()}o=r._pixiId}var c=Yi[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof Xt)?(n.resolution||(n.resolution=_p(r)),c=new e(new Xt(r,n)),c.baseTexture.cacheId=o,Xt.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof Xt&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(Xt.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new Xt(r,Object.assign({scaleMode:Ve.SCALE_MODE,resolution:_p(n)},a)),s=o.resource;s instanceof g_&&(s.url=n);var c=new e(o);return i||(i=n),Xt.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(Xt.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Yi[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Yi[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Yi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Yi[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Yi[r.textureCacheIds[a]]===r&&delete Yi[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Xt),Ov(e._EMPTY),Ov(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=Ve.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Xt.from(r)),Ov(e._WHITE),Ov(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(lh),Ml=function(t){wr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(Bi("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new CP(r))},e}(pt),Aj=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Rr.NONE);var i=new CP(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ml(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Rr.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=yp(e),r=yp(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rr.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),Jw=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=lt.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),ETe=0,dn=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=ETe++,this.disposeRunner=new $n("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===ho.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?ho.ELEMENT_ARRAY_BUFFER:ho.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),wTe={Float32Array,Uint32Array,Int32Array,Uint8Array};function CTe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=h_(u);i[f]||(i[f]=new wTe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}var MB={5126:4,5123:2,5121:1},ATe=0,TTe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},fh=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=ATe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new $n("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof dn||(r instanceof Array&&(r=new Float32Array(r)),r=new dn(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Jw(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof dn||(e instanceof Array&&(e=new Uint16Array(e)),e=new dn(e)),e.type=ho.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new dn,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*MB[a.type]/4),a.buffer=0}for(n.data=CTe(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new dn(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new Jw(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ho.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new TTe[h_(o.buffers[s].data)](i[s]),r.buffers[s]=new dn(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ho.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===h&&(u+=d.size*MB[d.type]/4)}for(var s=0;s<e.length;s++){for(var p=e[s].indexBuffer.data,c=0;c<p.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=p.length}}return r},t}(),Tj=function(t){wr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(fh),TP=function(t){wr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new dn(r.vertices),r.uvBuffer=new dn(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(fh),PTe=0,wl=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=PTe++,this.static=!!r,this.ubo=!!n,e instanceof dn?(this.buffer=e,this.buffer.type=ho.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new dn(new Float32Array(1)),this.buffer.type=ho.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),Pj=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Rr.NONE,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.bindingSourceFrame=new Bt,this.bindingDestinationFrame=new Bt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Rv=[new Lt,new Lt,new Lt,new Lt],IS=new Xr,PP=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Aj,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Tj,this.quadUv=new TP,this.tempRect=new Bt,this.activeState={},this.globalUniforms=new wl({outputFrame:new Bt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new Pj,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];l=Math.min(l,v.resolution),u=Math.min(u,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var y=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(IS.copyFrom(a.projection.transform).invert(),y),h?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,m),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,La.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,La.CLEAR,r);var d=u;u=f,f=d}n[h].apply(this,u,l.renderTexture,La.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=La.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===La.CLEAR||r===La.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(va.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(va.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(Xr.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Rr.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rr.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Rv[0],i=Rv[1],a=Rv[2],o=Rv[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?IS.copyFrom(a):IS.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),a0=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),OP=function(){function t(e){this.renderer=e,this.emptyRenderer=new a0(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),LB=0,RP=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=LB++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=LB++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(Ve.PREFER_ENV>=Wo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var r=this;e.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Oj=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Rr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),OTe=new Bt,IP=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Sm(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ve.PREFER_ENV===Wo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=hp.COLOR|hp.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new Oj(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Rr.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Rr.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new Sm(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=OTe,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Bt},t.prototype.destroy=function(){this.renderer=null},t}(),kS={5126:4,5123:2,5121:1},kP=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Ve.PREFER_ENV===Wo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,d={},p={};for(var v in f)d[v]=0,p[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[h[v].buffer]+=h[v].size*kS[h[v].type];for(var v in h){var y=h[v],m=y.size;y.stride===void 0&&(d[y.buffer]===m*kS[y.type]?y.stride=0:y.stride=d[y.buffer]),y.start===void 0&&(y.start=p[y.buffer],p[y.buffer]+=m*kS[y.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var g=0;g<f.length;g++){var x=f[g];o.bind(x),n&&x._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var d=r.attributeData[l].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Rj=function(){function t(e){e===void 0&&(e=null),this.type=an.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ve.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=an.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function BB(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function NB(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function RTe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||NB(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||NB(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function FS(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Ij(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return FS(2*e);case"bvec3":return FS(3*e);case"bvec4":return FS(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var kj={},Zh=kj;function Fj(){if(Zh===kj||Zh&&Zh.isContextLost()){var t=Ve.ADAPTER.createCanvas(),e=void 0;Ve.PREFER_ENV>=Wo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Zh=e}return Zh}var Iv;function ITe(){if(!Iv){Iv=Zi.MEDIUM;var t=Fj();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Iv=e.precision?Zi.HIGH:Zi.MEDIUM}}return Iv}function UB(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Zi.HIGH&&r!==Zi.HIGH&&(n=Zi.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Zi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var kTe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Dj(t){return kTe[t]}var kv=null,jB={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Mj(t,e){if(!kv){var r=Object.keys(jB);kv={};for(var n=0;n<r.length;++n){var i=r[n];kv[t[i]]=jB[i]}}return kv[e]}var Mu=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],FTe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},DTe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function MTe(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Mu.length;c++)if(Mu[c].test(a,o)){n.push(Mu[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1&&!a.isArray?FTe:DTe,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var LTe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function BTe(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Lj(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=LTe.replace(/%forloop%/gi,BTe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var Qh;function NTe(){if(typeof Qh=="boolean")return Qh;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Qh=t({a:"b"},"a","b")===!0}catch{Qh=!1}return Qh}var UTe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,jTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,$Te=0,Fv={},hh=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=$Te++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Fv[n]?(Fv[n]++,n+="-"+Fv[n]):Fv[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=UB(this.vertexSrc,Ve.PRECISION_VERTEX,Zi.HIGH),this.fragmentSrc=UB(this.fragmentSrc,Ve.PRECISION_FRAGMENT,ITe())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return jTe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return UTe},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=Xw[i];return a||(Xw[i]=a=new t(e,r,n)),a},t}(),Ts=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof wl?this.uniformGroup=r:this.uniformGroup=new wl(r):this.uniformGroup=new wl({}),this.disposeRunner=new $n("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=hh.from(e,r);return new t(i,n)},t}(),DS=0,MS=1,LS=2,BS=3,NS=4,US=5,Vl=function(){function t(){this.data=0,this.blendMode=ze.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<DS)},set:function(e){!!(this.data&1<<DS)!==e&&(this.data^=1<<DS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<MS)},set:function(e){!!(this.data&1<<MS)!==e&&(this.data^=1<<MS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<LS)},set:function(e){!!(this.data&1<<LS)!==e&&(this.data^=1<<LS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<BS)},set:function(e){!!(this.data&1<<BS)!==e&&(this.data^=1<<BS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<US)},set:function(e){!!(this.data&1<<US)!==e&&(this.data^=1<<US)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<NS)},set:function(e){!!(this.data&1<<NS)!==e&&(this.data^=1<<NS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ze.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),VTe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,GTe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,bt=function(t){wr(e,t);function e(r,n,i){var a=this,o=hh.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=Ve.FILTER_RESOLUTION,a.multisample=Ve.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Vl,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return GTe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return VTe},enumerable:!1,configurable:!0}),e}(Ts),WTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,zTe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,$B=new Xr,m_=function(){function t(e,r){this._texture=e,this.mapCoord=new Xr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&($B.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append($B));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),Bj=function(t){wr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||WTe,n||zTe,i)||this,a.maskSprite=o,a.maskMatrix=new Xr,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new m_(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(bt),FP=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new Rj;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==an.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case an.SCISSOR:this.renderer.scissor.push(n);break;case an.STENCIL:this.renderer.stencil.push(n);break;case an.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case an.COLOR:this.pushColorMask(n);break}n.type===an.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case an.SCISSOR:this.renderer.scissor.pop(r);break;case an.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case an.SPRITE:this.popSpriteMask(r);break;case an.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===an.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=an.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=an.SCISSOR:e.type=an.STENCIL:e.type=an.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new Bj]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Nj=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),VB=new Xr,GB=[],DP=function(t){wr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Ve.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,a=r.maskObject,o=this.renderer,s=o.renderTexture,c=a.getBounds(!0,(n=GB.pop())!==null&&n!==void 0?n:new Bt);this.roundFrameToPixels(c,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),i&&c.fit(i),r._scissorRectLocal=c}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?VB.copyFrom(o):VB.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&GB.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(Nj),MP=function(t){wr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Ve.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=i?i._colorMask:15;a!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(i._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(Nj),LP=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Xr,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),ru=new Bt,Jh=new Bt,BP=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.viewportFrame=new Bt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(ru.width=e.frame.width,ru.height=e.frame.height,r=ru),n||(Jh.x=e.frame.x,Jh.y=e.frame.y,Jh.width=r.width,Jh.height=r.height,n=Jh),o=a.framebuffer):(s=i.resolution,r||(ru.width=i.screen.width,ru.height=i.screen.height,r=ru),n||(n=ru,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function HTe(t,e,r,n,i){r.buffer.update(i)}var XTe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Uj={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function jj(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=Uj[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function $j(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function Vj(t,e){if(!t.autoManage)return{size:0,syncFunc:HTe};for(var r=$j(t.uniforms,e),n=jj(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Mu.length;h++){var d=Mu[h];if(d.codeUbo&&d.test(c.data,l)){o.push("offset = "+c.offset/4+";",Mu[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var p=Dj(c.data.type),v=Math.max(Uj[c.data.type]/16,1),y=p/v,m=(4-y%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var g=XTe[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+g+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var YTe=function(){function t(){}return t}(),Gj=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function qTe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=Mj(e,a.type),s={type:o,name:a.name,size:Dj(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function KTe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=Mj(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:Ij(c,a.size)}}return r}function Wj(t,e){var r=BB(t,t.VERTEX_SHADER,e.vertexSrc),n=BB(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||RTe(t,i,r,n),e.attributeData=qTe(i,t),e.uniformData=KTe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:Ij(c.type,c.size)}}var l=new Gj(i,s);return l}var ZTe=0,Dv={textureCount:0,uboCount:0},NP=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ZTe++}return t.prototype.systemCheck=function(){if(!NTe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Dv.textureCount=0,Dv.uboCount=0,this.syncUniformGroup(e.uniformGroup,Dv)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=MTe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Dv,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=Vj(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=Wj(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function QTe(t,e){return e===void 0&&(e=[]),e[ze.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.ADD]=[t.ONE,t.ONE],e[ze.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.NONE]=[0,0],e[ze.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ze.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ze.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ze.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ze.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ze.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ze.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ze.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ze.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ze.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ze.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var JTe=0,ePe=1,tPe=2,rPe=3,nPe=4,iPe=5,UP=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ze.NONE,this._blendEq=!1,this.map=[],this.map[JTe]=this.setBlend,this.map[ePe]=this.setOffset,this.map[tPe]=this.setCullFace,this.map[rPe]=this.setDepthTest,this.map[nPe]=this.setFrontFace,this.map[iPe]=this.setDepthMask,this.checks=[],this.defaultState=new Vl,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=QTe(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),jP=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ve.GC_MAX_IDLE,this.checkCountMax=Ve.GC_MAX_CHECK_COUNT,this.mode=Ve.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==pp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function aPe(t){var e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,y,m,g,x,S,b,w,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[lt.UNSIGNED_BYTE]=(r={},r[Ue.RGBA]=t.RGBA8,r[Ue.RGB]=t.RGB8,r[Ue.RG]=t.RG8,r[Ue.RED]=t.R8,r[Ue.RGBA_INTEGER]=t.RGBA8UI,r[Ue.RGB_INTEGER]=t.RGB8UI,r[Ue.RG_INTEGER]=t.RG8UI,r[Ue.RED_INTEGER]=t.R8UI,r[Ue.ALPHA]=t.ALPHA,r[Ue.LUMINANCE]=t.LUMINANCE,r[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[lt.BYTE]=(n={},n[Ue.RGBA]=t.RGBA8_SNORM,n[Ue.RGB]=t.RGB8_SNORM,n[Ue.RG]=t.RG8_SNORM,n[Ue.RED]=t.R8_SNORM,n[Ue.RGBA_INTEGER]=t.RGBA8I,n[Ue.RGB_INTEGER]=t.RGB8I,n[Ue.RG_INTEGER]=t.RG8I,n[Ue.RED_INTEGER]=t.R8I,n),e[lt.UNSIGNED_SHORT]=(i={},i[Ue.RGBA_INTEGER]=t.RGBA16UI,i[Ue.RGB_INTEGER]=t.RGB16UI,i[Ue.RG_INTEGER]=t.RG16UI,i[Ue.RED_INTEGER]=t.R16UI,i[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[lt.SHORT]=(a={},a[Ue.RGBA_INTEGER]=t.RGBA16I,a[Ue.RGB_INTEGER]=t.RGB16I,a[Ue.RG_INTEGER]=t.RG16I,a[Ue.RED_INTEGER]=t.R16I,a),e[lt.UNSIGNED_INT]=(o={},o[Ue.RGBA_INTEGER]=t.RGBA32UI,o[Ue.RGB_INTEGER]=t.RGB32UI,o[Ue.RG_INTEGER]=t.RG32UI,o[Ue.RED_INTEGER]=t.R32UI,o[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[lt.INT]=(s={},s[Ue.RGBA_INTEGER]=t.RGBA32I,s[Ue.RGB_INTEGER]=t.RGB32I,s[Ue.RG_INTEGER]=t.RG32I,s[Ue.RED_INTEGER]=t.R32I,s),e[lt.FLOAT]=(c={},c[Ue.RGBA]=t.RGBA32F,c[Ue.RGB]=t.RGB32F,c[Ue.RG]=t.RG32F,c[Ue.RED]=t.R32F,c[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[lt.HALF_FLOAT]=(l={},l[Ue.RGBA]=t.RGBA16F,l[Ue.RGB]=t.RGB16F,l[Ue.RG]=t.RG16F,l[Ue.RED]=t.R16F,l),e[lt.UNSIGNED_SHORT_5_6_5]=(u={},u[Ue.RGB]=t.RGB565,u),e[lt.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Ue.RGBA]=t.RGBA4,f),e[lt.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Ue.RGBA]=t.RGB5_A1,h),e[lt.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[Ue.RGBA]=t.RGB10_A2,d[Ue.RGBA_INTEGER]=t.RGB10_A2UI,d),e[lt.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[Ue.RGB]=t.R11F_G11F_B10F,p),e[lt.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[Ue.RGB]=t.RGB9_E5,v),e[lt.UNSIGNED_INT_24_8]=(y={},y[Ue.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,y),e[lt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[Ue.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),e):C=(g={},g[lt.UNSIGNED_BYTE]=(x={},x[Ue.RGBA]=t.RGBA,x[Ue.RGB]=t.RGB,x[Ue.ALPHA]=t.ALPHA,x[Ue.LUMINANCE]=t.LUMINANCE,x[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,x),g[lt.UNSIGNED_SHORT_5_6_5]=(S={},S[Ue.RGB]=t.RGB,S),g[lt.UNSIGNED_SHORT_4_4_4_4]=(b={},b[Ue.RGBA]=t.RGBA,b),g[lt.UNSIGNED_SHORT_5_5_5_1]=(w={},w[Ue.RGBA]=t.RGBA,w),g),C}var wg=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=lt.UNSIGNED_BYTE,this.internalFormat=Ue.RGBA,this.samplerType=0}return t}(),$P=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Xt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=aPe(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new wg(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new wg(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==dp.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new wg(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===lt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==dp.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&Du(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ui.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fo.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Ui.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===On.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===On.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===On.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===On.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),zj={__proto__:null,FilterSystem:PP,BatchSystem:OP,ContextSystem:RP,FramebufferSystem:IP,GeometrySystem:kP,MaskSystem:FP,ScissorSystem:DP,StencilSystem:MP,ProjectionSystem:LP,RenderTextureSystem:BP,ShaderSystem:NP,StateSystem:UP,TextureGCSystem:jP,TextureSystem:$P},jS=new Xr,Hj=function(t){wr(e,t);function e(r,n){r===void 0&&(r=Rf.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Ve.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Bt(0,0,n.width,n.height),i.view=n.view||Ve.ADAPTER.createCanvas(),i.resolution=n.resolution||Ve.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Bi("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(Bi("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=xTe(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Ml.create(Qw({width:a.width,height:a.height},s));return jS.tx=-a.x,jS.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:jS,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Rf.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=hP(r),In(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(lh),oPe=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),sPe=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new oPe(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),VP=function(t){wr(e,t);function e(r){var n=t.call(this,Rf.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new $n("destroy"),contextChange:new $n("contextChange"),reset:new $n("reset"),update:new $n("update"),postrender:new $n("postrender"),prerender:new $n("prerender"),resize:new $n("resize")},n.runners.contextChange.add(n),n.globalUniforms=new wl({projectionMatrix:new Xr},!0),n.addSystem(FP,"mask").addSystem(RP,"context").addSystem(UP,"state").addSystem(NP,"shader").addSystem($P,"texture").addSystem(sPe,"buffer").addSystem(kP,"geometry").addSystem(IP,"framebuffer").addSystem(DP,"scissor").addSystem(MP,"stencil").addSystem(LP,"projection").addSystem(jP,"textureGC").addSystem(PP,"filter").addSystem(BP,"renderTexture").addSystem(OP,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,fj(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(hj())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Rr.HIGH?this.multisample=Rr.HIGH:n>=Rr.MEDIUM?this.multisample=Rr.MEDIUM:n>=Rr.LOW?this.multisample=Rr.LOW:this.multisample=Rr.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Ml?(Bi("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Bi("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){Bi("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Jo.add({name:r,type:hr.RendererPlugin,ref:n})},e.__plugins={},e}(Hj);Jo.handleByMap(hr.RendererPlugin,VP.__plugins);function Xj(t){return VP.create(t)}var lPe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Yj=lPe,GP=uPe,cPe=function(){function t(e){Bi("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),Em=function(){function t(){this.texArray=null,this.blend=0,this.type=va.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),wm=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Cm=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),qj=function(t){wr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Vl.for2d(),n.size=Ve.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Ve.PREFER_ENV===Wo.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ve.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Lj(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Em);for(;n.length<a;)n.push(new wm);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++Xt._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,d),h=d,f=a[++u],++l),p._batchEnabled=l,p.touched=c,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var d=0;d<s.length;d++)s[d]=null;Xt._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,d=this._iIndex,p=u[f];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var y=o[v],m=y._texture.baseTexture,g=pP[m.alphaMode?1:0][y.blendMode];o[v]=null,n<v&&p.blend!==g&&(p.size=d-p.start,n=v,p=u[++f],p.texArray=r,p.start=d),this.packInterleavedGeometry(y,s,c,h,d),h+=y.vertexData.length/2*l,d+=y.indices.length,p.blend=g}n<i&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=d},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;Ve.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,d=l.start,p=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ve.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=yp(Math.ceil(r/8)),i=Hw(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Cm(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=yp(Math.ceil(r/12)),i=Hw(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,d=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?f_(r._tintRGB,p):r._tintRGB+(p*255<<24),y=0;y<h.length;y+=2)c[a++]=h[y],c[a++]=h[y+1],c[a++]=u[y],c[a++]=u[y+1],s[a++]=v,c[a++]=d;for(var y=0;y<f.length;y++)i[o++]=l+f[y]},e._drawCallPool=[],e._textureArrayPool=[],e}(a0),Kj=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=wl.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new hh(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Xr,default:this.defaultGroupCache[e]};return new Ts(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),WP=function(t){wr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new dn(null,r,!1),n._indexBuffer=new dn(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,lt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,lt.FLOAT).addAttribute("aColor",n._buffer,4,!0,lt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,lt.FLOAT).addIndex(n._indexBuffer),n}return e}(fh),WB=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,zB=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Zj=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:WB,fragment:zB,geometryClass:WP,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){wr(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new Kj(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(qj)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return WB},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return zB},enumerable:!1,configurable:!0}),t}(),zP=Zj.create();Object.assign(zP,{extension:{name:"batch",type:hr.RendererPlugin}});var Qj={},fPe=function(t){Object.defineProperty(Qj,t,{get:function(){return Bi("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Cj[t]}})};for(var HP in Cj)fPe(HP);var Jj={},hPe=function(t){Object.defineProperty(Jj,t,{get:function(){return Bi("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),zj[t]}})};for(var HP in zj)hPe(HP);var dPe="6.5.10";/*!
 * @pixi/accessibility - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var e$={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Jr.mixin(e$);var pPe=9,Mv=100,vPe=0,gPe=0,HB=2,XB=1,mPe=-1e3,yPe=-1e3,_Pe=2,t$=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ja.tablet||ja.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Mv+"px",r.style.height=Mv+"px",r.style.position="absolute",r.style.top=vPe+"px",r.style.left=gPe+"px",r.style.zIndex=HB.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=XB+"px",r.style.height=XB+"px",r.style.position="absolute",r.style.top=mPe+"px",r.style.left=yPe+"px",r.style.zIndex=_Pe.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(ja.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=c+"px",d.style.height=l+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,Du(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var y=v.hitArea,m=v.worldTransform;v.hitArea?(d.style.left=(m.tx+y.x*m.a)*f+"px",d.style.top=(m.ty+y.y*m.d)*h+"px",d.style.width=y.width*m.a*f+"px",d.style.height=y.height*m.d*h+"px"):(y=v.getBounds(),this.capHitArea(y),d.style.left=y.x*f+"px",d.style.top=y.y*h+"px",d.style.width=y.width*f+"px",d.style.height=y.height*h+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Mv+"px",r.style.height=Mv+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=HB.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===pPe&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[hr.RendererPlugin,hr.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eC=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Lt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tC=function(t,e){return tC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tC(t,e)};function xPe(t,e){tC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var r$=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Cg=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),bPe=function(){function t(){this._tempPoint=new Lt}return t.prototype.recursiveFindHit=function(e,r,n,i,a){var o;if(!r||!r.visible)return!1;var s=e.data.global;a=r.interactive||a;var c=!1,l=a,u=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?c=!0:(i=!1,u=!1)),l=!1;else if(r._mask&&i){var f=r._mask.isMaskData?r._mask.maskObject:r._mask;f&&!(!((o=f.containsPoint)===null||o===void 0)&&o.call(f,s))&&(i=!1)}if(u&&r.interactiveChildren&&r.children)for(var h=r.children,d=h.length-1;d>=0;d--){var p=h[d],v=this.recursiveFindHit(e,p,n,i,l);if(v){if(!p.parent)continue;l=!1,v&&(e.target&&(i=!1),c=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(c=!0),r.interactive&&(c&&!e.target&&(e.target=r),n&&n(e,r,!!c))),c},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),n$={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Jr.mixin(n$);var Lv=1,Bv={target:null,data:{global:null}},i$=function(t){xPe(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new eC,i.mouse.identifier=Lv,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Lv]=i.mouse,i.interactionDataPool=[],i.eventData=new r$,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new bPe,i._tempDisplayObject=new yP,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Bv.target=null,Bv.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Bv,n,null,!0),Bv.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Gr.system.add(this.tickerUpdate,this,vo.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Gr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,d=u.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,h,d)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new Cg(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var a=this.normalizeToPointerData(r),o=a.length,s=r.target;r.composedPath&&r.composedPath().length>0&&(s=r.composedPath()[0]);for(var c=s!==this.interactionDOMElement?"outside":"",l=0;l<o;l++){var u=a[l],f=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!c),this.emit(n?"pointercancel":"pointerup"+c,h),u.pointerType==="mouse"||u.pointerType==="pen"){var d=u.button===2;this.emit(d?"rightup"+c:"mouseup"+c,h)}else u.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+c,h),this.releaseInteractionDataForPointerId(u.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=Cg.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):p&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new Cg(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Lv||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new eC,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Lv),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[hr.RendererPlugin,hr.CanvasRendererPlugin]},e}(lh);/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SPe=new Bt,EPe=4,a$=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this._rawPixels(e,r),i=n.pixels,a=n.width,o=n.height,s=n.flipY,c=new Yw(a,o,1),l=c.context.getImageData(0,0,a,o);if(t.arrayPostDivide(i,l.data),c.context.putImageData(l,0,0),s){var u=new Yw(c.width,c.height,1);u.context.scale(1,-1),u.context.drawImage(c.canvas,0,-o),c.destroy(),c=u}return c.canvas},t.prototype.pixels=function(e,r){var n=this._rawPixels(e,r).pixels;return t.arrayPostDivide(n,n),n},t.prototype._rawPixels=function(e,r){var n=this.renderer,i,a=!1,o,s=!1;if(e)if(e instanceof Ml)o=e;else{var c=n.context.webGLVersion>=2?n.multisample:Rr.NONE;if(o=this.renderer.generateTexture(e,{multisample:c}),c!==Rr.NONE){var l=Ml.create({width:o.width,height:o.height});n.framebuffer.bind(o.framebuffer),n.framebuffer.blit(l.framebuffer),n.framebuffer.bind(null),o.destroy(!0),o=l}s=!0}o?(i=o.baseTexture.resolution,r=r??o.frame,a=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=SPe,r.width=n.width,r.height=n.height),a=!0,n.renderTexture.bind(null));var u=Math.round(r.width*i),f=Math.round(r.height*i),h=new Uint8Array(EPe*u*f),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),u,f,d.RGBA,d.UNSIGNED_BYTE,h),s&&o.destroy(!0),{pixels:h,width:u,height:f,flipY:a}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:hr.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nv=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function YB(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var xs=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Nv))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return YB(this,new Nv(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return YB(this,new Nv(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Nv))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function o$(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var $S,Uv=null,wPe=0,qB=200,CPe=204,APe=1223,TPe=2;function KB(){}function ZB(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function VS(t){return t.toString().replace("object ","")}var vr=function(){function t(e,r,n){if(this._dequeue=KB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=KB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new xs,this.onProgress=new xs,this.onComplete=new xs,this.onAfterMiddleware=new xs}return t.setExtensionLoadType=function(e,r){ZB(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){ZB(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof $S>"u"&&($S=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),$S&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(VS(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(VS(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(VS(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?qB:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===wPe&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=qB:n===APe&&(n=CPe);var i=n/100|0;if(i===TPe)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Uv||(Uv=document.createElement("a")),Uv.href=e;var n=o$(Uv.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(vr||(vr={}));function nu(){}function PPe(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var OPe=function(){function t(e,r){this.data=e,this.callback=r}return t}(),GS=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=nu,this.unsaturated=nu,this.empty=nu,this.drain=nu,this.error=nu,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new OPe(i,typeof o=="function"?o:nu);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,PPe(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=nu,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),WS=100,RPe=/(#[\w-]+)?$/,Xu=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=GS.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new xs,this.onError=new xs,this.onLoad=new xs,this.onStart=new xs,this.onComplete=new xs;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new vr(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(Bi("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=WS/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=o$(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=RPe.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,GS.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=WS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),GS.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(WS,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return Bi("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Jo.add({type:hr.Loader,ref:e}),t},t._plugins=[],t}();Jo.handleByList(hr.Loader,Xu._plugins);Xu.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var s$=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Xu.shared:new Xu},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=hr.Application,t}(),l$=function(){function t(){}return t.add=function(){vr.setExtensionLoadType("svg",vr.LOAD_TYPE.XHR),vr.setExtensionXhrType("svg",vr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===vr.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;pt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t.extension=hr.Loader,t}(),IPe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kPe(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=IPe.charAt(i[a])}return e}function FPe(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===vr.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+kPe(t.xhr.responseText),t.type=vr.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=vr.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var DPe=function(){function t(){}return t.extension=hr.Loader,t.use=FPe,t}();Jo.add(l$,DPe);/*!
 * @pixi/compressed-textures - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fr,Ct;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Ct||(Ct={}));var Ep=(fr={},fr[Ct.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,fr[Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,fr[Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,fr[Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,fr[Ct.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,fr[Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,fr[Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,fr[Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,fr[Ct.COMPRESSED_R11_EAC]=.5,fr[Ct.COMPRESSED_SIGNED_R11_EAC]=.5,fr[Ct.COMPRESSED_RG11_EAC]=1,fr[Ct.COMPRESSED_SIGNED_RG11_EAC]=1,fr[Ct.COMPRESSED_RGB8_ETC2]=.5,fr[Ct.COMPRESSED_RGBA8_ETC2_EAC]=1,fr[Ct.COMPRESSED_SRGB8_ETC2]=.5,fr[Ct.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,fr[Ct.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,fr[Ct.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,fr[Ct.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,fr[Ct.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,fr[Ct.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,fr[Ct.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,fr[Ct.COMPRESSED_RGB_ETC1_WEBGL]=.5,fr[Ct.COMPRESSED_RGB_ATC_WEBGL]=.5,fr[Ct.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,fr[Ct.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,fr[Ct.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,fr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rC=function(t,e){return rC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rC(t,e)};function u$(t,e){rC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function MPe(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function LPe(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var c$=function(t){u$(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Cm(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return MPe(this,void 0,Promise,function(){var r,n,i;return LPe(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Cm(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(oc),Am=function(t){u$(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,d=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*Ep[n],y=0;y<i;y++)l[y]={levelID:y,levelWidth:i>1?f:d,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(r.buffer,u,v)},u+=v,f=f>>1||1,h=h>>1||1,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*Ep[n];return l},e}(c$),f$=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===vr.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=Cu.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,p,d,function(y){if(y.error){r(y.error);return}var m=y.texture,g=m===void 0?null:m,x=y.textures,S=x===void 0?{}:x;Object.assign(e,{texture:g,textures:S}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=Ve.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=hr.Loader,t}();function h$(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new pt(new Xt(a,Object.assign({mipmap:Ui.OFF,alphaMode:ra.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);Xt.addToCache(s,c),pt.addToCache(a,c),o===0&&(Xt.addToCache(s,t),pt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var ed,Ja,zS=4,jv=124,BPe=32,QB=20,NPe=542327876,$v={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},UPe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Vv={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},no;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(no||(no={}));var nC;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(nC||(nC={}));var jPe=1,$Pe=2,VPe=4,GPe=64,WPe=512,zPe=131072,HPe=827611204,XPe=861165636,YPe=894720068,qPe=808540228,KPe=4,ZPe=(ed={},ed[HPe]=Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,ed[XPe]=Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,ed[YPe]=Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,ed),QPe=(Ja={},Ja[no.DXGI_FORMAT_BC1_TYPELESS]=Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ja[no.DXGI_FORMAT_BC1_UNORM]=Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ja[no.DXGI_FORMAT_BC2_TYPELESS]=Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ja[no.DXGI_FORMAT_BC2_UNORM]=Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ja[no.DXGI_FORMAT_BC3_TYPELESS]=Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ja[no.DXGI_FORMAT_BC3_UNORM]=Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ja[no.DXGI_FORMAT_BC1_UNORM_SRGB]=Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ja[no.DXGI_FORMAT_BC2_UNORM_SRGB]=Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ja[no.DXGI_FORMAT_BC3_UNORM_SRGB]=Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ja);function d$(t){var e=new Uint32Array(t),r=e[0];if(r!==NPe)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,jv/Uint32Array.BYTES_PER_ELEMENT),i=n[$v.HEIGHT],a=n[$v.WIDTH],o=n[$v.MIPMAP_COUNT],s=new Uint32Array(t,$v.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,BPe/Uint32Array.BYTES_PER_ELEMENT),c=s[jPe];if(c&VPe){var l=s[UPe.FOURCC];if(l!==qPe){var u=ZPe[l],f=zS+jv,h=new Uint8Array(t,f),d=new Am(h,{format:u,width:a,height:i,levels:o});return[d]}var p=zS+jv,v=new Uint32Array(e.buffer,p,QB/Uint32Array.BYTES_PER_ELEMENT),y=v[Vv.DXGI_FORMAT],m=v[Vv.RESOURCE_DIMENSION],g=v[Vv.MISC_FLAG],x=v[Vv.ARRAY_SIZE],S=QPe[y];if(S===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+y);if(g===KPe)throw new Error("DDSParser does not support cubemap textures");if(m===nC.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var b=new Array,w=zS+jv+QB;if(x===1)b.push(new Uint8Array(t,w));else{for(var C=Ep[S],A=0,P=a,O=i,I=0;I<o;I++){var R=Math.max(1,P+3&-4),k=Math.max(1,O+3&-4),D=R*k*C;A+=D,P=P>>>1,O=O>>>1}for(var L=w,I=0;I<x;I++)b.push(new Uint8Array(t,L,A)),L+=A}return b.map(function(U){return new Am(U,{format:S,width:a,height:i,levels:o})})}throw c&GPe?new Error("DDSParser does not support uncompressed texture data."):c&WPe?new Error("DDSParser does not supported YUV uncompressed texture data."):c&zPe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&$Pe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var zs,ds,td,JB=[171,75,84,88,32,49,49,187,13,10,26,10],JPe=67305985,eo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},iC=64,aC=(zs={},zs[lt.UNSIGNED_BYTE]=1,zs[lt.UNSIGNED_SHORT]=2,zs[lt.INT]=4,zs[lt.UNSIGNED_INT]=4,zs[lt.FLOAT]=4,zs[lt.HALF_FLOAT]=8,zs),p$=(ds={},ds[Ue.RGBA]=4,ds[Ue.RGB]=3,ds[Ue.RG]=2,ds[Ue.RED]=1,ds[Ue.LUMINANCE]=1,ds[Ue.LUMINANCE_ALPHA]=2,ds[Ue.ALPHA]=1,ds),v$=(td={},td[lt.UNSIGNED_SHORT_4_4_4_4]=2,td[lt.UNSIGNED_SHORT_5_5_5_1]=2,td[lt.UNSIGNED_SHORT_5_6_5]=2,td);function g$(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!eOe(t,n))return null;var i=n.getUint32(eo.ENDIANNESS,!0)===JPe,a=n.getUint32(eo.GL_TYPE,i),o=n.getUint32(eo.GL_FORMAT,i),s=n.getUint32(eo.GL_INTERNAL_FORMAT,i),c=n.getUint32(eo.PIXEL_WIDTH,i),l=n.getUint32(eo.PIXEL_HEIGHT,i)||1,u=n.getUint32(eo.PIXEL_DEPTH,i)||1,f=n.getUint32(eo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(eo.NUMBER_OF_FACES,i),d=n.getUint32(eo.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(eo.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,y=4,m=c+3&-4,g=l+3&-4,x=new Array(f),S=c*l;a===0&&(S=m*g);var b;if(a!==0?aC[a]?b=aC[a]*p$[o]:b=v$[a]:b=Ep[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var w=r?rOe(n,p,i):null,C=S*b,A=C,P=c,O=l,I=m,R=g,k=iC+p,D=0;D<d;D++){for(var L=n.getUint32(k,i),U=k+4,W=0;W<f;W++){var te=x[W];te||(te=x[W]=new Array(d)),te[D]={levelID:D,levelWidth:d>1||a!==0?P:I,levelHeight:d>1||a!==0?O:R,levelBuffer:new Uint8Array(e,U,A)},U+=A}k+=L+4,k=k%4!==0?k+4-k%4:k,P=P>>1||1,O=O>>1||1,I=P+v-1&~(v-1),R=O+y-1&~(y-1),A=I*R*b}return a!==0?{uncompressed:x.map(function(J){var z=J[0].levelBuffer,M=!1;return a===lt.FLOAT?z=new Float32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4):a===lt.UNSIGNED_INT?(M=!0,z=new Uint32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)):a===lt.INT&&(M=!0,z=new Int32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)),{resource:new oc(z,{width:J[0].levelWidth,height:J[0].levelHeight}),type:a,format:M?tOe(o):o}}),kvData:w}:{compressed:x.map(function(J){return new Am(null,{format:s,width:c,height:l,levels:d,levelBuffers:J})}),kvData:w}}function eOe(t,e){for(var r=0;r<JB.length;r++)if(e.getUint8(r)!==JB[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function tOe(t){switch(t){case Ue.RGBA:return Ue.RGBA_INTEGER;case Ue.RGB:return Ue.RGB_INTEGER;case Ue.RG:return Ue.RG_INTEGER;case Ue.RED:return Ue.RED_INTEGER;default:return t}}function rOe(t,e,r){for(var n=new Map,i=0;i<e;){var a=t.getUint32(iC+i,r),o=iC+i+4,s=3-(a+3)%4;if(a===0||a>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var c=0;c<a&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),u=new DataView(t.buffer,o+c+1,a-c-1);n.set(l,u),i+=4+a+s}return n}vr.setExtensionXhrType("dds",vr.XHR_RESPONSE_TYPE.BUFFER);var m$=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,h$(e.name||e.url,d$(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=hr.Loader,t}();vr.setExtensionXhrType("ktx",vr.XHR_RESPONSE_TYPE.BUFFER);var y$=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=g$(n,e.data,this.loadKeyValueData),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=h$(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var d=new pt(new Xt(f.resource,{mipmap:Ui.OFF,alphaMode:ra.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);s&&(d.baseTexture.ktxKeyValueData=s),Xt.addToCache(d.baseTexture,p),pt.addToCache(d,p),h===0&&(u[n]=d,Xt.addToCache(d.baseTexture,n),pt.addToCache(d,n)),u[p]=d}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.extension=hr.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oC=function(t,e){return oC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oC(t,e)};function _$(t,e){oC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nOe=function(t){_$(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ze.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,In(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Rn),e3=function(){function t(e,r,n){this.geometry=new fh,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||lt.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new dn(pj(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new dn(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new dn(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===lt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===lt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===lt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===lt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),iOe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,aOe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,x$=function(t){_$(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Xr,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:lt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ts.from(aOe,iOe,{}),n.state=Vl.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=vP(r.blendMode,u),o.state.set(this.state);var f=o.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=dj(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var d=!1,p=0,v=0;p<s;p+=a,v+=1){var y=s-p;y>a&&(y=a),v>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[v];m.uploadDynamic(n,p,y);var g=r._bufferUpdateIDs[v]||0;d=d||m._updateID<g,d&&(m._updateID=r._updateID,m.uploadStatic(n,p,y)),o.geometry.bind(m.geometry),f.drawElements(f.TRIANGLES,y*6,f.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new e3(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new e3(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var d=r[n+h],p=d._texture,v=d.scale.x,y=d.scale.y,m=p.trim,g=p.orig;m?(l=m.x-d.anchor.x*g.width,c=l+m.width,f=m.y-d.anchor.y*g.height,u=f+m.height):(c=g.width*(1-d.anchor.x),l=g.width*-d.anchor.x,u=g.height*(1-d.anchor.y),f=g.height*-d.anchor.y),a[s]=l*v,a[s+1]=f*y,a[s+o]=c*v,a[s+o+1]=f*y,a[s+o*2]=c*v,a[s+o*2+1]=u*y,a[s+o*3]=l*v,a[s+o*3+1]=u*y,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?f_(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:hr.RendererPlugin},e}(a0);/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mo;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Mo||(Mo={}));var Es;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Es||(Es={}));var Df={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},XP=function(){function t(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sC=function(t,e){return sC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sC(t,e)};function YP(t,e){sC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function t3(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,d=i-o-1,p=o,v=o+1;r=[t[p],t[h]],t[h]=r[0],t[p]=r[1],n=[t[v],t[d]],t[d]=n[0],t[v]=n[1]}}}var qP={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){t3(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];t3(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=iP(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},wp={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===Tn.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===Tn.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var d=Math.ceil(2.3*Math.sqrt(o+s)),p=d*8+(i?4:0)+(a?4:0);if(e.length=p,p!==0){if(d===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,y=d*4+(i?2:0)+2,m=y,g=p;{var x=i+o,S=a,b=r+x,w=r-x,C=n+S;if(e[v++]=b,e[v++]=C,e[--y]=C,e[--y]=w,a){var A=n-S;e[m++]=w,e[m++]=A,e[--g]=A,e[--g]=b}}for(var P=1;P<d;P++){var O=Math.PI/2*(P/d),x=i+Math.cos(O)*o,S=a+Math.sin(O)*s,b=r+x,w=r-x,C=n+S,A=n-S;e[v++]=b,e[v++]=C,e[--y]=C,e[--y]=w,e[m++]=w,e[m++]=A,e[--g]=A,e[--g]=b}{var x=i,S=a+s,b=r+x,w=r-x,C=n+S,A=n-S;e[v++]=b,e[v++]=C,e[--g]=A,e[--g]=b,i&&(e[v++]=w,e[v++]=C,e[--g]=A,e[--g]=w)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var a=n.length/2,o=a,s,c;if(t.type!==Tn.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}}},b$={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Mc(t,e,r){var n=e-t;return t+n*r}function Gv(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,d=0,p=0,v=0,y=0;v<=s;++v)y=v/s,l=Mc(t,r,y),u=Mc(e,n,y),f=Mc(r,i,y),h=Mc(n,a,y),d=Mc(l,f,y),p=Mc(u,h,y),!(v===0&&c[c.length-2]===d&&c[c.length-1]===p)&&c.push(d,p);return c}var S$={build:function(t){if(Mf.nextRoundedRectBehavior){wp.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(Gv(n,i+s,n,i,n+s,i,r),Gv(n+a-s,i,n+a,i,n+a,i+s,r),Gv(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),Gv(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(Mf.nextRoundedRectBehavior){wp.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=iP(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function r3(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,d;o?(h=n,d=-r):(h=-n,d=r);var p=c+h,v=l+d,y=u+h,m=f+d;return s.push(p,v),s.push(y,m),2}function iu(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,d=f-u,p=Math.abs(d),v=Math.sqrt(c*c+l*l),y=(15*p*Math.sqrt(v)/Math.PI>>0)+1,m=d/y;if(h+=m,s){o.push(t,e),o.push(r,n);for(var g=1,x=h;g<y;g++,x+=m)o.push(t,e),o.push(t+Math.sin(x)*v,e+Math.cos(x)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var g=1,x=h;g<y;g++,x+=m)o.push(t+Math.sin(x)*v,e+Math.cos(x)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return y*2}function oOe(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new Lt(n[0],n[1]),s=new Lt(n[n.length-2],n[n.length-1]),c=r.type!==Tn.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,d=n.length/2,p=n.length,v=h.length/2,y=a.width/2,m=y*y,g=a.miterLimit*a.miterLimit,x=n[0],S=n[1],b=n[2],w=n[3],C=0,A=0,P=-(S-w),O=x-b,I=0,R=0,k=Math.sqrt(P*P+O*O);P/=k,O/=k,P*=y,O*=y;var D=a.alignment,L=(1-D)*2,U=D*2;c||(a.cap===Es.ROUND?p+=iu(x-P*(L-U)*.5,S-O*(L-U)*.5,x-P*L,S-O*L,x+P*U,S+O*U,h,!0)+2:a.cap===Es.SQUARE&&(p+=r3(x,S,P,O,L,U,!0,h))),h.push(x-P*L,S-O*L),h.push(x+P*U,S+O*U);for(var W=1;W<d-1;++W){x=n[(W-1)*2],S=n[(W-1)*2+1],b=n[W*2],w=n[W*2+1],C=n[(W+1)*2],A=n[(W+1)*2+1],P=-(S-w),O=x-b,k=Math.sqrt(P*P+O*O),P/=k,O/=k,P*=y,O*=y,I=-(w-A),R=b-C,k=Math.sqrt(I*I+R*R),I/=k,R/=k,I*=y,R*=y;var te=b-x,J=S-w,z=b-C,M=A-w,V=te*z+J*M,$=J*z-M*te,j=$<0;if(Math.abs($)<.001*Math.abs(V)){h.push(b-P*L,w-O*L),h.push(b+P*U,w+O*U),V>=0&&(a.join===Mo.ROUND?p+=iu(b,w,b-P*L,w-O*L,b-I*L,w-R*L,h,!1)+4:p+=2,h.push(b-I*U,w-R*U),h.push(b+I*L,w+R*L));continue}var Q=(-P+x)*(-O+w)-(-P+b)*(-O+S),ie=(-I+C)*(-R+w)-(-I+b)*(-R+A),de=(te*ie-z*Q)/$,ue=(M*Q-J*ie)/$,be=(de-b)*(de-b)+(ue-w)*(ue-w),Pe=b+(de-b)*L,ye=w+(ue-w)*L,we=b-(de-b)*U,_e=w-(ue-w)*U,xe=Math.min(te*te+J*J,z*z+M*M),je=j?L:U,Xe=xe+je*je*m,Fe=be<=Xe;Fe?a.join===Mo.BEVEL||be/m>g?(j?(h.push(Pe,ye),h.push(b+P*U,w+O*U),h.push(Pe,ye),h.push(b+I*U,w+R*U)):(h.push(b-P*L,w-O*L),h.push(we,_e),h.push(b-I*L,w-R*L),h.push(we,_e)),p+=2):a.join===Mo.ROUND?j?(h.push(Pe,ye),h.push(b+P*U,w+O*U),p+=iu(b,w,b+P*U,w+O*U,b+I*U,w+R*U,h,!0)+4,h.push(Pe,ye),h.push(b+I*U,w+R*U)):(h.push(b-P*L,w-O*L),h.push(we,_e),p+=iu(b,w,b-P*L,w-O*L,b-I*L,w-R*L,h,!1)+4,h.push(b-I*L,w-R*L),h.push(we,_e)):(h.push(Pe,ye),h.push(we,_e)):(h.push(b-P*L,w-O*L),h.push(b+P*U,w+O*U),a.join===Mo.ROUND?j?p+=iu(b,w,b+P*U,w+O*U,b+I*U,w+R*U,h,!0)+2:p+=iu(b,w,b-P*L,w-O*L,b-I*L,w-R*L,h,!1)+2:a.join===Mo.MITER&&be/m<=g&&(j?(h.push(we,_e),h.push(we,_e)):(h.push(Pe,ye),h.push(Pe,ye)),p+=2),h.push(b-I*L,w-R*L),h.push(b+I*U,w+R*U),p+=2)}x=n[(d-2)*2],S=n[(d-2)*2+1],b=n[(d-1)*2],w=n[(d-1)*2+1],P=-(S-w),O=x-b,k=Math.sqrt(P*P+O*O),P/=k,O/=k,P*=y,O*=y,h.push(b-P*L,w-O*L),h.push(b+P*U,w+O*U),c||(a.cap===Es.ROUND?p+=iu(b-P*(L-U)*.5,w-O*(L-U)*.5,b-P*L,w-O*L,b+P*U,w+O*U,h,!1)+2:a.cap===Es.SQUARE&&(p+=r3(b,w,P,O,L,U,!1,h)));for(var at=e.indices,vt=Df.epsilon*Df.epsilon,W=v;W<p+v-2;++W)x=h[W*2],S=h[W*2+1],b=h[(W+1)*2],w=h[(W+1)*2+1],C=h[(W+2)*2],A=h[(W+2)*2+1],!(Math.abs(x*(w-A)+b*(A-S)+C*(S-w))<vt)&&at.push(W,W+1,W+2)}}function sOe(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==Tn.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function lC(t,e){t.lineStyle.native?sOe(t,e):oOe(t,e)}var uC=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,d=Math.abs(l*h-u*f);if(d<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var p=l*l+u*u,v=f*f+h*h,y=l*f+u*h,m=a*Math.sqrt(p)/d,g=a*Math.sqrt(v)/d,x=m*y/p,S=g*y/v,b=m*h+g*u,w=m*f+g*l,C=u*(g+x),A=l*(g+x),P=h*(m+S),O=f*(m+S),I=Math.atan2(A-w,C-b),R=Math.atan2(O-w,P-b);return{cx:b+e,cy:w+r,radius:a,startAngle:I,endAngle:R,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=Df._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/xp)*40),h=u/(f*2),d=h*2,p=Math.cos(h),v=Math.sin(h),y=f-1,m=y%1/y,g=0;g<=y;++g){var x=g+m*g,S=h+o+d*x,b=Math.cos(S),w=-Math.sin(S);l.push((p*b+v*w)*a+n,(p*-w+v*b)*a+i)}},t}(),E$=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,d=0,p=0,v=0,y=0,m=0,g=0,x=0,S=0,b=e,w=r,C=1;C<=l;++C)f=C/l,h=f*f,d=h*f,p=1-f,v=p*p,y=v*p,m=y*e+3*v*f*n+3*p*h*a+d*s,g=y*r+3*v*f*i+3*p*h*o+d*c,x=b-m,S=w-g,b=m,w=g,u+=Math.sqrt(x*x+S*S);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=Df._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,d=0,p=0,v=0;s.push(c,l);for(var y=1,m=0;y<=u;++y)m=y/u,f=1-m,h=f*f,d=h*f,p=m*m,v=p*m,s.push(d*c+3*h*m*e+3*f*p*n+v*a,d*l+3*h*m*r+3*f*p*i+v*o)},t}(),w$=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),d=l*l+u*u,p=2*Math.sqrt(f+h+d),v=Math.sqrt(f),y=2*f*v,m=2*Math.sqrt(d),g=h/v;return(y*p+v*h*(p-m)+(4*d*f-h*h)*Math.log((2*v+g+p)/(g+m)))/(4*y)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=Df._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),C$=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),au,Ag=(au={},au[Tn.POLY]=qP,au[Tn.CIRC]=wp,au[Tn.ELIP]=wp,au[Tn.RECT]=b$,au[Tn.RREC]=S$,au),cC=[],gd=[],fC=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Lc=new Lt,A$=function(t){YP(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new bp,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),gd.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),cC.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new fC(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new fC(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,Lc):Lc.copyFrom(r),a.shape.contains(Lc.x,Lc.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(Lc.x,Lc.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,a=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],a=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var s=n[o],c=s.fillStyle,l=s.lineStyle,u=Ag[s.type];u.build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(c.visible||l.visible)&&this.processHoles(s.holes);for(var f=0;f<2;f++){var h=f===0?c:l;if(h.visible){var d=h.texture.baseTexture,p=this.indices.length,v=this.points.length/2;d.wrapMode=fo.REPEAT,f===0?this.processFill(s):this.processLine(s);var y=this.points.length/2-v;y!==0&&(i&&!this._compareStyles(a,h)&&(i.end(p,v),i=null),i||(i=cC.pop()||new C$,i.begin(h,p,v),this.batches.push(i),a=h),this.addUvs(this.points,r,h.texture,v,y,h.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(i&&i.end(m,g),this.batches.length===0){this.batchable=!0;return}var x=g>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&x===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Xt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),gd.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=gd.pop();o||(o=new Em,o.texArray=new wm),o.texArray.count=0,o.start=0,o.size=0,o.type=va.TRIANGLES;var s=0,c=null,l=0,u=!1,f=va.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,y=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,f=u?va.LINES:va.TRIANGLES,c=null,s=p,r++),c!==y&&(c=y,y._batchEnabled!==r&&(s===p&&(r++,s=0,o.size>0&&(o=gd.pop(),o||(o=new Em,o.texArray=new wm),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),y.touched=1,y._batchEnabled=r,y._batchLocation=s,y.wrapMode=fo.REPEAT,o.texArray.elements[o.texArray.count++]=y,s++)),o.size+=d.size,h+=d.size,l=y._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,l,d.attribSize,d.attribStart)}Xt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)qP.triangulate(r,this);else{var n=Ag[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){lC(r,this);for(var n=0;n<r.holes.length;n++)lC(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=Ag[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=f_(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var d=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=d}c++,n.push(f/u.width,h/u.height)}var p=i.baseTexture;(u.width<p.width||u.height<p.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,d=l.y/l.height,p=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),y=i+2;y<c;y+=2)p=Math.min(p,Math.floor(r[y]+s)),v=Math.min(v,Math.floor(r[y+1]+s));h-=p,d-=v;for(var y=i;y<c;y+=2)r[y]=(r[y]+h)*u,r[y+1]=(r[y+1]+d)*f},e.BATCHABLE_SIZE=100,e}(WP),T$=function(t){YP(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Es.BUTT,r.join=Mo.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(XP),lOe=new Float32Array(3),HS={},Mf=function(t){YP(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new XP,n._lineStyle=new T$,n._matrix=null,n._holeMode=!1,n.state=Vl.for2d(),n._geometry=r||new A$,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ze.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:pt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Es.BUTT,join:Mo.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new gf,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new gf,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),w$.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),E$.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=uC.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,d=c.endAngle,p=c.anticlockwise;this.arc(l,u,f,h,d,p)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=xp:s&&a<=o&&(a+=xp);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var d=Math.abs(h[h.length-2]-l),p=Math.abs(h[h.length-1]-u);d<f&&p<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return uC.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:pt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:pt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new Bt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new Sj(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new xj(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new bj(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new gf(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Tn.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:In(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!HS[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Xr,default:wl.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;HS[i]=new Ts(l,c)}n=HS[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=In(this.tint,lOe),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,d=0;d<u.length;d+=2){var p=u[d],v=u[d+1];f[h++]=i*p+o*v+c,f[h++]=s*v+a*p+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Lt,e}(Rn),uOe={buildPoly:qP,buildCircle:wp,buildRectangle:b$,buildRoundedRectangle:S$,buildLine:lC,ArcUtils:uC,BezierUtils:E$,QuadraticUtils:w$,BatchPart:C$,FILL_COMMANDS:Ag,BATCH_POOL:cC,DRAW_CALL_POOL:gd};/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hC=function(t,e){return hC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hC(t,e)};function cOe(t,e){hC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rd=new Lt,fOe=new Uint16Array([0,1,2,0,2,3]),pa=function(t){cOe(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new cl(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ze.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||pt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=fOe,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ve.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Au(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Au(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,d=this._anchor,p=0,v=0,y=0,m=0;if(f?(v=f.x-d._x*h.width,p=v+f.width,m=f.y-d._y*h.height,y=m+f.height):(v=-d._x*h.width,p=v+h.width,m=-d._y*h.height,y=m+h.height),u[0]=i*v+o*m+c,u[1]=s*m+a*v+l,u[2]=i*p+o*m+c,u[3]=s*m+a*p+l,u[4]=i*p+o*y+c,u[5]=s*y+a*p+l,u[6]=i*v+o*y+c,u[7]=s*y+a*v+l,this._roundPixels)for(var g=Ve.RESOLUTION,x=0;x<u.length;++x)u[x]=Math.round((u[x]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=-a._x*i.width,p=d+i.width,v=-a._y*i.height,y=v+i.height;n[0]=s*d+l*v+f,n[1]=u*v+c*d+h,n[2]=s*p+l*v+f,n[3]=u*v+c*p+h,n[4]=s*p+l*y+f,n[5]=u*y+c*p+h,n[6]=s*d+l*y+f,n[7]=u*y+c*d+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new bp),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Bt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,rd);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return rd.x>=a&&rd.x<a+n&&(o=-i*this.anchor.y,rd.y>=o&&rd.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof pt?r:pt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Au(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Au(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||pt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Rn);/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dC=function(t,e){return dC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dC(t,e)};function hOe(t,e){dC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lf;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Lf||(Lf={}));var XS={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Lf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dOe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Yu=function(){function t(e){this.styleID=0,this.reset(),qS(this,e,e)}return t.prototype.clone=function(){var e={};return qS(e,this,XS),new t(e)},t.prototype.reset=function(){qS(this,XS,XS)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=YS(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=YS(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){pOe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=YS(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&dOe.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function n3(t){return typeof t=="number"?hP(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function YS(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=n3(t[e]);return t}else return n3(t)}function pOe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function qS(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Wv={willReadFrequently:!0},mo=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d",Wv);s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=d,f=Math.max(f,d)}var p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,y=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new t(e,r,p,y,l,u,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",Wv),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),d=!f,p=r.wordWrapWidth+l,v=t.tokenize(e),y=0;y<v.length;y++){var m=v[y];if(t.isNewline(m)){if(!h){s+=t.addLine(o),d=!f,o="",a=0;continue}m=" "}if(f){var g=t.isBreakingSpace(m),x=t.isBreakingSpace(o[o.length-1]);if(g&&x)continue}var S=t.getFromCache(m,l,c,i);if(S>p)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(m,r.breakWords))for(var b=t.wordWrapSplit(m),w=0;w<b.length;w++){for(var C=b[w],A=1;b[w+A];){var P=b[w+A],O=C[C.length-1];if(!t.canBreakChars(O,P,m,w,r.breakWords))C+=P;else break;A++}w+=C.length-1;var I=t.getFromCache(C,l,c,i);I+a>p&&(s+=t.addLine(o),d=!1,o="",a=0),o+=C,a+=I}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var R=y===v.length-1;s+=t.addLine(m,!R),d=!1,o="",a=0}else S+a>p&&(d=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(m)||d)&&(o+=m,a+=S)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(r.ascent=s-h,d=u-f,p=!1,h=c;h>s;--h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",Wv);if(n&&n.measureText)return t.__canvas=r,r;e=Ve.ADAPTER.createCanvas()}catch{e=Ve.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",Wv)),t.__context},enumerable:!1,configurable:!0}),t}();mo._fonts={};mo.METRICS_STRING="|q";mo.BASELINE_SYMBOL="M";mo.BASELINE_MULTIPLIER=1.4;mo.HEIGHT_MULTIPLIER=2;mo._newlines=[10,13];mo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var vOe={texture:!0,children:!1,baseTexture:!0},KP=function(t){hOe(e,t);function e(r,n,i){var a=this,o=!1;i||(i=Ve.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var s=pt.from(i);return s.orig=new Bt,s.trim=new Bt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=i.getContext("2d",{willReadFrequently:!0}),a._resolution=Ve.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=mo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,y=0;y<v;++y){var m=n.dropShadow&&y===0,g=m?Math.ceil(Math.max(1,s)+n.padding*2):0,x=g*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var S=n.dropShadowColor,b=In(typeof S=="number"?S:dP(S)),w=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=w,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+x}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var A=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(A=0);for(var P=0;P<c.length;P++)d=n.strokeThickness/2,p=n.strokeThickness/2+P*l+h.ascent+A,n.align==="right"?d+=f-u[P]:n.align==="center"&&(d+=(f-u[P])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[P],d+n.padding,p+n.padding-g,!0),n.fill&&this.drawLetterSpacing(c[P],d+n.padding,p+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,d=0;d<u.length;++d){var p=u[d];a?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);for(var v="",y=d+1;y<u.length;++y)v+=u[y];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=gj(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var d=f.length+1,p=1;p<d;++p)h.push(p/d);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===Lf.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var y=i.lineHeight*(p-1)+v,m=i.lineHeight*p,g=m;p>0&&y>m&&(g=(m+y)/2);var x=m+v,S=i.lineHeight*(p+1),b=x;p+1<n.length&&S<x&&(b=(x+S)/2);for(var w=(b-g)/u,C=0;C<f.length;C++){var A=0;typeof h[C]=="number"?A=h[C]:A=C/f.length;var P=Math.min(1,Math.max(0,g/u+A*w));P=Number(P.toFixed(5)),o.addColorStop(P,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var O=f.length+1,I=1,p=0;p<f.length;p++){var R=void 0;typeof h[p]=="number"?R=h[p]:R=I/O,o.addColorStop(R,f[p]),I++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},vOe,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Au(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Au(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Yu?this._style=r:this._style=new Yu(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(pa);/*!
 * @pixi/prepare - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ve.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pC=function(t,e){return pC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pC(t,e)};function gOe(t,e){pC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P$=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function mOe(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof pt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function yOe(t,e){if(t.baseTexture instanceof Xt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function _Oe(t,e){if(t._texture&&t._texture instanceof pt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function xOe(t,e){return e instanceof KP?(e.updateText(!0),!0):!1}function bOe(t,e){if(e instanceof Yu){var r=e.toFontString();return mo.measureFont(r),!0}return!1}function SOe(t,e){if(t instanceof KP){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function EOe(t,e){return t instanceof Yu?(e.indexOf(t)===-1&&e.push(t),!0):!1}var O$=function(){function t(e){var r=this;this.limiter=new P$(Ve.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(SOe),this.registerFindHook(EOe),this.registerFindHook(mOe),this.registerFindHook(yOe),this.registerFindHook(_Oe),this.registerUploadHook(xOe),this.registerUploadHook(bOe)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&Bi("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var a=function(){r==null||r(),i()};n.queue.length?(n.completes.push(a),n.ticking||(n.ticking=!0,Gr.system.addOnce(n.tick,n,vo.UTILITY))):a()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Gr.system.addOnce(this.tick,this,vo.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Rn)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Gr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function R$(t,e){return e instanceof Xt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function wOe(t,e){if(!(e instanceof Mf))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&R$(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function COe(t,e){return t instanceof Mf?(e.push(t),!0):!1}var I$=function(t){gOe(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(COe),n.registerUploadHook(R$),n.registerUploadHook(wOe),n}return e.extension={name:"prepare",type:hr.RendererPlugin},e}(O$),AOe=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var k$=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof pt?e:null,this.baseTexture=e instanceof Xt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=_p(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&Bi("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new Bt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Bt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new pt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),pt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),F$=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==vr.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),y=Cu.resolve(e.url.replace(a.baseUrl,""),p);if(a.resources[v]||Object.values(a.resources).some(function(g){return Cu.format(Cu.parse(g.url))===y}))return"continue";var m={crossOrigin:e.crossOrigin,loadType:vr.LOAD_TYPE.XHR,xhrType:vr.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,y,m)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,a.baseUrl);a.add(o,d,h,function(v){if(v.error){r(v.error);return}var y=new k$(v.texture,e.data,e.url);y.parse().then(function(){e.spritesheet=y,e.textures=y.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Cu.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=hr.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vC=function(t,e){return vC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vC(t,e)};function D$(t,e){vC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nd=new Lt,TOe=function(t){D$(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new d_,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new m_(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Bt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,nd);var n=this._width,i=this._height,a=-n*this.anchor._x;if(nd.x>=a&&nd.x<a+n){var o=-i*this.anchor._y;if(nd.y>=o&&nd.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof pt?r:pt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(pa),POe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,i3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OOe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ROe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,IOe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,zv=new Xr,M$=function(t){D$(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new TP,n.state=Vl.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Ts.from(i3,POe,n),this.shader=r.context.webGLVersion>1?Ts.from(ROe,IOe,n):Ts.from(i3,OOe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=l.alphaMode>0,f=r.tileTransform.localTransform,h=r.uvMatrix,d=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==fo.CLAMP:l.wrapMode===fo.CLAMP&&(l.wrapMode=fo.REPEAT));var p=d?this.simpleShader:this.shader,v=c.width,y=c.height,m=r._width,g=r._height;zv.set(f.a*v/m,f.b*v/g,f.c*y/m,f.d*y/g,f.tx/m,f.ty/g),zv.invert(),d?zv.prepend(h.mapCoord):(p.uniforms.uMapCoord=h.mapCoord.toArray(!0),p.uniforms.uClampFrame=h.uClampFrame,p.uniforms.uClampOffset=h.uClampOffset),p.uniforms.uTransform=zv.toArray(!0),p.uniforms.uColor=gP(r.tint,r.worldAlpha,p.uniforms.uColor,u),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=vP(r.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:hr.RendererPlugin},e}(a0);/*!
 * @pixi/mesh - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gC=function(t,e){return gC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gC(t,e)};function ZP(t,e){gC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var L$=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),KS=new Lt,a3=new gf,Bf=function(t){ZP(e,t);function e(r,n,i,a){a===void 0&&(a=va.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Vl.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ve.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===va.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],y=i[p*2+1];d[p*2]=s*v+l*y+f,d[p*2+1]=c*v+u*y+h}if(this._roundPixels)for(var m=Ve.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*m|0)/m);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new L$(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,KS);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=a3.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],a3.contains(KS.x,KS.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Rn),kOe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,FOe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Nf=function(t){ZP(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:Xr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||hh.from(FOe,kOe),a)||this,i._colorDirty=!1,i.uvMatrix=new m_(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;gP(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ts),o0=function(t){ZP(e,t);function e(r,n,i){var a=t.call(this)||this,o=new dn(r),s=new dn(n,!0),c=new dn(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,lt.FLOAT).addAttribute("aTextureCoord",s,2,!1,lt.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(fh);/*!
 * @pixi/text-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mC=function(t,e){return mC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mC(t,e)};function DOe(t,e){mC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cp=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),B$=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),d=isNaN(h)?f:h;s[u]=d}n[a].push(s)}var p=new Cp;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),Tm=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Cp,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),N$=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Tm.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Tm.parse(r)},t}(),ZS=[B$,Tm,N$];function QP(t){for(var e=0;e<ZS.length;e++)if(ZS[e].test(t))return ZS[e];return null}function MOe(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,v=1;v<p;++v)d.push(v/p);if(h.unshift(o[0]),d.unshift(0),h.push(o[o.length-1]),d.push(1),r.fillGradientType===Lf.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var y=0,m=a.fontProperties.fontSize+r.strokeThickness,g=m/f,v=0;v<i.length;v++)for(var x=a.lineHeight*v,S=0;S<h.length;S++){var b=0;typeof d[S]=="number"?b=d[S]:b=S/h.length;var w=x/f+b*g,C=Math.max(y,w);C=Math.min(C,1),s.addColorStop(C,h[S]),y=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var A=h.length+1,P=1,v=0;v<h.length;v++){var O=void 0;typeof d[v]=="number"?O=d[v]:O=P/A,s.addColorStop(O,h[v]),P++}}return s}function LOe(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=MOe(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=In(typeof f=="number"?f:dP(f)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function U$(t){return Array.from?Array.from(t):t.split("")}function BOe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,U$(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Tg(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var ms=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=_p(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var d=e.page[h],p=d.id,v=d.file;f[p]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[p].baseTexture.alphaMode=ra.NO_PREMULTIPLIED_ALPHA,f[p].baseTexture.mipmap=Ui.OFF)}for(var h=0;h<e.char.length;h++){var y=e.char[h],p=y.id,m=y.page,g=e.char[h],x=g.x,S=g.y,b=g.width,w=g.height,C=g.xoffset,A=g.yoffset,P=g.xadvance;x/=u,S/=u,b/=u,w/=u,C/=u,A/=u,P/=u;var O=new Bt(x+f[m].frame.x/u,S+f[m].frame.y/u,b,w);this.chars[p]={xOffset:C,yOffset:A,xAdvance:P,kerning:{},texture:new pt(f[m].baseTexture,O),page:m}}for(var h=0;h<e.kerning.length;h++){var I=e.kerning[h],R=I.first,k=I.second,D=I.amount;R/=u,k/=u,D/=u,this.chars[k]&&(this.chars[k].kerning[R]=D)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Cp)i=e;else{var a=QP(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof pt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=BOe(a),f=r instanceof Yu?r:new Yu(r),h=c,d=new Cp;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,y,m,g,x=0,S=[],b=0;b<u.length;b++){y||(y=Ve.ADAPTER.createCanvas(),y.width=c,y.height=l,m=y.getContext("2d"),g=new Xt(y,{resolution:s}),S.push(new pt(g)),d.page.push({id:S.length-1,file:""}));var w=u[b],C=mo.measureText(w,f,!1,y),A=C.width,P=Math.ceil(C.height),O=Math.ceil((f.fontStyle==="italic"?2:1)*A);if(v>=l-P*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+w+"')"));--b,y=null,m=null,g=null,v=0,p=0,x=0;continue}if(x=Math.max(P+C.fontProperties.descent,x),O*s+p>=h){if(p===0)throw new Error("[BitmapFont] textureWidth "+c+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+w+"')"));--b,v+=x*s,v=Math.ceil(v),p=0,x=0;continue}LOe(y,m,C,p,v,s,f);var I=Tg(C.text);d.char.push({id:I,page:S.length-1,x:p/s,y:v/s,width:O,height:P,xoffset:0,yoffset:0,xadvance:Math.ceil(A-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(O+2*o)*s,p=Math.ceil(p)}if(!(n!=null&&n.skipKerning))for(var b=0,R=u.length;b<R;b++)for(var k=u[b],D=0;D<R;D++){var L=u[D],U=m.measureText(k).width,W=m.measureText(L).width,te=m.measureText(k+L).width,J=te-(U+W);J&&d.kerning.push({first:Tg(k),second:Tg(L),amount:J})}var z=new t(d,S,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=z,z},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),NOe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,UOe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,o3=[],s3=[],l3=[],jOe=function(t){DOe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!ms.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._font=void 0,i._fontName=u,i._fontSize=f,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new cl(function(){i.dirty=!0},i,0,0),i._roundPixels=Ve.ROUND_PIXELS,i.dirty=!0,i._resolution=Ve.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=ms.available[this._fontName],i=this.fontSize,a=i/n.size,o=new Lt,s=[],c=[],l=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=U$(u),h=this._maxWidth*n.size/i,d=n.distanceFieldType==="none"?o3:s3,p=null,v=0,y=0,m=0,g=-1,x=0,S=0,b=0,w=0,C=0;C<f.length;C++){var A=f[C],P=Tg(A);if(/(?:\s)/.test(A)&&(g=C,x=v,w++),A==="\r"||A===`
`){c.push(v),l.push(-1),y=Math.max(y,v),++m,++S,o.x=0,o.y+=n.lineHeight,p=null,w=0;continue}var O=n.chars[P];if(O){p&&O.kerning[p]&&(o.x+=O.kerning[p]);var I=l3.pop()||{texture:pt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Lt};I.texture=O.texture,I.line=m,I.charCode=P,I.position.x=o.x+O.xOffset+this._letterSpacing/2,I.position.y=o.y+O.yOffset,I.prevSpaces=w,s.push(I),v=I.position.x+Math.max(O.xAdvance-O.xOffset,O.texture.orig.width),o.x+=O.xAdvance+this._letterSpacing,b=Math.max(b,O.yOffset+O.texture.height),p=P,g!==-1&&h>0&&o.x>h&&(++S,Du(s,1+g-S,1+C-g),C=g,g=-1,c.push(x),l.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,x),m++,o.x=0,o.y+=n.lineHeight,p=null,w=0)}}var R=f[f.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(v=x),c.push(v),y=Math.max(y,v),l.push(-1));for(var k=[],C=0;C<=m;C++){var D=0;this._align==="right"?D=y-c[C]:this._align==="center"?D=(y-c[C])/2:this._align==="justify"&&(D=l[C]<0?0:(y-c[C])/l[C]),k.push(D)}var L=s.length,U={},W=[],te=this._activePagesMeshData;d.push.apply(d,te);for(var C=0;C<L;C++){var J=s[C].texture,z=J.baseTexture.uid;if(!U[z]){var M=d.pop();if(!M){var V=new o0,$=void 0,j=void 0;n.distanceFieldType==="none"?($=new Nf(pt.EMPTY),j=ze.NORMAL):($=new Nf(pt.EMPTY,{program:hh.from(UOe,NOe),uniforms:{uFWidth:0}}),j=ze.NORMAL_NPM);var Q=new Bf(V,$);Q.blendMode=j,M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Q,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;var ie=this._textureCache;ie[z]=ie[z]||new pt(J.baseTexture),M.mesh.texture=ie[z],M.mesh.tint=this._tint,W.push(M),U[z]=M}U[z].total++}for(var C=0;C<te.length;C++)W.indexOf(te[C])===-1&&this.removeChild(te[C].mesh);for(var C=0;C<W.length;C++)W[C].mesh.parent!==this&&this.addChild(W[C].mesh);this._activePagesMeshData=W;for(var C in U){var M=U[C],de=M.total;if(!(((r=M.indices)===null||r===void 0?void 0:r.length)>6*de)||M.vertices.length<Bf.BATCHABLE_SIZE*2)M.vertices=new Float32Array(4*2*de),M.uvs=new Float32Array(4*2*de),M.indices=new Uint16Array(6*de);else for(var ue=M.total,be=M.vertices,Pe=ue*4*2;Pe<be.length;Pe++)be[Pe]=0;M.mesh.size=6*de}for(var C=0;C<L;C++){var A=s[C],ye=A.position.x+k[A.line]*(this._align==="justify"?A.prevSpaces:1);this._roundPixels&&(ye=Math.round(ye));var we=ye*a,_e=A.position.y*a,J=A.texture,xe=U[J.baseTexture.uid],je=J.frame,Xe=J._uvs,Fe=xe.index++;xe.indices[Fe*6+0]=0+Fe*4,xe.indices[Fe*6+1]=1+Fe*4,xe.indices[Fe*6+2]=2+Fe*4,xe.indices[Fe*6+3]=0+Fe*4,xe.indices[Fe*6+4]=2+Fe*4,xe.indices[Fe*6+5]=3+Fe*4,xe.vertices[Fe*8+0]=we,xe.vertices[Fe*8+1]=_e,xe.vertices[Fe*8+2]=we+je.width*a,xe.vertices[Fe*8+3]=_e,xe.vertices[Fe*8+4]=we+je.width*a,xe.vertices[Fe*8+5]=_e+je.height*a,xe.vertices[Fe*8+6]=we,xe.vertices[Fe*8+7]=_e+je.height*a,xe.uvs[Fe*8+0]=Xe.x0,xe.uvs[Fe*8+1]=Xe.y0,xe.uvs[Fe*8+2]=Xe.x1,xe.uvs[Fe*8+3]=Xe.y1,xe.uvs[Fe*8+4]=Xe.x2,xe.uvs[Fe*8+5]=Xe.y2,xe.uvs[Fe*8+6]=Xe.x3,xe.uvs[Fe*8+7]=Xe.y3}this._textWidth=y*a,this._textHeight=(o.y+n.lineHeight)*a;for(var C in U){var M=U[C];if(this.anchor.x!==0||this.anchor.y!==0)for(var at=0,vt=this._textWidth*this.anchor.x,yt=this._textHeight*this.anchor.y,tt=0;tt<M.total;tt++)M.vertices[at++]-=vt,M.vertices[at++]-=yt,M.vertices[at++]-=vt,M.vertices[at++]-=yt,M.vertices[at++]-=vt,M.vertices[at++]-=yt,M.vertices[at++]-=vt,M.vertices[at++]-=yt;this._maxLineHeight=b*a;var ot=M.mesh.geometry.getBuffer("aVertexPosition"),dt=M.mesh.geometry.getBuffer("aTextureCoord"),qt=M.mesh.geometry.getIndex();ot.data=M.vertices,dt.data=M.uvs,qt.data=M.indices,ot.update(),dt.update(),qt.update()}for(var C=0;C<s.length;C++)l3.push(s[C]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=ms.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),d=Math.sqrt(u*u+f*f),p=(Math.abs(h)+Math.abs(d))/2,v=this.fontSize/o,y=0,m=this._activePagesMeshData;y<m.length;y++){var g=m[y];g.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=ms.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ms.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:ms.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=ms.available[this._fontName],a=i.distanceFieldType==="none"?o3:s3;a.push.apply(a,this._activePagesMeshData);for(var o=0,s=this._activePagesMeshData;o<s.length;o++){var c=s[o];this.removeChild(c.mesh)}this._activePagesMeshData=[],a.filter(function(f){return n[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=pt.EMPTY});for(var l in n){var u=n[l];u.destroy(),delete n[l]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Rn),j$=function(){function t(){}return t.add=function(){vr.setExtensionXhrType("fnt",vr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=QP(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=ms.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===u){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:vr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,p,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=hr.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yC=function(t,e){return yC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yC(t,e)};function $Oe(t,e){yC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var VOe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,$$=function(t){$Oe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,Yj,VOe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-blur - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _C=function(t,e){return _C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_C(t,e)};function V$(t,e){_C(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GOe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function WOe(t,e){var r=Math.ceil(t/2),n=GOe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var zOe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},HOe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function XOe(t){for(var e=zOe[t],r=e.length,n=HOe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Ap=function(t){V$(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=Ve.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=WOe(o,r),l=XOe(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,La.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,La.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(bt),YOe=function(t){V$(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Ve.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Ap(!0,r,n,i,a),o.blurYFilter=new Ap(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,La.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xC=function(t,e){return xC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xC(t,e)};function qOe(t,e){xC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var KOe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,bC=function(t){qOe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,GP,KOe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,d=i+s*(1-i),p=s*(1-i)-c*a,v=s*(1-i)-c*a,y=s*(1-i)+c*a,m=i+s*(1-i),g=[l,u,f,0,0,h,d,p,0,0,v,y,m,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,d=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(d,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(bt);bC.prototype.grayscale=bC.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SC=function(t,e){return SC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},SC(t,e)};function ZOe(t,e){SC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QOe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,JOe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,eRe=function(t){ZOe(e,t);function e(r,n){var i=this,a=new Xr;return r.renderable=!1,i=t.call(this,JOe,QOe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new Lt(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-fxaa - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EC=function(t,e){return EC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},EC(t,e)};function tRe(t,e){EC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rRe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,nRe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,iRe=function(t){tRe(e,t);function e(){return t.call(this,rRe,nRe)||this}return e}(bt);/*!
 * @pixi/filter-noise - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wC=function(t,e){return wC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wC(t,e)};function aRe(t,e){wC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oRe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,sRe=function(t){aRe(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,GP,oRe,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G$=new Xr;Jr.prototype._cacheAsBitmap=!1;Jr.prototype._cacheData=null;Jr.prototype._cacheAsBitmapResolution=null;Jr.prototype._cacheAsBitmapMultisample=Rr.NONE;var lRe=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Jr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new lRe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Jr.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Jr.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(Ve.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Ml.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Fl();this._cacheData.textureCacheId=f,Xt.addToCache(u.baseTexture,f),pt.addToCache(u,f);var h=this.transform.localTransform.copyTo(G$).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new pa(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};Jr.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Jr.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(Ve.RESOLUTION);var o=Ml.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Fl();this._cacheData.textureCacheId=s,Xt.addToCache(o.baseTexture,s),pt.addToCache(o,s);var c=G$;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new pa(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Jr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Jr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Jr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Xt.removeFromCache(this._cacheData.textureCacheId),pt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Jr.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Jr.prototype.name=null;Rn.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=a.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Jr.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new Lt),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var W$=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=hr.Application,t}(),JP=function(){function t(e){var r=this;this.stage=new Rn,e=Object.assign({forceCanvas:!1},e),this.renderer=Xj(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){Bi("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Jo.add({type:hr.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();Jo.handleByList(hr.Application,JP._plugins);Jo.add(W$);/*!
 * @pixi/mesh-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CC=function(t,e){return CC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CC(t,e)};function dh(t,e){CC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z$=function(t){dh(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var d=o*s,u=0;u<d;u++){var p=u%o,v=u/o|0,y=v*this.segWidth+p,m=v*this.segWidth+p+1,g=(v+1)*this.segWidth+p,x=(v+1)*this.segWidth+p+1;a.push(y,m,g,m,x,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(o0),H$=function(t){dh(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var d=h*4;if(this.textureScale>0){var p=l.x-r[h].x,v=l.y-r[h].y,y=Math.sqrt(p*p+v*v);l=r[h],c+=y/u}else c=h/(f-1);o[d]=c,o[d+1]=0,o[d+2]=c,o[d+3]=1}for(var m=0,h=0;h<f-1;h++){var d=h*2;s[m++]=d,s[m++]=d+1,s[m++]=d+2,s[m++]=d+2,s[m++]=d+1,s[m++]=d+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=d,o*=d,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(o0),uRe=function(t){dh(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new H$(r.height,n,i),s=new Nf(r);return i>0&&(r.baseTexture.wrapMode=fo.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Bf),X$=function(t){dh(e,t);function e(r,n,i){var a=this,o=new z$(r.width,r.height,n,i),s=new Nf(pt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Bf),Y$=function(t){dh(e,t);function e(r,n,i,a,o){r===void 0&&(r=pt.EMPTY);var s=this,c=new o0(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new Nf(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Bf),Hv=10,cRe=function(t){dh(e,t);function e(r,n,i,a,o){n===void 0&&(n=Hv),i===void 0&&(i=Hv),a===void 0&&(a=Hv),o===void 0&&(o=Hv);var s=t.call(this,pt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(X$);/*!
 * @pixi/sprite-animated - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AC=function(t,e){return AC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AC(t,e)};function fRe(t,e){AC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hRe=function(t){fRe(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof pt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Gr.shared.add(this.update,this,vo.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(pt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(pt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof pt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Gr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(pa);/*!
 * pixi.js - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Jo.add(t$,a$,i$,x$,I$,zP,M$,j$,f$,m$,y$,F$,wj,s$);var q$={AlphaFilter:$$,BlurFilter:YOe,BlurFilterPass:Ap,ColorMatrixFilter:bC,DisplacementFilter:eRe,FXAAFilter:iRe,NoiseFilter:sRe};const dRe=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return ra},AbstractBatchRenderer:qj,AbstractMultiResource:v_,AbstractRenderer:Hj,AccessibilityManager:t$,AnimatedSprite:hRe,AppLoaderPlugin:s$,Application:JP,ArrayResource:_P,Attribute:Jw,get BLEND_MODES(){return ze},get BUFFER_BITS(){return hp},get BUFFER_TYPE(){return ho},BaseImageResource:zo,BasePrepare:O$,BaseRenderTexture:CP,BaseTexture:Xt,BatchDrawCall:Em,BatchGeometry:WP,BatchPluginFactory:Zj,BatchRenderer:zP,BatchShaderGenerator:Kj,BatchSystem:OP,BatchTextureArray:wm,BitmapFont:ms,BitmapFontData:Cp,BitmapFontLoader:j$,BitmapText:jOe,BlobResource:c$,Bounds:bp,BrowserAdapter:UU,Buffer:dn,BufferResource:oc,get CLEAR_MODES(){return La},get COLOR_MASK_BITS(){return Rw},CanvasResource:xP,Circle:xj,CompressedTextureLoader:f$,CompressedTextureResource:Am,Container:Rn,ContextSystem:RP,CountLimiter:P$,CubeResource:bP,DDSLoader:m$,DEG_TO_RAD:Dl,get DRAW_MODES(){return va},DisplayObject:Jr,get ENV(){return Wo},Ellipse:bj,get ExtensionType(){return hr},Extract:a$,get FORMATS(){return Ue},FORMATS_TO_COMPONENTS:p$,FillStyle:XP,Filter:bt,FilterState:Pj,FilterSystem:PP,Framebuffer:Sm,FramebufferSystem:IP,get GC_MODES(){return pp},GLFramebuffer:Oj,GLProgram:Gj,GLTexture:wg,GRAPHICS_CURVES:Df,Geometry:fh,GeometrySystem:kP,Graphics:Mf,GraphicsData:fC,GraphicsGeometry:A$,IGLUniformData:YTe,INSTALLED:Sp,get INTERNAL_FORMATS(){return Ct},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ep,ImageBitmapResource:wP,ImageResource:g_,InteractionData:eC,InteractionEvent:r$,InteractionManager:i$,InteractionTrackingData:Cg,KTXLoader:y$,get LINE_CAP(){return Es},get LINE_JOIN(){return Mo},LineStyle:T$,Loader:Xu,get LoaderResource(){return vr},get MASK_TYPES(){return an},get MIPMAP_MODES(){return Ui},get MSAA_QUALITY(){return Rr},MaskData:Rj,MaskSystem:FP,Matrix:Xr,Mesh:Bf,MeshBatchUvs:L$,MeshGeometry:o0,MeshMaterial:Nf,NineSlicePlane:cRe,ObjectRenderer:a0,ObservablePoint:cl,PI_2:xp,get PRECISION(){return Zi},ParticleContainer:nOe,ParticleRenderer:x$,PlaneGeometry:z$,Point:Lt,Polygon:gf,Prepare:I$,Program:hh,ProjectionSystem:LP,Quad:Tj,QuadUv:TP,RAD_TO_DEG:_j,get RENDERER_TYPE(){return Rf},Rectangle:Bt,RenderTexture:Ml,RenderTexturePool:Aj,RenderTextureSystem:BP,Renderer:VP,ResizePlugin:W$,Resource:Hu,RopeGeometry:H$,RoundedRectangle:Sj,Runner:$n,get SAMPLER_TYPES(){return dp},get SCALE_MODES(){return On},get SHAPES(){return Tn},SVGResource:SP,ScissorSystem:DP,Shader:Ts,ShaderSystem:NP,SimpleMesh:Y$,SimplePlane:X$,SimpleRope:uRe,Sprite:pa,SpriteMaskFilter:Bj,Spritesheet:k$,SpritesheetLoader:F$,State:Vl,StateSystem:UP,StencilSystem:MP,System:cPe,get TARGETS(){return El},get TEXT_GRADIENT(){return Lf},get TYPES(){return lt},TYPES_TO_BYTES_PER_COMPONENT:aC,TYPES_TO_BYTES_PER_PIXEL:v$,TemporaryDisplayObject:yP,Text:KP,TextFormat:B$,TextMetrics:mo,TextStyle:Yu,Texture:pt,TextureGCSystem:jP,TextureLoader:l$,TextureMatrix:m_,TextureSystem:$P,TextureUvs:AP,Ticker:Gr,TickerPlugin:wj,TilingSprite:TOe,TilingSpriteRenderer:M$,TimeLimiter:AOe,Transform:d_,get UPDATE_PRIORITY(){return vo},UniformGroup:wl,VERSION:dPe,VideoResource:EP,ViewableBuffer:Cm,get WRAP_MODES(){return fo},XMLFormat:Tm,XMLStringFormat:N$,accessibleTarget:e$,autoDetectFormat:QP,autoDetectRenderer:Xj,autoDetectResource:p_,checkMaxIfStatementsInShader:Lj,createUBOElements:jj,defaultFilterVertex:GP,defaultVertex:Yj,extensions:Jo,filters:q$,generateProgram:Wj,generateUniformBufferSync:Vj,getTestContext:Fj,getUBOData:$j,graphicsUtils:uOe,groupD8:Mr,interactiveTarget:n$,isMobile:ja,parseDDS:d$,parseKTX:g$,resources:Qj,settings:Ve,systems:Jj,uniformParsers:Mu,utils:mTe},Symbol.toStringTag,{value:"Module"}));let Xv;const pRe=new Uint8Array(16);function vRe(){if(!Xv&&(Xv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xv(pRe)}const Jn=[];for(let t=0;t<256;++t)Jn.push((t+256).toString(16).slice(1));function gRe(t,e=0){return Jn[t[e+0]]+Jn[t[e+1]]+Jn[t[e+2]]+Jn[t[e+3]]+"-"+Jn[t[e+4]]+Jn[t[e+5]]+"-"+Jn[t[e+6]]+Jn[t[e+7]]+"-"+Jn[t[e+8]]+Jn[t[e+9]]+"-"+Jn[t[e+10]]+Jn[t[e+11]]+Jn[t[e+12]]+Jn[t[e+13]]+Jn[t[e+14]]+Jn[t[e+15]]}const mRe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u3={randomUUID:mRe};function id(t,e,r){if(u3.randomUUID&&!e&&!t)return u3.randomUUID();t=t||{};const n=t.random||(t.rng||vRe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return gRe(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TC=function(t,e){return TC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TC(t,e)};function yRe(t,e){TC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _Re=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xRe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,bRe=function(t){yRe(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,_Re,xRe)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(bt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PC=function(t,e){return PC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},PC(t,e)};function SRe(t,e){PC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ERe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wRe=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,CRe=function(t){SRe(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,ERe,wRe)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OC=function(t,e){return OC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},OC(t,e)};function ARe(t,e){OC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TRe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PRe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,ORe=function(t){ARe(e,t);function e(r){var n=t.call(this,TRe,PRe)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(bt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RC=function(t,e){return RC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RC(t,e)};function RRe(t,e){RC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IRe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kRe=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,FRe=function(t){RRe(e,t);function e(r){var n=t.call(this,IRe,kRe)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=pt.from(n._canvas,{scaleMode:On.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Dl;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(bt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IC=function(t,e){return IC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},IC(t,e)};function DRe(t,e){IC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var MRe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,LRe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,BRe=function(t){DRe(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,MRe,LRe)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kC=function(t,e){return kC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kC(t,e)};function NRe(t,e){kC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var URe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jRe=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,$Re=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,VRe=function(t){NRe(e,t);function e(r){var n=t.call(this,URe,$Re.replace("${perlin}",jRe))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new Lt,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Dl;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(bt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FC=function(t,e){return FC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},FC(t,e)};function GRe(t,e){FC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WRe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,zRe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){GRe(e,t);function e(r){var n=t.call(this,WRe,zRe)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(bt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DC=function(t,e){return DC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},DC(t,e)};function HRe(t,e){DC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XRe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YRe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,qRe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,Pm=function(t){HRe(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,XRe,i?qRe:YRe)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new Lt,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,d=this._quality-1,p=0;p<d;p++)c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof Lt?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(bt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MC=function(t,e){return MC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MC(t,e)};function K$(t,e){MC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Z$=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,KRe=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,ZRe=function(t){K$(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,Z$,KRe)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(bt),QRe=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){K$(e,t);function e(r){var n=t.call(this,Z$,QRe)||this;n.bloomScale=1,n.brightness=1,n._resolution=Ve.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new ZRe(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new Pm(a):new Pm(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Ve.FILTER_RESOLUTION},e})(bt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LC=function(t,e){return LC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},LC(t,e)};function JRe(t,e){LC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,tIe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){JRe(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,eIe,tIe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BC=function(t,e){return BC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BC(t,e)};function rIe(t,e){BC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iIe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){rIe(e,t);function e(r){var n=t.call(this,nIe,iIe)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Dl},set:function(r){this._angle=r*Dl,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return Li(this.uniforms.lightColor)},set:function(r){In(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return Li(this.uniforms.shadowColor)},set:function(r){In(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NC=function(t,e){return NC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NC(t,e)};function aIe(t,e){NC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){aIe(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=Ve.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof Lt?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new Ap(!0,s,n,i,a),o.blurYFilter=new Ap(!1,c,n,i,a),o.blurYFilter.blendMode=ze.SCREEN,o.defaultFilter=new $$,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UC=function(t,e){return UC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UC(t,e)};function oIe(t,e){UC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lIe=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){oIe(e,t);function e(r){var n=t.call(this,sIe,lIe)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(bt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jC=function(t,e){return jC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jC(t,e)};function uIe(t,e){jC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){uIe(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,cIe,fIe)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof pt||(r=pt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Ui.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?On.NEAREST:On.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Ui.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(bt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $C=function(t,e){return $C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$C(t,e)};function hIe(t,e){$C(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){hIe(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,dIe,pIe)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(In(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=Li(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VC=function(t,e){return VC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},VC(t,e)};function vIe(t,e){VC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){vIe(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,gIe,mIe)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(In(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=Li(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(In(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=Li(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GC=function(t,e){return GC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GC(t,e)};function yIe(t,e){GC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _Ie=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xIe=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){yIe(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,_Ie,xIe)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WC=function(t,e){return WC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},WC(t,e)};function bIe(t,e){WC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,EIe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){bIe(e,t);function e(){return t.call(this,SIe,EIe)||this}return e})(bt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zC=function(t,e){return zC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zC(t,e)};function wIe(t,e){zC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,AIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){wIe(e,t);function e(r){var n=t.call(this,CIe,AIe)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(bt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HC=function(t,e){return HC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HC(t,e)};function TIe(t,e){HC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Om=function(){return Om=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Om.apply(this,arguments)},PIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){TIe(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=Ve.FILTER_RESOLUTION;var i=r?Om(Om({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new bt(PIe,OIe),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new Lt,n._tintFilter.resolution=l,n._blurFilter=a?new Pm(a):new Pm(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,d=i.alpha,p=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=d,n.color=p,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Dl},set:function(r){this.angle=r*Dl,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return Li(this._tintFilter.uniforms.color)},set:function(r){In(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:Ve.FILTER_RESOLUTION},e})(bt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XC=function(t,e){return XC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},XC(t,e)};function RIe(t,e){XC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kIe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){RIe(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,IIe,kIe)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YC=function(t,e){return YC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YC(t,e)};function FIe(t,e){YC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var DIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,MIe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){FIe(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,DIe,MIe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return Li(this.uniforms.glowColor)},set:function(r){In(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(bt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qC=function(t,e){return qC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qC(t,e)};function LIe(t,e){qC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var BIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){LIe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,BIe,NIe)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new cl(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KC=function(t,e){return KC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KC(t,e)};function UIe(t,e){KC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$Ie=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){UIe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,jIe,$Ie.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=In(c):s[0]=Li(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=In(l):s[1]=Li(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZC=function(t,e){return ZC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZC(t,e)};function VIe(t,e){ZC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){VIe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,GIe,WIe.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return Li(this.uniforms.outlineColor)},set:function(r){In(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(bt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QC=function(t,e){return QC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QC(t,e)};function zIe(t,e){QC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var HIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XIe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){zIe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,HIe,XIe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JC=function(t,e){return JC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JC(t,e)};function YIe(t,e){JC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,KIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){YIe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,qIe,KIe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eA=function(t,e){return eA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eA(t,e)};function ZIe(t,e){eA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QIe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JIe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,eke=function(t){ZIe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,QIe,JIe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(bt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tA=function(t,e){return tA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tA(t,e)};function tke(t,e){tA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nke=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){tke(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,rke,nke)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(In(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=Li(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rA=function(t,e){return rA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rA(t,e)};function y_(t,e){rA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ike=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ake=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,Q$=function(t){y_(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,ike,ake)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new Lt(0,window.innerHeight/2),o.uniforms.end=a||new Lt(600,window.innerHeight/2),o.uniforms.delta=new Lt(30,30),o.uniforms.texSize=new Lt(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(bt),oke=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(Q$),ske=function(t){y_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(Q$);(function(t){y_(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new oke(r,n,i,a),o.tiltShiftYFilter=new ske(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(bt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nA=function(t,e){return nA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nA(t,e)};function lke(t,e){nA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cke=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){lke(e,t);function e(r){var n=t.call(this,uke,cke)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new Lt},e})(bt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iA=function(t,e){return iA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iA(t,e)};function fke(t,e){iA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function hke(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var dke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pke=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){fke(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=hke(i,["maxKernelSize"]);return n=t.call(this,dke,pke.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(bt);const aA="shockwaveFilter";function vke(t,e){const r=t.containerFilters.get(aA);if(r)return r;if(e){const n=new eke([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(aA,n),n}}function gke(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function mke(t,e){if(e===0)t.removeFilter(aA);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const oA=0,sA="radiusAlphaFilter";class yke extends bt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new Lt(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function _ke(t,e){const r=t.containerFilters.get(sA);if(r)return r;if(e){const n=new yke(new Lt(.5,.5),oA);return n.radius=oA,t.addFilter(n),t.containerFilters.set(sA,n),n}}function xke(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:oA}function bke(t,e){if(e===0)t.removeFilter(sA);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class QS extends Rn{constructor(){super();qe(this,"containerFilters",new Map);qe(this,"baseX",0);qe(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new q$.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new bRe;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new CRe;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new ORe;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new FRe;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new BRe;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new VRe;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return vke(this,r)}get shockwaveFilter(){return gke(this)}set shockwaveFilter(r){mke(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return _ke(this,r)}get radiusAlphaFilter(){return xke(this)}set radiusAlphaFilter(r){bke(this,r)}}var Ot;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(Ot||(Ot={}));var Rm=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),H;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(H||(H={}));var At;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(At||(At={}));var Br;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(Br||(Br={}));var Qr;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(Qr||(Qr={}));var _t;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(_t||(_t={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lA=function(t,e){return lA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lA(t,e)};function ph(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function c3(t){switch(t.toLowerCase()){case"nearest":return Di.Nearest;case"linear":return Di.Linear;case"mipmap":return Di.MipMap;case"mipmapnearestnearest":return Di.MipMapNearestNearest;case"mipmaplinearnearest":return Di.MipMapLinearNearest;case"mipmapnearestlinear":return Di.MipMapNearestLinear;case"mipmaplinearlinear":return Di.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var Di;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(Di||(Di={}));var fl;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(fl||(fl={}));var uA=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),Ske=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),Eke=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new f3,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=Di.Nearest,i.uWrap=fl.ClampToEdge,i.vWrap=fl.ClampToEdge,n.push(i)}var s=new h3;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new wke(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=c3(o[1]),s.magFilter=c3(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=fl.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=fl.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var d=o[1],p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,l.rotate=p},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new f3,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var d=c[o[0]];d&&d()}i.pages.push(s),r(s.name,function(P){if(P===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=P,s.pma&&(P.alphaMode=ra.PMA),P.valid||P.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=P.realWidth,s.height=P.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new Ske;var p=new h3;p.name=f,p.page=s;for(var v=null,y=null;;){var m=a.readEntry(o,f=a.readLine());if(m==0)break;var d=u[o[0]];if(d)d();else{v==null&&(v=[],y=[]),v.push(o[0]);for(var g=[],x=0;x<m;x++)g.push(parseInt(o[x+1]));y.push(g)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var S=s.baseTexture.resolution;l.x/=S,l.y/=S,l.width/=S,l.height/=S,l.originalWidth/=S,l.originalHeight/=S,l.offsetX/=S,l.offsetY/=S;var b=l.rotate%4!==0,w=new Bt(l.x,l.y,b?l.height:l.width,b?l.width:l.height),C=new Bt(0,0,l.originalWidth,l.originalHeight),A=new Bt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);p.texture=new pt(p.page.baseTexture,w,C,A,l.rotate),p.index=l.index,p.texture.updateUvs(),i.regions.push(p)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),wke=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),f3=function(){function t(){this.minFilter=Di.Nearest,this.magFilter=Di.Nearest,this.uWrap=fl.ClampToEdge,this.vWrap=fl.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==Di.Linear?e.scaleMode=On.LINEAR:this.minFilter==Di.Nearest?e.scaleMode=On.NEAREST:(e.mipmap=Ui.POW2,r==Di.MipMapNearestNearest?e.scaleMode=On.NEAREST:e.scaleMode=On.LINEAR)},t}(),h3=function(t){ph(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(uA),Cke=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),Ake=Math.fround||Cke,J$=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),e9=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),Ne=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),K=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),Tke=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),Pke=function(t){ph(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(Tke),t9=function(t){ph(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(Pke),ce=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Ake(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),__=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),Tp=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),eO=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new __(function(){return ce.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===Ot.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=ce.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],d=l[u+1];e=Math.min(e,h),r=Math.min(r,d),n=Math.max(n,h),i=Math.max(i,d)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],d=0;d<s;d+=2){var p=o[d],v=o[d+1],y=f*v-h*p,m=f-p,g=h-v,x=c*g-l*m,S=(u*m-c*y)/x;if((S>=f&&S<=p||S>=p&&S<=f)&&(S>=r&&S<=i||S>=i&&S<=r)){var b=(u*g-l*y)/x;if((b>=h&&b<=v||b>=v&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}f=p,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),Oke={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Hs=[0,0,0],Rke=function(t){ph(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(pa),Ike=function(t){ph(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(Y$),s0=function(t){ph(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===Ot.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===Ot.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===Ot.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:Rn.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return Li(this.tintRgb)},set:function(r){this.tintRgb=In(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:Oke.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),d=this.slotContainers[l];if(!h){d.visible=!1;continue}var p=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,y=h.color;switch(h!=null&&h.type){case Ot.Region:var m=d.transform;if(m.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var g=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[g]!==void 0)f.sprites[g].visible=!0;else{var x=this.createSprite(f,h,g);d.addChild(x)}f.currentSprite=f.sprites[g],f.currentSpriteName=g}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?p=f.currentSprite.color:(Hs[0]=s[0]*f.color.r*y.r,Hs[1]=s[1]*f.color.g*y.g,Hs[2]=s[2]*f.color.b*y.b,f.currentSprite.tint=Li(Hs)),f.currentSprite.blendMode=f.blendMode;break;case Ot.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var S=new d_;S._parentID=-1,S._worldID=d.transform._worldID,d.transform=S}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var b=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==b){var w=b;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[w]!==void 0)f.meshes[w].visible=!0;else{var C=this.createMesh(f,h);d.addChild(C)}f.currentMesh=f.meshes[w],f.currentMeshName=h.name,f.currentMeshId=w}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?p=f.currentMesh.color:(Hs[0]=s[0]*f.color.r*y.r,Hs[1]=s[1]*f.color.g*y.g,Hs[2]=s[2]*f.color.b*y.b,f.currentMesh.tint=Li(Hs)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case Ot.Clipping:f.currentGraphics||(this.createGraphics(f,h),d.addChild(f.clippingContainer),d.addChild(f.currentGraphics)),this.updateGraphics(f,h),d.alpha=1,d.visible=!0;continue;default:d.visible=!1;continue}if(d.visible=!0,p){var A=f.color.r*y.r,P=f.color.g*y.g,O=f.color.b*y.b;p.setLight(s[0]*A+c[0]*(1-A),s[1]*P+c[1]*(1-P),s[2]*O+c[2]*(1-O)),f.darkColor?(A=f.darkColor.r,P=f.darkColor.g,O=f.darkColor.b):(A=0,P=0,O=0),p.setDark(s[0]*A+c[0]*(1-A),s[1]*P+c[1]*(1-P),s[2]*O+c[2]*(1-O))}d.alpha=f.color.a}for(var I=this.skeleton.drawOrder,R=null,k=null,l=0,u=I.length;l<u;l++){var f=a[I[l].data.index],d=this.slotContainers[I[l].data.index];if(k||d.parent!==null&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,R=f.getAttachment(),k.children.length=0,this.children[l]=d,R.endSlot===f.data&&(R.endSlot=null);else if(k){var D=this.tempClipContainers[l];D||(D=this.tempClipContainers[l]=this.newContainer(),D.visible=!1),this.children[l]=D,d.parent=null,k.addChild(d),R.endSlot==f.data&&(k.renderable=!0,k=null,R=null)}else this.children[l]=d}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*K.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}Rn.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),va.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new gf([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new uA,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new uA,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new Rn},e.prototype.newSprite=function(r){return new Rke(r)},e.prototype.newGraphics=function(){return new Mf},e.prototype.newMesh=function(r,n,i,a,o){return new Ike(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(Rn);Object.defineProperty(s0.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function kke(t){return t.type===vr.TYPE.JSON}function Fke(t){return t.xhrType===vr.XHR_RESPONSE_TYPE.BUFFER}vr.setExtensionXhrType("skel",vr.XHR_RESPONSE_TYPE.BUFFER);var Dke=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=kke(r)&&r.data.bones,a=Fke(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,d=h.indexOf("?");d>0&&(h=h.substr(0,d)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var p={crossOrigin:r.crossOrigin,xhrType:vr.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},y=r.url.substr(0,r.url.lastIndexOf("/")+1);y=y.replace(this.baseUrl,"");var m=c.imageNamePrefix||r.name+"_atlas_page_",g=c.images?d3(c.images):c.image?d3({default:c.image}):c.imageLoader?c.imageLoader(this,m,y,v):Mke(this,m,y,v);function x(S){new Eke(S,g,function(b){b&&e.parseData(r,o,b,s),n()})}c.atlasRawData?x(c.atlasRawData):this.add(r.name+"_atlas",h,p,function(S){S.error?n():x(S.data)})}}},t}();function Mke(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=ra.PMA),a(u.texture.baseTexture))})}}function d3(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cA=function(t,e){return cA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cA(t,e)};function jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tO=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),sc=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,y=h.c,m=h.b,g=h.d,x=n,S=o;S<i;x+=2,S+=s){var b=u[x],w=u[x+1];a[S]=b*v+w*y+d,a[S+1]=b*m+w*g+p}return}for(var C=0,A=0,P=0;P<n;P+=2){var O=f[C];C+=O+1,A+=O}var I=c.bones;if(l.length==0)for(var S=o,y=A*3;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3){var h=I[f[C]].matrix,b=u[y],w=u[y+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}else for(var L=l,S=o,y=A*3,U=A<<1;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3,U+=2){var h=I[f[C]].matrix,b=u[y]+L[U],w=u[y+1]+L[U+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),ce.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=ce.newFloatArray(this.vertices.length),ce.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(tO),r9=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.BoundingBox,n.color=new Ne(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(sc),n9=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Clipping,n.color=new Ne(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(sc),x_=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Mesh,n.color=new Ne(1,1,1,1),n.tempColor=new Ne(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ce.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ce.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),ce.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(sc),Pp=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Ne(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ce.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(sc),i9=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Point,n.color=new Ne(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(sc),rO=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Ne,this.darkColor=e.darkColor==null?null:new Ne,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),nO=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Ne(1,1,1,1),n.offset=ce.newFloatArray(8),n.uvs=ce.newFloatArray(8),n.tempColor=new Ne(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,y=o*u,m=s*l+this.y,g=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-g,x[e.OY2]=m+h,x[e.OX3]=v-g,x[e.OY3]=m+y,x[e.OX4]=v-p,x[e.OY4]=d+y},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof rO?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ce.arrayCopy(this.uvs,0,r.uvs,0,8),ce.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(tO),Lke=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),Bke=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new t9(2),t}(),ln=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Hn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Hn||(Hn={}));var es=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ce.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var y=h,m=d,g=p+t.BEZIER_SIZE-1;p<g;p+=2)v[p]=y,v[p+1]=m,h+=u,d+=f,u+=c,f+=l,y+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),ha=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Hn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.rotation=u.data.rotation;return;case H.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case H.setup:u.rotation=u.data.rotation+h*o;break;case H.first:case H.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case H.add:u.rotation+=h*o}return}var d=ln.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],y=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*y,s){case H.setup:u.rotation=u.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case H.first:case H.replace:m+=u.data.rotation-u.rotation;case H.add:u.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(es),qu=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.x=u.data.x,u.y=u.data.y;return;case H.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=ln.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case H.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case H.first:case H.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case H.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(es),iO=function(t){jr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Hn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case H.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=ln.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==H.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var y=0,m=0;if(c==At.mixOut)switch(s){case H.setup:y=u.data.scaleX,m=u.data.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-y)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case H.first:case H.replace:y=u.scaleX,m=u.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-y)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case H.add:y=u.scaleX,m=u.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-u.data.scaleX)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-u.data.scaleY)*o}else switch(s){case H.setup:y=Math.abs(u.data.scaleX)*K.signum(f),m=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=y+(f-y)*o,u.scaleY=m+(h-m)*o;break;case H.first:case H.replace:y=Math.abs(u.scaleX)*K.signum(f),m=Math.abs(u.scaleY)*K.signum(h),u.scaleX=y+(f-y)*o,u.scaleY=m+(h-m)*o;break;case H.add:y=K.signum(f),m=K.signum(h),u.scaleX=Math.abs(u.scaleX)*y+(f-Math.abs(u.data.scaleX)*y)*o,u.scaleY=Math.abs(u.scaleY)*m+(h-Math.abs(u.data.scaleY)*m)*o}}}},e}(qu),aO=function(t){jr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Hn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case H.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=ln.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case H.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case H.first:case H.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case H.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(qu),Op=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color);return;case H.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,y=0;if(i>=u[u.length-e.ENTRIES]){var m=u.length;d=u[m+e.PREV_R],p=u[m+e.PREV_G],v=u[m+e.PREV_B],y=u[m+e.PREV_A]}else{var g=ln.binarySearch(u,i,e.ENTRIES);d=u[g+e.PREV_R],p=u[g+e.PREV_G],v=u[g+e.PREV_B],y=u[g+e.PREV_A];var x=u[g],S=this.getCurvePercent(g/e.ENTRIES-1,1-(i-x)/(u[g+e.PREV_TIME]-x));d+=(u[g+e.R]-d)*S,p+=(u[g+e.G]-p)*S,v+=(u[g+e.B]-v)*S,y+=(u[g+e.A]-y)*S}if(o==1)l.color.set(d,p,v,y);else{var f=l.color;s==H.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(y-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(es),Rp=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case H.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,y=0,m=0,g=0,x=0,S=0,b=0;if(i>=u[u.length-e.ENTRIES]){var w=u.length;v=u[w+e.PREV_R],y=u[w+e.PREV_G],m=u[w+e.PREV_B],g=u[w+e.PREV_A],x=u[w+e.PREV_R2],S=u[w+e.PREV_G2],b=u[w+e.PREV_B2]}else{var C=ln.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],y=u[C+e.PREV_G],m=u[C+e.PREV_B],g=u[C+e.PREV_A],x=u[C+e.PREV_R2],S=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],P=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*P,y+=(u[C+e.G]-y)*P,m+=(u[C+e.B]-m)*P,g+=(u[C+e.A]-g)*P,x+=(u[C+e.R2]-x)*P,S+=(u[C+e.G2]-S)*P,b+=(u[C+e.B2]-b)*P}if(o==1)l.color.set(v,y,m,g),l.darkColor.set(x,S,b,1);else{var f=l.color,h=l.darkColor;s==H.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(y-f.g)*o,(m-f.b)*o,(g-f.a)*o),h.add((x-h.r)*o,(S-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(es),Tu=function(){function t(e){this.frames=ce.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Hn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==At.mixOut){o==H.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==H.setup||o==H.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=ln.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),p3=null,oO=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r),n.frameVertices=new Array(r),p3==null&&(p3=ce.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Hn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof sc)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=H.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;break}var y=ce.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++)y[g]+=(m[g]-y[g])*o;else{o=1-o;for(var g=0;g<d;g++)y[g]*=o}}return}var x=ce.setArraySize(f,d);if(i>=p[p.length-1]){var S=h[p.length-1];if(o==1)if(s==H.add){var v=u;if(v.bones==null)for(var m=v.vertices,b=0;b<d;b++)x[b]+=S[b]-m[b];else for(var w=0;w<d;w++)x[w]+=S[w]}else ce.arrayCopy(S,0,x,0,d);else switch(s){case H.setup:{var C=u;if(C.bones==null)for(var m=C.vertices,A=0;A<d;A++){var P=m[A];x[A]=P+(S[A]-P)*o}else for(var O=0;O<d;O++)x[O]=S[O]*o;break}case H.first:case H.replace:for(var I=0;I<d;I++)x[I]+=(S[I]-x[I])*o;break;case H.add:var v=u;if(v.bones==null)for(var m=v.vertices,R=0;R<d;R++)x[R]+=(S[R]-m[R])*o;else for(var k=0;k<d;k++)x[k]+=S[k]*o}return}var D=ln.binarySearch(p,i),L=h[D-1],U=h[D],W=p[D],te=this.getCurvePercent(D-1,1-(i-W)/(p[D-1]-W));if(o==1)if(s==H.add){var v=u;if(v.bones==null)for(var m=v.vertices,J=0;J<d;J++){var z=L[J];x[J]+=z+(U[J]-z)*te-m[J]}else for(var M=0;M<d;M++){var z=L[M];x[M]+=z+(U[M]-z)*te}}else for(var V=0;V<d;V++){var z=L[V];x[V]=z+(U[V]-z)*te}else switch(s){case H.setup:{var $=u;if($.bones==null)for(var m=$.vertices,j=0;j<d;j++){var z=L[j],P=m[j];x[j]=P+(z+(U[j]-z)*te-P)*o}else for(var Q=0;Q<d;Q++){var z=L[Q];x[Q]=(z+(U[Q]-z)*te)*o}break}case H.first:case H.replace:for(var ie=0;ie<d;ie++){var z=L[ie];x[ie]+=(z+(U[ie]-z)*te-x[ie])*o}break;case H.add:var v=u;if(v.bones==null)for(var m=v.vertices,de=0;de<d;de++){var z=L[de];x[de]+=(z+(U[de]-z)*te-m[de])*o}else for(var ue=0;ue<d;ue++){var z=L[ue];x[ue]+=(z+(U[ue]-z)*te)*o}}}}},e}(es),b_=function(){function t(e){this.frames=ce.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Hn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=ln.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),mf=function(){function t(e){this.frames=ce.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Hn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==At.mixOut&&o==H.setup){ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==H.setup||o==H.first)&&ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=ln.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ce.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),Ip=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case H.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==H.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==At.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=ln.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f+e.PREV_SOFTNESS],p=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==H.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*v-u.data.mix)*o,u.softness=u.data.softness+(d+(l[f+e.SOFTNESS]-d)*v-u.data.softness)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*v-u.mix)*o,u.softness+=(d+(l[f+e.SOFTNESS]-d)*v-u.softness)*o,c==At.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(es),kp=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case H.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case H.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var y=l.length;h=l[y+e.PREV_ROTATE],d=l[y+e.PREV_TRANSLATE],p=l[y+e.PREV_SCALE],v=l[y+e.PREV_SHEAR]}else{var m=ln.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var g=l[m],x=this.getCurvePercent(m/e.ENTRIES-1,1-(i-g)/(l[m+e.PREV_TIME]-g));h+=(l[m+e.ROTATE]-h)*x,d+=(l[m+e.TRANSLATE]-d)*x,p+=(l[m+e.SCALE]-p)*x,v+=(l[m+e.SHEAR]-v)*x}if(s==H.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(es),Uf=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.position=u.data.position;return;case H.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ln.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==H.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(es),sO=function(t){jr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Hn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.spacing=u.data.spacing;return;case H.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ln.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==H.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(Uf),Fp=function(t){jr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Hn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case H.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=ln.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==H.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(es),a9=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new s9(this),this.propertyIDs=new J$,this.animationsChanged=!1,this.trackEntryPool=new __(function(){return new o9}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==H.add)for(var p=0;p<h;p++){ce.webkit602BugfixHelper(l,c);var v=d[p];v instanceof Tu?this.applyAttachmentTimeline(v,e,f,c,!0):v.apply(e,u,f,r,l,c,At.mixIn)}else{var y=s.timelineMode,m=s.timelinesRotation.length==0;m&&ce.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,p=0;p<h;p++){var x=d[p],S=y[p]==t.SUBSEQUENT?c:H.setup;x instanceof ha?this.applyRotateTimeline(x,e,f,l,S,g,p<<1,m):x instanceof Tu?this.applyAttachmentTimeline(x,e,f,c,!0):(ce.webkit602BugfixHelper(l,c),x.apply(e,u,f,r,l,S,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,w=e.slots,C=0,A=e.slots.length;C<A;C++){var P=w[C];if(P.attachmentState==b){var O=P.data.attachmentName;P.setAttachment(O==null?null:e.getAttachment(P.data.index,O))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==H.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,At.mixOut);else{var y=i.timelineMode,m=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&ce.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var S=h[v],b=At.mixOut,w=void 0,C=0;switch(y[v]){case t.SUBSEQUENT:if(!c&&S instanceof mf)continue;w=n,C=p;break;case t.FIRST:w=H.setup,C=p;break;case t.HOLD_SUBSEQUENT:w=n,C=d;break;case t.HOLD_FIRST:w=H.setup,C=d;break;default:w=H.setup;var A=m[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,S instanceof ha?this.applyRotateTimeline(S,r,u,C,w,x,v<<1,g):S instanceof Tu?this.applyAttachmentTimeline(S,r,u,w,s):(ce.webkit602BugfixHelper(C,n),c&&S instanceof mf&&w==H.setup&&(b=At.mixIn),S.apply(r,l,u,o,C,w,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==H.setup||i==H.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=ln.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,d=0;if(n<u[0])switch(a){case H.setup:f.rotation=f.data.rotation;default:return;case H.first:h=f.rotation,d=f.data.rotation}else if(h=a==H.setup?f.data.rotation:f.rotation,n>=u[u.length-ha.ENTRIES])d=f.data.rotation+u[u.length+ha.PREV_ROTATION];else{var p=ln.binarySearch(u,n,ha.ENTRIES),v=u[p+ha.PREV_ROTATION],y=u[p],m=l.getCurvePercent((p>>1)-1,1-(n-y)/(u[p+ha.PREV_TIME]-y));d=u[p+ha.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var g=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)g=o[s];else{var S=0,b=0;c?(S=0,b=x):(S=o[s],b=o[s+1]);var w=x>0,C=S>=0;K.signum(b)!=K.signum(x)&&Math.abs(b)<=90&&(Math.abs(S)>180&&(S+=360*K.signum(S)),C=w),g=x+S-S%360,C!=w&&(g+=360*K.signum(S)),o[s]=g}o[s+1]=x,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=H.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=H.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ce.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ce.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof Tu||l instanceof mf||l instanceof b_||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new ln("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),o9=function(){function t(){this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),s9=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ri.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ri.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ri.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ri.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ri.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ri.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ri.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Ri.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Ri.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Ri.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Ri.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Ri.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Ri;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ri||(Ri={}));var Nke=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),l9=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),lO=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new nO(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new x_(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new r9(r)},t.prototype.newPathAttachment=function(e,r){return new Pp(r)},t.prototype.newPointAttachment=function(e,r){return new i9(r)},t.prototype.newClippingAttachment=function(e,r){return new n9(r)},t}(),fA=function(){function t(e,r,n){if(this.matrix=new Xr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,y=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=y*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,S=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*S,l.c=p*x+v*b,l.b=y*g+m*S,l.d=y*x+m*b;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var w=p*p+y*y,C=0;w>1e-4?(w=Math.abs(p*m-v*y)/w,p/=this.skeleton.scaleX,y/=this.skeleton.scaleY,v=y*w,m=p*w,C=Math.atan2(y,p)*K.radDeg):(p=0,y=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,P=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(P)*a,S=K.sinDeg(A)*i,b=K.sinDeg(P)*a;l.a=p*g-v*S,l.c=p*x-v*b,l.b=y*g+m*S,l.d=y*x+m*b;break}case _t.NoScale:case _t.NoScaleOrReflection:{var O=K.cosDeg(n),I=K.sinDeg(n),R=(p*O+v*I)/u,k=(y*O+m*I)/f,w=Math.sqrt(R*R+k*k);w>1e-5&&(w=1/w),R*=w,k*=w,w=Math.sqrt(R*R+k*k),this.data.transformMode==_t.NoScale&&p*m-v*y<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var D=Math.PI/2+Math.atan2(k,R),L=Math.cos(D)*w,U=Math.sin(D)*w,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,S=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=R*g+L*S,l.c=R*x+L*b,l.b=k*g+U*S,l.d=k*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),uO=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,this.skinRequired=!1,this.color=new Ne,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),S_=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),cO=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),fO=function(){function t(e){this.name=e}return t}(),u9=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0;switch(e.data.transformMode){case _t.OnlyTranslation:p=r-e.worldX,v=n-e.worldY;break;case _t.NoRotationOrReflection:var y=Math.abs(l*h-u*f)/(l*l+f*f),m=l/e.skeleton.scaleX,g=f/e.skeleton.scaleY;u=-g*y*e.skeleton.scaleX,h=m*y*e.skeleton.scaleY,d+=Math.atan2(g,m)*K.radDeg;default:var x=r-c.tx,S=n-c.ty,b=l*h-u*f;p=(x*h-S*u)/b-e.ax,v=(S*l-x*f)/b-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var w=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case _t.NoScale:case _t.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var A=e.data.length*w,P=Math.sqrt(p*p+v*v);if(i&&P<A||a&&P>A&&A>1e-4){var y=(P/A-1)*s+1;w*=y,o&&(C*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,w,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,d=e.ascaleY,p=r.ascaleX,v=e.matrix,y=0,m=0,g=0;f<0?(f=-f,y=180,g=-1):(y=0,g=1),d<0&&(d=-d,g=-g),p<0?(p=-p,m=180):m=0;var x=r.ax,S=0,b=0,w=0,C=v.a,A=v.c,P=v.b,O=v.d,I=Math.abs(f-d)<=1e-4;I?(S=r.ay,b=C*x+A*S+v.tx,w=P*x+O*S+v.ty):(S=0,b=C*x+v.tx,w=P*x+v.ty);var R=e.parent.matrix;C=R.a,A=R.c,P=R.b,O=R.d;var k=1/(C*O-A*P),D=b-R.tx,L=w-R.ty,U=(D*O-L*A)*k-l,W=(L*C-D*P)*k-u,te=Math.sqrt(U*U+W*W),J=r.data.length*p,z,M;if(te<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(x,S,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}D=n-R.tx,L=i-R.ty;var V=(D*O-L*A)*k-l,$=(L*C-D*P)*k-u,j=V*V+$*$;if(s!=0){s*=f*(p+1)/2;var Q=Math.sqrt(j),ie=Q-te-J*f+s;if(ie>0){var de=Math.min(1,ie/(s*2))-1;de=(ie-s*(1-de*de))/Q,V-=de*V,$-=de*$,j=V*V+$*$}}e:if(I){J*=f;var ue=(j-te*te-J*J)/(2*te*J);ue<-1?ue=-1:ue>1&&(ue=1,o&&(h*=(Math.sqrt(j)/(te+J)-1)*c+1)),M=Math.acos(ue)*a,C=te+J*ue,A=J*Math.sin(M),z=Math.atan2($*C-V*A,V*C+$*A)}else{C=f*J,A=d*J;var be=C*C,Pe=A*A,ye=Math.atan2($,V);P=Pe*te*te+be*j-be*Pe;var we=-2*Pe*te,_e=Pe-be;if(O=we*we-4*_e*P,O>=0){var xe=Math.sqrt(O);we<0&&(xe=-xe),xe=-(we+xe)/2;var je=xe/_e,Xe=P/xe,Fe=Math.abs(je)<Math.abs(Xe)?je:Xe;if(Fe*Fe<=j){L=Math.sqrt(j-Fe*Fe)*a,z=ye-Math.atan2(L,Fe),M=Math.atan2(L/d,(Fe-te)/f);break e}}var at=K.PI,vt=te-C,yt=vt*vt,tt=0,ot=0,dt=te+C,qt=dt*dt,nr=0;P=-C*te/(be-Pe),P>=-1&&P<=1&&(P=Math.acos(P),D=C*Math.cos(P)+te,L=A*Math.sin(P),O=D*D+L*L,O<yt&&(at=P,yt=O,vt=D,tt=L),O>qt&&(ot=P,qt=O,dt=D,nr=L)),j<=(yt+qt)/2?(z=ye-Math.atan2(tt*a,vt),M=at*a):(z=ye-Math.atan2(nr*a,dt),M=ot*a)}var Zt=Math.atan2(S,x)*g,Gt=e.arotation;z=(z-Zt)*K.radDeg+y-Gt,z>180?z-=360:z<-180&&(z+=360),e.updateWorldTransformWith(l,u,Gt+z*c,h,e.ascaleY,0,0),Gt=r.arotation,M=((M+Zt)*K.radDeg-r.ashearX)*g+m-Gt,M>180?M-=360:M<-180&&(M+=360),r.updateWorldTransformWith(x,S,Gt+M*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),hO=function(t){jr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(S_),dO=function(t){jr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(S_),wn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(wn||(wn={}));var c9=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Pp){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==wn.Length,l=o.rotateMode,u=l==Qr.Tangent,f=l==Qr.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=ce.setArraySize(this.spaces,d),y=null,m=this.spacing;if(f||c){f&&(y=ce.setArraySize(this.lengths,h));for(var g=0,x=d-1;g<x;){var S=p[g],b=S.data.length;if(b<t.epsilon)f&&(y[g]=0),v[++g]=0;else{var w=b*S.matrix.a,C=b*S.matrix.b,A=Math.sqrt(w*w+C*C);f&&(y[g]=A),v[++g]=(c?b+m:m)*A/b}}}else for(var g=1;g<d;g++)v[g]=m;var P=this.computeWorldPositions(e,d,u,o.positionMode==Br.Percent,s==wn.Percent),O=P[0],I=P[1],R=o.offsetRotation,k=!1;if(R==0)k=l==Qr.Chain;else{k=!1;var D=this.target.bone.matrix;R*=D.a*D.d-D.b*D.c>0?K.degRad:-K.degRad}for(var g=0,D=3;g<h;g++,D+=3){var S=p[g],L=S.matrix;L.tx+=(O-L.tx)*n,L.ty+=(I-L.ty)*n;var w=P[D],C=P[D+1],U=w-O,W=C-I;if(f){var te=y[g];if(te!=0){var J=(Math.sqrt(U*U+W*W)/te-1)*r+1;L.a*=J,L.b*=J}}if(O=w,I=C,a){var z=L.a,M=L.c,V=L.b,$=L.d,j=0,Q=0,ie=0;if(u?j=P[D-1]:v[g+1]==0?j=P[D+2]:j=Math.atan2(W,U),j-=Math.atan2(V,z),k){Q=Math.cos(j),ie=Math.sin(j);var de=S.data.length;O+=(de*(Q*z-ie*V)-U)*r,I+=(de*(ie*z+Q*V)-W)*r}else j+=R;j>K.PI?j-=K.PI2:j<-K.PI&&(j+=K.PI2),j*=r,Q=Math.cos(j),ie=Math.sin(j),L.a=Q*z-ie*V,L.c=Q*M-ie*$,L.b=ie*z+Q*V,L.d=ie*M+Q*$}S.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ce.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var y=v[d];if(i&&(s*=y),a)for(var m=0;m<r;m++)c[m]*=y;u=ce.setArraySize(this.world,8);for(var m=0,g=0,x=0;m<r;m++,g+=3){var S=c[m];s+=S;var b=s;if(f)b%=y,b<0&&(b+=y),x=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>y){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-y,u,0,l,g);continue}for(;;x++){var w=v[x];if(!(b>w)){if(x==0)b/=w;else{var C=v[x-1];b=(b-C)/(w-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||m>0&&S==0)}return l}f?(h+=2,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ce.setArraySize(this.curves,d),P=0,O=u[0],I=u[1],R=0,k=0,D=0,L=0,U=0,W=0,te=0,J=0,z=0,M=0,V=0,$=0,j=0,Q=0,m=0,ie=2;m<d;m++,ie+=6)R=u[ie],k=u[ie+1],D=u[ie+2],L=u[ie+3],U=u[ie+4],W=u[ie+5],te=(O-R*2+D)*.1875,J=(I-k*2+L)*.1875,z=((R-D)*3-O+U)*.09375,M=((k-L)*3-I+W)*.09375,V=te*2+z,$=J*2+M,j=(R-O)*.75+te+z*.16666667,Q=(k-I)*.75+J+M*.16666667,P+=Math.sqrt(j*j+Q*Q),j+=V,Q+=$,V+=z,$+=M,P+=Math.sqrt(j*j+Q*Q),j+=V,Q+=$,P+=Math.sqrt(j*j+Q*Q),j+=V+z,Q+=$+M,P+=Math.sqrt(j*j+Q*Q),A[m]=P,O=U,I=W;if(i&&(s*=P),a)for(var m=0;m<r;m++)c[m]*=P;for(var de=this.segments,ue=0,m=0,g=0,x=0,be=0;m<r;m++,g+=3){var S=c[m];s+=S;var b=s;if(f)b%=P,b<0&&(b+=P),x=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>P){this.addAfterPosition(b-P,u,h-4,l,g);continue}for(;;x++){var Pe=A[x];if(!(b>Pe)){if(x==0)b/=Pe;else{var C=A[x-1];b=(b-C)/(Pe-C)}break}}if(x!=p){p=x;var ye=x*6;for(O=u[ye],I=u[ye+1],R=u[ye+2],k=u[ye+3],D=u[ye+4],L=u[ye+5],U=u[ye+6],W=u[ye+7],te=(O-R*2+D)*.03,J=(I-k*2+L)*.03,z=((R-D)*3-O+U)*.006,M=((k-L)*3-I+W)*.006,V=te*2+z,$=J*2+M,j=(R-O)*.3+te+z*.16666667,Q=(k-I)*.3+J+M*.16666667,ue=Math.sqrt(j*j+Q*Q),de[0]=ue,ye=1;ye<8;ye++)j+=V,Q+=$,V+=z,$+=M,ue+=Math.sqrt(j*j+Q*Q),de[ye]=ue;j+=V,Q+=$,ue+=Math.sqrt(j*j+Q*Q),de[8]=ue,j+=V+z,Q+=$+M,ue+=Math.sqrt(j*j+Q*Q),de[9]=ue,be=0}for(b*=ue;;be++){var we=de[be];if(!(b>we)){if(be==0)b/=we;else{var C=de[be-1];b=be+(b-C)/(we-C)}break}}this.addCurvePosition(b*.1,O,I,R,k,D,L,U,W,l,g,n||m>0&&S==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,y=v*v,m=y*v,g=v*e,x=g*3,S=v*x,b=x*e,w=r*m+i*S+o*b+c*p,C=n*m+a*S+s*b+l*p;u[f]=w,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*y+a*g*2+s*d),w-(r*y+i*g*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),f9=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Tp,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,y=p.length;v<y;v++){var m=p[v],g=!1,x=m.matrix;if(e!=0){var S=x.a,b=x.c,w=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(w,S)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var P=Math.cos(A),O=Math.sin(A);x.a=P*S-O*w,x.c=P*b-O*C,x.b=O*S+P*w,x.d=O*b+P*C,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),x.tx+=(I.x-x.tx)*r,x.ty+=(I.y-x.ty)*r,g=!0}if(n>0){var R=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);R>1e-5&&(R=(R+(k-R+this.data.offsetScaleX)*n)/R),x.a*=R,x.b*=R,R=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),R>1e-5&&(R=(R+(k-R+this.data.offsetScaleY)*n)/R),x.c*=R,x.d*=R,g=!0}if(i>0){var b=x.c,C=x.d,D=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(D-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=D+(A+d)*i;var R=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*R,x.d=Math.sin(A)*R,g=!0}g&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,y=p.length;v<y;v++){var m=p[v],g=!1,x=m.matrix;if(e!=0){var S=x.a,b=x.c,w=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var P=Math.cos(A),O=Math.sin(A);x.a=P*S-O*w,x.c=P*b-O*C,x.b=O*S+P*w,x.d=O*b+P*C,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),x.tx+=I.x*r,x.ty+=I.y*r,g=!0}if(n>0){var R=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=R,x.b*=R,R=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=R,x.d*=R,g=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var b=x.c,C=x.d;A=Math.atan2(C,b)+(A-K.PI/2+d)*i;var R=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*R,x.d=Math.sin(A)*R,g=!0}g&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var y=l.ashearY;if(i>0){var f=a.ashearY-y+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,y)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t}(),h9=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new fA(n,this,null);else{var a=this.bones[n.parent.index];i=new fA(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new rO(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new u9(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new f9(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new c9(u,this))}this.color=new Ne(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Pp&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Pp){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof nO)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof x_){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var y=0,m=d.length;y<m;y+=2){var g=d[y],x=d[y+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),pO=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),vO=function(){function t(e,r,n){if(this.color=new Ne(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),gO=function(t){jr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(S_),hA=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Im=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof x_?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new hA(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new hA(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),d9=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new pO;n.name="";var i=new Rm(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new uO(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&Ne.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),d=n.bones[i.readInt(!0)],f=new vO(c,h,d);Ne.rgba8888ToColor(f.color,i.readInt32());var p=i.readInt32();p!=-1&&Ne.rgb888ToColor(f.darkColor=new Ne,p),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new hO(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var y=0;y<v;y++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new gO(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var y=0;y<v;y++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new dO(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var y=0;y<v;y++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==Br.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==wn.Length||f.spacingMode==wn.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var m=this.readSkin(i,n,!0,o);m!=null&&(n.defaultSkin=m,n.skins.push(m));{var c=n.skins.length;for(ce.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var g=this.linkedMeshes[c],x=g.skin==null?n.defaultSkin:n.findSkin(g.skin);if(x==null)throw new Error("Skin not found: "+g.skin);var S=x.getAttachment(g.slotIndex,g.parent);if(S==null)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?S:g.mesh,g.mesh.setParentMesh(S)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new fO(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Im("default")}else{a=new Im(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),d=this.readAttachment(e,r,a,l,h,i);d!=null&&a.setAttachment(l,h,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case Ot.Region:{var f=e.readStringRef(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),y=e.readFloat(),m=e.readFloat(),g=e.readFloat(),x=e.readInt32();f==null&&(f=c);var S=this.attachmentLoader.newRegionAttachment(n,c,f);return S==null?null:(S.path=f,S.x=d*s,S.y=p*s,S.scaleX=v,S.scaleY=y,S.rotation=h,S.width=m*s,S.height=g*s,Ne.rgba8888ToColor(S.color,x),S)}case Ot.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),x=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=b<<1,C.vertices=w.vertices,C.bones=w.bones,o&&Ne.rgba8888ToColor(C.color,x),C)}case Ot.Mesh:{var f=e.readStringRef(),x=e.readInt32(),b=e.readInt(!0),A=this.readFloatArray(e,b<<1,1),P=this.readShortArray(e),w=this.readVertices(e,b),O=e.readInt(!0),I=null,m=0,g=0;o&&(I=this.readShortArray(e),m=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var R=this.attachmentLoader.newMeshAttachment(n,c,f);return R==null?null:(R.path=f,Ne.rgba8888ToColor(R.color,x),R.bones=w.bones,R.vertices=w.vertices,R.worldVerticesLength=b<<1,R.triangles=P,R.regionUVs=new Float32Array(A),R.hullLength=O<<1,o&&(R.edges=I,R.width=m*s,R.height=g*s),R)}case Ot.LinkedMesh:{var f=e.readStringRef(),x=e.readInt32(),k=e.readStringRef(),D=e.readStringRef(),L=e.readBoolean(),m=0,g=0;o&&(m=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var R=this.attachmentLoader.newMeshAttachment(n,c,f);return R==null?null:(R.path=f,Ne.rgba8888ToColor(R.color,x),o&&(R.width=m*s,R.height=g*s),this.linkedMeshes.push(new Uke(R,k,i,D,L)),R)}case Ot.Path:{for(var U=e.readBoolean(),W=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),te=ce.newArray(b/3,0),J=0,z=te.length;J<z;J++)te[J]=e.readFloat()*s;var x=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=U,f.constantSpeed=W,f.worldVerticesLength=b<<1,f.vertices=w.vertices,f.bones=w.bones,f.lengths=te,o&&Ne.rgba8888ToColor(f.color,x),f)}case Ot.Point:{var h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),x=o?e.readInt32():0,M=this.attachmentLoader.newPointAttachment(n,c);return M==null?null:(M.x=d*s,M.y=p*s,M.rotation=h,o&&Ne.rgba8888ToColor(M.color,x),M)}case Ot.Clipping:{var V=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),x=o?e.readInt32():0,$=this.attachmentLoader.newClippingAttachment(n,c);return $==null?null:($.endSlot=r.slots[V],$.worldVerticesLength=b<<1,$.vertices=w.vertices,$.bones=w.bones,o&&Ne.rgba8888ToColor($.color,x),$)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new jke,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=ce.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new Ne,c=new Ne,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.SLOT_ATTACHMENT:{var y=new Tu(v);y.slotIndex=f;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readStringRef());i.push(y),o=Math.max(o,y.frames[v-1]);break}case t.SLOT_COLOR:{var y=new Op(v);y.slotIndex=f;for(var m=0;m<v;m++){var g=e.readFloat();Ne.rgba8888ToColor(s,e.readInt32()),y.setFrame(m,g,s.r,s.g,s.b,s.a),m<v-1&&this.readCurve(e,m,y)}i.push(y),o=Math.max(o,y.frames[(v-1)*Op.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var y=new Rp(v);y.slotIndex=f;for(var m=0;m<v;m++){var g=e.readFloat();Ne.rgba8888ToColor(s,e.readInt32()),Ne.rgb888ToColor(c,e.readInt32()),y.setFrame(m,g,s.r,s.g,s.b,s.a,c.r,c.g,c.b),m<v-1&&this.readCurve(e,m,y)}i.push(y),o=Math.max(o,y.frames[(v-1)*Rp.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var x=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.BONE_ROTATE:{var y=new ha(v);y.boneIndex=x;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*ha.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var y=void 0,S=1;p==t.BONE_SCALE?y=new iO(v):p==t.BONE_SHEAR?y=new aO(v):(y=new qu(v),S=a),y.boneIndex=x;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat()*S,e.readFloat()*S),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*qu.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),y=new Ip(v);y.ikConstraintIndex=b;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*Ip.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),v=e.readInt(!0),y=new kp(v);y.transformConstraintIndex=b;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*kp.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),w=n.pathConstraints[b],h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.PATH_POSITION:case t.PATH_SPACING:{var y=void 0,S=1;p==t.PATH_SPACING?(y=new sO(v),(w.spacingMode==wn.Length||w.spacingMode==wn.Fixed)&&(S=a)):(y=new Uf(v),w.positionMode==Br.Fixed&&(S=a)),y.pathConstraintIndex=b;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat()*S),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*Uf.ENTRIES]);break}case t.PATH_MIX:{var y=new Fp(v);y.pathConstraintIndex=b;for(var m=0;m<v;m++)y.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,y);i.push(y),o=Math.max(o,y.frames[(v-1)*Fp.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,d=e.readInt(!0);h<d;h++)for(var f=e.readInt(!0),A=0,P=e.readInt(!0);A<P;A++){var O=C.getAttachment(f,e.readStringRef()),I=O.bones!=null,R=O.vertices,k=I?R.length/3*2:R.length,v=e.readInt(!0),y=new oO(v);y.slotIndex=f,y.attachment=O;for(var m=0;m<v;m++){var g=e.readFloat(),D=void 0,L=e.readInt(!0);if(L==0)D=I?ce.newFloatArray(k):R;else{D=ce.newFloatArray(k);var U=e.readInt(!0);if(L+=U,a==1)for(var W=U;W<L;W++)D[W]=e.readFloat();else for(var W=U;W<L;W++)D[W]=e.readFloat()*a;if(!I)for(var W=0,te=D.length;W<te;W++)D[W]+=R[W]}y.setFrame(m,g,D),m<v-1&&this.readCurve(e,m,y)}i.push(y),o=Math.max(o,y.frames[v-1])}var J=e.readInt(!0);if(J>0){for(var y=new mf(J),z=n.slots.length,l=0;l<J;l++){for(var g=e.readFloat(),M=e.readInt(!0),V=ce.newArray(z,0),h=z-1;h>=0;h--)V[h]=-1;for(var $=ce.newArray(z-M,0),j=0,Q=0,h=0;h<M;h++){for(var f=e.readInt(!0);j!=f;)$[Q++]=j++;V[j+e.readInt(!0)]=j++}for(;j<z;)$[Q++]=j++;for(var h=z-1;h>=0;h--)V[h]==-1&&(V[h]=$[--Q]);y.setFrame(l,g,V)}i.push(y),o=Math.max(o,y.frames[J-1])}var ie=e.readInt(!0);if(ie>0){for(var y=new b_(ie),l=0;l<ie;l++){var g=e.readFloat(),de=n.events[e.readInt(!0)],ue=new cO(g,de);ue.intValue=e.readInt(!1),ue.floatValue=e.readFloat(),ue.stringValue=e.readBoolean()?e.readString():de.stringValue,ue.data.audioPath!=null&&(ue.volume=e.readFloat(),ue.balance=e.readFloat()),y.setFrame(l,ue)}i.push(y),o=Math.max(o,y.frames[ie-1])}return new ln(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[_t.Normal,_t.OnlyTranslation,_t.NoRotationOrReflection,_t.NoScale,_t.NoScaleOrReflection],t.PositionModeValues=[Br.Fixed,Br.Percent],t.SpacingModeValues=[wn.Length,wn.Fixed,wn.Percent],t.RotateModeValues=[Qr.Tangent,Qr.Chain,Qr.ChainScale],t.BlendModeValues=[ze.NORMAL,ze.ADD,ze.MULTIPLY,ze.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),Uke=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),jke=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),$ke=function(t){jr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(eO),p9=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new pO,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new uO(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],d=h.name,p=h.bone,v=n.findBone(p);if(v==null)throw new Error("Slot bone not found: "+p);var f=new vO(n.slots.length,d,v),y=this.getValue(h,"color",null);y!=null&&f.color.setFromString(y);var m=this.getValue(h,"dark",null);m!=null&&(f.darkColor=new Ne(1,1,1,1),f.darkColor.setFromString(m)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var g=i.ik[s],f=new hO(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],S=n.findBone(p);if(S==null)throw new Error("IK bone not found: "+p);f.bones.push(S)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(g,"mix",1),f.softness=this.getValue(g,"softness",0)*r,f.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,f.compress=this.getValue(g,"compress",!1),f.stretch=this.getValue(g,"stretch",!1),f.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var g=i.transform[s],f=new gO(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],S=n.findBone(p);if(S==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(S)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(g,"local",!1),f.relative=this.getValue(g,"relative",!1),f.offsetRotation=this.getValue(g,"rotation",0),f.offsetX=this.getValue(g,"x",0)*r,f.offsetY=this.getValue(g,"y",0)*r,f.offsetScaleX=this.getValue(g,"scaleX",0),f.offsetScaleY=this.getValue(g,"scaleY",0),f.offsetShearY=this.getValue(g,"shearY",0),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),f.scaleMix=this.getValue(g,"scaleMix",1),f.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var g=i.path[s],f=new dO(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var x=0;x<g.bones.length;x++){var p=g.bones[x],S=n.findBone(p);if(S==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(S)}var b=g.target;if(f.target=n.findSlot(b),f.target==null)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),f.offsetRotation=this.getValue(g,"rotation",0),f.position=this.getValue(g,"position",0),f.positionMode==Br.Fixed&&(f.position*=r),f.spacing=this.getValue(g,"spacing",0),(f.spacingMode==wn.Length||f.spacingMode==wn.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var w=i.skins[s],C=new Im(w.name);if(w.bones)for(var A=0;A<w.bones.length;A++){var S=n.findBone(w.bones[A]);if(S==null)throw new Error("Skin bone not found: "+w.bones[s]);C.bones.push(S)}if(w.ik)for(var A=0;A<w.ik.length;A++){var P=n.findIkConstraint(w.ik[A]);if(P==null)throw new Error("Skin IK constraint not found: "+w.ik[s]);C.constraints.push(P)}if(w.transform)for(var A=0;A<w.transform.length;A++){var P=n.findTransformConstraint(w.transform[A]);if(P==null)throw new Error("Skin transform constraint not found: "+w.transform[s]);C.constraints.push(P)}if(w.path)for(var A=0;A<w.path.length;A++){var P=n.findPathConstraint(w.path[A]);if(P==null)throw new Error("Skin path constraint not found: "+w.path[s]);C.constraints.push(P)}for(var d in w.attachments){var O=n.findSlot(d);if(O==null)throw new Error("Slot not found: "+d);var h=w.attachments[d];for(var I in h){var R=this.readAttachment(h[I],C,O.index,I,n);R!=null&&C.setAttachment(O.index,I,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var D=this.linkedMeshes[s],C=D.skin==null?n.defaultSkin:n.findSkin(D.skin);if(C==null)throw new Error("Skin not found: "+D.skin);var L=C.getAttachment(D.slotIndex,D.parent);if(L==null)throw new Error("Parent mesh not found: "+D.parent);D.mesh.deformAttachment=D.inheritDeform?L:D.mesh,D.mesh.setParentMesh(L)}if(this.linkedMeshes.length=0,i.events)for(var U in i.events){var W=i.events[U],f=new fO(U);f.intValue=this.getValue(W,"int",0),f.floatValue=this.getValue(W,"float",0),f.stringValue=this.getValue(W,"string",""),f.audioPath=this.getValue(W,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(W,"volume",1),f.balance=this.getValue(W,"balance",0)),n.events.push(f)}if(i.animations)for(var te in i.animations){var J=i.animations[te];this.readAnimation(J,te,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var d=this.getValue(e,"parent",null);if(d!=null)return this.linkedMeshes.push(new Vke(h,this.getValue(e,"skin",null),n,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var y=ce.newArray(v/3,0),m=0;m<e.lengths.length;m++)y[m]=e.lengths[m]*o;c.lengths=y;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var S=this.getValue(e,"end",null);if(S!=null){var b=a.findSlot(S);if(b==null)throw new Error("Clipping end slot not found: "+S);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Tu(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Op(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],y=new Ne;y.setFromString(v.color||"ffffffff"),h.setFrame(d,this.getValue(v,"time",0),y.r,y.g,y.b,y.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Op.ENTRIES])}else if(u=="twoColor"){var h=new Rp(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new Ne,g=new Ne;m.setFromString(v.light),g.setFromString(v.dark),h.setFrame(d,this.getValue(v,"time",0),m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Rp.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var S=e.bones[x],b=n.findBoneIndex(x);if(b==-1)throw new Error("Bone not found: "+x);for(var u in S){var f=S[u];if(u==="rotate"){var h=new ha(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ha.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,w=1,C=0;u==="scale"?(h=new iO(f.length),C=1):u==="shear"?h=new aO(f.length):(h=new qu(f.length),w=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],A=this.getValue(v,"x",C),P=this.getValue(v,"y",C);h.setFrame(d,this.getValue(v,"time",0),A*w,P*w),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qu.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var O in e.ik){var I=e.ik[O],R=n.findIkConstraint(O),h=new Ip(I.length);h.ikConstraintIndex=n.ikConstraints.indexOf(R);for(var d=0,p=0;p<I.length;p++){var v=I[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ip.ENTRIES])}if(e.transform)for(var O in e.transform){var I=e.transform[O],R=n.findTransformConstraint(O),h=new kp(I.length);h.transformConstraintIndex=n.transformConstraints.indexOf(R);for(var d=0,p=0;p<I.length;p++){var v=I[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*kp.ENTRIES])}if(e.path)for(var O in e.path){var I=e.path[O],k=n.findPathConstraintIndex(O);if(k==-1)throw new Error("Path constraint not found: "+O);var D=n.pathConstraints[k];for(var u in I){var f=I[u];if(u==="position"||u==="spacing"){var h=null,w=1;u==="spacing"?(h=new sO(f.length),(D.spacingMode==wn.Length||D.spacingMode==wn.Fixed)&&(w=i)):(h=new Uf(f.length),D.positionMode==Br.Fixed&&(w=i)),h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,u,0)*w),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Uf.ENTRIES])}else if(u==="mix"){var h=new Fp(f.length);h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Fp.ENTRIES])}}}if(e.deform)for(var L in e.deform){var U=e.deform[L],W=n.findSkin(L);if(W!=null)for(var s in U){var c=U[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],te=W.getAttachment(l,u);if(te==null)throw new Error("Deform attachment not found: "+f.name);var J=te.bones!=null,z=te.vertices,M=J?z.length/3*2:z.length,h=new oO(f.length);h.slotIndex=l,h.attachment=te;for(var d=0,V=0;V<f.length;V++){var v=f[V],$=void 0,j=this.getValue(v,"vertices",null);if(j==null)$=J?ce.newFloatArray(M):z;else{$=ce.newFloatArray(M);var Q=this.getValue(v,"offset",0);if(ce.arrayCopy(j,0,$,Q,j.length),i!=1)for(var p=Q,ie=p+j.length;p<ie;p++)$[p]*=i;if(!J)for(var p=0;p<M;p++)$[p]+=z[p]}h.setFrame(d,this.getValue(v,"time",0),$),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var de=e.drawOrder;if(de==null&&(de=e.draworder),de!=null){for(var h=new mf(de.length),ue=n.slots.length,d=0,V=0;V<de.length;V++){var be=de[V],Pe=null,ye=this.getValue(be,"offsets",null);if(ye!=null){Pe=ce.newArray(ue,-1);for(var we=ce.newArray(ue-ye.length,0),_e=0,xe=0,p=0;p<ye.length;p++){var je=ye[p],l=n.findSlotIndex(je.slot);if(l==-1)throw new Error("Slot not found: "+je.slot);for(;_e!=l;)we[xe++]=_e++;Pe[_e+je.offset]=_e++}for(;_e<ue;)we[xe++]=_e++;for(var p=ue-1;p>=0;p--)Pe[p]==-1&&(Pe[p]=we[--xe])}h.setFrame(d++,this.getValue(be,"time",0),Pe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new b_(e.events.length),d=0,p=0;p<e.events.length;p++){var Xe=e.events[p],Fe=n.findEvent(Xe.name);if(Fe==null)throw new Error("Event not found: "+Xe.name);var at=new cO(ce.toSinglePrecision(this.getValue(Xe,"time",0)),Fe);at.intValue=this.getValue(Xe,"int",Fe.intValue),at.floatValue=this.getValue(Xe,"float",Fe.floatValue),at.stringValue=this.getValue(Xe,"string",Fe.stringValue),at.data.audioPath!=null&&(at.volume=this.getValue(Xe,"volume",1),at.balance=this.getValue(Xe,"balance",0)),h.setFrame(d++,at)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new ln(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ze.NORMAL;if(e=="additive")return ze.ADD;if(e=="multiply")return ze.MULTIPLY;if(e=="screen")return ze.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return Br.Fixed;if(e=="percent")return Br.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return wn.Length;if(e=="fixed")return wn.Fixed;if(e=="percent")return wn.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Qr.Tangent;if(e=="chain")return Qr.Chain;if(e=="chainscale")return Qr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return _t.Normal;if(e=="onlytranslation")return _t.OnlyTranslation;if(e=="norotationorreflection")return _t.NoRotationOrReflection;if(e=="noscale")return _t.NoScale;if(e=="noscaleorreflection")return _t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),Vke=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),Gke=function(t){jr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new h9(r),this.skeleton.updateWorldTransform(),this.stateData=new l9(r),this.state=new a9(this.stateData)},e}(s0);const Wke=Object.freeze(Object.defineProperty({__proto__:null,Animation:ln,AnimationState:a9,AnimationStateAdapter:Nke,AnimationStateData:l9,AtlasAttachmentLoader:lO,Attachment:tO,AttachmentTimeline:Tu,Bone:fA,BoneData:uO,BoundingBoxAttachment:r9,ClippingAttachment:n9,ColorTimeline:Op,ConstraintData:S_,CurveTimeline:es,DeformTimeline:oO,DrawOrderTimeline:mf,Event:cO,EventData:fO,EventQueue:s9,EventTimeline:b_,get EventType(){return Ri},IkConstraint:u9,IkConstraintData:hO,IkConstraintTimeline:Ip,JitterEffect:Lke,MeshAttachment:x_,PathAttachment:Pp,PathConstraint:c9,PathConstraintData:dO,PathConstraintMixTimeline:Fp,PathConstraintPositionTimeline:Uf,PathConstraintSpacingTimeline:sO,PointAttachment:i9,RegionAttachment:nO,RotateTimeline:ha,ScaleTimeline:iO,ShearTimeline:aO,Skeleton:h9,SkeletonBinary:d9,SkeletonBounds:$ke,SkeletonData:pO,SkeletonJson:p9,Skin:Im,SkinEntry:hA,Slot:rO,SlotData:vO,get SpacingMode(){return wn},Spine:Gke,SwirlEffect:Bke,get TimelineType(){return Hn},TrackEntry:o9,TransformConstraint:f9,TransformConstraintData:gO,TransformConstraintTimeline:kp,TranslateTimeline:qu,TwoColorTimeline:Rp,VertexAttachment:sc},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dA=function(t,e){return dA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dA(t,e)};function cn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mO=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),lc=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,y=h.c,m=h.b,g=h.d,x=n,S=o;S<i;x+=2,S+=s){var b=u[x],w=u[x+1];a[S]=b*v+w*y+d,a[S+1]=b*m+w*g+p}return}for(var C=0,A=0,P=0;P<n;P+=2){var O=f[C];C+=O+1,A+=O}var I=c.bones;if(l.length==0)for(var S=o,y=A*3;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3){var h=I[f[C]].matrix,b=u[y],w=u[y+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}else for(var L=l,S=o,y=A*3,U=A<<1;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3,U+=2){var h=I[f[C]].matrix,b=u[y]+L[U],w=u[y+1]+L[U+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(mO),v9=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.BoundingBox,n.color=new Ne(1,1,1,1),n}return e}(lc),g9=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Clipping,n.color=new Ne(.2275,.2275,.8078,1),n}return e}(lc),yO=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Mesh,n.color=new Ne(1,1,1,1),n.inheritDeform=!1,n.tempColor=new Ne(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(lc),Dp=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Ne(1,1,1,1),n}return e}(lc),m9=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Point,n.color=new Ne(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e}(lc),_O=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Ne,this.darkColor=e.darkColor==null?null:new Ne,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),xO=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Ne(1,1,1,1),n.offset=ce.newFloatArray(8),n.uvs=ce.newFloatArray(8),n.tempColor=new Ne(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,y=o*u,m=s*l+this.y,g=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-g,x[e.OY2]=m+h,x[e.OX3]=v-g,x[e.OY3]=m+y,x[e.OX4]=v-p,x[e.OY4]=d+y},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof _O?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(mO),zke=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),Hke=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new t9(2),t}(),kn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Xn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Xn||(Xn={}));var ts=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ce.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var y=h,m=d,g=p+t.BEZIER_SIZE-1;p<g;p+=2)v[p]=y,v[p+1]=m,h+=u,d+=f,u+=c,f+=l,y+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),so=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Xn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.rotation=u.data.rotation;return;case H.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case H.setup:u.rotation=u.data.rotation+h*o;break;case H.first:case H.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case H.add:u.rotation+=h*o}return}var d=kn.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],y=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*y,s){case H.setup:u.rotation=u.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case H.first:case H.replace:m+=u.data.rotation-u.rotation;case H.add:u.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(ts),Mp=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.x=u.data.x,u.y=u.data.y;return;case H.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=kn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case H.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case H.first:case H.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case H.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(ts),y9=function(t){cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Xn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case H.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=kn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==H.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var y=0,m=0;if(c==At.mixOut)switch(s){case H.setup:y=u.data.scaleX,m=u.data.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-y)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case H.first:case H.replace:y=u.scaleX,m=u.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-y)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case H.add:y=u.scaleX,m=u.scaleY,u.scaleX=y+(Math.abs(f)*K.signum(y)-u.data.scaleX)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-u.data.scaleY)*o}else switch(s){case H.setup:y=Math.abs(u.data.scaleX)*K.signum(f),m=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=y+(f-y)*o,u.scaleY=m+(h-m)*o;break;case H.first:case H.replace:y=Math.abs(u.scaleX)*K.signum(f),m=Math.abs(u.scaleY)*K.signum(h),u.scaleX=y+(f-y)*o,u.scaleY=m+(h-m)*o;break;case H.add:y=K.signum(f),m=K.signum(h),u.scaleX=Math.abs(u.scaleX)*y+(f-Math.abs(u.data.scaleX)*y)*o,u.scaleY=Math.abs(u.scaleY)*m+(h-Math.abs(u.data.scaleY)*m)*o}}},e}(Mp),_9=function(t){cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Xn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case H.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=kn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case H.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case H.first:case H.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case H.add:u.shearX+=f*o,u.shearY+=h*o}},e}(Mp),pA=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color);return;case H.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,y=0;if(i>=u[u.length-e.ENTRIES]){var m=u.length;d=u[m+e.PREV_R],p=u[m+e.PREV_G],v=u[m+e.PREV_B],y=u[m+e.PREV_A]}else{var g=kn.binarySearch(u,i,e.ENTRIES);d=u[g+e.PREV_R],p=u[g+e.PREV_G],v=u[g+e.PREV_B],y=u[g+e.PREV_A];var x=u[g],S=this.getCurvePercent(g/e.ENTRIES-1,1-(i-x)/(u[g+e.PREV_TIME]-x));d+=(u[g+e.R]-d)*S,p+=(u[g+e.G]-p)*S,v+=(u[g+e.B]-v)*S,y+=(u[g+e.A]-y)*S}if(o==1)l.color.set(d,p,v,y);else{var f=l.color;s==H.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(y-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(ts),vA=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case H.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,y=0,m=0,g=0,x=0,S=0,b=0;if(i>=u[u.length-e.ENTRIES]){var w=u.length;v=u[w+e.PREV_R],y=u[w+e.PREV_G],m=u[w+e.PREV_B],g=u[w+e.PREV_A],x=u[w+e.PREV_R2],S=u[w+e.PREV_G2],b=u[w+e.PREV_B2]}else{var C=kn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],y=u[C+e.PREV_G],m=u[C+e.PREV_B],g=u[C+e.PREV_A],x=u[C+e.PREV_R2],S=u[C+e.PREV_G2],b=u[C+e.PREV_B2];var A=u[C],P=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*P,y+=(u[C+e.G]-y)*P,m+=(u[C+e.B]-m)*P,g+=(u[C+e.A]-g)*P,x+=(u[C+e.R2]-x)*P,S+=(u[C+e.G2]-S)*P,b+=(u[C+e.B2]-b)*P}if(o==1)l.color.set(v,y,m,g),l.darkColor.set(x,S,b,1);else{var f=l.color,h=l.darkColor;s==H.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(y-f.g)*o,(m-f.b)*o,(g-f.a)*o),h.add((x-h.r)*o,(S-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(ts),km=function(){function t(e){this.frames=ce.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Xn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==At.mixOut&&o==H.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==H.setup||o==H.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=kn.binarySearch(u,n,1)-1;var d=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))},t}(),v3=null,x9=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r),n.frameVertices=new Array(r),v3==null&&(v3=ce.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Xn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof lc)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=H.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;break}var y=ce.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++)y[g]+=(m[g]-y[g])*o;else{o=1-o;for(var g=0;g<d;g++)y[g]*=o}}return}var x=ce.setArraySize(f,d);if(i>=p[p.length-1]){var S=h[p.length-1];if(o==1)if(s==H.add){var v=u;if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++)x[g]+=S[g]-m[g];else for(var g=0;g<d;g++)x[g]+=S[g]}else ce.arrayCopy(S,0,x,0,d);else switch(s){case H.setup:{var b=u;if(b.bones==null)for(var m=b.vertices,g=0;g<d;g++){var w=m[g];x[g]=w+(S[g]-w)*o}else for(var g=0;g<d;g++)x[g]=S[g]*o;break}case H.first:case H.replace:for(var g=0;g<d;g++)x[g]+=(S[g]-x[g])*o;case H.add:var v=u;if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++)x[g]+=(S[g]-m[g])*o;else for(var g=0;g<d;g++)x[g]+=S[g]*o}return}var C=kn.binarySearch(p,i),A=h[C-1],P=h[C],O=p[C],I=this.getCurvePercent(C-1,1-(i-O)/(p[C-1]-O));if(o==1)if(s==H.add){var v=u;if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++){var R=A[g];x[g]+=R+(P[g]-R)*I-m[g]}else for(var g=0;g<d;g++){var R=A[g];x[g]+=R+(P[g]-R)*I}}else for(var g=0;g<d;g++){var R=A[g];x[g]=R+(P[g]-R)*I}else switch(s){case H.setup:{var k=u;if(k.bones==null)for(var m=k.vertices,g=0;g<d;g++){var R=A[g],w=m[g];x[g]=w+(R+(P[g]-R)*I-w)*o}else for(var g=0;g<d;g++){var R=A[g];x[g]=(R+(P[g]-R)*I)*o}break}case H.first:case H.replace:for(var g=0;g<d;g++){var R=A[g];x[g]+=(R+(P[g]-R)*I-x[g])*o}break;case H.add:var v=u;if(v.bones==null)for(var m=v.vertices,g=0;g<d;g++){var R=A[g];x[g]+=(R+(P[g]-R)*I-m[g])*o}else for(var g=0;g<d;g++){var R=A[g];x[g]+=(R+(P[g]-R)*I)*o}}}},e}(ts),b9=function(){function t(e){this.frames=ce.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Xn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=kn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Fm=function(){function t(e){this.frames=ce.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Xn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==At.mixOut&&o==H.setup){ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==H.setup||o==H.first)&&ce.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=kn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ce.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),gA=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case H.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==H.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==At.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=kn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==H.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*p-u.data.mix)*o,c==At.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*p-u.mix)*o,c==At.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(ts),mA=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case H.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case H.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var y=l.length;h=l[y+e.PREV_ROTATE],d=l[y+e.PREV_TRANSLATE],p=l[y+e.PREV_SCALE],v=l[y+e.PREV_SHEAR]}else{var m=kn.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var g=l[m],x=this.getCurvePercent(m/e.ENTRIES-1,1-(i-g)/(l[m+e.PREV_TIME]-g));h+=(l[m+e.ROTATE]-h)*x,d+=(l[m+e.TRANSLATE]-d)*x,p+=(l[m+e.SCALE]-p)*x,v+=(l[m+e.SHEAR]-v)*x}if(s==H.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(ts),Dm=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.position=u.data.position;return;case H.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=kn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==H.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(ts),S9=function(t){cn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Xn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.spacing=u.data.spacing;return;case H.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=kn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==H.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(Dm),yA=function(t){cn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ce.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Xn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case H.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=kn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==H.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(ts),E9=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new C9(this),this.propertyIDs=new J$,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new __(function(){return new w9}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==H.add)for(var p=0;p<h;p++)ce.webkit602BugfixHelper(l,c),d[p].apply(e,u,f,r,l,c,At.mixIn);else{var v=s.timelineMode,y=s.timelinesRotation.length==0;y&&ce.setArraySize(s.timelinesRotation,h<<1,null);for(var m=s.timelinesRotation,p=0;p<h;p++){var g=d[p],x=v[p]==t.SUBSEQUENT?c:H.setup;g instanceof so?this.applyRotateTimeline(g,e,f,l,x,m,p<<1,y):(ce.webkit602BugfixHelper(l,c),g.apply(e,u,f,r,l,x,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==H.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,At.mixOut);else{var y=i.timelineMode,m=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&ce.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var S=h[v],b=At.mixOut,w=void 0,C=0;switch(y[v]){case t.SUBSEQUENT:if(!s&&S instanceof km||!c&&S instanceof Fm)continue;w=n,C=p;break;case t.FIRST:w=H.setup,C=p;break;case t.HOLD:w=H.setup,C=d;break;default:w=H.setup;var A=m[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,S instanceof so?this.applyRotateTimeline(S,r,u,C,w,x,v<<1,g):(ce.webkit602BugfixHelper(C,n),w==H.setup&&(S instanceof km?s&&(b=At.mixOut):S instanceof Fm&&c&&(b=At.mixOut)),S.apply(r,l,u,o,C,w,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,d=0;if(n<u[0])switch(a){case H.setup:f.rotation=f.data.rotation;default:return;case H.first:h=f.rotation,d=f.data.rotation}else if(h=a==H.setup?f.data.rotation:f.rotation,n>=u[u.length-so.ENTRIES])d=f.data.rotation+u[u.length+so.PREV_ROTATION];else{var p=kn.binarySearch(u,n,so.ENTRIES),v=u[p+so.PREV_ROTATION],y=u[p],m=l.getCurvePercent((p>>1)-1,1-(n-y)/(u[p+so.PREV_TIME]-y));d=u[p+so.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var g=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)g=o[s];else{var S=0,b=0;c?(S=0,b=x):(S=o[s],b=o[s+1]);var w=x>0,C=S>=0;K.signum(b)!=K.signum(x)&&Math.abs(b)<=90&&(Math.abs(S)>180&&(S+=360*K.signum(S)),C=w),g=x+S-S%360,C!=w&&(g+=360*K.signum(S)),o[s]=g}o[s+1]=x,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=H.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ce.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ce.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new kn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),w9=function(){function t(){this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),C9=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ii.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ii.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ii.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ii.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ii.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ii.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ii.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Ii.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Ii.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Ii.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Ii.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Ii.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Ii;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ii||(Ii={}));var Xke=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),A9=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),T9=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new xO(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new yO(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new v9(r)},t.prototype.newPathAttachment=function(e,r){return new Dp(r)},t.prototype.newPointAttachment=function(e,r){return new m9(r)},t.prototype.newClippingAttachment=function(e,r){return new g9(r)},t}(),_A=function(){function t(e,r,n){if(this.matrix=new Xr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,y=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=y*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,S=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*S,l.c=p*x+v*b,l.b=y*g+m*S,l.d=y*x+m*b;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var w=p*p+y*y,C=0;w>1e-4?(w=Math.abs(p*m-v*y)/w,v=y*w,m=p*w,C=Math.atan2(y,p)*K.radDeg):(p=0,y=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,P=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(P)*a,S=K.sinDeg(A)*i,b=K.sinDeg(P)*a;l.a=p*g-v*S,l.c=p*x-v*b,l.b=y*g+m*S,l.d=y*x+m*b;break}case _t.NoScale:case _t.NoScaleOrReflection:{var O=K.cosDeg(n),I=K.sinDeg(n),R=(p*O+v*I)/u,k=(y*O+m*I)/f,w=Math.sqrt(R*R+k*k);w>1e-5&&(w=1/w),R*=w,k*=w,w=Math.sqrt(R*R+k*k),this.data.transformMode==_t.NoScale&&p*m-v*y<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var D=Math.PI/2+Math.atan2(k,R),L=Math.cos(D)*w,U=Math.sin(D)*w,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,S=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=R*g+L*S,l.c=R*x+L*b,l.b=k*g+U*S,l.d=k*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),P9=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),O9=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),R9=function(){function t(e){this.name=e}return t}(),I9=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,d=(f*c.a-u*c.b)*l-e.ay,p=Math.atan2(d,h)*K.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var v=e.ascaleX,y=e.ascaleY;if(i||a){var m=e.data.length*v,g=Math.sqrt(h*h+d*d);if(i&&g<m||a&&g>m&&m>1e-4){var x=(g/m-1)*s+1;v*=x,o&&(y*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,v,y,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,d=r.ascaleX,p=e.matrix,v=0,y=0,m=0;u<0?(u=-u,v=180,m=-1):(v=0,m=1),h<0&&(h=-h,m=-m),d<0?(d=-d,y=180):y=0;var g=r.ax,x=0,S=0,b=0,w=p.a,C=p.c,A=p.b,P=p.d,O=Math.abs(u-h)<=1e-4;O?(x=r.ay,S=w*g+C*x+p.tx,b=A*g+P*x+p.ty):(x=0,S=w*g+p.tx,b=A*g+p.ty);var I=e.parent.matrix;w=I.a,C=I.c,A=I.b,P=I.d;var R=1/(w*P-C*A),k=n-I.tx,D=i-I.ty,L=(k*P-D*C)*R-c,U=(D*w-k*A)*R-l,W=L*L+U*U;k=S-I.tx,D=b-I.ty;var te=(k*P-D*C)*R-c,J=(D*w-k*A)*R-l,z=Math.sqrt(te*te+J*J),M=r.data.length*d,V=0,$=0;e:if(O){M*=u;var j=(W-z*z-M*M)/(2*z*M);j<-1?j=-1:j>1&&(j=1,o&&z+M>1e-4&&(f*=(Math.sqrt(W)/(z+M)-1)*s+1)),$=Math.acos(j)*a,w=z+M*j,C=M*Math.sin($),V=Math.atan2(U*w-L*C,L*w+U*C)}else{w=u*M,C=h*M;var Q=w*w,ie=C*C,de=Math.atan2(U,L);A=ie*z*z+Q*W-Q*ie;var ue=-2*ie*z,be=ie-Q;if(P=ue*ue-4*be*A,P>=0){var Pe=Math.sqrt(P);ue<0&&(Pe=-Pe),Pe=-(ue+Pe)/2;var ye=Pe/be,we=A/Pe,_e=Math.abs(ye)<Math.abs(we)?ye:we;if(_e*_e<=W){D=Math.sqrt(W-_e*_e)*a,V=de-Math.atan2(D,_e),$=Math.atan2(D/h,(_e-z)/u);break e}}var xe=K.PI,je=z-w,Xe=je*je,Fe=0,at=0,vt=z+w,yt=vt*vt,tt=0;A=-w*z/(Q-ie),A>=-1&&A<=1&&(A=Math.acos(A),k=w*Math.cos(A)+z,D=C*Math.sin(A),P=k*k+D*D,P<Xe&&(xe=A,Xe=P,je=k,Fe=D),P>yt&&(at=A,yt=P,vt=k,tt=D)),W<=(Xe+yt)/2?(V=de-Math.atan2(Fe*a,je),$=xe*a):(V=de-Math.atan2(tt*a,vt),$=at*a)}var ot=Math.atan2(x,g)*m,dt=e.arotation;V=(V-ot)*K.radDeg+v-dt,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(c,l,dt+V*s,f,e.ascaleY,0,0),dt=r.arotation,$=(($+ot)*K.radDeg-r.ashearX)*m+y-dt,$>180?$-=360:$<-180&&($+=360),r.updateWorldTransformWith(g,x,dt+$*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),k9=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),F9=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),Ma;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(Ma||(Ma={}));var D9=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Dp){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==Ma.Length,l=o.rotateMode,u=l==Qr.Tangent,f=l==Qr.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=ce.setArraySize(this.spaces,d),y=null,m=this.spacing;if(f||c){f&&(y=ce.setArraySize(this.lengths,h));for(var g=0,x=d-1;g<x;){var S=p[g],b=S.data.length;if(b<t.epsilon)f&&(y[g]=0),v[++g]=0;else{var w=b*S.matrix.a,C=b*S.matrix.b,A=Math.sqrt(w*w+C*C);f&&(y[g]=A),v[++g]=(c?b+m:m)*A/b}}}else for(var g=1;g<d;g++)v[g]=m;var P=this.computeWorldPositions(e,d,u,o.positionMode==Br.Percent,s==Ma.Percent),O=P[0],I=P[1],R=o.offsetRotation,k=!1;if(R==0)k=l==Qr.Chain;else{k=!1;var D=this.target.bone.matrix;R*=D.a*D.d-D.b*D.c>0?K.degRad:-K.degRad}for(var g=0,D=3;g<h;g++,D+=3){var S=p[g],L=S.matrix;L.tx+=(O-L.tx)*n,L.ty+=(I-L.ty)*n;var w=P[D],C=P[D+1],U=w-O,W=C-I;if(f){var te=y[g];if(te!=0){var J=(Math.sqrt(U*U+W*W)/te-1)*r+1;L.a*=J,L.b*=J}}if(O=w,I=C,a){var z=L.a,M=L.c,V=L.b,$=L.d,j=0,Q=0,ie=0;if(u?j=P[D-1]:v[g+1]==0?j=P[D+2]:j=Math.atan2(W,U),j-=Math.atan2(V,z),k){Q=Math.cos(j),ie=Math.sin(j);var de=S.data.length;O+=(de*(Q*z-ie*V)-U)*r,I+=(de*(ie*z+Q*V)-W)*r}else j+=R;j>K.PI?j-=K.PI2:j<-K.PI&&(j+=K.PI2),j*=r,Q=Math.cos(j),ie=Math.sin(j),L.a=Q*z-ie*V,L.c=Q*M-ie*$,L.b=ie*z+Q*V,L.d=ie*M+Q*$}S.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ce.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var y=v[d];if(i&&(s*=y),a)for(var m=0;m<r;m++)c[m]*=y;u=ce.setArraySize(this.world,8);for(var m=0,g=0,x=0;m<r;m++,g+=3){var S=c[m];s+=S;var b=s;if(f)b%=y,b<0&&(b+=y),x=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>y){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-y,u,0,l,g);continue}for(;;x++){var w=v[x];if(!(b>w)){if(x==0)b/=w;else{var C=v[x-1];b=(b-C)/(w-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||m>0&&S==0)}return l}f?(h+=2,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=ce.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=ce.setArraySize(this.curves,d),P=0,O=u[0],I=u[1],R=0,k=0,D=0,L=0,U=0,W=0,te=0,J=0,z=0,M=0,V=0,$=0,j=0,Q=0,m=0,ie=2;m<d;m++,ie+=6)R=u[ie],k=u[ie+1],D=u[ie+2],L=u[ie+3],U=u[ie+4],W=u[ie+5],te=(O-R*2+D)*.1875,J=(I-k*2+L)*.1875,z=((R-D)*3-O+U)*.09375,M=((k-L)*3-I+W)*.09375,V=te*2+z,$=J*2+M,j=(R-O)*.75+te+z*.16666667,Q=(k-I)*.75+J+M*.16666667,P+=Math.sqrt(j*j+Q*Q),j+=V,Q+=$,V+=z,$+=M,P+=Math.sqrt(j*j+Q*Q),j+=V,Q+=$,P+=Math.sqrt(j*j+Q*Q),j+=V+z,Q+=$+M,P+=Math.sqrt(j*j+Q*Q),A[m]=P,O=U,I=W;if(i&&(s*=P),a)for(var m=0;m<r;m++)c[m]*=P;for(var de=this.segments,ue=0,m=0,g=0,x=0,be=0;m<r;m++,g+=3){var S=c[m];s+=S;var b=s;if(f)b%=P,b<0&&(b+=P),x=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>P){this.addAfterPosition(b-P,u,h-4,l,g);continue}for(;;x++){var Pe=A[x];if(!(b>Pe)){if(x==0)b/=Pe;else{var C=A[x-1];b=(b-C)/(Pe-C)}break}}if(x!=p){p=x;var ye=x*6;for(O=u[ye],I=u[ye+1],R=u[ye+2],k=u[ye+3],D=u[ye+4],L=u[ye+5],U=u[ye+6],W=u[ye+7],te=(O-R*2+D)*.03,J=(I-k*2+L)*.03,z=((R-D)*3-O+U)*.006,M=((k-L)*3-I+W)*.006,V=te*2+z,$=J*2+M,j=(R-O)*.3+te+z*.16666667,Q=(k-I)*.3+J+M*.16666667,ue=Math.sqrt(j*j+Q*Q),de[0]=ue,ye=1;ye<8;ye++)j+=V,Q+=$,V+=z,$+=M,ue+=Math.sqrt(j*j+Q*Q),de[ye]=ue;j+=V,Q+=$,ue+=Math.sqrt(j*j+Q*Q),de[8]=ue,j+=V+z,Q+=$+M,ue+=Math.sqrt(j*j+Q*Q),de[9]=ue,be=0}for(b*=ue;;be++){var we=de[be];if(!(b>we)){if(be==0)b/=we;else{var C=de[be-1];b=be+(b-C)/(we-C)}break}}this.addCurvePosition(b*.1,O,I,R,k,D,L,U,W,l,g,n||m>0&&S==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,y=v*v,m=y*v,g=v*e,x=g*3,S=v*x,b=x*e,w=r*m+i*S+o*b+c*p,C=n*m+a*S+s*b+l*p;u[f]=w,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*y+a*g*2+s*d),w-(r*y+i*g*2+o*d)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),M9=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Tp,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,y=p.length;v<y;v++){var m=p[v],g=!1,x=m.matrix;if(e!=0){var S=x.a,b=x.c,w=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(w,S)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var P=Math.cos(A),O=Math.sin(A);x.a=P*S-O*w,x.c=P*b-O*C,x.b=O*S+P*w,x.d=O*b+P*C,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),x.tx+=(I.x-x.tx)*r,x.ty+=(I.y-x.ty)*r,g=!0}if(n>0){var R=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);R>1e-5&&(R=(R+(k-R+this.data.offsetScaleX)*n)/R),x.a*=R,x.b*=R,R=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),R>1e-5&&(R=(R+(k-R+this.data.offsetScaleY)*n)/R),x.c*=R,x.d*=R,g=!0}if(i>0){var b=x.c,C=x.d,D=Math.atan2(C,b),A=Math.atan2(u,c)-Math.atan2(l,s)-(D-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=D+(A+d)*i;var R=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*R,x.d=Math.sin(A)*R,g=!0}g&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,y=p.length;v<y;v++){var m=p[v],g=!1,x=m.matrix;if(e!=0){var S=x.a,b=x.c,w=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var P=Math.cos(A),O=Math.sin(A);x.a=P*S-O*w,x.c=P*b-O*C,x.b=O*S+P*w,x.d=O*b+P*C,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),x.tx+=I.x*r,x.ty+=I.y*r,g=!0}if(n>0){var R=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=R,x.b*=R,R=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=R,x.d*=R,g=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var b=x.c,C=x.d;A=Math.atan2(C,b)+(A-K.PI/2+d)*i;var R=Math.sqrt(b*b+C*C);x.c=Math.cos(A)*R,x.d=Math.sin(A)*R,g=!0}g&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var y=l.ashearY;if(i>0){var f=a.ashearY-y+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,y)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),L9=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new _A(n,this,null);else{var a=this.bones[n.parent.index];i=new _A(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new _O(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new I9(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new M9(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new D9(u,this))}this.color=new Ne(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var d=a[h];if(d.data.order==n){this.sortIkConstraint(d);continue e}}for(var h=0;h<l;h++){var d=o[h];if(d.data.order==n){this.sortTransformConstraint(d);continue e}}for(var h=0;h<u;h++){var d=s[h];if(d.data.order==n){this.sortPathConstraint(d);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Dp&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Dp){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,d=null,p=f.getAttachment();if(p instanceof xO)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof yO){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var y=0,m=d.length;y<m;y+=2){var g=d[y],x=d[y+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Yke=function(t){cn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(eO),B9=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),N9=function(){function t(e,r,n){if(this.color=new Ne(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),U9=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),j9=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),$9=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new B9,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new P9(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,d=f.bone,p=n.findBone(d);if(p==null)throw new Error("Slot bone not found: "+d);var u=new N9(n.slots.length,h,p),v=this.getValue(f,"color",null);v!=null&&u.color.setFromString(v);var y=this.getValue(f,"dark",null);y!=null&&(u.darkColor=new Ne(1,1,1,1),u.darkColor.setFromString(y)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var m=i.ik[o],u=new k9(m.name);u.order=this.getValue(m,"order",0);for(var g=0;g<m.bones.length;g++){var d=m.bones[g],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);u.bones.push(x)}var S=m.target;if(u.target=n.findBone(S),u.target==null)throw new Error("IK target bone not found: "+S);u.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,u.mix=this.getValue(m,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var m=i.transform[o],u=new U9(m.name);u.order=this.getValue(m,"order",0);for(var g=0;g<m.bones.length;g++){var d=m.bones[g],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var S=m.target;if(u.target=n.findBone(S),u.target==null)throw new Error("Transform constraint target bone not found: "+S);u.local=this.getValue(m,"local",!1),u.relative=this.getValue(m,"relative",!1),u.offsetRotation=this.getValue(m,"rotation",0),u.offsetX=this.getValue(m,"x",0)*r,u.offsetY=this.getValue(m,"y",0)*r,u.offsetScaleX=this.getValue(m,"scaleX",0),u.offsetScaleY=this.getValue(m,"scaleY",0),u.offsetShearY=this.getValue(m,"shearY",0),u.rotateMix=this.getValue(m,"rotateMix",1),u.translateMix=this.getValue(m,"translateMix",1),u.scaleMix=this.getValue(m,"scaleMix",1),u.shearMix=this.getValue(m,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var m=i.path[o],u=new F9(m.name);u.order=this.getValue(m,"order",0);for(var g=0;g<m.bones.length;g++){var d=m.bones[g],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var S=m.target;if(u.target=n.findSlot(S),u.target==null)throw new Error("Path target slot not found: "+S);u.positionMode=t.positionModeFromString(this.getValue(m,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(m,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),u.offsetRotation=this.getValue(m,"rotation",0),u.position=this.getValue(m,"position",0),u.positionMode==Br.Fixed&&(u.position*=r),u.spacing=this.getValue(m,"spacing",0),(u.spacingMode==Ma.Length||u.spacingMode==Ma.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(m,"rotateMix",1),u.translateMix=this.getValue(m,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var w=i.skins[b],C=new j9(b);for(var h in w){var A=n.findSlotIndex(h);if(A==-1)throw new Error("Slot not found: "+h);var f=w[h];for(var P in f){var O=this.readAttachment(f[P],C,A,P,n);O!=null&&C.addAttachment(A,P,O)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,I=this.linkedMeshes.length;o<I;o++){var R=this.linkedMeshes[o],C=R.skin==null?n.defaultSkin:n.findSkin(R.skin);if(C==null)throw new Error("Skin not found: "+R.skin);var k=C.getAttachment(R.slotIndex,R.parent);if(k==null)throw new Error("Parent mesh not found: "+R.parent);R.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var D in i.events){var L=i.events[D],u=new R9(D);u.intValue=this.getValue(L,"int",0),u.floatValue=this.getValue(L,"float",0),u.stringValue=this.getValue(L,"string",""),u.audioPath=this.getValue(L,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(L,"volume",1),u.balance=this.getValue(L,"balance",0)),n.events.push(u)}if(i.animations)for(var U in i.animations){var W=i.animations[U];this.readAnimation(W,U,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var d=this.getValue(e,"parent",null);if(d!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new qke(h,this.getValue(e,"skin",null),n,d)),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var y=ce.newArray(v/3,0),m=0;m<e.lengths.length;m++)y[m]=e.lengths[m]*o;c.lengths=y;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var S=this.getValue(e,"end",null);if(S!=null){var b=a.findSlot(S);if(b==null)throw new Error("Clipping end slot not found: "+S);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new km(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new pA(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],y=new Ne;y.setFromString(v.color||"ffffffff"),h.setFrame(d,v.time,y.r,y.g,y.b,y.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*pA.ENTRIES])}else if(u=="twoColor"){var h=new vA(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new Ne,g=new Ne;m.setFromString(v.light),g.setFromString(v.dark),h.setFrame(d,v.time,m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*vA.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var S=e.bones[x],b=n.findBoneIndex(x);if(b==-1)throw new Error("Bone not found: "+x);for(var u in S){var f=S[u];if(u==="rotate"){var h=new so(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,v.angle),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*so.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,w=1;u==="scale"?h=new y9(f.length):u==="shear"?h=new _9(f.length):(h=new Mp(f.length),w=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],C=this.getValue(v,"x",0),A=this.getValue(v,"y",0);h.setFrame(d,v.time,C*w,A*w),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Mp.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var P in e.ik){var O=e.ik[P],I=n.findIkConstraint(P),h=new gA(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(I);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*gA.ENTRIES])}if(e.transform)for(var P in e.transform){var O=e.transform[P],I=n.findTransformConstraint(P),h=new mA(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(I);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*mA.ENTRIES])}if(e.paths)for(var P in e.paths){var O=e.paths[P],R=n.findPathConstraintIndex(P);if(R==-1)throw new Error("Path constraint not found: "+P);var k=n.pathConstraints[R];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,w=1;u==="spacing"?(h=new S9(f.length),(k.spacingMode==Ma.Length||k.spacingMode==Ma.Fixed)&&(w=i)):(h=new Dm(f.length),k.positionMode==Br.Fixed&&(w=i)),h.pathConstraintIndex=R;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,u,0)*w),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Dm.ENTRIES])}else if(u==="mix"){var h=new yA(f.length);h.pathConstraintIndex=R;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*yA.ENTRIES])}}}if(e.deform)for(var D in e.deform){var L=e.deform[D],U=n.findSkin(D);if(U!=null)for(var s in L){var c=L[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],W=U.getAttachment(l,u);if(W==null)throw new Error("Deform attachment not found: "+f.name);var te=W.bones!=null,J=W.vertices,z=te?J.length/3*2:J.length,h=new x9(f.length);h.slotIndex=l,h.attachment=W;for(var d=0,M=0;M<f.length;M++){var v=f[M],V=void 0,$=this.getValue(v,"vertices",null);if($==null)V=te?ce.newFloatArray(z):J;else{V=ce.newFloatArray(z);var j=this.getValue(v,"offset",0);if(ce.arrayCopy($,0,V,j,$.length),i!=1)for(var p=j,Q=p+$.length;p<Q;p++)V[p]*=i;if(!te)for(var p=0;p<z;p++)V[p]+=J[p]}h.setFrame(d,v.time,V),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ie=e.drawOrder;if(ie==null&&(ie=e.draworder),ie!=null){for(var h=new Fm(ie.length),de=n.slots.length,d=0,M=0;M<ie.length;M++){var ue=ie[M],be=null,Pe=this.getValue(ue,"offsets",null);if(Pe!=null){be=ce.newArray(de,-1);for(var ye=ce.newArray(de-Pe.length,0),we=0,_e=0,p=0;p<Pe.length;p++){var xe=Pe[p],l=n.findSlotIndex(xe.slot);if(l==-1)throw new Error("Slot not found: "+xe.slot);for(;we!=l;)ye[_e++]=we++;be[we+xe.offset]=we++}for(;we<de;)ye[_e++]=we++;for(var p=de-1;p>=0;p--)be[p]==-1&&(be[p]=ye[--_e])}h.setFrame(d++,ue.time,be)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new b9(e.events.length),d=0,p=0;p<e.events.length;p++){var je=e.events[p],Xe=n.findEvent(je.name);if(Xe==null)throw new Error("Event not found: "+je.name);var Fe=new O9(ce.toSinglePrecision(je.time),Xe);Fe.intValue=this.getValue(je,"int",Xe.intValue),Fe.floatValue=this.getValue(je,"float",Xe.floatValue),Fe.stringValue=this.getValue(je,"string",Xe.stringValue),Fe.data.audioPath!=null&&(Fe.volume=this.getValue(je,"volume",1),Fe.balance=this.getValue(je,"balance",0)),h.setFrame(d++,Fe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new kn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ze.NORMAL;if(e=="additive")return ze.ADD;if(e=="multiply")return ze.MULTIPLY;if(e=="screen")return ze.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return Br.Fixed;if(e=="percent")return Br.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return Ma.Length;if(e=="fixed")return Ma.Fixed;if(e=="percent")return Ma.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Qr.Tangent;if(e=="chain")return Qr.Chain;if(e=="chainscale")return Qr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return _t.Normal;if(e=="onlytranslation")return _t.OnlyTranslation;if(e=="norotationorreflection")return _t.NoRotationOrReflection;if(e=="noscale")return _t.NoScale;if(e=="noscaleorreflection")return _t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),qke=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),Kke=function(t){cn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new L9(r),this.skeleton.updateWorldTransform(),this.stateData=new A9(r),this.state=new E9(this.stateData)},e}(s0);const Zke=Object.freeze(Object.defineProperty({__proto__:null,Animation:kn,AnimationState:E9,AnimationStateAdapter2:Xke,AnimationStateData:A9,AtlasAttachmentLoader:T9,Attachment:mO,AttachmentTimeline:km,Bone:_A,BoneData:P9,BoundingBoxAttachment:v9,ClippingAttachment:g9,ColorTimeline:pA,CurveTimeline:ts,DeformTimeline:x9,DrawOrderTimeline:Fm,Event:O9,EventData:R9,EventQueue:C9,EventTimeline:b9,get EventType(){return Ii},IkConstraint:I9,IkConstraintData:k9,IkConstraintTimeline:gA,JitterEffect:zke,MeshAttachment:yO,PathAttachment:Dp,PathConstraint:D9,PathConstraintData:F9,PathConstraintMixTimeline:yA,PathConstraintPositionTimeline:Dm,PathConstraintSpacingTimeline:S9,PointAttachment:m9,RegionAttachment:xO,RotateTimeline:so,ScaleTimeline:y9,ShearTimeline:_9,Skeleton:L9,SkeletonBounds:Yke,SkeletonData:B9,SkeletonJson:$9,Skin:j9,Slot:_O,SlotData:N9,get SpacingMode(){return Ma},Spine:Kke,SwirlEffect:Hke,get TimelineType(){return Xn},TrackEntry:w9,TransformConstraint:M9,TransformConstraintData:U9,TransformConstraintTimeline:mA,TranslateTimeline:Mp,TwoColorTimeline:vA,VertexAttachment:lc},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xA=function(t,e){return xA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xA(t,e)};function Ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bO=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Ho=function(t){Ft(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,y=h.c,m=h.b,g=h.d,x=n,S=o;S<i;x+=2,S+=s){var b=u[x],w=u[x+1];a[S]=b*v+w*y+d,a[S+1]=b*m+w*g+p}return}for(var C=0,A=0,P=0;P<n;P+=2){var O=f[C];C+=O+1,A+=O}var I=c.bones;if(l.length==0)for(var S=o,y=A*3;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3){var h=I[f[C]].matrix,b=u[y],w=u[y+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}else for(var L=l,S=o,y=A*3,U=A<<1;S<i;S+=s){var R=0,k=0,O=f[C++];for(O+=C;C<O;C++,y+=3,U+=2){var h=I[f[C]].matrix,b=u[y]+L[U],w=u[y+1]+L[U+1],D=u[y+2];R+=(b*h.a+w*h.c+h.tx)*D,k+=(b*h.b+w*h.d+h.ty)*D}a[S]=R,a[S+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),ce.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=ce.newFloatArray(this.vertices.length),ce.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(bO),V9=function(t){Ft(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.BoundingBox,n.color=new Ne(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ho),G9=function(t){Ft(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Clipping,n.endSlot=null,n.color=new Ne(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ho),E_=function(t){Ft(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Ot.Mesh,i.region=null,i.triangles=[],i.color=new Ne(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new Ne(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ce.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ce.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),ce.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Ho),Lp=function(t){Ft(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new Ne(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ce.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ho),W9=function(t){Ft(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Ot.Point,n.x=0,n.y=0,n.rotation=0,n.color=new Ne(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ho),SO=function(t){Ft(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Ot.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new Ne(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=ce.newFloatArray(8),i.uvs=ce.newFloatArray(8),i.tempColor=new Ne(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,d=this.y,p=a*u+h,v=a*f,y=o*u+d,m=o*f,g=s*u+h,x=s*f,S=c*u+d,b=c*f,w=this.offset;w[0]=p-m,w[1]=y+v,w[2]=p-b,w[3]=S+v,w[4]=g-b,w[5]=S+x,w[6]=g-m,w[7]=y+x;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,d=c.b,p=c.d,v=0,y=0;v=s[0],y=s[1],n[i]=v*f+y*h+l,n[i+1]=v*d+y*p+u,i+=a,v=s[2],y=s[3],n[i]=v*f+y*h+l,n[i+1]=v*d+y*p+u,i+=a,v=s[4],y=s[5],n[i]=v*f+y*h+l,n[i+1]=v*d+y*p+u,i+=a,v=s[6],y=s[7],n[i]=v*f+y*h+l,n[i+1]=v*d+y*p+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ce.arrayCopy(this.uvs,0,r.uvs,0,8),ce.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(bO),EO=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return ce.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Vn;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Vn||(Vn={}));var wO=[Vn.hold,Vn.once,Vn.loop,Vn.pingpong,Vn.onceReverse,Vn.loopReverse,Vn.pingpongReverse],w_=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new e9,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),rr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},en=function(){function t(e,r){this.propertyIds=r,this.frames=ce.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),yo=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=ce.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=ce.newFloatArray(n);ce.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,y=(o-c*2+u)*.03,m=((s-l)*3-a+f)*.006,g=((c-u)*3-o+h)*.006,x=v*2+m,S=y*2+g,b=(s-a)*.3+v+m*.16666667,w=(c-o)*.3+y+g*.16666667,C=a+b,A=o+w,P=p+18;p<P;p+=2)d[p]=C,d[p+1]=A,b+=x,w+=S,x+=m,S+=g,C+=b,A+=w},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],d=o[l-1];return d+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-d)},e}(en),_o=function(t){Ft(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(yo),C_=function(t){Ft(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(yo),Bp=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.rotation=l.data.rotation;return;case H.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.rotation=l.data.rotation+f*o;break;case H.first:case H.replace:f+=l.data.rotation-l.rotation;case H.add:l.rotation+=f*o}}},e}(_o),CO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.x+"|"+i,rr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.x=l.data.x,l.y=l.data.y;return;case H.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,d=en.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var y=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*y,h+=(u[d+3+2]-h)*y;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case H.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case H.first:case H.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case H.add:l.x+=f*o,l.y+=h*o}}},e}(C_),AO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.x=l.data.x;return;case H.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.x=l.data.x+f*o;break;case H.first:case H.replace:l.x+=(l.data.x+f-l.x)*o;break;case H.add:l.x+=f*o}}},e}(_o),TO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.y=l.data.y;return;case H.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.y=l.data.y+f*o;break;case H.first:case H.replace:l.y+=(l.data.y+f-l.y)*o;break;case H.add:l.y+=f*o}}},e}(_o),PO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.scaleX+"|"+i,rr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case H.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,d=en.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var y=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*y,h+=(u[d+3+2]-h)*y;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==H.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var m=0,g=0;if(c==At.mixOut)switch(s){case H.setup:m=l.data.scaleX,g=l.data.scaleY,l.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,l.scaleY=g+(Math.abs(h)*K.signum(g)-g)*o;break;case H.first:case H.replace:m=l.scaleX,g=l.scaleY,l.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,l.scaleY=g+(Math.abs(h)*K.signum(g)-g)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case H.setup:m=Math.abs(l.data.scaleX)*K.signum(f),g=Math.abs(l.data.scaleY)*K.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=g+(h-g)*o;break;case H.first:case H.replace:m=Math.abs(l.scaleX)*K.signum(f),g=Math.abs(l.scaleY)*K.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=g+(h-g)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(C_),OO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleX=l.data.scaleX;return;case H.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==H.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==At.mixOut)switch(s){case H.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case H.first:case H.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case H.setup:h=Math.abs(l.data.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case H.first:case H.replace:h=Math.abs(l.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(_o),RO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleY=l.data.scaleY;return;case H.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==H.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==At.mixOut)switch(s){case H.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case H.first:case H.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case H.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case H.setup:h=Math.abs(l.data.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case H.first:case H.replace:h=Math.abs(l.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case H.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(_o),IO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.shearX+"|"+i,rr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case H.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,d=en.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var y=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*y,h+=(u[d+3+2]-h)*y;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case H.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case H.first:case H.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case H.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(C_),kO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearX=l.data.shearX;return;case H.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.shearX=l.data.shearX+f*o;break;case H.first:case H.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case H.add:l.shearX+=f*o}}},e}(_o),FO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearY=l.data.shearY;return;case H.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.shearY=l.data.shearY+f*o;break;case H.first:case H.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case H.add:l.shearY+=f*o}}},e}(_o),DO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.rgb+"|"+i,rr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case H.setup:f.setFromColor(h);return;case H.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,y=0,m=en.search(u,i,5),g=this.curves[m/5];switch(g){case 0:var x=u[m];d=u[m+1],p=u[m+2],v=u[m+3],y=u[m+4];var S=(i-x)/(u[m+5]-x);d+=(u[m+5+1]-d)*S,p+=(u[m+5+2]-p)*S,v+=(u[m+5+3]-v)*S,y+=(u[m+5+4]-y)*S;break;case 1:d=u[m+1],p=u[m+2],v=u[m+3],y=u[m+4];break;default:d=this.getBezierValue(i,m,1,g-2),p=this.getBezierValue(i,m,2,g+18-2),v=this.getBezierValue(i,m,3,g+18*2-2),y=this.getBezierValue(i,m,4,g+18*3-2)}o==1?f.set(d,p,v,y):(s==H.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(y-f.a)*o))}},e}(yo),MO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case H.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case H.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var d=0,p=0,v=0,y=en.search(u,i,4),m=this.curves[y>>2];switch(m){case 0:var g=u[y];d=u[y+1],p=u[y+2],v=u[y+3];var x=(i-g)/(u[y+4]-g);d+=(u[y+4+1]-d)*x,p+=(u[y+4+2]-p)*x,v+=(u[y+4+3]-v)*x;break;case 1:d=u[y+1],p=u[y+2],v=u[y+3];break;default:d=this.getBezierValue(i,y,1,m-2),p=this.getBezierValue(i,y,2,m+18-2),v=this.getBezierValue(i,y,3,m+18*2-2)}if(o==1)f.r=d,f.g=p,f.b=v;else{if(s==H.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(d-f.r)*o,f.g+=(p-f.g)*o,f.b+=(v-f.b)*o}}},e}(yo),LO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case H.setup:u.a=f.a;return;case H.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==H.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(_o),BO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.rgb+"|"+i,rr.alpha+"|"+i,rr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case H.setup:f.setFromColor(d),h.r=p.r,h.g=p.g,h.b=p.b;return;case H.first:f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,y=0,m=0,g=0,x=0,S=0,b=0,w=en.search(u,i,8),C=this.curves[w>>3];switch(C){case 0:var A=u[w];v=u[w+1],y=u[w+2],m=u[w+3],g=u[w+4],x=u[w+5],S=u[w+6],b=u[w+7];var P=(i-A)/(u[w+8]-A);v+=(u[w+8+1]-v)*P,y+=(u[w+8+2]-y)*P,m+=(u[w+8+3]-m)*P,g+=(u[w+8+4]-g)*P,x+=(u[w+8+5]-x)*P,S+=(u[w+8+6]-S)*P,b+=(u[w+8+7]-b)*P;break;case 1:v=u[w+1],y=u[w+2],m=u[w+3],g=u[w+4],x=u[w+5],S=u[w+6],b=u[w+7];break;default:v=this.getBezierValue(i,w,1,C-2),y=this.getBezierValue(i,w,2,C+18-2),m=this.getBezierValue(i,w,3,C+18*2-2),g=this.getBezierValue(i,w,4,C+18*3-2),x=this.getBezierValue(i,w,5,C+18*4-2),S=this.getBezierValue(i,w,6,C+18*5-2),b=this.getBezierValue(i,w,7,C+18*6-2)}if(o==1)f.set(v,y,m,g),h.r=x,h.g=S,h.b=b;else{if(s==H.setup){f.setFromColor(l.data.color);var p=l.data.darkColor;h.r=p.r,h.g=p.g,h.b=p.b}f.add((v-f.r)*o,(y-f.g)*o,(m-f.b)*o,(g-f.a)*o),h.r+=(x-h.r)*o,h.g+=(S-h.g)*o,h.b+=(b-h.b)*o}}},e}(yo),NO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.rgb+"|"+i,rr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case H.setup:f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b;return;case H.first:f.r+=(d.r-f.r)*o,f.g+=(d.g-f.g)*o,f.b+=(d.b-f.b)*o,h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,y=0,m=0,g=0,x=0,S=0,b=en.search(u,i,7),w=this.curves[b/7];switch(w){case 0:var C=u[b];v=u[b+1],y=u[b+2],m=u[b+3],g=u[b+4],x=u[b+5],S=u[b+6];var A=(i-C)/(u[b+7]-C);v+=(u[b+7+1]-v)*A,y+=(u[b+7+2]-y)*A,m+=(u[b+7+3]-m)*A,g+=(u[b+7+4]-g)*A,x+=(u[b+7+5]-x)*A,S+=(u[b+7+6]-S)*A;break;case 1:v=u[b+1],y=u[b+2],m=u[b+3],g=u[b+4],x=u[b+5],S=u[b+6];break;default:v=this.getBezierValue(i,b,1,w-2),y=this.getBezierValue(i,b,2,w+18-2),m=this.getBezierValue(i,b,3,w+18*2-2),g=this.getBezierValue(i,b,4,w+18*3-2),x=this.getBezierValue(i,b,5,w+18*4-2),S=this.getBezierValue(i,b,6,w+18*5-2)}if(o==1)f.r=v,f.g=y,f.b=m,h.r=g,h.g=x,h.b=S;else{if(s==H.setup){var d=l.data.color,p=l.data.darkColor;f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b}f.r+=(v-f.r)*o,f.g+=(y-f.g)*o,f.b+=(m-f.b)*o,h.r+=(g-h.r)*o,h.g+=(x-h.g)*o,h.b+=(S-h.b)*o}}},e}(yo),Pu=function(t){Ft(e,t);function e(r,n){var i=t.call(this,r,[rr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==At.mixOut){s==H.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==H.setup||s==H.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[en.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(en),UO=function(t){Ft(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[rr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,y=u*.03-c*.06,m=((s-l)*3-a+f)*.006,g=(c-u+.33333333)*.018,x=v*2+m,S=y*2+g,b=(s-a)*.3+v+m*.16666667,w=c*.3+y+g*.16666667,C=a+b,A=w,P=p+18;p<P;p+=2)d[p]=C,d[p+1]=A,b+=x,w+=S,x+=m,S+=g,C+=b,A+=w},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Ho)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=H.setup);var h=this.vertices,d=h[0].length,p=this.frames;if(i<p[0]){switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;return}f.length=d;var v=u;if(v.bones){o=1-o;for(var m=0;m<d;m++)f[m]*=o}else for(var y=v.vertices,m=0;m<d;m++)f[m]+=(y[m]-f[m])*o}return}if(f.length=d,i>=p[p.length-1]){var g=h[p.length-1];if(o==1)if(s==H.add){var v=u;if(v.bones)for(var S=0;S<d;S++)f[S]+=g[S];else for(var y=v.vertices,x=0;x<d;x++)f[x]+=g[x]-y[x]}else ce.arrayCopy(g,0,f,0,d);else switch(s){case H.setup:{var b=u;if(b.bones)for(var A=0;A<d;A++)f[A]=g[A]*o;else for(var y=b.vertices,w=0;w<d;w++){var C=y[w];f[w]=C+(g[w]-C)*o}break}case H.first:case H.replace:for(var P=0;P<d;P++)f[P]+=(g[P]-f[P])*o;break;case H.add:var v=u;if(v.bones)for(var I=0;I<d;I++)f[I]+=g[I]*o;else for(var y=v.vertices,O=0;O<d;O++)f[O]+=(g[O]-y[O])*o}return}var R=en.search1(p,i),k=this.getCurvePercent(i,R),D=h[R],L=h[R+1];if(o==1)if(s==H.add){var v=u;if(v.bones)for(var te=0;te<d;te++){var W=D[te];f[te]+=W+(L[te]-W)*k}else for(var y=v.vertices,U=0;U<d;U++){var W=D[U];f[U]+=W+(L[U]-W)*k-y[U]}}else for(var J=0;J<d;J++){var W=D[J];f[J]=W+(L[J]-W)*k}else switch(s){case H.setup:{var z=u;if(z.bones)for(var V=0;V<d;V++){var W=D[V];f[V]=(W+(L[V]-W)*k)*o}else for(var y=z.vertices,M=0;M<d;M++){var W=D[M],C=y[M];f[M]=C+(W+(L[M]-W)*k-C)*o}break}case H.first:case H.replace:for(var $=0;$<d;$++){var W=D[$];f[$]+=(W+(L[$]-W)*k-f[$])*o}break;case H.add:var v=u;if(v.bones)for(var Q=0;Q<d;Q++){var W=D[Q];f[Q]+=(W+(L[Q]-W)*k)*o}else for(var y=v.vertices,j=0;j<d;j++){var W=D[j];f[j]+=(W+(L[j]-W)*k-y[j])*o}}}}},e}(yo),A_=function(t){Ft(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=en.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+rr.event],e}(en),yf=function(t){Ft(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==At.mixOut){s==H.setup&&ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==H.setup||s==H.first)&&ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=en.search1(this.frames,i),u=this.drawOrders[l];if(!u)ce.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,d=0,p=u.length;d<p;d++)f[d]=h[u[d]]},e.propertyIds=[""+rr.drawOrder],e}(en),jO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case H.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,d=en.search(u,i,6),p=this.curves[d/6];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var y=(i-v)/(u[d+6]-v);f+=(u[d+6+1]-f)*y,h+=(u[d+6+2]-h)*y;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}s==H.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==At.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==At.mixIn&&(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0))}},e}(yo),$O=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case H.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case H.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,d,p,v,y,m,g=en.search(u,i,7),x=this.curves[g/7];switch(x){case 0:var S=u[g];h=u[g+1],d=u[g+2],p=u[g+3],v=u[g+4],y=u[g+5],m=u[g+6];var b=(i-S)/(u[g+7]-S);h+=(u[g+7+1]-h)*b,d+=(u[g+7+2]-d)*b,p+=(u[g+7+3]-p)*b,v+=(u[g+7+4]-v)*b,y+=(u[g+7+5]-y)*b,m+=(u[g+7+6]-m)*b;break;case 1:h=u[g+1],d=u[g+2],p=u[g+3],v=u[g+4],y=u[g+5],m=u[g+6];break;default:h=this.getBezierValue(i,g,1,x-2),d=this.getBezierValue(i,g,2,x+18-2),p=this.getBezierValue(i,g,3,x+18*2-2),v=this.getBezierValue(i,g,4,x+18*3-2),y=this.getBezierValue(i,g,5,x+18*4-2),m=this.getBezierValue(i,g,6,x+18*5-2)}if(s==H.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(d-f.mixX)*o,l.mixY=f.mixY+(p-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(y-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(m-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(y-l.mixScaleY)*o,l.mixShearY+=(m-l.mixShearY)*o}},e}(yo),VO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.position=l.data.position;return;case H.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==H.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(_o),GO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,rr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.spacing=l.data.spacing;return;case H.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==H.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(_o),WO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,n,[rr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case H.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,d,p=en.search(u,i,4),v=this.curves[p>>2];switch(v){case 0:var y=u[p];f=u[p+1],h=u[p+2],d=u[p+3];var m=(i-y)/(u[p+4]-y);f+=(u[p+4+1]-f)*m,h+=(u[p+4+2]-h)*m,d+=(u[p+4+3]-d)*m;break;case 1:f=u[p+1],h=u[p+2],d=u[p+3];break;default:f=this.getBezierValue(i,p,1,v-2),h=this.getBezierValue(i,p,2,v+18-2),d=this.getBezierValue(i,p,3,v+18*2-2)}if(s==H.setup){var g=l.data;l.mixRotate=g.mixRotate+(f-g.mixRotate)*o,l.mixX=g.mixX+(h-g.mixX)*o,l.mixY=g.mixY+(d-g.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(d-l.mixY)*o}},e}(yo),zO=function(t){Ft(e,t);function e(r,n,i){var a=t.call(this,r,[rr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Ho)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==H.setup||s==H.first)&&(l.sequenceIndex=-1);return}var d=en.search(h,i,e.ENTRIES),p=h[d],v=h[d+e.MODE],y=h[d+e.DELAY];if(this.attachment.sequence){var m=v>>4,g=this.attachment.sequence.regions.length,x=wO[v&15];if(x!=Vn.hold)switch(m+=(i-p)/y+1e-5|0,x){case Vn.once:m=Math.min(g-1,m);break;case Vn.loop:m%=g;break;case Vn.pingpong:{var S=(g<<1)-2;m=S==0?0:m%S,m>=g&&(m=S-m);break}case Vn.onceReverse:m=Math.max(g-1-m,0);break;case Vn.loopReverse:m=g-1-m%g;break;case Vn.pingpongReverse:{var S=(g<<1)-2;m=S==0?0:(m+g-1)%S,m>=g&&(m=S-m)}}l.sequenceIndex=m}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(en),z9=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new X9(this),this.propertyIDs=new e9,this.animationsChanged=!1,this.trackEntryPool=new __(function(){return new H9}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,d=r;s.reverse&&(h=s.animation.duration-h,d=null);var p=s.animation.timelines,v=p.length;if(a==0&&l==1||c==H.add)for(var y=0;y<v;y++){ce.webkit602BugfixHelper(l,c);var m=p[y];m instanceof Pu?this.applyAttachmentTimeline(m,e,h,c,!0):m.apply(e,u,h,d,l,c,At.mixIn)}else{var g=s.timelineMode,x=s.shortestRotation,S=!x&&s.timelinesRotation.length!=v<<1;S&&(s.timelinesRotation.length=v<<1);for(var y=0;y<v;y++){var b=p[y],w=g[y]==JS?c:H.setup;!x&&b instanceof Bp?this.applyRotateTimeline(b,e,h,l,w,s.timelinesRotation,y<<1,S):b instanceof Pu?this.applyAttachmentTimeline(b,e,h,c,!0):(ce.webkit602BugfixHelper(l,c),b.apply(e,u,h,d,l,w,At.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+y3,A=e.slots,P=0,O=e.slots.length;P<O;P++){var I=A[P];if(I.attachmentState==C){var R=I.data.attachmentName;I.setAttachment(R?e.getAttachment(I.data.index,R):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,d=i.getAnimationTime(),p=d,v=null;if(i.reverse?p=i.animation.duration-p:a<i.eventThreshold&&(v=this.events),n==H.add)for(var y=0;y<l;y++)c[y].apply(r,h,p,v,f,n,At.mixOut);else{var m=i.timelineMode,g=i.timelineHoldMix,x=i.shortestRotation,S=!x&&i.timelinesRotation.length!=l<<1;S&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var y=0;y<l;y++){var b=c[y],w=At.mixOut,C=void 0,A=0;switch(m[y]){case JS:if(!s&&b instanceof yf)continue;C=n,A=f;break;case g3:C=H.setup,A=f;break;case m3:C=n,A=u;break;case eE:C=H.setup,A=u;break;default:C=H.setup;var P=g[y];A=u*Math.max(0,1-P.mixTime/P.mixDuration);break}i.totalAlpha+=A,!x&&b instanceof Bp?this.applyRotateTimeline(b,r,p,A,C,i.timelinesRotation,y<<1,S):b instanceof Pu?this.applyAttachmentTimeline(b,r,p,C,o):(ce.webkit602BugfixHelper(A,n),s&&b instanceof yf&&C==H.setup&&(w=At.mixIn),b.apply(r,h,p,v,A,C,w))}}return e.mixDuration>0&&this.queueEvents(i,d),this.events.length=0,i.nextAnimationLast=d,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==H.setup||i==H.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[en.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+y3))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+eFe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,At.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case H.setup:l.rotation=l.data.rotation;default:return;case H.first:f=l.rotation,h=l.data.rotation}else f=a==H.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var d=0,p=h-f;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)d=o[s];else{var v=0,y=0;c?(v=0,y=p):(v=o[s],y=o[s+1]);var m=p>0,g=v>=0;K.signum(y)!=K.signum(p)&&Math.abs(y)<=90&&(Math.abs(v)>180&&(v+=360*K.signum(v)),g=m),d=p+v-v%360,g!=m&&(d+=360*K.signum(v)),o[s]=d}o[s+1]=p,l.rotation=f+d*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ce.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=H.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=H.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?eE:m3;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=JS;else if(!r||l instanceof Pu||l instanceof yf||l instanceof A_||!r.animation.hasTimeline(u))a[c]=g3;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=Jke,o[c]=f;continue e}break}a[c]=eE}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new w_("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),H9=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),X9=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ki.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ki.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ki.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ki.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ki.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ki.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ki.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case ki.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case ki.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case ki.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case ki.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case ki.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),ki;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ki||(ki={}));var Qke=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),JS=0,g3=1,m3=2,eE=3,Jke=4,y3=1,eFe=2,Y9=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),HO=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new SO(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new E_(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new V9(r)},t.prototype.newPathAttachment=function(e,r){return new Lp(r)},t.prototype.newPointAttachment=function(e,r){return new W9(r)},t.prototype.newClippingAttachment=function(e,r){return new G9(r)},t}(),bA=function(){function t(e,r,n){if(this.matrix=new Xr,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,y=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=y*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,g=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,S=K.sinDeg(n+o)*i,b=K.sinDeg(d)*a;l.a=p*g+v*S,l.c=p*x+v*b,l.b=y*g+m*S,l.d=y*x+m*b;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var w=p*p+y*y,C=0;w>1e-4?(w=Math.abs(p*m-v*y)/w,p/=u,y/=f,v=y*w,m=p*w,C=Math.atan2(y,p)*K.radDeg):(p=0,y=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,P=n+s-C+90,g=K.cosDeg(A)*i,x=K.cosDeg(P)*a,S=K.sinDeg(A)*i,b=K.sinDeg(P)*a;l.a=p*g-v*S,l.c=p*x-v*b,l.b=y*g+m*S,l.d=y*x+m*b;break}case _t.NoScale:case _t.NoScaleOrReflection:{var O=K.cosDeg(n),I=K.sinDeg(n),R=(p*O+v*I)/u,k=(y*O+m*I)/f,w=Math.sqrt(R*R+k*k);w>1e-5&&(w=1/w),R*=w,k*=w,w=Math.sqrt(R*R+k*k),this.data.transformMode==_t.NoScale&&p*m-v*y<0!=(u<0!=f<0)&&(w=-w);var D=Math.PI/2+Math.atan2(k,R),L=Math.cos(D)*w,U=Math.sin(D)*w,g=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,S=K.sinDeg(o)*i,b=K.sinDeg(90+s)*a;l.a=R*g+L*S,l.c=R*x+L*b,l.b=k*g+U*S,l.d=k*x+U*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),XO=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,this.skinRequired=!1,this.color=new Ne,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),T_=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),YO=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),qO=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),q9=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0,y=e.skeleton.scaleX,m=-e.skeleton.scaleY;switch(e.data.transformMode){case _t.OnlyTranslation:p=r-e.worldX,v=n-e.worldY,v=-v;break;case _t.NoRotationOrReflection:var g=Math.abs(l*h-u*f)/(l*l+f*f),x=l/y,S=f/m;u=-S*g*y,h=x*g*m,d+=Math.atan2(S,x)*K.radDeg;default:var b=r-c.tx,w=n-c.ty,C=l*h-u*f;p=(b*h-w*u)/C-e.ax,v=(w*l-b*f)/C-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var A=e.ascaleX,P=e.ascaleY;if(i||a){switch(e.data.transformMode){case _t.NoScale:case _t.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var O=e.data.length*A,I=Math.sqrt(p*p+v*v);if(i&&I<O||a&&I>O&&O>1e-4){var g=(I/O-1)*s+1;A*=g,o&&(P*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,A,P,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,d=e.ascaleY,p=h,v=d,y=r.ascaleX,m=e.matrix,g=0,x=0,S=0;h<0?(h=-h,g=180,S=-1):(g=0,S=1),d<0&&(d=-d,S=-S),y<0?(y=-y,x=180):x=0;var b=r.ax,w=0,C=0,A=0,P=m.a,O=m.c,I=m.b,R=m.d,k=Math.abs(h-d)<=1e-4;!k||o?(w=0,C=P*b+m.tx,A=I*b+m.ty):(w=r.ay,C=P*b+O*w+m.tx,A=I*b+R*w+m.ty);var D=e.parent.matrix;if(!D)throw new Error("IK parent must itself have a parent.");P=D.a,O=D.c,I=D.b,R=D.d;var L=1/(P*R-O*I),U=C-D.tx,W=A-D.ty,te=(U*R-W*O)*L-u,J=(W*P-U*I)*L-f,z=Math.sqrt(te*te+J*J),M=r.data.length*y,V,$;if(z<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,w,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}U=n-D.tx,W=i-D.ty;var j=(U*R-W*O)*L-u,Q=(W*P-U*I)*L-f,ie=j*j+Q*Q;if(c!=0){c*=h*(y+1)*.5;var de=Math.sqrt(ie),ue=de-z-M*h+c;if(ue>0){var be=Math.min(1,ue/(c*2))-1;be=(ue-c*(1-be*be))/de,j-=be*j,Q-=be*Q,ie=j*j+Q*Q}}e:if(k){M*=h;var Pe=(ie-z*z-M*M)/(2*z*M);Pe<-1?(Pe=-1,$=Math.PI*a):Pe>1?(Pe=1,$=0,o&&(P=(Math.sqrt(ie)/(z+M)-1)*l+1,p*=P,s&&(v*=P))):$=Math.acos(Pe)*a,P=z+M*Pe,O=M*Math.sin($),V=Math.atan2(Q*P-j*O,j*P+Q*O)}else{P=h*M,O=d*M;var ye=P*P,we=O*O,_e=Math.atan2(Q,j);I=we*z*z+ye*ie-ye*we;var xe=-2*we*z,je=we-ye;if(R=xe*xe-4*je*I,R>=0){var Xe=Math.sqrt(R);xe<0&&(Xe=-Xe),Xe=-(xe+Xe)*.5;var Fe=Xe/je,at=I/Xe,vt=Math.abs(Fe)<Math.abs(at)?Fe:at;if(vt*vt<=ie){W=Math.sqrt(ie-vt*vt)*a,V=_e-Math.atan2(W,vt),$=Math.atan2(W/d,(vt-z)/h);break e}}var yt=K.PI,tt=z-P,ot=tt*tt,dt=0,qt=0,nr=z+P,Zt=nr*nr,Gt=0;I=-P*z/(ye-we),I>=-1&&I<=1&&(I=Math.acos(I),U=P*Math.cos(I)+z,W=O*Math.sin(I),R=U*U+W*W,R<ot&&(yt=I,ot=R,tt=U,dt=W),R>Zt&&(qt=I,Zt=R,nr=U,Gt=W)),ie<=(ot+Zt)*.5?(V=_e-Math.atan2(dt*a,tt),$=yt*a):(V=_e-Math.atan2(Gt*a,nr),$=qt*a)}var St=Math.atan2(w,b)*S,sr=e.arotation;V=(V-St)*K.radDeg+g-sr,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(u,f,sr+V*l,p,v,0,0),sr=r.arotation,$=(($+St)*K.radDeg-r.ashearX)*S+x-sr,$>180?$-=360:$<-180&&($+=360),r.updateWorldTransformWith(b,w,sr+$*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),KO=function(t){Ft(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(T_),ZO=function(t){Ft(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=Br.Fixed,n.spacingMode=pn.Fixed,n.rotateMode=Qr.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(T_),pn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(pn||(pn={}));var K9=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Lp){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==Qr.Tangent,s=a.rotateMode==Qr.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=ce.setArraySize(this.spaces,u),h=s?this.lengths=ce.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case pn.Percent:if(s)for(var p=0,v=u-1;p<v;p++){var y=c[p],m=y.data.length;if(m<t.epsilon)h[p]=0;else{var g=m*y.matrix.a,x=m*y.matrix.b;h[p]=Math.sqrt(g*g+x*x)}}ce.arrayFill(f,1,u,d);break;case pn.Proportional:for(var S=0,p=0,v=u-1;p<v;){var y=c[p],m=y.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var g=m*y.matrix.a,x=m*y.matrix.b,b=Math.sqrt(g*g+x*x);s&&(h[p]=b),f[++p]=b,S+=b}}if(S>0){S=u/S*d;for(var p=1;p<u;p++)f[p]*=S}break;default:for(var w=a.spacingMode==pn.Length,p=0,v=u-1;p<v;){var y=c[p],m=y.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var g=m*y.matrix.a,x=m*y.matrix.b,C=Math.sqrt(g*g+x*x);s&&(h[p]=C),f[++p]=(w?m+d:d)*C/m}}}var A=this.computeWorldPositions(e,u,o),P=A[0],O=A[1],I=a.offsetRotation,R=!1;if(I==0)R=a.rotateMode==Qr.Chain;else{R=!1;var k=this.target.bone.matrix;I*=k.a*k.d-k.b*k.c>0?K.degRad:-K.degRad}for(var p=0,k=3;p<l;p++,k+=3){var y=c[p],D=y.matrix;D.tx+=(P-D.tx)*n,D.ty+=(O-D.ty)*i;var g=A[k],x=A[k+1],L=g-P,U=x-O;if(s){var W=h[p];if(W!=0){var te=(Math.sqrt(L*L+U*U)/W-1)*r+1;D.a*=te,D.b*=te}}if(P=g,O=x,r>0){var J=D.a,z=D.c,M=D.b,V=D.d,$=0,j=0,Q=0;if(o?$=A[k-1]:f[p+1]==0?$=A[k+2]:$=Math.atan2(U,L),$-=Math.atan2(M,J),R){j=Math.cos($),Q=Math.sin($);var ie=y.data.length;P+=(ie*(j*J-Q*M)-L)*r,O+=(ie*(Q*J+j*M)-U)*r}else $+=I;$>K.PI?$-=K.PI2:$<-K.PI&&($+=K.PI2),$*=r,j=Math.cos($),Q=Math.sin($),D.a=j*J-Q*M,D.c=j*z-Q*V,D.b=Q*J+j*M,D.d=Q*z+j*V}y.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=ce.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var d=e.lengths;f-=l?1:2;var p=d[f];this.data.positionMode==Br.Percent&&(a*=p);var v;switch(this.data.spacingMode){case pn.Percent:v=p;break;case pn.Proportional:v=p/r;break;default:v=1}c=ce.setArraySize(this.world,8);for(var y=0,m=0,g=0;y<r;y++,m+=3){var x=o[y]*v;a+=x;var S=a;if(l)S%=p,S<0&&(S+=p),g=0;else if(S<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(S,c,0,s,m);continue}else if(S>p){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(S-p,c,0,s,m);continue}for(;;g++){var b=d[g];if(!(S>b)){if(g==0)S/=b;else{var w=d[g-1];S=(S-w)/(b-w)}break}}g!=h&&(h=g,l&&g==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,g*6+2,8,c,0,2)),this.addCurvePosition(S,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,m,n||y>0&&x==0)}return s}l?(u+=2,c=ce.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=ce.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=ce.setArraySize(this.curves,f),A=0,P=c[0],O=c[1],I=0,R=0,k=0,D=0,L=0,U=0,W=0,te=0,J=0,z=0,M=0,V=0,$=0,j=0,y=0,Q=2;y<f;y++,Q+=6)I=c[Q],R=c[Q+1],k=c[Q+2],D=c[Q+3],L=c[Q+4],U=c[Q+5],W=(P-I*2+k)*.1875,te=(O-R*2+D)*.1875,J=((I-k)*3-P+L)*.09375,z=((R-D)*3-O+U)*.09375,M=W*2+J,V=te*2+z,$=(I-P)*.75+W+J*.16666667,j=(R-O)*.75+te+z*.16666667,A+=Math.sqrt($*$+j*j),$+=M,j+=V,M+=J,V+=z,A+=Math.sqrt($*$+j*j),$+=M,j+=V,A+=Math.sqrt($*$+j*j),$+=M+J,j+=V+z,A+=Math.sqrt($*$+j*j),C[y]=A,P=L,O=U;this.data.positionMode==Br.Percent&&(a*=A);var ie;switch(this.data.spacingMode){case pn.Percent:ie=A;break;case pn.Proportional:ie=A/r;break;default:ie=1}for(var de=this.segments,ue=0,y=0,m=0,g=0,be=0;y<r;y++,m+=3){var x=o[y]*ie;a+=x;var S=a;if(l)S%=A,S<0&&(S+=A),g=0;else if(S<0){this.addBeforePosition(S,c,0,s,m);continue}else if(S>A){this.addAfterPosition(S-A,c,u-4,s,m);continue}for(;;g++){var Pe=C[g];if(!(S>Pe)){if(g==0)S/=Pe;else{var w=C[g-1];S=(S-w)/(Pe-w)}break}}if(g!=h){h=g;var ye=g*6;for(P=c[ye],O=c[ye+1],I=c[ye+2],R=c[ye+3],k=c[ye+4],D=c[ye+5],L=c[ye+6],U=c[ye+7],W=(P-I*2+k)*.03,te=(O-R*2+D)*.03,J=((I-k)*3-P+L)*.006,z=((R-D)*3-O+U)*.006,M=W*2+J,V=te*2+z,$=(I-P)*.3+W+J*.16666667,j=(R-O)*.3+te+z*.16666667,ue=Math.sqrt($*$+j*j),de[0]=ue,ye=1;ye<8;ye++)$+=M,j+=V,M+=J,V+=z,ue+=Math.sqrt($*$+j*j),de[ye]=ue;$+=M,j+=V,ue+=Math.sqrt($*$+j*j),de[8]=ue,$+=M+J,j+=V+z,ue+=Math.sqrt($*$+j*j),de[9]=ue,be=0}for(S*=ue;;be++){var we=de[be];if(!(S>we)){if(be==0)S/=we;else{var w=de[be-1];S=be+(S-w)/(we-w)}break}}this.addCurvePosition(S*.1,P,O,I,R,k,D,L,U,s,m,n||y>0&&x==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var d=e*e,p=d*e,v=1-e,y=v*v,m=y*v,g=v*e,x=g*3,S=v*x,b=x*e,w=r*m+i*S+o*b+c*p,C=n*m+a*S+s*b+l*p;u[f]=w,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*y+a*g*2+s*d),w-(r*y+i*g*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),Z9=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Ne,this.darkColor=e.darkColor?new Ne:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Ho)||!(this.attachment instanceof Ho)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),Q9=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Tp,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,y=this.data.offsetShearY*p,m=this.bones,g=0,x=m.length;g<x;g++){var S=m[g],b=S.matrix;if(e!=0){var w=b.a,C=b.c,A=b.b,P=b.d,O=Math.atan2(h,u)-Math.atan2(A,w)+v;O>K.PI?O-=K.PI2:O<-K.PI&&(O+=K.PI2),O*=e;var I=Math.cos(O),R=Math.sin(O);b.a=I*w-R*A,b.c=I*C-R*P,b.b=R*w+I*A,b.d=R*C+I*P}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=(k.x-b.tx)*r,b.ty+=(k.y-b.ty)*n}if(i!=0){var D=Math.sqrt(b.a*b.a+b.b*b.b);D!=0&&(D=(D+(Math.sqrt(u*u+h*h)-D+this.data.offsetScaleX)*i)/D),b.a*=D,b.b*=D}if(a!=0){var D=Math.sqrt(b.c*b.c+b.d*b.d);D!=0&&(D=(D+(Math.sqrt(f*f+d*d)-D+this.data.offsetScaleY)*a)/D),b.c*=D,b.d*=D}if(o>0){var C=b.c,P=b.d,L=Math.atan2(P,C),O=Math.atan2(d,f)-Math.atan2(h,u)-(L-Math.atan2(b.b,b.a));O>K.PI?O-=K.PI2:O<-K.PI&&(O+=K.PI2),O=L+(O+y)*o;var D=Math.sqrt(C*C+P*P);b.c=Math.cos(O)*D,b.d=Math.sin(O)*D}S.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,y=this.data.offsetShearY*p,m=this.bones,g=0,x=m.length;g<x;g++){var S=m[g],b=S.matrix;if(e!=0){var w=b.a,C=b.c,A=b.b,P=b.d,O=Math.atan2(h,u)+v;O>K.PI?O-=K.PI2:O<-K.PI&&(O+=K.PI2),O*=e;var I=Math.cos(O),R=Math.sin(O);b.a=I*w-R*A,b.c=I*C-R*P,b.b=R*w+I*A,b.d=R*C+I*P}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=k.x*r,b.ty+=k.y*n}if(i!=0){var D=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=D,b.b*=D}if(a!=0){var D=(Math.sqrt(f*f+d*d)-1+this.data.offsetScaleY)*a+1;b.c*=D,b.d*=D}if(o>0){var O=Math.atan2(d,f)-Math.atan2(h,u);O>K.PI?O-=K.PI2:O<-K.PI&&(O+=K.PI2);var C=b.c,P=b.d;O=Math.atan2(P,C)+(O-K.PI/2+y)*o;var D=Math.sqrt(C*C+P*P);b.c=Math.cos(O)*D,b.d=Math.sin(O)*D}S.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var d=s.arotation-h+this.data.offsetRotation;d-=(16384-(16384.499999999996-d/360|0))*360,h+=d*e}var p=f.ax,v=f.ay;p+=(s.ax-p+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var y=f.ascaleX,m=f.ascaleY;i!=0&&y!=0&&(y=(y+(s.ascaleX-y+this.data.offsetScaleX)*i)/y),a!=0&&m!=0&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*a)/m);var g=f.ashearY;if(o!=0){var d=s.ashearY-g+this.data.offsetShearY;d-=(16384-(16384.499999999996-d/360|0))*360,g+=d*o}f.updateWorldTransformWith(p,v,h,y,m,f.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,d=f.ax+(s.ax+this.data.offsetX)*r,p=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),y=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),m=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(d,p,h,v,y,f.ashearX,m)}},t}(),J9=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new bA(n,this,null);else{var a=this.bones[n.parent.index];i=new bA(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new Z9(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new q9(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new Q9(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new K9(u,this))}this.color=new Ne(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Lp&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ce.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Lp){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=K.cosDeg(r.rotation+r.shearX)*r.scaleX,l=K.cosDeg(s)*r.scaleY,u=K.sinDeg(r.rotation+r.shearX)*r.scaleX,f=K.sinDeg(s)*r.scaleY,h=this.scaleX,d=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*d,r.matrix.d=(a*l+o*f)*d;for(var p=this._updateCache,v=0,y=p.length;v<y;v++){var m=p[v];m!=r&&m.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ce.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new Tp,r=new Tp;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof SO)h=8,d=ce.setArraySize(n,h,0),p.computeWorldVertices(f,d,0,2);else if(p instanceof E_){var v=p;h=v.worldVerticesLength,d=ce.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d)for(var y=0,m=d.length;y<m;y+=2){var g=d[y],x=d[y+1];a=Math.min(a,g),o=Math.min(o,x),s=Math.max(s,g),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),QO=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),JO=function(){function t(e,r,n){if(this.index=0,this.color=new Ne(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ze.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),eR=function(t){Ft(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(T_),SA=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Mm=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof E_?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new SA(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new SA(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),eV=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new QO;n.name="";var i=new Rm(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var p=f==0?null:n.bones[i.readInt(!0)],v=new XO(f,d,p);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&Ne.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var y=i.readString();if(!y)throw new Error("Slot name must not be null.");var m=n.bones[i.readInt(!0)],v=new JO(f,y,m);Ne.rgba8888ToColor(v.color,i.readInt32());var g=i.readInt32();g!=-1&&Ne.rgb888ToColor(v.darkColor=new Ne,g),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var S=i.readString();if(!S)throw new Error("IK constraint data name must not be null.");var v=new KO(S);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var w=i.readString();if(!w)throw new Error("Transform constraint data name must not be null.");var v=new eR(w);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var v=new ZO(C);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var b=0;b<x;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==Br.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==pn.Length||v.spacingMode==pn.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var A=this.readSkin(i,n,!0,l);A&&(n.defaultSkin=A,n.skins.push(A));{var f=n.skins.length;for(ce.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var P=this.readSkin(i,n,!1,l);if(!P)throw new Error("readSkin() should not have returned null.");n.skins[f]=P}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var O=this.linkedMeshes[f],P=O.skin?n.findSkin(O.skin):n.defaultSkin;if(!P)throw new Error("Not skin found for linked mesh.");if(!O.parent)throw new Error("Linked mesh parent must not be null");var I=P.getAttachment(O.slotIndex,O.parent);if(!I)throw new Error("Parent mesh not found: "+O.parent);O.mesh.timelineAttachment=O.inheritTimeline?I:O.mesh,O.mesh.setParentMesh(I)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var R=i.readStringRef();if(!R)throw new Error;var v=new qO(R);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Mm("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Mm(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var d=e.readStringRef();if(!d)throw new Error("Attachment name must not be null");var p=this.readAttachment(e,r,a,u,d,i);p&&a.setAttachment(u,d,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case Ot.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),y=e.readFloat(),m=e.readInt32(),g=this.readSequence(e);l||(l=c);var x=this.attachmentLoader.newRegionAttachment(n,c,l,g);return x?(x.path=l,x.x=f*s,x.y=h*s,x.scaleX=d,x.scaleY=p,x.rotation=u,x.width=v*s,x.height=y*s,Ne.rgba8888ToColor(x.color,m),x.sequence=g,g==null&&x.updateRegion(),x):null}case Ot.BoundingBox:{var S=e.readInt(!0),b=this.readVertices(e,S),m=o?e.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,c);return w?(w.worldVerticesLength=S<<1,w.vertices=b.vertices,w.bones=b.bones,o&&Ne.rgba8888ToColor(w.color,m),w):null}case Ot.Mesh:{var l=e.readStringRef(),m=e.readInt32(),S=e.readInt(!0),C=this.readFloatArray(e,S<<1,1),A=this.readShortArray(e),b=this.readVertices(e,S),P=e.readInt(!0),g=this.readSequence(e),O=[],v=0,y=0;o&&(O=this.readShortArray(e),v=e.readFloat(),y=e.readFloat()),l||(l=c);var I=this.attachmentLoader.newMeshAttachment(n,c,l,g);return I?(I.path=l,Ne.rgba8888ToColor(I.color,m),I.bones=b.bones,I.vertices=b.vertices,I.worldVerticesLength=S<<1,I.triangles=A,I.regionUVs=new Float32Array(C),I.hullLength=P<<1,I.sequence=g,o&&(I.edges=O,I.width=v*s,I.height=y*s),I):null}case Ot.LinkedMesh:{var l=e.readStringRef(),m=e.readInt32(),R=e.readStringRef(),k=e.readStringRef(),D=e.readBoolean(),g=this.readSequence(e),v=0,y=0;o&&(v=e.readFloat(),y=e.readFloat()),l||(l=c);var I=this.attachmentLoader.newMeshAttachment(n,c,l,g);return I?(I.path=l,Ne.rgba8888ToColor(I.color,m),I.sequence=g,o&&(I.width=v*s,I.height=y*s),this.linkedMeshes.push(new tFe(I,R,i,k,D)),I):null}case Ot.Path:{for(var L=e.readBoolean(),U=e.readBoolean(),S=e.readInt(!0),b=this.readVertices(e,S),W=ce.newArray(S/3,0),te=0,J=W.length;te<J;te++)W[te]=e.readFloat()*s;var m=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=L,l.constantSpeed=U,l.worldVerticesLength=S<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=W,o&&Ne.rgba8888ToColor(l.color,m),l):null}case Ot.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),m=o?e.readInt32():0,z=this.attachmentLoader.newPointAttachment(n,c);return z?(z.x=f*s,z.y=h*s,z.rotation=u,o&&Ne.rgba8888ToColor(z.color,m),z):null}case Ot.Clipping:{var M=e.readInt(!0),S=e.readInt(!0),b=this.readVertices(e,S),m=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,c);return V?(V.endSlot=r.slots[M],V.worldVerticesLength=S<<1,V.vertices=b.vertices,V.bones=b.bones,o&&Ne.rgba8888ToColor(V.color,m),V):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new EO(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?_3:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new rFe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=ce.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),d=h-1;switch(f){case dFe:{for(var p=new Pu(h,c),v=0;v<h;v++)p.setFrame(v,e.readFloat(),e.readStringRef());i.push(p);break}case pFe:{for(var y=e.readInt(!0),p=new DO(h,y,c),m=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,w=0;p.setFrame(v,m,g,x,S,b),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,g,A,1),Vt(e,p,w++,v,1,m,C,x,P,1),Vt(e,p,w++,v,2,m,C,S,O,1),Vt(e,p,w++,v,3,m,C,b,I,1)}m=C,g=A,x=P,S=O,b=I}i.push(p);break}case vFe:{for(var y=e.readInt(!0),p=new MO(h,y,c),m=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,v=0,w=0;p.setFrame(v,m,g,x,S),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,g,A,1),Vt(e,p,w++,v,1,m,C,x,P,1),Vt(e,p,w++,v,2,m,C,S,O,1)}m=C,g=A,x=P,S=O}i.push(p);break}case gFe:{for(var y=e.readInt(!0),p=new BO(h,y,c),m=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,v=0,w=0;p.setFrame(v,m,g,x,S,b,A,P,O),v!=d;v++){var C=e.readFloat(),R=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,te=e.readUnsignedByte()/255;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,g,R,1),Vt(e,p,w++,v,1,m,C,x,k,1),Vt(e,p,w++,v,2,m,C,S,D,1),Vt(e,p,w++,v,3,m,C,b,L,1),Vt(e,p,w++,v,4,m,C,A,U,1),Vt(e,p,w++,v,5,m,C,P,W,1),Vt(e,p,w++,v,6,m,C,O,te,1)}m=C,g=R,x=k,S=D,b=L,A=U,P=W,O=te}i.push(p);break}case mFe:{for(var y=e.readInt(!0),p=new NO(h,y,c),m=e.readFloat(),g=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,v=0,w=0;p.setFrame(v,m,g,x,S,A,P,O),v!=d;v++){var C=e.readFloat(),R=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,te=e.readUnsignedByte()/255;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,g,R,1),Vt(e,p,w++,v,1,m,C,x,k,1),Vt(e,p,w++,v,2,m,C,S,D,1),Vt(e,p,w++,v,3,m,C,A,U,1),Vt(e,p,w++,v,4,m,C,P,W,1),Vt(e,p,w++,v,5,m,C,O,te,1)}m=C,g=R,x=k,S=D,A=U,P=W,O=te}i.push(p);break}case yFe:{for(var p=new LO(h,e.readInt(!0),c),m=e.readFloat(),b=e.readUnsignedByte()/255,v=0,w=0;p.setFrame(v,m,b),v!=d;v++){var C=e.readFloat(),I=e.readUnsignedByte()/255;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,b,I,1)}m=C,b=I}i.push(p)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var J=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var z=e.readByte(),h=e.readInt(!0),y=e.readInt(!0);switch(z){case nFe:i.push(ps(e,new Bp(h,y,J),1));break;case iFe:i.push(tE(e,new CO(h,y,J),a));break;case aFe:i.push(ps(e,new AO(h,y,J),a));break;case oFe:i.push(ps(e,new TO(h,y,J),a));break;case sFe:i.push(tE(e,new PO(h,y,J),1));break;case lFe:i.push(ps(e,new OO(h,y,J),1));break;case uFe:i.push(ps(e,new RO(h,y,J),1));break;case cFe:i.push(tE(e,new IO(h,y,J),1));break;case fFe:i.push(ps(e,new kO(h,y,J),1));break;case hFe:i.push(ps(e,new FO(h,y,J),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var M=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new jO(h,e.readInt(!0),M),m=e.readFloat(),V=e.readFloat(),$=e.readFloat()*a,v=0,w=0;p.setFrame(v,m,V,$,e.readByte(),e.readBoolean(),e.readBoolean()),v!=d;v++){var C=e.readFloat(),j=e.readFloat(),Q=e.readFloat()*a;switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,V,j,1),Vt(e,p,w++,v,1,m,C,$,Q,a)}m=C,V=j,$=Q}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var M=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new $O(h,e.readInt(!0),M),m=e.readFloat(),ie=e.readFloat(),de=e.readFloat(),ue=e.readFloat(),be=e.readFloat(),Pe=e.readFloat(),ye=e.readFloat(),v=0,w=0;p.setFrame(v,m,ie,de,ue,be,Pe,ye),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),_e=e.readFloat(),xe=e.readFloat(),je=e.readFloat(),Xe=e.readFloat(),Fe=e.readFloat();switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,ie,we,1),Vt(e,p,w++,v,1,m,C,de,_e,1),Vt(e,p,w++,v,2,m,C,ue,xe,1),Vt(e,p,w++,v,3,m,C,be,je,1),Vt(e,p,w++,v,4,m,C,Pe,Xe,1),Vt(e,p,w++,v,5,m,C,ye,Fe,1)}m=C,ie=we,de=_e,ue=xe,be=je,Pe=Xe,ye=Fe}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var M=e.readInt(!0),at=n.pathConstraints[M],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case xFe:i.push(ps(e,new VO(e.readInt(!0),e.readInt(!0),M),at.positionMode==Br.Fixed?a:1));break;case bFe:i.push(ps(e,new GO(e.readInt(!0),e.readInt(!0),M),at.spacingMode==pn.Length||at.spacingMode==pn.Fixed?a:1));break;case SFe:for(var p=new WO(e.readInt(!0),e.readInt(!0),M),m=e.readFloat(),ie=e.readFloat(),de=e.readFloat(),ue=e.readFloat(),v=0,w=0,d=p.getFrameCount()-1;p.setFrame(v,m,ie,de,ue),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),_e=e.readFloat(),xe=e.readFloat();switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,ie,we,1),Vt(e,p,w++,v,1,m,C,de,_e,1),Vt(e,p,w++,v,2,m,C,ue,xe,1)}m=C,ie=we,de=_e,ue=xe}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var vt=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),yt=0,tt=e.readInt(!0);yt<tt;yt++){var ot=e.readStringRef();if(!ot)throw new Error("attachmentName must not be null.");var dt=vt.getAttachment(c,ot),f=this.readDeformTimelineType(e),h=e.readInt(!0),d=h-1;switch(f){case _3:{for(var qt=dt,nr=qt.bones,Zt=qt.vertices,Gt=nr?Zt.length/3*2:Zt.length,y=e.readInt(!0),p=new UO(h,y,c,qt),m=e.readFloat(),v=0,w=0;;v++){var St=void 0,sr=e.readInt(!0);if(sr==0)St=nr?ce.newFloatArray(Gt):Zt;else{St=ce.newFloatArray(Gt);var ge=e.readInt(!0);if(sr+=ge,a==1)for(var Ce=ge;Ce<sr;Ce++)St[Ce]=e.readFloat();else for(var Ce=ge;Ce<sr;Ce++)St[Ce]=e.readFloat()*a;if(!nr)for(var Ce=0,Re=St.length;Ce<Re;Ce++)St[Ce]+=Zt[Ce]}if(p.setFrame(v,m,St),v==d)break;var C=e.readFloat();switch(e.readByte()){case io:p.setStepped(v);break;case ao:Vt(e,p,w++,v,0,m,C,0,1,1)}m=C}i.push(p);break}case _Fe:{for(var p=new zO(h,c,dt),v=0;v<h;v++){var m=e.readFloat(),Ye=e.readInt32();p.setFrame(v,m,wO[Ye&15],Ye>>4,e.readFloat())}i.push(p);break}}}var $e=e.readInt(!0);if($e>0){for(var p=new yf($e),rt=n.slots.length,o=0;o<$e;o++){for(var m=e.readFloat(),tr=e.readInt(!0),Cr=ce.newArray(rt,0),l=rt-1;l>=0;l--)Cr[l]=-1;for(var Dn=ce.newArray(rt-tr,0),Mn=0,yr=0,l=0;l<tr;l++){for(var c=e.readInt(!0);Mn!=c;)Dn[yr++]=Mn++;Cr[Mn+e.readInt(!0)]=Mn++}for(;Mn<rt;)Dn[yr++]=Mn++;for(var l=rt-1;l>=0;l--)Cr[l]==-1&&(Cr[l]=Dn[--yr]);p.setFrame(o,m,Cr)}i.push(p)}var na=e.readInt(!0);if(na>0){for(var p=new A_(na),o=0;o<na;o++){var m=e.readFloat(),ai=n.events[e.readInt(!0)],mn=new YO(m,ai);mn.intValue=e.readInt(!1),mn.floatValue=e.readFloat(),mn.stringValue=e.readBoolean()?e.readString():ai.stringValue,mn.data.audioPath&&(mn.volume=e.readFloat(),mn.balance=e.readFloat()),p.setFrame(o,mn)}i.push(p)}for(var ia=0,o=0,s=i.length;o<s;o++)ia=Math.max(ia,i[o].getDuration());return new w_(r,i,ia)},t.BlendModeValues=[ze.NORMAL,ze.ADD,ze.MULTIPLY,ze.SCREEN],t}(),tFe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),rFe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function ps(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case io:e.setStepped(a);break;case ao:Vt(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function tE(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case io:e.setStepped(o);break;case ao:Vt(t,e,s++,o,0,n,l,i,u,r),Vt(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function Vt(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var nFe=0,iFe=1,aFe=2,oFe=3,sFe=4,lFe=5,uFe=6,cFe=7,fFe=8,hFe=9,dFe=0,pFe=1,vFe=2,gFe=3,mFe=4,yFe=5,_3=0,_Fe=1,xFe=0,bFe=1,SFe=2,io=1,ao=2,EFe=function(t){Ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(eO),tV=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new QO,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=ve(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new XO(n.bones.length,l.name,u);h.length=ve(l,"length",0)*r,h.x=ve(l,"x",0)*r,h.y=ve(l,"y",0)*r,h.rotation=ve(l,"rotation",0),h.scaleX=ve(l,"scaleX",1),h.scaleY=ve(l,"scaleY",1),h.shearX=ve(l,"shearX",0),h.shearY=ve(l,"shearY",0),h.transformMode=ce.enumValue(_t,ve(l,"transform","Normal")),h.skinRequired=ve(l,"skin",!1);var d=ve(l,"color",null);d&&h.color.setFromString(d),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var p=i.slots[c],v=n.findBone(p.bone);if(!v)throw new Error("Couldn't find bone "+p.bone+" for slot "+p.name);var h=new JO(n.slots.length,p.name,v),d=ve(p,"color",null);d&&h.color.setFromString(d);var y=ve(p,"dark",null);y&&(h.darkColor=Ne.fromString(y)),h.attachmentName=ve(p,"attachment",null),h.blendMode=t.blendModeFromString(ve(p,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var m=i.ik[c],h=new KO(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var g=0;g<m.bones.length;g++){var x=m.bones[g],S=n.findBone(x);if(S==null)throw new Error("IK bone not found: "+x);h.bones.push(S)}h.target=n.findBone(m.target),h.mix=ve(m,"mix",1),h.softness=ve(m,"softness",0)*r,h.bendDirection=ve(m,"bendPositive",!0)?1:-1,h.compress=ve(m,"compress",!1),h.stretch=ve(m,"stretch",!1),h.uniform=ve(m,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var m=i.transform[c],h=new eR(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var g=0;g<m.bones.length;g++){var x=m.bones[g],S=n.findBone(x);if(!S)throw new Error("Couldn't find bone "+x+" for transform constraint "+m.name+".");h.bones.push(S)}var b=m.target,w=n.findBone(b);if(!w)throw new Error("Couldn't find target bone "+b+" for transform constraint "+m.name+".");h.target=w,h.local=ve(m,"local",!1),h.relative=ve(m,"relative",!1),h.offsetRotation=ve(m,"rotation",0),h.offsetX=ve(m,"x",0)*r,h.offsetY=ve(m,"y",0)*r,h.offsetScaleX=ve(m,"scaleX",0),h.offsetScaleY=ve(m,"scaleY",0),h.offsetShearY=ve(m,"shearY",0),h.mixRotate=ve(m,"mixRotate",1),h.mixX=ve(m,"mixX",1),h.mixY=ve(m,"mixY",h.mixX),h.mixScaleX=ve(m,"mixScaleX",1),h.mixScaleY=ve(m,"mixScaleY",h.mixScaleX),h.mixShearY=ve(m,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var m=i.path[c],h=new ZO(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var g=0;g<m.bones.length;g++){var x=m.bones[g],S=n.findBone(x);if(!S)throw new Error("Couldn't find bone "+x+" for path constraint "+m.name+".");h.bones.push(S)}var b=m.target,w=n.findSlot(b);if(!w)throw new Error("Couldn't find target slot "+b+" for path constraint "+m.name+".");h.target=w,h.positionMode=ce.enumValue(Br,ve(m,"positionMode","Percent")),h.spacingMode=ce.enumValue(pn,ve(m,"spacingMode","Length")),h.rotateMode=ce.enumValue(Qr,ve(m,"rotateMode","Tangent")),h.offsetRotation=ve(m,"rotation",0),h.position=ve(m,"position",0),h.positionMode==Br.Fixed&&(h.position*=r),h.spacing=ve(m,"spacing",0),(h.spacingMode==pn.Length||h.spacingMode==pn.Fixed)&&(h.spacing*=r),h.mixRotate=ve(m,"mixRotate",1),h.mixX=ve(m,"mixX",1),h.mixY=ve(m,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],A=new Mm(C.name);if(C.bones)for(var g=0;g<C.bones.length;g++){var x=C.bones[g],S=n.findBone(x);if(!S)throw new Error("Couldn't find bone "+x+" for skin "+C.name+".");A.bones.push(S)}if(C.ik)for(var g=0;g<C.ik.length;g++){var P=C.ik[g],O=n.findIkConstraint(P);if(!O)throw new Error("Couldn't find IK constraint "+P+" for skin "+C.name+".");A.constraints.push(O)}if(C.transform)for(var g=0;g<C.transform.length;g++){var P=C.transform[g],O=n.findTransformConstraint(P);if(!O)throw new Error("Couldn't find transform constraint "+P+" for skin "+C.name+".");A.constraints.push(O)}if(C.path)for(var g=0;g<C.path.length;g++){var P=C.path[g],O=n.findPathConstraint(P);if(!O)throw new Error("Couldn't find path constraint "+P+" for skin "+C.name+".");A.constraints.push(O)}for(var I in C.attachments){var R=n.findSlot(I);if(!R)throw new Error("Couldn't find slot "+I+" for skin "+C.name+".");var p=C.attachments[I];for(var k in p){var D=this.readAttachment(p[k],A,R.index,k,n);D&&A.setAttachment(R.index,k,D)}}n.skins.push(A),A.name=="default"&&(n.defaultSkin=A)}for(var c=0,L=this.linkedMeshes.length;c<L;c++){var U=this.linkedMeshes[c],A=U.skin?n.findSkin(U.skin):n.defaultSkin;if(!A)throw new Error("Skin not found: "+U.skin);var W=A.getAttachment(U.slotIndex,U.parent);if(!W)throw new Error("Parent mesh not found: "+U.parent);U.mesh.timelineAttachment=U.inheritTimeline?W:U.mesh,U.mesh.setParentMesh(W)}if(this.linkedMeshes.length=0,i.events)for(var te in i.events){var J=i.events[te],h=new qO(te);h.intValue=ve(J,"int",0),h.floatValue=ve(J,"float",0),h.stringValue=ve(J,"string",""),h.audioPath=ve(J,"audio",null),h.audioPath&&(h.volume=ve(J,"volume",1),h.balance=ve(J,"balance",0)),n.events.push(h)}if(i.animations)for(var z in i.animations){var M=i.animations[z];this.readAnimation(M,z,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=ve(e,"name",i),ve(e,"type","region")){case"region":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=ve(e,"x",0)*o,l.y=ve(e,"y",0)*o,l.scaleX=ve(e,"scaleX",1),l.scaleY=ve(e,"scaleY",1),l.rotation=ve(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=ve(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=ve(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=ve(e,"color",null);u&&h.color.setFromString(u),h.width=ve(e,"width",0)*o,h.height=ve(e,"height",0)*o,h.sequence=c;var d=ve(e,"parent",null);if(d)return this.linkedMeshes.push(new wFe(h,ve(e,"skin",null),n,d,ve(e,"timelines",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=ve(e,"edges",null),h.hullLength=ve(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=ve(e,"closed",!1),s.constantSpeed=ve(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var y=ce.newArray(v/3,0),m=0;m<e.lengths.length;m++)y[m]=e.lengths[m]*o;s.lengths=y;var u=ve(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(!g)return null;g.x=ve(e,"x",0)*o,g.y=ve(e,"y",0)*o,g.rotation=ve(e,"rotation",0);var u=ve(e,"color",null);return u&&g.color.setFromString(u),g}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(!x)return null;var S=ve(e,"end",null);if(S!=null){var b=a.findSlot(S);if(b==null)throw new Error("Clipping end slot not found: "+S);x.endSlot=b}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=ve(e,"color",null);return u&&x.color.setFromString(u),x}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new EO(ve(e,"count",0));return r.start=ve(e,"start",1),r.digits=ve(e,"digits",0),r.setupIndex=ve(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ce.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ce.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var d=new Pu(h,l),p=0;p<h;p++){var v=f[p];d.setFrame(p,ve(v,"time",0),ve(v,"name",null))}a.push(d)}else if(u=="rgba"){for(var d=new DO(h,h<<2,l),v=f[0],y=ve(v,"time",0),m=Ne.fromString(v.color),p=0,g=0;;p++){d.setFrame(p,y,m.r,m.g,m.b,m.a);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),b=Ne.fromString(x.color),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,m.r,b.r,1),g=Ht(w,d,g,p,1,y,S,m.g,b.g,1),g=Ht(w,d,g,p,2,y,S,m.b,b.b,1),g=Ht(w,d,g,p,3,y,S,m.a,b.a,1)),y=S,m=b,v=x}a.push(d)}else if(u=="rgb"){for(var d=new MO(h,h*3,l),v=f[0],y=ve(v,"time",0),m=Ne.fromString(v.color),p=0,g=0;;p++){d.setFrame(p,y,m.r,m.g,m.b);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),b=Ne.fromString(x.color),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,m.r,b.r,1),g=Ht(w,d,g,p,1,y,S,m.g,b.g,1),g=Ht(w,d,g,p,2,y,S,m.b,b.b,1)),y=S,m=b,v=x}a.push(d)}else if(u=="alpha")a.push(Po(f,new LO(h,h,l),0,1));else if(u=="rgba2"){for(var d=new BO(h,h*7,l),v=f[0],y=ve(v,"time",0),m=Ne.fromString(v.light),C=Ne.fromString(v.dark),p=0,g=0;;p++){d.setFrame(p,y,m.r,m.g,m.b,m.a,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),b=Ne.fromString(x.light),A=Ne.fromString(x.dark),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,m.r,b.r,1),g=Ht(w,d,g,p,1,y,S,m.g,b.g,1),g=Ht(w,d,g,p,2,y,S,m.b,b.b,1),g=Ht(w,d,g,p,3,y,S,m.a,b.a,1),g=Ht(w,d,g,p,4,y,S,C.r,A.r,1),g=Ht(w,d,g,p,5,y,S,C.g,A.g,1),g=Ht(w,d,g,p,6,y,S,C.b,A.b,1)),y=S,m=b,C=A,v=x}a.push(d)}else if(u=="rgb2"){for(var d=new NO(h,h*6,l),v=f[0],y=ve(v,"time",0),m=Ne.fromString(v.light),C=Ne.fromString(v.dark),p=0,g=0;;p++){d.setFrame(p,y,m.r,m.g,m.b,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),b=Ne.fromString(x.light),A=Ne.fromString(x.dark),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,m.r,b.r,1),g=Ht(w,d,g,p,1,y,S,m.g,b.g,1),g=Ht(w,d,g,p,2,y,S,m.b,b.b,1),g=Ht(w,d,g,p,3,y,S,C.r,A.r,1),g=Ht(w,d,g,p,4,y,S,C.g,A.g,1),g=Ht(w,d,g,p,5,y,S,C.b,A.b,1)),y=S,m=b,C=A,v=x}a.push(d)}}}}if(e.bones)for(var P in e.bones){var O=e.bones[P],I=n.findBone(P);if(!I)throw new Error("Bone not found: "+P);var R=I.index;for(var u in O){var f=O[u],k=f.length;if(k!=0){if(u==="rotate")a.push(Po(f,new Bp(k,k,R),0,1));else if(u==="translate"){var d=new CO(k,k<<1,R);a.push(rE(f,d,"x","y",0,i))}else if(u==="translatex"){var d=new AO(k,k,R);a.push(Po(f,d,0,i))}else if(u==="translatey"){var d=new TO(k,k,R);a.push(Po(f,d,0,i))}else if(u==="scale"){var d=new PO(k,k<<1,R);a.push(rE(f,d,"x","y",1,1))}else if(u==="scalex"){var d=new OO(k,k,R);a.push(Po(f,d,1,1))}else if(u==="scaley"){var d=new RO(k,k,R);a.push(Po(f,d,1,1))}else if(u==="shear"){var d=new IO(k,k<<1,R);a.push(rE(f,d,"x","y",0,1))}else if(u==="shearx"){var d=new kO(k,k,R);a.push(Po(f,d,0,1))}else if(u==="sheary"){var d=new FO(k,k,R);a.push(Po(f,d,0,1))}}}}if(e.ik)for(var D in e.ik){var L=e.ik[D],v=L[0];if(v){var U=n.findIkConstraint(D);if(!U)throw new Error("IK Constraint not found: "+D);for(var W=n.ikConstraints.indexOf(U),d=new jO(L.length,L.length<<1,W),y=ve(v,"time",0),te=ve(v,"mix",1),J=ve(v,"softness",0)*i,p=0,g=0;;p++){d.setFrame(p,y,te,J,ve(v,"bendPositive",!0)?1:-1,ve(v,"compress",!1),ve(v,"stretch",!1));var x=L[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),z=ve(x,"mix",1),M=ve(x,"softness",0)*i,w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,te,z,1),g=Ht(w,d,g,p,1,y,S,J,M,i)),y=S,te=z,J=M,v=x}a.push(d)}}if(e.transform)for(var D in e.transform){var f=e.transform[D],v=f[0];if(v){var U=n.findTransformConstraint(D);if(!U)throw new Error("Transform constraint not found: "+D);for(var W=n.transformConstraints.indexOf(U),d=new $O(f.length,f.length*6,W),y=ve(v,"time",0),V=ve(v,"mixRotate",1),$=ve(v,"mixX",1),j=ve(v,"mixY",$),Q=ve(v,"mixScaleX",1),ie=ve(v,"mixScaleY",Q),de=ve(v,"mixShearY",1),p=0,g=0;;p++){d.setFrame(p,y,V,$,j,Q,ie,de);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),ue=ve(x,"mixRotate",1),be=ve(x,"mixX",1),Pe=ve(x,"mixY",be),ye=ve(x,"mixScaleX",1),we=ve(x,"mixScaleY",ye),_e=ve(x,"mixShearY",1),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,V,ue,1),g=Ht(w,d,g,p,1,y,S,$,be,1),g=Ht(w,d,g,p,2,y,S,j,Pe,1),g=Ht(w,d,g,p,3,y,S,Q,ye,1),g=Ht(w,d,g,p,4,y,S,ie,we,1),g=Ht(w,d,g,p,5,y,S,de,_e,1)),y=S,V=ue,$=be,j=Pe,Q=ye,ie=we,Q=ye,v=x}a.push(d)}}if(e.path)for(var D in e.path){var L=e.path[D],U=n.findPathConstraint(D);if(!U)throw new Error("Path constraint not found: "+D);var W=n.pathConstraints.indexOf(U);for(var u in L){var f=L[u],v=f[0];if(v){var xe=f.length;if(u==="position"){var d=new VO(xe,xe,W);a.push(Po(f,d,0,U.positionMode==Br.Fixed?i:1))}else if(u==="spacing"){var d=new GO(xe,xe,W);a.push(Po(f,d,0,U.spacingMode==pn.Length||U.spacingMode==pn.Fixed?i:1))}else if(u==="mix"){for(var d=new WO(xe,xe*3,W),y=ve(v,"time",0),V=ve(v,"mixRotate",1),$=ve(v,"mixX",1),j=ve(v,"mixY",$),p=0,g=0;;p++){d.setFrame(p,y,V,$,j);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),ue=ve(x,"mixRotate",1),be=ve(x,"mixX",1),Pe=ve(x,"mixY",be),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,V,ue,1),g=Ht(w,d,g,p,1,y,S,$,be,1),g=Ht(w,d,g,p,2,y,S,j,Pe,1)),y=S,V=ue,$=be,j=Pe,v=x}a.push(d)}}}}if(e.deform){e.attachments={};for(var je in e.deform){var Xe=e.deform[je],Fe=e.attachments[je]={};for(var o in Xe){var s=Xe[o],at=Fe[o]={};for(var vt in s)at[vt]={deform:s[vt]}}}}if(e.attachments)for(var yt in e.attachments){var tt=e.attachments[yt],ot=n.findSkin(yt);if(ot!=null)for(var dt in tt){var s=tt[dt],c=n.findSlot(dt);if(!c)throw new Error("Slot not found: "+dt);var l=c.index;for(var qt in s){var nr=s[qt],Zt=ot.getAttachment(l,qt);for(var Gt in nr){var f=nr[Gt],v=f[0];if(v){if(Gt=="deform"){for(var St=Zt.bones,sr=Zt.vertices,ge=St?sr.length/3*2:sr.length,d=new UO(f.length,f.length,l,Zt),y=ve(v,"time",0),p=0,g=0;;p++){var Ce=void 0,Re=ve(v,"vertices",null);if(!Re)Ce=St?ce.newFloatArray(ge):sr;else{Ce=ce.newFloatArray(ge);var Ye=ve(v,"offset",0);if(ce.arrayCopy(Re,0,Ce,Ye,Re.length),i!=1)for(var $e=Ye,rt=$e+Re.length;$e<rt;$e++)Ce[$e]*=i;if(!St)for(var $e=0;$e<ge;$e++)Ce[$e]+=sr[$e]}d.setFrame(p,y,Ce);var x=f[p+1];if(!x){d.shrink(g);break}var S=ve(x,"time",0),w=v.curve;w&&(g=Ht(w,d,g,p,0,y,S,0,1,1)),y=S,v=x}a.push(d)}else if(Gt=="sequence"){for(var d=new zO(f.length,l,Zt),tr=0,p=0;p<f.length;p++){var Cr=ve(v,"delay",tr),y=ve(v,"time",0),Dn=Vn[ve(v,"mode","hold")],Mn=ve(v,"index",0);d.setFrame(p,y,Dn,Mn,Cr),tr=Cr,v=f[p+1]}a.push(d)}}}}}}if(e.drawOrder){for(var d=new yf(e.drawOrder.length),yr=n.slots.length,p=0,$e=0;$e<e.drawOrder.length;$e++,p++){var na=e.drawOrder[$e],ai=null,mn=ve(na,"offsets",null);if(mn){ai=ce.newArray(yr,-1);for(var ia=ce.newArray(yr-mn.length,0),wa=0,So=0,Si=0;Si<mn.length;Si++){var Fs=mn[Si],c=n.findSlot(Fs.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;wa!=l;)ia[So++]=wa++;ai[wa+Fs.offset]=wa++}for(;wa<yr;)ia[So++]=wa++;for(var Si=yr-1;Si>=0;Si--)ai[Si]==-1&&(ai[Si]=ia[--So])}d.setFrame(p,ve(na,"time",0),ai)}a.push(d)}if(e.events){for(var d=new A_(e.events.length),p=0,$e=0;$e<e.events.length;$e++,p++){var Ei=e.events[$e],Ha=n.findEvent(Ei.name);if(!Ha)throw new Error("Event not found: "+Ei.name);var oi=new YO(ce.toSinglePrecision(ve(Ei,"time",0)),Ha);oi.intValue=ve(Ei,"int",Ha.intValue),oi.floatValue=ve(Ei,"float",Ha.floatValue),oi.stringValue=ve(Ei,"string",Ha.stringValue),oi.data.audioPath&&(oi.volume=ve(Ei,"volume",1),oi.balance=ve(Ei,"balance",0)),d.setFrame(p,oi)}a.push(d)}for(var Yr=0,$e=0,rt=a.length;$e<rt;$e++)Yr=Math.max(Yr,a[$e].getDuration());if(isNaN(Yr))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new w_(r,a,Yr))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ze.NORMAL;if(e=="additive")return ze.ADD;if(e=="multiply")return ze.MULTIPLY;if(e=="screen")return ze.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),wFe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function Po(t,e,r,n){for(var i=t[0],a=ve(i,"time",0),o=ve(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=ve(l,"time",0),f=ve(l,"value",r)*n;i.curve&&(s=Ht(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function rE(t,e,r,n,i,a){for(var o=t[0],s=ve(o,"time",0),c=ve(o,r,i)*a,l=ve(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var d=ve(h,"time",0),p=ve(h,r,i)*a,v=ve(h,n,i)*a,y=o.curve;y&&(u=Ht(y,e,u,f,0,s,d,c,p,a),u=Ht(y,e,u,f,1,s,d,l,v,a)),s=d,c=p,l=v,o=h}}function Ht(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,d=t[u+2],p=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,d,p,o,c),r+1}function ve(t,e,r){return t[e]!==void 0?t[e]:r}var CFe=function(t){Ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new J9(r),this.skeleton.updateWorldTransform(),this.stateData=new Y9(r),this.state=new z9(this.stateData)},e}(s0);const AFe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:LO,Animation:w_,AnimationState:z9,AnimationStateAdapter:Qke,AnimationStateData:Y9,AtlasAttachmentLoader:HO,Attachment:bO,AttachmentTimeline:Pu,Bone:bA,BoneData:XO,BoundingBoxAttachment:V9,ClippingAttachment:G9,ConstraintData:T_,CurveTimeline:yo,CurveTimeline1:_o,CurveTimeline2:C_,DeformTimeline:UO,DrawOrderTimeline:yf,Event:YO,EventData:qO,EventQueue:X9,EventTimeline:A_,get EventType(){return ki},IkConstraint:q9,IkConstraintData:KO,IkConstraintTimeline:jO,MeshAttachment:E_,PathAttachment:Lp,PathConstraint:K9,PathConstraintData:ZO,PathConstraintMixTimeline:WO,PathConstraintPositionTimeline:VO,PathConstraintSpacingTimeline:GO,PointAttachment:W9,RGB2Timeline:NO,RGBA2Timeline:BO,RGBATimeline:DO,RGBTimeline:MO,RegionAttachment:SO,RotateTimeline:Bp,ScaleTimeline:PO,ScaleXTimeline:OO,ScaleYTimeline:RO,Sequence:EO,get SequenceMode(){return Vn},SequenceModeValues:wO,SequenceTimeline:zO,ShearTimeline:IO,ShearXTimeline:kO,ShearYTimeline:FO,Skeleton:J9,SkeletonBinary:eV,SkeletonBounds:EFe,SkeletonData:QO,SkeletonJson:tV,Skin:Mm,SkinEntry:SA,Slot:Z9,SlotData:JO,get SpacingMode(){return pn},Spine:CFe,Timeline:en,TrackEntry:H9,TransformConstraint:Q9,TransformConstraintData:eR,TransformConstraintTimeline:$O,TranslateTimeline:CO,TranslateXTimeline:AO,TranslateYTimeline:TO,VertexAttachment:Ho},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EA=function(t,e){return EA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EA(t,e)};function rV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(vn||(vn={}));function Lm(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?vn.VER37:e==="3.8"?vn.VER38:e==="4.0"?vn.VER40:e==="4.1"?vn.VER41:r<vn.VER37?vn.VER37:vn.UNKNOWN}var TFe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Lm(i);if(a===vn.VER38&&(n=new d9(new lO(e))),i=this.readVersionNewFormat(r),a=Lm(i),(a===vn.VER40||a===vn.VER41)&&(n=new eV(new HO(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Rm(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Rm(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),PFe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Lm(n),a=null;if(i===vn.VER37&&(a=new $9(new T9(e))),i===vn.VER38&&(a=new p9(new lO(e))),(i===vn.VER40||i===vn.VER41)&&(a=new tV(new HO(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),OFe=function(t){rV(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new TFe},e.prototype.createJsonParser=function(){return new PFe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Xu.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(Dke),RFe=function(t){rV(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Lm(r.version),i=null;if(n===vn.VER37&&(i=Zke),n===vn.VER38&&(i=Wke),(n===vn.VER40||n===vn.VER41)&&(i=AFe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(s0);OFe.registerLoaderPlugin();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var wA=function(t,e){return wA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wA(t,e)},CA=function(){return CA=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},CA.apply(this,arguments)},Lu={},nV={},ws={};Object.defineProperty(ws,"__esModule",{value:!0}),ws.loop=ws.conditional=ws.parse=void 0;ws.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};ws.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};ws.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.readBits=on.readArray=on.readUnsigned=on.readString=on.peekBytes=on.readBytes=on.peekByte=on.readByte=on.buildStream=void 0;on.buildStream=function(t){return{data:t,pos:0}};var IFe=function(){return function(t){return t.data[t.pos++]}};on.readByte=IFe;on.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var P_=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};on.readBytes=P_;on.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};on.readString=function(t){return function(e){return Array.from(P_(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};on.readUnsigned=function(t){return function(e){var r=P_(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};on.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=P_(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};on.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=ws,r=on,n={blocks:function(u){for(var f=[],h=u.data.length,d=0,p=(0,r.readByte)()(u);p!==0&&p;p=(0,r.readByte)()(u)){if(u.pos+p>=h){var v=h-u.pos;f.push((0,r.readBytes)(v)(u)),d+=v;break}f.push((0,r.readBytes)(p)(u)),d+=p}for(var y=new Uint8Array(d),m=0,g=0;g<f.length;g++)y.set(f[g],m),m+=f[g].length;return y}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(nV);var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.deinterlace=void 0;Bm.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.lzw=void 0;Nm.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,d,p,v,y,m,g,x=4096,S=r,b=new Array(r),w=new Array(x),C=new Array(x),A=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)w[u]=0,C[u]=u;for(d=p=v=y=m=g=0,f=0;f<S;){if(y===0){if(p<o){d+=e[g]<<p,p+=8,g++;continue}if(u=d&a,d>>=o,p-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){A[y++]=C[u],l=u,v=u;continue}for(c=u,u==n&&(A[y++]=v,u=l);u>i;)A[y++]=C[u],u=w[u];v=255&C[u],A[y++]=v,n<x&&(w[n]=l,C[n]=v,!(++n&a)&&n<x&&(o++,a+=n)),l=c}y--,b[m++]=A[y],f++}for(f=m;f<S;f++)b[f]=0;return b},Object.defineProperty(Lu,"__esModule",{value:!0});var Yv,iV=Lu.decompressFrames=Lu.decompressFrame=aV=Lu.parseGIF=void 0,kFe=(Yv=nV)&&Yv.__esModule?Yv:{default:Yv},FFe=ws,DFe=on,MFe=Bm,LFe=Nm,aV=Lu.parseGIF=function(t){var e=new Uint8Array(t);return(0,FFe.parse)((0,DFe.buildStream)(e),kFe.default)},oV=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,LFe.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,MFe.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],d=s.colorTable[h]||[0,0,0];l[f]=d[0],l[f+1]=d[1],l[f+2]=d[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Lu.decompressFrame=oV;iV=Lu.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return oV(r,t.gct,e)})};var BFe=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,d){var p={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&d.indexOf(v)<0&&(p[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(v=Object.getOwnPropertySymbols(h);y<v.length;y++)d.indexOf(v[y])<0&&Object.prototype.propertyIsEnumerable.call(h,v[y])&&(p[v[y]]=h[v[y]])}return p}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,pt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}wA(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=aV(r);(function(D){for(var L,U=null,W=0,te=D.frames;W<te.length;W++){var J=te[W];U=(L=J.gce)!==null&&L!==void 0?L:U,"image"in J&&!("gce"in J)&&(J.gce=U)}})(i);var a=iV(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,d=0;d<a.length;d++){var p=a[d],v=p.disposalType,y=v===void 0?2:v,m=p.delay,g=m===void 0?h:m,x=p.patch,S=p.dims,b=S.width,w=S.height,C=S.left,A=S.top;l.width=b,l.height=w,u.clearRect(0,0,b,w);var P=u.createImageData(b,w);P.data.set(x),u.putImageData(P,0,0),c.drawImage(l,C,A);var O=c.getImageData(0,0,s.width,s.height);y!==2&&y!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+g,imageData:O}),f+=g}s.width=s.height=0,l.width=l.height=0;var I=i.lsd,R=I.width,k=I.height;return new e(o,CA({width:R,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Gr.shared.add(this.update,this,vo.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/Ve.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Gr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Gr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:On.LINEAR,fps:Gr.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(pa);window.PIXI=dRe;class NFe{constructor(){qe(this,"currentApp",null);qe(this,"effectsContainer");qe(this,"frameDuration",16.67);qe(this,"notUpdateBacklogEffects",!1);qe(this,"figureContainer");qe(this,"figureObjects",[]);qe(this,"backgroundContainer");qe(this,"backgroundObjects",[]);qe(this,"stageAnimations",[]);qe(this,"assetLoader",new Xu);qe(this,"loadQueue",[]);qe(this,"live2dFigureRecorder",[]);qe(this,"lockTransformTarget",[]);qe(this,"stageWidth",Rs().width||Iu.width);qe(this,"stageHeight",Rs().height||Iu.height);qe(this,"MAX_TEX_COUNT",10);const e=new JP({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),tR&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new Rn,this.effectsContainer.zIndex=3,this.figureContainer=new Rn,this.figureContainer.zIndex=2,this.backgroundContainer=new Rn,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:id(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:id(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};se.dispatch(qi.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new pa(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,y=u*d;a.setBaseY(this.stageHeight/2),y<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-y/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new pa(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,y=u*d;a.setBaseY(this.stageHeight/2),y<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-y/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}addBg(e,r,n,i){var h,d;const a=this.assetLoader,o=new QS;this.backgroundObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e);const l=(p,v,y,m)=>{fetch(p).then(g=>g.arrayBuffer()).then(BFe.fromBuffer).then(g=>{v&&(g.transform=v.transform),y&&(g.width=gt(y)),m&&(g.height=gt(m)),o.addChild(g)})};this.backgroundContainer.addChild(o);const u=id();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var v,y;const p=(y=(v=a.resources)==null?void 0:v[r])==null?void 0:y.texture;if(p&&this.getStageObjByUuid(u)){const m=p.width,g=p.height,x=this.stageWidth/m,S=this.stageHeight/g,b=Math.max(x,S),w=new pa(p);if(w.scale.x=b,w.scale.y=b,w.anchor.set(.5),r.includes(".gif")){l(r,w,n,i);return}w.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(w)}};this.cacheGC(),(d=(h=a.resources)==null?void 0:h[r])!=null&&d.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center"){var u,f;const i=this.assetLoader,a=new QS;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(a);const c=id();this.figureObjects.push({uuid:c,key:e,pixiContainer:a,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const l=()=>{var d,p;const h=(p=(d=i.resources)==null?void 0:d[r])==null?void 0:p.texture;if(h&&this.getStageObjByUuid(c)){const v=h.width,y=h.height,m=this.stageWidth/v,g=this.stageHeight/y,x=Math.min(m,g),S=new pa(h);S.scale.x=x,S.scale.y=x,S.anchor.set(.5),S.position.y=this.stageHeight/2;const b=v*x,w=y*x;a.setBaseY(this.stageHeight/2),w<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-w/2),n==="center"&&a.setBaseX(this.stageWidth/2),n==="left"&&a.setBaseX(b/2),n==="right"&&a.setBaseX(this.stageWidth-b/2),a.pivot.set(0,this.stageHeight/2),a.addChild(S)}};this.cacheGC(),(f=(u=i.resources)==null?void 0:u[r])!=null&&f.texture?l():this.loadAsset(r,l)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new QS;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=id();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var d,p;console.log(this.assetLoader.resources);const h=(d=this.assetLoader.resources)==null?void 0:d[i];if(h&&this.getStageObjByUuid(l)){const v=new RFe(h.spineData),y=((p=h==null?void 0:h.spineData)==null?void 0:p.y)??0;console.log(v);const m=v.width,g=v.height,x=this.stageWidth/m,S=this.stageHeight/g;v.y=-(S*y)/2,console.log(v.state),v.state.setAnimation(0,"07",!0);const b=Math.min(x,S),w=new pa;w.addChild(v),w.scale.x=b,w.scale.y=b,w.anchor.set(.5),w.position.y=this.stageHeight/2;const C=m*b,A=g*b;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(w)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const d=(l==null?void 0:l.internalModel)??void 0;(o=(a=d==null?void 0:d.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,d,p;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const y=a.pixiContainer.children;for(const m of y)m!=null&&m.internalModel&&((s=(o=m==null?void 0:m.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=m==null?void 0:m.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=m==null?void 0:m.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((p=(d=m==null?void 0:m.internalModel)==null?void 0:d.coreModel)==null||p.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){vj()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n){this.loadQueue.unshift({url:e,callback:r,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Ge.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){nE==null||nE(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const nE=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),UFe={version:"IdolTime 1.0.0"},jFe=navigator.userAgent,tR=!!jFe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),$Fe=()=>{Ge.info(UFe.version),Ge.info("Made with  by IdolTime"),tR&&alert(`iOS 
| iOS `),VFe("./game/userStyleSheet.css"),GFe(),uSe("./game/config.txt");const t=Mt("start.txt",Rt.scene);Sa(t).then(async e=>{const r=await Y.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=Y.sceneManager.sceneData.currentScene.subSceneList;Y.sceneManager.settledScenes.push(t);const i=qp(n);nh(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");se.dispatch(Kt.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),Y.gameplay.pixiStage=new NFe,hSe(),dSe()};function VFe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function GFe(){ep.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)ep.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};Y.animationManager.addAnimation(i)}})})}const WFe="_Menu_main_x2m75_1",zFe="_Menu_ShowSoftly_x2m75_1",HFe="_Menu_TagContent_x2m75_10",x3={Menu_main:WFe,Menu_ShowSoftly:zFe,Menu_TagContent:HFe},XFe="_Save_Load_main_r8j2k_2",YFe="_extra_video_main_r8j2k_12",qFe="_goback_r8j2k_16",KFe="_Elements_in_r8j2k_1",ZFe="_extraVideo_goback_r8j2k_36",QFe="_Save_Load_title_r8j2k_41",JFe="_Save_title_text_r8j2k_57",eDe="_Load_title_text_r8j2k_65",tDe="_Save_Load_top_buttonList_r8j2k_73",rDe="_extra_video_top_buttonList_r8j2k_78",nDe="_Save_Load_top_button_r8j2k_73",iDe="_Save_Load_top_button_on_r8j2k_107",aDe="_Load_top_button_on_r8j2k_120",oDe="_Load_top_button_r8j2k_120",sDe="_Save_Load_content_r8j2k_133",lDe="_Save_Load_content_element_r8j2k_142",uDe="_Elements_in_transform_r8j2k_1",cDe="_Save_Load_content_element_top_r8j2k_158",fDe="_Save_Load_content_element_top_index_r8j2k_165",hDe="_Load_content_elememt_top_index_r8j2k_174",dDe="_Save_Load_content_element_top_date_r8j2k_178",pDe="_Load_content_element_top_date_r8j2k_189",vDe="_Save_Load_content_text_r8j2k_193",gDe="_Save_Load_content_text_padding_r8j2k_207",mDe="_Save_Load_content_speaker_r8j2k_211",yDe="_Load_content_speaker_r8j2k_220",_De="_Load_content_text_r8j2k_224",xDe="_Save_Load_content_miniRen_r8j2k_228",bDe="_Save_Load_content_miniRen_bg_r8j2k_235",SDe="_Save_Load_content_miniRen_figure_r8j2k_242",EDe="_Save_Load_content_miniRen_figLeft_r8j2k_250",wDe="_Save_Load_content_miniRen_figRight_r8j2k_255",Ke={Save_Load_main:XFe,extra_video_main:YFe,goback:qFe,Elements_in:KFe,extraVideo_goback:ZFe,Save_Load_title:QFe,Save_title_text:JFe,Load_title_text:eDe,Save_Load_top_buttonList:tDe,extra_video_top_buttonList:rDe,Save_Load_top_button:nDe,Save_Load_top_button_on:iDe,Load_top_button_on:aDe,Load_top_button:oDe,Save_Load_content:sDe,Save_Load_content_element:lDe,Elements_in_transform:uDe,Save_Load_content_element_top:cDe,Save_Load_content_element_top_index:fDe,Load_content_elememt_top_index:hDe,Save_Load_content_element_top_date:dDe,Load_content_element_top_date:pDe,Save_Load_content_text:vDe,Save_Load_content_text_padding:gDe,Save_Load_content_speaker:mDe,Load_content_speaker:yDe,Load_content_text:_De,Save_Load_content_miniRen:xDe,Save_Load_content_miniRen_bg:bDe,Save_Load_content_miniRen_figure:SDe,Save_Load_content_miniRen_figLeft:EDe,Save_Load_content_miniRen_figRight:wDe},CDe="_GlobalDialog_main_101j8_2",ADe="_showGlobalDialog_101j8_1",TDe="_glabalDialog_container_inner_101j8_17",PDe="_glabalDialog_container_101j8_17",ODe="_title_101j8_36",RDe="_button_list_101j8_41",IDe="_button_101j8_41",ou={GlobalDialog_main:CDe,showGlobalDialog:ADe,glabalDialog_container_inner:TDe,glabalDialog_container:PDe,title:ODe,button_list:RDe,button:IDe};function kDe(){const t=it(e=>e.GUI.showGlobalDialog);return B.jsx(B.Fragment,{children:t&&B.jsx("div",{id:"globalDialogContainer"})})}function sV(t){const{playSeClick:e,playSeEnter:r}=IT();se.dispatch(mt({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),b3()},i=()=>{e(),t.rightFunc(),b3()},a=B.jsx("div",{className:ou.GlobalDialog_main,children:B.jsx("div",{className:ou.glabalDialog_container,children:B.jsxs("div",{className:ou.glabalDialog_container_inner,children:[B.jsx("div",{className:ou.title,children:t.title}),B.jsxs("div",{className:ou.button_list,children:[B.jsx("div",{className:`${ou.button} interactive`,onClick:n,onMouseEnter:r,children:t.leftText}),B.jsx("div",{className:`${ou.button} interactive`,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{ju.render(a,document.getElementById("globalDialogContainer"))},100)}function b3(){se.dispatch(mt({component:"showGlobalDialog",visibility:!1}))}function rR(t,e){if(t==null)return{};var r=Mme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var FDe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const DDe=xi(FDe);var MDe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function S3(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(DDe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(MDe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var LDe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,BDe=/^\s*$/,NDe=Object.create(null);function lV(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(lV,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var UDe={parse:function(t,e){e||(e={}),e.components||(e.components=NDe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(LDe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),d=l+c.length,p=t.charAt(d);if(h){var v=S3(c);return a<0?(n.push(v),n):((u=i[a]).children.push(v),n)}if(f&&(a++,(r=S3(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!p||p==="<"||r.children.push({type:"text",content:t.slice(d,t.indexOf("<",d))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&p!=="<"&&p)){u=a===-1?n:i[a].children;var y=t.indexOf("<",d),m=t.slice(d,y===-1?void 0:y);BDe.test(m)&&(m=" "),(y>-1&&a+u.length>=0||m!==" ")&&u.push({type:"text",content:m})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+lV("",r)},"")}};function Pg(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var E3={};function Um(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&E3[e[0]]||(typeof e[0]=="string"&&(E3[e[0]]=new Date),Pg.apply(void 0,e))}var uV=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function w3(t,e,r){t.loadNamespaces(e,uV(t,r))}function C3(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,uV(t,n))}function jDe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function $De(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Um("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):jDe(t,e,r)}var VDe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,GDe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},WDe=function(e){return GDe[e]},zDe=function(e){return e.replace(VDe,WDe)};function A3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zDe};function HDe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};AA=T3(T3({},AA),t)}function cV(){return AA}var fV;function XDe(t){fV=t}function nR(){return fV}var YDe=["format"],qDe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iE(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function aE(t){return t?t.props?t.props.children:t.children:[]}function KDe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return pe.isValidElement(e)})}function md(t){return Array.isArray(t)?t:[t]}function ZDe(t,e){var r=Sn({},e);return r.props=Object.assign(t.props,e.props),r}function hV(t,e){if(!t)return"";var r="",n=md(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(pe.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=hV(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)Pg("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Wn(a)==="object"){var f=a.format,h=rR(a,YDe),d=Object.keys(h);if(d.length===1){var p=f?"".concat(d[0],", ").concat(f):d[0];r+="{{".concat(p,"}}")}else Pg("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Pg("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function QDe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(y){var m=md(y);m.forEach(function(g){typeof g!="string"&&(iE(g)?l(aE(g)):Wn(g)==="object"&&!pe.isValidElement(g)&&Object.assign(c,g))})}l(t);var u=UDe.parse("<0>".concat(e,"</0>")),f=Sn(Sn({},c),i);function h(y,m,g){var x=aE(y),S=p(x,m.children,g);return KDe(x)&&S.length===0?x:S}function d(y,m,g,x,S){y.dummy&&(y.children=m),g.push(pe.cloneElement(y,Sn(Sn({},y.props),{},{key:x}),S?void 0:m))}function p(y,m,g){var x=md(y),S=md(m);return S.reduce(function(b,w,C){var A=w.children&&w.children[0]&&w.children[0].content&&r.services.interpolator.interpolate(w.children[0].content,f,r.language);if(w.type==="tag"){var P=x[parseInt(w.name,10)];!P&&g.length===1&&g[0][w.name]&&(P=g[0][w.name]),P||(P={});var O=Object.keys(w.attrs).length!==0?ZDe({props:w.attrs},P):P,I=pe.isValidElement(O),R=I&&iE(w,!0)&&!w.voidElement,k=s&&Wn(O)==="object"&&O.dummy&&!I,D=Wn(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,w.name);if(typeof O=="string"){var L=r.services.interpolator.interpolate(O,f,r.language);b.push(L)}else if(iE(O)||R){var U=h(O,w,g);d(O,U,b,C)}else if(k){var W=p(x,w.children,g);b.push(pe.cloneElement(O,Sn(Sn({},O.props),{},{key:C}),W))}else if(Number.isNaN(parseFloat(w.name)))if(D){var te=h(O,w,g);d(O,te,b,C,w.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(w.name)>-1)if(w.voidElement)b.push(pe.createElement(w.name,{key:"".concat(w.name,"-").concat(C)}));else{var J=p(x,w.children,g);b.push(pe.createElement(w.name,{key:"".concat(w.name,"-").concat(C)},J))}else if(w.voidElement)b.push("<".concat(w.name," />"));else{var z=p(x,w.children,g);b.push("<".concat(w.name,">").concat(z,"</").concat(w.name,">"))}else if(Wn(O)==="object"&&!I){var M=w.children[0]?A:null;M&&b.push(M)}else w.children.length===1&&A?b.push(pe.cloneElement(O,Sn(Sn({},O.props),{},{key:C}),A)):b.push(pe.cloneElement(O,Sn(Sn({},O.props),{},{key:C})))}else if(w.type==="text"){var V=n.transWrapTextNodes,$=a?n.unescape(r.services.interpolator.interpolate(w.content,f,r.language)):r.services.interpolator.interpolate(w.content,f,r.language);V?b.push(pe.createElement(V,{key:"".concat(w.name,"-").concat(C)},$)):b.push($)}return b},[])}var v=p([{dummy:!0,children:t||[]}],u,md(t||[]));return aE(v[0])}function JDe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=rR(t,qDe),y=h||nR();if(!y)return Um("You will need to pass in an i18next instance by using i18nextReactModule"),e;var m=d||y.t.bind(y)||function(R){return R};a&&(s.context=a);var g=Sn(Sn({},cV()),y.options&&y.options.react),x=f||m.ns||y.options&&y.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var S=l||hV(e,g)||g.transEmptyNodeValue||i,b=g.hashTransKey,w=i||(b?b(S):S),C=c?s.interpolation:{interpolation:Sn(Sn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=Sn(Sn(Sn(Sn({},s),{},{count:r},c),C),{},{defaultValue:S,ns:x}),P=w?m(w,A):S,O=QDe(u||e,P,y,g,A,p),I=n!==void 0?n:g.defaultTransParent;return I?pe.createElement(I,v,O):O}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l8(n.key),n)}}function bo(t,e,r){return e&&O3(t.prototype,e),r&&O3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var eMe={type:"3rdParty",init:function(e){HDe(e.options.react),XDe(e)}},dV=pe.createContext(),tMe=function(){function t(){xo(this,t),this.usedNamespaces={}}return bo(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),rMe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function R3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iMe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=rR(t,rMe),y=pe.useContext(dV)||{},m=y.i18n,g=y.defaultNS,x=h||m||nR(),S=d||x&&x.t.bind(x);return JDe(nMe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||S&&S.ns||g||x&&x.options&&x.options.defaultNS,i18n:x,t:d,shouldUnescape:p},v))}function pV(t){if(Array.isArray(t))return t}function aMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function I3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vV(t,e){if(t){if(typeof t=="string")return I3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I3(t,e)}}function gV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oMe(t,e){return pV(t)||aMe(t,e)||vV(t,e)||gV()}function k3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sMe=function(e,r){var n=pe.useRef();return pe.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function O_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=pe.useContext(dV)||{},i=n.i18n,a=n.defaultNS,o=r||i||nR();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new tMe),!o){Um("You will need to pass in an i18next instance by using initReactI18next");var s=function(P,O){return typeof O=="string"?O:O&&Wn(O)==="object"&&typeof O.defaultValue=="string"?O.defaultValue:Array.isArray(P)?P[P.length-1]:P},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&Um("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=oE(oE(oE({},cV()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var d=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(A){return $De(A,o,l)});function p(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=pe.useState(p),y=oMe(v,2),m=y[0],g=y[1],x=h.join();e.lng&&(x="".concat(e.lng).concat(x));var S=sMe(x),b=pe.useRef(!0);pe.useEffect(function(){var A=l.bindI18n,P=l.bindI18nStore;b.current=!0,!d&&!u&&(e.lng?C3(o,e.lng,h,function(){b.current&&g(p)}):w3(o,h,function(){b.current&&g(p)})),d&&S&&S!==x&&b.current&&g(p);function O(){b.current&&g(p)}return A&&o&&o.on(A,O),P&&o&&o.store.on(P,O),function(){b.current=!1,A&&o&&A.split(" ").forEach(function(I){return o.off(I,O)}),P&&o&&P.split(" ").forEach(function(I){return o.store.off(I,O)})}},[o,x]);var w=pe.useRef(!0);pe.useEffect(function(){b.current&&!w.current&&g(p),w.current=!1},[o,f]);var C=[m,o,d];if(C.t=m,C.i18n=o,C.ready=d,d||!d&&!u)return C;throw new Promise(function(A){e.lng?C3(o,e.lng,h,function(){return A()}):w3(o,h,function(){return A()})})}function Xo(t){const{t:e}=O_(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const lMe=()=>{const{playSePageChange:t,playSeEnter:e,playSeDialogOpen:r}=ii(),n=it(d=>d.userData),i=it(d=>d.saveData),a=Ur(),o=[];for(let d=1;d<=20;d++){let p=Ke.Save_Load_top_button;d===n.optionData.slPage&&(p=p+" "+Ke.Save_Load_top_button_on);const v=B.jsx("div",{onClick:()=>{a(om(d)),An(),t()},onMouseEnter:e,className:`${p} interactive`,children:B.jsx("div",{className:Ke.Save_Load_top_button_text,children:d})},"Save_element_page"+d);o.push(v)}const s=Xo("common."),c=[],l=(n.optionData.slPage-1)*10+1,u=l+9;pe.useEffect(()=>{e0(l,u)},[l,u]);let f=0;for(let d=l;d<=u;d++){f++;const p=i.saveData[d];let v=B.jsx("div",{});if(p){const m=p.nowStageState.showName===""?"":`${p.nowStageState.showName}`;v=B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[B.jsx("div",{className:Ke.Save_Load_content_element_top_index,children:p.index}),B.jsx("div",{className:Ke.Save_Load_content_element_top_date,children:p.saveTime})]}),B.jsx("div",{className:Ke.Save_Load_content_miniRen,children:B.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage})}),B.jsxs("div",{className:Ke.Save_Load_content_text,children:[B.jsx("div",{className:Ke.Save_Load_content_speaker,children:m}),B.jsx("div",{className:Ke.Save_Load_content_text_padding,children:p.nowStageState.showText})]})]})}const y=B.jsx("div",{onClick:()=>{i.saveData[d]?(r(),sV({title:h("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{hm(d),An()},rightFunc:()=>{}})):(t(),hm(d))},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`},children:v},"saveElement_"+d);c.push(y)}const h=Xo("menu.");return B.jsxs("div",{className:Ke.Save_Load_main,children:[B.jsxs("div",{className:Ke.Save_Load_top,children:[B.jsx("div",{className:Ke.Save_Load_title,children:B.jsx("div",{className:Ke.Save_title_text,children:h("saving.title")})}),B.jsx("div",{className:Ke.Save_Load_top_buttonList,children:o})]}),B.jsx("div",{className:Ke.Save_Load_content,id:"Save_content_page_"+n.optionData.slPage,children:c})]})},uMe=()=>{var y,m,g,x,S,b,w;const t=Ur(),{playSeClick:e,playSeEnter:r,playSePageChange:n}=ii(),i=it(C=>C.userData),a=it(C=>C.saveData),o=it(C=>C.GUI.gameUIConfigs[En.load]),s=[];for(let C=1;C<=20;C++){let A=Ke.Save_Load_top_button+" "+Ke.Load_top_button;C===i.optionData.slPage&&(A=A+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on);const P=B.jsx("div",{onClick:()=>{t(om(C)),An(),n()},onMouseEnter:r,className:`${A} interactive`,children:B.jsx("div",{className:Ke.Save_Load_top_button_text,style:v((y=o==null?void 0:o.other)==null?void 0:y.Load_indicator,{hasDisplay:!1,imgType:Rt.ui}),children:C})},"Load_element_page"+C);s.push(P)}const c=[],l=(i.optionData.slPage-1)*10+1,u=l+9;pe.useEffect(()=>{e0(l,u)},[l,u]);let f=0;for(let C=l;C<=u;C++){f++;const A=a.saveData[C];let P=B.jsx("div",{});if(A){const I=A.nowStageState.showName===""?"":`${A.nowStageState.showName}`;P=B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[B.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:A.index}),B.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,children:A.saveTime})]}),B.jsx("div",{className:Ke.Save_Load_content_miniRen,children:B.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:A.previewImage})}),B.jsxs("div",{className:Ke.Save_Load_content_text,children:[B.jsx("div",{className:Ke.Save_Load_content_speaker+" "+Ke.Load_content_speaker,children:I}),B.jsx("div",{className:Ke.Save_Load_content_text_padding,children:A.nowStageState.showText})]})]})}const O=B.jsx("div",{onClick:()=>{mU(C),e()},onMouseEnter:r,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`,...v((m=o==null?void 0:o.other)==null?void 0:m.Load_locked_item,{hasDisplay:!0,imgType:Rt.ui})},children:P},"loadElement_"+C);c.push(O)}const h=Xo("menu."),d=()=>{e(),t(mt({component:"showMenuPanel",visibility:!1}))};function p(C,A){return Mt(C,A)}function v(C,{hasDisplay:A=!1,id:P="",imgType:O}){const I={},R=C==null?void 0:C.args;if(!R||R!=null&&R.hide&&!A)return I;R!=null&&R.hide&&A&&(I.display="none");const k=R.style,D=/\.(png|jpeg|jpg|webp|icon|fig)$/;if(k!=null&&k.image)if(D.test(k.image)&&O)I.backgroundImage=`url(${p(k==null?void 0:k.image,O)})`,I.position=k.position,I.backgroundSize="100% 100%",I.backgroundRepeat="no-repeat";else{const L=document.getElementById(P);L&&(L.innerText=k==null?void 0:k.image)}return k!=null&&k.scale&&(I.transform=`scale(${k.scale})`),typeof(k==null?void 0:k.x)=="number"&&(I.top=`${gt(k.x)}px`),typeof(k==null?void 0:k.y)=="number"&&(I.top=`${gt(k.y)}px`),k!=null&&k.width&&(I.width=`${gt(k.width)}px`),k!=null&&k.height&&(I.height=`${gt(k.height)}px`),k!=null&&k.height&&(I.height=`${gt(k.height)}px`),k!=null&&k.fontColor&&(I.color=k.fontColor),k!=null&&k.fontSize&&(I.fontSize=k.fontSize),I}return B.jsxs("div",{className:Ke.Save_Load_main,style:v((g=o==null?void 0:o.other)==null?void 0:g.Load_bg,{hasDisplay:!1,imgType:Rt.background}),children:[B.jsxs("div",{className:Ke.Save_Load_top,children:[B.jsx("div",{className:`${Ke.goback} interactive`,style:v((x=o==null?void 0:o.buttons)==null?void 0:x.Load_back_button,{hasDisplay:!0,imgType:Rt.ui}),onClick:d,onMouseEnter:r}),B.jsx("div",{className:Ke.Save_Load_title,style:v((S=o==null?void 0:o.other)==null?void 0:S.Load_title,{hasDisplay:!0,id:(b=o==null?void 0:o.other)==null?void 0:b.Load_title.key}),children:B.jsx("div",{id:(w=o==null?void 0:o.other)==null?void 0:w.Load_title.key,className:Ke.Load_title_text,children:h("loadSaving.title")})}),B.jsx("div",{className:Ke.Save_Load_top_buttonList,children:s})]}),B.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+i.optionData.slPage,children:c})]})},cMe="_Options_main_1i312_2",fMe="_Options_bg_1i312_11",hMe="_Options_back_1i312_23",dMe="_Options_checkbox_1i312_39",pMe="_Options_main_slider_1i312_57",vMe="_Options_light_slider_1i312_67",gMe="_label_1i312_77",mMe="_Options_sound_slider_1i312_83",yMe="_Options_checkbox_window_1i312_94",_Me="_Options_checkbox_active_1i312_101",xMe="_Options_top_1i312_105",bMe="_Options_title_1i312_112",SMe="_Option_title_text_1i312_121",EMe="_Elements_in_1i312_1",wMe="_Option_title_text_shadow_1i312_130",CMe="_Option_title_text_ts_1i312_137",AMe="_Options_main_content_1i312_144",TMe="_Options_main_content_half_1i312_151",PMe="_About_title_text_1i312_161",OMe="_About_text_1i312_169",RMe="_Options_page_container_1i312_188",IMe="_Options_button_list_1i312_194",kMe="_Options_page_button_1i312_198",FMe="_Options_page_button_active_1i312_210",to={Options_main:cMe,Options_bg:fMe,Options_back:hMe,Options_checkbox:dMe,Options_main_slider:pMe,Options_light_slider:vMe,label:gMe,Options_sound_slider:mMe,Options_checkbox_window:yMe,Options_checkbox_active:_Me,Options_top:xMe,Options_title:bMe,Option_title_text:SMe,Elements_in:EMe,Option_title_text_shadow:wMe,Option_title_text_ts:CMe,Options_main_content:AMe,Options_main_content_half:TMe,About_title_text:PMe,About_text:OMe,Options_page_container:RMe,Options_button_list:IMe,Options_page_button:kMe,Options_page_button_active:FMe},DMe="_OptionVideoSize_main_obggw_1",MMe="_label_obggw_5",LMe="_Options_checkbox_obggw_9",BMe="_Options_checkbox_1080P_obggw_24",NMe="_Options_checkbox_720P_obggw_28",UMe="_Options_checkbox_active_obggw_32",jMe="_option_item_obggw_35",$Me="_option_item_checkbox_obggw_49",VMe="_option_item_checkbox_active_obggw_60",Xs={OptionVideoSize_main:DMe,label:MMe,Options_checkbox:LMe,Options_checkbox_1080P:BMe,Options_checkbox_720P:NMe,Options_checkbox_active:UMe,option_item:jMe,option_item_checkbox:$Me,option_item_checkbox_active:VMe},GMe=t=>{const e=Ur(),{playSeEnter:r,playSeClick:n}=ii(),i=it(p=>p.userData),[a,o]=pe.useState(fi.Size720P),[s,c]=pe.useState(!1),l=it(p=>p.GUI.gameUIConfigs[En.option]),u=[fi.Size1080P,fi.Size720P];function f(){let p=1440,v=2560;const y=(a==null?void 0:a.split("x"))||[];(y==null?void 0:y.length)===2&&(v=parseInt(y[0])*2,p=parseInt(y[1])*2,e(ht({key:"storyLineBgX",value:parseInt(y[0])})),e(ht({key:"storyLineBgY",value:parseInt(y[1])})));const m=window.innerHeight,g=window.innerWidth,x=m/p,S=g/v,b=g/p,w=m/v;let C=(p-m)/2,A=(v-g)/2,P=v/2-g/2,O=p/2-m/2,I="",R="";const k=document.getElementById("root"),D=document.getElementById("Title_enter_page"),L=document.getElementById("ebg"),U=[k,D];if(k&&(k.style.width=`${v}px`,k.style.height=`${p}px`),D&&(D.style.width=`${v}px`,D.style.height=`${p}px`),g>m){const W=document.getElementById("ebg");W&&(W.style.height="100vh",W.style.width="100vw",R=""),A=-A,C=-C,g*(9/16)>=m&&(I=`translate(${A}px, ${C}px) scale(${x},${x})`),g*(9/16)<m&&(I=`translate(${A}px, ${C}px) scale(${S},${S})`)}else if(L&&(L.style.height=`${p}px`,L.style.width=`${v}px`),O=-O,m*(9/16)>=g&&(R=`rotate(90deg) translate(${O}px, ${P}px) scale(${b*1.75},${b*1.75})`,I=`rotate(90deg) translate(${O}px, ${P}px) scale(${b},${b})`),m*(9/16)<g&&(R=`rotate(90deg) translate(${O}px, ${P}px) scale(${w*1.75},${w*1.75})`,I=`rotate(90deg) translate(${O}px, ${P}px) scale(${w},${w})`),window&&(window!=null&&window.isIOSDevice)){const W=g/v;I=`translate(${-A}px, ${-C}px) scale(${W},${W})`}L&&(L.style.transform=R);for(const W of U)W&&(W.style.transform=I);h(v,p)}pe.useEffect(()=>{s&&(f(),window.onload=f,window.onresize=f,setTimeout(()=>{c(!1)},500))},[s]);function h(p,v){const y=document.documentElement;y.style.setProperty("--screenWidth",`${p}px`),y.style.setProperty("--screenHeight",`${v}px`);const m=a===fi.Size1080P?3:2,g=a===fi.Size1080P?3.2:2,x=a===fi.Size1080P?.3333:.5;y.style.setProperty("--scale-factor",`${x}`),y.style.setProperty("--options_checkbox_top",`${239*m}px`),y.style.setProperty("--options_checkbox_left",`${441*m}px`),y.style.setProperty("--options_checkbox_window_top",`${218*g}px`),y.style.setProperty("--options_checkbox_window_left",`${661*m}px`),y.style.setProperty("--options_checkbox_1080P_top",`${266*g}px`),y.style.setProperty("--options_checkbox_1080P_left",`${441*m}px`),y.style.setProperty("--options_checkbox_720P_top",`${266*g}px`),y.style.setProperty("--options_checkbox_720P_left",`${640*m}px`),y.style.setProperty("--options_light_slider_top",`${375*m}px`),y.style.setProperty("--options_light_slider_left",`${622*m}px`),y.style.setProperty("--options_sound_slider_top",`${445*m}px`),y.style.setProperty("--options_sound_slider_left",`${622*m}px`),y.style.setProperty("--options_light_main_top",`${510*m}px`),y.style.setProperty("--options_light_main_left",`${622*m}px`)}function d(){const p=document.getElementById("Title_enter_page"),v=document.getElementById("root");p&&(p.style.width=`${a===fi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,p.style.height=`${a===fi.Size1080P?`${1080*2}px`:`${720*2}px`}`),v&&(v.style.width=`${a===fi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,v.style.height=`${a===fi.Size1080P?`${1080*2}px`:`${720*2}px`}`)}return B.jsxs("div",{className:Xs.OptionVideoSize_main,children:[t.label&&B.jsx("label",{className:Xs.label,children:t.label}),B.jsx(mi,{type:"checkbox",checked:i.optionData.videoSize===fi.Size1080P,item:l.other[da.Option_videoSize1080_checkbox],defaultClass:`${Xs.Options_checkbox} ${Xs.Options_checkbox_1080P} ${i.optionData.videoSize===fi.Size1080P?Xs.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[0]),Rs(u[0]),o(u[0]),d(),e(lo({key:"videoSize",value:u[0]})),An(),c(!0)}},da.Option_videoSize1080_checkbox),B.jsx(mi,{type:"checkbox",checked:i.optionData.videoSize===fi.Size720P,item:l.other[da.Option_videoSize720_checkbox],defaultClass:`${Xs.Options_checkbox} ${Xs.Options_checkbox_720P} ${i.optionData.videoSize===fi.Size720P?Xs.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[1]),Rs(u[1]),o(u[1]),d(),e(lo({key:"videoSize",value:u[1]})),An(),c(!0)}},da.Option_videoSize720_checkbox)]})},qv={min:50,max:100},WMe=()=>{const{playSeEnter:t,playSeSwitch:e,playSeClick:r}=ii(),n=it(o=>o.userData);Wu(0),pe.useEffect(dm,[]);const i=Ur(),a=it(o=>o.GUI.gameUIConfigs[En.option]);return Xo("menu.options."),B.jsxs("div",{className:to.Options_main,children:[B.jsx(ll,{item:a.other[da.Option_bg],defaultClass:to.Options_bg}),B.jsx(mi,{item:a.buttons[r_.Option_back_button],defaultClass:`${to.Options_back} interactive`,onMouseEnter:t,onClick:()=>{r(),i(mt({component:"showMenuPanel",visibility:!1}))}}),B.jsx(mi,{checked:n.optionData.fullScreen===Ua.on,item:a.other[da.Option_fullscreen_checkbox],defaultClass:`${to.Options_checkbox} ${n.optionData.fullScreen?"":to.Options_checkbox_active} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),i(lo({key:"fullScreen",value:Ua.on})),An()}}),B.jsx(mi,{checked:n.optionData.fullScreen===Ua.off,item:a.other[da.Option_window_checkbox],defaultClass:`${to.Options_checkbox} ${to.Options_checkbox_window} ${n.optionData.fullScreen?to.Options_checkbox_active:""} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),i(lo({key:"fullScreen",value:Ua.off})),An()}}),B.jsx(GMe,{}),B.jsx(fS,{item:a.other[da.Options_light_slider],defaultClass:`${to.Options_light_slider} interactive`,initValue:n.optionData.uiLight,uniqueID:"light",min:qv.min,max:qv.max,onChange:o=>{let s=Number(o.target.value);s<qv.min&&(s=qv.min),yU(s),i(lo({key:"uiLight",value:s})),An()}}),B.jsx(fS,{item:a.other[da.Option_effect_volume_slider],defaultClass:`${to.Options_sound_slider} interactive`,initValue:n.optionData.seVolume,uniqueID:"seVolume",onChange:o=>{const s=o.target.value;i(lo({key:"seVolume",value:Number(s)})),i(lo({key:"uiSeVolume",value:Number(s)})),An()}}),B.jsx(fS,{initValue:n.optionData.volumeMain,item:a.other[da.Option_global_volume_slider],defaultClass:`${to.Options_main_slider} interactive`,uniqueID:"volumeMain",onChange:o=>{const s=o.target.value;i(lo({key:"volumeMain",value:Number(s)})),An()}})]})},zMe=()=>{const t=it(r=>r.GUI);let e;switch(t.currentMenuTag){case ea.Save:e=B.jsx(lMe,{});break;case ea.Load:e=B.jsx(uMe,{});break;case ea.Option:e=B.jsx(WMe,{});break}return B.jsx(B.Fragment,{children:t.showMenuPanel&&B.jsx("div",{className:x3.Menu_main,children:B.jsx("div",{className:x3.Menu_TagContent,children:e})})})},HMe="_MainStage_main_9enex_1",XMe="_MainStage_main_container_9enex_10",YMe="_MainStage_bgContainer_9enex_17",qMe="_MainStage_showBgSoftly_9enex_1",KMe="_MainStage_bgContainer_Settled_9enex_27",ZMe="_MainStage_oldBgContainer_9enex_37",QMe="_MainStage_oldBgFadeout_9enex_1",JMe="_MainStage_oldBgContainer_Settled_9enex_47",eLe="_pixiContainer_9enex_72",tLe="_chooseContainer_9enex_77",sE={MainStage_main:HMe,MainStage_main_container:XMe,MainStage_bgContainer:YMe,MainStage_showBgSoftly:qMe,MainStage_bgContainer_Settled:KMe,MainStage_oldBgContainer:ZMe,MainStage_oldBgFadeout:QMe,MainStage_oldBgContainer_Settled:JMe,pixiContainer:eLe,chooseContainer:tLe};function rLe(){const t=it(r=>r.userData.optionData.textboxFont);function e(){return Jy(t).with(Ru.song,()=>'"", serif').with(Ru.lxgw,()=>'"LXGW", serif').with(Ru.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function F3(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const nLe="_TextBox_EventHandler_sfdz2_1",iLe="_TextBox_Container_sfdz2_9",aLe="_showSoftly_sfdz2_1",oLe="_TextBox_main_sfdz2_17",sLe="_TextBox_Background_sfdz2_38",lLe="_TextBox_textElement_start_sfdz2_51",uLe="_TextDelayShow_sfdz2_1",cLe="_outer_sfdz2_57",fLe="_inner_sfdz2_69",hLe="_zhanwei_sfdz2_78",dLe="_TextBox_textElement_Settled_sfdz2_83",pLe="_TextBox_showName_sfdz2_88",vLe="_TextBox_ShowName_Background_sfdz2_101",gLe="_miniAvatarContainer_sfdz2_116",mLe="_miniAvatarImg_sfdz2_126",yLe="_nameContainer_sfdz2_134",_Le="_outerName_sfdz2_140",xLe="_innerName_sfdz2_151",bLe="_text_sfdz2_158",Tr={TextBox_EventHandler:nLe,TextBox_Container:iLe,showSoftly:aLe,TextBox_main:oLe,TextBox_Background:sLe,TextBox_textElement_start:lLe,TextDelayShow:uLe,outer:cLe,inner:fLe,zhanwei:hLe,TextBox_textElement_Settled:dLe,TextBox_showName:pLe,TextBox_ShowName_Background:vLe,miniAvatarContainer:gLe,miniAvatarImg:mLe,nameContainer:yLe,outerName:_Le,innerName:xLe,text:bLe};function SLe(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:d,textboxOpacity:p}=t,v=QT("Stage/TextBox/textbox.scss");pe.useEffect(()=>{function g(){[...document.querySelectorAll(".Textelement_start")].forEach(b=>{b.className=v("TextBox_textElement_Settled",Tr.TextBox_textElement_Settled)})}return Y.events.textSettle.on(g),()=>{Y.events.textSettle.off(g)}},[]);let y=0;const m=e.map((g,x)=>{const S=g.map((b,w)=>{let C=y*r;y++;let A=n.length;return n!==""&&w>=A&&(C=C-A*r),w<A?B.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",Tr.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:B.jsxs("span",{className:Tr.zhanwei,children:[b,B.jsx("span",{className:v("outer",Tr.outer),children:b}),d&&B.jsx("span",{className:v("inner",Tr.inner),children:b})]})},i+w):B.jsx("span",{"data-text":b,id:`${C}`,className:`${v("TextBox_textElement_start",Tr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:B.jsxs("span",{className:Tr.zhanwei,children:[b,B.jsx("span",{className:v("outer",Tr.outer),children:b}),d&&B.jsx("span",{className:v("inner",Tr.inner),children:b})]})},i+w)});return B.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:S},`text-line-${x}`)});return B.jsx(B.Fragment,{children:a&&B.jsxs("div",{className:Tr.TextBox_Container,children:[B.jsx("div",{className:v("TextBox_main",Tr.TextBox_main)+" "+v("TextBox_Background",Tr.TextBox_Background),style:{opacity:`${p/100}`,left:l===""?25:void 0}}),B.jsxs("div",{id:"textBoxMain",className:v("TextBox_main",Tr.TextBox_main),style:{fontFamily:f,left:l===""?25:void 0},children:[B.jsx("div",{id:"miniAvatar",className:v("miniAvatarContainer",Tr.miniAvatarContainer),children:l!==""&&B.jsx("img",{className:v("miniAvatarImg",Tr.miniAvatarImg),alt:"miniAvatar",src:l})}),u!==""&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:v("TextBox_showName",Tr.TextBox_showName)+" "+v("TextBox_ShowName_Background",Tr.TextBox_ShowName_Background),style:{opacity:`${p/100}`,fontSize:"200%"},children:B.jsx("div",{style:{opacity:0},children:u.split("").map((g,x)=>B.jsx("span",{style:{position:"relative"},children:B.jsxs("span",{className:Tr.zhanwei,children:[g,B.jsx("span",{className:v("outerName",Tr.outerName),children:g}),d&&B.jsx("span",{className:v("innerName",Tr.innerName),children:g})]})},g+x))})}),B.jsx("div",{className:v("TextBox_showName",Tr.TextBox_showName),style:{fontSize:"200%"},children:u.split("").map((g,x)=>B.jsx("span",{style:{position:"relative"},children:B.jsxs("span",{className:Tr.zhanwei,children:[g,B.jsx("span",{className:v("outerName",Tr.outerName),children:g}),d&&B.jsx("span",{className:v("innerName",Tr.innerName),children:g})]})},g+x))},u)]}),B.jsx("div",{className:v("text",Tr.text),style:{fontSize:c,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em"},children:m})]})]})})}const mV=navigator.userAgent,ELe=/firefox/i.test(mV),wLe=/^((?!chrome|android).)*safari/i.test(mV),CLe=()=>{const[t,e]=pe.useState(!0);pe.useEffect(()=>{const g=()=>{const x=Rs().height||Iu.height,S=Rs().width||Iu.width,b=window.innerHeight,w=window.innerWidth,C=b/x,A=w/S,P=w/x,O=b/S;[C,A,P,O].forEach(I=>{I<=.2?e(!1):e(!0)})};return window.addEventListener("resize",g),g(),()=>{window.removeEventListener("resize",g)}},[]);const r=it(g=>g.stage),n=it(g=>g.userData),i=nU(n.optionData.textSpeed),a=p_e(n.optionData.textSpeed);let o=F3(n.optionData.textSize)+"%";const s=rLe(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=F3(r.showTextSize)+"%",l=r.showTextSize);const u=Jy(n.optionData.textSize).with(Sl.small,()=>3).with(Sl.medium,()=>2).with(Sl.large,()=>2).default(()=>2),f=yV(r.showText,u),h=r.showName,d=r.currentConcatDialogPrev,p=r.currentDialogKey,v=r.miniAvatar,y=n.optionData.textboxOpacity,m=SLe;return B.jsx(m,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:d,fontSize:o,currentDialogKey:p,isSafari:wLe,isFirefox:ELe,miniAvatar:v,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:y})};function D3(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function yV(t,e,r){return t.split("|").map(o=>TLe(o)).map(o=>{const s=[];return o.forEach((c,l)=>{Jy(c.type).with("SegmentType.String",()=>{const u=ALe(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=B.jsxs("ruby",{children:[u.text,B.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function ALe(t){if(!t)return[];const e=[];let r="",n=D3(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(D3(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function TLe(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}async function M3(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;try{const r=await(await fetch(t)).arrayBuffer();return await PLe(r)}catch(e){throw console.error("Error fetching or decoding Ogg file:",e),e}}function PLe(t){return new Promise((e,r)=>{let n=new Uint8Array(t),i=new Worker("./decoderWorker.js"),a=new Worker("./waveWorker.js"),o=8e3;i.postMessage({command:"init",decoderSampleRate:o,outputBufferSampleRate:o}),a.postMessage({command:"init",wavBitDepth:16,wavSampleRate:o}),i.onmessage=function(s){s.data===null?a.postMessage({command:"done"}):a.postMessage({command:"encode",buffers:s.data},s.data.map(function(c){return c.buffer}))},a.onmessage=function(s){if(s.data.message==="page"){let c=new Blob([s.data.page],{type:"audio/wav"}),l=URL.createObjectURL(c);e(l)}},i.postMessage({command:"decode",pages:n},[n.buffer])})}const OLe=()=>{var m;const t=it(g=>g.stage),e=it(g=>g.GUI.titleBgm),r=it(g=>g.GUI.showTitle),n=it(g=>g.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((m=n.optionData)==null?void 0:m.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=it(g=>g.GUI.isEnterGame),[h,d]=pe.useState(""),[p,v]=pe.useState(setTimeout(()=>{},0)),y=(g,x,S)=>{S>=0?g.volume=0:g.volume=x;const b=10,w=x/S*b,C=()=>{const A=setTimeout(()=>{g.volume+w>=x?g.volume=x:g.volume+w<=0?(g.volume=0,se.dispatch(ht({key:"bgm",value:{src:"",enter:0,volume:100}}))):(g.volume+=w,C())},b);v(A)};C()};return pe.useEffect(()=>{clearTimeout(p);const g=document.getElementById("currentBgm");g&&(s===0?g.volume=o:y(g,o,s))},[h,o,s]),pe.useEffect(()=>{(async()=>{const x=await M3(r?e:t.bgm.src);d(x)})()},[r,e,t.bgm.src]),pe.useEffect(()=>{Ge.debug(`${o}`)},[o]),pe.useEffect(()=>{Ge.debug(`: ${s}`)},[s]),pe.useEffect(()=>{Ge.debug(`${a}`);const g=document.getElementById("currentVocal");g&&(g.volume=a.toString())},[a]),pe.useEffect(()=>{if(c==="")return;(async()=>{const x=await M3(c),S=document.createElement("audio");se.dispatch(Kt.setSaveStatus({key:"uiSeAudioElement",value:S})),S.src=x,S.loop=!1,isNaN(u)?(Ge.error("UI SE Vol is NaN"),S.volume=isNaN(l)?i/100:l/100):S.volume=u,S.play(),S.addEventListener("ended",()=>{S.remove()}),se.dispatch(ht({key:"uiSe",value:""}))})()},[c]),pe.useEffect(()=>{Ge.debug(`: ${l}`)},[l]),pe.useEffect(()=>{Ge.debug(`: ${u}`)},[u]),B.jsxs("div",{children:[B.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),B.jsx("audio",{id:"currentVocal",src:t.playVocal})]})},RLe=()=>{const t=it(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),B.jsx("div",{className:qs.FullScreenPerform_main,style:{width:e,height:r,top:n},children:B.jsx("div",{id:"videoContainer"})})},ILe="_TextBox_EventHandler_449dq_2",kLe="_TextBox_main_449dq_10",FLe="_showSoftly_449dq_1",DLe="_TextBox_textElement_449dq_38",MLe="_TextBox_textElement_start_449dq_43",LLe="_TextDelayShow_449dq_1",BLe="_TextBox_textElement_Settled_449dq_48",NLe="_TextBox_showName_449dq_52",ULe="_miniAvatarContainer_449dq_68",jLe="_miniAvatarImg_449dq_76",lE={TextBox_EventHandler:ILe,TextBox_main:kLe,showSoftly:FLe,TextBox_textElement:DLe,TextBox_textElement_start:MLe,TextDelayShow:LLe,TextBox_textElement_Settled:BLe,TextBox_showName:NLe,miniAvatarContainer:ULe,miniAvatarImg:jLe},$Le=()=>{const t=it(o=>o.stage),e=it(o=>o.userData);pe.useEffect(()=>{});const r=Zoe.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?B.jsx("span",{id:`${c}`,className:lE.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):B.jsx("span",{id:`${c}`,className:lE.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return B.jsx("div",{id:"textBoxMain",className:lE.TextBox_main,children:B.jsx("div",{style:{fontSize:n},children:a})})};function VLe(t){const e=t.bgName;pe.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=Y.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&L3(c),(i=Y.gameplay.pixiStage)==null||i.addBg(r,e,o,s),t0(e),Ge.debug(""),setTimeout(()=>{const{duration:l,animation:u}=rl("bg-main","enter",!0);Y.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=Y.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&L3(o)}},[e])}function L3(t){var i,a;(i=Y.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=Y.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=rl("bg-main-off","exit",!0);Y.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=Y.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=Y.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}function GLe(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;pe.useEffect(()=>{var s;for(const c of a)(s=Y.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),pe.useEffect(()=>{var s;for(const c of o)(s=Y.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),pe.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&vs(f,c,t.effects),ad(void 0,s,r,"center"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=rl(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ge.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&vs(f,c,t.effects)}},[r]),pe.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&vs(f,c,t.effects),ad(void 0,s,e,"left"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=rl(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ge.debug("");const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&vs(f,c,t.effects)}},[e]),pe.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&vs(f,c,t.effects),ad(void 0,s,n,"right"),Ge.debug(""),setTimeout(()=>{const{duration:h,animation:d}=rl(s,"enter");Y.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{const f=(u=Y.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&vs(f,c,t.effects)}},[n]),pe.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,d=`${f.key}-softin`;if(f.name!==""){const p=(c=Y.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);p?p.sourceUrl!==f.name&&(vs(p,d,t.effects),ad(void 0,h,f.name,f.basePosition),Ge.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:y}=rl(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(y,d,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0)):(ad(void 0,h,f.name,f.basePosition),Ge.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:y}=rl(h,"enter");Y.gameplay.pixiStage.registerPresetAnimation(y,d,h,t.effects),setTimeout(()=>Y.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0))}else{const p=(l=Y.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);p&&p.sourceUrl!==f.name&&vs(p,d,t.effects)}}const s=(u=Y.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(p=>p.key===h)<0){const p=`${f.key}-softin`;vs(f,p,t.effects)}}}},[i])}function vs(t,e,r){var c,l,u;if((c=Y.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),Y.gameplay.isFast){Ge.info(""),(l=Y.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=Y.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=rl(i,"exit");Y.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=Y.gameplay.pixiStage)==null||f.removeAnimation(a),(h=Y.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function ad(t,...e){var n,i;const r=e[1];return r.endsWith(".json")?WLe(...e):r.endsWith(".skel")?(n=Y.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e):(i=Y.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function WLe(...t){}function zLe(t){const e=t.effects;setTimeout(()=>{HLe(e)},10)}function HLe(t){var r,n,i,a;const e=((r=Y.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=Y.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=Y.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,B3(c.transform))}}else{const u=(a=Y.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,B3(yT))}}}}function B3(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function XLe(){const t=it(e=>e.stage);return VLe(t),GLe(t),zLe(t),B.jsx("div",{style:{display:"none"}})}const YLe="_introContainer_119k8_1",qLe={introContainer:YLe};function KLe(){return B.jsx("div",{className:qLe.introContainer,id:"introContainer"})}const ZLe="_variableNameWrapper_eflox_1",QLe={variableNameWrapper:ZLe},JLe=()=>{var r,n;const t=it(i=>i.stage),e=pe.useMemo(()=>{const i=new Map,a=t.showValues;return a!=null&&a.length&&a.forEach(o=>{i.set(o.key,o.value)}),i},[t]);return B.jsx(B.Fragment,{children:((r=t.showValueList)==null?void 0:r.length)&&((n=t.showValueList)==null?void 0:n.map(i=>i.isShowValueSWitch?B.jsx("div",{className:QLe.variableNameWrapper,style:{position:"fixed",left:i.showValueAxisX+"px",top:i.showValueAxisY+"px"},children:e.get(i.showValueName)||""}):null))||null})};function N3(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function eBe(t,e,r){!e.controlsVisibility&&N3(t)&&r(mt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!N3(t)&&r(mt({component:"controlsVisibility",visibility:!1}))}function tBe(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let uE=null;function rBe(t,e,r,n){tBe(e,r)?(uE&&clearTimeout(uE),n(mt({component:"controlsVisibility",visibility:!0})),uE=setTimeout(()=>{n(mt({component:"controlsVisibility",visibility:!1}))},1e3)):eBe(t,r,n)}const nBe=()=>{const t=it(n=>n.stage),e=it(n=>n.GUI),r=Ur();return Mbe(),B.jsxs("div",{className:sE.MainStage_main,children:[B.jsx(RLe,{}),B.jsx(XLe,{}),B.jsx("div",{id:"pixiContianer",className:sE.pixiContainer,style:{zIndex:tR?"-5":void 0}}),B.jsx("div",{id:"chooseContainer",className:sE.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&B.jsx(CLe,{}),e.showTextBox&&t.enableFilm!==""&&B.jsx($Le,{}),B.jsx(OLe,{}),B.jsx("div",{onClick:()=>{if(!e.showTextBox){r(mt({component:"showTextBox",visibility:!0}));return}eP(),un()},onDoubleClick:()=>{Y.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&rBe(n,t,e,r)}),B.jsx(KLe,{}),t.isShowValueSWitch&&B.jsx(JLe,{})]})},iBe=""+new URL("gaming-continue.png",import.meta.url).href,aBe=""+new URL("gaming-stop.png",import.meta.url).href,oBe=()=>{const t=Xo("gaming."),{i18n:e}=O_(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=ii();pe.useState(!1);const[a,o]=pe.useState(!1),[s,c]=pe.useState(!1);let l=null;const f=e.language==="fr";let h="150%";f&&(h="125%");const d=it(P=>P.GUI),p=it(P=>P.stage),v=Ur(),y=it(P=>P.saveData.saveData);if(t("noSaving"),y[0]){const P=y[0];di.slPreviewMain,di.imgContainer,P.previewImage,di.textContainer,P.nowStageState.showName,P.nowStageState.showText}const m=async()=>{for(let P=1;P<=20;P++){const O=(P-1)*10+1,I=O+9;await e0(O,I);const R=se.getState().saveData.saveData;for(let k=1;k<R.length;k++){const D=(P-1)*10+k;if(!R[k])return D}}return(20-1)*10+9},g=async P=>{if(P.stopPropagation(),n(),d.showFavorited)return;v(sp(!0));const O=await m();hm(O),An()},x=P=>{c(!0);const O=()=>{c(!1),clearTimeout(l),clearInterval(l),document.removeEventListener("mouseup",O)};document.addEventListener("mouseup",O),l=setTimeout(()=>{l=setInterval(()=>{P==="fallBack"?S():P==="forward"&&b()},200)},500)},S=()=>{s||n();const P=Y.videoManager.currentPlayingVideo;Y.videoManager.backward(P)},b=()=>{s||n();const P=Y.videoManager.currentPlayingVideo;Y.videoManager.forward(P)},w=()=>{n();const P=Y.videoManager.currentPlayingVideo;a?(o(!1),Y.videoManager.playVideo(P)):(o(!0),Y.videoManager.pauseVideo(P))},C=()=>{var I,R,k;let P=!0;if((k=(R=(I=Y.gameplay)==null?void 0:I.performController)==null?void 0:R.performList)==null||k.forEach(D=>{D.performName==="choose"&&(P=!1)}),!P)return;n();const O=Y.videoManager.currentPlayingVideo;Y.videoManager.destroy(O),Y.gameplay.isFast=!0,Y.gameplay.isSyncingWithOrigine=!0,un(),setTimeout(()=>{Y.gameplay.isFast=!1,Y.gameplay.isSyncingWithOrigine=!1},1e3)},A=()=>{var O;const P=(O=d.gameUIConfigs[En.title])==null?void 0:O.buttons[Fa.Game_extra_button];return!(!P||P.args.hide)};return B.jsx(B.Fragment,{children:d.showTextBox&&p.enableFilm===""&&B.jsxs("div",{className:di.main,style:{visibility:d.controlsVisibility?"visible":"hidden"},children:[B.jsx("span",{className:`${di.fallBack} interactive`,onMouseEnter:r,onClick:()=>{S()},onMouseDown:()=>x("fallBack")}),B.jsx("span",{className:`${di.pause} interactive`,onMouseEnter:r,onClick:w,children:B.jsx("img",{src:a?aBe:iBe,className:di.icon})}),B.jsx("span",{className:`${di.advance} interactive`,onMouseEnter:r,onClick:b,onMouseDown:()=>x("forward")}),!se.getState().saveData.isLoadVideo&&B.jsx("span",{className:`${di.autoplay} interactive`,onMouseEnter:r,onClick:C}),A()&&B.jsxs("span",{className:`${di.singleButton} interactive`,style:{fontSize:h},onClick:g,onMouseEnter:r,children:[B.jsx("span",{className:di.button_icon}),B.jsx("span",{className:di.button_text,children:t(`${d.showFavorited?"buttons.collected":"buttons.collection"}`)})]})]})})};var sBe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function U3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(r),!0).forEach(function(n){lBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uBe(t,e){if(t==null)return{};var r=cBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var fBe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function hBe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function dBe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var _V=pe.createContext(fBe);_V.Provider;function R_(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=uBe(n,sBe),d=pe.useContext(_V),p=pe.useMemo(hBe,[]),v=dBe(p,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},d),y=[d.prefix+"-icon"];return y.push(d.prefix+"-icon-"+t),e&&d.rtl&&y.push(d.prefix+"-icon-rtl"),f&&y.push(d.prefix+"-icon-spin"),u&&y.push(u),Gn.createElement("span",j3(j3({},h),{},{className:y.join(" ")}),r(v))}}const pBe=R_("close-small",!1,function(t){return Gn.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gn.createElement("path",{d:"M14 14L34 34",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M14 34L34 14",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),vBe=R_("hamburger-button",!1,function(t){return Gn.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gn.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),gBe=R_("return",!0,function(t){return Gn.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gn.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),mBe=R_("volume-notice",!0,function(t){return Gn.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gn.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gn.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),yBe=()=>{var h,d;const t=Xo("gaming."),{playSeEnter:e,playSeClick:r}=ii(),n=it(p=>p.GUI),i=Ur(),a="0.8em",[o,s]=pe.useState(!1),[c,l]=pe.useState(!1);let u=pe.useRef();const f=pe.useMemo(()=>{let p=[];for(let v=0;v<Y.backlogManager.getBacklog().length;v++){const y=Y.backlogManager.getBacklog()[v],m=yV(y.currentStageState.showText,3,!0),x=_Be(m).map((b,w)=>B.jsx("div",{children:b.map((C,A)=>C==="<br />"?B.jsx("br",{},`br${A}`):C)},`backlog-line-${w}`)),S=B.jsxs("div",{className:Qn.backlog_item,style:{animationDelay:`${20*(Y.backlogManager.getBacklog().length-v)}ms`},children:[B.jsxs("div",{className:Qn.backlog_func_area,children:[B.jsxs("div",{className:Qn.backlog_item_button_list,children:[B.jsx("div",{onClick:b=>{r(),vxe(v),b.preventDefault(),b.stopPropagation()},onMouseEnter:e,className:`${Qn.backlog_item_button_element} interactive`,children:B.jsx(gBe,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}),y.currentStageState.vocal?B.jsx("div",{onClick:()=>{r();const b=document.getElementById("backlog_audio_play_element_"+v);if(b){b.currentTime=0;const w=se.getState().userData,C=w.optionData.volumeMain;b.volume=C*.01*w.optionData.vocalVolume*.01,b==null||b.play()}},onMouseEnter:e,className:`${Qn.backlog_item_button_element} interactive`,children:B.jsx(mBe,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}):null]}),B.jsx("div",{className:Qn.backlog_item_content_name,children:y.currentStageState.showName})]}),B.jsx("div",{className:Qn.backlog_item_content,children:B.jsx("span",{className:Qn.backlog_item_content_text,children:x})}),B.jsx("audio",{id:"backlog_audio_play_element_"+v,src:y.currentStageState.vocal})]},"backlogItem"+y.currentStageState.showText+y.saveScene.currentSentenceId);p.unshift(S)}return p},[((d=(h=Y.backlogManager.getBacklog()[Y.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:d.currentSentenceId)??0]);return pe.useEffect(()=>{n.showBacklog?(u.current&&clearTimeout(u.current),s(!1),l(!0),setTimeout(()=>{l(!1)},0)):u.current=setTimeout(()=>{s(!0),u.current=void 0},700+80)},[n.showBacklog]),B.jsx(B.Fragment,{children:B.jsxs("div",{className:`
          ${n.showBacklog?Qn.Backlog_main:Qn.Backlog_main_out}
          ${o?Qn.Backlog_main_out_IndexHide:""}
          `,children:[B.jsxs("div",{className:Qn.backlog_top,children:[B.jsx(pBe,{className:`${Qn.backlog_top_icon} interactive`,onClick:()=>{r(),i(mt({component:"showBacklog",visibility:!1})),i(mt({component:"showTextBox",visibility:!0}))},onMouseEnter:e,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),B.jsx("div",{className:Qn.backlog_title,onClick:()=>{Ge.info("Rua! Testing")},children:t("buttons.backlog")})]}),n.showBacklog&&B.jsx("div",{className:`${Qn.backlog_content} ${c?Qn.Backlog_main_DisableScroll:""}`,children:f})]})})};function _Be(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const xBe="_extra_1jomy_2",bBe="_extra_top_1jomy_13",SBe="_extra_top_icon_1jomy_18",EBe="_extra_icon_softin_1jomy_1",wBe="_extra_title_1jomy_38",CBe="_mainContainer_1jomy_49",ABe="_bgmContainer_1jomy_57",TBe="_bgmListContainer_1jomy_74",PBe="_bgmPlayerMain_1jomy_89",OBe="_bgmControlButton_1jomy_93",RBe="_bgmName_1jomy_108",IBe="_bgmElement_1jomy_116",kBe="_bgmElement_active_1jomy_146",FBe="_cgMain_1jomy_151",DBe="_cgContainer_1jomy_156",MBe="_cgElement_1jomy_168",LBe="_cgShowDiv_1jomy_183",BBe="_cgShowDivWarpper_1jomy_192",NBe="_cgNav_1jomy_201",UBe="_cgNav_active_1jomy_220",jBe="_showFullContainer_1jomy_230",$Be="_showFullCgMain_1jomy_243",VBe="_fullCgIn_1jomy_1",GBe="_editDialogMark_1jomy_264",WBe="_editDialog_1jomy_264",zBe="_editDialog_content_1jomy_286",HBe="_editDialog_footer_1jomy_302",XBe="_button_1jomy_309",YBe="_bgmElement_In_1jomy_1",Js={extra:xBe,extra_top:bBe,extra_top_icon:SBe,extra_icon_softin:EBe,extra_title:wBe,mainContainer:CBe,bgmContainer:ABe,bgmListContainer:TBe,bgmPlayerMain:PBe,bgmControlButton:OBe,bgmName:RBe,bgmElement:IBe,bgmElement_active:kBe,cgMain:FBe,cgContainer:DBe,cgElement:MBe,cgShowDiv:LBe,cgShowDivWarpper:BBe,cgNav:NBe,cgNav_active:UBe,showFullContainer:jBe,showFullCgMain:$Be,fullCgIn:VBe,editDialogMark:GBe,editDialog:WBe,editDialog_content:zBe,editDialog_footer:HBe,button:XBe,bgmElement_In:YBe},qBe=t=>{const[e,r]=pe.useState("");pe.useEffect(()=>{t.value&&r(t.value)},[]);const n=()=>{t.onConfirm(e)},i=()=>{t.onCancel()};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Js.editDialogMark}),B.jsxs("div",{className:Js.editDialog,children:[B.jsxs("div",{className:Js.editDialog_content,children:[B.jsx("label",{children:""}),B.jsx("input",{value:e,onChange:a=>{r(a.target.value)}})]}),B.jsxs("div",{className:Js.editDialog_footer,children:[B.jsx("span",{className:Js.button,onClick:n,children:""}),B.jsx("span",{className:Js.button,onClick:i,children:""})]})]})]})};let Kv="",$3=0;const KBe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=ii(),n=it(g=>g.userData),i=it(g=>g.saveData),a=Ur(),[o,s]=pe.useState(!1),c=it(g=>g.GUI.gameUIConfigs[En.extra]);for(let g=1;g<=20;g++){let x=Ke.Save_Load_top_button+" "+Ke.Load_top_button;g===n.optionData.slPage&&(x=x+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on),Ke.Save_Load_top_button_text,""+g}const l=[],u=(n.optionData.slPage-1)*10+1,f=u+9;pe.useEffect(()=>{e0(u,f)},[u,f]);const h=(g,x,S)=>{g.stopPropagation(),Kv=x.saveName||x.saveTime,$3=S,setTimeout(()=>{s(!0)},100)},d=()=>{s(!1),Kv=""},p=g=>{Kv="",hm($3,g),An(),s(!1)};let v=0;for(let g=u;g<=f;g++){v++;const x=i.saveData[g];let S=B.jsx("div",{});x&&(S=B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Ke.Save_Load_content_element_top,children:B.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:x.index})}),B.jsx("div",{className:Ke.Save_Load_content_miniRen,children:B.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:x.previewImage})}),B.jsx("div",{children:B.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,style:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:w=>h(w,x,g),title:`${x.saveName||x.saveTime}`,children:x.saveName||x.saveTime})})]}));const b=B.jsx("div",{onClick:()=>{a(sp(!0)),mU(g,!0),t()},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${v*30}ms`},children:S},"loadElement_"+g);l.push(b)}const y=Xo("menu."),m=()=>{t(),a(mt({component:"showExtra",visibility:!1})),a(Kt.setLoadVideo(!1))};return B.jsxs(B.Fragment,{children:[B.jsx(mi,{item:c.buttons.Extra_back_button,defaultClass:`${Ke.goback} ${Ke.extraVideo_goback} interactive`,onClick:m,onMouseEnter:e}),B.jsx(mi,{item:c.other[ap.Extra_title],defaultClass:Ke.Save_Load_title,defaultTextClass:Ke.Load_title_text,defaultText:y("extra.title")}),B.jsx(Jbe,{item:c.other[ap.Extra_indicator],activeIndex:n.optionData.slPage,defaultClass:`${Ke.Save_Load_top_buttonList} ${Ke.extra_video_top_buttonList} interactive`,pageLength:20,indicatorDefaultClass:`${Ke.Save_Load_top_button} ${Ke.Load_top_button} interactive`,activeIndecatorClass:`${Ke.Save_Load_top_button_on} ${Ke.Load_top_button_on}`,onClickIndicator:g=>{a(om(g)),An(),r()}}),B.jsx("div",{className:`${Ke.Save_Load_main} ${Ke.extra_video_main}`,children:B.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:l})}),o&&B.jsx(qBe,{value:Kv,onCancel:d,onConfirm:p})]})};function ZBe(){ii();const t=it(r=>r.GUI.showExtra),e=Ur();return Xo("extra."),pe.useEffect(()=>{t&&e(Kt.setLoadVideo(!0))},[t]),B.jsx(B.Fragment,{children:t&&B.jsx("div",{className:Js.extra,children:B.jsx("div",{className:Js.mainContainer,children:B.jsx(KBe,{})})})})}const QBe="_tag_yghix_2",JBe="_container_yghix_17",e3e="_showContainer_yghix_1",t3e="_singleButton_yghix_33",r3e="_button_text_yghix_37",Nn={tag:QBe,container:JBe,showContainer:e3e,singleButton:t3e,button_text:r3e},I_=()=>{const t=se.dispatch;HT(),JT(),df(),t(ht({key:"playVocal",value:""})),t(mt({component:"showTitle",visibility:!0})),t(Kt.setIsShowUnlock(!1)),t(Kt.setShowStoryline(!1)),t0(se.getState().GUI.titleBg)},n3e=()=>{const t=Wu(!1),e=it(a=>a.stage),r=Ur(),n=(a,o)=>{r(mt({component:a,visibility:o}))},i=a=>{r(vm(a))};return B.jsx(B.Fragment,{children:e.enableFilm!==""&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Nn.tag,onClick:()=>{t.set(!t.value)},children:B.jsx(vBe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&B.jsxs("div",{className:Nn.container,children:[B.jsx("span",{className:Nn.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:B.jsx("span",{className:Nn.button_text,children:" / BACKLOG"})}),B.jsx("span",{className:Nn.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:B.jsx("span",{className:Nn.button_text,children:" / REPLAY VOICE"})}),B.jsx("span",{id:"Button_ControlPanel_auto",className:Nn.singleButton,onClick:()=>{M1e(),t.set(!t.value)},children:B.jsx("span",{className:Nn.button_text,children:" / AUTO"})}),B.jsx("span",{id:"Button_ControlPanel_fast",className:Nn.singleButton,onClick:()=>{N1e(),t.set(!t.value)},children:B.jsx("span",{className:Nn.button_text,children:" / FAST"})}),B.jsx("span",{className:Nn.singleButton,onClick:()=>{t.set(!t.value),i(ea.Save),n("showMenuPanel",!0)},children:B.jsx("span",{className:Nn.button_text,children:" / SAVE"})}),B.jsx("span",{className:Nn.singleButton,onClick:()=>{t.set(!t.value),i(ea.Load),n("showMenuPanel",!0)},children:B.jsx("span",{className:Nn.button_text,children:" / LOAD"})}),B.jsx("span",{className:Nn.singleButton,onClick:()=>{t.set(!t.value),i(ea.Option),n("showMenuPanel",!0)},children:B.jsx("span",{className:Nn.button_text,children:" / OPTIONS"})}),B.jsx("span",{className:Nn.singleButton,onClick:()=>{t.set(!t.value),I_()},children:B.jsx("span",{className:Nn.button_text,children:" / TITLE"})})]})]})})},i3e="_devPanelMain_11x6i_1",a3e="_devPanelOpener_11x6i_13",V3={devPanelMain:i3e,devPanelOpener:a3e};function o3e(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function s3e(){function t(){return!!window.location.hash.match(/dev/)}const e=Wu(!1),r=Wu(window.location.hash),n=it(c=>c.stage);pe.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=O_(),s=B.jsxs(B.Fragment,{children:[B.jsx("div",{onClick:()=>o3e(),children:"Save PIXI Screenshot"}),B.jsxs("div",{children:["Current Language:",o.language]}),B.jsx("div",{onClick:()=>{var c;return(c=Y.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),B.jsx("div",{children:"Stage State"}),B.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return B.jsxs(B.Fragment,{children:[i&&e.value&&B.jsxs("div",{className:V3.devPanelMain,children:[B.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[B.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),B.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),B.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&B.jsx("div",{onClick:()=>e.set(!0),className:V3.devPanelOpener,children:"Open Dev Panel"})]})}function l3e(t){return Jf[t]}function u3e(){const{i18n:t}=O_(),e=ah(n=>n.userData),r=Ur();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Jf.zhCn,o=l3e(a);t.changeLanguage(o),r(lo({key:"language",value:a})),Ge.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&An()}}const c3e="_trans_8uz61_2",f3e="_langWrapper_8uz61_10",h3e="_lang_8uz61_10",d3e="_langSelect_8uz61_29",p3e="_langSelectButton_8uz61_35",od={trans:c3e,langWrapper:f3e,lang:h3e,langSelect:d3e,langSelectButton:p3e};function v3e(){const t=u3e(),[e,r]=pe.useState(!1);pe.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return B.jsx(B.Fragment,{children:e&&B.jsx("div",{className:od.trans,children:B.jsxs("div",{className:od.langWrapper,children:[B.jsx("div",{className:od.lang,children:"LANGUAGE SELECT"}),B.jsx("div",{className:od.langSelect,children:Object.keys(jD).map(i=>B.jsx("div",{className:od.langSelectButton,onClick:()=>n(Jf[i]),children:jD[i]},i))})]})})})}const g3e=()=>{const t=it(n=>n.GUI),[e,r]=pe.useState(!1);return pe.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function m3e(){const t=it(i=>i.userData),e=it(i=>i.GUI);Ur();const r=t.optionData.fullScreen,n=e.isEnterGame;pe.useEffect(()=>{switch(r){case Ua.on:{n&&(document.documentElement.requestFullscreen(),Kc&&Kc.lock(["Escape","F11"]));break}case Ua.off:{document.fullscreenElement&&(document.exitFullscreen(),Kc&&Kc.unlock());break}}},[r])}const y3e="_storyLine_lb50l_2",_3e="_bg_animation_lb50l_1",x3e="_goBack_lb50l_13",b3e="_storyLine_content_lb50l_31",S3e="_storyLine_item_lb50l_40",E3e="_info_card_lb50l_49",w3e="_playButton_icon_lb50l_68",C3e="_name_lb50l_85",su={storyLine:y3e,bg_animation:_3e,goBack:x3e,storyLine_content:b3e,storyLine_item:S3e,info_card:E3e,playButton_icon:w3e,name:C3e},A3e=()=>{const{playSeClick:t,playSeEnter:e}=ii(),r=Ur(),n=it(u=>u.GUI),i=it(u=>u.stage),a=it(u=>u.saveData.allStorylineData),o=it(u=>u.GUI.gameUIConfigs[En.storyline]);pe.useEffect(()=>{FT(),n.showStoryLine&&r(Kt.setShowStoryline(!1))},[n.showStoryLine]);const s=()=>{t(),I_(),r(Cw(!1))},c=(u,f)=>{u.stopPropagation(),r(Cw(!1)),r(Kt.setIsShowUnlock(!0)),YT(f.videoData)};function l(u){return Mt(u,Rt.ui)}return B.jsx(B.Fragment,{children:n.showStoryLine&&B.jsxs("div",{className:su.storyLine,id:"camera",children:[B.jsx(mi,{item:o.buttons.Storyline_back_button,defaultClass:`${su.goBack} interactive`,onClick:s,onMouseEnter:e}),B.jsx("div",{className:su.storyLine_content,style:{width:gt(i.storyLineBgX),height:i.storyLineBgY>720?gt(i.storyLineBgY):"100%",backgroundImage:`url("${i.storyLineBg}")`,backgroundSize:i.storyLineBgX&&i.storyLineBgY&&`${gt(i.storyLineBgX)}px ${gt(i.storyLineBgY)}px`},children:(a==null?void 0:a.map((u,f)=>{const{name:h,thumbnailUrl:d,x:p,y:v,isUnlock:y,isHideName:m}=u.storyLine;return y?B.jsx("div",{className:`${su.storyLine_item} interactive`,style:d?{top:`${gt(v)}px`,left:`${gt(p)}px`,backgroundImage:`url("${l(d)}")`}:{},onClick:g=>c(g,u),children:B.jsxs("div",{className:su.info_card,children:[B.jsx("span",{className:su.playButton_icon,style:{width:m?"100%":"50%"}}),m?null:B.jsx("span",{className:su.name,children:h})]})},`storyLine-${f}`):null}))??null})]})})},T3e="_achievement_1x8mc_1",P3e="_bg_animation_1x8mc_1",O3e="_goback_1x8mc_14",R3e="_achievement_content_1x8mc_32",I3e="_achievement_current_1x8mc_39",k3e="_text_1x8mc_52",F3e="_number_1x8mc_57",D3e="_pregessBar_1x8mc_62",M3e="_pregressBar_inner_1x8mc_71",L3e="_achievement_content_bg_1x8mc_80",B3e="_achievement_list_1x8mc_89",N3e="_achievement_item_1x8mc_93",U3e="_unlockname_1x8mc_106",j3e="_ripple_1x8mc_124",$3e="_info_card_1x8mc_127",V3e="_condition_1x8mc_159",G3e="_condition_bg_active_1x8mc_168",W3e="_time_1x8mc_171",z3e="_description_1x8mc_172",H3e="_info_card_position_right_1x8mc_177",X3e="_achievement_item_bg_active_1x8mc_181",fn={achievement:T3e,bg_animation:P3e,goback:O3e,achievement_content:R3e,achievement_current:I3e,text:k3e,number:F3e,pregessBar:D3e,pregressBar_inner:M3e,achievement_content_bg:L3e,achievement_list:B3e,achievement_item:N3e,unlockname:U3e,ripple:j3e,"ripple-effect":"_ripple-effect_1x8mc_1",info_card:$3e,condition:V3e,condition_bg_active:G3e,time:W3e,description:z3e,info_card_position_right:H3e,achievement_item_bg_active:X3e},Y3e={achieveBg:"",achieveBgX:1280,achieveBgY:720},q3e=()=>{var P,O;const{playSeClick:t,playSeEnter:e}=ii(),r=it(I=>I.GUI);it(I=>I.stage);const n=it(I=>I.saveData),i=Ur(),[a,o]=pe.useState(null),[s,c]=pe.useState(null),[l,u]=pe.useState(null),[f,h]=pe.useState(null),[d,p]=pe.useState(Y3e),[v,y]=pe.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),m=it(I=>I.GUI.gameUIConfigs[En.achievement]);pe.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),se.dispatch(Kt.setIsShowUnlock(!1)),g())},[r.showAchievement]);async function g(){var L,U,W,te;const I=Mt(Gu.Achieve,Rt.scene),R=await Sa(I),D=ip(R,Gu.Achieve,I).sentenceList;if((D==null?void 0:D.length)>0&&((L=D[0])==null?void 0:L.commandRaw)==="changeBg"){const J=((U=D[0])==null?void 0:U.content)??"";let z=1280,M=720;const V=window.localStorage.getItem("game-screen-size"),$=(V==null?void 0:V.split("x"))??[];($==null?void 0:$.length)>0&&$[0]==="1920"&&(z=Number($[0]),M=Number($[1])),(te=(W=D[0])==null?void 0:W.args)==null||te.forEach(j=>{(j==null?void 0:j.key)==="x"?z=Number(j==null?void 0:j.value):(j==null?void 0:j.key)==="y"&&(M=Number(j==null?void 0:j.value))}),p({achieveBg:J,achieveBgX:z,achieveBgY:M})}setTimeout(()=>{x()},100)}async function x(){var L;const I=se.getState().saveData.allUnlockAchieveList,R=((L=se.getState().saveData.unlockAchieveData)==null?void 0:L.length)??0,k=I.length||0,D=(R/k*100).toFixed(2)+"%";y({unlocked:R,allTotal:k,currentProgress:D})}const S=I=>Mt(I,Rt.ui),b=(I,R)=>I+500>=R,w=(I,R)=>I>=R?R-100:I,C=()=>{t(),I_(),i(mt({component:"showAchievement",visibility:!1}))},A=()=>{var J,z,M,V,$,j,Q,ie,de,ue,be,Pe,ye,we,_e,xe,je,Xe,Fe,at,vt,yt,tt,ot,dt,qt,nr,Zt,Gt,St,sr,ge,Ce,Re,Ye,$e,rt;const I=(J=a==null?void 0:a.args)!=null&&J.hide?"":(a==null?void 0:a.content)??"",R=s!=null&&s.content?Mt(s==null?void 0:s.content,Rt.background):"",k=(M=(z=l==null?void 0:l.args)==null?void 0:z.style)!=null&&M.image?Mt(l.args.style.image,Rt.ui):"",D=($=(V=l==null?void 0:l.args)==null?void 0:V.hoverStyle)!=null&&$.image?Mt(l==null?void 0:l.args.hoverStyle.image,Rt.ui):"",L=!((j=s==null?void 0:s.args)!=null&&j.hide)&&R?{...(Q=s==null?void 0:s.args)==null?void 0:Q.style,backgroundImage:`url(${R})`,transform:((ie=s==null?void 0:s.args.style)==null?void 0:ie.scale)&&`scale(${(de=s==null?void 0:s.args.style)==null?void 0:de.scale})`,width:((ue=s==null?void 0:s.args.style)==null?void 0:ue.width)&&`${gt((be=s==null?void 0:s.args.style)==null?void 0:be.width)}px`,height:((Pe=s==null?void 0:s.args.style)==null?void 0:Pe.height)&&`${gt((ye=s==null?void 0:s.args.style)==null?void 0:ye.height)}px`}:{},U=(we=a==null?void 0:a.args)!=null&&we.hide?{}:{...(_e=a==null?void 0:a.args)==null?void 0:_e.style,color:(je=(xe=a==null?void 0:a.args)==null?void 0:xe.style)==null?void 0:je.fontColor,transform:(Xe=a==null?void 0:a.args.style)!=null&&Xe.scale?`scale(${a.args.style.scale})`:""},W=(Fe=l==null?void 0:l.args)!=null&&Fe.hide?{}:{backgroundImage:`url(${k})`,transform:(vt=(at=l==null?void 0:l.args)==null?void 0:at.style)!=null&&vt.scale?`scale(${l.args.style.scale})`:void 0,width:(tt=(yt=l==null?void 0:l.args)==null?void 0:yt.style)!=null&&tt.width?`${gt(l.args.style.width)}px`:void 0,height:(dt=(ot=l==null?void 0:l.args)==null?void 0:ot.style)!=null&&dt.height?`${gt(l.args.style.height)}px`:void 0,top:(nr=(qt=l==null?void 0:l.args)==null?void 0:qt.style)!=null&&nr.y?`${gt(l.args.style.y)}px`:void 0,left:(Gt=(Zt=l==null?void 0:l.args)==null?void 0:Zt.style)!=null&&Gt.x?`${gt(l.args.style.x)}px`:void 0},te=(St=l==null?void 0:l.args)!=null&&St.hide?{}:{backgroundImage:`url(${D})`,transform:(ge=(sr=l==null?void 0:l.args)==null?void 0:sr.hoverStyle)!=null&&ge.scale?`scale(${(Ce=l.args.hoverStyle)==null?void 0:Ce.scale})`:void 0,width:(Ye=(Re=l==null?void 0:l.args)==null?void 0:Re.hoverStyle)!=null&&Ye.width?`${gt(l.args.hoverStyle.width)}px`:void 0,height:(rt=($e=l==null?void 0:l.args)==null?void 0:$e.hoverStyle)!=null&&rt.height?`${gt(l.args.hoverStyle.height)}px`:void 0};return B.jsx("div",{className:fn.achievement_content,children:B.jsxs("div",{className:fn.achievement_current,style:L||{},children:[B.jsx("span",{className:fn.text,style:U||{},children:I}),B.jsx("span",{className:fn.number,style:U||{},children:`${v.unlocked}/${v.allTotal}`}),B.jsx("span",{className:fn.pregessBar,style:W||{},children:B.jsx("span",{className:fn.pregressBar_inner,style:{...te,width:v.currentProgress}})})]})})};return B.jsx(B.Fragment,{children:r.showAchievement&&B.jsxs("div",{className:fn.achievement,id:"camera",children:[B.jsx(mi,{item:m.buttons.Achievement_back_button,defaultClass:`${fn.goback} interactive`,onClick:C,onMouseEnter:e}),A(),B.jsx("div",{className:fn.achievement_content_bg,style:{width:d!=null&&d.achieveBgX?gt(d.achieveBgX):"100%",height:(d==null?void 0:d.achieveBgY)>720?gt(d.achieveBgY):"100%",backgroundImage:`url("${d==null?void 0:d.achieveBg}")`,backgroundSize:(d==null?void 0:d.achieveBgX)&&(d==null?void 0:d.achieveBgY)&&`${gt(d.achieveBgX)}px ${gt(d.achieveBgY)}px`},children:((P=n.allUnlockAchieveList)==null?void 0:P.length)>0&&B.jsx("div",{className:fn.achievement_list,children:((O=n.allUnlockAchieveList)==null?void 0:O.map(({unlockname:I,x:R,y:k,url:D,isShowUnlock:L,saveTime:U,condition:W},te)=>{var z,M,V,$,j,Q,ie,de,ue,be;const J=f!=null&&f.args.hide?{}:{width:(M=(z=f==null?void 0:f.args)==null?void 0:z.style)!=null&&M.width?`${gt(f.args.style.width)}px`:void 0,height:($=(V=f==null?void 0:f.args)==null?void 0:V.style)!=null&&$.height?`${gt(f.args.style.height)}px`:void 0};return B.jsxs("div",{className:`${fn.achievement_item} ${L?fn.achievement_item_bg_active:""}`,style:{top:`${gt(k)}px`,left:`${w(gt(R),gt((d==null?void 0:d.achieveBgX)??""))}px`,backgroundImage:`url("${S(L?D:!(f!=null&&f.args.hide)&&((Q=(j=f==null?void 0:f.args)==null?void 0:j.style)!=null&&Q.image)?(de=(ie=f==null?void 0:f.args)==null?void 0:ie.style)==null?void 0:de.image:"")}")`,transform:` scale(${(be=(ue=f==null?void 0:f.args)==null?void 0:ue.style)==null?void 0:be.scale})`,...J},children:[L&&B.jsx("div",{className:fn.ripple}),L&&B.jsx("span",{className:fn.unlockname,children:I}),B.jsxs("div",{className:`${fn.info_card} ${b(gt(R),gt((d==null?void 0:d.achieveBgX)??0))?fn.info_card_position_right:""}`,children:[W&&B.jsx("span",{className:`${fn.condition} ${L?fn.condition_bg_active:""}`,children:W}),U&&B.jsx("span",{className:fn.time,children:`${U}`}),B.jsxs("span",{className:fn.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${te}`)}))??null})})]})})};var nl=(t=>(t.Video="video",t.Image="image",t.Placeholder="placeholder",t))(nl||{});const K3e="_beautyGuideImageDialog_14r48_1",Z3e="_mark_14r48_10",Q3e="_content_14r48_21",J3e="_content_bg_14r48_35",e4e="_imgWrapper_14r48_46",t4e="_fade_14r48_1",r4e="_btnsWrapper_14r48_59",n4e="_btn_14r48_59",i4e="_btn_prev_disabled_14r48_79",a4e="_btn_next_disabled_14r48_80",o4e="_btn_txt_14r48_83",s4e="_hideButtonBgc_14r48_90",Oi={beautyGuideImageDialog:K3e,mark:Z3e,content:Q3e,content_bg:J3e,imgWrapper:e4e,fade:t4e,btnsWrapper:r4e,btn:n4e,btn_prev_disabled:i4e,btn_next_disabled:a4e,btn_txt:o4e,hideButtonBgc:s4e},TA=({url:t,videoPlayerRef:e,...r})=>{const n=pe.useRef(null);return pe.useEffect(()=>{if(ww.isSupported()&&n.current){const i=t.endsWith(".flv")?"flv":"mp4";fetch(t).then(a=>a.status>200?null:a.arrayBuffer()).then(async a=>{if(!a)return;const o="ENCRYPTED",s=o.length,c=new Uint8Array(a.slice(0,s));let l=!1;for(let h=0;h<s;h++){if(String.fromCharCode(c[h])!==o[h]){l=!1;break}l=!0}let u;if(l){const h=a.slice(s);u=await fU(h,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",i)}else u=new Blob([new Uint8Array(a)],{type:`video/${i==="mp4"?"mp4":"x-flv"}`});const f=ww.createPlayer({type:t.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(u)});e&&(e.current=f),f.attachMediaElement(n.current),f.load()})}return()=>{}},[t]),B.jsx("video",{ref:n,...r,style:{width:"100%",height:"auto"}})},l4e=t=>{var p,v,y,m,g,x;const e=Ur(),{playSeClick:r,playSeEnter:n}=ii(),[i,a]=pe.useState((t==null?void 0:t.imgUrl)??""),[o,s]=pe.useState(0),[c,l]=pe.useState({}),u=it(S=>S.GUI.gameUIConfigs[En.collection]);pe.useEffect(()=>{var S,b,w;if(((S=t.contentList)==null?void 0:S.length)>0){const C=t.contentList.findIndex(A=>A.url===t.imgUrl);C>-1&&s(C)}if(t.show){const C=Cn((w=(b=u==null?void 0:u.other[Dr.Collection_detail_dialog_bg])==null?void 0:b.args)==null?void 0:w.style);l(C)}},[t.contentList,t.show]);const f=()=>{r(),e(mt({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const S=o-1;S<0||(s(S),a(t.contentList[S].url))},d=()=>{r();const S=o+1;S>t.contentList.length-1||(s(S),a(t.contentList[S].url))};return B.jsxs("div",{className:Oi.beautyGuideImageDialog,children:[B.jsx("div",{className:`${Oi.mark} interactive`,onClick:f}),B.jsxs("div",{className:Oi.content,style:Cn((v=(p=u==null?void 0:u.other[Dr.Collection_detail_dialog_bg])==null?void 0:p.args)==null?void 0:v.style),children:[B.jsx(ll,{item:u.other[Dr.Collection_detail_dialog_bg],defaultClass:Oi.content_bg}),B.jsx("div",{className:Oi.imgWrapper,children:(y=t.contentList)==null?void 0:y.map((S,b)=>S.type===nl.Image&&b===o?B.jsx("img",{src:S.url,className:Oi.transitionImage},`img-${b}`):S.type===nl.Video&&b===o?B.jsx(TA,{url:S.url,className:Oi.transitionImage,muted:!0,autoPlay:!0,loop:!0},`img-${b}`):null)}),B.jsxs("div",{className:Oi.btnsWrapper,children:[B.jsx(mi,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`
              ${Oi.btn} 
              ${o<1?Oi.btn_prev_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?Oi.hideButtonBgc:""} interactive`,onClick:h,onMouseEnter:n}),B.jsxs("span",{className:Oi.btn_txt,style:Cn((g=(m=u==null?void 0:u.other[Dr==null?void 0:Dr.Collection_detail_dialog_text])==null?void 0:m.args)==null?void 0:g.style)??{},children:[o+1,"/",((x=t.contentList)==null?void 0:x.length)??0,""]}),B.jsx(mi,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`
              ${Oi.btn} 
              ${o+1>=t.contentList.length?Oi.btn_next_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?Oi.hideButtonBgc:""} interactive`,onClick:d,onMouseEnter:n})]})]})]})},u4e="_beautyGuideDetail_main_1ortz_1",c4e="_beautyGuide_detail_bg_1ortz_14",f4e="_goback_1ortz_25",h4e="_beautyGuideDetail_left_1ortz_43",d4e="_left_box_1ortz_51",p4e="_beautyGuide_detail_left_bg_1ortz_57",v4e="_pictureUrl_1ortz_69",g4e="_personal_info_1ortz_80",m4e="_name_1ortz_84",y4e="_info_1ortz_91",_4e="_beautyGuideDetail_right_1ortz_109",x4e="_contentWrapper_1ortz_117",b4e="_content_1ortz_117",S4e="_content_bg_1ortz_128",E4e="_content_img_1ortz_145",w4e="_thumbnailWrapper_1ortz_156",C4e="_thumbnail_box_1ortz_167",A4e="_video_mark_1ortz_191",T4e="_desc_text_1ortz_202",P4e="_desc_bg_1ortz_214",O4e="_hideBgc_1ortz_229",xr={beautyGuideDetail_main:u4e,beautyGuide_detail_bg:c4e,goback:f4e,beautyGuideDetail_left:h4e,left_box:d4e,beautyGuide_detail_left_bg:p4e,pictureUrl:v4e,personal_info:g4e,name:m4e,info:y4e,beautyGuideDetail_right:_4e,contentWrapper:x4e,content:b4e,content_bg:S4e,content_img:E4e,thumbnailWrapper:w4e,thumbnail_box:C4e,video_mark:A4e,desc_text:T4e,desc_bg:P4e,hideBgc:O4e},R4e=t=>{var x,S,b,w,C,A,P,O,I,R,k,D,L,U,W,te,J,z,M,V,$,j;const e=Ur(),{playSeClick:r,playSeEnter:n}=ii(),i=it(Q=>Q.GUI),[a,o]=pe.useState(null),[s,c]=pe.useState(""),l=Gn.useRef(null),[u,f]=pe.useState("column"),[h,d]=pe.useState("center"),[p,v]=pe.useState([]),y=it(Q=>Q.GUI.gameUIConfigs[En.collection]);pe.useEffect(()=>{var ie,de,ue,be,Pe,ye,we,_e;const Q=t.info;if(Q!=null&&Q.contentList&&((ie=Q==null?void 0:Q.contentList)==null?void 0:ie.length)>0)v(Q.contentList),o(Q.contentList[0]);else{const xe=((ue=(de=y.other[Dr.Collection_detail_right_thumbnail_bg])==null?void 0:de.args)==null?void 0:ue.style)??{},je=[],Xe=xe!=null&&xe.image?Mt(xe.image,Rt.background):"";for(let Fe=0;Fe<5;Fe++)je.push({key:"placeholder",type:"placeholder",url:Xe});v(je)}if(t.detailRightDescBgStyle&&(Pe=(be=t.detailRightDescBgStyle)==null?void 0:be.args)!=null&&Pe.style){const xe=(we=(ye=t.detailRightDescBgStyle)==null?void 0:ye.args)==null?void 0:we.style;(_e=xe==null?void 0:xe.alignPosition)!=null&&_e.includes("top")&&(f("column-reverse"),d("flex-start"))}},[t]);const m=()=>{r(),e(mt({component:"showBeautyGuideDetail",visibility:!1}))},g=Q=>{r(),c(Q),l.current&&l.current.pause(),e(mt({component:"showBeautyGuideImageDialog",visibility:!0}))};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:xr.beautyGuideDetail_main,children:[B.jsx(ll,{item:y.other[Dr.Collection_detail_bg],defaultClass:xr.beautyGuide_detail_bg}),B.jsx(mi,{item:y.buttons.Collection_back_button,defaultClass:`${xr.goback} interactive`,onClick:m,onMouseEnter:n}),B.jsx("div",{className:xr.beautyGuideDetail_left,children:B.jsxs("div",{className:xr.left_box,style:Cn((S=(x=y.other[Dr.Collection_detail_left_bg])==null?void 0:x.args)==null?void 0:S.style),children:[B.jsx(ll,{item:y.other[Dr.Collection_detail_left_bg],defaultClass:xr.beautyGuide_detail_left_bg}),B.jsx("div",{className:xr.pictureUrl,children:B.jsx("img",{src:(b=t.info)==null?void 0:b.image,alt:""})}),B.jsxs("div",{className:xr.personal_info,children:[B.jsx("h3",{className:xr.name,children:((w=t.info)==null?void 0:w.name)??""}),B.jsxs("div",{className:xr.info,children:[B.jsx("span",{children:""}),B.jsx("span",{children:((C=t.info)==null?void 0:C.height)??"-"})]}),B.jsxs("div",{className:xr.info,children:[B.jsx("span",{children:""}),B.jsx("span",{children:((A=t.info)==null?void 0:A.weight)??"-"})]}),B.jsxs("div",{className:xr.info,children:[B.jsx("span",{children:""}),B.jsx("span",{children:((P=t.info)==null?void 0:P.bustSize)??"-"})]}),B.jsxs("div",{className:xr.info,children:[B.jsx("span",{children:""}),B.jsx("span",{children:((O=t.info)==null?void 0:O.waistSize)??"-"})]}),B.jsxs("div",{className:xr.info,children:[B.jsx("span",{children:""}),B.jsx("span",{children:((I=t.info)==null?void 0:I.hipSize)??"-"})]})]})]})}),B.jsxs("div",{className:xr.beautyGuideDetail_right,style:{flexDirection:u,justifyContent:u==="column-reverse"?"flex-start":"center"},children:[B.jsxs("div",{className:xr.contentWrapper,style:{display:(k=(R=y.other[Dr.Collection_detail_right_content_bg])==null?void 0:R.args)!=null&&k.hide?"none":"block"},children:[B.jsxs("div",{className:`${xr.content} 
                ${(L=(D=y.other[Dr.Collection_detail_right_content_bg])==null?void 0:D.args)!=null&&L.style.image?xr.hideBgc:""}`,style:Cn((W=(U=y.other[Dr.Collection_detail_right_content_bg])==null?void 0:U.args)==null?void 0:W.style),children:[B.jsx(ll,{item:y.other[Dr.Collection_detail_right_content_bg],defaultClass:xr.content_bg}),a&&B.jsxs(B.Fragment,{children:[a.type==="video"&&B.jsx(TA,{videoPlayerRef:l,url:a.url,controls:!0,autoPlay:!i.showBeautyGuideImageDialog,loop:!0,muted:!0},a.url),a.type==="image"&&B.jsx("img",{className:`${xr.content_img} interactive`,src:a.url,onClick:()=>{g(a.url)}})]})]}),B.jsx("div",{className:xr.thumbnailWrapper,children:B.jsx("div",{children:(p==null?void 0:p.map((Q,ie)=>{var de,ue;return B.jsxs("div",{className:xr.thumbnail_box,style:Cn((ue=(de=y.other[Dr.Collection_detail_right_thumbnail_bg])==null?void 0:de.args)==null?void 0:ue.style),onClick:()=>{Q.type!==nl.Placeholder&&o(Q)},children:[Q.type===nl.Placeholder&&B.jsx("img",{src:Q.url,alt:""}),Q.type===nl.Image&&B.jsx("img",{src:Q.url,alt:""}),Q.type===nl.Video&&B.jsx(TA,{url:Q.url,controls:!1,loop:!0,muted:!0}),Q.type===nl.Video&&B.jsx("div",{className:xr.video_mark,children:B.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:B.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${ie}`)}))??null})})]}),B.jsxs("div",{className:`${xr.desc_text} 
              ${(J=(te=y.other[Dr.Collection_detail_right_desc_bg])==null?void 0:te.args)!=null&&J.style.image?xr.hideBgc:""}`,style:{...Cn((M=(z=y.other[Dr.Collection_detail_right_desc_bg])==null?void 0:z.args)==null?void 0:M.style),display:($=(V=y.other[Dr.Collection_detail_right_desc_bg])==null?void 0:V.args)!=null&&$.hide?"none":"block"},children:[B.jsx(ll,{item:y.other[Dr.Collection_detail_right_desc_bg],defaultClass:xr.desc_bg}),B.jsx("span",{children:((j=t.info)==null?void 0:j.description)??""})]})]})]}),i.showBeautyGuideImageDialog&&B.jsx(l4e,{imgUrl:s,contentList:p||[],show:i.showBeautyGuideImageDialog})]})},I4e="_beautyGuide_main_jpgiy_1",k4e="_bg_animation_jpgiy_1",F4e="_beautyGuide_bg_jpgiy_16",D4e="_beautyGuide_header_jpgiy_27",M4e="_goback_jpgiy_33",L4e="_title_jpgiy_51",B4e="_beautyGuide_content_jpgiy_57",N4e="_item_jpgiy_63",lu={beautyGuide_main:I4e,bg_animation:k4e,beautyGuide_bg:F4e,beautyGuide_header:D4e,goback:M4e,title:L4e,beautyGuide_content:B4e,item:N4e},U4e=()=>{const t=Ur(),e=it(m=>m.GUI),{playSeClick:r,playSeEnter:n}=ii(),[i,a]=pe.useState(null),o=it(m=>m.GUI.gameUIConfigs[En.collection]),[s,c]=pe.useState([]),[l,u]=pe.useState({}),[f,h]=pe.useState(null),[d,p]=pe.useState({});pe.useEffect(()=>{if(e.showBeautyGuide){const m=[],g=(o==null?void 0:o.other)??{},x={};let S=1;Object.entries(g).forEach(([b,w])=>{var C,A,P,O,I,R,k,D;if(b!=null&&b.includes("Collection_img")){const L=(C=w==null?void 0:w.args)==null?void 0:C.info;let U=((A=w==null?void 0:w.args)==null?void 0:A.style)??{};const W=(P=w==null?void 0:w.args)==null?void 0:P.images,te=(O=w==null?void 0:w.args)==null?void 0:O.videos;U=Cn(U);const J=sye(W),z=lye(te),M=(L==null?void 0:L.image)&&Mt(L==null?void 0:L.image,Rt.ui)||"",V=((R=(I=w==null?void 0:w.args)==null?void 0:I.style)==null?void 0:R.image)&&Mt((D=(k=w==null?void 0:w.args)==null?void 0:k.style)==null?void 0:D.image,Rt.ui)||"";m.push({avatar:V,name:L==null?void 0:L.name,image:M,height:L==null?void 0:L.height,weight:L==null?void 0:L.weight,bustSize:L==null?void 0:L.bustSize,waistSize:L==null?void 0:L.waistSize,hipSize:L==null?void 0:L.hipSize,description:(L==null?void 0:L.description)??"",contentList:z.concat(J)}),x[`Collection_img${S}`]=U,S++}}),u(x),p(x),c(m)}},[e.showBeautyGuide]);const v=()=>{r(),a(null),t(mt({component:"showBeautyGuide",visibility:!1}))},y=(m,g)=>{r(),a(m),h(l[`Collection_img${g+1}`]),t(mt({component:"showBeautyGuideDetail",visibility:!0}))};return B.jsxs(B.Fragment,{children:[e.showBeautyGuide&&B.jsxs("div",{className:lu.beautyGuide_main,children:[B.jsx(ll,{item:o.other[Dr.Collection_bg],defaultClass:lu.beautyGuide_bg}),B.jsxs("div",{className:lu.beautyGuide_header,children:[B.jsx(mi,{item:o.buttons.Collection_back_button,defaultClass:`${lu.goback} interactive`,onClick:v,onMouseEnter:n}),B.jsx(mi,{item:o.other.Collection_title,defaultClass:lu.title})]}),B.jsx("div",{className:lu.beautyGuide_content,children:s.map((m,g)=>m!=null&&m.avatar?B.jsx("div",{className:`${lu.item} interactive`,onClick:()=>y(m,g),onMouseEnter:n,children:B.jsx("img",{src:m.avatar,style:d[`Collection_img${g+1}`]})},`${m==null?void 0:m.name}$-${g}`):null)})]}),e.showBeautyGuideDetail&&B.jsx(R4e,{info:i,infoItemStyle:f,detailRightDescBgStyle:o.other[Dr.Collection_detail_right_desc_bg]})]})},j4e="_modalR18_main_jr75s_1",$4e="_footer_jr75s_16",G3={modalR18_main:j4e,"fade-in":"_fade-in_jr75s_1",footer:$4e},V4e=""+new URL("r18-exit-btn-default.png",import.meta.url).href,G4e=""+new URL("r18-exit-btn-active.png",import.meta.url).href,W4e=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,z4e=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,H4e=()=>{Xo("r18.");const t=Ur(),e=it(p=>p.GUI),{playSeClick:r,playSeEnter:n}=ii(),[i,a]=pe.useState(!1),[o,s]=pe.useState(!1),[c,l]=pe.useState({width:void 0,height:void 0,opacity:0}),[u,f]=pe.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(gU(!1))},d=()=>{r(),window.location.href="/"};return B.jsx(B.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&B.jsx("div",{className:`${G3.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:B.jsxs("div",{className:G3.footer,children:[B.jsx("div",{id:"exitButton",className:"interactive",children:B.jsx("img",{src:i?G4e:V4e,onClick:d,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:p=>{l({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:c})}),B.jsx("div",{id:"confirmButton",className:"interactive",children:B.jsx("img",{src:o?z4e:W4e,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:p=>{f({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:u})})]})})})},X4e="_gameMenuPanelWrapper_n6icn_1",Y4e="_gameMenuPanel_n6icn_1",q4e="_menuButton_n6icn_12",K4e="_gameMenuPanelContentWrapper_n6icn_26",Z4e="_mask_n6icn_34",Q4e="_gameMenuPanelContent_n6icn_26",J4e="_content_n6icn_54",eNe="_buttons_wrapper_n6icn_59",tNe="_button_n6icn_59",rNe="_button_text_n6icn_93",nNe="_button_custom_n6icn_96",Oo={gameMenuPanelWrapper:X4e,gameMenuPanel:Y4e,menuButton:q4e,gameMenuPanelContentWrapper:K4e,mask:Z4e,gameMenuPanelContent:Q4e,content:J4e,buttons_wrapper:eNe,button:tNe,button_text:rNe,button_custom:nNe},iNe=()=>{const t=Xo("gaming."),e=Ur(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=ii(),a=it(h=>h.GUI),o=QT("UI/GameMenuPanel/gameMenuPanel.scss"),s=(h,d)=>{e(mt({component:h,visibility:d}))};pe.useEffect(()=>{const h=d=>{d.keyCode===27&&(n(),s("isShowGameMenu",!a.isShowGameMenu))};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[]);const c=h=>{e(vm(h))},l=()=>{n(),s("isShowGameMenu",!0)},u={[Fi.Esc_continueGame_button]:()=>{n(),s("isShowGameMenu",!1)},[Fi.Esc_backToLevel_button]:()=>{n(),s("isShowGameMenu",!1),I_()},[Fi.Esc_setting_button]:()=>{n(),c(ea.Option),s("isShowGameMenu",!1),s("showMenuPanel",!0)},[Fi.Esc_exitGame_button]:()=>{n(),i(),sV({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{s("isShowGameMenu",!1),s("isInGaming",!1),window.location.href="/"}})}},f=h=>{var x,S;const d=a.escMenus[h];if(!d||d.args.hide)return null;const p={},v={};let y=Oo.button;const m=`escMenu-${h}`;if(d.args.style){const b=d.args.style;b.btnPosition!=="custom"&&(p.alignSelf=b.btnPosition),typeof b.align=="string"&&(p.textAlign=b.align),typeof b.fontFamily=="string"&&b.fontFamily&&(p.fontFamily=b.fontFamily),typeof b.x=="number"&&b.btnPosition==="custom"&&(p.position="fixed",p.left=gt(b.x)+"px"),typeof b.y=="number"&&b.btnPosition=="custom"&&(p.position="fixed",p.top=gt(b.y)+"px"),typeof b.scale=="number"&&(p.transform?p.transform+=`scale(${b.scale})`:p.transform=`scale(${b.scale})`),typeof b.fontSize=="number"&&b.fontSize&&(v.fontSize=gt(b.fontSize)+"px"),typeof b.fontColor=="string"&&b.fontColor[0]==="#"&&(p.color=b.fontColor)}if((x=d.args.style)!=null&&x.btnImage){let b=document.getElementById(m);if(y=Oo.button_custom,!b){const w=Mt(d.args.style.btnImage,Rt.ui),C=new Image;C.src=w,C.onload=function(){let A=document.getElementById(m);C.style.width=C.naturalWidth+"px",C.style.height=C.naturalHeight+"px",C.alt=d.content,A&&(A.style.width=C.naturalWidth+"px",A.style.height=C.naturalHeight+"px",setTimeout(()=>{A==null||A.prepend(C),A=null},32))}}}const g=document.getElementById(`${m}-text`);return g&&(d!=null&&d.content)&&(g.innerText=((S=d.content)==null?void 0:S.replace(/\\n/g,`
`))??""),B.jsx("span",{id:m,className:`${o("button",y)} interactive`,onMouseEnter:r,onClick:u[h],style:p,children:B.jsx("span",{className:Oo.button_text,style:v,id:`${m}-text`})},h)};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Oo.gameMenuPanel,children:B.jsx("div",{className:Oo.menuButton,onClick:l,onMouseEnter:r})}),a.isShowGameMenu&&B.jsxs("div",{className:Oo.gameMenuPanelContentWrapper,children:[B.jsx("div",{className:Oo.mask}),B.jsx("div",{className:Oo.gameMenuPanelContent,children:B.jsx("div",{className:Oo.content,children:B.jsxs("div",{className:Oo.buttons_wrapper,children:[f(Fi.Esc_continueGame_button),f(Fi.Esc_backToLevel_button),f(Fi.Esc_setting_button),f(Fi.Esc_exitGame_button)]})})})]})]})};function aNe(){return pe.useEffect(()=>{$Fe()},[]),m3e(),B.jsxs("div",{className:"App",children:[B.jsx(v3e,{}),B.jsx(nBe,{}),B.jsx(oBe,{}),B.jsx(n3e,{}),B.jsx(yBe,{}),B.jsx(tSe,{}),B.jsx(sSe,{}),B.jsx(ZBe,{}),B.jsx(zMe,{}),B.jsx(kDe,{}),B.jsx(g3e,{}),B.jsx(s3e,{}),B.jsx(A3e,{}),B.jsx(q3e,{}),B.jsx(U4e,{}),B.jsx(H4e,{}),B.jsx(iNe,{})]})}function Cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PA(t,e)}function k_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function l0(t,e){if(e&&(Wn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}function Yo(t){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yo(t)}function oNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sNe(t){return pV(t)||oNe(t)||vV(t)||gV()}function W3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lNe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},uNe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xo(this,t),this.init(e,r)}return bo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||lNe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,z3(z3({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Uo=new uNe,Ll=function(){function t(){xo(this,t),this.observers={}}return bo(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function sd(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function H3(t){return t==null?"":""+t}function cNe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function iR(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function X3(t,e,r){var n=iR(t,e,Object),i=n.obj,a=n.k;i[a]=r}function fNe(t,e,r,n){var i=iR(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function jm(t,e){var r=iR(t,e),n=r.obj,i=r.k;if(n)return n[i]}function hNe(t,e,r){var n=jm(t,r);return n!==void 0?n:jm(e,r)}function xV(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):xV(t[n],e[n],r):t[n]=e[n]);return t}function Bc(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var dNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function pNe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return dNe[e]}):t}var F_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,vNe=[" ",",","?","!",";"];function gNe(t,e,r){e=e||"",r=r||"";var n=vNe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function $m(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?$m(c,l,r):void 0}i=i[n[a]]}return i}}function Y3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mNe(t){var e=yNe();return function(){var n=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l0(this,i)}}function yNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _Ne=function(t){k_(r,t);var e=mNe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return xo(this,r),i=e.call(this),F_&&Ll.call(Cl(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return bo(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=jm(this.data,u);return f||!l||typeof o!="string"?f:$m(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),X3(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=jm(this.data,u)||{};s?xV(f,o,c):f=Zv(Zv({},f),o),X3(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Zv(Zv({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Ll),bV={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xNe(t){var e=bNe();return function(){var n=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l0(this,i)}}function bNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var K3={},Z3=function(t){k_(r,t);var e=xNe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xo(this,r),i=e.call(this),F_&&Ll.call(Cl(i)),cNe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Cl(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Uo.create("translator"),i}return bo(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!gNe(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(Wn(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Wn(a)==="object"&&(a=ui({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,d=h[h.length-1],p=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){var y=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(d).concat(y).concat(f),usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:"".concat(d).concat(y).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:f}var m=this.resolve(i,a),g=m&&m.res,x=m&&m.usedKey||f,S=m&&m.exactUsedKey||f,b=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,P=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(A&&g&&P&&w.indexOf(b)<0&&!(typeof C=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,g,ui(ui({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(m.res=O,m):O}if(l){var I=b==="[object Array]",R=I?[]:{},k=I?S:x;for(var D in g)if(Object.prototype.hasOwnProperty.call(g,D)){var L="".concat(k).concat(l).concat(D);R[D]=this.translate(L,ui(ui({},a),{joinArrays:!1,ns:h})),R[D]===L&&(R[D]=g[D])}g=R}}else if(A&&typeof C=="string"&&b==="[object Array]")g=g.join(C),g&&(g=this.extendTranslation(g,i,a,o));else{var U=!1,W=!1,te=a.count!==void 0&&typeof a.count!="string",J=r.hasDefaultValue(a),z=te?this.pluralResolver.getSuffix(p,a.count,a):"",M=a["defaultValue".concat(z)]||a.defaultValue;!this.isValidLookup(g)&&J&&(U=!0,g=M),this.isValidLookup(g)||(W=!0,g=f);var V=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,$=V&&W?void 0:g,j=J&&M!==g&&this.options.updateMissing;if(W||U||j){if(this.logger.log(j?"updateKey":"missingKey",p,d,f,j?M:g),l){var Q=this.resolve(f,ui(ui({},a),{},{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ie=[],de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(var ue=0;ue<de.length;ue++)ie.push(de[ue]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(a.lng||this.language):ie.push(a.lng||this.language);var be=function(ye,we,_e){var xe=J&&_e!==g?_e:$;s.options.missingKeyHandler?s.options.missingKeyHandler(ye,d,we,xe,j,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ye,d,we,xe,j,a),s.emit("missingKey",ye,d,we,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&te?ie.forEach(function(Pe){s.pluralResolver.getSuffixes(Pe,a).forEach(function(ye){be([Pe],f+ye,a["defaultValue".concat(ye)]||M)})}):be(ie,f,M))}g=this.extendTranslation(g,i,a,m,o),W&&g===f&&this.options.appendNamespaceToMissingKey&&(g="".concat(d,":").concat(f)),(W||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,U?g:void 0):g=this.options.parseMissingKeyHandler(g))}return c?(m.res=g,m):g}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,ui(ui({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(ui(ui({},o),{interpolation:ui(ui({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=ui(ui({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),u){var p=i.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var g=arguments.length,x=new Array(g),S=0;S<g;S++)x[S]=arguments[S];return c&&c[0]===x[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(a[0])),null):l.translate.apply(l,x.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var y=o.postProcess||this.options.postProcess,m=typeof y=="string"?[y]:y;return i!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(i=bV.handle(m,i,a,this.options&&this.options.postProcessPassResolved?ui({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var d=a.extractFromKey(h,o),p=d.key;c=p;var v=d.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var y=o.count!==void 0&&typeof o.count!="string",m=y&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",x=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(S){a.isValidLookup(s)||(f=S,!K3["".concat(x[0],"-").concat(S)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(K3["".concat(x[0],"-").concat(S)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(b){if(!a.isValidLookup(s)){u=b;var w=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(w,p,b,S,o);else{var C;y&&(C=a.pluralResolver.getSuffix(b,o.count,o));var A="".concat(a.options.pluralSeparator,"zero");if(y&&(w.push(p+C),m&&w.push(p+A)),g){var P="".concat(p).concat(a.options.contextSeparator).concat(o.context);w.push(P),y&&(w.push(P+C),m&&w.push(P+A))}}for(var O;O=w.pop();)a.isValidLookup(s)||(l=O,s=a.getResource(b,S,O,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Ll);function cE(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Q3=function(){function t(e){xo(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Uo.create("languageUtils")}return bo(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=cE(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=cE(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=cE(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),SNe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ENe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},wNe=["v1","v2","v3"],J3={zero:0,one:1,two:2,few:3,many:4,other:5};function CNe(){var t={};return SNe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:ENe[e.fc]}})}),t}var ANe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xo(this,t),this.languageUtils=e,this.options=r,this.logger=Uo.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=CNe()}return bo(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return J3[o]-J3[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!wNe.includes(this.options.compatibilityJSON)}}]),t}();function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t4(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=hNe(t,e,r);return!a&&i&&typeof r=="string"&&(a=$m(t,r,n),a===void 0&&(a=$m(e,r,n))),a}var TNe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xo(this,t),this.logger=Uo.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return bo(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:pNe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Bc(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Bc(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Bc(n.nestingPrefix):n.nestingPrefixEscaped||Bc("$t("),this.nestingSuffix=n.nestingSuffix?Bc(n.nestingSuffix):n.nestingSuffixEscaped||Bc(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(y){return y.replace(/\$/g,"$$$$")}var h=function(m){if(m.indexOf(o.formatSeparator)<0){var g=t4(n,u,m,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(g,void 0,i,ro(ro(ro({},a),n),{},{interpolationkey:m})):g}var x=m.split(o.formatSeparator),S=x.shift().trim(),b=x.join(o.formatSeparator).trim();return o.format(t4(n,u,S,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,ro(ro(ro({},a),n),{},{interpolationkey:S}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(m){return f(m)}},{regex:this.regexp,safeValue:function(m){return o.escapeValue?f(o.escape(m)):f(m)}}];return v.forEach(function(y){for(l=0;s=y.regex.exec(r);){var m=s[1].trim();if(c=h(m),c===void 0)if(typeof d=="function"){var g=d(r,s,a);c=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))c="";else if(p){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=H3(c));var x=y.safeValue(c);if(r=r.replace(s[0],x),p?(y.regex.lastIndex+=c.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(d,p){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var y=d.split(new RegExp("".concat(v,"[ ]*{"))),m="{".concat(y[1]);d=y[0],m=this.interpolate(m,c);var g=m.match(/'/g),x=m.match(/"/g);(g&&g.length%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{c=JSON.parse(m),p&&(c=ro(ro({},p),c))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),S),"".concat(d).concat(v).concat(m)}return delete c.defaultValue,d}for(;o=this.nestingRegexp.exec(r);){var u=[];c=ro({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=H3(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(d,p){return i.format(d,p,a.lng,ro(ro({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PNe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=sNe(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function Nc(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var ONe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xo(this,t),this.logger=Uo.create("formatter"),this.options=e,this.formats={number:Nc(function(r,n){var i=new Intl.NumberFormat(r,gs({},n));return function(a){return i.format(a)}}),currency:Nc(function(r,n){var i=new Intl.NumberFormat(r,gs(gs({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Nc(function(r,n){var i=new Intl.DateTimeFormat(r,gs({},n));return function(a){return i.format(a)}}),relativetime:Nc(function(r,n){var i=new Intl.RelativeTimeFormat(r,gs({},n));return function(a){return i.format(a,n.range||"day")}}),list:Nc(function(r,n){var i=new Intl.ListFormat(r,gs({},n));return function(a){return i.format(a)}})},this.init(e)}return bo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Nc(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=PNe(u),h=f.formatName,d=f.formatOptions;if(a.formats[h]){var p=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},y=v.locale||v.lng||o.locale||o.lng||i;p=a.formats[h](l,y,gs(gs(gs({},d),o),v))}catch(m){a.logger.warn(m)}return p}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function n4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RNe(t){var e=INe();return function(){var n=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l0(this,i)}}function INe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kNe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var FNe=function(t){k_(r,t);var e=RNe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return xo(this,r),o=e.call(this),F_&&Ll.call(Cl(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Uo.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return bo(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(d){var p=!0;a.forEach(function(v){var y="".concat(d,"|").concat(v);!o.reload&&c.store.hasResourceBundle(d,v)?c.state[y]=2:c.state[y]<0||(c.state[y]===1?u[y]===void 0&&(u[y]=!0):(c.state[y]=1,p=!1,u[y]===void 0&&(u[y]=!0),l[y]===void 0&&(l[y]=!0),h[v]===void 0&&(h[v]=!0)))}),p||(f[d]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){fNe(f.loaded,[c],l),kNe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var d=f.loaded[h];d.length&&d.forEach(function(p){u[h][p]===void 0&&(u[h][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(v,y){if(s.readingCalls--,s.waitingReads.length>0){var m=s.waitingReads.shift();s.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(v&&y&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(v,y)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var d=h(i,a);d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=i4(i4({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,a,o,s,f):d=h(i,a,o,s),d&&typeof d.then=="function"?d.then(function(p){return u(null,p)}).catch(u):u(null,d)}catch(p){u(p)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Ll);function a4(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Wn(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Wn(e[2])==="object"||Wn(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function o4(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DNe(t){var e=MNe();return function(){var n=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l0(this,i)}}function MNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qv(){}function LNe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Vm=function(t){k_(r,t);var e=DNe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(xo(this,r),n=e.call(this),F_&&Ll.call(Cl(n)),n.options=o4(i),n.services={},n.logger=Uo,n.modules={external:[]},LNe(Cl(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),l0(n,Cl(n));setTimeout(function(){n.init(i,a)},0)}return n}return bo(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=a4();this.options=Ro(Ro(Ro({},s),this.options),o4(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ro(Ro({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Uo.init(c(this.modules.logger),this.options):Uo.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=ONe);var u=new Q3(this.options);this.store=new _Ne(this.options.resources,this.options);var f=this.services;f.logger=Uo,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new ANe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new TNe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new FNe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var g=arguments.length,x=new Array(g>1?g-1:0),S=1;S<g;S++)x[S-1]=arguments[S];i.emit.apply(i,[m].concat(x))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Z3(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,x=new Array(g>1?g-1:0),S=1;S<g;S++)x[S-1]=arguments[S];i.emit.apply(i,[m].concat(x))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Qv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(m){i[m]=function(){var g;return(g=i.store)[m].apply(g,arguments),i}});var v=sd(),y=function(){var g=function(S,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(b),o(S,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?y():setTimeout(y,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qv,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(d){if(d){var p=a.services.languageUtils.toResolveHierarchy(d);p.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=sd();return i||(i=this.languages),a||(a=this.options.ns),o||(o=Qv),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&bV.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=sd();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,d){d?(c(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);d&&(o.language||c(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(Wn(f)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([u,f].concat(p))}else h=Ro({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var y=s.options.keySeparator||".",m;return h.keyPrefix&&Array.isArray(u)?m=u.map(function(g){return"".concat(h.keyPrefix).concat(y).concat(g)}):m=h.keyPrefix?"".concat(h.keyPrefix).concat(y).concat(u):u,s.t(m,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(d,p){var v=a.services.backendConnector.state["".concat(d,"|").concat(p)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=sd();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=sd();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Q3(a4());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qv,s=Ro(Ro(Ro({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=Ro({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new Z3(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Ll);xa(Vm,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Vm(t,e)});var bi=Vm.createInstance();bi.createInstance=Vm.createInstance;bi.createInstance;bi.dir;bi.init;bi.loadResources;bi.reloadResources;bi.use;bi.changeLanguage;bi.getFixedT;bi.t;bi.exists;bi.setDefaultNamespace;bi.hasLoadedNamespace;bi.loadNamespaces;bi.loadLanguages;bi.use(eMe).init({resources:Xoe||{},lng:Jf[Yoe]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));ju.render(B.jsx(Gn.StrictMode,{children:B.jsx(iMe,{children:B.jsx(Kme,{store:se,children:B.jsx(aNe,{})})})}),document.getElementById("root"));export{Rn as C,Iu as S,pt as T,Y as W,pa as a,GNe as r,Rs as u};
