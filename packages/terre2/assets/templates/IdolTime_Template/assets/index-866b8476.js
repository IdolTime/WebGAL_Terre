var rU=Object.defineProperty;var nU=(t,e,r)=>e in t?rU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xe=(t,e,r)=>(nU(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iU(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var IF={exports:{}},nh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yC=Object.getOwnPropertySymbols,aU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable;function sU(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function lU(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Kb=lU()?Object.assign:function(t,e){for(var r,n=sU(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)aU.call(r,o)&&(n[o]=r[o]);if(yC){i=yC(r);for(var s=0;s<i.length;s++)oU.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const uU=Cn(Kb);var RF={exports:{}},Mt={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb=Kb,Eu=60103,PF=60106;Mt.Fragment=60107;Mt.StrictMode=60108;Mt.Profiler=60114;var OF=60109,kF=60110,FF=60112;Mt.Suspense=60113;var NF=60115,LF=60116;if(typeof Symbol=="function"&&Symbol.for){var Ri=Symbol.for;Eu=Ri("react.element"),PF=Ri("react.portal"),Mt.Fragment=Ri("react.fragment"),Mt.StrictMode=Ri("react.strict_mode"),Mt.Profiler=Ri("react.profiler"),OF=Ri("react.provider"),kF=Ri("react.context"),FF=Ri("react.forward_ref"),Mt.Suspense=Ri("react.suspense"),NF=Ri("react.memo"),LF=Ri("react.lazy")}var xC=typeof Symbol=="function"&&Symbol.iterator;function fU(t){return t===null||typeof t!="object"?null:(t=xC&&t[xC]||t["@@iterator"],typeof t=="function"?t:null)}function ih(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MF={};function wu(t,e,r){this.props=t,this.context=e,this.refs=MF,this.updater=r||BF}wu.prototype.isReactComponent={};wu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(ih(85));this.updater.enqueueSetState(this,t,e,"setState")};wu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DF(){}DF.prototype=wu.prototype;function Jb(t,e,r){this.props=t,this.context=e,this.refs=MF,this.updater=r||BF}var Qb=Jb.prototype=new DF;Qb.constructor=Jb;Zb(Qb,wu.prototype);Qb.isPureReactComponent=!0;var eE={current:null},UF=Object.prototype.hasOwnProperty,jF={key:!0,ref:!0,__self:!0,__source:!0};function $F(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)UF.call(e,n)&&!jF.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Eu,type:t,key:a,ref:o,props:i,_owner:eE.current}}function cU(t,e){return{$$typeof:Eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eu}function hU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bC=/\/+/g;function tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hU(""+t.key):e.toString(36)}function Sd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Eu:case PF:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+tm(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(bC,"$&/")+"/"),Sd(i,e,r,"",function(l){return l})):i!=null&&(tE(i)&&(i=cU(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var f=n+tm(a,s);o+=Sd(a,e,r,f,i)}else if(f=fU(t),typeof f=="function")for(t=f.call(t),s=0;!(a=t.next()).done;)a=a.value,f=n+tm(a,s++),o+=Sd(a,e,r,f,i);else if(a==="object")throw e=""+t,Error(ih(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Oh(t,e,r){if(t==null)return t;var n=[],i=0;return Sd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function dU(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var VF={current:null};function Za(){var t=VF.current;if(t===null)throw Error(ih(321));return t}var pU={ReactCurrentDispatcher:VF,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:eE,IsSomeRendererActing:{current:!1},assign:Zb};Mt.Children={map:Oh,forEach:function(t,e,r){Oh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Oh(t,function(){e++}),e},toArray:function(t){return Oh(t,function(e){return e})||[]},only:function(t){if(!tE(t))throw Error(ih(143));return t}};Mt.Component=wu;Mt.PureComponent=Jb;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pU;Mt.cloneElement=function(t,e,r){if(t==null)throw Error(ih(267,t));var n=Zb({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=eE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(f in e)UF.call(e,f)&&!jF.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&s!==void 0?s[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){s=Array(f);for(var l=0;l<f;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Eu,type:t.type,key:i,ref:a,props:n,_owner:o}};Mt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:kF,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:OF,_context:t},t.Consumer=t};Mt.createElement=$F;Mt.createFactory=function(t){var e=$F.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:FF,render:t}};Mt.isValidElement=tE;Mt.lazy=function(t){return{$$typeof:LF,_payload:{_status:-1,_result:t},_init:dU}};Mt.memo=function(t,e){return{$$typeof:NF,type:t,compare:e===void 0?null:e}};Mt.useCallback=function(t,e){return Za().useCallback(t,e)};Mt.useContext=function(t,e){return Za().useContext(t,e)};Mt.useDebugValue=function(){};Mt.useEffect=function(t,e){return Za().useEffect(t,e)};Mt.useImperativeHandle=function(t,e,r){return Za().useImperativeHandle(t,e,r)};Mt.useLayoutEffect=function(t,e){return Za().useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return Za().useMemo(t,e)};Mt.useReducer=function(t,e,r){return Za().useReducer(t,e,r)};Mt.useRef=function(t){return Za().useRef(t)};Mt.useState=function(t){return Za().useState(t)};Mt.version="17.0.2";RF.exports=Mt;var ye=RF.exports;const qt=Cn(ye);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vU=ye,GF=60103;nh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var EC=Symbol.for;GF=EC("react.element"),nh.Fragment=EC("react.fragment")}var mU=vU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gU=Object.prototype.hasOwnProperty,_U={key:!0,ref:!0,__self:!0,__source:!0};function XF(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)gU.call(e,n)&&!_U.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:GF,type:t,key:a,ref:o,props:i,_owner:mU.current}}nh.jsx=XF;nh.jsxs=XF;IF.exports=nh;var k=IF.exports,HF={exports:{}},Ti={},zF={exports:{}},WF={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var f=null,l=null,u=function(){if(f!==null)try{var L=t.unstable_now();f(!0,L),f=null}catch(j){throw setTimeout(u,0),j}};e=function(L){f!==null?setTimeout(e,0,L):(f=L,setTimeout(u,0))},r=function(L,j){l=setTimeout(L,j)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,m=null,_=-1,v=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<L?Math.floor(1e3/L):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(m!==null){var L=t.unstable_now();g=L+v;try{m(!0,L)?x.postMessage(null):(d=!1,m=null)}catch(j){throw x.postMessage(null),j}}else d=!1},e=function(L){m=L,d||(d=!0,x.postMessage(null))},r=function(L,j){_=c(function(){L(t.unstable_now())},j)},n=function(){h(_),_=-1}}function b(L,j){var M=L.length;L.push(j);e:for(;;){var D=M-1>>>1,J=L[D];if(J!==void 0&&0<S(J,j))L[D]=j,L[M]=J,M=D;else break e}}function E(L){return L=L[0],L===void 0?null:L}function w(L){var j=L[0];if(j!==void 0){var M=L.pop();if(M!==j){L[0]=M;e:for(var D=0,J=L.length;D<J;){var Q=2*(D+1)-1,se=L[Q],re=Q+1,fe=L[re];if(se!==void 0&&0>S(se,M))fe!==void 0&&0>S(fe,se)?(L[D]=fe,L[re]=M,D=re):(L[D]=se,L[Q]=M,D=Q);else if(fe!==void 0&&0>S(fe,M))L[D]=fe,L[re]=M,D=re;else break e}}return j}return null}function S(L,j){var M=L.sortIndex-j.sortIndex;return M!==0?M:L.id-j.id}var C=[],T=[],I=1,A=null,R=3,O=!1,F=!1,N=!1;function $(L){for(var j=E(T);j!==null;){if(j.callback===null)w(T);else if(j.startTime<=L)w(T),j.sortIndex=j.expirationTime,b(C,j);else break;j=E(T)}}function q(L){if(N=!1,$(L),!F)if(E(C)!==null)F=!0,e(K);else{var j=E(T);j!==null&&r(q,j.startTime-L)}}function K(L,j){F=!1,N&&(N=!1,n()),O=!0;var M=R;try{for($(j),A=E(C);A!==null&&(!(A.expirationTime>j)||L&&!t.unstable_shouldYield());){var D=A.callback;if(typeof D=="function"){A.callback=null,R=A.priorityLevel;var J=D(A.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?A.callback=J:A===E(C)&&w(C),$(j)}else w(C);A=E(C)}if(A!==null)var Q=!0;else{var se=E(T);se!==null&&r(q,se.startTime-j),Q=!1}return Q}finally{A=null,R=M,O=!1}}var G=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){F||O||(F=!0,e(K))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(L){switch(R){case 1:case 2:case 3:var j=3;break;default:j=R}var M=R;R=j;try{return L()}finally{R=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=R;R=L;try{return j()}finally{R=M}},t.unstable_scheduleCallback=function(L,j,M){var D=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?D+M:D):M=D,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,L={id:I++,callback:j,priorityLevel:L,startTime:M,expirationTime:J,sortIndex:-1},M>D?(L.sortIndex=M,b(T,L),E(C)===null&&L===E(T)&&(N?n():N=!0,r(q,M-D))):(L.sortIndex=J,b(C,L),F||O||(F=!0,e(K))),L},t.unstable_wrapCallback=function(L){var j=R;return function(){var M=R;R=j;try{return L.apply(this,arguments)}finally{R=M}}}})(WF);zF.exports=WF;var yU=zF.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=ye,hr=Kb,cn=yU;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!up)throw Error(Le(227));var YF=new Set,oc={};function Us(t,e){ru(t,e),ru(t+"Capture",e)}function ru(t,e){for(oc[t]=e,t=0;t<e.length;t++)YF.add(e[t])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wC=Object.prototype.hasOwnProperty,SC={},CC={};function bU(t){return wC.call(CC,t)?!0:wC.call(SC,t)?!1:xU.test(t)?CC[t]=!0:(SC[t]=!0,!1)}function EU(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wU(t,e,r,n){if(e===null||typeof e>"u"||EU(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sn[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sn[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sn[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sn[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sn[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sn[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sn[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sn[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sn[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rE=/[\-:]([a-z])/g;function nE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rE,nE);Sn[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rE,nE);Sn[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rE,nE);Sn[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function iE(t,e,r,n){var i=Sn.hasOwnProperty(e)?Sn[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(wU(e,r,i,n)&&(r=null),n||i===null?bU(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var js=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pf=60103,ds=60106,so=60107,aE=60108,Uf=60114,oE=60109,sE=60110,fp=60112,jf=60113,Qd=60120,cp=60115,lE=60116,uE=60121,fE=60128,qF=60129,cE=60130,yy=60131;if(typeof Symbol=="function"&&Symbol.for){var rn=Symbol.for;Pf=rn("react.element"),ds=rn("react.portal"),so=rn("react.fragment"),aE=rn("react.strict_mode"),Uf=rn("react.profiler"),oE=rn("react.provider"),sE=rn("react.context"),fp=rn("react.forward_ref"),jf=rn("react.suspense"),Qd=rn("react.suspense_list"),cp=rn("react.memo"),lE=rn("react.lazy"),uE=rn("react.block"),rn("react.scope"),fE=rn("react.opaque.id"),qF=rn("react.debug_trace_mode"),cE=rn("react.offscreen"),yy=rn("react.legacy_hidden")}var TC=typeof Symbol=="function"&&Symbol.iterator;function Qu(t){return t===null||typeof t!="object"?null:(t=TC&&t[TC]||t["@@iterator"],typeof t=="function"?t:null)}var rm;function Of(t){if(rm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rm=e&&e[1]||""}return`
`+rm+t}var nm=!1;function kh(t,e){if(!t||nm)return"";nm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{nm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Of(t):""}function SU(t){switch(t.tag){case 5:return Of(t.type);case 16:return Of("Lazy");case 13:return Of("Suspense");case 19:return Of("SuspenseList");case 0:case 2:case 15:return t=kh(t.type,!1),t;case 11:return t=kh(t.type.render,!1),t;case 22:return t=kh(t.type._render,!1),t;case 1:return t=kh(t.type,!0),t;default:return""}}function Bl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case ds:return"Portal";case Uf:return"Profiler";case aE:return"StrictMode";case jf:return"Suspense";case Qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sE:return(t.displayName||"Context")+".Consumer";case oE:return(t._context.displayName||"Context")+".Provider";case fp:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case cp:return Bl(t.type);case uE:return Bl(t._render);case lE:e=t._payload,t=t._init;try{return Bl(t(e))}catch{}}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function KF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CU(t){var e=KF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fh(t){t._valueTracker||(t._valueTracker=CU(t))}function ZF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=KF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function e0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xy(t,e){var r=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function AC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ko(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JF(t,e){e=e.checked,e!=null&&iE(t,"checked",e,!1)}function by(t,e){JF(t,e);var r=ko(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ey(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ey(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ey(t,e,r){(e!=="number"||e0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function TU(t){var e="";return up.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function wy(t,e){return t=hr({children:void 0},e),(e=TU(e.children))&&(t.children=e),t}function Ml(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ko(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ko(r)}}function QF(t,e){var r=ko(e.value),n=ko(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function PC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Cy={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function e4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ty(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nh,t4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Cy.svg||"innerHTML"in t)t.innerHTML=e;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $f={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AU=["Webkit","ms","Moz","O"];Object.keys($f).forEach(function(t){AU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$f[e]=$f[t]})});function r4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$f.hasOwnProperty(t)&&$f[t]?(""+e).trim():e+"px"}function n4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=r4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var IU=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ay(t,e){if(e){if(IU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function Iy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ry=null,Dl=null,Ul=null;function OC(t){if(t=oh(t)){if(typeof Ry!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=gp(e),Ry(t.stateNode,t.type,e))}}function i4(t){Dl?Ul?Ul.push(t):Ul=[t]:Dl=t}function a4(){if(Dl){var t=Dl,e=Ul;if(Ul=Dl=null,OC(t),e)for(t=0;t<e.length;t++)OC(e[t])}}function dE(t,e){return t(e)}function o4(t,e,r,n,i){return t(e,r,n,i)}function pE(){}var s4=dE,ps=!1,im=!1;function vE(){(Dl!==null||Ul!==null)&&(pE(),a4())}function RU(t,e,r){if(im)return t(e,r);im=!0;try{return s4(t,e,r)}finally{im=!1,vE()}}function lc(t,e){var r=t.stateNode;if(r===null)return null;var n=gp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var Py=!1;if(za)try{var ef={};Object.defineProperty(ef,"passive",{get:function(){Py=!0}}),window.addEventListener("test",ef,ef),window.removeEventListener("test",ef,ef)}catch{Py=!1}function PU(t,e,r,n,i,a,o,s,f){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Vf=!1,t0=null,r0=!1,Oy=null,OU={onError:function(t){Vf=!0,t0=t}};function kU(t,e,r,n,i,a,o,s,f){Vf=!1,t0=null,PU.apply(OU,arguments)}function FU(t,e,r,n,i,a,o,s,f){if(kU.apply(this,arguments),Vf){if(Vf){var l=t0;Vf=!1,t0=null}else throw Error(Le(198));r0||(r0=!0,Oy=l)}}function $s(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function l4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kC(t){if($s(t)!==t)throw Error(Le(188))}function NU(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return kC(i),t;if(a===n)return kC(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function u4(t){if(t=NU(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function FC(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var f4,mE,c4,h4,ky=!1,oa=[],_o=null,yo=null,xo=null,uc=new Map,fc=new Map,tf=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function LC(t,e){switch(t){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(e.pointerId)}}function rf(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=Fy(e,r,n,i,a),e!==null&&(e=oh(e),e!==null&&mE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LU(t,e,r,n,i){switch(e){case"focusin":return _o=rf(_o,t,e,r,n,i),!0;case"dragenter":return yo=rf(yo,t,e,r,n,i),!0;case"mouseover":return xo=rf(xo,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return uc.set(a,rf(uc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,fc.set(a,rf(fc.get(a)||null,t,e,r,n,i)),!0}return!1}function BU(t){var e=vs(t.target);if(e!==null){var r=$s(e);if(r!==null){if(e=r.tag,e===13){if(e=l4(r),e!==null){t.blockedOn=e,h4(t.lanePriority,function(){cn.unstable_runWithPriority(t.priority,function(){c4(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=oh(r),e!==null&&mE(e),t.blockedOn=r,!1;e.shift()}return!0}function BC(t,e,r){Cd(t)&&r.delete(e)}function MU(){for(ky=!1;0<oa.length;){var t=oa[0];if(t.blockedOn!==null){t=oh(t.blockedOn),t!==null&&f4(t);break}for(var e=t.targetContainers;0<e.length;){var r=xE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&oa.shift()}_o!==null&&Cd(_o)&&(_o=null),yo!==null&&Cd(yo)&&(yo=null),xo!==null&&Cd(xo)&&(xo=null),uc.forEach(BC),fc.forEach(BC)}function nf(t,e){t.blockedOn===e&&(t.blockedOn=null,ky||(ky=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,MU)))}function d4(t){function e(i){return nf(i,t)}if(0<oa.length){nf(oa[0],t);for(var r=1;r<oa.length;r++){var n=oa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_o!==null&&nf(_o,t),yo!==null&&nf(yo,t),xo!==null&&nf(xo,t),uc.forEach(e),fc.forEach(e),r=0;r<tf.length;r++)n=tf[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<tf.length&&(r=tf[0],r.blockedOn===null);)BU(r),r.blockedOn===null&&tf.shift()}function Lh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wl={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},am={},p4={};za&&(p4=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function hp(t){if(am[t])return am[t];if(!wl[t])return t;var e=wl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in p4)return am[t]=e[r];return t}var v4=hp("animationend"),m4=hp("animationiteration"),g4=hp("animationstart"),_4=hp("transitionend"),y4=new Map,gE=new Map,DU=["abort","abort",v4,"animationEnd",m4,"animationIteration",g4,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",_4,"transitionEnd","waiting","waiting"];function _E(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),gE.set(n,e),y4.set(n,i),Us(i,[n])}}var UU=cn.unstable_now;UU();var tr=8;function xl(t){if(1&t)return tr=15,1;if(2&t)return tr=14,2;if(4&t)return tr=13,4;var e=24&t;return e!==0?(tr=12,e):t&32?(tr=11,32):(e=192&t,e!==0?(tr=10,e):t&256?(tr=9,256):(e=3584&t,e!==0?(tr=8,e):t&4096?(tr=7,4096):(e=4186112&t,e!==0?(tr=6,e):(e=62914560&t,e!==0?(tr=5,e):t&67108864?(tr=4,67108864):t&134217728?(tr=3,134217728):(e=805306368&t,e!==0?(tr=2,e):1073741824&t?(tr=1,1073741824):(tr=8,t))))))}function jU(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function $U(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Le(358,t))}}function cc(t,e){var r=t.pendingLanes;if(r===0)return tr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=tr=15;else if(a=r&134217727,a!==0){var f=a&~o;f!==0?(n=xl(f),i=tr):(s&=a,s!==0&&(n=xl(s),i=tr))}else a=r&~o,a!==0?(n=xl(a),i=tr):s!==0&&(n=xl(s),i=tr);if(n===0)return 0;if(n=31-Fo(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(xl(e),i<=tr)return e;tr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fo(e),i=1<<r,n|=t[r],e&=~i;return n}function x4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=bl(24&~e),t===0?n0(10,e):t;case 10:return t=bl(192&~e),t===0?n0(8,e):t;case 8:return t=bl(3584&~e),t===0&&(t=bl(4186112&~e),t===0&&(t=512)),t;case 2:return e=bl(805306368&~e),e===0&&(e=268435456),e}throw Error(Le(358,t))}function bl(t){return t&-t}function om(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dp(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Fo(e),t[e]=r}var Fo=Math.clz32?Math.clz32:XU,VU=Math.log,GU=Math.LN2;function XU(t){return t===0?32:31-(VU(t)/GU|0)|0}var HU=cn.unstable_UserBlockingPriority,zU=cn.unstable_runWithPriority,Td=!0;function WU(t,e,r,n){ps||pE();var i=yE,a=ps;ps=!0;try{o4(i,t,e,r,n)}finally{(ps=a)||vE()}}function YU(t,e,r,n){zU(HU,yE.bind(null,t,e,r,n))}function yE(t,e,r,n){if(Td){var i;if((i=(e&4)===0)&&0<oa.length&&-1<NC.indexOf(t))t=Fy(null,t,e,r,n),oa.push(t);else{var a=xE(t,e,r,n);if(a===null)i&&LC(t,n);else{if(i){if(-1<NC.indexOf(t)){t=Fy(a,t,e,r,n),oa.push(t);return}if(LU(a,t,e,r,n))return;LC(t,n)}F4(t,e,n,null,r)}}}}function xE(t,e,r,n){var i=hE(n);if(i=vs(i),i!==null){var a=$s(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=l4(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return F4(t,e,n,i,r),null}var fo=null,bE=null,Ad=null;function b4(){if(Ad)return Ad;var t,e=bE,r=e.length,n,i="value"in fo?fo.value:fo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Ad=i.slice(t,1<n?1-n:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bh(){return!0}function MC(){return!1}function ui(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bh:MC,this.isPropagationStopped=MC,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EE=ui(Su),ah=hr({},Su,{view:0,detail:0}),qU=ui(ah),sm,lm,af,pp=hr({},ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==af&&(af&&t.type==="mousemove"?(sm=t.screenX-af.screenX,lm=t.screenY-af.screenY):lm=sm=0,af=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),DC=ui(pp),KU=hr({},pp,{dataTransfer:0}),ZU=ui(KU),JU=hr({},ah,{relatedTarget:0}),um=ui(JU),QU=hr({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),ej=ui(QU),tj=hr({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rj=ui(tj),nj=hr({},Su,{data:0}),UC=ui(nj),ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oj[t])?!!e[t]:!1}function wE(){return sj}var lj=hr({},ah,{key:function(t){if(t.key){var e=ij[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wE,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uj=ui(lj),fj=hr({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jC=ui(fj),cj=hr({},ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wE}),hj=ui(cj),dj=hr({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),pj=ui(dj),vj=hr({},pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=ui(vj),gj=[9,13,27,32],SE=za&&"CompositionEvent"in window,Gf=null;za&&"documentMode"in document&&(Gf=document.documentMode);var _j=za&&"TextEvent"in window&&!Gf,E4=za&&(!SE||Gf&&8<Gf&&11>=Gf),$C=String.fromCharCode(32),VC=!1;function w4(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sl=!1;function yj(t,e){switch(t){case"compositionend":return S4(e);case"keypress":return e.which!==32?null:(VC=!0,$C);case"textInput":return t=e.data,t===$C&&VC?null:t;default:return null}}function xj(t,e){if(Sl)return t==="compositionend"||!SE&&w4(t,e)?(t=b4(),Ad=bE=fo=null,Sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E4&&e.locale!=="ko"?null:e.data;default:return null}}var bj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bj[t.type]:e==="textarea"}function C4(t,e,r,n){i4(n),e=i0(e,"onChange"),0<e.length&&(r=new EE("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xf=null,hc=null;function Ej(t){P4(t,0)}function vp(t){var e=Tl(t);if(ZF(e))return t}function wj(t,e){if(t==="change")return e}var T4=!1;if(za){var fm;if(za){var cm="oninput"in document;if(!cm){var XC=document.createElement("div");XC.setAttribute("oninput","return;"),cm=typeof XC.oninput=="function"}fm=cm}else fm=!1;T4=fm&&(!document.documentMode||9<document.documentMode)}function HC(){Xf&&(Xf.detachEvent("onpropertychange",A4),hc=Xf=null)}function A4(t){if(t.propertyName==="value"&&vp(hc)){var e=[];if(C4(e,hc,t,hE(t)),t=Ej,ps)t(e);else{ps=!0;try{dE(t,e)}finally{ps=!1,vE()}}}}function Sj(t,e,r){t==="focusin"?(HC(),Xf=e,hc=r,Xf.attachEvent("onpropertychange",A4)):t==="focusout"&&HC()}function Cj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vp(hc)}function Tj(t,e){if(t==="click")return vp(e)}function Aj(t,e){if(t==="input"||t==="change")return vp(e)}function Ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yi=typeof Object.is=="function"?Object.is:Ij,Rj=Object.prototype.hasOwnProperty;function dc(t,e){if(yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Rj.call(e,r[n])||!yi(t[r[n]],e[r[n]]))return!1;return!0}function zC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function WC(t,e){var r=zC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zC(r)}}function I4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=e0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=e0(t.document)}return e}function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Pj=za&&"documentMode"in document&&11>=document.documentMode,Cl=null,Ly=null,Hf=null,By=!1;function qC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;By||Cl==null||Cl!==e0(n)||(n=Cl,"selectionStart"in n&&Ny(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hf&&dc(Hf,n)||(Hf=n,n=i0(Ly,"onSelect"),0<n.length&&(e=new EE("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cl)))}_E("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);_E("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);_E(DU,2);for(var KC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),hm=0;hm<KC.length;hm++)gE.set(KC[hm],0);ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function ZC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,FU(n,e,void 0,t),t.currentTarget=null}function P4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],f=s.instance,l=s.currentTarget;if(s=s.listener,f!==a&&i.isPropagationStopped())break e;ZC(i,s,l),a=f}else for(o=0;o<n.length;o++){if(s=n[o],f=s.instance,l=s.currentTarget,s=s.listener,f!==a&&i.isPropagationStopped())break e;ZC(i,s,l),a=f}}}if(r0)throw t=Oy,r0=!1,Oy=null,t}function ir(t,e){var r=L4(e),n=t+"__bubble";r.has(n)||(k4(e,t,2,!1),r.add(n))}var JC="_reactListening"+Math.random().toString(36).slice(2);function O4(t){t[JC]||(t[JC]=!0,YF.forEach(function(e){R4.has(e)||QC(e,!1,t,null),QC(e,!0,t,null)}))}function QC(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&R4.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=L4(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),k4(a,t,i,e),o.add(s))}function k4(t,e,r,n){var i=gE.get(e);switch(i===void 0?2:i){case 0:i=WU;break;case 1:i=YU;break;default:i=yE}r=i.bind(null,e,r,t),i=void 0,!Py||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function F4(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;s!==null;){if(o=vs(s),o===null)return;if(f=o.tag,f===5||f===6){n=a=o;continue e}s=s.parentNode}}n=n.return}RU(function(){var l=a,u=hE(r),c=[];e:{var h=y4.get(t);if(h!==void 0){var p=EE,d=t;switch(t){case"keypress":if(Id(r)===0)break e;case"keydown":case"keyup":p=uj;break;case"focusin":d="focus",p=um;break;case"focusout":d="blur",p=um;break;case"beforeblur":case"afterblur":p=um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hj;break;case v4:case m4:case g4:p=ej;break;case _4:p=pj;break;case"scroll":p=qU;break;case"wheel":p=mj;break;case"copy":case"cut":case"paste":p=rj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jC}var m=(e&4)!==0,_=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=l,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=lc(g,v),x!=null&&m.push(pc(g,x,y)))),_)break;g=g.return}0<m.length&&(h=new p(h,d,null,r,u),c.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(vs(d)||d[Cu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?vs(d):null,d!==null&&(_=$s(d),d!==_||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(m=DC,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=jC,x="onPointerLeave",v="onPointerEnter",g="pointer"),_=p==null?h:Tl(p),y=d==null?h:Tl(d),h=new m(x,g+"leave",p,r,u),h.target=_,h.relatedTarget=y,x=null,vs(u)===l&&(m=new m(v,g+"enter",d,r,u),m.target=y,m.relatedTarget=_,x=m),_=x,p&&d)t:{for(m=p,v=d,g=0,y=m;y;y=tl(y))g++;for(y=0,x=v;x;x=tl(x))y++;for(;0<g-y;)m=tl(m),g--;for(;0<y-g;)v=tl(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=tl(m),v=tl(v)}m=null}else m=null;p!==null&&eT(c,h,p,m,!1),d!==null&&_!==null&&eT(c,_,d,m,!0)}}e:{if(h=l?Tl(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=wj;else if(GC(h))if(T4)b=Aj;else{b=Cj;var E=Sj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Tj);if(b&&(b=b(t,l))){C4(c,b,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ey(h,"number",h.value)}switch(E=l?Tl(l):window,t){case"focusin":(GC(E)||E.contentEditable==="true")&&(Cl=E,Ly=l,Hf=null);break;case"focusout":Hf=Ly=Cl=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,qC(c,r,u);break;case"selectionchange":if(Pj)break;case"keydown":case"keyup":qC(c,r,u)}var w;if(SE)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Sl?w4(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(E4&&r.locale!=="ko"&&(Sl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Sl&&(w=b4()):(fo=u,bE="value"in fo?fo.value:fo.textContent,Sl=!0)),E=i0(l,S),0<E.length&&(S=new UC(S,t,null,r,u),c.push({event:S,listeners:E}),w?S.data=w:(w=S4(r),w!==null&&(S.data=w)))),(w=_j?yj(t,r):xj(t,r))&&(l=i0(l,"onBeforeInput"),0<l.length&&(u=new UC("onBeforeInput","beforeinput",null,r,u),c.push({event:u,listeners:l}),u.data=w))}P4(c,e)})}function pc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function i0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lc(t,r),a!=null&&n.unshift(pc(t,a,i)),a=lc(t,e),a!=null&&n.push(pc(t,a,i))),t=t.return}return n}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eT(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,f=s.alternate,l=s.stateNode;if(f!==null&&f===n)break;s.tag===5&&l!==null&&(s=l,i?(f=lc(r,a),f!=null&&o.unshift(pc(r,f,s))):i||(f=lc(r,a),f!=null&&o.push(pc(r,f,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function a0(){}var dm=null,pm=null;function N4(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function My(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tT=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0;function CE(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function rT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vm=0;function kj(t){return{$$typeof:fE,toString:t,valueOf:t}}var mp=Math.random().toString(36).slice(2),co="__reactFiber$"+mp,o0="__reactProps$"+mp,Cu="__reactContainer$"+mp,nT="__reactEvents$"+mp;function vs(t){var e=t[co];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cu]||r[co]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rT(t);t!==null;){if(r=t[co])return r;t=rT(t)}return e}t=r,r=t.parentNode}return null}function oh(t){return t=t[co]||t[Cu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function gp(t){return t[o0]||null}function L4(t){var e=t[nT];return e===void 0&&(e=t[nT]=new Set),e}var Dy=[],Al=-1;function Go(t){return{current:t}}function or(t){0>Al||(t.current=Dy[Al],Dy[Al]=null,Al--)}function wr(t,e){Al++,Dy[Al]=t.current,t.current=e}var No={},Fn=Go(No),Jn=Go(!1),Rs=No;function nu(t,e){var r=t.type.contextTypes;if(!r)return No;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function s0(){or(Jn),or(Fn)}function iT(t,e,r){if(Fn.current!==No)throw Error(Le(168));wr(Fn,e),wr(Jn,r)}function B4(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,Bl(e)||"Unknown",i));return hr({},r,n)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Rs=Fn.current,wr(Fn,t),wr(Jn,Jn.current),!0}function aT(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=B4(t,e,Rs),n.__reactInternalMemoizedMergedChildContext=t,or(Jn),or(Fn),wr(Fn,t)):or(Jn),wr(Jn,r)}var TE=null,ws=null,Fj=cn.unstable_runWithPriority,AE=cn.unstable_scheduleCallback,Uy=cn.unstable_cancelCallback,Nj=cn.unstable_shouldYield,oT=cn.unstable_requestPaint,jy=cn.unstable_now,Lj=cn.unstable_getCurrentPriorityLevel,_p=cn.unstable_ImmediatePriority,M4=cn.unstable_UserBlockingPriority,D4=cn.unstable_NormalPriority,U4=cn.unstable_LowPriority,j4=cn.unstable_IdlePriority,mm={},Bj=oT!==void 0?oT:function(){},Ba=null,Pd=null,gm=!1,sT=jy(),On=1e4>sT?jy:function(){return jy()-sT};function iu(){switch(Lj()){case _p:return 99;case M4:return 98;case D4:return 97;case U4:return 96;case j4:return 95;default:throw Error(Le(332))}}function $4(t){switch(t){case 99:return _p;case 98:return M4;case 97:return D4;case 96:return U4;case 95:return j4;default:throw Error(Le(332))}}function Ps(t,e){return t=$4(t),Fj(t,e)}function vc(t,e,r){return t=$4(t),AE(t,e,r)}function Ea(){if(Pd!==null){var t=Pd;Pd=null,Uy(t)}V4()}function V4(){if(!gm&&Ba!==null){gm=!0;var t=0;try{var e=Ba;Ps(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Ba=null}catch(r){throw Ba!==null&&(Ba=Ba.slice(t+1)),AE(_p,Ea),r}finally{gm=!1}}}var Mj=js.ReactCurrentBatchConfig;function Ui(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var l0=Go(null),u0=null,Il=null,f0=null;function IE(){f0=Il=u0=null}function RE(t){var e=l0.current;or(l0),t.type._context._currentValue=e}function G4(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function $l(t,e){u0=t,f0=Il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gi=!0),t.firstContext=null)}function Si(t,e){if(f0!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(f0=t,e=1073741823),e={context:t,observedBits:e,next:null},Il===null){if(u0===null)throw Error(Le(308));Il=e,u0.dependencies={lanes:0,firstContext:e,responders:null}}else Il=Il.next=e;return t._currentValue}var io=!1;function PE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function X4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function lT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mc(t,e,r,n){var i=t.updateQueue;io=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var f=s,l=f.next;f.next=null,o===null?a=l:o.next=l,o=f;var u=t.alternate;if(u!==null){u=u.updateQueue;var c=u.lastBaseUpdate;c!==o&&(c===null?u.firstBaseUpdate=l:c.next=l,u.lastBaseUpdate=f)}}if(a!==null){c=i.baseState,o=0,u=l=f=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){c=p.call(h,c,s);break e}c=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,c,s):p,s==null)break e;c=hr({},c,s);break e;case 2:io=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,f=c):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(f=c),i.baseState=f,i.firstBaseUpdate=l,i.lastBaseUpdate=u,lh|=o,t.lanes=o,t.memoizedState=c}}function uT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var H4=new up.Component().refs;function c0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:hr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yp={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=oi(),i=wo(t),a=bo(n,i);a.payload=e,r!=null&&(a.callback=r),Eo(t,a),So(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=oi(),i=wo(t),a=bo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),Eo(t,a),So(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=oi(),n=wo(t),i=bo(r,n);i.tag=2,e!=null&&(i.callback=e),Eo(t,i),So(t,n,r)}};function fT(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!dc(r,n)||!dc(i,a):!0}function z4(t,e,r){var n=!1,i=No,a=e.contextType;return typeof a=="object"&&a!==null?a=Si(a):(i=Qn(e)?Rs:Fn.current,n=e.contextTypes,a=(n=n!=null)?nu(t,i):No),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function cT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yp.enqueueReplaceState(e,e.state,null)}function $y(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=H4,PE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Si(a):(a=Qn(e)?Rs:Fn.current,i.context=nu(t,a)),mc(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(c0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yp.enqueueReplaceState(i,i.state,null),mc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Mh=Array.isArray;function of(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===H4&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function Dh(t,e){if(t.type!=="textarea")throw Error(Le(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function W4(t){function e(_,v){if(t){var g=_.lastEffect;g!==null?(g.nextEffect=v,_.lastEffect=v):_.firstEffect=_.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Bo(_,v),_.index=0,_.sibling=null,_}function a(_,v,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<v?(_.flags=2,v):g):(_.flags=2,v)):v}function o(_){return t&&_.alternate===null&&(_.flags=2),_}function s(_,v,g,y){return v===null||v.tag!==6?(v=Em(g,_.mode,y),v.return=_,v):(v=i(v,g),v.return=_,v)}function f(_,v,g,y){return v!==null&&v.elementType===g.type?(y=i(v,g.props),y.ref=of(_,v,g),y.return=_,y):(y=Nd(g.type,g.key,g.props,null,_.mode,y),y.ref=of(_,v,g),y.return=_,y)}function l(_,v,g,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=wm(g,_.mode,y),v.return=_,v):(v=i(v,g.children||[]),v.return=_,v)}function u(_,v,g,y,x){return v===null||v.tag!==7?(v=Hl(g,_.mode,y,x),v.return=_,v):(v=i(v,g),v.return=_,v)}function c(_,v,g){if(typeof v=="string"||typeof v=="number")return v=Em(""+v,_.mode,g),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pf:return g=Nd(v.type,v.key,v.props,null,_.mode,g),g.ref=of(_,null,v),g.return=_,g;case ds:return v=wm(v,_.mode,g),v.return=_,v}if(Mh(v)||Qu(v))return v=Hl(v,_.mode,g,null),v.return=_,v;Dh(_,v)}return null}function h(_,v,g,y){var x=v!==null?v.key:null;if(typeof g=="string"||typeof g=="number")return x!==null?null:s(_,v,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pf:return g.key===x?g.type===so?u(_,v,g.props.children,y,x):f(_,v,g,y):null;case ds:return g.key===x?l(_,v,g,y):null}if(Mh(g)||Qu(g))return x!==null?null:u(_,v,g,y,null);Dh(_,g)}return null}function p(_,v,g,y,x){if(typeof y=="string"||typeof y=="number")return _=_.get(g)||null,s(v,_,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pf:return _=_.get(y.key===null?g:y.key)||null,y.type===so?u(v,_,y.props.children,x,y.key):f(v,_,y,x);case ds:return _=_.get(y.key===null?g:y.key)||null,l(v,_,y,x)}if(Mh(y)||Qu(y))return _=_.get(g)||null,u(v,_,y,x,null);Dh(v,y)}return null}function d(_,v,g,y){for(var x=null,b=null,E=v,w=v=0,S=null;E!==null&&w<g.length;w++){E.index>w?(S=E,E=null):S=E.sibling;var C=h(_,E,g[w],y);if(C===null){E===null&&(E=S);break}t&&E&&C.alternate===null&&e(_,E),v=a(C,v,w),b===null?x=C:b.sibling=C,b=C,E=S}if(w===g.length)return r(_,E),x;if(E===null){for(;w<g.length;w++)E=c(_,g[w],y),E!==null&&(v=a(E,v,w),b===null?x=E:b.sibling=E,b=E);return x}for(E=n(_,E);w<g.length;w++)S=p(E,_,w,g[w],y),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?w:S.key),v=a(S,v,w),b===null?x=S:b.sibling=S,b=S);return t&&E.forEach(function(T){return e(_,T)}),x}function m(_,v,g,y){var x=Qu(g);if(typeof x!="function")throw Error(Le(150));if(g=x.call(g),g==null)throw Error(Le(151));for(var b=x=null,E=v,w=v=0,S=null,C=g.next();E!==null&&!C.done;w++,C=g.next()){E.index>w?(S=E,E=null):S=E.sibling;var T=h(_,E,C.value,y);if(T===null){E===null&&(E=S);break}t&&E&&T.alternate===null&&e(_,E),v=a(T,v,w),b===null?x=T:b.sibling=T,b=T,E=S}if(C.done)return r(_,E),x;if(E===null){for(;!C.done;w++,C=g.next())C=c(_,C.value,y),C!==null&&(v=a(C,v,w),b===null?x=C:b.sibling=C,b=C);return x}for(E=n(_,E);!C.done;w++,C=g.next())C=p(E,_,w,C.value,y),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?w:C.key),v=a(C,v,w),b===null?x=C:b.sibling=C,b=C);return t&&E.forEach(function(I){return e(_,I)}),x}return function(_,v,g,y){var x=typeof g=="object"&&g!==null&&g.type===so&&g.key===null;x&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case Pf:e:{for(b=g.key,x=v;x!==null;){if(x.key===b){switch(x.tag){case 7:if(g.type===so){r(_,x.sibling),v=i(x,g.props.children),v.return=_,_=v;break e}break;default:if(x.elementType===g.type){r(_,x.sibling),v=i(x,g.props),v.ref=of(_,x,g),v.return=_,_=v;break e}}r(_,x);break}else e(_,x);x=x.sibling}g.type===so?(v=Hl(g.props.children,_.mode,y,g.key),v.return=_,_=v):(y=Nd(g.type,g.key,g.props,null,_.mode,y),y.ref=of(_,v,g),y.return=_,_=y)}return o(_);case ds:e:{for(x=g.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(_,v.sibling),v=i(v,g.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=wm(g,_.mode,y),v.return=_,_=v}return o(_)}if(typeof g=="string"||typeof g=="number")return g=""+g,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,g),v.return=_,_=v):(r(_,v),v=Em(g,_.mode,y),v.return=_,_=v),o(_);if(Mh(g))return d(_,v,g,y);if(Qu(g))return m(_,v,g,y);if(b&&Dh(_,g),typeof g>"u"&&!x)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Le(152,Bl(_.type)||"Component"))}return r(_,v)}}var h0=W4(!0),Y4=W4(!1),sh={},fa=Go(sh),gc=Go(sh),_c=Go(sh);function ms(t){if(t===sh)throw Error(Le(174));return t}function Vy(t,e){switch(wr(_c,e),wr(gc,t),wr(fa,sh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ty(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ty(e,t)}or(fa),wr(fa,e)}function au(){or(fa),or(gc),or(_c)}function hT(t){ms(_c.current);var e=ms(fa.current),r=Ty(e,t.type);e!==r&&(wr(gc,t),wr(fa,r))}function OE(t){gc.current===t&&(or(fa),or(gc))}var Er=Go(0);function d0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ja=null,ho=null,ca=!1;function q4(t,e){var r=xi(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function dT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Gy(t){if(ca){var e=ho;if(e){var r=e;if(!dT(t,e)){if(e=jl(r.nextSibling),!e||!dT(t,e)){t.flags=t.flags&-1025|2,ca=!1,ja=t;return}q4(ja,r)}ja=t,ho=jl(e.firstChild)}else t.flags=t.flags&-1025|2,ca=!1,ja=t}}function pT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ja=t}function Uh(t){if(t!==ja)return!1;if(!ca)return pT(t),ca=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!My(e,t.memoizedProps))for(e=ho;e;)q4(t,e),e=jl(e.nextSibling);if(pT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ho=jl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ho=null}}else ho=ja?jl(t.stateNode.nextSibling):null;return!0}function _m(){ho=ja=null,ca=!1}var Vl=[];function kE(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var zf=js.ReactCurrentDispatcher,wi=js.ReactCurrentBatchConfig,yc=0,Fr=null,Pn=null,_n=null,p0=!1,Wf=!1;function Wn(){throw Error(Le(321))}function FE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yi(t[r],e[r]))return!1;return!0}function NE(t,e,r,n,i,a){if(yc=a,Fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?Uj:jj,t=r(n,i),Wf){a=0;do{if(Wf=!1,!(25>a))throw Error(Le(301));a+=1,_n=Pn=null,e.updateQueue=null,zf.current=$j,t=r(n,i)}while(Wf)}if(zf.current=_0,e=Pn!==null&&Pn.next!==null,yc=0,_n=Pn=Fr=null,p0=!1,e)throw Error(Le(300));return t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Fr.memoizedState=_n=t:_n=_n.next=t,_n}function Vs(){if(Pn===null){var t=Fr.alternate;t=t!==null?t.memoizedState:null}else t=Pn.next;var e=_n===null?Fr.memoizedState:_n.next;if(e!==null)_n=e,Pn=t;else{if(t===null)throw Error(Le(310));Pn=t,t={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},_n===null?Fr.memoizedState=_n=t:_n=_n.next=t}return _n}function sa(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=Vs(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Pn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,f=i;do{var l=f.lane;if((yc&l)===l)s!==null&&(s=s.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===t?f.eagerState:t(n,f.action);else{var u={lane:l,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Fr.lanes|=l,lh|=l}f=f.next}while(f!==null&&f!==i);s===null?a=n:s.next=o,yi(n,e.memoizedState)||(Gi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function lf(t){var e=Vs(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);yi(a,e.memoizedState)||(Gi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function vT(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(yc&t)===t)&&(e._workInProgressVersionPrimary=n,Vl.push(e))),t)return r(e._source);throw Vl.push(e),Error(Le(350))}function K4(t,e,r,n){var i=$n;if(i===null)throw Error(Le(349));var a=e._getVersion,o=a(e._source),s=zf.current,f=s.useState(function(){return vT(i,e,r)}),l=f[1],u=f[0];f=_n;var c=t.memoizedState,h=c.refs,p=h.getSnapshot,d=c.source;c=c.subscribe;var m=Fr;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var _=a(e._source);if(!yi(o,_)){_=r(e._source),yi(u,_)||(l(_),_=wo(m),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var v=i.entanglements,g=_;0<g;){var y=31-Fo(g),x=1<<y;v[y]|=_,g&=~x}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var _=h.getSnapshot,v=h.setSnapshot;try{v(_(e._source));var g=wo(m);i.mutableReadLanes|=g&i.pendingLanes}catch(y){v(function(){throw y})}})},[e,n]),yi(p,r)&&yi(d,e)&&yi(c,n)||(t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:u},t.dispatch=l=ME.bind(null,Fr,t),f.queue=t,f.baseQueue=null,u=vT(i,e,r),f.memoizedState=f.baseState=u),u}function Z4(t,e,r){var n=Vs();return K4(n,t,e,r)}function uf(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},t=t.dispatch=ME.bind(null,Fr,t),[e.memoizedState,t]}function v0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Fr.updateQueue,e===null?(e={lastEffect:null},Fr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mT(t){var e=gs();return t={current:t},e.memoizedState=t}function m0(){return Vs().memoizedState}function Xy(t,e,r,n){var i=gs();Fr.flags|=t,i.memoizedState=v0(1|e,r,void 0,n===void 0?null:n)}function LE(t,e,r,n){var i=Vs();n=n===void 0?null:n;var a=void 0;if(Pn!==null){var o=Pn.memoizedState;if(a=o.destroy,n!==null&&FE(n,o.deps)){v0(e,r,a,n);return}}Fr.flags|=t,i.memoizedState=v0(1|e,r,a,n)}function gT(t,e){return Xy(516,4,t,e)}function g0(t,e){return LE(516,4,t,e)}function J4(t,e){return LE(4,2,t,e)}function Q4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eN(t,e,r){return r=r!=null?r.concat([t]):null,LE(4,2,Q4.bind(null,e,t),r)}function BE(){}function tN(t,e){var r=Vs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function rN(t,e){var r=Vs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FE(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dj(t,e){var r=iu();Ps(98>r?98:r,function(){t(!0)}),Ps(97<r?97:r,function(){var n=wi.transition;wi.transition=1;try{t(!1),e()}finally{wi.transition=n}})}function ME(t,e,r){var n=oi(),i=wo(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Fr||o!==null&&o===Fr)Wf=p0=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,f=o(s,r);if(a.eagerReducer=o,a.eagerState=f,yi(f,s))return}catch{}finally{}So(t,i,n)}}var _0={readContext:Si,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useOpaqueIdentifier:Wn,unstable_isNewReconciler:!1},Uj={readContext:Si,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:Si,useEffect:gT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xy(4,2,Q4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xy(4,2,t,e)},useMemo:function(t,e){var r=gs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=gs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=ME.bind(null,Fr,t),[n.memoizedState,t]},useRef:mT,useState:uf,useDebugValue:BE,useDeferredValue:function(t){var e=uf(t),r=e[0],n=e[1];return gT(function(){var i=wi.transition;wi.transition=1;try{n(t)}finally{wi.transition=i}},[t]),r},useTransition:function(){var t=uf(!1),e=t[0];return t=Dj.bind(null,t[1]),mT(t),[t,e]},useMutableSource:function(t,e,r){var n=gs();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},K4(n,t,e,r)},useOpaqueIdentifier:function(){if(ca){var t=!1,e=kj(function(){throw t||(t=!0,r("r:"+(vm++).toString(36))),Error(Le(355))}),r=uf(e)[1];return!(Fr.mode&2)&&(Fr.flags|=516,v0(5,function(){r("r:"+(vm++).toString(36))},void 0,null)),e}return e="r:"+(vm++).toString(36),uf(e),e},unstable_isNewReconciler:!1},jj={readContext:Si,useCallback:tN,useContext:Si,useEffect:g0,useImperativeHandle:eN,useLayoutEffect:J4,useMemo:rN,useReducer:sf,useRef:m0,useState:function(){return sf(sa)},useDebugValue:BE,useDeferredValue:function(t){var e=sf(sa),r=e[0],n=e[1];return g0(function(){var i=wi.transition;wi.transition=1;try{n(t)}finally{wi.transition=i}},[t]),r},useTransition:function(){var t=sf(sa)[0];return[m0().current,t]},useMutableSource:Z4,useOpaqueIdentifier:function(){return sf(sa)[0]},unstable_isNewReconciler:!1},$j={readContext:Si,useCallback:tN,useContext:Si,useEffect:g0,useImperativeHandle:eN,useLayoutEffect:J4,useMemo:rN,useReducer:lf,useRef:m0,useState:function(){return lf(sa)},useDebugValue:BE,useDeferredValue:function(t){var e=lf(sa),r=e[0],n=e[1];return g0(function(){var i=wi.transition;wi.transition=1;try{n(t)}finally{wi.transition=i}},[t]),r},useTransition:function(){var t=lf(sa)[0];return[m0().current,t]},useMutableSource:Z4,useOpaqueIdentifier:function(){return lf(sa)[0]},unstable_isNewReconciler:!1},Vj=js.ReactCurrentOwner,Gi=!1;function Yn(t,e,r,n){e.child=t===null?Y4(e,null,r,n):h0(e,t.child,r,n)}function _T(t,e,r,n,i){r=r.render;var a=e.ref;return $l(e,i),n=NE(t,e,r,n,a,i),t!==null&&!Gi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,$a(t,e,i)):(e.flags|=1,Yn(t,e,n,i),e.child)}function yT(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!GE(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,nN(t,e,o,n,i,a)):(t=Nd(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:dc,r(i,n)&&t.ref===e.ref)?$a(t,e,a):(e.flags|=1,t=Bo(o,n),t.ref=e.ref,t.return=e,e.child=t)}function nN(t,e,r,n,i,a){if(t!==null&&dc(t.memoizedProps,n)&&t.ref===e.ref)if(Gi=!1,(a&i)!==0)t.flags&16384&&(Gi=!0);else return e.lanes=t.lanes,$a(t,e,a);return Hy(t,e,r,n,a)}function ym(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},$h(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},$h(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},$h(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$h(e,n);return Yn(t,e,i,r),e.child}function iN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Hy(t,e,r,n,i){var a=Qn(r)?Rs:Fn.current;return a=nu(e,a),$l(e,i),r=NE(t,e,r,n,a,i),t!==null&&!Gi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,$a(t,e,i)):(e.flags|=1,Yn(t,e,r,i),e.child)}function xT(t,e,r,n,i){if(Qn(r)){var a=!0;Rd(e)}else a=!1;if($l(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),z4(e,r,n),$y(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var f=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Si(l):(l=Qn(r)?Rs:Fn.current,l=nu(e,l));var u=r.getDerivedStateFromProps,c=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||f!==l)&&cT(e,o,n,l),io=!1;var h=e.memoizedState;o.state=h,mc(e,n,o,i),f=e.memoizedState,s!==n||h!==f||Jn.current||io?(typeof u=="function"&&(c0(e,r,u,n),f=e.memoizedState),(s=io||fT(e,r,s,n,h,f,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,X4(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Ui(e.type,s),o.props=l,c=e.pendingProps,h=o.context,f=r.contextType,typeof f=="object"&&f!==null?f=Si(f):(f=Qn(r)?Rs:Fn.current,f=nu(e,f));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||h!==f)&&cT(e,o,n,f),io=!1,h=e.memoizedState,o.state=h,mc(e,n,o,i);var d=e.memoizedState;s!==c||h!==d||Jn.current||io?(typeof p=="function"&&(c0(e,r,p,n),d=e.memoizedState),(l=io||fT(e,r,l,n,h,d,f))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=f,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return zy(t,e,r,n,a,i)}function zy(t,e,r,n,i,a){iN(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&aT(e,r,!1),$a(t,e,a);n=e.stateNode,Vj.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=h0(e,t.child,null,a),e.child=h0(e,null,s,a)):Yn(t,e,s,a),e.memoizedState=n.state,i&&aT(e,r,!0),e.child}function bT(t){var e=t.stateNode;e.pendingContext?iT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iT(t,e.context,!1),Vy(t,e.containerInfo)}var jh={dehydrated:null,retryLane:0};function ET(t,e,r){var n=e.pendingProps,i=Er.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),wr(Er,i&1),t===null?(n.fallback!==void 0&&Gy(e),t=n.children,i=n.fallback,a?(t=wT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=jh,t):typeof n.unstable_expectedLoadTime=="number"?(t=wT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=jh,e.lanes=33554432,t):(r=XE({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=CT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=jh,n):(r=ST(t,e,n.children,r),e.memoizedState=null,r):a?(n=CT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=jh,n):(r=ST(t,e,n.children,r),e.memoizedState=null,r)}function wT(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=XE(e,i,0,null),r=Hl(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function ST(t,e,r,n){var i=t.child;return t=i.sibling,r=Bo(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function CT(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Bo(o,s),t!==null?n=Bo(t,n):(n=Hl(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function TT(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),G4(t.return,e)}function xm(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function AT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Yn(t,e,n.children,r),n=Er.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TT(t,r);else if(t.tag===19)TT(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wr(Er,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&d0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),xm(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&d0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}xm(e,!0,r,null,a,e.lastEffect);break;case"together":xm(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function $a(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),lh|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=Bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var aN,Wy,oN,sN;aN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wy=function(){};oN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ms(fa.current);var a=null;switch(r){case"input":i=xy(t,i),n=xy(t,n),a=[];break;case"option":i=wy(t,i),n=wy(t,n),a=[];break;case"select":i=hr({},i,{value:void 0}),n=hr({},n,{value:void 0}),a=[];break;case"textarea":i=Sy(t,i),n=Sy(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=a0)}Ay(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(oc.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var f=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&f!==s&&(f!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in f)f.hasOwnProperty(o)&&s[o]!==f[o]&&(r||(r={}),r[o]=f[o])}else r||(a||(a=[]),a.push(l,r)),r=f;else l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,s=s?s.__html:void 0,f!=null&&s!==f&&(a=a||[]).push(l,f)):l==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(l,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(oc.hasOwnProperty(l)?(f!=null&&l==="onScroll"&&ir("scroll",t),a||s===f||(a=[])):typeof f=="object"&&f!==null&&f.$$typeof===fE?f.toString():(a=a||[]).push(l,f))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};sN=function(t,e,r,n){r!==n&&(e.flags|=4)};function ff(t,e){if(!ca)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gj(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Qn(e.type)&&s0(),null;case 3:return au(),or(Jn),or(Fn),kE(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uh(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Wy(e),null;case 5:OE(e);var i=ms(_c.current);if(r=e.type,t!==null&&e.stateNode!=null)oN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return null}if(t=ms(fa.current),Uh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[co]=e,n[o0]=a,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(t=0;t<kf.length;t++)ir(kf[t],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":AC(n,a),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ir("invalid",n);break;case"textarea":RC(n,a),ir("invalid",n)}Ay(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):oc.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ir("scroll",n));switch(r){case"input":Fh(n),IC(n,a,!0);break;case"textarea":Fh(n),PC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=a0)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Cy.html&&(t=e4(r)),t===Cy.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[co]=e,t[o0]=n,aN(t,e,!1,!1),e.stateNode=t,o=Iy(r,n),r){case"dialog":ir("cancel",t),ir("close",t),i=n;break;case"iframe":case"object":case"embed":ir("load",t),i=n;break;case"video":case"audio":for(i=0;i<kf.length;i++)ir(kf[i],t);i=n;break;case"source":ir("error",t),i=n;break;case"img":case"image":case"link":ir("error",t),ir("load",t),i=n;break;case"details":ir("toggle",t),i=n;break;case"input":AC(t,n),i=xy(t,n),ir("invalid",t);break;case"option":i=wy(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=hr({},n,{value:void 0}),ir("invalid",t);break;case"textarea":RC(t,n),i=Sy(t,n),ir("invalid",t);break;default:i=n}Ay(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var f=s[a];a==="style"?n4(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&t4(t,f)):a==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&sc(t,f):typeof f=="number"&&sc(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oc.hasOwnProperty(a)?f!=null&&a==="onScroll"&&ir("scroll",t):f!=null&&iE(t,a,f,o))}switch(r){case"input":Fh(t),IC(t,n,!1);break;case"textarea":Fh(t),PC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ko(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ml(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ml(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=a0)}N4(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)sN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));r=ms(_c.current),ms(fa.current),Uh(e)?(n=e.stateNode,r=e.memoizedProps,n[co]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[co]=e,e.stateNode=n)}return null;case 13:return or(Er),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Uh(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Er.current&1?En===0&&(En=3):((En===0||En===3)&&(En=4),$n===null||!(lh&134217727)&&!(Au&134217727)||Gl($n,kn))),(n||r)&&(e.flags|=4),null);case 4:return au(),Wy(e),t===null&&O4(e.stateNode.containerInfo),null;case 10:return RE(e),null;case 17:return Qn(e.type)&&s0(),null;case 19:if(or(Er),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)ff(n,!1);else{if(En!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=d0(t),o!==null){for(e.flags|=64,ff(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wr(Er,Er.current&1|2),e.child}t=t.sibling}n.tail!==null&&On()>Qy&&(e.flags|=64,a=!0,ff(n,!1),e.lanes=33554432)}else{if(!a)if(t=d0(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ff(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!ca)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*On()-n.renderingStartTime>Qy&&r!==1073741824&&(e.flags|=64,a=!0,ff(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=On(),r.sibling=null,e=Er.current,wr(Er,a?e&1|2:e&1),r):null;case 23:case 24:return VE(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Le(156,e.tag))}function Xj(t){switch(t.tag){case 1:Qn(t.type)&&s0();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(au(),or(Jn),or(Fn),kE(),e=t.flags,e&64)throw Error(Le(285));return t.flags=e&-4097|64,t;case 5:return OE(t),null;case 13:return or(Er),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return or(Er),null;case 4:return au(),null;case 10:return RE(t),null;case 23:case 24:return VE(),null;default:return null}}function DE(t,e){try{var r="",n=e;do r+=SU(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function Yy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Hj=typeof WeakMap=="function"?WeakMap:Map;function lN(t,e,r){r=bo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){x0||(x0=!0,ex=n),Yy(t,e)},r}function uN(t,e,r){r=bo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Yy(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(la===null?la=new Set([this]):la.add(this),Yy(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var zj=typeof WeakSet=="function"?WeakSet:Set;function IT(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Co(t,r)}else e.current=null}function Wj(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Ui(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&CE(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Le(163))}function Yj(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(_N(r,t),r9(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Ui(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&uT(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}uT(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&N4(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&d4(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Le(163))}function RT(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=r4("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function PT(t,e){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(TE,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)_N(e,r);else{n=e;try{i()}catch(a){Co(n,a)}}r=r.next}while(r!==t)}break;case 1:if(IT(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){Co(e,a)}break;case 5:IT(e);break;case 4:fN(t,e)}}function OT(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function kT(t){return t.tag===5||t.tag===3||t.tag===4}function FT(t){e:{for(var e=t.return;e!==null;){if(kT(e))break e;e=e.return}throw Error(Le(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Le(161))}r.flags&16&&(sc(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||kT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?qy(t,r,e):Ky(t,r,e)}function qy(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=a0));else if(n!==4&&(t=t.child,t!==null))for(qy(t,e,r),t=t.sibling;t!==null;)qy(t,e,r),t=t.sibling}function Ky(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ky(t,e,r),t=t.sibling;t!==null;)Ky(t,e,r),t=t.sibling}function fN(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Le(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,f=s;;)if(PT(o,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(PT(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function bm(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[o0]=n,t==="input"&&n.type==="radio"&&n.name!=null&&JF(r,n),Iy(t,i),e=Iy(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?n4(r,s):o==="dangerouslySetInnerHTML"?t4(r,s):o==="children"?sc(r,s):iE(r,o,s,e)}switch(t){case"input":by(r,n);break;case"textarea":QF(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Ml(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Ml(r,!!n.multiple,n.defaultValue,!0):Ml(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Le(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,d4(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&($E=On(),RT(e.child,!0)),NT(e);return;case 19:NT(e);return;case 17:return;case 23:case 24:RT(e,e.memoizedState!==null);return}throw Error(Le(163))}function NT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zj),e.forEach(function(n){var i=a9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qj(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Kj=Math.ceil,y0=js.ReactCurrentDispatcher,UE=js.ReactCurrentOwner,ct=0,$n=null,Kr=null,kn=0,Os=0,Zy=Go(0),En=0,xp=null,Tu=0,lh=0,Au=0,jE=0,Jy=null,$E=0,Qy=1/0;function Iu(){Qy=On()+500}var We=null,x0=!1,ex=null,la=null,Lo=!1,Yf=null,Ff=90,tx=[],rx=[],Xa=null,qf=0,nx=null,Od=-1,Da=0,kd=0,Kf=null,Fd=!1;function oi(){return ct&48?On():Od!==-1?Od:Od=On()}function wo(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return iu()===99?1:2;if(Da===0&&(Da=Tu),Mj.transition!==0){kd!==0&&(kd=Jy!==null?Jy.pendingLanes:0),t=Da;var e=4186112&~kd;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=iu(),ct&4&&t===98?t=n0(12,Da):(t=jU(t),t=n0(t,Da)),t}function So(t,e,r){if(50<qf)throw qf=0,nx=null,Error(Le(185));if(t=bp(t,e),t===null)return null;dp(t,e,r),t===$n&&(Au|=e,En===4&&Gl(t,kn));var n=iu();e===1?ct&8&&!(ct&48)?ix(t):(Ci(t,r),ct===0&&(Iu(),Ea())):(!(ct&4)||n!==98&&n!==99||(Xa===null?Xa=new Set([t]):Xa.add(t)),Ci(t,r)),Jy=t}function bp(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Ci(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Fo(o),f=1<<s,l=a[s];if(l===-1){if(!(f&n)||f&i){l=e,xl(f);var u=tr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=f);o&=~f}if(n=cc(t,t===$n?kn:0),e=tr,n===0)r!==null&&(r!==mm&&Uy(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==mm&&Uy(r)}e===15?(r=ix.bind(null,t),Ba===null?(Ba=[r],Pd=AE(_p,V4)):Ba.push(r),r=mm):e===14?r=vc(99,ix.bind(null,t)):(r=$U(e),r=vc(r,cN.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function cN(t){if(Od=-1,kd=Da=0,ct&48)throw Error(Le(327));var e=t.callbackNode;if(Xo()&&t.callbackNode!==e)return null;var r=cc(t,t===$n?kn:0);if(r===0)return null;var n=r,i=ct;ct|=16;var a=vN();($n!==t||kn!==n)&&(Iu(),Xl(t,n));do try{Qj();break}catch(s){pN(t,s)}while(1);if(IE(),y0.current=a,ct=i,Kr!==null?n=0:($n=null,kn=0,n=En),Tu&Au)Xl(t,0);else if(n!==0){if(n===2&&(ct|=64,t.hydrate&&(t.hydrate=!1,CE(t.containerInfo)),r=x4(t),r!==0&&(n=Nf(t,r))),n===1)throw e=xp,Xl(t,0),Gl(t,r),Ci(t,On()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Le(345));case 2:is(t);break;case 3:if(Gl(t,r),(r&62914560)===r&&(n=$E+500-On(),10<n)){if(cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tT(is.bind(null,t),n);break}is(t);break;case 4:if(Gl(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Fo(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kj(r/1960))-r,10<r){t.timeoutHandle=tT(is.bind(null,t),r);break}is(t);break;case 5:is(t);break;default:throw Error(Le(329))}}return Ci(t,On()),t.callbackNode===e?cN.bind(null,t):null}function Gl(t,e){for(e&=~jE,e&=~Au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fo(e),n=1<<r;t[r]=-1,e&=~n}}function ix(t){if(ct&48)throw Error(Le(327));if(Xo(),t===$n&&t.expiredLanes&kn){var e=kn,r=Nf(t,e);Tu&Au&&(e=cc(t,e),r=Nf(t,e))}else e=cc(t,0),r=Nf(t,e);if(t.tag!==0&&r===2&&(ct|=64,t.hydrate&&(t.hydrate=!1,CE(t.containerInfo)),e=x4(t),e!==0&&(r=Nf(t,e))),r===1)throw r=xp,Xl(t,0),Gl(t,e),Ci(t,On()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t),Ci(t,On()),null}function Zj(){if(Xa!==null){var t=Xa;Xa=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ci(e,On())})}Ea()}function hN(t,e){var r=ct;ct|=1;try{return t(e)}finally{ct=r,ct===0&&(Iu(),Ea())}}function dN(t,e){var r=ct;ct&=-2,ct|=8;try{return t(e)}finally{ct=r,ct===0&&(Iu(),Ea())}}function $h(t,e){wr(Zy,Os),Os|=e,Tu|=e}function VE(){Os=Zy.current,or(Zy)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Oj(r)),Kr!==null)for(r=Kr.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&s0();break;case 3:au(),or(Jn),or(Fn),kE();break;case 5:OE(n);break;case 4:au();break;case 13:or(Er);break;case 19:or(Er);break;case 10:RE(n);break;case 23:case 24:VE()}r=r.return}$n=t,Kr=Bo(t.current,null),kn=Os=Tu=e,En=0,xp=null,jE=Au=lh=0}function pN(t,e){do{var r=Kr;try{if(IE(),zf.current=_0,p0){for(var n=Fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}p0=!1}if(yc=0,_n=Pn=Fr=null,Wf=!1,UE.current=null,r===null||r.return===null){En=1,xp=e,Kr=null;break}e:{var a=t,o=r.return,s=r,f=e;if(e=kn,s.flags|=2048,s.firstEffect=s.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var l=f;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=(Er.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var m=h.memoizedProps;p=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!c}}if(p){var _=h.updateQueue;if(_===null){var v=new Set;v.add(l),h.updateQueue=v}else _.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=bo(-1,1);g.tag=2,Eo(s,g)}s.lanes|=1;break e}f=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new Hj,f=new Set,y.set(l,f)):(f=y.get(l),f===void 0&&(f=new Set,y.set(l,f))),!f.has(s)){f.add(s);var x=i9.bind(null,a,l,s);l.then(x,x)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);f=Error((Bl(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}En!==5&&(En=2),f=DE(f,s),h=o;do{switch(h.tag){case 3:a=f,h.flags|=4096,e&=-e,h.lanes|=e;var b=lN(h,a,e);lT(h,b);break e;case 1:a=f;var E=h.type,w=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(la===null||!la.has(w)))){h.flags|=4096,e&=-e,h.lanes|=e;var S=uN(h,a,e);lT(h,S);break e}}h=h.return}while(h!==null)}gN(r)}catch(C){e=C,Kr===r&&r!==null&&(Kr=r=r.return);continue}break}while(1)}function vN(){var t=y0.current;return y0.current=_0,t===null?_0:t}function Nf(t,e){var r=ct;ct|=16;var n=vN();$n===t&&kn===e||Xl(t,e);do try{Jj();break}catch(i){pN(t,i)}while(1);if(IE(),ct=r,y0.current=n,Kr!==null)throw Error(Le(261));return $n=null,kn=0,En}function Jj(){for(;Kr!==null;)mN(Kr)}function Qj(){for(;Kr!==null&&!Nj();)mN(Kr)}function mN(t){var e=yN(t.alternate,t,Os);t.memoizedProps=t.pendingProps,e===null?gN(t):Kr=e,UE.current=null}function gN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=Xj(e),r!==null){r.flags&=2047,Kr=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=Gj(r,e,Os),r!==null){Kr=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Os&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=t}while(e!==null);En===0&&(En=5)}function is(t){var e=iu();return Ps(99,e9.bind(null,t,e)),null}function e9(t,e){do Xo();while(Yf!==null);if(ct&48)throw Error(Le(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var f=31-Fo(a),l=1<<f;i[f]=0,o[f]=-1,s[f]=-1,a&=~l}if(Xa!==null&&!(n&24)&&Xa.has(t)&&Xa.delete(t),t===$n&&(Kr=$n=null,kn=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=ct,ct|=32,UE.current=null,dm=Td,o=YC(),Ny(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,f=l.focusNode,l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var u=0,c=-1,h=-1,p=0,d=0,m=o,_=null;t:for(;;){for(var v;m!==s||a!==0&&m.nodeType!==3||(c=u+a),m!==f||l!==0&&m.nodeType!==3||(h=u+l),m.nodeType===3&&(u+=m.nodeValue.length),(v=m.firstChild)!==null;)_=m,m=v;for(;;){if(m===o)break t;if(_===s&&++p===a&&(c=u),_===f&&++d===l&&(h=u),(v=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=v}s=c===-1||h===-1?null:{start:c,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;pm={focusedElem:o,selectionRange:s},Td=!1,Kf=null,Fd=!1,We=n;do try{t9()}catch(C){if(We===null)throw Error(Le(330));Co(We,C),We=We.nextEffect}while(We!==null);Kf=null,We=n;do try{for(o=t;We!==null;){var g=We.flags;if(g&16&&sc(We.stateNode,""),g&128){var y=We.alternate;if(y!==null){var x=y.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(g&1038){case 2:FT(We),We.flags&=-3;break;case 6:FT(We),We.flags&=-3,bm(We.alternate,We);break;case 1024:We.flags&=-1025;break;case 1028:We.flags&=-1025,bm(We.alternate,We);break;case 4:bm(We.alternate,We);break;case 8:s=We,fN(o,s);var b=s.alternate;OT(s),b!==null&&OT(b)}We=We.nextEffect}}catch(C){if(We===null)throw Error(Le(330));Co(We,C),We=We.nextEffect}while(We!==null);if(x=pm,y=YC(),g=x.focusedElem,o=x.selectionRange,y!==g&&g&&g.ownerDocument&&I4(g.ownerDocument.documentElement,g)){for(o!==null&&Ny(g)&&(y=o.start,x=o.end,x===void 0&&(x=y),"selectionStart"in g?(g.selectionStart=y,g.selectionEnd=Math.min(x,g.value.length)):(x=(y=g.ownerDocument||document)&&y.defaultView||window,x.getSelection&&(x=x.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!x.extend&&b>o&&(s=o,o=b,b=s),s=WC(g,b),a=WC(g,o),s&&a&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),x.removeAllRanges(),b>o?(x.addRange(y),x.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),x.addRange(y)))))),y=[],x=g;x=x.parentNode;)x.nodeType===1&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<y.length;g++)x=y[g],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Td=!!dm,pm=dm=null,t.current=r,We=n;do try{for(g=t;We!==null;){var E=We.flags;if(E&36&&Yj(g,We.alternate,We),E&128){y=void 0;var w=We.ref;if(w!==null){var S=We.stateNode;switch(We.tag){case 5:y=S;break;default:y=S}typeof w=="function"?w(y):w.current=y}}We=We.nextEffect}}catch(C){if(We===null)throw Error(Le(330));Co(We,C),We=We.nextEffect}while(We!==null);We=null,Bj(),ct=i}else t.current=r;if(Lo)Lo=!1,Yf=t,Ff=e;else for(We=n;We!==null;)e=We.nextEffect,We.nextEffect=null,We.flags&8&&(E=We,E.sibling=null,E.stateNode=null),We=e;if(n=t.pendingLanes,n===0&&(la=null),n===1?t===nx?qf++:(qf=0,nx=t):qf=0,r=r.stateNode,ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(TE,r,void 0,(r.current.flags&64)===64)}catch{}if(Ci(t,On()),x0)throw x0=!1,t=ex,ex=null,t;return ct&8||Ea(),null}function t9(){for(;We!==null;){var t=We.alternate;Fd||Kf===null||(We.flags&8?FC(We,Kf)&&(Fd=!0):We.tag===13&&qj(t,We)&&FC(We,Kf)&&(Fd=!0));var e=We.flags;e&256&&Wj(t,We),!(e&512)||Lo||(Lo=!0,vc(97,function(){return Xo(),null})),We=We.nextEffect}}function Xo(){if(Ff!==90){var t=97<Ff?97:Ff;return Ff=90,Ps(t,n9)}return!1}function r9(t,e){tx.push(e,t),Lo||(Lo=!0,vc(97,function(){return Xo(),null}))}function _N(t,e){rx.push(e,t),Lo||(Lo=!0,vc(97,function(){return Xo(),null}))}function n9(){if(Yf===null)return!1;var t=Yf;if(Yf=null,ct&48)throw Error(Le(331));var e=ct;ct|=32;var r=rx;rx=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(f){if(a===null)throw Error(Le(330));Co(a,f)}}for(r=tx,tx=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(f){if(a===null)throw Error(Le(330));Co(a,f)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return ct=e,Ea(),!0}function LT(t,e,r){e=DE(r,e),e=lN(t,e,1),Eo(t,e),e=oi(),t=bp(t,1),t!==null&&(dp(t,1,e),Ci(t,e))}function Co(t,e){if(t.tag===3)LT(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){LT(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(la===null||!la.has(n))){t=DE(e,t);var i=uN(r,t,1);if(Eo(r,i),i=oi(),r=bp(r,1),r!==null)dp(r,1,i),Ci(r,i);else if(typeof n.componentDidCatch=="function"&&(la===null||!la.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function i9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&r,$n===t&&(kn&r)===r&&(En===4||En===3&&(kn&62914560)===kn&&500>On()-$E?Xl(t,0):jE|=r),Ci(t,e)}function a9(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Da===0&&(Da=Tu),e=bl(62914560&~Da),e===0&&(e=4194304)):e=iu()===99?1:2:e=1),r=oi(),t=bp(t,e),t!==null&&(dp(t,e,r),Ci(t,r))}var yN;yN=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Gi=!0;else if(r&n)Gi=!!(t.flags&16384);else{switch(Gi=!1,e.tag){case 3:bT(e),_m();break;case 5:hT(e);break;case 1:Qn(e.type)&&Rd(e);break;case 4:Vy(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;wr(l0,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?ET(t,e,r):(wr(Er,Er.current&1),e=$a(t,e,r),e!==null?e.sibling:null);wr(Er,Er.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return AT(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wr(Er,Er.current),n)break;return null;case 23:case 24:return e.lanes=0,ym(t,e,r)}return $a(t,e,r)}else Gi=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=nu(e,Fn.current),$l(e,r),i=NE(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(n)){var a=!0;Rd(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PE(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&c0(e,n,o,t),i.updater=yp,e.stateNode=i,i._reactInternals=e,$y(e,n,t,r),e=zy(null,e,n,!0,a,r)}else e.tag=0,Yn(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=s9(i),t=Ui(i,t),a){case 0:e=Hy(null,e,i,t,r);break e;case 1:e=xT(null,e,i,t,r);break e;case 11:e=_T(null,e,i,t,r);break e;case 14:e=yT(null,e,i,Ui(i.type,t),n,r);break e}throw Error(Le(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ui(n,i),Hy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ui(n,i),xT(t,e,n,i,r);case 3:if(bT(e),n=e.updateQueue,t===null||n===null)throw Error(Le(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,X4(t,e),mc(e,n,null,r),n=e.memoizedState.element,n===i)_m(),e=$a(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(ho=jl(e.stateNode.containerInfo.firstChild),ja=e,a=ca=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Vl.push(a);for(r=Y4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Yn(t,e,n,r),_m();e=e.child}return e;case 5:return hT(e),t===null&&Gy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,My(n,i)?o=null:a!==null&&My(n,a)&&(e.flags|=16),iN(t,e),Yn(t,e,o,r),e.child;case 6:return t===null&&Gy(e),null;case 13:return ET(t,e,r);case 4:return Vy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=h0(e,null,n,r):Yn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ui(n,i),_T(t,e,n,i,r);case 7:return Yn(t,e,e.pendingProps,r),e.child;case 8:return Yn(t,e,e.pendingProps.children,r),e.child;case 12:return Yn(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(wr(l0,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=yi(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Jn.current){e=$a(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var f=s.dependencies;if(f!==null){o=s.child;for(var l=f.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=bo(-1,r&-r),l.tag=2,Eo(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),G4(s.return,r),f.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,$l(e,r),i=Si(i,a.unstable_observedBits),n=n(i),e.flags|=1,Yn(t,e,n,r),e.child;case 14:return i=e.type,a=Ui(i,e.pendingProps),a=Ui(i.type,a),yT(t,e,i,a,n,r);case 15:return nN(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ui(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Qn(n)?(t=!0,Rd(e)):t=!1,$l(e,r),z4(e,n,i),$y(e,n,i,r),zy(null,e,n,!0,t,r);case 19:return AT(t,e,r);case 23:return ym(t,e,r);case 24:return ym(t,e,r)}throw Error(Le(156,e.tag))};function o9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,r,n){return new o9(t,e,r,n)}function GE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s9(t){if(typeof t=="function")return GE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fp)return 11;if(t===cp)return 14}return 2}function Bo(t,e){var r=t.alternate;return r===null?(r=xi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")GE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return Hl(r.children,i,a,e);case qF:o=8,i|=16;break;case aE:o=8,i|=1;break;case Uf:return t=xi(12,r,e,i|8),t.elementType=Uf,t.type=Uf,t.lanes=a,t;case jf:return t=xi(13,r,e,i),t.type=jf,t.elementType=jf,t.lanes=a,t;case Qd:return t=xi(19,r,e,i),t.elementType=Qd,t.lanes=a,t;case cE:return XE(r,i,a,e);case yy:return t=xi(24,r,e,i),t.elementType=yy,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oE:o=10;break e;case sE:o=9;break e;case fp:o=11;break e;case cp:o=14;break e;case lE:o=16,n=null;break e;case uE:o=22;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=xi(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Hl(t,e,r,n){return t=xi(7,t,n,e),t.lanes=r,t}function XE(t,e,r,n){return t=xi(23,t,n,e),t.elementType=cE,t.lanes=r,t}function Em(t,e,r){return t=xi(6,t,null,e),t.lanes=r,t}function wm(t,e,r){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l9(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.mutableSourceEagerHydrationData=null}function u9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function b0(t,e,r,n){var i=e.current,a=oi(),o=wo(i);e:if(r){r=r._reactInternals;t:{if($s(r)!==r||r.tag!==1)throw Error(Le(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Qn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Le(171))}if(r.tag===1){var f=r.type;if(Qn(f)){r=B4(r,f,s);break e}}r=s}else r=No;return e.context===null?e.context=r:e.pendingContext=r,e=bo(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Eo(i,e),So(i,o,a),o}function Sm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function HE(t,e){BT(t,e),(t=t.alternate)&&BT(t,e)}function f9(){return null}function zE(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new l9(t,e,r!=null&&r.hydrate===!0),e=xi(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,PE(e),t[Cu]=r.current,O4(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}zE.prototype.render=function(t){b0(t,this._internalRoot,null,null)};zE.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;b0(null,t,null,function(){e[Cu]=null})};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c9(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new zE(t,0,e?{hydrate:!0}:void 0)}function Ep(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=Sm(o);s.call(l)}}b0(e,o,t,i)}else{if(a=r._reactRootContainer=c9(r,n),o=a._internalRoot,typeof i=="function"){var f=i;i=function(){var l=Sm(o);f.call(l)}}dN(function(){b0(e,o,t,i)})}return Sm(o)}f4=function(t){if(t.tag===13){var e=oi();So(t,4,e),HE(t,4)}};mE=function(t){if(t.tag===13){var e=oi();So(t,67108864,e),HE(t,67108864)}};c4=function(t){if(t.tag===13){var e=oi(),r=wo(t);So(t,r,e),HE(t,r)}};h4=function(t,e){return e()};Ry=function(t,e,r){switch(e){case"input":if(by(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=gp(n);if(!i)throw Error(Le(90));ZF(n),by(n,i)}}}break;case"textarea":QF(t,r);break;case"select":e=r.value,e!=null&&Ml(t,!!r.multiple,e,!1)}};dE=hN;o4=function(t,e,r,n,i){var a=ct;ct|=4;try{return Ps(98,t.bind(null,e,r,n,i))}finally{ct=a,ct===0&&(Iu(),Ea())}};pE=function(){!(ct&49)&&(Zj(),Xo())};s4=function(t,e){var r=ct;ct|=2;try{return t(e)}finally{ct=r,ct===0&&(Iu(),Ea())}};function xN(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(e))throw Error(Le(200));return u9(t,e,null,r)}var h9={Events:[oh,Tl,gp,i4,a4,Xo,{current:!1}]},cf={findFiberByHostInstance:vs,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},d9={bundleType:cf.bundleType,version:cf.version,rendererPackageName:cf.rendererPackageName,rendererConfig:cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u4(t),t===null?null:t.stateNode},findFiberByHostInstance:cf.findFiberByHostInstance||f9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{TE=Vh.inject(d9),ws=Vh}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h9;Ti.createPortal=xN;Ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):Error(Le(268,Object.keys(t)));return t=u4(e),t=t===null?null:t.stateNode,t};Ti.flushSync=function(t,e){var r=ct;if(r&48)return t(e);ct|=1;try{if(t)return Ps(99,t.bind(null,e))}finally{ct=r,Ea()}};Ti.hydrate=function(t,e,r){if(!uh(e))throw Error(Le(200));return Ep(null,t,e,!0,r)};Ti.render=function(t,e,r){if(!uh(e))throw Error(Le(200));return Ep(null,t,e,!1,r)};Ti.unmountComponentAtNode=function(t){if(!uh(t))throw Error(Le(40));return t._reactRootContainer?(dN(function(){Ep(null,null,t,!1,function(){t._reactRootContainer=null,t[Cu]=null})}),!0):!1};Ti.unstable_batchedUpdates=hN;Ti.unstable_createPortal=function(t,e){return xN(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ti.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!uh(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return Ep(t,e,r,!1,n)};Ti.version="17.0.2";function bN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bN)}catch(t){console.error(t)}}bN(),HF.exports=Ti;var EN=HF.exports;const ks=Cn(EN);const p9="_Title_main_170by_1",v9="_Title_buttonList_170by_8",m9="_Title_button_170by_8",g9="_Title_button_text_170by_39",_9="_Title_button_custom_170by_46",y9="_Title_backup_background_170by_65",rl={Title_main:p9,Title_buttonList:v9,Title_button:m9,Title_button_text:g9,Title_button_custom:_9,Title_backup_background:y9};function Vi(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mo(t){return!!t&&!!t[ur]}function Wa(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===I9}(t)||Array.isArray(t)||!!t[GT]||!!(!((e=t.constructor)===null||e===void 0)&&e[GT])||WE(t)||YE(t))}function Fs(t,e,r){r===void 0&&(r=!1),Ru(t)===0?(r?Object.keys:Wl)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Ru(t){var e=t[ur];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:WE(t)?2:YE(t)?3:0}function zl(t,e){return Ru(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x9(t,e){return Ru(t)===2?t.get(e):t[e]}function wN(t,e,r){var n=Ru(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function SN(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function WE(t){return T9&&t instanceof Map}function YE(t){return A9&&t instanceof Set}function as(t){return t.o||t.t}function qE(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=TN(t);delete e[ur];for(var r=Wl(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function KE(t,e){return e===void 0&&(e=!1),ZE(t)||Mo(t)||!Wa(t)||(Ru(t)>1&&(t.set=t.add=t.clear=t.delete=b9),Object.freeze(t),e&&Fs(t,function(r,n){return KE(n,!0)},!0)),t}function b9(){Vi(2)}function ZE(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ha(t){var e=lx[t];return e||Vi(18,t),e}function E9(t,e){lx[t]||(lx[t]=e)}function ax(){return xc}function Cm(t,e){e&&(ha("Patches"),t.u=[],t.s=[],t.v=e)}function E0(t){ox(t),t.p.forEach(w9),t.p=null}function ox(t){t===xc&&(xc=t.l)}function MT(t){return xc={p:[],l:xc,h:t,m:!0,_:0}}function w9(t){var e=t[ur];e.i===0||e.i===1?e.j():e.g=!0}function Tm(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||ha("ES5").S(e,t,n),n?(r[ur].P&&(E0(e),Vi(4)),Wa(t)&&(t=w0(e,t),e.l||S0(e,t)),e.u&&ha("Patches").M(r[ur].t,t,e.u,e.s)):t=w0(e,r,[]),E0(e),e.u&&e.v(e.u,e.s),t!==CN?t:void 0}function w0(t,e,r){if(ZE(e))return e;var n=e[ur];if(!n)return Fs(e,function(s,f){return DT(t,n,e,s,f,r)},!0),e;if(n.A!==t)return e;if(!n.P)return S0(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=qE(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),Fs(a,function(s,f){return DT(t,n,i,s,f,r,o)}),S0(t,i,!1),r&&t.u&&ha("Patches").N(n,r,t.u,t.s)}return n.o}function DT(t,e,r,n,i,a,o){if(Mo(i)){var s=w0(t,i,a&&e&&e.i!==3&&!zl(e.R,n)?a.concat(n):void 0);if(wN(r,n,s),!Mo(s))return;t.m=!1}else o&&r.add(i);if(Wa(i)&&!ZE(i)){if(!t.h.D&&t._<1)return;w0(t,i),e&&e.A.l||S0(t,i)}}function S0(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&KE(e,r)}function Am(t,e){var r=t[ur];return(r?as(r):t)[e]}function UT(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function lo(t){t.P||(t.P=!0,t.l&&lo(t.l))}function Im(t){t.o||(t.o=qE(t.t))}function sx(t,e,r){var n=WE(e)?ha("MapSet").F(e,r):YE(e)?ha("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:ax(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},f=s,l=bc;o&&(f=[s],l=Lf);var u=Proxy.revocable(f,l),c=u.revoke,h=u.proxy;return s.k=h,s.j=c,h}(e,r):ha("ES5").J(e,r);return(r?r.A:ax()).p.push(n),n}function S9(t){return Mo(t)||Vi(22,t),function e(r){if(!Wa(r))return r;var n,i=r[ur],a=Ru(r);if(i){if(!i.P&&(i.i<4||!ha("ES5").K(i)))return i.t;i.I=!0,n=jT(r,a),i.I=!1}else n=jT(r,a);return Fs(n,function(o,s){i&&x9(i.t,o)===s||wN(n,o,e(s))}),a===3?new Set(n):n}(t)}function jT(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qE(t)}function C9(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var f=this[ur];return bc.get(f,a)},set:function(f){var l=this[ur];bc.set(l,a,f)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][ur];if(!s.P)switch(s.i){case 5:n(s)&&lo(s);break;case 4:r(s)&&lo(s)}}}function r(a){for(var o=a.t,s=a.k,f=Wl(s),l=f.length-1;l>=0;l--){var u=f[l];if(u!==ur){var c=o[u];if(c===void 0&&!zl(o,u))return!0;var h=s[u],p=h&&h[ur];if(p?p.t!==c:!SN(h,c))return!0}}var d=!!o[ur];return f.length!==Wl(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var f=0;f<o.length;f++)if(!o.hasOwnProperty(f))return!0;return!1}var i={};E9("ES5",{J:function(a,o){var s=Array.isArray(a),f=function(u,c){if(u){for(var h=Array(c.length),p=0;p<c.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=TN(c);delete d[ur];for(var m=Wl(d),_=0;_<m.length;_++){var v=m[_];d[v]=t(v,u||!!d[v].enumerable)}return Object.create(Object.getPrototypeOf(c),d)}(s,a),l={i:s?5:4,A:o?o.A:ax(),P:!1,I:!1,R:{},l:o,t:a,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,ur,{value:l,writable:!0}),f},S:function(a,o,s){s?Mo(o)&&o[ur].A===a&&e(a.p):(a.u&&function f(l){if(l&&typeof l=="object"){var u=l[ur];if(u){var c=u.t,h=u.k,p=u.R,d=u.i;if(d===4)Fs(h,function(y){y!==ur&&(c[y]!==void 0||zl(c,y)?p[y]||f(h[y]):(p[y]=!0,lo(u)))}),Fs(c,function(y){h[y]!==void 0||zl(h,y)||(p[y]=!1,lo(u))});else if(d===5){if(n(u)&&(lo(u),p.length=!0),h.length<c.length)for(var m=h.length;m<c.length;m++)p[m]=!1;else for(var _=c.length;_<h.length;_++)p[_]=!0;for(var v=Math.min(h.length,c.length),g=0;g<v;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&f(h[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var $T,xc,JE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",T9=typeof Map<"u",A9=typeof Set<"u",VT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",CN=JE?Symbol.for("immer-nothing"):(($T={})["immer-nothing"]=!0,$T),GT=JE?Symbol.for("immer-draftable"):"__$immer_draftable",ur=JE?Symbol.for("immer-state"):"__$immer_state",I9=""+Object.prototype.constructor,Wl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,TN=Object.getOwnPropertyDescriptors||function(t){var e={};return Wl(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},lx={},bc={get:function(t,e){if(e===ur)return t;var r=as(t);if(!zl(r,e))return function(i,a,o){var s,f=UT(a,o);return f?"value"in f?f.value:(s=f.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!Wa(n)?n:n===Am(t.t,e)?(Im(t),t.o[e]=sx(t.A.h,n,t)):n},has:function(t,e){return e in as(t)},ownKeys:function(t){return Reflect.ownKeys(as(t))},set:function(t,e,r){var n=UT(as(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Am(as(t),e),a=i==null?void 0:i[ur];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(SN(r,i)&&(r!==void 0||zl(t.t,e)))return!0;Im(t),lo(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return Am(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Im(t),lo(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=as(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Vi(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Vi(12)}},Lf={};Fs(bc,function(t,e){Lf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Lf.deleteProperty=function(t,e){return Lf.set.call(this,t,e,void 0)},Lf.set=function(t,e,r){return bc.set.call(this,t[0],e,r,t[0])};var R9=function(){function t(r){var n=this;this.O=VT,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var f=n;return function(m){var _=this;m===void 0&&(m=s);for(var v=arguments.length,g=Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];return f.produce(m,function(x){var b;return(b=a).call.apply(b,[_,x].concat(g))})}}var l;if(typeof a!="function"&&Vi(6),o!==void 0&&typeof o!="function"&&Vi(7),Wa(i)){var u=MT(n),c=sx(n,i,void 0),h=!0;try{l=a(c),h=!1}finally{h?E0(u):ox(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return Cm(u,o),Tm(m,u)},function(m){throw E0(u),m}):(Cm(u,o),Tm(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===CN&&(l=void 0),n.D&&KE(l,!0),o){var p=[],d=[];ha("Patches").M(i,l,p,d),o(p,d)}return l}Vi(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,c=Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(c))})};var o,s,f=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&f instanceof Promise?f.then(function(l){return[l,o,s]}):[f,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Wa(r)||Vi(8),Mo(r)&&(r=S9(r));var n=MT(this),i=sx(this,r,void 0);return i[ur].C=!0,ox(n),i},e.finishDraft=function(r,n){var i=r&&r[ur],a=i.A;return Cm(a,n),Tm(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!VT&&Vi(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=ha("Patches").$;return Mo(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),li=new R9,AN=li.produce;li.produceWithPatches.bind(li);li.setAutoFreeze.bind(li);li.setUseProxies.bind(li);li.applyPatches.bind(li);li.createDraft.bind(li);li.finishDraft.bind(li);function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}function P9(t,e){if(fn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IN(t){var e=P9(t,"string");return fn(e)=="symbol"?e:e+""}function fi(t,e,r){return e=IN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Rm=function(){return Math.random().toString(36).substring(7).split("").join(".")},C0={INIT:"@@redux/INIT"+Rm(),REPLACE:"@@redux/REPLACE"+Rm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rm()}};function O9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function RN(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Rn(1));return r(RN)(t,e)}if(typeof t!="function")throw new Error(Rn(2));var i=t,a=e,o=[],s=o,f=!1;function l(){s===o&&(s=o.slice())}function u(){if(f)throw new Error(Rn(3));return a}function c(m){if(typeof m!="function")throw new Error(Rn(4));if(f)throw new Error(Rn(5));var _=!0;return l(),s.push(m),function(){if(_){if(f)throw new Error(Rn(6));_=!1,l();var g=s.indexOf(m);s.splice(g,1),o=null}}}function h(m){if(!O9(m))throw new Error(Rn(7));if(typeof m.type>"u")throw new Error(Rn(8));if(f)throw new Error(Rn(9));try{f=!0,a=i(a,m)}finally{f=!1}for(var _=o=s,v=0;v<_.length;v++){var g=_[v];g()}return m}function p(m){if(typeof m!="function")throw new Error(Rn(10));i=m,h({type:C0.REPLACE})}function d(){var m,_=c;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Rn(11));function y(){g.next&&g.next(u())}y();var x=_(y);return{unsubscribe:x}}},m[zT]=function(){return this},m}return h({type:C0.INIT}),n={dispatch:h,subscribe:c,getState:u,replaceReducer:p},n[zT]=d,n}function k9(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:C0.INIT});if(typeof n>"u")throw new Error(Rn(12));if(typeof r(void 0,{type:C0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function F9(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{k9(r)}catch(s){o=s}return function(f,l){if(f===void 0&&(f={}),o)throw o;for(var u=!1,c={},h=0;h<a.length;h++){var p=a[h],d=r[p],m=f[p],_=d(m,l);if(typeof _>"u")throw l&&l.type,new Error(Rn(14));c[p]=_,u=u||_!==m}return u=u||a.length!==Object.keys(f).length,u?c:f}}function T0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function N9(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Rn(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(f){return f(o)});return a=T0.apply(void 0,s)(i.dispatch),HT(HT({},i),{},{dispatch:a})}}}function PN(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var ON=PN();ON.withExtraArgument=PN;const WT=ON;var kN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L9=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return f([l,u])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ou=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},B9=Object.defineProperty,M9=Object.defineProperties,D9=Object.getOwnPropertyDescriptors,YT=Object.getOwnPropertySymbols,U9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,qT=function(t,e,r){return e in t?B9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},To=function(t,e){for(var r in e||(e={}))U9.call(e,r)&&qT(t,r,e[r]);if(YT)for(var n=0,i=YT(e);n<i.length;n++){var r=i[n];j9.call(e,r)&&qT(t,r,e[r])}return t},Pm=function(t,e){return M9(t,D9(e))},$9=function(t,e,r){return new Promise(function(n,i){var a=function(f){try{s(r.next(f))}catch(l){i(l)}},o=function(f){try{s(r.throw(f))}catch(l){i(l)}},s=function(f){return f.done?n(f.value):Promise.resolve(f.value).then(a,o)};s((r=r.apply(t,e)).next())})},V9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?T0:T0.apply(null,arguments)};function G9(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function Ao(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return To(To({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var X9=function(t){kN(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ou([void 0],r[0].concat(this)))):new(e.bind.apply(e,ou([void 0],r.concat(this))))},e}(Array),H9=function(t){kN(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ou([void 0],r[0].concat(this)))):new(e.bind.apply(e,ou([void 0],r.concat(this))))},e}(Array);function ux(t){return Wa(t)?AN(t,function(){}):t}function z9(t){return typeof t=="boolean"}function W9(){return function(e){return FN(e)}}function FN(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new X9;return r&&(z9(r)?n.push(WT):n.push(WT.withExtraArgument(r.extraArgument))),n}var Y9=!0;function q9(t){var e=W9(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,f=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,c=r.enhancers,h=c===void 0?void 0:c,p;if(typeof i=="function")p=i;else if(G9(i))p=F9(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var m=N9.apply(void 0,d),_=T0;f&&(_=V9(To({trace:!Y9},typeof f=="object"&&f)));var v=new H9(m),g=v;Array.isArray(h)?g=ou([m],h):typeof h=="function"&&(g=h(v));var y=_.apply(void 0,g);return RN(p,u,y)}function NN(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function K9(t){return typeof t=="function"}function Z9(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?NN(e):[e,r,n],a=i[0],o=i[1],s=i[2],f;if(K9(t))f=function(){return ux(t())};else{var l=ux(t);f=function(){return l}}function u(c,h){c===void 0&&(c=f());var p=ou([a[h.type]],o.filter(function(d){var m=d.matcher;return m(h)}).map(function(d){var m=d.reducer;return m}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,m){if(m)if(Mo(d)){var _=d,v=m(_,h);return v===void 0?d:v}else{if(Wa(d))return AN(d,function(g){return m(g,h)});var v=m(d,h);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return d},c)}return u.getInitialState=f,u}function J9(t,e){return t+"/"+e}function wp(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:ux(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var c=n[u],h=J9(e,u),p,d;"reducer"in c?(p=c.reducer,d=c.prepare):p=c,a[u]=p,o[h]=p,s[u]=d?Ao(h,d):Ao(h)});function f(){var u=typeof t.extraReducers=="function"?NN(t.extraReducers):[t.extraReducers],c=u[0],h=c===void 0?{}:c,p=u[1],d=p===void 0?[]:p,m=u[2],_=m===void 0?void 0:m,v=To(To({},h),o);return Z9(r,function(g){for(var y in v)g.addCase(y,v[y]);for(var x=0,b=d;x<b.length;x++){var E=b[x];g.addMatcher(E.matcher,E.reducer)}_&&g.addDefaultCase(_)})}var l;return{name:e,reducer:function(u,c){return l||(l=f()),l(u,c)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=f()),l.getInitialState()}}}var Q9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",e$=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=Q9[Math.random()*64|0];return e},t$=["name","message","stack","code"],Om=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),KT=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),r$=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=t$;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=Ao(e+"/fulfilled",function(l,u,c,h){return{payload:l,meta:Pm(To({},h||{}),{arg:c,requestId:u,requestStatus:"fulfilled"})}}),a=Ao(e+"/pending",function(l,u,c){return{payload:void 0,meta:Pm(To({},c||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=Ao(e+"/rejected",function(l,u,c,h,p){return{payload:h,error:(n&&n.serializeError||r$)(l||"Rejected"),meta:Pm(To({},p||{}),{arg:c,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function f(l){return function(u,c,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):e$(),d=new s,m;function _(g){m=g,d.abort()}var v=function(){return $9(this,null,function(){var g,y,x,b,E,w,S;return L9(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),b=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:c,extra:h}),i$(b)?[4,b]:[3,2];case 1:b=C.sent(),C.label=2;case 2:if(b===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(T,I){return d.signal.addEventListener("abort",function(){return I({name:"AbortError",message:m||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:c,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:c,extra:h,requestId:p,signal:d.signal,abort:_,rejectWithValue:function(T,I){return new Om(T,I)},fulfillWithValue:function(T,I){return new KT(T,I)}})).then(function(T){if(T instanceof Om)throw T;return T instanceof KT?i(T.payload,p,l,T.meta):i(T,p,l)})])];case 3:return x=C.sent(),[3,5];case 4:return w=C.sent(),x=w instanceof Om?o(null,p,l,w.payload,w.meta):o(w,p,l),[3,5];case 5:return S=n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition,S||u(x),[2,x]}})})}();return Object.assign(v,{abort:_,requestId:p,arg:l,unwrap:function(){return v.then(n$)}})}}return Object.assign(f,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function n$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function i$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var QE="listenerMiddleware";Ao(QE+"/add");Ao(QE+"/removeAll");Ao(QE+"/remove");var ZT;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);C9();function a$(){this.__data__=[],this.size=0}var o$=a$;function s$(t,e){return t===e||t!==t&&e!==e}var ew=s$,l$=ew;function u$(t,e){for(var r=t.length;r--;)if(l$(t[r][0],e))return r;return-1}var Sp=u$,f$=Sp,c$=Array.prototype,h$=c$.splice;function d$(t){var e=this.__data__,r=f$(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():h$.call(e,r,1),--this.size,!0}var p$=d$,v$=Sp;function m$(t){var e=this.__data__,r=v$(e,t);return r<0?void 0:e[r][1]}var g$=m$,_$=Sp;function y$(t){return _$(this.__data__,t)>-1}var x$=y$,b$=Sp;function E$(t,e){var r=this.__data__,n=b$(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var w$=E$,S$=o$,C$=p$,T$=g$,A$=x$,I$=w$;function Pu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pu.prototype.clear=S$;Pu.prototype.delete=C$;Pu.prototype.get=T$;Pu.prototype.has=A$;Pu.prototype.set=I$;var Cp=Pu,R$=Cp;function P$(){this.__data__=new R$,this.size=0}var O$=P$;function k$(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var F$=k$;function N$(t){return this.__data__.get(t)}var L$=N$;function B$(t){return this.__data__.has(t)}var M$=B$,D$=typeof nt=="object"&&nt&&nt.Object===Object&&nt,LN=D$,U$=LN,j$=typeof self=="object"&&self&&self.Object===Object&&self,$$=U$||j$||Function("return this")(),Wi=$$,V$=Wi,G$=V$.Symbol,fh=G$,JT=fh,BN=Object.prototype,X$=BN.hasOwnProperty,H$=BN.toString,hf=JT?JT.toStringTag:void 0;function z$(t){var e=X$.call(t,hf),r=t[hf];try{t[hf]=void 0;var n=!0}catch{}var i=H$.call(t);return n&&(e?t[hf]=r:delete t[hf]),i}var W$=z$,Y$=Object.prototype,q$=Y$.toString;function K$(t){return q$.call(t)}var Z$=K$,QT=fh,J$=W$,Q$=Z$,eV="[object Null]",tV="[object Undefined]",eA=QT?QT.toStringTag:void 0;function rV(t){return t==null?t===void 0?tV:eV:eA&&eA in Object(t)?J$(t):Q$(t)}var ch=rV;function nV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wa=nV,iV=ch,aV=wa,oV="[object AsyncFunction]",sV="[object Function]",lV="[object GeneratorFunction]",uV="[object Proxy]";function fV(t){if(!aV(t))return!1;var e=iV(t);return e==sV||e==lV||e==oV||e==uV}var MN=fV,cV=Wi,hV=cV["__core-js_shared__"],dV=hV,km=dV,tA=function(){var t=/[^.]+$/.exec(km&&km.keys&&km.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pV(t){return!!tA&&tA in t}var vV=pV,mV=Function.prototype,gV=mV.toString;function _V(t){if(t!=null){try{return gV.call(t)}catch{}try{return t+""}catch{}}return""}var DN=_V,yV=MN,xV=vV,bV=wa,EV=DN,wV=/[\\^$.*+?()[\]{}|]/g,SV=/^\[object .+?Constructor\]$/,CV=Function.prototype,TV=Object.prototype,AV=CV.toString,IV=TV.hasOwnProperty,RV=RegExp("^"+AV.call(IV).replace(wV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PV(t){if(!bV(t)||xV(t))return!1;var e=yV(t)?RV:SV;return e.test(EV(t))}var OV=PV;function kV(t,e){return t==null?void 0:t[e]}var FV=kV,NV=OV,LV=FV;function BV(t,e){var r=LV(t,e);return NV(r)?r:void 0}var Gs=BV,MV=Gs,DV=Wi,UV=MV(DV,"Map"),tw=UV,jV=Gs,$V=jV(Object,"create"),Tp=$V,rA=Tp;function VV(){this.__data__=rA?rA(null):{},this.size=0}var GV=VV;function XV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HV=XV,zV=Tp,WV="__lodash_hash_undefined__",YV=Object.prototype,qV=YV.hasOwnProperty;function KV(t){var e=this.__data__;if(zV){var r=e[t];return r===WV?void 0:r}return qV.call(e,t)?e[t]:void 0}var ZV=KV,JV=Tp,QV=Object.prototype,e7=QV.hasOwnProperty;function t7(t){var e=this.__data__;return JV?e[t]!==void 0:e7.call(e,t)}var r7=t7,n7=Tp,i7="__lodash_hash_undefined__";function a7(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n7&&e===void 0?i7:e,this}var o7=a7,s7=GV,l7=HV,u7=ZV,f7=r7,c7=o7;function Ou(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ou.prototype.clear=s7;Ou.prototype.delete=l7;Ou.prototype.get=u7;Ou.prototype.has=f7;Ou.prototype.set=c7;var h7=Ou,nA=h7,d7=Cp,p7=tw;function v7(){this.size=0,this.__data__={hash:new nA,map:new(p7||d7),string:new nA}}var m7=v7;function g7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _7=g7,y7=_7;function x7(t,e){var r=t.__data__;return y7(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ap=x7,b7=Ap;function E7(t){var e=b7(this,t).delete(t);return this.size-=e?1:0,e}var w7=E7,S7=Ap;function C7(t){return S7(this,t).get(t)}var T7=C7,A7=Ap;function I7(t){return A7(this,t).has(t)}var R7=I7,P7=Ap;function O7(t,e){var r=P7(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var k7=O7,F7=m7,N7=w7,L7=T7,B7=R7,M7=k7;function ku(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ku.prototype.clear=F7;ku.prototype.delete=N7;ku.prototype.get=L7;ku.prototype.has=B7;ku.prototype.set=M7;var rw=ku,D7=Cp,U7=tw,j7=rw,$7=200;function V7(t,e){var r=this.__data__;if(r instanceof D7){var n=r.__data__;if(!U7||n.length<$7-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new j7(n)}return r.set(t,e),this.size=r.size,this}var G7=V7,X7=Cp,H7=O$,z7=F$,W7=L$,Y7=M$,q7=G7;function Fu(t){var e=this.__data__=new X7(t);this.size=e.size}Fu.prototype.clear=H7;Fu.prototype.delete=z7;Fu.prototype.get=W7;Fu.prototype.has=Y7;Fu.prototype.set=q7;var nw=Fu;function K7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Z7=K7,J7=Gs,Q7=function(){try{var t=J7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eG=Q7,iA=eG;function tG(t,e,r){e=="__proto__"&&iA?iA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var UN=tG,rG=UN,nG=ew,iG=Object.prototype,aG=iG.hasOwnProperty;function oG(t,e,r){var n=t[e];(!(aG.call(t,e)&&nG(n,r))||r===void 0&&!(e in t))&&rG(t,e,r)}var iw=oG,sG=iw,lG=UN;function uG(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],f=n?n(r[s],t[s],s,r,t):void 0;f===void 0&&(f=t[s]),i?lG(r,s,f):sG(r,s,f)}return r}var Ip=uG;function fG(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var cG=fG;function hG(t){return t!=null&&typeof t=="object"}var Xs=hG,dG=ch,pG=Xs,vG="[object Arguments]";function mG(t){return pG(t)&&dG(t)==vG}var gG=mG,aA=gG,_G=Xs,jN=Object.prototype,yG=jN.hasOwnProperty,xG=jN.propertyIsEnumerable,bG=aA(function(){return arguments}())?aA:function(t){return _G(t)&&yG.call(t,"callee")&&!xG.call(t,"callee")},$N=bG,EG=Array.isArray,Ja=EG,A0={exports:{}};function wG(){return!1}var SG=wG;A0.exports;(function(t,e){var r=Wi,n=SG,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,f=s?s.isBuffer:void 0,l=f||n;t.exports=l})(A0,A0.exports);var aw=A0.exports,CG=9007199254740991,TG=/^(?:0|[1-9]\d*)$/;function AG(t,e){var r=typeof t;return e=e??CG,!!e&&(r=="number"||r!="symbol"&&TG.test(t))&&t>-1&&t%1==0&&t<e}var ow=AG,IG=9007199254740991;function RG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IG}var sw=RG,PG=ch,OG=sw,kG=Xs,FG="[object Arguments]",NG="[object Array]",LG="[object Boolean]",BG="[object Date]",MG="[object Error]",DG="[object Function]",UG="[object Map]",jG="[object Number]",$G="[object Object]",VG="[object RegExp]",GG="[object Set]",XG="[object String]",HG="[object WeakMap]",zG="[object ArrayBuffer]",WG="[object DataView]",YG="[object Float32Array]",qG="[object Float64Array]",KG="[object Int8Array]",ZG="[object Int16Array]",JG="[object Int32Array]",QG="[object Uint8Array]",eX="[object Uint8ClampedArray]",tX="[object Uint16Array]",rX="[object Uint32Array]",ar={};ar[YG]=ar[qG]=ar[KG]=ar[ZG]=ar[JG]=ar[QG]=ar[eX]=ar[tX]=ar[rX]=!0;ar[FG]=ar[NG]=ar[zG]=ar[LG]=ar[WG]=ar[BG]=ar[MG]=ar[DG]=ar[UG]=ar[jG]=ar[$G]=ar[VG]=ar[GG]=ar[XG]=ar[HG]=!1;function nX(t){return kG(t)&&OG(t.length)&&!!ar[PG(t)]}var iX=nX;function aX(t){return function(e){return t(e)}}var lw=aX,I0={exports:{}};I0.exports;(function(t,e){var r=LN,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(I0,I0.exports);var uw=I0.exports,oX=iX,sX=lw,oA=uw,sA=oA&&oA.isTypedArray,lX=sA?sX(sA):oX,VN=lX,uX=cG,fX=$N,cX=Ja,hX=aw,dX=ow,pX=VN,vX=Object.prototype,mX=vX.hasOwnProperty;function gX(t,e){var r=cX(t),n=!r&&fX(t),i=!r&&!n&&hX(t),a=!r&&!n&&!i&&pX(t),o=r||n||i||a,s=o?uX(t.length,String):[],f=s.length;for(var l in t)(e||mX.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||dX(l,f)))&&s.push(l);return s}var GN=gX,_X=Object.prototype;function yX(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||_X;return t===r}var fw=yX;function xX(t,e){return function(r){return t(e(r))}}var XN=xX,bX=XN,EX=bX(Object.keys,Object),wX=EX,SX=fw,CX=wX,TX=Object.prototype,AX=TX.hasOwnProperty;function IX(t){if(!SX(t))return CX(t);var e=[];for(var r in Object(t))AX.call(t,r)&&r!="constructor"&&e.push(r);return e}var RX=IX,PX=MN,OX=sw;function kX(t){return t!=null&&OX(t.length)&&!PX(t)}var HN=kX,FX=GN,NX=RX,LX=HN;function BX(t){return LX(t)?FX(t):NX(t)}var Rp=BX,MX=Ip,DX=Rp;function UX(t,e){return t&&MX(e,DX(e),t)}var jX=UX;function $X(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var VX=$X,GX=wa,XX=fw,HX=VX,zX=Object.prototype,WX=zX.hasOwnProperty;function YX(t){if(!GX(t))return HX(t);var e=XX(t),r=[];for(var n in t)n=="constructor"&&(e||!WX.call(t,n))||r.push(n);return r}var qX=YX,KX=GN,ZX=qX,JX=HN;function QX(t){return JX(t)?KX(t,!0):ZX(t)}var cw=QX,eH=Ip,tH=cw;function rH(t,e){return t&&eH(e,tH(e),t)}var nH=rH,R0={exports:{}};R0.exports;(function(t,e){var r=Wi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function f(l,u){if(u)return l.slice();var c=l.length,h=s?s(c):new l.constructor(c);return l.copy(h),h}t.exports=f})(R0,R0.exports);var iH=R0.exports;function aH(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var oH=aH;function sH(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var lH=sH;function uH(){return[]}var zN=uH,fH=lH,cH=zN,hH=Object.prototype,dH=hH.propertyIsEnumerable,lA=Object.getOwnPropertySymbols,pH=lA?function(t){return t==null?[]:(t=Object(t),fH(lA(t),function(e){return dH.call(t,e)}))}:cH,hw=pH,vH=Ip,mH=hw;function gH(t,e){return vH(t,mH(t),e)}var _H=gH;function yH(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var WN=yH,xH=XN,bH=xH(Object.getPrototypeOf,Object),YN=bH,EH=WN,wH=YN,SH=hw,CH=zN,TH=Object.getOwnPropertySymbols,AH=TH?function(t){for(var e=[];t;)EH(e,SH(t)),t=wH(t);return e}:CH,qN=AH,IH=Ip,RH=qN;function PH(t,e){return IH(t,RH(t),e)}var OH=PH,kH=WN,FH=Ja;function NH(t,e,r){var n=e(t);return FH(t)?n:kH(n,r(t))}var KN=NH,LH=KN,BH=hw,MH=Rp;function DH(t){return LH(t,MH,BH)}var ZN=DH,UH=KN,jH=qN,$H=cw;function VH(t){return UH(t,$H,jH)}var JN=VH,GH=Gs,XH=Wi,HH=GH(XH,"DataView"),zH=HH,WH=Gs,YH=Wi,qH=WH(YH,"Promise"),KH=qH,ZH=Gs,JH=Wi,QH=ZH(JH,"Set"),QN=QH,ez=Gs,tz=Wi,rz=ez(tz,"WeakMap"),nz=rz,fx=zH,cx=tw,hx=KH,dx=QN,px=nz,eL=ch,Nu=DN,uA="[object Map]",iz="[object Object]",fA="[object Promise]",cA="[object Set]",hA="[object WeakMap]",dA="[object DataView]",az=Nu(fx),oz=Nu(cx),sz=Nu(hx),lz=Nu(dx),uz=Nu(px),os=eL;(fx&&os(new fx(new ArrayBuffer(1)))!=dA||cx&&os(new cx)!=uA||hx&&os(hx.resolve())!=fA||dx&&os(new dx)!=cA||px&&os(new px)!=hA)&&(os=function(t){var e=eL(t),r=e==iz?t.constructor:void 0,n=r?Nu(r):"";if(n)switch(n){case az:return dA;case oz:return uA;case sz:return fA;case lz:return cA;case uz:return hA}return e});var Pp=os,fz=Object.prototype,cz=fz.hasOwnProperty;function hz(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&cz.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var dz=hz,pz=Wi,vz=pz.Uint8Array,tL=vz,pA=tL;function mz(t){var e=new t.constructor(t.byteLength);return new pA(e).set(new pA(t)),e}var dw=mz,gz=dw;function _z(t,e){var r=e?gz(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var yz=_z,xz=/\w*$/;function bz(t){var e=new t.constructor(t.source,xz.exec(t));return e.lastIndex=t.lastIndex,e}var Ez=bz,vA=fh,mA=vA?vA.prototype:void 0,gA=mA?mA.valueOf:void 0;function wz(t){return gA?Object(gA.call(t)):{}}var Sz=wz,Cz=dw;function Tz(t,e){var r=e?Cz(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Az=Tz,Iz=dw,Rz=yz,Pz=Ez,Oz=Sz,kz=Az,Fz="[object Boolean]",Nz="[object Date]",Lz="[object Map]",Bz="[object Number]",Mz="[object RegExp]",Dz="[object Set]",Uz="[object String]",jz="[object Symbol]",$z="[object ArrayBuffer]",Vz="[object DataView]",Gz="[object Float32Array]",Xz="[object Float64Array]",Hz="[object Int8Array]",zz="[object Int16Array]",Wz="[object Int32Array]",Yz="[object Uint8Array]",qz="[object Uint8ClampedArray]",Kz="[object Uint16Array]",Zz="[object Uint32Array]";function Jz(t,e,r){var n=t.constructor;switch(e){case $z:return Iz(t);case Fz:case Nz:return new n(+t);case Vz:return Rz(t,r);case Gz:case Xz:case Hz:case zz:case Wz:case Yz:case qz:case Kz:case Zz:return kz(t,r);case Lz:return new n;case Bz:case Uz:return new n(t);case Mz:return Pz(t);case Dz:return new n;case jz:return Oz(t)}}var Qz=Jz,eW=wa,_A=Object.create,tW=function(){function t(){}return function(e){if(!eW(e))return{};if(_A)return _A(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),rW=tW,nW=rW,iW=YN,aW=fw;function oW(t){return typeof t.constructor=="function"&&!aW(t)?nW(iW(t)):{}}var sW=oW,lW=Pp,uW=Xs,fW="[object Map]";function cW(t){return uW(t)&&lW(t)==fW}var hW=cW,dW=hW,pW=lw,yA=uw,xA=yA&&yA.isMap,vW=xA?pW(xA):dW,mW=vW,gW=Pp,_W=Xs,yW="[object Set]";function xW(t){return _W(t)&&gW(t)==yW}var bW=xW,EW=bW,wW=lw,bA=uw,EA=bA&&bA.isSet,SW=EA?wW(EA):EW,CW=SW,TW=nw,AW=Z7,IW=iw,RW=jX,PW=nH,OW=iH,kW=oH,FW=_H,NW=OH,LW=ZN,BW=JN,MW=Pp,DW=dz,UW=Qz,jW=sW,$W=Ja,VW=aw,GW=mW,XW=wa,HW=CW,zW=Rp,WW=cw,YW=1,qW=2,KW=4,rL="[object Arguments]",ZW="[object Array]",JW="[object Boolean]",QW="[object Date]",eY="[object Error]",nL="[object Function]",tY="[object GeneratorFunction]",rY="[object Map]",nY="[object Number]",iL="[object Object]",iY="[object RegExp]",aY="[object Set]",oY="[object String]",sY="[object Symbol]",lY="[object WeakMap]",uY="[object ArrayBuffer]",fY="[object DataView]",cY="[object Float32Array]",hY="[object Float64Array]",dY="[object Int8Array]",pY="[object Int16Array]",vY="[object Int32Array]",mY="[object Uint8Array]",gY="[object Uint8ClampedArray]",_Y="[object Uint16Array]",yY="[object Uint32Array]",Qt={};Qt[rL]=Qt[ZW]=Qt[uY]=Qt[fY]=Qt[JW]=Qt[QW]=Qt[cY]=Qt[hY]=Qt[dY]=Qt[pY]=Qt[vY]=Qt[rY]=Qt[nY]=Qt[iL]=Qt[iY]=Qt[aY]=Qt[oY]=Qt[sY]=Qt[mY]=Qt[gY]=Qt[_Y]=Qt[yY]=!0;Qt[eY]=Qt[nL]=Qt[lY]=!1;function Ld(t,e,r,n,i,a){var o,s=e&YW,f=e&qW,l=e&KW;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!XW(t))return t;var u=$W(t);if(u){if(o=DW(t),!s)return kW(t,o)}else{var c=MW(t),h=c==nL||c==tY;if(VW(t))return OW(t,s);if(c==iL||c==rL||h&&!i){if(o=f||h?{}:jW(t),!s)return f?NW(t,PW(o,t)):FW(t,RW(o,t))}else{if(!Qt[c])return i?t:{};o=UW(t,c,s)}}a||(a=new TW);var p=a.get(t);if(p)return p;a.set(t,o),HW(t)?t.forEach(function(_){o.add(Ld(_,e,r,_,t,a))}):GW(t)&&t.forEach(function(_,v){o.set(v,Ld(_,e,r,v,t,a))});var d=l?f?BW:LW:f?WW:zW,m=u?void 0:d(t);return AW(m||t,function(_,v){m&&(v=_,_=t[v]),IW(o,v,Ld(_,e,r,v,t,a))}),o}var xY=Ld,bY=xY,EY=1,wY=4;function SY(t){return bY(t,EY|wY)}var CY=SY;const gr=Cn(CY);var mt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t))(mt||{});const aL={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:"",storyLineBgY:"",achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:"",achieveBgY:"",unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},pw=wp({name:"stage",initialState:gr(aL),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===mt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{t.showValueList.push(e.payload)},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:Op,setStage:st,setStageVar:oL,setAchieveBg:TY,setUnlockAchieve:SRe,setStoryLineBg:CRe,addShowValues:nl,addShowValueList:AY,updateShowValueList:IY}=pw.actions,Kn=pw.actions,RY=pw.reducer;function Rl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sL={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var c=typeof Rl=="function"&&Rl;if(!u&&c)return c(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var m=n[l][1][d];return o(m||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof Rl=="function"&&Rl,f=0;f<a.length;f++)o(a[f]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var f=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=f=++f%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var c=new a.MessageChannel;c.port1.onmessage=d,s=function(){c.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){d(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var _,v,g=p.length;g;){for(v=p,p=[],_=-1;++_<g;)v[_]();g=p.length}h=!1}n.exports=m;function m(_){p.push(_)===1&&!h&&s()}}).call(this,typeof nt<"u"?nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},f=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=c;function c(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&m(this,b)}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,E){if(typeof b!="function"&&this.state===l||typeof E!="function"&&this.state===f)return this;var w=new this.constructor(o);if(this.state!==u){var S=this.state===l?b:E;p(w,S,this.outcome)}else this.queue.push(new h(w,b,E));return w};function h(b,E,w){this.promise=b,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,E,w){a(function(){var S;try{S=E(w)}catch(C){return s.reject(b,C)}S===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,S)})}s.resolve=function(b,E){var w=_(d,E);if(w.status==="error")return s.reject(b,w.value);var S=w.value;if(S)m(b,S);else{b.state=l,b.outcome=E;for(var C=-1,T=b.queue.length;++C<T;)b.queue[C].callFulfilled(E)}return b},s.reject=function(b,E){b.state=f,b.outcome=E;for(var w=-1,S=b.queue.length;++w<S;)b.queue[w].callRejected(E);return b};function d(b){var E=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof E=="function")return function(){E.apply(b,arguments)}}function m(b,E){var w=!1;function S(A){w||(w=!0,s.reject(b,A))}function C(A){w||(w=!0,s.resolve(b,A))}function T(){E(C,S)}var I=_(T);I.status==="error"&&S(I.value)}function _(b,E){var w={};try{w.value=b(E),w.status="success"}catch(S){w.status="error",w.value=S}return w}c.resolve=v;function v(b){return b instanceof this?b:s.resolve(new this(o),b)}c.reject=g;function g(b){var E=new this(o);return s.reject(E,b)}c.all=y;function y(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,S=!1;if(!w)return this.resolve([]);for(var C=new Array(w),T=0,I=-1,A=new this(o);++I<w;)R(b[I],I);return A;function R(O,F){E.resolve(O).then(N,function($){S||(S=!0,s.reject(A,$))});function N($){C[F]=$,++T===w&&!S&&(S=!0,s.resolve(A,C))}}}c.race=x;function x(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,S=!1;if(!w)return this.resolve([]);for(var C=-1,T=new this(o);++C<w;)I(b[C]);return T;function I(A){E.resolve(A).then(function(R){S||(S=!0,s.resolve(T,R))},function(R){S||(S=!0,s.reject(T,R))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof nt<"u"?nt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H};function o(H,te){if(!(H instanceof te))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=s();function l(){try{if(!f||!f.open)return!1;var H=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),te=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!H||te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(H,te){H=H||[],te=te||{};try{return new Blob(H,te)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ae=new Y,ue=0;ue<H.length;ue+=1)ae.append(H[ue]);return ae.getBlob(te.type)}}typeof Promise>"u"&&r(3);var c=Promise;function h(H,te){te&&H.then(function(Y){te(null,Y)},function(Y){te(Y)})}function p(H,te,Y){typeof te=="function"&&H.then(te),typeof Y=="function"&&H.catch(Y)}function d(H){return typeof H!="string"&&(console.warn(H+" used as a key, but it is not a string."),H=String(H)),H}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,g={},y=Object.prototype.toString,x="readonly",b="readwrite";function E(H){for(var te=H.length,Y=new ArrayBuffer(te),ae=new Uint8Array(Y),ue=0;ue<te;ue++)ae[ue]=H.charCodeAt(ue);return Y}function w(H){return new c(function(te){var Y=H.transaction(_,b),ae=u([""]);Y.objectStore(_).put(ae,"key"),Y.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),te(!1)},Y.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);te(ie||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function S(H){return typeof v=="boolean"?c.resolve(v):w(H).then(function(te){return v=te,v})}function C(H){var te=g[H.name],Y={};Y.promise=new c(function(ae,ue){Y.resolve=ae,Y.reject=ue}),te.deferredOperations.push(Y),te.dbReady?te.dbReady=te.dbReady.then(function(){return Y.promise}):te.dbReady=Y.promise}function T(H){var te=g[H.name],Y=te.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function I(H,te){var Y=g[H.name],ae=Y.deferredOperations.pop();if(ae)return ae.reject(te),ae.promise}function A(H,te){return new c(function(Y,ae){if(g[H.name]=g[H.name]||j(),H.db)if(te)C(H),H.db.close();else return Y(H.db);var ue=[H.name];te&&ue.push(H.version);var ie=f.open.apply(f,ue);te&&(ie.onupgradeneeded=function(Ce){var Ie=ie.result;try{Ie.createObjectStore(H.storeName),Ce.oldVersion<=1&&Ie.createObjectStore(_)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+H.name+'" has been upgraded from version '+Ce.oldVersion+" to version "+Ce.newVersion+', but the storage "'+H.storeName+'" already exists.');else throw Pe}}),ie.onerror=function(Ce){Ce.preventDefault(),ae(ie.error)},ie.onsuccess=function(){var Ce=ie.result;Ce.onversionchange=function(Ie){Ie.target.close()},Y(Ce),T(H)}})}function R(H){return A(H,!1)}function O(H){return A(H,!0)}function F(H,te){if(!H.db)return!0;var Y=!H.db.objectStoreNames.contains(H.storeName),ae=H.version<H.db.version,ue=H.version>H.db.version;if(ae&&(H.version!==te&&console.warn('The database "'+H.name+`" can't be downgraded from version `+H.db.version+" to version "+H.version+"."),H.version=H.db.version),ue||Y){if(Y){var ie=H.db.version+1;ie>H.version&&(H.version=ie)}return!0}return!1}function N(H){return new c(function(te,Y){var ae=new FileReader;ae.onerror=Y,ae.onloadend=function(ue){var ie=btoa(ue.target.result||"");te({__local_forage_encoded_blob:!0,data:ie,type:H.type})},ae.readAsBinaryString(H)})}function $(H){var te=E(atob(H.data));return u([te],{type:H.type})}function q(H){return H&&H.__local_forage_encoded_blob}function K(H){var te=this,Y=te._initReady().then(function(){var ae=g[te._dbInfo.name];if(ae&&ae.dbReady)return ae.dbReady});return p(Y,H,H),Y}function G(H){C(H);for(var te=g[H.name],Y=te.forages,ae=0;ae<Y.length;ae++){var ue=Y[ae];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return H.db=null,R(H).then(function(ie){return H.db=ie,F(H)?O(H):ie}).then(function(ie){H.db=te.db=ie;for(var Ce=0;Ce<Y.length;Ce++)Y[Ce]._dbInfo.db=ie}).catch(function(ie){throw I(H,ie),ie})}function L(H,te,Y,ae){ae===void 0&&(ae=1);try{var ue=H.db.transaction(H.storeName,te);Y(null,ue)}catch(ie){if(ae>0&&(!H.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return c.resolve().then(function(){if(!H.db||ie.name==="NotFoundError"&&!H.db.objectStoreNames.contains(H.storeName)&&H.version<=H.db.version)return H.db&&(H.version=H.db.version+1),O(H)}).then(function(){return G(H).then(function(){L(H,te,Y,ae-1)})}).catch(Y);Y(ie)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(H){var te=this,Y={db:null};if(H)for(var ae in H)Y[ae]=H[ae];var ue=g[Y.name];ue||(ue=j(),g[Y.name]=ue),ue.forages.push(te),te._initReady||(te._initReady=te.ready,te.ready=K);var ie=[];function Ce(){return c.resolve()}for(var Ie=0;Ie<ue.forages.length;Ie++){var Pe=ue.forages[Ie];Pe!==te&&ie.push(Pe._initReady().catch(Ce))}var Oe=ue.forages.slice(0);return c.all(ie).then(function(){return Y.db=ue.db,R(Y)}).then(function(Ue){return Y.db=Ue,F(Y,te._defaultConfig.version)?O(Y):Ue}).then(function(Ue){Y.db=ue.db=Ue,te._dbInfo=Y;for(var Ke=0;Ke<Oe.length;Ke++){var bt=Oe[Ke];bt!==te&&(bt._dbInfo.db=Y.db,bt._dbInfo.version=Y.version)}})}function D(H,te){var Y=this;H=d(H);var ae=new c(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.get(H);Oe.onsuccess=function(){var Ue=Oe.result;Ue===void 0&&(Ue=null),q(Ue)&&(Ue=$(Ue)),ue(Ue)},Oe.onerror=function(){ie(Oe.error)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function J(H,te){var Y=this,ae=new c(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.openCursor(),Ue=1;Oe.onsuccess=function(){var Ke=Oe.result;if(Ke){var bt=Ke.value;q(bt)&&(bt=$(bt));var Vt=H(bt,Ke.key,Ue++);Vt!==void 0?ue(Vt):Ke.continue()}else ue()},Oe.onerror=function(){ie(Oe.error)}}catch(Ke){ie(Ke)}})}).catch(ie)});return h(ae,te),ae}function Q(H,te,Y){var ae=this;H=d(H);var ue=new c(function(ie,Ce){var Ie;ae.ready().then(function(){return Ie=ae._dbInfo,y.call(te)==="[object Blob]"?S(Ie.db).then(function(Pe){return Pe?te:N(te)}):te}).then(function(Pe){L(ae._dbInfo,b,function(Oe,Ue){if(Oe)return Ce(Oe);try{var Ke=Ue.objectStore(ae._dbInfo.storeName);Pe===null&&(Pe=void 0);var bt=Ke.put(Pe,H);Ue.oncomplete=function(){Pe===void 0&&(Pe=null),ie(Pe)},Ue.onabort=Ue.onerror=function(){var Vt=bt.error?bt.error:bt.transaction.error;Ce(Vt)}}catch(Vt){Ce(Vt)}})}).catch(Ce)});return h(ue,Y),ue}function se(H,te){var Y=this;H=d(H);var ae=new c(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,b,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.delete(H);Ie.oncomplete=function(){ue()},Ie.onerror=function(){ie(Oe.error)},Ie.onabort=function(){var Ue=Oe.error?Oe.error:Oe.transaction.error;ie(Ue)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function re(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){L(te._dbInfo,b,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.clear();Ce.oncomplete=function(){ae()},Ce.onabort=Ce.onerror=function(){var Oe=Pe.error?Pe.error:Pe.transaction.error;ue(Oe)}}catch(Oe){ue(Oe)}})}).catch(ue)});return h(Y,H),Y}function fe(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){L(te._dbInfo,x,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.count();Pe.onsuccess=function(){ae(Pe.result)},Pe.onerror=function(){ue(Pe.error)}}catch(Oe){ue(Oe)}})}).catch(ue)});return h(Y,H),Y}function we(H,te){var Y=this,ae=new c(function(ue,ie){if(H<0){ue(null);return}Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=!1,Ue=Pe.openKeyCursor();Ue.onsuccess=function(){var Ke=Ue.result;if(!Ke){ue(null);return}H===0||Oe?ue(Ke.key):(Oe=!0,Ke.advance(H))},Ue.onerror=function(){ie(Ue.error)}}catch(Ke){ie(Ke)}})}).catch(ie)});return h(ae,te),ae}function Ee(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){L(te._dbInfo,x,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.openKeyCursor(),Oe=[];Pe.onsuccess=function(){var Ue=Pe.result;if(!Ue){ae(Oe);return}Oe.push(Ue.key),Ue.continue()},Pe.onerror=function(){ue(Pe.error)}}catch(Ue){ue(Ue)}})}).catch(ue)});return h(Y,H),Y}function pe(H,te){te=m.apply(this,arguments);var Y=this.config();H=typeof H!="function"&&H||{},H.name||(H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName);var ae=this,ue;if(!H.name)ue=c.reject("Invalid arguments");else{var ie=H.name===Y.name&&ae._dbInfo.db,Ce=ie?c.resolve(ae._dbInfo.db):R(H).then(function(Ie){var Pe=g[H.name],Oe=Pe.forages;Pe.db=Ie;for(var Ue=0;Ue<Oe.length;Ue++)Oe[Ue]._dbInfo.db=Ie;return Ie});H.storeName?ue=Ce.then(function(Ie){if(Ie.objectStoreNames.contains(H.storeName)){var Pe=Ie.version+1;C(H);var Oe=g[H.name],Ue=Oe.forages;Ie.close();for(var Ke=0;Ke<Ue.length;Ke++){var bt=Ue[Ke];bt._dbInfo.db=null,bt._dbInfo.version=Pe}var Vt=new c(function(Ht,Br){var Ar=f.open(H.name,Pe);Ar.onerror=function(vi){var Ju=Ar.result;Ju.close(),Br(vi)},Ar.onupgradeneeded=function(){var vi=Ar.result;vi.deleteObjectStore(H.storeName)},Ar.onsuccess=function(){var vi=Ar.result;vi.close(),Ht(vi)}});return Vt.then(function(Ht){Oe.db=Ht;for(var Br=0;Br<Ue.length;Br++){var Ar=Ue[Br];Ar._dbInfo.db=Ht,T(Ar._dbInfo)}}).catch(function(Ht){throw(I(H,Ht)||c.resolve()).catch(function(){}),Ht})}}):ue=Ce.then(function(Ie){C(H);var Pe=g[H.name],Oe=Pe.forages;Ie.close();for(var Ue=0;Ue<Oe.length;Ue++){var Ke=Oe[Ue];Ke._dbInfo.db=null}var bt=new c(function(Vt,Ht){var Br=f.deleteDatabase(H.name);Br.onerror=function(){var Ar=Br.result;Ar&&Ar.close(),Ht(Br.error)},Br.onblocked=function(){console.warn('dropInstance blocked for database "'+H.name+'" until all open connections are closed')},Br.onsuccess=function(){var Ar=Br.result;Ar&&Ar.close(),Vt(Ar)}});return bt.then(function(Vt){Pe.db=Vt;for(var Ht=0;Ht<Oe.length;Ht++){var Br=Oe[Ht];T(Br._dbInfo)}}).catch(function(Vt){throw(I(H,Vt)||c.resolve()).catch(function(){}),Vt})})}return h(ue,te),ue}var ve={_driver:"asyncStorage",_initStorage:M,_support:l(),iterate:J,getItem:D,setItem:Q,removeItem:se,clear:re,length:fe,key:we,keys:Ee,dropInstance:pe};function Ae(){return typeof openDatabase=="function"}var ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te="~~local_forage_type~",Fe=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Ze=Ne.length,pt="arbf",Je="blob",qe="si08",lt="ui08",It="uic8",Nt="si16",Rt="si32",Pt="ur16",rt="ui32",Lt="fl32",xe="fl64",B=Ze+pt.length,ne=Object.prototype.toString;function de(H){var te=H.length*.75,Y=H.length,ae,ue=0,ie,Ce,Ie,Pe;H[H.length-1]==="="&&(te--,H[H.length-2]==="="&&te--);var Oe=new ArrayBuffer(te),Ue=new Uint8Array(Oe);for(ae=0;ae<Y;ae+=4)ie=ke.indexOf(H[ae]),Ce=ke.indexOf(H[ae+1]),Ie=ke.indexOf(H[ae+2]),Pe=ke.indexOf(H[ae+3]),Ue[ue++]=ie<<2|Ce>>4,Ue[ue++]=(Ce&15)<<4|Ie>>2,Ue[ue++]=(Ie&3)<<6|Pe&63;return Oe}function be(H){var te=new Uint8Array(H),Y="",ae;for(ae=0;ae<te.length;ae+=3)Y+=ke[te[ae]>>2],Y+=ke[(te[ae]&3)<<4|te[ae+1]>>4],Y+=ke[(te[ae+1]&15)<<2|te[ae+2]>>6],Y+=ke[te[ae+2]&63];return te.length%3===2?Y=Y.substring(0,Y.length-1)+"=":te.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Z(H,te){var Y="";if(H&&(Y=ne.call(H)),H&&(Y==="[object ArrayBuffer]"||H.buffer&&ne.call(H.buffer)==="[object ArrayBuffer]")){var ae,ue=Ne;H instanceof ArrayBuffer?(ae=H,ue+=pt):(ae=H.buffer,Y==="[object Int8Array]"?ue+=qe:Y==="[object Uint8Array]"?ue+=lt:Y==="[object Uint8ClampedArray]"?ue+=It:Y==="[object Int16Array]"?ue+=Nt:Y==="[object Uint16Array]"?ue+=Pt:Y==="[object Int32Array]"?ue+=Rt:Y==="[object Uint32Array]"?ue+=rt:Y==="[object Float32Array]"?ue+=Lt:Y==="[object Float64Array]"?ue+=xe:te(new Error("Failed to get type for BinaryArray"))),te(ue+be(ae))}else if(Y==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var Ce=Te+H.type+"~"+be(this.result);te(Ne+Je+Ce)},ie.readAsArrayBuffer(H)}else try{te(JSON.stringify(H))}catch(Ce){console.error("Couldn't convert value into a JSON string: ",H),te(null,Ce)}}function me(H){if(H.substring(0,Ze)!==Ne)return JSON.parse(H);var te=H.substring(B),Y=H.substring(Ze,B),ae;if(Y===Je&&Fe.test(te)){var ue=te.match(Fe);ae=ue[1],te=te.substring(ue[0].length)}var ie=de(te);switch(Y){case pt:return ie;case Je:return u([ie],{type:ae});case qe:return new Int8Array(ie);case lt:return new Uint8Array(ie);case It:return new Uint8ClampedArray(ie);case Nt:return new Int16Array(ie);case Pt:return new Uint16Array(ie);case Rt:return new Int32Array(ie);case rt:return new Uint32Array(ie);case Lt:return new Float32Array(ie);case xe:return new Float64Array(ie);default:throw new Error("Unkown type: "+Y)}}var U={serialize:Z,deserialize:me,stringToBuffer:de,bufferToString:be};function Se(H,te,Y,ae){H.executeSql("CREATE TABLE IF NOT EXISTS "+te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,ae)}function ze(H){var te=this,Y={db:null};if(H)for(var ae in H)Y[ae]=typeof H[ae]!="string"?H[ae].toString():H[ae];var ue=new c(function(ie,Ce){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ie){return Ce(Ie)}Y.db.transaction(function(Ie){Se(Ie,Y,function(){te._dbInfo=Y,ie()},function(Pe,Oe){Ce(Oe)})},Ce)});return Y.serializer=U,ue}function P(H,te,Y,ae,ue,ie){H.executeSql(Y,ae,ue,function(Ce,Ie){Ie.code===Ie.SYNTAX_ERR?Ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[te.storeName],function(Pe,Oe){Oe.rows.length?ie(Pe,Ie):Se(Pe,te,function(){Pe.executeSql(Y,ae,ue,ie)},ie)},ie):ie(Ce,Ie)},ie)}function ge(H,te){var Y=this;H=d(H);var ae=new c(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT * FROM "+Ce.storeName+" WHERE key = ? LIMIT 1",[H],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).value:null;Ue&&(Ue=Ce.serializer.deserialize(Ue)),ue(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function _e(H,te){var Y=this,ae=new c(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT * FROM "+Ce.storeName,[],function(Pe,Oe){for(var Ue=Oe.rows,Ke=Ue.length,bt=0;bt<Ke;bt++){var Vt=Ue.item(bt),Ht=Vt.value;if(Ht&&(Ht=Ce.serializer.deserialize(Ht)),Ht=H(Ht,Vt.key,bt+1),Ht!==void 0){ue(Ht);return}}ue()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function V(H,te,Y,ae){var ue=this;H=d(H);var ie=new c(function(Ce,Ie){ue.ready().then(function(){te===void 0&&(te=null);var Pe=te,Oe=ue._dbInfo;Oe.serializer.serialize(te,function(Ue,Ke){Ke?Ie(Ke):Oe.db.transaction(function(bt){P(bt,Oe,"INSERT OR REPLACE INTO "+Oe.storeName+" (key, value) VALUES (?, ?)",[H,Ue],function(){Ce(Pe)},function(Vt,Ht){Ie(Ht)})},function(bt){if(bt.code===bt.QUOTA_ERR){if(ae>0){Ce(V.apply(ue,[H,Pe,Y,ae-1]));return}Ie(bt)}})})}).catch(Ie)});return h(ie,Y),ie}function ee(H,te,Y){return V.apply(this,[H,te,Y,1])}function ce(H,te){var Y=this;H=d(H);var ae=new c(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"DELETE FROM "+Ce.storeName+" WHERE key = ?",[H],function(){ue()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function He(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"DELETE FROM "+ie.storeName,[],function(){ae()},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,H),Y}function De(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(Ie,Pe){var Oe=Pe.rows.item(0).c;ae(Oe)},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,H),Y}function Ve(H,te){var Y=this,ae=new c(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT key FROM "+Ce.storeName+" WHERE id = ? LIMIT 1",[H+1],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).key:null;ue(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function ut(H){var te=this,Y=new c(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"SELECT key FROM "+ie.storeName,[],function(Ie,Pe){for(var Oe=[],Ue=0;Ue<Pe.rows.length;Ue++)Oe.push(Pe.rows.item(Ue).key);ae(Oe)},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,H),Y}function Xr(H){return new c(function(te,Y){H.transaction(function(ae){ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,ie){for(var Ce=[],Ie=0;Ie<ie.rows.length;Ie++)Ce.push(ie.rows.item(Ie).name);te({db:H,storeNames:Ce})},function(ue,ie){Y(ie)})},function(ae){Y(ae)})})}function Ot(H,te){te=m.apply(this,arguments);var Y=this.config();H=typeof H!="function"&&H||{},H.name||(H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName);var ae=this,ue;return H.name?ue=new c(function(ie){var Ce;H.name===Y.name?Ce=ae._dbInfo.db:Ce=openDatabase(H.name,"","",0),H.storeName?ie({db:Ce,storeNames:[H.storeName]}):ie(Xr(Ce))}).then(function(ie){return new c(function(Ce,Ie){ie.db.transaction(function(Pe){function Oe(Vt){return new c(function(Ht,Br){Pe.executeSql("DROP TABLE IF EXISTS "+Vt,[],function(){Ht()},function(Ar,vi){Br(vi)})})}for(var Ue=[],Ke=0,bt=ie.storeNames.length;Ke<bt;Ke++)Ue.push(Oe(ie.storeNames[Ke]));c.all(Ue).then(function(){Ce()}).catch(function(Vt){Ie(Vt)})},function(Pe){Ie(Pe)})})}):ue=c.reject("Invalid arguments"),h(ue,te),ue}var Qe={_driver:"webSQLStorage",_initStorage:ze,_support:Ae(),iterate:_e,getItem:ge,setItem:ee,removeItem:ce,clear:He,length:De,key:Ve,keys:ut,dropInstance:Ot};function $t(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function yr(H,te){var Y=H.name+"/";return H.storeName!==te.storeName&&(Y+=H.storeName+"/"),Y}function tn(){var H="_localforage_support_test";try{return localStorage.setItem(H,!0),localStorage.removeItem(H),!1}catch{return!0}}function Js(){return!tn()||localStorage.length>0}function Qs(H){var te=this,Y={};if(H)for(var ae in H)Y[ae]=H[ae];return Y.keyPrefix=yr(H,te._defaultConfig),Js()?(te._dbInfo=Y,Y.serializer=U,c.resolve()):c.reject()}function xr(H){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var ie=localStorage.key(ue);ie.indexOf(ae)===0&&localStorage.removeItem(ie)}});return h(Y,H),Y}function zn(H,te){var Y=this;H=d(H);var ae=Y.ready().then(function(){var ue=Y._dbInfo,ie=localStorage.getItem(ue.keyPrefix+H);return ie&&(ie=ue.serializer.deserialize(ie)),ie});return h(ae,te),ae}function Hr(H,te){var Y=this,ae=Y.ready().then(function(){for(var ue=Y._dbInfo,ie=ue.keyPrefix,Ce=ie.length,Ie=localStorage.length,Pe=1,Oe=0;Oe<Ie;Oe++){var Ue=localStorage.key(Oe);if(Ue.indexOf(ie)===0){var Ke=localStorage.getItem(Ue);if(Ke&&(Ke=ue.serializer.deserialize(Ke)),Ke=H(Ke,Ue.substring(Ce),Pe++),Ke!==void 0)return Ke}}});return h(ae,te),ae}function Ii(H,te){var Y=this,ae=Y.ready().then(function(){var ue=Y._dbInfo,ie;try{ie=localStorage.key(H)}catch{ie=null}return ie&&(ie=ie.substring(ue.keyPrefix.length)),ie});return h(ae,te),ae}function pi(H){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo,ue=localStorage.length,ie=[],Ce=0;Ce<ue;Ce++){var Ie=localStorage.key(Ce);Ie.indexOf(ae.keyPrefix)===0&&ie.push(Ie.substring(ae.keyPrefix.length))}return ie});return h(Y,H),Y}function Rh(H){var te=this,Y=te.keys().then(function(ae){return ae.length});return h(Y,H),Y}function V5(H,te){var Y=this;H=d(H);var ae=Y.ready().then(function(){var ue=Y._dbInfo;localStorage.removeItem(ue.keyPrefix+H)});return h(ae,te),ae}function G5(H,te,Y){var ae=this;H=d(H);var ue=ae.ready().then(function(){te===void 0&&(te=null);var ie=te;return new c(function(Ce,Ie){var Pe=ae._dbInfo;Pe.serializer.serialize(te,function(Oe,Ue){if(Ue)Ie(Ue);else try{localStorage.setItem(Pe.keyPrefix+H,Oe),Ce(ie)}catch(Ke){(Ke.name==="QuotaExceededError"||Ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Ke),Ie(Ke)}})})});return h(ue,Y),ue}function X5(H,te){if(te=m.apply(this,arguments),H=typeof H!="function"&&H||{},!H.name){var Y=this.config();H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName}var ae=this,ue;return H.name?ue=new c(function(ie){H.storeName?ie(yr(H,ae._defaultConfig)):ie(H.name+"/")}).then(function(ie){for(var Ce=localStorage.length-1;Ce>=0;Ce--){var Ie=localStorage.key(Ce);Ie.indexOf(ie)===0&&localStorage.removeItem(Ie)}}):ue=c.reject("Invalid arguments"),h(ue,te),ue}var H5={_driver:"localStorageWrapper",_initStorage:Qs,_support:$t(),iterate:Hr,getItem:zn,setItem:G5,removeItem:V5,clear:xr,length:Rh,key:Ii,keys:pi,dropInstance:X5},z5=function(te,Y){return te===Y||typeof te=="number"&&typeof Y=="number"&&isNaN(te)&&isNaN(Y)},W5=function(te,Y){for(var ae=te.length,ue=0;ue<ae;){if(z5(te[ue],Y))return!0;ue++}return!1},mC=Array.isArray||function(H){return Object.prototype.toString.call(H)==="[object Array]"},Zu={},gC={},el={INDEXEDDB:ve,WEBSQL:Qe,LOCALSTORAGE:H5},Y5=[el.INDEXEDDB._driver,el.WEBSQL._driver,el.LOCALSTORAGE._driver],Ph=["dropInstance"],Zv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ph),q5={description:"",driver:Y5.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function K5(H,te){H[te]=function(){var Y=arguments;return H.ready().then(function(){return H[te].apply(H,Y)})}}function Jv(){for(var H=1;H<arguments.length;H++){var te=arguments[H];if(te)for(var Y in te)te.hasOwnProperty(Y)&&(mC(te[Y])?arguments[0][Y]=te[Y].slice():arguments[0][Y]=te[Y])}return arguments[0]}var Z5=function(){function H(te){o(this,H);for(var Y in el)if(el.hasOwnProperty(Y)){var ae=el[Y],ue=ae._driver;this[Y]=ue,Zu[ue]||this.defineDriver(ae)}this._defaultConfig=Jv({},q5),this._config=Jv({},this._defaultConfig,te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return H.prototype.config=function(Y){if((typeof Y>"u"?"undefined":a(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ae in Y){if(ae==="storeName"&&(Y[ae]=Y[ae].replace(/\W/g,"_")),ae==="version"&&typeof Y[ae]!="number")return new Error("Database version must be a number.");this._config[ae]=Y[ae]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},H.prototype.defineDriver=function(Y,ae,ue){var ie=new c(function(Ce,Ie){try{var Pe=Y._driver,Oe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ie(Oe);return}for(var Ue=Zv.concat("_initStorage"),Ke=0,bt=Ue.length;Ke<bt;Ke++){var Vt=Ue[Ke],Ht=!W5(Ph,Vt);if((Ht||Y[Vt])&&typeof Y[Vt]!="function"){Ie(Oe);return}}var Br=function(){for(var Ju=function(eU){return function(){var tU=new Error("Method "+eU+" is not implemented by the current driver"),_C=c.reject(tU);return h(_C,arguments[arguments.length-1]),_C}},Qv=0,Q5=Ph.length;Qv<Q5;Qv++){var em=Ph[Qv];Y[em]||(Y[em]=Ju(em))}};Br();var Ar=function(Ju){Zu[Pe]&&console.info("Redefining LocalForage driver: "+Pe),Zu[Pe]=Y,gC[Pe]=Ju,Ce()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(Ar,Ie):Ar(!!Y._support):Ar(!0)}catch(vi){Ie(vi)}});return p(ie,ae,ue),ie},H.prototype.driver=function(){return this._driver||null},H.prototype.getDriver=function(Y,ae,ue){var ie=Zu[Y]?c.resolve(Zu[Y]):c.reject(new Error("Driver not found."));return p(ie,ae,ue),ie},H.prototype.getSerializer=function(Y){var ae=c.resolve(U);return p(ae,Y),ae},H.prototype.ready=function(Y){var ae=this,ue=ae._driverSet.then(function(){return ae._ready===null&&(ae._ready=ae._initDriver()),ae._ready});return p(ue,Y,Y),ue},H.prototype.setDriver=function(Y,ae,ue){var ie=this;mC(Y)||(Y=[Y]);var Ce=this._getSupportedDrivers(Y);function Ie(){ie._config.driver=ie.driver()}function Pe(Ke){return ie._extend(Ke),Ie(),ie._ready=ie._initStorage(ie._config),ie._ready}function Oe(Ke){return function(){var bt=0;function Vt(){for(;bt<Ke.length;){var Ht=Ke[bt];return bt++,ie._dbInfo=null,ie._ready=null,ie.getDriver(Ht).then(Pe).catch(Vt)}Ie();var Br=new Error("No available storage method found.");return ie._driverSet=c.reject(Br),ie._driverSet}return Vt()}}var Ue=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=Ue.then(function(){var Ke=Ce[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(Ke).then(function(bt){ie._driver=bt._driver,Ie(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=Oe(Ce)})}).catch(function(){Ie();var Ke=new Error("No available storage method found.");return ie._driverSet=c.reject(Ke),ie._driverSet}),p(this._driverSet,ae,ue),this._driverSet},H.prototype.supports=function(Y){return!!gC[Y]},H.prototype._extend=function(Y){Jv(this,Y)},H.prototype._getSupportedDrivers=function(Y){for(var ae=[],ue=0,ie=Y.length;ue<ie;ue++){var Ce=Y[ue];this.supports(Ce)&&ae.push(Ce)}return ae},H.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,ae=Zv.length;Y<ae;Y++)K5(this,Zv[Y])},H.prototype.createInstance=function(Y){return new H(Y)},H}(),J5=new Z5;n.exports=J5},{3:3}]},{},[4])(4)})})(sL);var Ns=sL.exports;const Sa=Cn(Ns);var vw={exports:{}},lL=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},PY=lL,Hs=Object.prototype.toString;function mw(t){return Hs.call(t)==="[object Array]"}function vx(t){return typeof t>"u"}function OY(t){return t!==null&&!vx(t)&&t.constructor!==null&&!vx(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function kY(t){return Hs.call(t)==="[object ArrayBuffer]"}function FY(t){return typeof FormData<"u"&&t instanceof FormData}function NY(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function LY(t){return typeof t=="string"}function BY(t){return typeof t=="number"}function uL(t){return t!==null&&typeof t=="object"}function Bd(t){if(Hs.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function MY(t){return Hs.call(t)==="[object Date]"}function DY(t){return Hs.call(t)==="[object File]"}function UY(t){return Hs.call(t)==="[object Blob]"}function fL(t){return Hs.call(t)==="[object Function]"}function jY(t){return uL(t)&&fL(t.pipe)}function $Y(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function VY(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function GY(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function gw(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),mw(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function mx(){var t={};function e(i,a){Bd(t[a])&&Bd(i)?t[a]=mx(t[a],i):Bd(i)?t[a]=mx({},i):mw(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)gw(arguments[r],e);return t}function XY(t,e,r){return gw(e,function(i,a){r&&typeof i=="function"?t[a]=PY(i,r):t[a]=i}),t}function HY(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var ci={isArray:mw,isArrayBuffer:kY,isBuffer:OY,isFormData:FY,isArrayBufferView:NY,isString:LY,isNumber:BY,isObject:uL,isPlainObject:Bd,isUndefined:vx,isDate:MY,isFile:DY,isBlob:UY,isFunction:fL,isStream:jY,isURLSearchParams:$Y,isStandardBrowserEnv:GY,forEach:gw,merge:mx,extend:XY,trim:VY,stripBOM:HY},il=ci;function wA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var cL=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(il.isURLSearchParams(r))i=r.toString();else{var a=[];il.forEach(r,function(f,l){f===null||typeof f>"u"||(il.isArray(f)?l=l+"[]":f=[f],il.forEach(f,function(c){il.isDate(c)?c=c.toISOString():il.isObject(c)&&(c=JSON.stringify(c)),a.push(wA(l)+"="+wA(c))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},zY=ci;function kp(){this.handlers=[]}kp.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};kp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};kp.prototype.forEach=function(e){zY.forEach(this.handlers,function(n){n!==null&&e(n)})};var WY=kp,YY=ci,qY=function(e,r){YY.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},hL=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Fm,SA;function dL(){if(SA)return Fm;SA=1;var t=hL;return Fm=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},Fm}var Nm,CA;function KY(){if(CA)return Nm;CA=1;var t=dL();return Nm=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},Nm}var Lm,TA;function ZY(){if(TA)return Lm;TA=1;var t=ci;return Lm=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,f){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Lm}var Bm,AA;function JY(){return AA||(AA=1,Bm=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),Bm}var Mm,IA;function QY(){return IA||(IA=1,Mm=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),Mm}var Dm,RA;function eq(){if(RA)return Dm;RA=1;var t=JY(),e=QY();return Dm=function(n,i){return n&&!t(i)?e(n,i):i},Dm}var Um,PA;function tq(){if(PA)return Um;PA=1;var t=ci,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Um=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Um}var jm,OA;function rq(){if(OA)return jm;OA=1;var t=ci;return jm=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var f=t.isString(s)?a(s):s;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}(),jm}var $m,kA;function Fp(){if(kA)return $m;kA=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,$m=t,$m}var Vm,FA;function NA(){if(FA)return Vm;FA=1;var t=ci,e=KY(),r=ZY(),n=cL,i=eq(),a=tq(),o=rq(),s=dL(),f=Np(),l=Fp();return Vm=function(c){return new Promise(function(p,d){var m=c.data,_=c.headers,v=c.responseType,g;function y(){c.cancelToken&&c.cancelToken.unsubscribe(g),c.signal&&c.signal.removeEventListener("abort",g)}t.isFormData(m)&&delete _["Content-Type"];var x=new XMLHttpRequest;if(c.auth){var b=c.auth.username||"",E=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";_.Authorization="Basic "+btoa(b+":"+E)}var w=i(c.baseURL,c.url);x.open(c.method.toUpperCase(),n(w,c.params,c.paramsSerializer),!0),x.timeout=c.timeout;function S(){if(x){var T="getAllResponseHeaders"in x?a(x.getAllResponseHeaders()):null,I=!v||v==="text"||v==="json"?x.responseText:x.response,A={data:I,status:x.status,statusText:x.statusText,headers:T,config:c,request:x};e(function(O){p(O),y()},function(O){d(O),y()},A),x=null}}if("onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(d(s("Request aborted",c,"ECONNABORTED",x)),x=null)},x.onerror=function(){d(s("Network Error",c,null,x)),x=null},x.ontimeout=function(){var I=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",A=c.transitional||f.transitional;c.timeoutErrorMessage&&(I=c.timeoutErrorMessage),d(s(I,c,A.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},t.isStandardBrowserEnv()){var C=(c.withCredentials||o(w))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;C&&(_[c.xsrfHeaderName]=C)}"setRequestHeader"in x&&t.forEach(_,function(I,A){typeof m>"u"&&A.toLowerCase()==="content-type"?delete _[A]:x.setRequestHeader(A,I)}),t.isUndefined(c.withCredentials)||(x.withCredentials=!!c.withCredentials),v&&v!=="json"&&(x.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&x.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(g=function(T){x&&(d(!T||T&&T.type?new l("canceled"):T),x.abort(),x=null)},c.cancelToken&&c.cancelToken.subscribe(g),c.signal&&(c.signal.aborted?g():c.signal.addEventListener("abort",g))),m||(m=null),x.send(m)})},Vm}var Gm,LA;function Np(){if(LA)return Gm;LA=1;var t=ci,e=qY,r=hL,n={"Content-Type":"application/x-www-form-urlencoded"};function i(f,l){!t.isUndefined(f)&&t.isUndefined(f["Content-Type"])&&(f["Content-Type"]=l)}function a(){var f;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(f=NA()),f}function o(f,l,u){if(t.isString(f))try{return(l||JSON.parse)(f),t.trim(f)}catch(c){if(c.name!=="SyntaxError")throw c}return(u||JSON.stringify)(f)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,c=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!c&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),Gm=s,Gm}var nq=ci,iq=Np(),aq=function(e,r,n){var i=this||iq;return nq.forEach(n,function(o){e=o.call(i,e,r)}),e},Xm,BA;function pL(){return BA||(BA=1,Xm=function(e){return!!(e&&e.__CANCEL__)}),Xm}var MA=ci,Hm=aq,oq=pL(),sq=Np(),lq=Fp();function zm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lq("canceled")}var uq=function(e){zm(e),e.headers=e.headers||{},e.data=Hm.call(e,e.data,e.headers,e.transformRequest),e.headers=MA.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),MA.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||sq.adapter;return r(e).then(function(i){return zm(e),i.data=Hm.call(e,i.data,i.headers,e.transformResponse),i},function(i){return oq(i)||(zm(e),i&&i.response&&(i.response.data=Hm.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},ni=ci,vL=function(e,r){r=r||{};var n={};function i(u,c){return ni.isPlainObject(u)&&ni.isPlainObject(c)?ni.merge(u,c):ni.isPlainObject(c)?ni.merge({},c):ni.isArray(c)?c.slice():c}function a(u){if(ni.isUndefined(r[u])){if(!ni.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!ni.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(ni.isUndefined(r[u])){if(!ni.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function f(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return ni.forEach(Object.keys(e).concat(Object.keys(r)),function(c){var h=l[c]||a,p=h(c);ni.isUndefined(p)&&h!==f||(n[c]=p)}),n},Wm,DA;function mL(){return DA||(DA=1,Wm={version:"0.24.0"}),Wm}var fq=mL().version,_w={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){_w[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var UA={};_w.transitional=function(e,r,n){function i(a,o){return"[Axios v"+fq+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!UA[o]&&(UA[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function cq(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],f=s===void 0||o(s,a,t);if(f!==!0)throw new TypeError("option "+a+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+a)}}var hq={assertOptions:cq,validators:_w},gL=ci,dq=cL,jA=WY,$A=uq,Lp=vL,_L=hq,al=_L.validators;function hh(t){this.defaults=t,this.interceptors={request:new jA,response:new jA}}hh.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Lp(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&_L.assertOptions(r,{silentJSONParsing:al.transitional(al.boolean),forcedJSONParsing:al.transitional(al.boolean),clarifyTimeoutError:al.transitional(al.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[$A,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var f=e;n.length;){var l=n.shift(),u=n.shift();try{f=l(f)}catch(c){u(c);break}}try{o=$A(f)}catch(c){return Promise.reject(c)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};hh.prototype.getUri=function(e){return e=Lp(this.defaults,e),dq(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};gL.forEach(["delete","get","head","options"],function(e){hh.prototype[e]=function(r,n){return this.request(Lp(n||{},{method:e,url:r,data:(n||{}).data}))}});gL.forEach(["post","put","patch"],function(e){hh.prototype[e]=function(r,n,i){return this.request(Lp(i||{},{method:e,url:r,data:n}))}});var pq=hh,Ym,VA;function vq(){if(VA)return Ym;VA=1;var t=Fp();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(f){i.subscribe(f),o=f}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Ym=e,Ym}var qm,GA;function mq(){return GA||(GA=1,qm=function(e){return function(n){return e.apply(null,n)}}),qm}var Km,XA;function gq(){return XA||(XA=1,Km=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Km}var HA=ci,_q=lL,Md=pq,yq=vL,xq=Np();function yL(t){var e=new Md(t),r=_q(Md.prototype.request,e);return HA.extend(r,Md.prototype,e),HA.extend(r,e),r.create=function(i){return yL(yq(t,i))},r}var Ca=yL(xq);Ca.Axios=Md;Ca.Cancel=Fp();Ca.CancelToken=vq();Ca.isCancel=pL();Ca.VERSION=mL().version;Ca.all=function(e){return Promise.all(e)};Ca.spread=mq();Ca.isAxiosError=gq();vw.exports=Ca;vw.exports.default=Ca;var bq=vw.exports,Eq=bq;const wq=Eq;class Sq{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log的第一个参数不是字符串",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&wq.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var Cq=Sq;const Tq=Cn(Cq),je=new Tq,Aq={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},Iq={common:{yes:"はい",no:"いいえ"},menu:{options:{title:"CONFIG",pages:{system:{title:"システム",options:{autoSpeed:{title:"自動再生速度",options:{slow:"遅く",medium:"標準",fast:"速く"}},language:{title:"言語"},resetData:{title:"データの削除またに復元",options:{clearGameSave:"すべてのアーカイブを削除",resetSettings:"デフォルト設置を復元",clearAll:"すべてのデータを削除"},dialogs:{clearGameSave:"アーカイブをクリアしてもよろしいですか？",resetSettings:"デフォルト設定を復元してもよろしいですか？",clearAll:"すべてのデータを削除してもよろしいですか？"}},gameSave:{title:"アーカイブとオプションのインポートまたはエクスポート",options:{export:"アーカイブとオプションのエクスポート",import:"アーカイブとオプションのインポート"},dialogs:{import:{title:"アーカイブとオプションをインポートしますか？",tip:"インポートアーカイブ",error:"アーカイブの解析に失败しました"}}},about:{title:"WebGALについて",subTitle:"WebGAL：開源のウェブ基盤視覚小説エンジン",version:"版数",source:"源コード保管所",contributors:"貢献者",website:"ウェブサイト"}}},display:{title:"ウィンドウ",options:{textSpeed:{title:"テキスト表示速度",options:{slow:"遅く",medium:"標準",fast:"速く"}},textSize:{title:"テキストサイズ",options:{small:"小",medium:"中",large:"大"}},textFont:{title:"フォント",options:{siYuanSimSun:"源ノ明朝",SimHei:"黒体",lxgw:"霞鴎文隷"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"テキスト表示プレビュー",text:"プレビューはテキストボックスのテキストサイズとテキスト表示速度です。上記のオプションでフォントも変更できます。"}}},sound:{title:"サウンド",options:{volumeMain:{title:"MAIN 音量"},vocalVolume:{title:"VOICE 音量"},bgmVolume:{title:"BGM 音量"},seVolume:{title:"SE 音量"},uiSeVolume:{title:"UI 効果音音量"}}}}},saving:{title:"SAVE",isOverwrite:"上書きしますか？"},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"初めから",subtitle:"START"},continue:{title:"続きから",subtitle:"CONTINUE"},options:{title:"設定",subtitle:"CONFIG"},load:{title:"ロード",subtitle:"LOAD"},extra:{title:"鑑賞モード",subtitle:"EXTRA"}},gaming:{noSaving:"クイックセーブなし",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:"タイトル画面に戻ることを確認しますか"}},extra:{title:"鑑賞モード"}},Rq={common:{yes:"是",no:"否",confirm:"确认",cancel:"取消"},menu:{options:{title:"选项",pages:{system:{title:"系统",options:{autoSpeed:{title:"自动播放速度",options:{slow:"慢",medium:"中",fast:"快"}},language:{title:"语言"},resetData:{title:"清除或还原数据",options:{clearGameSave:"清除所有存档",resetSettings:"还原默认设置",clearAll:"清除所有数据"},dialogs:{clearGameSave:"确定要清除存档吗",resetSettings:"确定要还原默认设置吗",clearAll:"确定要清除所有数据吗"}},gameSave:{title:"导入或导出存档与选项",options:{export:"导出存档与选项",import:"导入存档与选项"},dialogs:{import:{title:"确定要导入存档与选项吗",tip:"导入存档",error:"存档解析失败"}}},about:{title:"关于 WebGAL",subTitle:"WebGAL：开源的网页端视觉小说引擎",version:"版本号",source:"源代码仓库",contributors:"贡献者",website:"网站"}}},display:{title:"显示",options:{fullScreen:{title:"全屏模式",options:{on:"开启",off:"关闭"}},textSpeed:{title:"文字显示速度",options:{slow:"慢",medium:"中",fast:"快"}},textSize:{title:"文本大小",options:{small:"小",medium:"中",large:"大"}},textFont:{title:"文本字体",options:{siYuanSimSun:"思源宋体",SimHei:"黑体",lxgw:"霞鹜文楷"}},textboxOpacity:{title:"文本框不透明度"},textPreview:{title:"文本显示预览",text:"现在预览的是文本框字体大小和播放速度的情况，您可以根据您的观感调整上面的选项。"}}},sound:{title:"音频",options:{volumeMain:{title:"主音量"},vocalVolume:{title:"语音音量"},bgmVolume:{title:"背景音乐音量"},seVolume:{title:"音效音量"},uiSeVolume:{title:"用户界面音效音量"},voiceOption:{title:"是否中断语音"},voiceStop:{title:"停止语音"},voiceContinue:{title:"继续语音"}}}}},saving:{title:"存档",isOverwrite:"是否覆盖存档？"},extra:{title:"鉴赏模式"},loadSaving:{title:"读档"},title:{title:"标题",options:{load:"",extra:"鉴赏模式"}},exit:{title:"返回"}},title:{start:{title:"开始",subtitle:"START"},continue:{title:"继续游戏",subtitle:"CONTINUE"},options:{title:"设置",subtitle:"OPTIONS"},load:{title:"读取",subtitle:"LOAD"},extra:{title:"画廊",subtitle:"EXTRA"},quit:{title:"退出",subtitle:"QUIT"},storyLine:{title:"故事线",subtitle:"STORYLINE"},achievement:{title:"成就",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"美女图鉴",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"暂无存档",buttons:{hide:"隐藏",show:"显示",backlog:"回想",replay:"重播",auto:"自动",forward:"快进",quicklySave:"快速存档",quicklyLoad:"快速读档",save:"存档",load:"读档",options:"选项",title:"标题",titleTips:"确认返回到标题界面吗",quitTips:`返回标题界面将丢失未保存的进度，
确认返回标题画面吗`,backToGame:"返回游戏",preserve:"保存",read:"读取",setting:"设置",backToTitle:"退出游戏",collection:"收藏",collected:"已收藏"}},extra:{title:"鉴赏模式"},r18:{title:"欢迎",desction:"请确认您已年满 18 周岁才能进入本网站。",agree:"同意",disagree:"不同意"}},Pq={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Système",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou réinitialiser les données",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Réinitialiser les paramètres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"Êtes-vous sûr de vouloir effacer la sauvegarde du jeu",resetSettings:"Êtes-vous sûr de vouloir réinitialiser tous les paramètres",clearAll:"Êtes-vous sûr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"Êtes-vous sûr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:"À propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel basé sur le web en open-source",version:"Version",source:"Dépôt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperçu de l'affichage du texte",text:"Vous prévisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de l’interface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"Êtes-vous sûr de vouloir écraser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour à l'écran titre"}},extra:{title:"EXTRA"}},Oq={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten löschen oder zurücksetzen",options:{clearGameSave:"Alle Spielstände löschen",resetSettings:"Alle Einstellungen zurücksetzen",clearAll:"Alle Daten löschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand löschen möchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurücksetzen möchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten löschen möchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren möchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"Über WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgröße",options:{small:"Klein",medium:"Normal",large:"Groß"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie können jederzeit die Schriftart, Größe und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstärke"},vocalVolume:{title:"Stimmlautstärke"},bgmVolume:{title:"Musiklautstärke"},seVolume:{title:"Soundeffektlautstärke"},uiSeVolume:{title:"UI Soundeffektlautstärke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand überschreiben möchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURÜCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"Überspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},kq={common:{yes:"是",no:"否"},menu:{options:{title:"選項",pages:{system:{title:"系統",options:{autoSpeed:{title:"自動播放速度",options:{slow:"慢",medium:"中",fast:"快"}},language:{title:"語言"},resetData:{title:"清除或還原數據",options:{clearGameSave:"清除所有存檔",resetSettings:"還原默認設定",clearAll:"清除所有數據"},dialogs:{clearGameSave:"確定要清除存檔嗎",resetSettings:"確定要還原默認設定嗎",clearAll:"確定要清除所有數據嗎"}},gameSave:{title:"導入或導出存檔與選項",options:{export:"導出存檔與選項",import:"導入存檔與選項"},dialogs:{import:{title:"確定要導入存檔與選項嗎",tip:"導入存檔",error:"存檔解析失敗"}}},about:{title:"關於 WebGAL",subTitle:"WebGAL：開源的線上視覺小說製作引擎",version:"版本號",source:"源代碼倉庫",contributors:"貢獻者",website:"網站"}}},display:{title:"顯示",options:{textSpeed:{title:"文字顯示速度",options:{slow:"慢",medium:"中",fast:"快"}},textSize:{title:"文字大小",options:{small:"小",medium:"中",large:"大"}},textFont:{title:"文字字體",options:{siYuanSimSun:"霞鹜文楷",SimHei:"黑體"}},textboxOpacity:{title:"文本框不透明度"},textPreview:{title:"文字顯示預覽",text:"現在預覽的是文字框字體大小和播放速度的情況，您可以根據您的觀感調整上面的選項。"}}},sound:{title:"音量",options:{volumeMain:{title:"主音量"},vocalVolume:{title:"語音音量"},bgmVolume:{title:"背景音樂音量"},seVolume:{title:"音效音量"},uiSeVolume:{title:"用戶界面音效音量"}}}}},saving:{title:"存檔",isOverwrite:"是否要覆蓋存檔?"},loadSaving:{title:"讀檔"},title:{title:"標題",options:{load:"",extra:"CG模式"}},exit:{title:"返回"}},title:{start:{title:"開始遊戲",subtitle:"START"},continue:{title:"繼續遊戲",subtitle:"CONTINUE"},options:{title:"遊戲選項",subtitle:"OPTIONS"},load:{title:"讀取存檔",subtitle:"LOAD"},extra:{title:"CG模式",subtitle:"EXTRA"}},gaming:{noSaving:"暫無存檔",buttons:{hide:"隱藏",show:"顯示",backlog:"回想",replay:"重播",auto:"自動",forward:"加速",quicklySave:"快速存檔",quicklyLoad:"快速讀檔",save:"存檔",load:"讀檔",options:"選項",title:"標題",titleTips:"確認返回到標題界面嗎"}},extra:{title:"CG模式"}};var Lu=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Lu||{});const zA={zhCn:"中文",en:"English",jp:"日本語",fr:"Français",de:"Deutsch",zhTw:"繁體中文"},Fq={en:{translation:Aq},zhCn:{translation:Rq},jp:{translation:Iq},fr:{translation:Pq},de:{translation:Oq},zhTw:{translation:kq}},Nq=0;var xL=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(xL||{}),Io=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(Io||{}),Ss=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Ss||{}),yw=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(yw||{}),da=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(da||{});const bL={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:xL.normal,textSize:Io.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Ss.song,textboxOpacity:75,language:Lu.zhCn,voiceInterruption:yw.yes,fullScreen:da.off},gx={optionData:bL,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},EL=wp({name:"userData",initialState:gr(gx),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,bL)},resetAllData(t){Object.assign(t,gr(gx))}}}),{setUserData:TRe,resetUserData:xw,setOptionData:ji,setGlobalVar:Lq,setSlPage:P0,unlockCgInUserData:wL,unlockBgmInUserData:SL,resetOptionSet:ARe,resetAllData:IRe}=EL.actions,Bq=EL.reducer,CL={backlog_size:200,fast_timeout:50},Mq={textInitialDelay:80};class Dq{constructor(e){Xe(this,"isSaveBacklogNext",!1);Xe(this,"backlog",[]);Xe(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=le.getState().stage,r=gr(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:gr(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>CL.backlog_size;)this.getBacklog().shift()}}var Or=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t))(Or||{});const kr=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;default:r="";break}return r}},Uq=(t,e)=>{(!z.sceneManager.sceneAssetsList[e]||!Object.values(z.sceneManager.sceneAssetsList[e]).length)&&(z.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=z.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(df(e),je.warn("该资源已在预加载列表中，无需重复加载")):(console.log("预加载资源：",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",df(e),z.videoManager.preloadVideo(r.url)):(n[r.url]="loading",jq(r.url,3,1e3,()=>{n[r.url]="success",df(e)},()=>{n[r.url]="error",df(e);const i=z.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&z.sceneManager.settledAssets.splice(i,1)}),z.sceneManager.settledAssets.push(r.url)))}t.length===0&&df(e)},df=t=>{const e=z.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");z.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},jq=(t,e,r,n,i)=>{const a=(o,s)=>{const f=()=>{n()},l=()=>{o>0?(console.log(`重试加载资源：${t}，剩余次数：${o}，延迟时间：${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(window.isSafari)fetch(t).then(u=>{if(u.status>=400)throw new Error("Error!");f()}).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const c=document.getElementsByTagName("head");c.length&&c[0].appendChild(u),u.onload=f,u.onerror=l}};a(e,r)};var Ge;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue"})(Ge||(Ge={}));Ge.intro,Ge.changeBg,Ge.changeFigure,Ge.miniAvatar,Ge.changeScene,Ge.choose,Ge.end,Ge.bgm,Ge.video,Ge.setComplexAnimation,Ge.setFilter,Ge.pixiInit,Ge.pixi,Ge.label,Ge.jumpLabel,Ge.setVar,Ge.callScene,Ge.showVars,Ge.unlockCg,Ge.unlockBgm,Ge.say,Ge.filmMode,Ge.callScene,Ge.setTextbox,Ge.setAnimation,Ge.playEffect,Ge.applyStyle,Ge.unlockAchieve,Ge.unlockStoryline,Ge.showValue;Ge.bgm,Ge.pixi,Ge.pixiInit,Ge.label,Ge.if,Ge.miniAvatar,Ge.setVar,Ge.unlockBgm,Ge.unlockCg,Ge.filmMode,Ge.playEffect,Ge.showValue;var Mr;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(Mr||(Mr={}));function TL(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),f=a.slice(o+1);o<0&&(s=a,f=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Mr.vocal)}):f===void 0?r.push({key:s,value:!0}):f==="true"||f==="false"?r.push({key:s,value:f==="true"}):isNaN(Number(f))?r.push({key:s,value:f}):r.push({key:s,value:Number(f)})}),r}function $q(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of TL(o,(f,l)=>f))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function Vq(t){return t.replaceAll("\r","").split(`
`).map(r=>$q(r)).filter(r=>r.command!=="")}const WA=(t,e,r)=>{let n={type:Ge.say,additionalArgs:[]};const i=Gq(t,e,r);return n.type=i,i===Ge.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=Xq(n,i,e),n};function Gq(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??Ge.say}function Xq(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const Hq=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case Ge.playEffect:return r(t,Mr.vocal);case Ge.changeBg:return r(t,Mr.background);case Ge.changeFigure:return r(t,Mr.figure);case Ge.bgm:return r(t,Mr.bgm);case Ge.callScene:return r(t,Mr.scene);case Ge.changeScene:return r(t,Mr.scene);case Ge.miniAvatar:return r(t,Mr.figure);case Ge.video:return r(t,Mr.video);case Ge.choose:return zq(t,r);case Ge.unlockBgm:return r(t,Mr.bgm);case Ge.unlockCg:return r(t,Mr.background);default:return t}};function zq(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Mr.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const Wq=(t,e,r)=>{const n=[];return t===Ge.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Mr.vocal})}),e==="none"||e===""||(t===Ge.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Mr.background}),t===Ge.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Mr.figure}),t===Ge.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Mr.figure}),t===Ge.video&&n.push({name:e,url:e,lineNumber:0,type:Mr.video}),t===Ge.bgm&&n.push({name:e,url:e,lineNumber:0,type:Mr.bgm})),n},Yq=(t,e)=>{const r=[];return(t===Ge.changeScene||t===Ge.callScene)&&r.push(e),(t===Ge.choose||t===Ge.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},qq=(t,e,r,n)=>{let i,a,o;const s=[];let f,l,u,c=t.split(";")[0];if(c==="")return{command:Ge.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(c);if(h===null){u=c,l=WA(u,r,n),i=l.type;for(const d of l.additionalArgs)i===Ge.say&&d.key==="speaker"||s.push(d)}else{u=c.substring(0,h.index),c=c.substring(h.index+1,c.length),l=WA(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(c);if(p){const d=c.substring(p.index,t.length);c=c.substring(0,p.index);for(const m of TL(d,e))s.push(m)}return a=Hq(c,i,e),f=Wq(i,a,s),o=Yq(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:f,subScene:o}};var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kq=typeof Gh=="object"&&Gh&&Gh.Object===Object&&Gh,Zq=Kq,Jq=Zq,Qq=typeof self=="object"&&self&&self.Object===Object&&self,eK=Jq||Qq||Function("return this")(),Bp=eK,tK=Bp,rK=tK.Symbol,AL=rK,YA=AL,IL=Object.prototype,nK=IL.hasOwnProperty,iK=IL.toString,pf=YA?YA.toStringTag:void 0;function aK(t){var e=nK.call(t,pf),r=t[pf];try{t[pf]=void 0;var n=!0}catch{}var i=iK.call(t);return n&&(e?t[pf]=r:delete t[pf]),i}var oK=aK,sK=Object.prototype,lK=sK.toString;function uK(t){return lK.call(t)}var fK=uK,qA=AL,cK=oK,hK=fK,dK="[object Null]",pK="[object Undefined]",KA=qA?qA.toStringTag:void 0;function vK(t){return t==null?t===void 0?pK:dK:KA&&KA in Object(t)?cK(t):hK(t)}var mK=vK;function gK(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var RL=gK,_K=mK,yK=RL,xK="[object AsyncFunction]",bK="[object Function]",EK="[object GeneratorFunction]",wK="[object Proxy]";function SK(t){if(!yK(t))return!1;var e=_K(t);return e==bK||e==EK||e==xK||e==wK}var CK=SK,TK=Bp,AK=TK["__core-js_shared__"],IK=AK,Zm=IK,ZA=function(){var t=/[^.]+$/.exec(Zm&&Zm.keys&&Zm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RK(t){return!!ZA&&ZA in t}var PK=RK,OK=Function.prototype,kK=OK.toString;function FK(t){if(t!=null){try{return kK.call(t)}catch{}try{return t+""}catch{}}return""}var NK=FK,LK=CK,BK=PK,MK=RL,DK=NK,UK=/[\\^$.*+?()[\]{}|]/g,jK=/^\[object .+?Constructor\]$/,$K=Function.prototype,VK=Object.prototype,GK=$K.toString,XK=VK.hasOwnProperty,HK=RegExp("^"+GK.call(XK).replace(UK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zK(t){if(!MK(t)||BK(t))return!1;var e=LK(t)?HK:jK;return e.test(DK(t))}var WK=zK;function YK(t,e){return t==null?void 0:t[e]}var qK=YK,KK=WK,ZK=qK;function JK(t,e){var r=ZK(t,e);return KK(r)?r:void 0}var bw=JK,QK=bw,eZ=QK(Object,"create"),Mp=eZ,JA=Mp;function tZ(){this.__data__=JA?JA(null):{},this.size=0}var rZ=tZ;function nZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var iZ=nZ,aZ=Mp,oZ="__lodash_hash_undefined__",sZ=Object.prototype,lZ=sZ.hasOwnProperty;function uZ(t){var e=this.__data__;if(aZ){var r=e[t];return r===oZ?void 0:r}return lZ.call(e,t)?e[t]:void 0}var fZ=uZ,cZ=Mp,hZ=Object.prototype,dZ=hZ.hasOwnProperty;function pZ(t){var e=this.__data__;return cZ?e[t]!==void 0:dZ.call(e,t)}var vZ=pZ,mZ=Mp,gZ="__lodash_hash_undefined__";function _Z(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mZ&&e===void 0?gZ:e,this}var yZ=_Z,xZ=rZ,bZ=iZ,EZ=fZ,wZ=vZ,SZ=yZ;function Bu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bu.prototype.clear=xZ;Bu.prototype.delete=bZ;Bu.prototype.get=EZ;Bu.prototype.has=wZ;Bu.prototype.set=SZ;var CZ=Bu;function TZ(){this.__data__=[],this.size=0}var AZ=TZ;function IZ(t,e){return t===e||t!==t&&e!==e}var RZ=IZ,PZ=RZ;function OZ(t,e){for(var r=t.length;r--;)if(PZ(t[r][0],e))return r;return-1}var Dp=OZ,kZ=Dp,FZ=Array.prototype,NZ=FZ.splice;function LZ(t){var e=this.__data__,r=kZ(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():NZ.call(e,r,1),--this.size,!0}var BZ=LZ,MZ=Dp;function DZ(t){var e=this.__data__,r=MZ(e,t);return r<0?void 0:e[r][1]}var UZ=DZ,jZ=Dp;function $Z(t){return jZ(this.__data__,t)>-1}var VZ=$Z,GZ=Dp;function XZ(t,e){var r=this.__data__,n=GZ(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var HZ=XZ,zZ=AZ,WZ=BZ,YZ=UZ,qZ=VZ,KZ=HZ;function Mu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Mu.prototype.clear=zZ;Mu.prototype.delete=WZ;Mu.prototype.get=YZ;Mu.prototype.has=qZ;Mu.prototype.set=KZ;var ZZ=Mu,JZ=bw,QZ=Bp,eJ=JZ(QZ,"Map"),tJ=eJ,QA=CZ,rJ=ZZ,nJ=tJ;function iJ(){this.size=0,this.__data__={hash:new QA,map:new(nJ||rJ),string:new QA}}var aJ=iJ;function oJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var sJ=oJ,lJ=sJ;function uJ(t,e){var r=t.__data__;return lJ(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Up=uJ,fJ=Up;function cJ(t){var e=fJ(this,t).delete(t);return this.size-=e?1:0,e}var hJ=cJ,dJ=Up;function pJ(t){return dJ(this,t).get(t)}var vJ=pJ,mJ=Up;function gJ(t){return mJ(this,t).has(t)}var _J=gJ,yJ=Up;function xJ(t,e){var r=yJ(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var bJ=xJ,EJ=aJ,wJ=hJ,SJ=vJ,CJ=_J,TJ=bJ;function Du(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Du.prototype.clear=EJ;Du.prototype.delete=wJ;Du.prototype.get=SJ;Du.prototype.has=CJ;Du.prototype.set=TJ;var AJ=Du,IJ="__lodash_hash_undefined__";function RJ(t){return this.__data__.set(t,IJ),this}var PJ=RJ;function OJ(t){return this.__data__.has(t)}var kJ=OJ,FJ=AJ,NJ=PJ,LJ=kJ;function O0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new FJ;++e<r;)this.add(t[e])}O0.prototype.add=O0.prototype.push=NJ;O0.prototype.has=LJ;var BJ=O0;function MJ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var DJ=MJ;function UJ(t){return t!==t}var jJ=UJ;function $J(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var VJ=$J,GJ=DJ,XJ=jJ,HJ=VJ;function zJ(t,e,r){return e===e?HJ(t,e,r):GJ(t,XJ,r)}var WJ=zJ,YJ=WJ;function qJ(t,e){var r=t==null?0:t.length;return!!r&&YJ(t,e,0)>-1}var KJ=qJ;function ZJ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var JJ=ZJ;function QJ(t,e){return t.has(e)}var eQ=QJ,tQ=bw,rQ=Bp,nQ=tQ(rQ,"Set"),iQ=nQ;function aQ(){}var oQ=aQ;function sQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var PL=sQ,Jm=iQ,lQ=oQ,uQ=PL,fQ=1/0,cQ=Jm&&1/uQ(new Jm([,-0]))[1]==fQ?function(t){return new Jm(t)}:lQ,hQ=cQ,dQ=BJ,pQ=KJ,vQ=JJ,mQ=eQ,gQ=hQ,_Q=PL,yQ=200;function xQ(t,e,r){var n=-1,i=pQ,a=t.length,o=!0,s=[],f=s;if(r)o=!1,i=vQ;else if(a>=yQ){var l=e?null:gQ(t);if(l)return _Q(l);o=!1,i=mQ,f=new dQ}else f=e?[]:s;e:for(;++n<a;){var u=t[n],c=e?e(u):u;if(u=r||u!==0?u:0,o&&c===c){for(var h=f.length;h--;)if(f[h]===c)continue e;e&&f.push(c),s.push(u)}else i(f,c,r)||(f!==s&&f.push(c),s.push(u))}return s}var bQ=xQ,EQ=bQ;function wQ(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?EQ(t,void 0,e):[]}var SQ=wQ;const CQ=(t,e,r,n,i,a,o)=>{const f=t.split(`
`);let l=[],u=[];const c=f.map(h=>{const p=qq(h,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});return l=SQ(l),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:c,assetsList:l,subSceneList:u}};function TQ(t){const[e,r]=AQ(t);return{classNameStyles:e,others:r}}function AQ(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class IQ{constructor(e,r,n,i){Xe(this,"assetsPrefetcher");Xe(this,"assetSetter");Xe(this,"ADD_NEXT_ARG_LIST");Xe(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return CQ(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return Vq(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return TQ(e)}}function wt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const RQ=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=wt(t,"enter"),a=wt(t,"volume");return r!==""&&le.dispatch(SL({name:r,url:e,series:n})),oS(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var Ew={exports:{}},OL=function(e,r){return function(){return e.apply(r,arguments)}},PQ=OL,ww=Object.prototype.toString,Sw=function(t){return function(e){var r=ww.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Ho(t){return t=t.toLowerCase(),function(r){return Sw(r)===t}}function jp(t){return Array.isArray(t)}function _x(t){return typeof t>"u"}function OQ(t){return t!==null&&!_x(t)&&t.constructor!==null&&!_x(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var kL=Ho("ArrayBuffer");function kQ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kL(t.buffer),e}function FQ(t){return typeof t=="string"}function FL(t){return typeof t=="number"}function NL(t){return t!==null&&typeof t=="object"}function Dd(t){if(Sw(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function NQ(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var LQ=Ho("Date"),BQ=Ho("File"),MQ=Ho("Blob"),DQ=Ho("FileList");function Cw(t){return ww.call(t)==="[object Function]"}function UQ(t){return NL(t)&&Cw(t.pipe)}function jQ(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||ww.call(t)===e||Cw(t.toString)&&t.toString()===e)}var $Q=Ho("URLSearchParams");function VQ(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function GQ(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Tw(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),jp(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function yx(){var t={};function e(i,a){Dd(t[a])&&Dd(i)?t[a]=yx(t[a],i):Dd(i)?t[a]=yx({},i):jp(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)Tw(arguments[r],e);return t}function XQ(t,e,r){return Tw(e,function(i,a){r&&typeof i=="function"?t[a]=PQ(i,r):t[a]=i}),t}function HQ(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function zQ(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function WQ(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function YQ(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function qQ(t){if(!t)return null;if(jp(t))return t;var e=t.length;if(!FL(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var KQ=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function ZQ(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function JQ(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var QQ=Ho("HTMLFormElement"),eee=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),en={isArray:jp,isArrayBuffer:kL,isBuffer:OQ,isFormData:jQ,isArrayBufferView:kQ,isString:FQ,isNumber:FL,isObject:NL,isPlainObject:Dd,isEmptyObject:NQ,isUndefined:_x,isDate:LQ,isFile:BQ,isBlob:MQ,isFunction:Cw,isStream:UQ,isURLSearchParams:$Q,isStandardBrowserEnv:GQ,forEach:Tw,merge:yx,extend:XQ,trim:VQ,stripBOM:HQ,inherits:zQ,toFlatObject:WQ,kindOf:Sw,kindOfTest:Ho,endsWith:YQ,toArray:qQ,isTypedArray:KQ,isFileList:DQ,forEachEntry:ZQ,matchAll:JQ,isHTMLForm:QQ,hasOwnProperty:eee},LL=en;function su(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}LL.inherits(su,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var BL=su.prototype,ML={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){ML[t]={value:t}});Object.defineProperties(su,ML);Object.defineProperty(BL,"isAxiosError",{value:!0});su.from=function(t,e,r,n,i,a){var o=Object.create(BL);return LL.toFlatObject(t,o,function(f){return f!==Error.prototype}),su.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var zs=su,tee=typeof self=="object"?self.FormData:window.FormData,ree=tee,er=en,nee=zs,iee=ree;function xx(t){return er.isPlainObject(t)||er.isArray(t)}function DL(t){return er.endsWith(t,"[]")?t.slice(0,-2):t}function eI(t,e,r){return t?t.concat(e).map(function(i,a){return i=DL(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function aee(t){return er.isArray(t)&&!t.some(xx)}var oee=er.toFlatObject(er,{},null,function(e){return/^is[A-Z]/.test(e)});function see(t){return t&&er.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function lee(t,e,r){if(!er.isObject(t))throw new TypeError("target must be an object");e=e||new(iee||FormData),r=er.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!er.isUndefined(_[m])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,f=s&&see(e);if(!er.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(er.isDate(d))return d.toISOString();if(!f&&er.isBlob(d))throw new nee("Blob is not supported. Use a Buffer instead.");return er.isArrayBuffer(d)||er.isTypedArray(d)?f&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,m,_){var v=d;if(d&&!_&&typeof d=="object"){if(er.endsWith(m,"{}"))m=n?m:m.slice(0,-2),d=JSON.stringify(d);else if(er.isArray(d)&&aee(d)||er.isFileList(d)||er.endsWith(m,"[]")&&(v=er.toArray(d)))return m=DL(m),v.forEach(function(y,x){!er.isUndefined(y)&&e.append(o===!0?eI([m],x,a):o===null?m:m+"[]",l(y))}),!1}return xx(d)?!0:(e.append(eI(_,m,a),l(d)),!1)}var c=[],h=Object.assign(oee,{defaultVisitor:u,convertValue:l,isVisitable:xx});function p(d,m){if(!er.isUndefined(d)){if(c.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(d),er.forEach(d,function(v,g){var y=!er.isUndefined(v)&&i.call(e,v,er.isString(g)?g.trim():g,m,h);y===!0&&p(v,m?m.concat(g):[g])}),c.pop()}}if(!er.isObject(t))throw new TypeError("data must be an object");return p(t),e}var $p=lee,uee=$p;function tI(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function UL(t,e){this._pairs=[],t&&uee(t,this,e)}var jL=UL.prototype;jL.append=function(e,r){this._pairs.push([e,r])};jL.toString=function(e){var r=e?function(n){return e.call(this,n,tI)}:tI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var $L=UL,fee=en,cee=$L;function hee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var VL=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||hee,o=fee.isURLSearchParams(r)?r.toString():new cee(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},dee=en;function dh(){this.handlers=[]}dh.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};dh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};dh.prototype.clear=function(){this.handlers&&(this.handlers=[])};dh.prototype.forEach=function(e){dee.forEach(this.handlers,function(n){n!==null&&e(n)})};var pee=dh,vee=en,GL=function(e,r){vee.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},XL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mee=$L,gee=typeof URLSearchParams<"u"?URLSearchParams:mee,_ee=FormData,yee={isBrowser:!0,classes:{URLSearchParams:gee,FormData:_ee,Blob},protocols:["http","https","file","blob","url","data"]},Aw=yee,xee=en,bee=$p,rI=Aw,Eee=function(e,r){return bee(e,new rI.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return rI.isNode&&xee.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},ro=en;function wee(t){return ro.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function See(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Cee(t){function e(n,i,a,o){var s=n[o++],f=Number.isFinite(+s),l=o>=n.length;if(s=!s&&ro.isArray(a)?a.length:s,l)return ro.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!f;(!a[s]||!ro.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&ro.isArray(a[s])&&(a[s]=See(a[s])),!f}if(ro.isFormData(t)&&ro.isFunction(t.entries)){var r={};return ro.forEachEntry(t,function(n,i){e(wee(n),i,r,0)}),r}return null}var HL=Cee,Qm,nI;function Tee(){if(nI)return Qm;nI=1;var t=zs;return Qm=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Qm}var eg,iI;function Aee(){if(iI)return eg;iI=1;var t=en;return eg=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,f){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),eg}var Iee=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Ree=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Pee=Iee,Oee=Ree,zL=function(e,r){return e&&!Pee(r)?Oee(e,r):r},tg,aI;function kee(){if(aI)return tg;aI=1;var t=en,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return tg=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},tg}var rg,oI;function Fee(){if(oI)return rg;oI=1;var t=en;return rg=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var f=t.isString(s)?a(s):s;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}(),rg}var ng,sI;function Vp(){if(sI)return ng;sI=1;var t=zs,e=en;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),ng=r,ng}var ig,lI;function Nee(){return lI||(lI=1,ig=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),ig}var ag,uI;function fI(){if(uI)return ag;uI=1;var t=en,e=Tee(),r=Aee(),n=VL,i=zL,a=kee(),o=Fee(),s=XL,f=zs,l=Vp(),u=Nee(),c=Aw;return ag=function(p){return new Promise(function(m,_){var v=p.data,g=p.headers,y=p.responseType,x=p.withXSRFToken,b;function E(){p.cancelToken&&p.cancelToken.unsubscribe(b),p.signal&&p.signal.removeEventListener("abort",b)}t.isFormData(v)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var w=new XMLHttpRequest;if(p.auth){var S=p.auth.username||"",C=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";g.Authorization="Basic "+btoa(S+":"+C)}var T=i(p.baseURL,p.url);w.open(p.method.toUpperCase(),n(T,p.params,p.paramsSerializer),!0),w.timeout=p.timeout;function I(){if(w){var O="getAllResponseHeaders"in w?a(w.getAllResponseHeaders()):null,F=!y||y==="text"||y==="json"?w.responseText:w.response,N={data:F,status:w.status,statusText:w.statusText,headers:O,config:p,request:w};e(function(q){m(q),E()},function(q){_(q),E()},N),w=null}}if("onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(I)},w.onabort=function(){w&&(_(new f("Request aborted",f.ECONNABORTED,p,w)),w=null)},w.onerror=function(){_(new f("Network Error",f.ERR_NETWORK,p,w)),w=null},w.ontimeout=function(){var F=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",N=p.transitional||s;p.timeoutErrorMessage&&(F=p.timeoutErrorMessage),_(new f(F,N.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,p,w)),w=null},t.isStandardBrowserEnv()&&(x&&t.isFunction(x)&&(x=x(p)),x||x!==!1&&o(T))){var A=p.xsrfHeaderName&&p.xsrfCookieName&&r.read(p.xsrfCookieName);A&&(g[p.xsrfHeaderName]=A)}"setRequestHeader"in w&&t.forEach(g,function(F,N){typeof v>"u"&&N.toLowerCase()==="content-type"?delete g[N]:w.setRequestHeader(N,F)}),t.isUndefined(p.withCredentials)||(w.withCredentials=!!p.withCredentials),y&&y!=="json"&&(w.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&w.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(b=function(O){w&&(_(!O||O.type?new l(null,p,req):O),w.abort(),w=null)},p.cancelToken&&p.cancelToken.subscribe(b),p.signal&&(p.signal.aborted?b():p.signal.addEventListener("abort",b))),!v&&v!==!1&&v!==0&&v!==""&&(v=null);var R=u(T);if(R&&c.protocols.indexOf(R)===-1){_(new f("Unsupported protocol "+R+":",f.ERR_BAD_REQUEST,p));return}w.send(v)})},ag}var Wr=en,cI=GL,hI=zs,Lee=XL,Bee=$p,Mee=Eee,dI=Aw,Dee=HL,Uee={"Content-Type":"application/x-www-form-urlencoded"};function pI(t,e){!Wr.isUndefined(t)&&Wr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function jee(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=fI()),t}function $ee(t,e,r){if(Wr.isString(t))try{return(e||JSON.parse)(t),Wr.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Gp={transitional:Lee,adapter:jee(),transformRequest:[function(e,r){cI(r,"Accept"),cI(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=Wr.isObject(e);a&&Wr.isHTMLForm(e)&&(e=new FormData(e));var o=Wr.isFormData(e);if(o)return i?JSON.stringify(Dee(e)):e;if(Wr.isArrayBuffer(e)||Wr.isBuffer(e)||Wr.isStream(e)||Wr.isFile(e)||Wr.isBlob(e))return e;if(Wr.isArrayBufferView(e))return e.buffer;if(Wr.isURLSearchParams(e))return pI(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return Mee(e,this.formSerializer).toString();if((s=Wr.isFileList(e))||n.indexOf("multipart/form-data")>-1){var f=this.env&&this.env.FormData;return Bee(s?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||i?(pI(r,"application/json"),$ee(e)):e}],transformResponse:[function(e){var r=this.transitional||Gp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Wr.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?hI.from(s,hI.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dI.classes.FormData,Blob:dI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Wr.forEach(["delete","get","head"],function(e){Gp.headers[e]={}});Wr.forEach(["post","put","patch"],function(e){Gp.headers[e]=Wr.merge(Uee)});var Iw=Gp,Vee=en,Gee=Iw,Xee=function(e,r,n,i){var a=this||Gee;return Vee.forEach(i,function(s){e=s.call(a,e,r,n)}),e},og,vI;function WL(){return vI||(vI=1,og=function(e){return!!(e&&e.__CANCEL__)}),og}var mI=en,sg=Xee,Hee=WL(),zee=Iw,Wee=Vp(),gI=GL;function lg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wee}var Yee=function(e){lg(e),e.headers=e.headers||{},e.data=sg.call(e,e.data,e.headers,null,e.transformRequest),gI(e.headers,"Accept"),gI(e.headers,"Content-Type"),e.headers=mI.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),mI.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||zee.adapter;return r(e).then(function(i){return lg(e),i.data=sg.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return Hee(i)||(lg(e),i&&i.response&&(i.response.data=sg.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},Bn=en,YL=function(e,r){r=r||{};var n={};function i(u,c){return Bn.isPlainObject(u)&&Bn.isPlainObject(c)?Bn.merge(u,c):Bn.isEmptyObject(c)?Bn.merge({},u):Bn.isPlainObject(c)?Bn.merge({},c):Bn.isArray(c)?c.slice():c}function a(u){if(Bn.isUndefined(r[u])){if(!Bn.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Bn.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Bn.isUndefined(r[u])){if(!Bn.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function f(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return Bn.forEach(Object.keys(e).concat(Object.keys(r)),function(c){var h=l[c]||a,p=h(c);Bn.isUndefined(p)&&h!==f||(n[c]=p)}),n},ug,_I;function qL(){return _I||(_I=1,ug={version:"0.28.0"}),ug}var qee=qL().version,ao=zs,Rw={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Rw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var yI={};Rw.transitional=function(e,r,n){function i(a,o){return"[Axios v"+qee+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new ao(i(o," has been removed"+(r?" in "+r:"")),ao.ERR_DEPRECATED);return r&&!yI[o]&&(yI[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Kee(t,e,r){if(typeof t!="object")throw new ao("options must be an object",ao.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],f=s===void 0||o(s,a,t);if(f!==!0)throw new ao("option "+a+" must be "+f,ao.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ao("Unknown option "+a,ao.ERR_BAD_OPTION)}}var Zee={assertOptions:Kee,validators:Rw},Pw=en,Jee=VL,xI=pee,bI=Yee,Xp=YL,Qee=zL,KL=Zee,ol=KL.validators;function lu(t){this.defaults=t,this.interceptors={request:new xI,response:new xI}}lu.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Xp(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&KL.assertOptions(n,{silentJSONParsing:ol.transitional(ol.boolean),forcedJSONParsing:ol.transitional(ol.boolean),clarifyTimeoutError:ol.transitional(ol.boolean)},!1);var i=r.paramsSerializer;Pw.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(o=o&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});var s=[];this.interceptors.response.forEach(function(d){s.push(d.fulfilled,d.rejected)});var f;if(!o){var l=[bI,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),f=Promise.resolve(r);l.length;)f=f.then(l.shift(),l.shift());return f}for(var u=r;a.length;){var c=a.shift(),h=a.shift();try{u=c(u)}catch(p){h(p);break}}try{f=bI(u)}catch(p){return Promise.reject(p)}for(;s.length;)f=f.then(s.shift(),s.shift());return f};lu.prototype.getUri=function(e){e=Xp(this.defaults,e);var r=Qee(e.baseURL,e.url);return Jee(r,e.params,e.paramsSerializer)};Pw.forEach(["delete","get","head","options"],function(e){lu.prototype[e]=function(r,n){return this.request(Xp(n||{},{method:e,url:r,data:(n||{}).data}))}});Pw.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Xp(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}lu.prototype[e]=r(),lu.prototype[e+"Form"]=r(!0)});var ete=lu,fg,EI;function tte(){if(EI)return fg;EI=1;var t=Vp();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(f){i.subscribe(f),o=f}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,f){i.reason||(i.reason=new t(o,s,f),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},fg=e,fg}var cg,wI;function rte(){return wI||(wI=1,cg=function(e){return function(n){return e.apply(null,n)}}),cg}var hg,SI;function nte(){if(SI)return hg;SI=1;var t=en;return hg=function(r){return t.isObject(r)&&r.isAxiosError===!0},hg}var bx=en,ite=OL,Ud=ete,ate=YL,ote=Iw,ste=HL;function ZL(t){var e=new Ud(t),r=ite(Ud.prototype.request,e);return bx.extend(r,Ud.prototype,e),bx.extend(r,e),r.create=function(i){return ZL(ate(t,i))},r}var Gn=ZL(ote);Gn.Axios=Ud;Gn.CanceledError=Vp();Gn.CancelToken=tte();Gn.isCancel=WL();Gn.VERSION=qL().version;Gn.toFormData=$p;Gn.AxiosError=zs;Gn.Cancel=Gn.CanceledError;Gn.all=function(e){return Promise.all(e)};Gn.spread=rte();Gn.isAxiosError=nte();Gn.formToJSON=function(t){return ste(bx.isHTMLForm(t)?new FormData(t):t)};Ew.exports=Gn;Ew.exports.default=Gn;var lte=Ew.exports,ute=lte;const Ec=Cn(ute),hi=t=>new Promise(e=>{Ec.get(t).then(r=>{const n=r.data.toString();e(n)})}),fte={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},Hp=t=>{var n;let e=fte;e=(((n=wM[t.command])==null?void 0:n.scriptFunction)??SM.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>z.gameplay.performController.arrangeNewPerform(i,t)):z.gameplay.performController.arrangeNewPerform(e,t)},cte=t=>{hi(t.sceneUrl).then(async e=>{await z.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(z.sceneManager.sceneData.currentSentenceId=t.continueLine+1,je.debug("现在恢复场景，恢复后场景：",z.sceneManager.sceneData.currentScene),Vr())})};var Ow={},wc={document:{}},JL=Object.prototype.hasOwnProperty,QL=function(t){return zp(t)?t.toLowerCase():t},Zf=Array.isArray,hte=function(t){return zp(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(QL=hte);var dte,kw=Object.prototype.toString,eB=Object.getPrototypeOf,dg=aB("ng");wc.angular||(wc.angular={});wc.document.documentMode;function pte(t){if(t==null||Lw(t))return!1;if(Zf(t)||zp(t)||dte)return!0;var e="length"in Object(t)&&t.length;return Nw(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function vr(t,e,r){var n,i;if(t)if(nB(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Zf(t)||pte(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==vr)t.forEach(e,r,t);else if(rB(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)JL.call(t,n)&&e.call(r,t[n],n,t);return t}function vte(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function Fw(){}Fw.$inject=[];function mte(t){return typeof t>"u"}function Pl(t){return typeof t<"u"}function tB(t){return t!==null&&typeof t=="object"}function rB(t){return t!==null&&typeof t=="object"&&!eB(t)}function zp(t){return typeof t=="string"}function Nw(t){return typeof t=="number"}function nB(t){return typeof t=="function"}function Lw(t){return t&&t.window===t}function iB(t){return t&&t.$evalAsync&&t.$watch}var gte=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function _te(t){return t&&Nw(t.length)&&gte.test(kw.call(t))}function yte(t){return kw.call(t)==="[object ArrayBuffer]"}function xte(t,e){var r=[],n=[];if(e){if(_te(e)||yte(e))throw dg("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw dg("cpi","Can't copy! Source and destination are identical.");return Zf(e)?e.length=0:vr(e,function(s,f){f!=="$$hashKey"&&delete e[f]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,f){var l=f.$$hashKey,u;if(Zf(s))for(var c=0,h=s.length;c<h;c++)f.push(a(s[c]));else if(rB(s))for(u in s)f[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(f[u]=a(s[u]));else for(u in s)JL.call(s,u)&&(f[u]=a(s[u]));return vte(f,l),f}function a(s){if(!tB(s))return s;var f=r.indexOf(s);if(f!==-1)return n[f];if(Lw(s)||iB(s))throw dg("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=Zf(s)?[]:Object.create(eB(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(kw.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var f=new ArrayBuffer(s.byteLength);return new Uint8Array(f).set(new Uint8Array(s)),f}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(nB(s.cloneNode))return s.cloneNode(!0)}}function bte(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:Lw(e)?r="$WINDOW":e&&wc.document===e?r="$DOCUMENT":iB(e)&&(r="$SCOPE"),r}function Ete(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Ete(wc.document);function wte(){return Object.create(null)}function Ste(t){var e=[];return JSON.stringify(t,function(r,n){if(n=bte(r,n),tB(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function CI(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):mte(t)?"undefined":typeof t!="string"?Ste(t):t}function aB(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,f;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),c=u+r;return c<n.length?CI(n[c]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,f=r,s="?";f<n.length;f++,s="&")a+=s+"p"+(f-r)+"="+encodeURIComponent(CI(n[f]));return new e(a)}}var Ol=aB("$parse");({}).constructor.prototype.valueOf;function oB(t){return t+""}var jd=wte();vr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){jd[t]=!0});var Cte={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},Ex=function(e){this.options=e};Ex.prototype={constructor:Ex,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=jd[e],a=jd[r],o=jd[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===" "},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Pl(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw Ol("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=QL(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=Cte[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Re=function(e,r){this.lexer=e,this.options=r};Re.Program="Program";Re.ExpressionStatement="ExpressionStatement";Re.AssignmentExpression="AssignmentExpression";Re.ConditionalExpression="ConditionalExpression";Re.LogicalExpression="LogicalExpression";Re.BinaryExpression="BinaryExpression";Re.UnaryExpression="UnaryExpression";Re.CallExpression="CallExpression";Re.MemberExpression="MemberExpression";Re.Identifier="Identifier";Re.Literal="Literal";Re.ArrayExpression="ArrayExpression";Re.Property="Property";Re.ObjectExpression="ObjectExpression";Re.ThisExpression="ThisExpression";Re.LocalsExpression="LocalsExpression";Re.NGValueParameter="NGValueParameter";Re.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Re.Program,body:t}},expressionStatement:function(){return{type:Re.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!uB(t))throw Ol("lval","Trying to assign a value to a non l-value");t={type:Re.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Re.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Re.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Re.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Re.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=xte(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Re.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Re.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Re.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Re.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Re.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Re.Identifier,name:t.text}},constant:function(){return{type:Re.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Re.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Re.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Re.ObjectExpression,properties:t}},throwError:function(t,e){throw Ol("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw Ol("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw Ol("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Re.ThisExpression},$locals:{type:Re.LocalsExpression}}};function Tte(t,e){return typeof t<"u"?t:e}function sB(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function Ate(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function an(t,e){var r,n,i;switch(t.type){case Re.Program:r=!0,vr(t.body,function(a){an(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Re.Literal:t.constant=!0,t.toWatch=[];break;case Re.UnaryExpression:an(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Re.BinaryExpression:an(t.left,e),an(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Re.LogicalExpression:an(t.left,e),an(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Re.ConditionalExpression:an(t.test,e),an(t.alternate,e),an(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Re.Identifier:t.constant=!1,t.toWatch=[t];break;case Re.MemberExpression:an(t.object,e),t.computed&&an(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Re.CallExpression:i=t.filter?Ate(e,t.callee.name):!1,r=i,n=[],vr(t.arguments,function(a){an(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Re.AssignmentExpression:an(t.left,e),an(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Re.ArrayExpression:r=!0,n=[],vr(t.elements,function(a){an(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ObjectExpression:r=!0,n=[],vr(t.properties,function(a){an(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ThisExpression:t.constant=!1,t.toWatch=[];break;case Re.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function lB(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function uB(t){return t.type===Re.Identifier||t.type===Re.MemberExpression}function fB(t){if(t.body.length===1&&uB(t.body[0].expression))return{type:Re.AssignmentExpression,left:t.body[0].expression,right:{type:Re.NGValueParameter},operator:"="}}function cB(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Re.Literal||t.body[0].expression.type===Re.ArrayExpression||t.body[0].expression.type===Re.ObjectExpression)}function hB(t){return t.constant}function dB(t,e){this.astBuilder=t,this.$filter=e}dB.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},an(r,e.$filter);var n="",i;if(this.stage="assign",i=fB(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=lB(r.body);e.stage="inputs",vr(o,function(l,u){var c="fn"+u;e.state[c]={vars:[],body:[],own:{}},e.state.computing=c;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(c),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",f=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,oB,Tte,sB);return this.state=this.stage=void 0,f.ast=r,f.literal=cB(r),f.constant=hB(r),f},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return vr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return vr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,f=this,l,u,c;if(n=n||Fw,!a&&Pl(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Re.Program:vr(t.body,function(p,d){f.recurse(p.expression,void 0,void 0,function(m){s=m}),d!==t.body.length-1?f.current().body.push(s,";"):f.return_(s)});break;case Re.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Re.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Re.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Re.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_(t.operator==="&&"?e:f.not(e),f.lazyRecurse(t.right,e)),n(e);break;case Re.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),n(e);break;case Re.Identifier:e=e||this.nextId();var h=f.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=f.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),f.if_(f.stage==="inputs"||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_(f.stage==="inputs"||f.and_("s",f.or_(f.isNull(f.nonComputedMember("s",t.name)),f.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&f.if_(f.isNull(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),n(e);break;case Re.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,o,void 0,function(){var p=null,d=f.current().inAssignment;t.computed?(s=f.nextId(),d||f.state.computing==="assign"?p=f.unsafeComputedMember(o,s):p=f.computedMember(o,s)):(d||f.state.computing==="assign"?p=f.unsafeNonComputedMember(o,t.property.name):p=f.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Re.Literal&&f.recurse(t.property,s),f.if_(f.and_(f.notNull(o),f.or_(f.isNull(p),f.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Re.Literal&&f.recurse(t.property,s),i&&i!==1&&f.if_(f.not(p),f.lazyAssign(p,"{}")),f.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&f.if_(f.isNull(p),f.lazyAssign(p,"{}")),f.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){f.assign(e,"undefined")}),n(e)},!!i);break;case Re.CallExpression:e=e||this.nextId(),t.filter?(s=f.filter(t.callee.name),l=[],vr(t.arguments,function(p){var d=f.nextId();f.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",f.assign(e,u),n(e)):(s=f.nextId(),o={},l=[],f.recurse(t.callee,s,o,function(){f.if_(f.notNull(s),function(){if(vr(t.arguments,function(d){f.recurse(d,t.constant?void 0:f.nextId(),void 0,function(m){l.push(m)})}),o.name){var p=f.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+f.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";f.assign(e,u)},function(){f.assign(e,"undefined")}),n(e)}));break;case Re.AssignmentExpression:s=this.nextId(),o={},f.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){f.if_(f.and_(f.notNull(o.context),f.or_(f.hasOwnProperty_(o.context,o.name),f.isNull(f.member(o.context,o.name,o.computed)))),function(){f.recurse(t.right,s),u=f.member(o.context,o.name,o.computed)+t.operator+s,f.assign(e,u),n(e||u)}),f.current().inAssignment=!1,f.recurse(t.right,s),f.current().inAssignment=!0},1),f.current().inAssignment=!1;break;case Re.ArrayExpression:l=[],vr(t.elements,function(p){f.recurse(p,t.constant?void 0:f.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Re.ObjectExpression:l=[],c=!1,vr(t.properties,function(p){p.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),vr(t.properties,function(p){p.computed?(o=f.nextId(),f.recurse(p.key,o)):o=p.key.type===Re.Identifier?p.key.name:""+p.key.value,s=f.nextId(),f.recurse(p.value,s),f.assign(f.unsafeMember(e,o,p.computed),s)})):(vr(t.properties,function(p){f.recurse(p.value,t.constant?void 0:f.nextId(),void 0,function(d){l.push(f.escape(p.key.type===Re.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Re.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Re.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Re.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(zp(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(Nw(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw Ol("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function pB(t,e){this.astBuilder=t,this.$filter=e}pB.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);an(r,e.$filter);var n,i;(n=fB(r))&&(i=this.recurse(n));var a=lB(r.body),o;a&&(o=[],vr(a,function(l,u){var c=e.recurse(l);l.input=c,o.push(c),l.watchId=u}));var s=[];vr(r.body,function(l){s.push(e.recurse(l.expression))});var f=r.body.length===0?Fw:r.body.length===1?s[0]:function(l,u){var c;return vr(s,function(h){c=h(l,u)}),c};return i&&(f.assign=function(l,u,c){return i(l,c,u)}),o&&(f.inputs=o),f.ast=r,f.literal=cB(r),f.constant=hB(r),f},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Re.Literal:return this.value(t.value,e);case Re.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Re.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Re.Identifier:return a.identifier(t.name,e,r);case Re.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Re.CallExpression:return o=[],vr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,f,l,u){for(var c=[],h=0;h<o.length;++h)c.push(o[h](s,f,l,u));var p=i.apply(void 0,c,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,f,l,u){var c=i(s,f,l,u),h;if(c.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,f,l,u));h=c.value.apply(c.context,p)}return e?{value:h}:h};case Re.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,f,l,u){var c=n(s,!1,l,u),h=i(s,f,l,u);return c.context[c.name]=h,e?{value:h}:h};case Re.ArrayExpression:return o=[],vr(t.elements,function(s){o.push(a.recurse(s))}),function(s,f,l,u){for(var c=[],h=0;h<o.length;++h)c.push(o[h](s,f,l,u));return e?{value:c}:c};case Re.ObjectExpression:return o=[],vr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Re.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,f,l,u){for(var c={},h=0;h<o.length;++h)o[h].computed?c[o[h].key(s,f,l,u)]=o[h].value(s,f,l,u):c[o[h].key]=o[h].value(s,f,l,u);return e?{value:c}:c};case Re.ThisExpression:return function(s){return e?{value:s}:s};case Re.LocalsExpression:return function(s,f){return e?{value:f}:f};case Re.NGValueParameter:return function(s,f,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Pl(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Pl(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),f=e(n,i,a,o),l=sB(s,f);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),f=e(n,i,a,o),l=(Pl(s)?s:0)-(Pl(f)?f:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:f}:f}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var f=s?s[t]:void 0;return e?{context:s,name:t,value:f}:f}},computedMember:function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s),l,u;return f!=null&&(l=e(i,a,o,s),l=oB(l),n&&n!==1&&f&&!f[l]&&(f[l]={}),Object.prototype.hasOwnProperty.call(f,l)&&(u=f[l])),r?{context:f,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s);n&&n!==1&&f&&f[e]==null&&(f[e]={});var l=void 0;return f!=null&&Object.prototype.hasOwnProperty.call(f,e)&&(l=f[e]),r?{context:f,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var wx=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Re(e,n),this.astCompiler=n.csp?new pB(this.ast,r):new dB(this.ast,r)};wx.prototype={constructor:wx,parse:function(t){return this.astCompiler.compile(t)}};Ow.Lexer=Ex;Ow.Parser=wx;var vB=Ow,Ite={},Rte=vB.Lexer,Pte=vB.Parser;function Bw(t,e){e=e||{};var r=e.filters||Ite,n=e.filters?e.cache||{}:Bw.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new Rte(i),f=new Pte(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=f.parse(t)),a):f.parse(t)}Bw.cache=Object.create(null);var mB=Bw;const Ote=t=>{let e=!1,r=null,n=null;t.args.forEach(a=>{a.key==="global"?e=!0:a.key==="minValue"?r=a.value:a.key==="maxValue"&&(n=a.value)});let i;if(e?i=Lq:i=oL,t.content.match(/=/)){const a=t.content.split(/=/)[0],o=t.content.split(/=/)[1];if(o==="random()"){const s=Math.random();le.dispatch(i({key:a,value:s})),le.dispatch(nl({key:a,value:s}))}else if(o.match(/[+\-*\/()]/)){const f=o.split(/([+\-*\/()])/g).map(c=>c.match(/[a-zA-Z]/)?Mw(c).toString():c).reduce((c,h)=>c+h,"");let u=mB(f)();typeof u=="number"&&(typeof r=="number"&&u<r&&(u=r),typeof n=="number"&&u>n&&(u=n)),le.dispatch(i({key:a,value:u})),le.dispatch(nl({key:a,value:u}))}else o.match(/true|false/)?(o.match(/true/)&&(le.dispatch(i({key:a,value:!0})),le.dispatch(nl({key:a,value:!0}))),o.match(/false/)&&(le.dispatch(i({key:a,value:!1})),le.dispatch(nl({key:a,value:!1})))):isNaN(Number(o))?(le.dispatch(i({key:a,value:o})),le.dispatch(nl({key:a,value:o}))):(le.dispatch(i({key:a,value:Number(o)})),le.dispatch(nl({key:a,value:Number(o)})));e?(je.debug("设置全局变量：",{key:a,value:le.getState().userData.globalGameVar[a]}),kM()):je.debug("设置变量：",{key:a,value:le.getState().stage.GameVar[a]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Mw(t){let e=0;return le.getState().stage.GameVar.hasOwnProperty(t)?e=le.getState().stage.GameVar[t]:le.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=le.getState().userData.globalGameVar[t]),e}function kte(t){return mB(t)()}const Sx=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:Mw(i).toString():i).reduce((i,a)=>i+a,"");return!!kte(n)}return!0},gB=()=>{const t=z.sceneManager.sceneData.currentScene.sceneName;if(z.sceneManager.sceneData.currentSentenceId>z.sceneManager.sceneData.currentScene.sentenceList.length-1&&t!=="storyline.txt"&&t!=="achieve.txt"){if(z.sceneManager.sceneData.sceneStack.length!==0){const u=z.sceneManager.sceneData.sceneStack.pop();u!==void 0&&cte(u)}return}const e=z.sceneManager.sceneData.currentScene.sentenceList[z.sceneManager.sceneData.currentSentenceId],r=u=>{let c=u,h;if(window.isSafari){const p=c.match(/\{.*?\}/g);p?h=p.filter((d,m)=>{const _=c.indexOf(d,m?c.indexOf(p[m-1])+p[m-1].length:0);return _===0||c[_-1]!=="\\"}):h=null}else h=c.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return h!==null&&h.forEach(p=>{const d=Mw(window.isSafari?p.slice(1,-1):p.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));c=c.replace(p,d?d.toString():p)}),c=c.replace(/\\{/g,"{").replace(/\\}/g,"}"),c};(()=>{e.content=r((e==null?void 0:e.content)??""),e.args.forEach(u=>{u.value&&typeof u.value=="string"&&(u.value=r(u.value))})})();let i=!0,a=!1,o="";if(e.args.forEach(u=>{u.key==="when"&&(a=!0,o=u.value.toString())}),a&&(i=Sx(o)),!i){je.warn("不满足条件，跳过本句！"),z.sceneManager.sceneData.currentSentenceId++,Vr();return}Hp(e);let s=!1;e.args.forEach(u=>{u.key==="next"&&u.value&&(s=!0)});let f=e.command===mt.say;e.args.forEach(u=>{u.key==="notend"&&u.value===!0&&(f=!1)});let l;if(s){z.sceneManager.sceneData.currentSentenceId++,gB();return}setTimeout(()=>{l=le.getState().stage;const u={currentStageState:l,globalGameVar:le.getState().userData.globalGameVar};je.debug("本条语句执行结果",u),f&&z.backlogManager.saveCurrentStateToBacklog()},0),z.sceneManager.sceneData.currentSentenceId++},Vr=()=>{if(z.events.userInteractNext.emit(),le.getState().GUI.showTitle)return;let e=!1;if(z.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(e=!0)}),e){je.warn("next 被阻塞！");return}let r=!0;if(z.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=le.getState().stage,a=gr(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);le.dispatch(Op(a)),gB();return}je.warn("提前结束被触发，现在清除普通演出");let n=!1;for(let i=0;i<z.gameplay.performController.performList.length;i++){const a=z.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),z.gameplay.performController.performList.splice(i,1),i--))}n&&Vr()};var Fte="__lodash_hash_undefined__";function Nte(t){return this.__data__.set(t,Fte),this}var Lte=Nte;function Bte(t){return this.__data__.has(t)}var Mte=Bte,Dte=rw,Ute=Lte,jte=Mte;function k0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Dte;++e<r;)this.add(t[e])}k0.prototype.add=k0.prototype.push=Ute;k0.prototype.has=jte;var _B=k0;function $te(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Vte=$te;function Gte(t){return t!==t}var Xte=Gte;function Hte(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var zte=Hte,Wte=Vte,Yte=Xte,qte=zte;function Kte(t,e,r){return e===e?qte(t,e,r):Wte(t,Yte,r)}var Zte=Kte,Jte=Zte;function Qte(t,e){var r=t==null?0:t.length;return!!r&&Jte(t,e,0)>-1}var ere=Qte;function tre(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var rre=tre;function nre(t,e){return t.has(e)}var yB=nre;function ire(){}var are=ire;function ore(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Dw=ore,pg=QN,sre=are,lre=Dw,ure=1/0,fre=pg&&1/lre(new pg([,-0]))[1]==ure?function(t){return new pg(t)}:sre,cre=fre,hre=_B,dre=ere,pre=rre,vre=yB,mre=cre,gre=Dw,_re=200;function yre(t,e,r){var n=-1,i=dre,a=t.length,o=!0,s=[],f=s;if(r)o=!1,i=pre;else if(a>=_re){var l=e?null:mre(t);if(l)return gre(l);o=!1,i=vre,f=new hre}else f=e?[]:s;e:for(;++n<a;){var u=t[n],c=e?e(u):u;if(u=r||u!==0?u:0,o&&c===c){for(var h=f.length;h--;)if(f[h]===c)continue e;e&&f.push(c),s.push(u)}else i(f,c,r)||(f!==s&&f.push(c),s.push(u))}return s}var xre=yre,bre=xre;function Ere(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?bre(t,void 0,e):[]}var wre=Ere;const ph=Cn(wre),Uu=t=>{for(const e of t)z.sceneManager.settledScenes.includes(e)?je.warn(`场景${e}已经加载过，无需再次加载`):(je.info(`现在预加载场景${e}`),hi(e).then(r=>{const n=e.split("./game/scene/")[1];L0(r,n||"",e)}))},Sre=(t,e)=>{z.sceneManager.sceneData.sceneStack.push({sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl,continueLine:z.sceneManager.sceneData.currentSentenceId}),hi(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const a=ph(i);Uu(a),je.debug("现在调用场景，调用结果：",z.sceneManager.sceneData),Vr()}})},Cre=t=>{const e=t.content.split("/"),r=e[e.length-1];return Sre(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Sc(t,e,r){let n;const a=le.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function xB(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,u=1/(e/f*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function bB(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,u=1/(e/f*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Uw={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function EB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Tre=function(){},TI=function(){};const Cx=(t,e,r)=>Math.min(Math.max(r,t),e),vg=.001,Are=.01,AI=10,Ire=.05,Rre=1;function Pre({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;Tre(t<=AI*1e3);let o=1-e;o=Cx(Ire,Rre,o),t=Cx(Are,AI,t/1e3),o<1?(i=l=>{const u=l*o,c=u*t,h=u-r,p=Tx(l,o),d=Math.exp(-c);return vg-h/p*d},a=l=>{const c=l*o*t,h=c*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-c),m=Tx(Math.pow(l,2),o);return(-i(l)+vg>0?-1:1)*((h-p)*d)/m}):(i=l=>{const u=Math.exp(-l*t),c=(l-r)*t+1;return-vg+u*c},a=l=>{const u=Math.exp(-l*t),c=(r-l)*(t*t);return u*c});const s=5/t,f=kre(i,a,s);if(t=t*1e3,isNaN(f))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(f,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const Ore=12;function kre(t,e,r){let n=r;for(let i=1;i<Ore;i++)n=n-t(n)/e(n);return n}function Tx(t,e){return t*Math.sqrt(1-e*e)}const Fre=["duration","bounce"],Nre=["stiffness","damping","mass"];function II(t,e){return e.some(r=>t[r]!==void 0)}function Lre(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!II(t,Nre)&&II(t,Fre)){const r=Pre(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function jw(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=EB(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:f,mass:l,velocity:u,duration:c,isResolvedFromDuration:h}=Lre(a),p=RI,d=RI;function m(){const _=u?-(u/1e3):0,v=r-e,g=f/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),g<1){const x=Tx(y,g);p=b=>{const E=Math.exp(-g*y*b);return r-E*((_+g*y*v)/x*Math.sin(x*b)+v*Math.cos(x*b))},d=b=>{const E=Math.exp(-g*y*b);return g*y*E*(Math.sin(x*b)*(_+g*y*v)/x+v*Math.cos(x*b))-E*(Math.cos(x*b)*(_+g*y*v)-x*v*Math.sin(x*b))}}else if(g===1)p=x=>r-Math.exp(-y*x)*(v+(_+y*v)*x);else{const x=y*Math.sqrt(g*g-1);p=b=>{const E=Math.exp(-g*y*b),w=Math.min(x*b,300);return r-E*((_+g*y*v)*Math.sinh(w)+x*v*Math.cosh(w))/x}}}return m(),{next:_=>{const v=p(_);if(h)o.done=_>=c;else{const g=d(_)*1e3,y=Math.abs(g)<=n,x=Math.abs(r-v)<=i;o.done=y&&x}return o.value=o.done?r:v,o},flipTarget:()=>{u=-u,[e,r]=[r,e],m()}}}jw.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const RI=t=>0,wB=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},$w=(t,e,r)=>-r*t+r*e+t,SB=(t,e)=>r=>Math.max(Math.min(r,e),t),Jf=t=>t%1?Number(t.toFixed(5)):t,F0=/(-)?([\d]*\.?[\d])+/g,Ax=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Bre=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vh(t){return typeof t=="string"}const Wp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},CB=Object.assign(Object.assign({},Wp),{transform:SB(0,1)});Object.assign(Object.assign({},Wp),{default:1});const Mre=t=>({test:e=>vh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qf=Mre("%");Object.assign(Object.assign({},Qf),{parse:t=>Qf.parse(t)/100,transform:t=>Qf.transform(t*100)});const Vw=(t,e)=>r=>!!(vh(r)&&Bre.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),TB=(t,e,r)=>n=>{if(!vh(n))return n;const[i,a,o,s]=n.match(F0);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},_s={test:Vw("hsl","hue"),parse:TB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Qf.transform(Jf(e))+", "+Qf.transform(Jf(r))+", "+Jf(CB.transform(n))+")"},Dre=SB(0,255),mg=Object.assign(Object.assign({},Wp),{transform:t=>Math.round(Dre(t))}),po={test:Vw("rgb","red"),parse:TB("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+mg.transform(t)+", "+mg.transform(e)+", "+mg.transform(r)+", "+Jf(CB.transform(n))+")"};function Ure(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Ix={test:Vw("#"),parse:Ure,transform:po.transform},Yp={test:t=>po.test(t)||Ix.test(t)||_s.test(t),parse:t=>po.test(t)?po.parse(t):_s.test(t)?_s.parse(t):Ix.parse(t),transform:t=>vh(t)?t:t.hasOwnProperty("red")?po.transform(t):_s.transform(t)},AB="${c}",IB="${n}";function jre(t){var e,r,n,i;return isNaN(t)&&vh(t)&&((r=(e=t.match(F0))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(Ax))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function RB(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(Ax);n&&(r=n.length,t=t.replace(Ax,AB),e.push(...n.map(Yp.parse)));const i=t.match(F0);return i&&(t=t.replace(F0,IB),e.push(...i.map(Wp.parse))),{values:e,numColors:r,tokenised:t}}function PB(t){return RB(t).values}function OB(t){const{values:e,numColors:r,tokenised:n}=RB(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?AB:IB,s<r?Yp.transform(a[s]):Jf(a[s]));return o}}const $re=t=>typeof t=="number"?0:t;function Vre(t){const e=PB(t);return OB(t)(e.map($re))}const kB={test:jre,parse:PB,createTransformer:OB,getAnimatableNone:Vre};function gg(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function PI({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,f=2*r-s;i=gg(f,s,t+1/3),a=gg(f,s,t),o=gg(f,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Gre=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Xre=[Ix,po,_s],OI=t=>Xre.find(e=>e.test(t)),FB=(t,e)=>{let r=OI(t),n=OI(e),i=r.parse(t),a=n.parse(e);r===_s&&(i=PI(i),r=po),n===_s&&(a=PI(a),n=po);const o=Object.assign({},i);return s=>{for(const f in o)f!=="alpha"&&(o[f]=Gre(i[f],a[f],s));return o.alpha=$w(i.alpha,a.alpha,s),r.transform(o)}},Hre=t=>typeof t=="number",zre=(t,e)=>r=>e(t(r)),NB=(...t)=>t.reduce(zre);function LB(t,e){return Hre(t)?r=>$w(t,e,r):Yp.test(t)?FB(t,e):MB(t,e)}const BB=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>LB(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Wre=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=LB(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function kI(t){const e=kB.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const MB=(t,e)=>{const r=kB.createTransformer(e),n=kI(t),i=kI(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?NB(BB(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Yre=(t,e)=>r=>$w(t,e,r);function qre(t){if(typeof t=="number")return Yre;if(typeof t=="string")return Yp.test(t)?FB:MB;if(Array.isArray(t))return BB;if(typeof t=="object")return Wre}function Kre(t,e,r){const n=[],i=r||qre(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]:e;s=NB(f,s)}n.push(s)}return n}function Zre([t,e],[r]){return n=>r(wB(t,e,n))}function Jre(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let f=1;for(;f<r&&!(t[f]>i||f===n);f++);a=f-1}const s=wB(t[a],t[a+1],i);return e[a](s)}}function DB(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;TI(a===e.length),TI(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Kre(e,n,i),s=a===2?Zre(t,o):Jre(t,o);return r?f=>s(Cx(t[0],t[a-1],f)):s}const Qre=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ene=t=>e=>Math.pow(e,t),tne=t=>e=>e*e*((t+1)*e-t),rne=t=>{const e=tne(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},nne=1.525,ine=ene(2),ane=Qre(ine);rne(nne);function one(t,e){return t.map(()=>e||ane).splice(0,t.length-1)}function sne(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function lne(t,e){return t.map(r=>r*e)}function $d({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=lne(n&&n.length===o.length?n:sne(o),i);function f(){return DB(s,o,{ease:Array.isArray(r)?r:one(o,r)})}let l=f();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=f()}}}function une({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const f=e+s,l=a===void 0?f:a(f);return l!==f&&(s=l-e),{next:u=>{const c=-s*Math.exp(-u/n);return o.done=!(c>i||c<-i),o.value=o.done?l:l+c,o},flipTarget:()=>{}}}const FI={keyframes:$d,spring:jw,decay:une};function fne(t){if(Array.isArray(t.to))return $d;if(FI[t.type])return FI[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?$d:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?jw:$d}const UB=1/60*1e3,cne=typeof performance<"u"?()=>performance.now():()=>Date.now(),jB=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(cne()),UB);function hne(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(f,l=!1,u=!1)=>{const c=u&&i,h=c?e:r;return l&&o.add(f),h.indexOf(f)===-1&&(h.push(f),c&&i&&(n=e.length)),f},cancel:f=>{const l=r.indexOf(f);l!==-1&&r.splice(l,1),o.delete(f)},process:f=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(f),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(f))}};return s}const dne=40;let Rx=!0,Cc=!1,Px=!1;const ec={delta:0,timestamp:0},mh=["read","update","preRender","render","postRender"],qp=mh.reduce((t,e)=>(t[e]=hne(()=>Cc=!0),t),{}),pne=mh.reduce((t,e)=>{const r=qp[e];return t[e]=(n,i=!1,a=!1)=>(Cc||gne(),r.schedule(n,i,a)),t},{}),vne=mh.reduce((t,e)=>(t[e]=qp[e].cancel,t),{});mh.reduce((t,e)=>(t[e]=()=>qp[e].process(ec),t),{});const mne=t=>qp[t].process(ec),$B=t=>{Cc=!1,ec.delta=Rx?UB:Math.max(Math.min(t-ec.timestamp,dne),1),ec.timestamp=t,Px=!0,mh.forEach(mne),Px=!1,Cc&&(Rx=!1,jB($B))},gne=()=>{Cc=!0,Rx=!0,Px||jB($B)},_ne=pne;function VB(t,e,r=0){return t-e-r}function yne(t,e,r=0,n=!0){return n?VB(e+-t,e,r):e-(t-e)+r}function xne(t,e,r,n){return n?t>=e+r:t<=-r}const bne=t=>{const e=({delta:r})=>t(r);return{start:()=>_ne.update(e,!0),stop:()=>vne.update(e)}};function Ene(t){var e,r,{from:n,autoplay:i=!0,driver:a=bne,elapsed:o=0,repeat:s=0,repeatType:f="loop",repeatDelay:l=0,onPlay:u,onStop:c,onComplete:h,onRepeat:p,onUpdate:d}=t,m=EB(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=m,v,g=0,y=m.duration,x,b=!1,E=!0,w;const S=fne(m);!((r=(e=S).needsInterpolation)===null||r===void 0)&&r.call(e,n,_)&&(w=DB([0,100],[n,_],{clamp:!1}),n=0,_=100);const C=S(Object.assign(Object.assign({},m),{from:n,to:_}));function T(){g++,f==="reverse"?(E=g%2===0,o=yne(o,y,l,E)):(o=VB(o,y,l),f==="mirror"&&C.flipTarget()),b=!1,p&&p()}function I(){v.stop(),h&&h()}function A(O){if(E||(O=-O),o+=O,!b){const F=C.next(Math.max(0,o));x=F.value,w&&(x=w(x)),b=E?F.done:o<=0}d==null||d(x),b&&(g===0&&(y??(y=o)),g<s?xne(o,y,l,E)&&T():I())}function R(){u==null||u(),v=a(A),v.start()}return i&&R(),{stop:()=>{c==null||c(),v.stop()}}}function wne(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Sne=wne,Cne=_B,Tne=Sne,Ane=yB,Ine=1,Rne=2;function Pne(t,e,r,n,i,a){var o=r&Ine,s=t.length,f=e.length;if(s!=f&&!(o&&f>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var c=-1,h=!0,p=r&Rne?new Cne:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var d=t[c],m=e[c];if(n)var _=o?n(m,d,c,e,t,a):n(d,m,c,t,e,a);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Tne(e,function(v,g){if(!Ane(p,g)&&(d===v||i(d,v,r,n,a)))return p.push(g)})){h=!1;break}}else if(!(d===m||i(d,m,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var GB=Pne;function One(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var kne=One,NI=fh,LI=tL,Fne=ew,Nne=GB,Lne=kne,Bne=Dw,Mne=1,Dne=2,Une="[object Boolean]",jne="[object Date]",$ne="[object Error]",Vne="[object Map]",Gne="[object Number]",Xne="[object RegExp]",Hne="[object Set]",zne="[object String]",Wne="[object Symbol]",Yne="[object ArrayBuffer]",qne="[object DataView]",BI=NI?NI.prototype:void 0,_g=BI?BI.valueOf:void 0;function Kne(t,e,r,n,i,a,o){switch(r){case qne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yne:return!(t.byteLength!=e.byteLength||!a(new LI(t),new LI(e)));case Une:case jne:case Gne:return Fne(+t,+e);case $ne:return t.name==e.name&&t.message==e.message;case Xne:case zne:return t==e+"";case Vne:var s=Lne;case Hne:var f=n&Mne;if(s||(s=Bne),t.size!=e.size&&!f)return!1;var l=o.get(t);if(l)return l==e;n|=Dne,o.set(t,e);var u=Nne(s(t),s(e),n,i,a,o);return o.delete(t),u;case Wne:if(_g)return _g.call(t)==_g.call(e)}return!1}var Zne=Kne,MI=ZN,Jne=1,Qne=Object.prototype,eie=Qne.hasOwnProperty;function tie(t,e,r,n,i,a){var o=r&Jne,s=MI(t),f=s.length,l=MI(e),u=l.length;if(f!=u&&!o)return!1;for(var c=f;c--;){var h=s[c];if(!(o?h in e:eie.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var m=!0;a.set(t,e),a.set(e,t);for(var _=o;++c<f;){h=s[c];var v=t[h],g=e[h];if(n)var y=o?n(g,v,h,e,t,a):n(v,g,h,t,e,a);if(!(y===void 0?v===g||i(v,g,r,n,a):y)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(m=!1)}return a.delete(t),a.delete(e),m}var rie=tie,yg=nw,nie=GB,iie=Zne,aie=rie,DI=Pp,UI=Ja,jI=aw,oie=VN,sie=1,$I="[object Arguments]",VI="[object Array]",Xh="[object Object]",lie=Object.prototype,GI=lie.hasOwnProperty;function uie(t,e,r,n,i,a){var o=UI(t),s=UI(e),f=o?VI:DI(t),l=s?VI:DI(e);f=f==$I?Xh:f,l=l==$I?Xh:l;var u=f==Xh,c=l==Xh,h=f==l;if(h&&jI(t)){if(!jI(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new yg),o||oie(t)?nie(t,e,r,n,i,a):iie(t,e,f,r,n,i,a);if(!(r&sie)){var p=u&&GI.call(t,"__wrapped__"),d=c&&GI.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,_=d?e.value():e;return a||(a=new yg),i(m,_,r,n,a)}}return h?(a||(a=new yg),aie(t,e,r,n,i,a)):!1}var fie=uie,cie=fie,XI=Xs;function XB(t,e,r,n,i){return t===e?!0:t==null||e==null||!XI(t)&&!XI(e)?t!==t&&e!==e:cie(t,e,r,n,XB,i)}var HB=XB,hie=nw,die=HB,pie=1,vie=2;function mie(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var f=s[0],l=t[f],u=s[1];if(o&&s[2]){if(l===void 0&&!(f in t))return!1}else{var c=new hie;if(n)var h=n(l,u,f,t,e,c);if(!(h===void 0?die(u,l,pie|vie,n,c):h))return!1}}return!0}var gie=mie,_ie=wa;function yie(t){return t===t&&!_ie(t)}var zB=yie,xie=zB,bie=Rp;function Eie(t){for(var e=bie(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,xie(i)]}return e}var wie=Eie;function Sie(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var WB=Sie,Cie=gie,Tie=wie,Aie=WB;function Iie(t){var e=Tie(t);return e.length==1&&e[0][2]?Aie(e[0][0],e[0][1]):function(r){return r===t||Cie(r,t,e)}}var Rie=Iie,Pie=ch,Oie=Xs,kie="[object Symbol]";function Fie(t){return typeof t=="symbol"||Oie(t)&&Pie(t)==kie}var Kp=Fie,Nie=Ja,Lie=Kp,Bie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mie=/^\w*$/;function Die(t,e){if(Nie(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Lie(t)?!0:Mie.test(t)||!Bie.test(t)||e!=null&&t in Object(e)}var Gw=Die,YB=rw,Uie="Expected a function";function Xw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Uie);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Xw.Cache||YB),r}Xw.Cache=YB;var jie=Xw,$ie=jie,Vie=500;function Gie(t){var e=$ie(t,function(n){return r.size===Vie&&r.clear(),n}),r=e.cache;return e}var Xie=Gie,Hie=Xie,zie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wie=/\\(\\)?/g,Yie=Hie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zie,function(r,n,i,a){e.push(i?a.replace(Wie,"$1"):n||r)}),e}),qie=Yie;function Kie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var qB=Kie,HI=fh,Zie=qB,Jie=Ja,Qie=Kp,eae=1/0,zI=HI?HI.prototype:void 0,WI=zI?zI.toString:void 0;function KB(t){if(typeof t=="string")return t;if(Jie(t))return Zie(t,KB)+"";if(Qie(t))return WI?WI.call(t):"";var e=t+"";return e=="0"&&1/t==-eae?"-0":e}var tae=KB,rae=tae;function nae(t){return t==null?"":rae(t)}var iae=nae,aae=Ja,oae=Gw,sae=qie,lae=iae;function uae(t,e){return aae(t)?t:oae(t,e)?[t]:sae(lae(t))}var Zp=uae,fae=Kp,cae=1/0;function hae(t){if(typeof t=="string"||fae(t))return t;var e=t+"";return e=="0"&&1/t==-cae?"-0":e}var gh=hae,dae=Zp,pae=gh;function vae(t,e){e=dae(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[pae(e[r++])];return r&&r==n?t:void 0}var Hw=vae,mae=Hw;function gae(t,e,r){var n=t==null?void 0:mae(t,e);return n===void 0?r:n}var _ae=gae;function yae(t,e){return t!=null&&e in Object(t)}var xae=yae,bae=Zp,Eae=$N,wae=Ja,Sae=ow,Cae=sw,Tae=gh;function Aae(t,e,r){e=bae(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Tae(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Cae(i)&&Sae(o,i)&&(wae(t)||Eae(t)))}var Iae=Aae,Rae=xae,Pae=Iae;function Oae(t,e){return t!=null&&Pae(t,e,Rae)}var kae=Oae,Fae=HB,Nae=_ae,Lae=kae,Bae=Gw,Mae=zB,Dae=WB,Uae=gh,jae=1,$ae=2;function Vae(t,e){return Bae(t)&&Mae(e)?Dae(Uae(t),e):function(r){var n=Nae(r,t);return n===void 0&&n===e?Lae(r,t):Fae(e,n,jae|$ae)}}var Gae=Vae;function Xae(t){return t}var Hae=Xae;function zae(t){return function(e){return e==null?void 0:e[t]}}var Wae=zae,Yae=Hw;function qae(t){return function(e){return Yae(e,t)}}var Kae=qae,Zae=Wae,Jae=Kae,Qae=Gw,eoe=gh;function toe(t){return Qae(t)?Zae(eoe(t)):Jae(t)}var roe=toe,noe=Rie,ioe=Gae,aoe=Hae,ooe=Ja,soe=roe;function loe(t){return typeof t=="function"?t:t==null?aoe:typeof t=="object"?ooe(t)?ioe(t[0],t[1]):noe(t):soe(t)}var ZB=loe,uoe="Expected a function";function foe(t){if(typeof t!="function")throw new TypeError(uoe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var coe=foe,hoe=iw,doe=Zp,poe=ow,YI=wa,voe=gh;function moe(t,e,r,n){if(!YI(t))return t;e=doe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var f=voe(e[i]),l=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(i!=o){var u=s[f];l=n?n(u,f,s):void 0,l===void 0&&(l=YI(u)?u:poe(e[i+1])?[]:{})}hoe(s,f,l),s=s[f]}return t}var goe=moe,_oe=Hw,yoe=goe,xoe=Zp;function boe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=_oe(t,o);r(s,o)&&yoe(a,xoe(o,t),s)}return a}var Eoe=boe,woe=qB,Soe=ZB,Coe=Eoe,Toe=JN;function Aoe(t,e){if(t==null)return{};var r=woe(Toe(t),function(n){return[n]});return e=Soe(e),Coe(t,r,function(n,i){return e(n,i[0])})}var Ioe=Aoe,Roe=ZB,Poe=coe,Ooe=Ioe;function koe(t,e){return Ooe(t,Poe(Roe(e)))}var Foe=koe;const xg=Cn(Foe);function Noe(t){return t===void 0}var Loe=Noe;const Ia=Cn(Loe);function JB(t,e,r){const n=z.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const v of t){const g=v.duration;i+=g;const{position:y,scale:x,...b}=v;a.push({x:y.x,y:y.y,scaleX:x.x,scaleY:x.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let f=null;r>0&&(f=Ene({to:a,offset:o,duration:r,onUpdate:v=>{if(s){const{scaleX:g,scaleY:y,...x}=v;Object.assign(s,xg(x,Ia)),Ia(g)||(s.scale.x=g),Ia(y)||(s.scale.y=y)}}}));const{duration:l,...u}=m();le.dispatch(Kn.updateEffect({target:e,transform:u}));function c(){if(n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=d(),x=xg({x:v.x,y:v.y,...y},Ia);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(Ia(g.x)||(n.pixiContainer.scale.x=g.x),Ia(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function h(){if(f&&f.stop(),f=null,n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=m(),x=xg({x:v.x,y:v.y,...y},Ia);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(Ia(g.x)||(n.pixiContainer.scale.x=g.x),Ia(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function p(v){}function d(){return t[0]}function m(){return t[t.length-1]}function _(){const v=t[t.length-1],{alpha:g,rotation:y,blur:x,duration:b,scale:E,position:w,...S}=v;return S}return{setStartState:c,setEndState:h,tickerFunc:p,getEndFilterEffect:_}}function N0(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=le.getState().stage.effects.find(f=>f.target===e),s=gr({...(o==null?void 0:o.transform)??Uw,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return je.debug("装载自定义动画",i),JB(i,e,r)}return null}function Zn(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function uo(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=xB(t,n);const a=z.animationManager.nextEnterAnimationName.get(t);return a&&(je.debug("取代默认进入动画",t),i=N0(a,t,Zn(a)),n=Zn(a),z.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=bB(t,n);const a=z.animationManager.nextExitAnimationName.get(t);return a&&(je.debug("取代默认退出动画",t),i=N0(a,t,Zn(a)),n=Zn(a),z.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Boe=t=>{const e=t.content,r=le.dispatch;if(le.getState().GUI.showStoryLine)return r(st({key:"storyLineBg",value:e})),t.args.forEach(l=>{l.key==="x"&&l.value!==""&&r(st({key:"storyLineBgX",value:`${l.value}px`})),l.key==="y"&&l.value!==""&&r(st({key:"storyLineBgY",value:`${l.value}px`}))}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};if(le.getState().GUI.showAchievement)return r(TY(e)),t.args.forEach(l=>{l.key==="x"&&l.value!==""&&r(st({key:"achieveBgX",value:`${l.value}px`})),l.key==="y"&&l.value!==""&&r(st({key:"achieveBgY",value:`${l.value}px`}))}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};let n="",i="default";t.args.forEach(l=>{l.key==="unlockname"&&(n=l.value.toString()),l.key==="series"&&(i=l.value.toString())}),n!==""&&r(wL({name:n,url:e,series:i})),r(Kn.removeEffectByTargetId("bg-main"));const a=wt(t,"transform");let o=wt(t,"duration");(!o||typeof o!="number")&&(o=1e3);let s;if(a)try{const l=JSON.parse(a.toString());s=Sc("bg-main",l,o),s[0].alpha=0;const u=(Math.random()*10).toString(16),c={name:u,effects:s};z.animationManager.addAnimation(c),o=Zn(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}catch{f()}else f();function f(){s=Sc("bg-main",{},o),s[0].alpha=0;const u=(Math.random()*10).toString(16),c={name:u,effects:s};z.animationManager.addAnimation(c),o=Zn(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}return wt(t,"enter")&&(z.animationManager.nextEnterAnimationName.set("bg-main",wt(t,"enter").toString()),o=Zn(wt(t,"enter").toString())),wt(t,"exit")&&(z.animationManager.nextExitAnimationName.set("bg-main-off",wt(t,"exit").toString()),o=Zn(wt(t,"exit").toString())),r(st({key:"bgName",value:t.content})),{performName:"none",duration:o,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Moe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,f="",l="",u="",c="",h="",p="";const d=le.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":f=b.value.toString(),f=kr(f,Or.figure);break;case"mouthClose":l=b.value.toString(),l=kr(l,Or.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=kr(u,Or.figure);break;case"eyesOpen":c=b.value.toString(),c=kr(c,Or.figure);break;case"eyesClose":h=b.value.toString(),h=kr(h,Or.figure);break;case"animationFlag":p=b.value.toString();break;case"none":r="";break}const m=o||`fig-${e}`,v=le.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==m),g={targetId:m,animationFlag:p,mouthAnimation:{open:f,close:l,halfOpen:u},blinkAnimation:{open:c,close:h}};v.push(g),d(st({key:"figureAssociatedAnimation",value:v}));let y=!0;if(o!==""){const b=le.getState().stage.freeFigure.find(E=>E.key===o);b&&b.name===t.content&&(y=!1)}else e==="center"&&le.getState().stage.figName===t.content&&(y=!1),e==="left"&&le.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&le.getState().stage.figNameRight===t.content&&(y=!1);if(y){const b=`fig-${e}`,E=`${o}`;le.dispatch(Kn.removeEffectByTargetId(b)),le.dispatch(Kn.removeEffectByTargetId(E))}const x=(b,E)=>{const w=wt(E,"transform"),S=wt(E,"duration");S&&typeof S=="number"&&(s=S);let C;if(w){console.log(w);try{const R=JSON.parse(w.toString());C=Sc(b,R,s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=Zn(O),z.animationManager.nextEnterAnimationName.set(b,O)}catch{T()}}else T();function T(){C=Sc(b,{},s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=Zn(O),z.animationManager.nextEnterAnimationName.set(b,O)}const I=wt(E,"enter"),A=wt(E,"exit");I&&(z.animationManager.nextEnterAnimationName.set(b,I.toString()),s=Zn(I.toString())),A&&(z.animationManager.nextExitAnimationName.set(b+"-off",A.toString()),s=Zn(A.toString()))};if(n){le.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};x(o,t),i&&d(Kn.setLive2dMotion({target:o,motion:i})),a&&d(Kn.setLive2dExpression({target:o,expression:a})),d(Kn.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],x(o,t),i&&d(Kn.setLive2dMotion({target:o,motion:i})),a&&d(Kn.setLive2dExpression({target:o,expression:a})),d(st({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const QB=(t,e)=>{hi(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=[];z.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),z.videoManager.destroyExcept(i);const a=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const o=ph(a);Uu(o),je.debug("现在切换场景，切换后的结果：",z.sceneManager.sceneData),Vr()}})},Doe=t=>{const e=t.content.split("/"),r=e[e.length-1];return QB(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},eM=t=>{const e=z.sceneManager.sceneData.currentSentenceId;let r=e;z.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===mt.label&&n.content===t&&i!==e&&(r=i)}),z.sceneManager.sceneData.currentSentenceId=r,setTimeout(Vr,1)},Uoe="_Choose_Main_hnqsf_1",joe="_Choose_item_hnqsf_15",$oe="_Choose_item_image_hnqsf_37",Voe="_Choose_item_countdown_hnqsf_52",Goe="_Choose_item_countdown_disabled_hnqsf_59",Xoe="_Choose_item_progress_bar_hnqsf_66",Hoe="_Choose_item_disabled_hnqsf_75",Zo={Choose_Main:Uoe,Choose_item:joe,Choose_item_image:$oe,Choose_item_countdown:Voe,Choose_item_countdown_disabled:Goe,Choose_item_progress_bar:Xoe,Choose_item_disabled:Hoe},zoe=""+new URL("page-flip-1.mp3",import.meta.url).href,Woe=""+new URL("switch-1.mp3",import.meta.url).href,tM=""+new URL("mouse-enter.mp3",import.meta.url).href,Yoe=""+new URL("dialog.mp3",import.meta.url).href,rM=""+new URL("click.mp3",import.meta.url).href;var nM={exports:{}},iM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=ye;function qoe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Koe=typeof Object.is=="function"?Object.is:qoe,Zoe=uu.useState,Joe=uu.useEffect,Qoe=uu.useLayoutEffect,ese=uu.useDebugValue;function tse(t,e){var r=e(),n=Zoe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Qoe(function(){i.value=r,i.getSnapshot=e,bg(i)&&a({inst:i})},[t,r,e]),Joe(function(){return bg(i)&&a({inst:i}),t(function(){bg(i)&&a({inst:i})})},[t]),ese(r),r}function bg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Koe(t,r)}catch{return!0}}function rse(t,e){return e()}var nse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rse:tse;iM.useSyncExternalStore=uu.useSyncExternalStore!==void 0?uu.useSyncExternalStore:nse;nM.exports=iM;var ise=nM.exports,aM={exports:{}},oM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=ye,ase=ise;function ose(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sse=typeof Object.is=="function"?Object.is:ose,lse=ase.useSyncExternalStore,use=Jp.useRef,fse=Jp.useEffect,cse=Jp.useMemo,hse=Jp.useDebugValue;oM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=use(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=cse(function(){function f(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return c=d}return c=p}if(d=c,sse(u,p))return d;var m=n(p);return i!==void 0&&i(d,m)?d:(u=p,c=m)}var l=!1,u,c,h=r===void 0?null:r;return[function(){return f(e())},h===null?void 0:function(){return f(h())}]},[e,r,n,i]);var s=lse(t,a[0],a[1]);return fse(function(){o.hasValue=!0,o.value=s},[s]),hse(s),s};aM.exports=oM;var dse=aM.exports;function pse(t){t()}let sM=pse;const vse=t=>sM=t,mse=()=>sM,qI=Symbol.for("react-redux-context"),KI=typeof globalThis<"u"?globalThis:{};function gse(){var t;if(!ye.createContext)return{};const e=(t=KI[qI])!=null?t:KI[qI]=new Map;let r=e.get(ye.createContext);return r||(r=ye.createContext(null),e.set(ye.createContext,r)),r}const Do=gse();function zw(t=Do){return function(){return ye.useContext(t)}}const lM=zw(),_se=()=>{throw new Error("uSES not initialized!")};let uM=_se;const yse=t=>{uM=t},xse=(t,e)=>t===e;function bse(t=Do){const e=t===Do?lM:zw(t);return function(n,i={}){const{equalityFn:a=xse,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:l,getServerState:u,stabilityCheck:c,noopCheck:h}=e();ye.useRef(!0);const p=ye.useCallback({[n.name](m){return n(m)}}[n.name],[n,c,o]),d=uM(l.addNestedSub,f.getState,u||f.getState,p,a);return ye.useDebugValue(d),d}}const tt=bse();function Ese(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var fM={exports:{}},Wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=typeof Symbol=="function"&&Symbol.for,Ww=pn?Symbol.for("react.element"):60103,Yw=pn?Symbol.for("react.portal"):60106,Qp=pn?Symbol.for("react.fragment"):60107,ev=pn?Symbol.for("react.strict_mode"):60108,tv=pn?Symbol.for("react.profiler"):60114,rv=pn?Symbol.for("react.provider"):60109,nv=pn?Symbol.for("react.context"):60110,qw=pn?Symbol.for("react.async_mode"):60111,iv=pn?Symbol.for("react.concurrent_mode"):60111,av=pn?Symbol.for("react.forward_ref"):60112,ov=pn?Symbol.for("react.suspense"):60113,wse=pn?Symbol.for("react.suspense_list"):60120,sv=pn?Symbol.for("react.memo"):60115,lv=pn?Symbol.for("react.lazy"):60116,Sse=pn?Symbol.for("react.block"):60121,Cse=pn?Symbol.for("react.fundamental"):60117,Tse=pn?Symbol.for("react.responder"):60118,Ase=pn?Symbol.for("react.scope"):60119;function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ww:switch(t=t.type,t){case qw:case iv:case Qp:case tv:case ev:case ov:return t;default:switch(t=t&&t.$$typeof,t){case nv:case av:case lv:case sv:case rv:return t;default:return e}}case Yw:return e}}}function cM(t){return di(t)===iv}Wt.AsyncMode=qw;Wt.ConcurrentMode=iv;Wt.ContextConsumer=nv;Wt.ContextProvider=rv;Wt.Element=Ww;Wt.ForwardRef=av;Wt.Fragment=Qp;Wt.Lazy=lv;Wt.Memo=sv;Wt.Portal=Yw;Wt.Profiler=tv;Wt.StrictMode=ev;Wt.Suspense=ov;Wt.isAsyncMode=function(t){return cM(t)||di(t)===qw};Wt.isConcurrentMode=cM;Wt.isContextConsumer=function(t){return di(t)===nv};Wt.isContextProvider=function(t){return di(t)===rv};Wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ww};Wt.isForwardRef=function(t){return di(t)===av};Wt.isFragment=function(t){return di(t)===Qp};Wt.isLazy=function(t){return di(t)===lv};Wt.isMemo=function(t){return di(t)===sv};Wt.isPortal=function(t){return di(t)===Yw};Wt.isProfiler=function(t){return di(t)===tv};Wt.isStrictMode=function(t){return di(t)===ev};Wt.isSuspense=function(t){return di(t)===ov};Wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qp||t===iv||t===tv||t===ev||t===ov||t===wse||typeof t=="object"&&t!==null&&(t.$$typeof===lv||t.$$typeof===sv||t.$$typeof===rv||t.$$typeof===nv||t.$$typeof===av||t.$$typeof===Cse||t.$$typeof===Tse||t.$$typeof===Ase||t.$$typeof===Sse)};Wt.typeOf=di;fM.exports=Wt;var Ise=fM.exports,hM=Ise,Rse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dM={};dM[hM.ForwardRef]=Rse;dM[hM.Memo]=Pse;var Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw=Symbol.for("react.element"),Zw=Symbol.for("react.portal"),uv=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),hv=Symbol.for("react.provider"),dv=Symbol.for("react.context"),Ose=Symbol.for("react.server_context"),pv=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),gv=Symbol.for("react.memo"),_v=Symbol.for("react.lazy"),kse=Symbol.for("react.offscreen"),pM;pM=Symbol.for("react.module.reference");function Ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Kw:switch(t=t.type,t){case uv:case cv:case fv:case vv:case mv:return t;default:switch(t=t&&t.$$typeof,t){case Ose:case dv:case pv:case _v:case gv:case hv:return t;default:return e}}case Zw:return e}}}Kt.ContextConsumer=dv;Kt.ContextProvider=hv;Kt.Element=Kw;Kt.ForwardRef=pv;Kt.Fragment=uv;Kt.Lazy=_v;Kt.Memo=gv;Kt.Portal=Zw;Kt.Profiler=cv;Kt.StrictMode=fv;Kt.Suspense=vv;Kt.SuspenseList=mv;Kt.isAsyncMode=function(){return!1};Kt.isConcurrentMode=function(){return!1};Kt.isContextConsumer=function(t){return Ai(t)===dv};Kt.isContextProvider=function(t){return Ai(t)===hv};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kw};Kt.isForwardRef=function(t){return Ai(t)===pv};Kt.isFragment=function(t){return Ai(t)===uv};Kt.isLazy=function(t){return Ai(t)===_v};Kt.isMemo=function(t){return Ai(t)===gv};Kt.isPortal=function(t){return Ai(t)===Zw};Kt.isProfiler=function(t){return Ai(t)===cv};Kt.isStrictMode=function(t){return Ai(t)===fv};Kt.isSuspense=function(t){return Ai(t)===vv};Kt.isSuspenseList=function(t){return Ai(t)===mv};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uv||t===cv||t===fv||t===vv||t===mv||t===kse||typeof t=="object"&&t!==null&&(t.$$typeof===_v||t.$$typeof===gv||t.$$typeof===hv||t.$$typeof===dv||t.$$typeof===pv||t.$$typeof===pM||t.getModuleId!==void 0)};Kt.typeOf=Ai;function Fse(){const t=mse();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const ZI={notify(){},get:()=>[]};function Nse(t,e){let r,n=ZI,i=0,a=!1;function o(m){u();const _=n.subscribe(m);let v=!1;return()=>{v||(v=!0,_(),c())}}function s(){n.notify()}function f(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(f):t.subscribe(f),n=Fse())}function c(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ZI)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,c())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:f,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const Lse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bse=Lse?ye.useLayoutEffect:ye.useEffect;function Mse({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=ye.useMemo(()=>{const l=Nse(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=ye.useMemo(()=>t.getState(),[t]);Bse(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const f=e||Do;return ye.createElement(f.Provider,{value:o},r)}function vM(t=Do){const e=t===Do?lM:zw(t);return function(){const{store:n}=e();return n}}const Dse=vM();function Use(t=Do){const e=t===Do?Dse:vM(t);return function(){return e().dispatch}}const dr=Use();yse(dse.useSyncExternalStoreWithSelector);vse(EN.unstable_batchedUpdates);const Gr=()=>{const t=dr();return{playSeEnter:()=>{t(st({key:"uiSe",value:tM}))},playSeClick:()=>{t(st({key:"uiSe",value:rM}))},playSePageChange:()=>{t(st({key:"uiSe",value:zoe}))},playSeDialogOpen:()=>{t(st({key:"uiSe",value:Yoe}))},playSeSwitch:()=>{t(st({key:"uiSe",value:Woe}))}}},Jw=()=>({playSeEnter:()=>{le.dispatch(st({key:"uiSe",value:tM}))},playSeClick:()=>{le.dispatch(st({key:"uiSe",value:rM}))}}),jse=""+new URL("progress-bar-bg.png",import.meta.url).href,$se=""+new URL("progress-bar.png",import.meta.url).href;class Qw{constructor(e,r){Xe(this,"text");Xe(this,"jump");Xe(this,"jumpToScene");Xe(this,"showCondition");Xe(this,"enableCondition");Xe(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new Qw(o,a[1]),f=/\$\{(.*?)\}/,l=i.match(f);if(l){const c=l[1].split(","),h={};c.forEach(p=>{const[d,m]=p.split("=");d&&m&&(h[d.trim()]=isNaN(Number(m.trim()))?m.trim():Number(m.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const c=n.match(/\[(.*)\]/);c&&(s.enableCondition=c[1])}return s}}const Ox=(t,e)=>{const n=t.content.split("|").map(u=>Qw.parse(u)),a=le.getState().userData.optionData.textboxFont===Ss.song?'"思源宋体", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=Jw();let f={current:null};const l=u=>u.filter((c,h)=>Sx(c.showCondition)).map((c,h)=>{var v,g;const p=Sx(c.enableCondition);let d=p?Zo.Choose_item:Zo.Choose_item_disabled;const m=()=>{if(!(!p||f.current)){if(s(),e==null||e(),f.current&&(clearTimeout(f.current),f.current=null),c.jumpToScene){const y=c.jump.split("./game/scene/")[1];QB(c.jump,y)}else eM(c.jump);z.gameplay.performController.unmountPerform("choose")}},_={fontFamily:a};if(c.style&&(typeof c.style.x=="number"&&(_.position="absolute",_.left=c.style.x*1.33333+"px",_.transform="translateX(-50%)"),typeof c.style.y=="number"&&(_.position="absolute",_.top=c.style.y*1.33333+"px",_.transform?_.transform+=" translateY(-50%)":_.transform="translateY(-50%)"),typeof c.style.scale=="number"&&(_.transform?_.transform+=" scale("+c.style.scale+")":_.transform="scale("+c.style.scale+")"),typeof c.style.fontSize=="number"&&(_.fontSize=c.style.fontSize+"px"),typeof c.style.fontColor=="string"&&c.style.fontColor[0]==="#"&&(_.color=c.style.fontColor)),typeof((v=c.style)==null?void 0:v.countdown)=="number"){d=p?Zo.Choose_item_countdown:Zo.Choose_item_countdown_disabled;let y=c.style.countdown,x=1082,b=1082/(y*1e3/16);const E=()=>{y<=0&&f.current?(clearTimeout(f),f.current=null,m()):f.current=setTimeout(()=>{y-=.016,x-=b;let w=document.getElementById("rect");w==null||w.setAttribute("width",Math.max(0,x).toString()),E()},16)};return E(),k.jsxs(qt.Fragment,{children:[k.jsxs("div",{className:d,style:_,children:[k.jsx("img",{src:jse,alt:c.text,style:{width:"1082px",height:"106px"}}),k.jsx("img",{src:$se,className:Zo.Choose_item_progress_bar})]}),k.jsx("svg",{width:"0",height:"0",children:k.jsx("defs",{children:k.jsx("clipPath",{id:"myClip",children:k.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},c.jump+h)}if((g=c.style)!=null&&g.image){d=Zo.Choose_item_image;const y=kr(c.style.image,Or.ui),x=`img-option-${h}`,b=new Image;return b.src=y,b.onload=function(){let E=document.getElementById(x);b.style.width=b.naturalWidth+"px",b.style.height=b.naturalHeight+"px",b.alt=c.text,E&&(E.style.width=b.naturalWidth+"px",E.style.height=b.naturalHeight+"px",setTimeout(()=>{E==null||E.prepend(b),E=null},32))},k.jsx("div",{id:x,className:d,style:_,onClick:m,onMouseEnter:p?o:void 0,children:k.jsx("span",{children:c.text})},c.jump+h)}return k.jsx("div",{className:d,style:_,onClick:m,onMouseEnter:p?o:void 0,children:c.text},c.jump+h)});return ks.render(k.jsx("div",{className:Zo.Choose_Main,children:l(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ks.render(k.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Vse=t=>(je.debug(`脚本内注释${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Gse=t=>(t.content!==""&&t.content!=="none"?le.dispatch(st({key:"enableFilm",value:t.content})):le.dispatch(st({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Xse="_Choose_Main_4xkm5_1",Hse="_Choose_item_4xkm5_13",zse="_glabalDialog_container_inner_4xkm5_28",Wse="_glabalDialog_container_4xkm5_28",Yse="_title_4xkm5_47",qse="_button_4xkm5_59",sl={Choose_Main:Xse,Choose_item:Hse,glabalDialog_container_inner:zse,glabalDialog_container:Wse,title:Yse,button:qse},Kse=t=>{const e=t.content.toString().trim(),r=wt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=wt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=le.getState().userData.optionData.textboxFont===Ss.song?'"思源宋体", serif':'"WebgalUI", serif',{playSeEnter:f,playSeClick:l}=Jw(),u=k.jsx("div",{style:{fontFamily:s},className:sl.glabalDialog_container,children:k.jsxs("div",{className:sl.glabalDialog_container_inner,children:[k.jsx("div",{className:sl.title,children:n}),k.jsx("input",{id:"user-input",className:sl.Choose_item}),k.jsx("div",{onMouseEnter:f,onClick:()=>{const c=document.getElementById("user-input");c&&le.dispatch(oL({key:e,value:((c==null?void 0:c.value)??"")===""?" ":(c==null?void 0:c.value)??""})),l(),z.gameplay.performController.unmountPerform("userInput"),Vr()},className:sl.button,children:a})]})});return ks.render(k.jsx("div",{className:sl.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ks.render(k.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Zse="_FullScreenPerform_main_7er8a_2",Jse="_FullScreenPerform_element_7er8a_9",Qse="_fullScreen_video_7er8a_17",ele="_fadeIn_7er8a_74",tle="_intro_showSoftly_7er8a_1",rle="_slideIn_7er8a_80",nle="_typingEffect_7er8a_86",ile="_typing_7er8a_86",ale="_blinkCursor_7er8a_1",ole="_pixelateEffect_7er8a_95",sle="_pixelateAnimation_7er8a_1",lle="_revealAnimation_7er8a_101",ule="_videoContainer_7er8a_115",no={FullScreenPerform_main:Zse,FullScreenPerform_element:Jse,fullScreen_video:Qse,fadeIn:ele,intro_showSoftly:tle,slideIn:rle,typingEffect:nle,typing:ile,blinkCursor:ale,pixelateEffect:ole,pixelateAnimation:sle,revealAnimation:lle,videoContainer:ule},fle=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,E=0)=>{switch(b){case"fadeIn":return no.fadeIn;case"slideIn":return no.slideIn;case"typingEffect":return`${no.typingEffect} ${E}`;case"pixelateEffect":return no.pixelateEffect;case"revealAnimation":return no.revealAnimation;default:return no.fadeIn}};let o=no.fadeIn,s=1500,f=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const E=parseInt(b.value.toString(),10);s=isNaN(E)?s:E}b.key==="hold"&&b.value===!0&&(f=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=f?1e3*60*60*24:1e3+s*u.length;let d=!0,m=setTimeout(()=>{d=!1},h),_=setTimeout(()=>{});const v=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(m),m=setTimeout(()=>{d=!1},h),b){const E=b.childNodes[0].childNodes[0].childNodes,w=E.length;E.forEach((S,C)=>{const T=Number(S.style.animationDelay.split("ms")[0]);T>0&&(S.style.animationDelay=`${T-s}ms`),C===w-1&&(T===0?(clearTimeout(_),z.gameplay.performController.unmountPerform(e)):(clearTimeout(_),f||(_=setTimeout(()=>{z.gameplay.performController.unmountPerform(e),setTimeout(Vr,0)},h))))})}};z.events.userInteractNext.on(v);const g=u.map((b,E)=>k.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[b,b===""?" ":""]},"introtext"+E+Math.random().toString())),y=k.jsx("div",{style:l,children:k.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:g})});ks.render(y,document.getElementById("introContainer"));const x=document.getElementById("introContainer");return x&&(x.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),z.events.userInteractNext.off(v)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},cle=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),hle=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),le.dispatch(st({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},dle="modulepreload",ple=function(t,e){return new URL(t,e).href},JI={},vle=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=ple(a,n),a in JI)return;JI[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const c=i[u];if(c.href===a&&(!o||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":dle,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,c)=>{l.addEventListener("load",u),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},mM=new Map;function mle(t){return t?typeof t=="string"?t:t():null}function gM(t){const e=mle(t);return e||(je.error("Get name of perform failed. There no name of the perform."),"")}function RRe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);mM.set(gM(t),e)}function gle(t,e=[]){const r=mM.get(gM(t));if(!r||!(r instanceof Function))throw je.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}vle(()=>import("./initRegister-70368e40.js"),[],import.meta.url);const _le=t=>{const e="PixiPerform"+t.content;z.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=gle(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;je.warn("现在正在卸载pixi演出"),n.destroy({texture:!0,baseTexture:!0}),(a=z.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=z.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},yle=t=>{var a;je.debug("play SE");let e="effect-sound";z.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;wt(t,"id")&&(e=`effect-sound-${((a=wt(t,"id"))==null?void 0:a.toString())??""}`,z.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(()=>{var d;const s=wt(t,"volume");let f=document.createElement("audio");f.src=r,n&&(f.loop=!0);const l=le.getState().userData,u=l.optionData.volumeMain,c=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*c*.01;f.volume=h,f.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{f.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),f==null||f.play(),f.onended=()=>{for(const m of z.gameplay.performController.performList)m.performName===e&&(i=!0,m.stopFunction(),z.gameplay.performController.unmountPerform(m.performName))}},1)})}},eS=()=>Math.random().toString().substring(0,10);class xle{constructor(){Xe(this,"performList",[]);Xe(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};le.dispatch(Kn.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){le.dispatch(Kn.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):Vr()}}const ble={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[]},_M=wp({name:"saveData",initialState:gr(ble),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload}}}),Jt=_M.actions,Ele=_M.reducer;function wle(t,e){for(let r=t;r<=e;r++){const n=le.getState().saveData.saveData[r];n&&Sa.setItem(`${z.gameKey}-saves${r}`,n).then(()=>{je.info(`存档${r}写入本地存储`)})}}async function tS(t,e){for(let r=t;r<=e;r++){const n=await Sa.getItem(`${z.gameKey}-saves${r}`);le.dispatch(Jt.saveGame({index:r,saveData:n})),je.info(`存档${r}读取自本地存储`)}}async function Sle(){const t=le.getState().saveData.quickSaveData;await Sa.setItem(`${z.gameKey}-saves-fast`,t),je.info("快速存档写入本地存储")}async function yM(){const t=await Sa.getItem(`${z.gameKey}-saves-fast`);le.dispatch(Jt.setFastSave(t)),je.info("快速存档读取自本地存储")}async function xM(){const t=le.getState().saveData.unlockStorylineList;await Sa.setItem(`${z.gameKey}-storyline`,{data:t}),je.info("故事线 >> 写入本地存储")}async function rS(){const t=await Sa.getItem(`${z.gameKey}-storyline`);le.dispatch(Jt.setStorylineListFromStorage((t==null?void 0:t.data)??[])),je.info("故事线 >> 读取自本地存储")}async function kx(){const t=le.getState().saveData.unlockAchieveData;await Sa.setItem(`${z.gameKey}-unlock-achieve`,{data:t}),je.info("解锁成就 >>> 写入本地存储")}async function Cle(){const t=await Sa.getItem(`${z.gameKey}-unlock-achieve`);le.dispatch(Jt.setUnlockAchieveData((t==null?void 0:t.data)||[])),je.info("解锁成就 >>> 读取本地存储")}const QI=async(t,e)=>{const r=await bM(t,!0,e);le.dispatch(Jt.saveGame({index:t,saveData:r})),wle(t,t)};async function bM(t,e=!0,r){const n=le.getState().stage,i=gr(z.backlogManager.getBacklog());let a="";if(e){const f=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(f,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const f=z.videoManager.videosByKey[z.videoManager.currentPlayingVideo];f.player&&(a=f.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:gr(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:z.sceneManager.sceneData.currentSentenceId,sceneStack:gr(z.sceneManager.sceneData.sceneStack),sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function Tle(){const t=le.getState().stage,e=gr(z.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:gr(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:z.sceneManager.sceneData.currentSentenceId,sceneStack:gr(z.sceneManager.sceneData.sceneStack),sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl}};return le.dispatch(Jt.setSaveVideoData(n)),n}const Ale=t=>{const e=le.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a="videoPlay."+eS();let o="",s=!1,f=!1;const l=Date.now();le.dispatch(Lx(!1));const u={current:()=>{console.log("快进状态尝试跳过视频")}};t.args.forEach(d=>{d.key==="choose"&&(o="choose:"+d.value),d.key==="continueBgm"&&(f=d.value===!0),d.key==="loop"&&(s=d.value===!0)});const c=()=>{let d=wt(t,"skipOff"),m=!0;return z.gameplay.isFast?(d&&(m=!0),s&&(m=!1),o!==""&&(m=!0,u.current())):(d||s||o!=="")&&(m=!0),m};z.videoManager.showVideo(t.content);let h=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:c,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(d=>{const m=_=>{h=!0,_.stopFunction(),z.gameplay.performController.unmountPerform(_.performName)};setTimeout(()=>{const _=t.content,v=le.getState().saveData.isLoadVideo;z.videoManager.seek(_,.03),z.videoManager.setVolume(_,i),z.videoManager.setLoop(_,s);const g=o?o.slice(7).split("|").map(S=>"game/scene/"+S.split(":")[1]):[];g.length&&Uu(g);const y=()=>{if(!v){for(const S of z.gameplay.performController.performList)if(S.performName===a)if(o!==""&&!s){const C=L0(o,`${l}.txt`,""),T=z.videoManager.getDuration(_);z.videoManager.seek(_,(T||0)-.03),z.videoManager.pauseVideo(_);const I=C.sentenceList[0],A=Ox(I,()=>{m(S)});z.gameplay.performController.arrangeNewPerform(A,I)}else m(S),Vr()}};u.current=y;const x={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:(S=!1)=>{if(!f){const T=document.getElementById("currentBgm");T&&(T.volume=i.toString())}const C=document.getElementById("currentVocal");C&&(C.volume=n.toString()),z.videoManager.destroy(_,S)},blockingNext:c,blockingAuto:()=>!h,stopTimeout:void 0,goNextWhenOver:!0};if(d(x),!f){const C=document.getElementById("currentBgm");C&&(C.volume=0 .toString())}const b=0,E=document.getElementById("currentVocal");E&&(E.volume=b.toString()),z.videoManager.playVideo(_);const w=le.getState().saveData.saveData||[];if(w!=null&&w.length&&w.forEach(S=>{var C,T;(T=(C=S==null?void 0:S.nowStageState)==null?void 0:C.PerformList)==null||T.forEach(I=>{var A;((A=I==null?void 0:I.script)==null?void 0:A.content)===_&&setTimeout(()=>{le.dispatch(Lx(!0))})})}),o&&s){const C=L0(o,`${l}.txt`,"").sentenceList[0],T=Ox(C,y);z.gameplay.performController.arrangeNewPerform(T,C)}z.videoManager.onEnded(_,()=>{if(Tle(),s)z.videoManager.seek(_,.03),z.videoManager.playVideo(_);else{const S=le.getState().stage.showValueList;if(S!=null&&S.length){const C=le.getState().stage.showValueName,T=S.filter(I=>I.showValueName!==C);le.dispatch(IY(T))}y()}})},100)})}},Ile=t=>{var o;le.getState().stage.currentDialogKey;const e=t.content,r=Zn(e),n=(((o=wt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var f,l;(f=z.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(n);const s=N0(e,n,r);s&&(je.debug(`动画${e}作用在${n}`,r),(l=z.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;le.getState().stage.currentDialogKey,(s=z.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Rle(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,l=e/f*o,u=1/l,c=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=c)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Ple=[{name:"universalSoftIn",animationGenerateFunc:xB},{name:"universalSoftOff",animationGenerateFunc:bB},{name:"testblur",animationGenerateFunc:Rle}],Ole=t=>{var s,f,l;le.getState().stage.currentDialogKey;const e=t.content,r=wt(t,"duration")??0,n=((s=wt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=kle(e);let o=()=>{};if(a){je.debug(`动画${e}作用在${n}`,r);const u=a(n,r);(f=z.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(n),(l=z.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var c;le.getState().stage.currentDialogKey,(c=z.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function kle(t){const e=Ple.find(r=>r.name===t);return je.debug("装载动画",e),e?e.animationGenerateFunc:null}const Fle=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Nle=t=>{var l;le.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};z.animationManager.addAnimation(i);const a=Zn(e),o=((l=wt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let f=()=>{};return setTimeout(()=>{var c,h;(c=z.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(o);const u=N0(e,o,a);u&&(je.debug(`动画${e}作用在${o}`,a),(h=z.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),f=()=>{setTimeout(()=>{var u;le.getState().stage.currentDialogKey,(u=z.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:f,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Lle(t){return t.content==="hide"?le.dispatch(st({key:"isDisableTextbox",value:!0})):le.dispatch(st({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const Ble=t=>{var u;le.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=wt(t,"duration"),a=((u=wt(t,"target"))==null?void 0:u.toString())??"0";try{const c=JSON.parse(r);n=Sc(a,c,i)}catch{n=[]}const o={name:e,effects:n};z.animationManager.addAnimation(o);const s=Dle(e),f=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=z.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const c=Mle(e,a,s);c&&(je.debug(`动画${e}作用在${a}`,s),(p=z.gameplay.pixiStage)==null||p.registerAnimation(c,f,a))},0),l=()=>{setTimeout(()=>{var c;le.getState().stage.currentDialogKey,(c=z.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(f)},0)},{performName:f,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Mle(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=gr({...Uw,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return je.debug("装载自定义动画",i),JB(i,e,r)}return null}function Dle(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const Ule=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return wt(t,"enter")&&z.animationManager.nextEnterAnimationName.set(e,wt(t,"enter").toString()),wt(t,"exit")&&z.animationManager.nextExitAnimationName.set(e+"-off",wt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},jle=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),je.info(`解锁BGM：${r}，路径：${e}，所属系列：${n}`),le.dispatch(SL({name:r,url:e,series:n}));const i=le.getState().userData;return Sa.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},$le=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),je.info(`解锁CG：${r}，路径：${e}，所属系列：${n}`),le.dispatch(wL({name:r,url:e,series:n}));const i=le.getState().userData;return Sa.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},nS=(t,e=!0,r=!0)=>{t&&z.backlogManager.makeBacklogEmpty(),r&&z.videoManager.destroyAll(!0),e&&z.sceneManager.resetScene(),z.gameplay.performController.removeAllPerform(),z.gameplay.resetGamePlay();const n=gr(aL),i=le.getState().stage.GameVar;le.dispatch(Op(n)),e||le.dispatch(st({key:"GameVar",value:i})),le.dispatch(Jt.setLoadVideo(!1))},Vle=t=>{nS(!0);const e=le.dispatch,r=kr("start.txt",Or.scene);return setTimeout(()=>{z.sceneManager.resetScene()},5),e(Jt.resetFastSave()),kM(),hi(r).then(n=>{z.sceneManager.setCurrentScene(n,"start.txt",r)}),e(it({component:"showTitle",visibility:!0})),oS(le.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Gle=t=>(eM(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Xle=t=>(z.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){je.warn("pixi 被脚本重新初始化",e.performName);for(let r=0;r<z.gameplay.performController.performList.length;r++){const n=z.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),z.gameplay.performController.performList.splice(r,1),r--)}le.dispatch(Kn.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Gt={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},Hle=t=>(Gt.maxAudioLevel=Math.max(t,Gt.maxAudioLevel),{OPEN_THRESHOLD:Gt.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Gt.maxAudioLevel*.5}),zle=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=z.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Gt.blinkTimerID=setTimeout(()=>{var a;(a=z.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Gt.blinkTimerID=setTimeout(r,i)},200))}r()},Wle=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},eR=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:f}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=z.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let c;u>.75?c="open":u>.25?c="half_open":c="closed",s!==void 0&&((p=z.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,c,f))};class Yle{constructor(e){Xe(this,"subject");Xe(this,"result");Xe(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function yv(t){return new Yle(t)}const qle=t=>{je.debug("play vocal");const e="vocal-play",r=wt(t,"vocal"),n=wt(t,"volume");let i;i=le.getState().stage;let a="",o="";const s=i.freeFigure,f=i.figureAssociatedAnimation;let l=0,u=0;const c=1;let h=document.getElementById("currentVocal");z.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&yv(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);le.dispatch(st({key:"playVocal",value:r})),le.dispatch(st({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let m=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?le.dispatch(st({key:"vocalVolume",value:n})):le.dispatch(st({key:"vocalVolume",value:100})),m!==null){m.currentTime=0;const _={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Gt.audioLevelInterval),m.pause(),o=o||`fig-${a}`;const g=f.find(y=>y.targetId===o);eR({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:c,key:o,animationItem:g,pos:a}),clearTimeout(Gt.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};z.gameplay.performController.arrangeNewPerform(_,t,!1),o=o||`fig-${a}`;const v=f.find(g=>g.targetId===o);if(v){const g=s.find(b=>b.key===o);if(g&&(a=g.basePosition),!Gt.audioContext){let b;b=new AudioContext,Gt.analyser=b.createAnalyser(),Gt.analyser.fftSize=256,Gt.dataArray=new Uint8Array(Gt.analyser.frequencyBinCount)}Gt.analyser||(Gt.analyser=Gt.audioContext.createAnalyser(),Gt.analyser.fftSize=256),l=Gt.analyser.frequencyBinCount,Gt.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Gt.source||(Gt.source=Gt.audioContext.createMediaElementSource(y),Gt.source.connect(Gt.analyser)),Gt.analyser.connect(Gt.audioContext.destination),Gt.audioLevelInterval=setInterval(()=>{const b=Wle(Gt.analyser,Gt.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:w}=Hle(b);eR({audioLevel:b,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:w,currentMouthValue:u,lerpSpeed:c,key:o,animationItem:v,pos:a})},50);let x;x=Date.now()+1e4,zle({key:o,animationItem:v,pos:a,animationEndTime:x}),setTimeout(()=>{clearTimeout(Gt.blinkTimerID)},1e4)}m==null||m.play(),m.onended=()=>{for(const g of z.gameplay.performController.performList)g.performName===e&&(p=!0,g.stopFunction(),z.gameplay.performController.unmountPerform(g.performName))}}},1)})}};function EM(t){return t===0?3:t===100?80:77*Number(t)/100}function Kle(t){return t===0?800:t===100?200:800-600*Number(t)/100}const Zle=t=>{const e=le.getState().stage,r=le.getState().userData,n=le.dispatch;let i=Math.random().toString(),a=t.content;const o=wt(t,"concat"),s=wt(t,"notend"),f=wt(t,"speaker"),l=wt(t,"clear"),u=wt(t,"vocal"),c=wt(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(st({key:"currentConcatDialogPrev",value:e.showText}))):n(st({key:"currentConcatDialogPrev",value:""})),n(st({key:"showText",value:a})),n(st({key:"vocal",value:""})),n(st({key:"dialogueMode",value:c})),r.optionData.voiceInterruption===yw.no&&u===null||(n(st({key:"playVocal",value:""})),z.gameplay.performController.unmountPerform("vocal-play",!0)),n(st({key:"currentDialogKey",value:i}));const p=EM(r.optionData.textSpeed)*t.content.length;for(const v of t.args)if(v.key==="fontSize")switch(v.value){case"default":n(st({key:"showTextSize",value:-1}));break;case"small":n(st({key:"showTextSize",value:Io.small}));break;case"medium":n(st({key:"showTextSize",value:Io.medium}));break;case"large":n(st({key:"showTextSize",value:Io.large}));break}let d=e.showName;f!==null&&(d=f),c==="player"&&(d="我"),c==="narrator"&&(d="旁白"),l&&(d=""),n(st({key:"showName",value:d})),u&&qle(t);const m=eS();let _=750-r.optionData.textSpeed/100*2*250;return s&&(_=0),{performName:m,duration:p+_,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},Jle=t=>{const e=le.getState().stage,r=le.getState().userData,n=le.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(st({key:"showText",value:JSON.stringify(i)})),n(st({key:"showName",value:"展示变量"})),je.debug("展示变量：",i),setTimeout(()=>{z.events.textSettle.emit()},0);const a=eS(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Bt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const wM={};function Qle(t){const e={};for(const[r,n]of Object.entries(t))e[r]=wM[n.scriptType]={scriptString:r,...n};return e}const eue=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];le.dispatch(Kn.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tue=t=>(console.log("解锁故事线 >>>>>>>> start : ",{sentence:t}),(async()=>{var f,l;await rS();let r=(t==null?void 0:t.content)||"";const n={};if(r&&(n.thumbnailUrl=kr(r,Or.ui)),t.args.forEach(u=>{var c;switch(u.key){case"name":n.name=((c=u.value)==null?void 0:c.toString())??"";break;case"x":n.x=u.value&&Number(u.value)||0;break;case"y":n.y=u.value&&Number(u.value)||0;break}}),!n.thumbnailUrl)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=le.getState().saveData,a=(f=i.unlockStorylineList)==null?void 0:f.findIndex(u=>u.storyLine.thumbnailUrl===n.thumbnailUrl);let o;a!==-1&&(o=i.unlockStorylineList[a]);const s={name:n.name||"",thumbnailUrl:n.thumbnailUrl||"",x:n.x||0,y:n.y||0,isUnlock:((l=o==null?void 0:o.storyLine)==null?void 0:l.isUnlock)||i.isUnlockStoryline||!1};a===-1?le.dispatch(Jt.addStorylineList({storyLine:s,videoData:le.getState().saveData.saveVideoData})):le.dispatch(Jt.replaceStorylineList({index:a,data:{storyLine:s,videoData:le.getState().saveData.saveVideoData}})),xM()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),rue=t=>{var l;console.log("解锁成就 >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var c,h;switch(u.key){case"unlockname":r.unlockname=((c=u.value)==null?void 0:c.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=le.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},f=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return le.dispatch(Jt.saveAllUnlockAchieveList(f)),i===-1?le.dispatch(Jt.addUnlockAchieveData(s)):le.dispatch(Jt.replaceUnlockAchieveData({index:i,data:s})),kx(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function nue(t){const e={isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0};return t!=null&&t.content&&(le.dispatch(st({key:"showValueName",value:t.content})),e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?(le.dispatch(st({key:"isShowValueSWitch",value:r.value})),e.isShowValueSWitch=!!r.value):r.key==="x"?(le.dispatch(st({key:"showValueAxisX",value:Number(r.value)})),e.showValueAxisX=Number(r.value)):r.key==="y"&&(le.dispatch(st({key:"showValueAxisY",value:Number(r.value)})),e.showValueAxisY=Number(r.value))}),le.dispatch(AY(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const SM=Qle({intro:Bt(mt.intro,fle),changeBg:Bt(mt.changeBg,Boe),changeFigure:Bt(mt.changeFigure,Moe),miniAvatar:Bt(mt.miniAvatar,hle,{next:!0}),changeScene:Bt(mt.changeScene,Doe),choose:Bt(mt.choose,Ox),end:Bt(mt.end,Vle),bgm:Bt(mt.bgm,RQ,{next:!0}),playVideo:Bt(mt.video,Ale),setComplexAnimation:Bt(mt.setComplexAnimation,Ole),setFilter:Bt(mt.setFilter,Fle),pixiInit:Bt(mt.pixiInit,Xle,{next:!0}),pixiPerform:Bt(mt.pixi,_le,{next:!0}),label:Bt(mt.label,cle,{next:!0}),jumpLabel:Bt(mt.jumpLabel,Gle),setVar:Bt(mt.setVar,Ote,{next:!0}),showVars:Bt(mt.showVars,Jle),unlockCg:Bt(mt.unlockCg,$le,{next:!0}),unlockBgm:Bt(mt.unlockBgm,jle,{next:!0}),say:Bt(mt.say,Zle),filmMode:Bt(mt.filmMode,Gse,{next:!0}),callScene:Bt(mt.callScene,Cre),setTextbox:Bt(mt.setTextbox,Lle),setAnimation:Bt(mt.setAnimation,Ile),playEffect:Bt(mt.playEffect,yle,{next:!0}),setTempAnimation:Bt(mt.setTempAnimation,Nle),__commment:Bt(mt.comment,Vse,{next:!0}),setTransform:Bt(mt.setTransform,Ble),setTransition:Bt(mt.setTransition,Ule,{next:!0}),getUserInput:Bt(mt.getUserInput,Kse),applyStyle:Bt(mt.applyStyle,eue,{next:!0}),unlockAchieve:Bt(mt.unlockAchieve,rue,{next:!0}),unlockStoryline:Bt(mt.unlockStoryline,tue,{next:!0}),showValue:Bt(mt.showValue,nue,{next:!0})}),CM=Object.values(SM),iue=CM.filter(t=>t.next).map(t=>t.scriptType),xv=new IQ(Uq,kr,iue,CM),L0=(t,e,r)=>{const n=xv.parse(t,e,r);return je.info(`解析场景：${e}，数据为：`,n),n};var Yl=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(Yl||{});const tR={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class aue{constructor(){Xe(this,"settledScenes",[]);Xe(this,"settledAssets",[]);Xe(this,"sceneData",gr(tR));Xe(this,"sceneAssetsList",{});Xe(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=gr(tR.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{var u;let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const f=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:c})=>{setTimeout(()=>{r===c&&(o.current&&(this.sceneData.currentScene=o.current),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,f())},16)}),l=((u=o.current)==null?void 0:u.sentenceList)||[];if(l.length&&r==="start.txt"){rS().then(()=>{l.findIndex(d=>d.command===mt.unlockStoryline)===-1&&(le.dispatch(Jt.resetStorylineList()),xM())});const c=l.findIndex(p=>p.command===mt.unlockAchieve),h=this.compareFilenames(r,n);c===-1&&h&&(le.dispatch(Jt.resetUnlockAchieveData()),kx())}r==="achieve.txt"&&this.getAllUnlockAchieveList(l),o.current=L0(e,r,n)})}async getAllUnlockAchieveList(e){await Cle();const r=new Map,n=new Map;le.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===mt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(f=>{f.key==="unlockname"?s.unlockname=f.value.toString():f.key==="x"?s.x=Number(f.value):f.key==="y"?s.y=Number(f.value):f.key==="condition"&&(s.condition=f.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});le.dispatch(Jt.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);le.dispatch(Jt.setUnlockAchieveData(a)),await kx()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class oue{constructor(){Xe(this,"nextEnterAnimationName",new Map);Xe(this,"nextExitAnimationName",new Map);Xe(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class sue{constructor(){Xe(this,"isAuto",!1);Xe(this,"isFast",!1);Xe(this,"isSyncingWithOrigine",!1);Xe(this,"autoInterval",null);Xe(this,"fastInterval",null);Xe(this,"autoTimeout",null);Xe(this,"pixiStage",null);Xe(this,"performController",new xle)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function lue(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class uue{constructor(){Xe(this,"textSettle",Hh("text-settle"));Xe(this,"userInteractNext",Hh("__NEXT"));Xe(this,"fullscreenDbClick",Hh("fullscreen-dbclick"));Xe(this,"styleUpdate",Hh("style-update"))}}const Eg=lue();function Hh(t){return{on:(e,r)=>{Eg.on(`${t}-${r??""}`,e)},emit:(e,r)=>{Eg.emit(`${t}-${r??""}`,e)},off:(e,r)=>{Eg.off(`${t}-${r??""}`,e)}}}var TM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(xe){var B=typeof xe;return xe!==null&&(B==="object"||B==="function")}function u(xe){return typeof xe=="function"}var c=void 0;Array.isArray?c=Array.isArray:c=function(xe){return Object.prototype.toString.call(xe)==="[object Array]"};var h=c,p=0,d=void 0,m=void 0,_=function(B,ne){R[p]=B,R[p+1]=ne,p+=2,p===2&&(m?m(O):N())};function v(xe){m=xe}function g(xe){_=xe}var y=typeof window<"u"?window:void 0,x=y||{},b=x.MutationObserver||x.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){return function(){return process.nextTick(O)}}function C(){return typeof d<"u"?function(){d(O)}:A()}function T(){var xe=0,B=new b(O),ne=document.createTextNode("");return B.observe(ne,{characterData:!0}),function(){ne.data=xe=++xe%2}}function I(){var xe=new MessageChannel;return xe.port1.onmessage=O,function(){return xe.port2.postMessage(0)}}function A(){var xe=setTimeout;return function(){return xe(O,1)}}var R=new Array(1e3);function O(){for(var xe=0;xe<p;xe+=2){var B=R[xe],ne=R[xe+1];B(ne),R[xe]=void 0,R[xe+1]=void 0}p=0}function F(){try{var xe=Function("return this")().require("vertx");return d=xe.runOnLoop||xe.runOnContext,C()}catch{return A()}}var N=void 0;E?N=S():b?N=T():w?N=I():y===void 0?N=F():N=A();function $(xe,B){var ne=this,de=new this.constructor(G);de[K]===void 0&&pt(de);var be=ne._state;if(be){var Z=arguments[be-1];_(function(){return Te(be,de,Z,ne._result)})}else Ae(ne,de,xe,B);return de}function q(xe){var B=this;if(xe&&typeof xe=="object"&&xe.constructor===B)return xe;var ne=new B(G);return we(ne,xe),ne}var K=Math.random().toString(36).substring(2);function G(){}var L=void 0,j=1,M=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function Q(xe,B,ne,de){try{xe.call(B,ne,de)}catch(be){return be}}function se(xe,B,ne){_(function(de){var be=!1,Z=Q(ne,B,function(me){be||(be=!0,B!==me?we(de,me):pe(de,me))},function(me){be||(be=!0,ve(de,me))},"Settle: "+(de._label||" unknown promise"));!be&&Z&&(be=!0,ve(de,Z))},xe)}function re(xe,B){B._state===j?pe(xe,B._result):B._state===M?ve(xe,B._result):Ae(B,void 0,function(ne){return we(xe,ne)},function(ne){return ve(xe,ne)})}function fe(xe,B,ne){B.constructor===xe.constructor&&ne===$&&B.constructor.resolve===q?re(xe,B):ne===void 0?pe(xe,B):u(ne)?se(xe,B,ne):pe(xe,B)}function we(xe,B){if(xe===B)ve(xe,D());else if(l(B)){var ne=void 0;try{ne=B.then}catch(de){ve(xe,de);return}fe(xe,B,ne)}else pe(xe,B)}function Ee(xe){xe._onerror&&xe._onerror(xe._result),ke(xe)}function pe(xe,B){xe._state===L&&(xe._result=B,xe._state=j,xe._subscribers.length!==0&&_(ke,xe))}function ve(xe,B){xe._state===L&&(xe._state=M,xe._result=B,_(Ee,xe))}function Ae(xe,B,ne,de){var be=xe._subscribers,Z=be.length;xe._onerror=null,be[Z]=B,be[Z+j]=ne,be[Z+M]=de,Z===0&&xe._state&&_(ke,xe)}function ke(xe){var B=xe._subscribers,ne=xe._state;if(B.length!==0){for(var de=void 0,be=void 0,Z=xe._result,me=0;me<B.length;me+=3)de=B[me],be=B[me+ne],de?Te(ne,de,be,Z):be(Z);xe._subscribers.length=0}}function Te(xe,B,ne,de){var be=u(ne),Z=void 0,me=void 0,U=!0;if(be){try{Z=ne(de)}catch(Se){U=!1,me=Se}if(B===Z){ve(B,J());return}}else Z=de;B._state!==L||(be&&U?we(B,Z):U===!1?ve(B,me):xe===j?pe(B,Z):xe===M&&ve(B,Z))}function Fe(xe,B){try{B(function(de){we(xe,de)},function(de){ve(xe,de)})}catch(ne){ve(xe,ne)}}var Ne=0;function Ze(){return Ne++}function pt(xe){xe[K]=Ne++,xe._state=void 0,xe._result=void 0,xe._subscribers=[]}function Je(){return new Error("Array Methods must be provided an Array")}var qe=function(){function xe(B,ne){this._instanceConstructor=B,this.promise=new B(G),this.promise[K]||pt(this.promise),h(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?pe(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&pe(this.promise,this._result))):ve(this.promise,Je())}return xe.prototype._enumerate=function(ne){for(var de=0;this._state===L&&de<ne.length;de++)this._eachEntry(ne[de],de)},xe.prototype._eachEntry=function(ne,de){var be=this._instanceConstructor,Z=be.resolve;if(Z===q){var me=void 0,U=void 0,Se=!1;try{me=ne.then}catch(P){Se=!0,U=P}if(me===$&&ne._state!==L)this._settledAt(ne._state,de,ne._result);else if(typeof me!="function")this._remaining--,this._result[de]=ne;else if(be===rt){var ze=new be(G);Se?ve(ze,U):fe(ze,ne,me),this._willSettleAt(ze,de)}else this._willSettleAt(new be(function(P){return P(ne)}),de)}else this._willSettleAt(Z(ne),de)},xe.prototype._settledAt=function(ne,de,be){var Z=this.promise;Z._state===L&&(this._remaining--,ne===M?ve(Z,be):this._result[de]=be),this._remaining===0&&pe(Z,this._result)},xe.prototype._willSettleAt=function(ne,de){var be=this;Ae(ne,void 0,function(Z){return be._settledAt(j,de,Z)},function(Z){return be._settledAt(M,de,Z)})},xe}();function lt(xe){return new qe(this,xe).promise}function It(xe){var B=this;return h(xe)?new B(function(ne,de){for(var be=xe.length,Z=0;Z<be;Z++)B.resolve(xe[Z]).then(ne,de)}):new B(function(ne,de){return de(new TypeError("You must pass an array to race."))})}function Nt(xe){var B=this,ne=new B(G);return ve(ne,xe),ne}function Rt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Pt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var rt=function(){function xe(B){this[K]=Ze(),this._result=this._state=void 0,this._subscribers=[],G!==B&&(typeof B!="function"&&Rt(),this instanceof xe?Fe(this,B):Pt())}return xe.prototype.catch=function(ne){return this.then(null,ne)},xe.prototype.finally=function(ne){var de=this,be=de.constructor;return u(ne)?de.then(function(Z){return be.resolve(ne()).then(function(){return Z})},function(Z){return be.resolve(ne()).then(function(){throw Z})}):de.then(ne,ne)},xe}();rt.prototype.then=$,rt.all=lt,rt.race=It,rt.resolve=q,rt.reject=Nt,rt._setScheduler=v,rt._setAsap=g,rt._asap=_;function Lt(){var xe=void 0;if(typeof f.g<"u")xe=f.g;else if(typeof self<"u")xe=self;else try{xe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var B=xe.Promise;if(B){var ne=null;try{ne=Object.prototype.toString.call(B.resolve())}catch{}if(ne==="[object Promise]"&&!B.cast)return}xe.Promise=rt}return rt.polyfill=Lt,rt.Promise=rt,rt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,f=s&&typeof s.apply=="function"?s.apply:function(A,R,O){return Function.prototype.apply.call(A,R,O)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:l=function(A){return Object.getOwnPropertyNames(A)};function u(I){console&&console.warn&&console.warn(I)}var c=Number.isNaN||function(A){return A!==A};function h(){h.init.call(this)}o.exports=h,o.exports.once=S,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(I){if(typeof I!="number"||I<0||c(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");p=I}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function m(I){return I._maxListeners===void 0?h.defaultMaxListeners:I._maxListeners}h.prototype.getMaxListeners=function(){return m(this)},h.prototype.emit=function(A){for(var R=[],O=1;O<arguments.length;O++)R.push(arguments[O]);var F=A==="error",N=this._events;if(N!==void 0)F=F&&N.error===void 0;else if(!F)return!1;if(F){var $;if(R.length>0&&($=R[0]),$ instanceof Error)throw $;var q=new Error("Unhandled error."+($?" ("+$.message+")":""));throw q.context=$,q}var K=N[A];if(K===void 0)return!1;if(typeof K=="function")f(K,this,R);else for(var G=K.length,L=b(K,G),O=0;O<G;++O)f(L[O],this,R);return!0};function _(I,A,R,O){var F,N,$;if(d(R),N=I._events,N===void 0?(N=I._events=Object.create(null),I._eventsCount=0):(N.newListener!==void 0&&(I.emit("newListener",A,R.listener?R.listener:R),N=I._events),$=N[A]),$===void 0)$=N[A]=R,++I._eventsCount;else if(typeof $=="function"?$=N[A]=O?[R,$]:[$,R]:O?$.unshift(R):$.push(R),F=m(I),F>0&&$.length>F&&!$.warned){$.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=A,q.count=$.length,u(q)}return I}h.prototype.addListener=function(A,R){return _(this,A,R,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(A,R){return _(this,A,R,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(I,A,R){var O={fired:!1,wrapFn:void 0,target:I,type:A,listener:R},F=v.bind(O);return F.listener=R,O.wrapFn=F,F}h.prototype.once=function(A,R){return d(R),this.on(A,g(this,A,R)),this},h.prototype.prependOnceListener=function(A,R){return d(R),this.prependListener(A,g(this,A,R)),this},h.prototype.removeListener=function(A,R){var O,F,N,$,q;if(d(R),F=this._events,F===void 0)return this;if(O=F[A],O===void 0)return this;if(O===R||O.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete F[A],F.removeListener&&this.emit("removeListener",A,O.listener||R));else if(typeof O!="function"){for(N=-1,$=O.length-1;$>=0;$--)if(O[$]===R||O[$].listener===R){q=O[$].listener,N=$;break}if(N<0)return this;N===0?O.shift():E(O,N),O.length===1&&(F[A]=O[0]),F.removeListener!==void 0&&this.emit("removeListener",A,q||R)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(A){var R,O,F;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var N=Object.keys(O),$;for(F=0;F<N.length;++F)$=N[F],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=O[A],typeof R=="function")this.removeListener(A,R);else if(R!==void 0)for(F=R.length-1;F>=0;F--)this.removeListener(A,R[F]);return this};function y(I,A,R){var O=I._events;if(O===void 0)return[];var F=O[A];return F===void 0?[]:typeof F=="function"?R?[F.listener||F]:[F]:R?w(F):b(F,F.length)}h.prototype.listeners=function(A){return y(this,A,!0)},h.prototype.rawListeners=function(A){return y(this,A,!1)},h.listenerCount=function(I,A){return typeof I.listenerCount=="function"?I.listenerCount(A):x.call(I,A)},h.prototype.listenerCount=x;function x(I){var A=this._events;if(A!==void 0){var R=A[I];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(I,A){for(var R=new Array(A),O=0;O<A;++O)R[O]=I[O];return R}function E(I,A){for(;A+1<I.length;A++)I[A]=I[A+1];I.pop()}function w(I){for(var A=new Array(I.length),R=0;R<A.length;++R)A[R]=I[R].listener||I[R];return A}function S(I,A){return new Promise(function(R,O){function F($){I.removeListener(A,N),O($)}function N(){typeof I.removeListener=="function"&&I.removeListener("error",F),R([].slice.call(arguments))}T(I,A,N,{once:!0}),A!=="error"&&C(I,F,{once:!0})})}function C(I,A,R){typeof I.on=="function"&&T(I,"error",A,R)}function T(I,A,R,O){if(typeof I.on=="function")O.once?I.once(A,R):I.on(A,R);else if(typeof I.addEventListener=="function")I.addEventListener(A,function F(N){O.once&&I.removeEventListener(A,F),R(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}},"./node_modules/webworkify-webpack/index.js":function(o,s,f){function l(v){var g={};function y(b){if(g[b])return g[b].exports;var E=g[b]={i:b,l:!1,exports:{}};return v[b].call(E.exports,E,E.exports,y),E.l=!0,E.exports}y.m=v,y.c=g,y.i=function(b){return b},y.d=function(b,E,w){y.o(b,E)||Object.defineProperty(b,E,{configurable:!1,enumerable:!0,get:w})},y.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},y.n=function(b){var E=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(E,"a",E),E},y.o=function(b,E){return Object.prototype.hasOwnProperty.call(b,E)},y.p="/",y.oe=function(b){throw console.error(b),b};var x=y(y.s=ENTRY_MODULE);return x.default||x}var u="[\\.|\\-|\\+|\\w|/|@]+",c="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(v){return!isNaN(1*v)}function d(v,g,y){var x={};x[y]=[];var b=g.toString(),E=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return x;for(var w=E[1],S=new RegExp("(\\\\n|\\W)"+h(w)+c,"g"),C;C=S.exec(b);)C[3]!=="dll-reference"&&x[y].push(C[3]);for(S=new RegExp("\\("+h(w)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+c,"g");C=S.exec(b);)v[C[2]]||(x[y].push(C[1]),v[C[2]]=f(C[1]).m),x[C[2]]=x[C[2]]||[],x[C[2]].push(C[4]);for(var T=Object.keys(x),I=0;I<T.length;I++)for(var A=0;A<x[T[I]].length;A++)p(x[T[I]][A])&&(x[T[I]][A]=1*x[T[I]][A]);return x}function m(v){var g=Object.keys(v);return g.reduce(function(y,x){return y||v[x].length>0},!1)}function _(v,g){for(var y={main:[g]},x={main:[]},b={main:{}};m(y);)for(var E=Object.keys(y),w=0;w<E.length;w++){var S=E[w],C=y[S],T=C.pop();if(b[S]=b[S]||{},!(b[S][T]||!v[S][T])){b[S][T]=!0,x[S]=x[S]||[],x[S].push(T);for(var I=d(v,v[S][T],S),A=Object.keys(I),R=0;R<A.length;R++)y[A[R]]=y[A[R]]||[],y[A[R]]=y[A[R]].concat(I[A[R]])}}return x}o.exports=function(v,g){g=g||{};var y={main:f.m},x=g.all?{main:Object.keys(y.main)}:_(y,v),b="";Object.keys(x).filter(function(T){return T!=="main"}).forEach(function(T){for(var I=0;x[T][I];)I++;x[T].push(I),y[T][I]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+T+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+x[T].map(function(A){return""+JSON.stringify(A)+": "+y[T][A].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+x.main.map(function(T){return""+JSON.stringify(T)+": "+y.main[T].toString()}).join(",")+"}))(self);";var E=new window.Blob([b],{type:"text/javascript"});if(g.bare)return E;var w=window.URL||window.webkitURL||window.mozURL||window.msURL,S=w.createObjectURL(E),C=new window.Worker(S);return C.objectURL=S,C}},"./src/config.js":function(o,s,f){f.r(s),f.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,f){f.r(s);var l=f("./src/io/io-controller.js"),u=f("./src/config.js"),c=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=c},"./src/core/media-info.js":function(o,s,f){f.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var c=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&c&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(c){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,c);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(c,h){var p=0,d=c.length-1,m=0,_=0,v=d;for(h<c[0]&&(p=0,_=v+1);_<=v;)if(m=_+Math.floor((v-_)/2),m===d||h>=c[m]&&h<c[m+1]){p=m;break}else c[m]<h?_=m+1:v=m-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,f){f.r(s),f.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return c},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,m,_,v,g){this.dts=d,this.pts=m,this.duration=_,this.originalDts=v,this.isSyncPoint=g,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),c=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var m=this._list;d.length!==0&&(m.length>0&&d[0].originalDts<m[m.length-1].originalDts&&this.clear(),Array.prototype.push.apply(m,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var m=this._list,_=0,v=m.length-1,g=0,y=0,x=v;for(d<m[0].dts&&(_=0,y=x+1);y<=x;)if(g=y+Math.floor((x-y)/2),g===v||d>=m[g].dts&&d<m[g+1].dts){_=g;break}else m[g].dts<d?y=g+1:x=g-1;return this._list[_]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var m=this._list;if(m.length===0)return-2;var _=m.length-1,v=0,g=0,y=_,x=0;if(d<m[0].originalBeginDts)return x=-1,x;for(;g<=y;)if(v=g+Math.floor((y-g)/2),v===_||d>m[v].lastSample.originalDts&&d<m[v+1].originalBeginDts){x=v;break}else m[v].originalBeginDts<d?g=v+1:y=v-1;return x},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var m=this._list,_=d,v=this._lastAppendLocation,g=0;v!==-1&&v<m.length&&_.originalBeginDts>=m[v].lastSample.originalDts&&(v===m.length-1||v<m.length-1&&_.originalBeginDts<m[v+1].originalBeginDts)?g=v+1:m.length>0&&(g=this._searchNearestSegmentBefore(_.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,_)},p.prototype.getLastSegmentBefore=function(d){var m=this._searchNearestSegmentBefore(d);return m>=0?this._list[m]:null},p.prototype.getLastSampleBefore=function(d){var m=this.getLastSegmentBefore(d);return m!=null?m.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var m=this._searchNearestSegmentBefore(d),_=this._list[m].syncPoints;_.length===0&&m>0;)m--,_=this._list[m].syncPoints;return _.length>0?_[_.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/core/mse-events.js"),d=f("./src/core/media-segment-info.js"),m=f("./src/utils/exception.js"),_=function(){function v(g){this.TAG="MSEController",this._config=g,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return v.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(g,y){this._emitter.addListener(g,y)},v.prototype.off=function(g,y){this._emitter.removeListener(g,y)},v.prototype.attachMediaElement=function(g){if(this._mediaSource)throw new m.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=g,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),g.src=this._mediaSourceObjectURL},v.prototype.detachMediaElement=function(){if(this._mediaSource){var g=this._mediaSource;for(var y in this._sourceBuffers){var x=this._pendingSegments[y];x.splice(0,x.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var b=this._sourceBuffers[y];if(b){if(g.readyState!=="closed"){try{g.removeSourceBuffer(b)}catch(E){c.default.e(this.TAG,E.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(g.readyState==="open")try{g.endOfStream()}catch(E){c.default.e(this.TAG,E.message)}g.removeEventListener("sourceopen",this.e.onSourceOpen),g.removeEventListener("sourceended",this.e.onSourceEnded),g.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},v.prototype.appendInitSegment=function(g,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(g),this._pendingSegments[g.type].push(g);return}var x=g,b=""+x.container;x.codec&&x.codec.length>0&&(b+=";codecs="+x.codec);var E=!1;if(c.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[x.type]=x,b!==this._mimeTypes[x.type]){if(this._mimeTypes[x.type])c.default.v(this.TAG,"Notice: "+x.type+" mimeType changed, origin: "+this._mimeTypes[x.type]+", target: "+b);else{E=!0;try{var w=this._sourceBuffers[x.type]=this._mediaSource.addSourceBuffer(b);w.addEventListener("error",this.e.onSourceBufferError),w.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(S){c.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message});return}}this._mimeTypes[x.type]=b}y||this._pendingSegments[x.type].push(x),E||this._sourceBuffers[x.type]&&!this._sourceBuffers[x.type].updating&&this._doAppendSegments(),h.default.safari&&x.container==="audio/mpeg"&&x.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=x.mediaDuration/1e3,this._updateMediaSourceDuration())},v.prototype.appendMediaSegment=function(g){var y=g;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var x=this._sourceBuffers[y.type];x&&!x.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},v.prototype.seek=function(g){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var x=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{x.abort()}catch(T){c.default.e(this.TAG,T.message)}this._idrList.clear();var b=this._pendingSegments[y];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<x.buffered.length;E++){var w=x.buffered.start(E),S=x.buffered.end(E);this._pendingRemoveRanges[y].push({start:w,end:S})}if(x.updating||this._doRemoveRanges(),h.default.safari){var C=this._lastInitSegments[y];C&&(this._pendingSegments[y].push(C),x.updating||this._doAppendSegments())}}}},v.prototype.endOfStream=function(){var g=this._mediaSource,y=this._sourceBuffers;if(!g||g.readyState!=="open"){g&&g.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,g.endOfStream())},v.prototype.getNearestKeyframe=function(g){return this._idrList.getLastSyncPointBeforeDts(g)},v.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){var b=x.buffered;if(b.length>=1&&g-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},v.prototype._doCleanupSourceBuffer=function(){var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){for(var b=x.buffered,E=!1,w=0;w<b.length;w++){var S=b.start(w),C=b.end(w);if(S<=g&&g<C+3){if(g-S>=this._config.autoCleanupMaxBackwardDuration){E=!0;var T=g-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:S,end:T})}}else C<g&&(E=!0,this._pendingRemoveRanges[y].push({start:S,end:C}))}E&&!x.updating&&this._doRemoveRanges()}}},v.prototype._updateMediaSourceDuration=function(){var g=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(g.video&&g.video.updating||g.audio&&g.audio.updating)){var y=this._mediaSource.duration,x=this._pendingMediaDuration;x>0&&(isNaN(y)||x>y)&&(c.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+x),this._mediaSource.duration=x),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},v.prototype._doRemoveRanges=function(){for(var g in this._pendingRemoveRanges)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating))for(var y=this._sourceBuffers[g],x=this._pendingRemoveRanges[g];x.length&&!y.updating;){var b=x.shift();y.remove(b.start,b.end)}},v.prototype._doAppendSegments=function(){var g=this._pendingSegments;for(var y in g)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&g[y].length>0){var x=g[y].shift();if(x.timestampOffset){var b=this._sourceBuffers[y].timestampOffset,E=x.timestampOffset/1e3,w=Math.abs(b-E);w>.1&&(c.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+E),this._sourceBuffers[y].timestampOffset=E),delete x.timestampOffset}if(!x.data||x.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(x.data),this._isBufferFull=!1,y==="video"&&x.hasOwnProperty("info")&&this._idrList.appendArray(x.info.syncPoints)}catch(S){this._pendingSegments[y].unshift(x),S.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(c.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message}))}}},v.prototype._onSourceOpen=function(){if(c.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var g=this._pendingSourceBufferInit;g.length;){var y=g.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},v.prototype._onSourceEnded=function(){c.default.v(this.TAG,"MediaSource onSourceEnded")},v.prototype._onSourceClose=function(){c.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},v.prototype._hasPendingSegments=function(){var g=this._pendingSegments;return g.video.length>0||g.audio.length>0},v.prototype._hasPendingRemoveRanges=function(){var g=this._pendingRemoveRanges;return g.video.length>0||g.audio.length>0},v.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},v.prototype._onSourceBufferError=function(g){c.default.e(this.TAG,"SourceBuffer Error: "+g)},v}();s.default=_},"./src/core/mse-events.js":function(o,s,f){f.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./node_modules/webworkify-webpack/index.js"),h=f.n(c),p=f("./src/utils/logger.js"),d=f("./src/utils/logging-control.js"),m=f("./src/core/transmuxing-controller.js"),_=f("./src/core/transmuxing-events.js"),v=f("./src/core/media-info.js"),g=function(){function y(x,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[x,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new m.default(x,b)}else this._controller=new m.default(x,b);if(this._controller){var E=this._controller;E.on(_.default.IO_ERROR,this._onIOError.bind(this)),E.on(_.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(_.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(_.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(_.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(_.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(_.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(_.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(_.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(_.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(_.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(x,b){this._emitter.addListener(x,b)},y.prototype.off=function(x,b){this._emitter.removeListener(x,b)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(x){this._worker?this._worker.postMessage({cmd:"seek",param:x}):this._controller.seek(x)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.INIT_SEGMENT,x,b)})},y.prototype._onMediaSegment=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.MEDIA_SEGMENT,x,b)})},y.prototype._onLoadingComplete=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.MEDIA_INFO,x)})},y.prototype._onMetaDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.METADATA_ARRIVED,x)})},y.prototype._onScriptDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.SCRIPTDATA_ARRIVED,x)})},y.prototype._onStatisticsInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.STATISTICS_INFO,x)})},y.prototype._onIOError=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.IO_ERROR,x,b)})},y.prototype._onDemuxError=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.DEMUX_ERROR,x,b)})},y.prototype._onRecommendSeekpoint=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.RECOMMEND_SEEKPOINT,x)})},y.prototype._onLoggingConfigChanged=function(x){this._worker&&this._worker.postMessage({cmd:"logging_config",param:x})},y.prototype._onWorkerMessage=function(x){var b=x.data,E=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case _.default.INIT_SEGMENT:case _.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,E.type,E.data);break;case _.default.LOADING_COMPLETE:case _.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case _.default.MEDIA_INFO:Object.setPrototypeOf(E,v.default.prototype),this._emitter.emit(b.msg,E);break;case _.default.METADATA_ARRIVED:case _.default.SCRIPTDATA_ARRIVED:case _.default.STATISTICS_INFO:this._emitter.emit(b.msg,E);break;case _.default.IO_ERROR:case _.default.DEMUX_ERROR:this._emitter.emit(b.msg,E.type,E.info);break;case _.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},y}();s.default=g},"./src/core/transmuxing-controller.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/core/media-info.js"),d=f("./src/demux/flv-demuxer.js"),m=f("./src/remux/mp4-remuxer.js"),_=f("./src/demux/demux-errors.js"),v=f("./src/io/io-controller.js"),g=f("./src/core/transmuxing-events.js"),y=function(){function x(b,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var w=0;this._mediaDataSource.segments.forEach(function(S){S.timestampBase=w,w+=S.duration,S.cors=b.cors,S.withCredentials=b.withCredentials,E.referrerPolicy&&(S.referrerPolicy=E.referrerPolicy)}),!isNaN(w)&&this._mediaDataSource.duration!==w&&(this._mediaDataSource.duration=w),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return x.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(b,E){this._emitter.addListener(b,E)},x.prototype.off=function(b,E){this._emitter.removeListener(b,E)},x.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},x.prototype._loadSegment=function(b,E){this._currentSegmentIndex=b;var w=this._mediaDataSource.segments[b],S=this._ioctl=new v.default(w,this._config,b);S.onError=this._onIOException.bind(this),S.onSeeked=this._onIOSeeked.bind(this),S.onComplete=this._onIOComplete.bind(this),S.onRedirect=this._onIORedirect.bind(this),S.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):S.onDataArrival=this._onInitChunkArrival.bind(this),S.open(E)},x.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},x.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},x.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},x.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},x.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(b);if(E===this._currentSegmentIndex){var w=this._mediaInfo.segments[E];if(w==null)this._pendingSeekTime=b;else{var S=w.getNearestKeyframe(b);this._remuxer.seek(S.milliseconds),this._ioctl.seek(S.fileposition),this._pendingResolveSeekPoint=S.milliseconds}}else{var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var S=C.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,S.fileposition),this._pendingResolveSeekPoint=S.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},x.prototype._searchSegmentIndexContains=function(b){for(var E=this._mediaDataSource.segments,w=E.length-1,S=0;S<E.length;S++)if(b<E[S].timestampBase){w=S-1;break}return w},x.prototype._onInitChunkArrival=function(b,E){var w=this,S=null,C=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,C=this._demuxer.parseChunks(b,E);else if((S=d.default.probe(b)).match){this._demuxer=new d.default(S,this._config),this._remuxer||(this._remuxer=new m.default(this._config));var T=this._mediaDataSource;T.duration!=null&&!isNaN(T.duration)&&(this._demuxer.overridedDuration=T.duration),typeof T.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=T.hasAudio),typeof T.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=T.hasVideo),this._demuxer.timestampBase=T.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),C=this._demuxer.parseChunks(b,E)}else S=null,c.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){w._internalAbort()}),this._emitter.emit(g.default.DEMUX_ERROR,_.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),C=0;return C},x.prototype._onMediaInfo=function(b){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var w=Object.assign({},b);Object.setPrototypeOf(w,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=w,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var S=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(S)})},x.prototype._onMetaDataArrived=function(b){this._emitter.emit(g.default.METADATA_ARRIVED,b)},x.prototype._onScriptDataArrived=function(b){this._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)},x.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},x.prototype._onIOComplete=function(b){var E=b,w=E+1;w<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(w)):(this._remuxer.flushStashedSamples(),this._emitter.emit(g.default.LOADING_COMPLETE),this._disableStatisticsReporter())},x.prototype._onIORedirect=function(b){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=b},x.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(g.default.RECOVERED_EARLY_EOF)},x.prototype._onIOException=function(b,E){c.default.e(this.TAG,"IOException: type = "+b+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(g.default.IO_ERROR,b,E),this._disableStatisticsReporter()},x.prototype._onDemuxException=function(b,E){c.default.e(this.TAG,"DemuxException: type = "+b+", info = "+E),this._emitter.emit(g.default.DEMUX_ERROR,b,E)},x.prototype._onRemuxerInitSegmentArrival=function(b,E){this._emitter.emit(g.default.INIT_SEGMENT,b,E)},x.prototype._onRemuxerMediaSegmentArrival=function(b,E){if(this._pendingSeekTime==null&&(this._emitter.emit(g.default.MEDIA_SEGMENT,b,E),this._pendingResolveSeekPoint!=null&&b==="video")){var w=E.info.syncPoints,S=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&w.length>0&&w[0].originalDts===S&&(S=w[0].pts),this._emitter.emit(g.default.RECOMMEND_SEEKPOINT,S)}},x.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},x.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},x.prototype._reportSegmentMediaInfo=function(b){var E=this._mediaInfo.segments[b],w=Object.assign({},E);w.duration=this._mediaInfo.duration,w.segmentCount=this._mediaInfo.segmentCount,delete w.segments,delete w.keyframesIndex,this._emitter.emit(g.default.MEDIA_INFO,w)},x.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(g.default.STATISTICS_INFO,b)},x}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,f){f.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,f){f.r(s);var l=f("./src/utils/logging-control.js"),u=f("./src/utils/polyfill.js"),c=f("./src/core/transmuxing-controller.js"),h=f("./src/core/transmuxing-events.js"),p=function(d){var m=null,_=A.bind(this);u.default.install(),d.addEventListener("message",function(R){switch(R.data.cmd){case"init":m=new c.default(R.data.param[0],R.data.param[1]),m.on(h.default.IO_ERROR,C.bind(this)),m.on(h.default.DEMUX_ERROR,T.bind(this)),m.on(h.default.INIT_SEGMENT,v.bind(this)),m.on(h.default.MEDIA_SEGMENT,g.bind(this)),m.on(h.default.LOADING_COMPLETE,y.bind(this)),m.on(h.default.RECOVERED_EARLY_EOF,x.bind(this)),m.on(h.default.MEDIA_INFO,b.bind(this)),m.on(h.default.METADATA_ARRIVED,E.bind(this)),m.on(h.default.SCRIPTDATA_ARRIVED,w.bind(this)),m.on(h.default.STATISTICS_INFO,S.bind(this)),m.on(h.default.RECOMMEND_SEEKPOINT,I.bind(this));break;case"destroy":m&&(m.destroy(),m=null),d.postMessage({msg:"destroyed"});break;case"start":m.start();break;case"stop":m.stop();break;case"seek":m.seek(R.data.param);break;case"pause":m.pause();break;case"resume":m.resume();break;case"logging_config":{var O=R.data.param;l.default.applyConfig(O),O.enableCallback===!0?l.default.addLogListener(_):l.default.removeLogListener(_);break}}});function v(R,O){var F={msg:h.default.INIT_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function g(R,O){var F={msg:h.default.MEDIA_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function y(){var R={msg:h.default.LOADING_COMPLETE};d.postMessage(R)}function x(){var R={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(R)}function b(R){var O={msg:h.default.MEDIA_INFO,data:R};d.postMessage(O)}function E(R){var O={msg:h.default.METADATA_ARRIVED,data:R};d.postMessage(O)}function w(R){var O={msg:h.default.SCRIPTDATA_ARRIVED,data:R};d.postMessage(O)}function S(R){var O={msg:h.default.STATISTICS_INFO,data:R};d.postMessage(O)}function C(R,O){d.postMessage({msg:h.default.IO_ERROR,data:{type:R,info:O}})}function T(R,O){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:R,info:O}})}function I(R){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:R})}function A(R,O){d.postMessage({msg:"logcat_callback",data:{type:R,logcat:O}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/utils/utf8-conv.js"),c=f("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(m,_,v){var g={};try{var y=d.parseValue(m,_,v),x=d.parseValue(m,_+y.size,v-y.size);g[y.data]=x.data}catch(b){l.default.e("AMF",b.toString())}return g},d.parseObject=function(m,_,v){if(v<3)throw new c.IllegalStateException("Data not enough when parse ScriptDataObject");var g=d.parseString(m,_,v),y=d.parseValue(m,_+g.size,v-g.size),x=y.objectEnd;return{data:{name:g.data,value:y.data},size:g.size+y.size,objectEnd:x}},d.parseVariable=function(m,_,v){return d.parseObject(m,_,v)},d.parseString=function(m,_,v){if(v<2)throw new c.IllegalStateException("Data not enough when parse String");var g=new DataView(m,_,v),y=g.getUint16(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+2,y)):x="",{data:x,size:2+y}},d.parseLongString=function(m,_,v){if(v<4)throw new c.IllegalStateException("Data not enough when parse LongString");var g=new DataView(m,_,v),y=g.getUint32(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+4,y)):x="",{data:x,size:4+y}},d.parseDate=function(m,_,v){if(v<10)throw new c.IllegalStateException("Data size invalid when parse Date");var g=new DataView(m,_,v),y=g.getFloat64(0,!h),x=g.getInt16(8,!h);return y+=x*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(m,_,v){if(v<1)throw new c.IllegalStateException("Data not enough when parse Value");var g=new DataView(m,_,v),y=1,x=g.getUint8(0),b,E=!1;try{switch(x){case 0:b=g.getFloat64(1,!h),y+=8;break;case 1:{var w=g.getUint8(1);b=!!w,y+=1;break}case 2:{var S=d.parseString(m,_+1,v-1);b=S.data,y+=S.size;break}case 3:{b={};var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-4;){var T=d.parseObject(m,_+y,v-y-C);if(T.objectEnd)break;b[T.data.name]=T.data.value,y+=T.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 8:{b={},y+=4;var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-8;){var A=d.parseVariable(m,_+y,v-y-C);if(A.objectEnd)break;b[A.data.name]=A.data.value,y+=A.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 9:b=void 0,y=1,E=!0;break;case 10:{b=[];var R=g.getUint32(1,!h);y+=4;for(var O=0;O<R;O++){var F=d.parseValue(m,_+y,v-y);b.push(F.data),y+=F.size}break}case 11:{var N=d.parseDate(m,_+1,v-1);b=N.data,y+=N.size;break}case 12:{var $=d.parseString(m,_+1,v-1);b=$.data,y+=$.size;break}default:y=v,l.default.w("AMF","Unsupported AMF value type "+x)}}catch(q){l.default.e("AMF",q.toString())}return{data:b,size:y,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,f){f.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,f){f.r(s);var l=f("./src/utils/exception.js"),u=function(){function c(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return c.prototype.destroy=function(){this._buffer=null},c.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},c.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var m=h-this._current_word_bits_left;this._fillCurrentWord();var _=Math.min(m,this._current_word_bits_left),v=this._current_word>>>32-_;return this._current_word<<=_,this._current_word_bits_left-=_,d=d<<_|v,d},c.prototype.readBool=function(){return this.readBits(1)===1},c.prototype.readByte=function(){return this.readBits(8)},c.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},c.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},c.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},c}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/demux/amf-parser.js"),c=f("./src/demux/sps-parser.js"),h=f("./src/demux/demux-errors.js"),p=f("./src/core/media-info.js"),d=f("./src/utils/exception.js");function m(v,g){return v[g]<<24|v[g+1]<<16|v[g+2]<<8|v[g+3]}var _=function(){function v(g,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=g.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=g.hasAudioTrack,this._hasVideo=g.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]===256}()}return v.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},v.probe=function(g){var y=new Uint8Array(g),x={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return x;var b=(y[4]&4)>>>2!==0,E=(y[4]&1)!==0,w=m(y,5);return w<9?x:{match:!0,consumed:w,dataOffset:w,hasAudioTrack:b,hasVideoTrack:E}},v.prototype.bindDataSource=function(g){return g.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(v.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(g){this._onTrackMetadata=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(g){this._onMediaInfo=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(g){this._onMetaDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(g){this._onScriptDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(g){this._onDataAvailable=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(g){this._timestampBase=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedDuration",{get:function(){return this._duration},set:function(g){this._durationOverrided=!0,this._duration=g,this._mediaInfo.duration=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasAudio",{set:function(g){this._hasAudioFlagOverrided=!0,this._hasAudio=g,this._mediaInfo.hasAudio=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasVideo",{set:function(g){this._hasVideoFlagOverrided=!0,this._hasVideo=g,this._mediaInfo.hasVideo=g},enumerable:!1,configurable:!0}),v.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},v.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},v.prototype.parseChunks=function(g,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var x=0,b=this._littleEndian;if(y===0)if(g.byteLength>13){var E=v.probe(g);x=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+x!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var w=new DataView(g,x),S=w.getUint32(0,!b);S!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),x+=4}for(;x<g.byteLength;){this._dispatch=!0;var w=new DataView(g,x);if(x+11+4>g.byteLength)break;var C=w.getUint8(0),T=w.getUint32(0,!b)&16777215;if(x+11+T+4>g.byteLength)break;if(C!==8&&C!==9&&C!==18){l.default.w(this.TAG,"Unsupported tag type "+C+", skipped"),x+=11+T+4;continue}var I=w.getUint8(4),A=w.getUint8(5),R=w.getUint8(6),O=w.getUint8(7),F=R|A<<8|I<<16|O<<24,N=w.getUint32(7,!b)&16777215;N!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var $=x+11;switch(C){case 8:this._parseAudioData(g,$,T,F);break;case 9:this._parseVideoData(g,$,T,F,y+x);break;case 18:this._parseScriptData(g,$,T);break}var q=w.getUint32(11+T,!b);q!==11+T&&l.default.w(this.TAG,"Invalid PrevTagSize "+q),x+=11+T+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),x},v.prototype._parseScriptData=function(g,y,x){var b=u.default.parseScriptData(g,y,x);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var w=Math.floor(E.duration*this._timescale);this._duration=w,this._mediaInfo.duration=w}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var S=Math.floor(E.framerate*1e3);if(S>0){var C=S/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=C,this._referenceFrameRate.fps_num=S,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=C}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var T=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(T),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},v.prototype._parseKeyframesIndex=function(g){for(var y=[],x=[],b=1;b<g.times.length;b++){var E=this._timestampBase+Math.floor(g.times[b]*1e3);y.push(E),x.push(g.filepositions[b])}return{times:y,filepositions:x}},v.prototype._parseAudioData=function(g,y,x,b){if(x<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(g,y,x),w=E.getUint8(0),S=w>>>4;if(S!==2&&S!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+S);return}var C=0,T=(w&12)>>>2;if(T>=0&&T<=4)C=this._flvSoundRateTable[T];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+T);return}var I=w&1,A=this._audioMetadata,R=this._audioTrack;if(A||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),A=this._audioMetadata={},A.type="audio",A.id=R.id,A.timescale=this._timescale,A.duration=this._duration,A.audioSampleRate=C,A.channelCount=I===0?1:2),S===10){var O=this._parseAACAudioData(g,y+1,x-1);if(O==null)return;if(O.packetType===0){A.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var F=O.data;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.config=F.config,A.refSampleDuration=1024/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",A);var N=this._mediaInfo;N.audioCodec=A.originalCodec,N.audioSampleRate=A.audioSampleRate,N.audioChannelCount=A.channelCount,N.hasVideo?N.videoCodec!=null&&(N.mimeType='video/x-flv; codecs="'+N.videoCodec+","+N.audioCodec+'"'):N.mimeType='video/x-flv; codecs="'+N.audioCodec+'"',N.isComplete()&&this._onMediaInfo(N)}else if(O.packetType===1){var $=this._timestampBase+b,q={unit:O.data,length:O.data.byteLength,dts:$,pts:$};R.samples.push(q),R.length+=O.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+O.packetType)}else if(S===2){if(!A.codec){var F=this._parseMP3AudioData(g,y+1,x-1,!0);if(F==null)return;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.refSampleDuration=1152/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",A);var N=this._mediaInfo;N.audioCodec=A.codec,N.audioSampleRate=A.audioSampleRate,N.audioChannelCount=A.channelCount,N.audioDataRate=F.bitRate,N.hasVideo?N.videoCodec!=null&&(N.mimeType='video/x-flv; codecs="'+N.videoCodec+","+N.audioCodec+'"'):N.mimeType='video/x-flv; codecs="'+N.audioCodec+'"',N.isComplete()&&this._onMediaInfo(N)}var K=this._parseMP3AudioData(g,y+1,x-1,!1);if(K==null)return;var $=this._timestampBase+b,G={unit:K,length:K.byteLength,dts:$,pts:$};R.samples.push(G),R.length+=K.length}}},v.prototype._parseAACAudioData=function(g,y,x){if(x<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},E=new Uint8Array(g,y,x);return b.packetType=E[0],E[0]===0?b.data=this._parseAACAudioSpecificConfig(g,y+1,x-1):b.data=E.subarray(1),b},v.prototype._parseAACAudioSpecificConfig=function(g,y,x){var b=new Uint8Array(g,y,x),E=null,w=0,S=0,C=0,T=null;if(w=S=b[0]>>>3,C=(b[0]&7)<<1|b[1]>>>7,C<0||C>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var I=this._mpegSamplingRates[C],A=(b[1]&120)>>>3;if(A<0||A>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}w===5&&(T=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var R=self.navigator.userAgent.toLowerCase();return R.indexOf("firefox")!==-1?C>=6?(w=5,E=new Array(4),T=C-3):(w=2,E=new Array(2),T=C):R.indexOf("android")!==-1?(w=2,E=new Array(2),T=C):(w=5,T=C,E=new Array(4),C>=6?T=C-3:A===1&&(w=2,E=new Array(2),T=C)),E[0]=w<<3,E[0]|=(C&15)>>>1,E[1]=(C&15)<<7,E[1]|=(A&15)<<3,w===5&&(E[1]|=(T&15)>>>1,E[2]=(T&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:I,channelCount:A,codec:"mp4a.40."+w,originalCodec:"mp4a.40."+S}},v.prototype._parseMP3AudioData=function(g,y,x,b){if(x<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(g,y,x),w=null;if(b){if(E[0]!==255)return;var S=E[1]>>>3&3,C=(E[1]&6)>>1,T=(E[2]&240)>>>4,I=(E[2]&12)>>>2,A=E[3]>>>6&3,R=A!==3?2:1,O=0,F=0,N="mp3";switch(S){case 0:O=this._mpegAudioV25SampleRateTable[I];break;case 2:O=this._mpegAudioV20SampleRateTable[I];break;case 3:O=this._mpegAudioV10SampleRateTable[I];break}switch(C){case 1:T<this._mpegAudioL3BitRateTable.length&&(F=this._mpegAudioL3BitRateTable[T]);break;case 2:T<this._mpegAudioL2BitRateTable.length&&(F=this._mpegAudioL2BitRateTable[T]);break;case 3:T<this._mpegAudioL1BitRateTable.length&&(F=this._mpegAudioL1BitRateTable[T]);break}w={bitRate:F,samplingRate:O,channelCount:R,codec:N,originalCodec:N}}else w=E;return w},v.prototype._parseVideoData=function(g,y,x,b,E){if(x<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var w=new Uint8Array(g,y,x)[0],S=(w&240)>>>4,C=w&15;if(C!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+C);return}this._parseAVCVideoPacket(g,y+1,x-1,b,E,S)}},v.prototype._parseAVCVideoPacket=function(g,y,x,b,E,w){if(x<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var S=this._littleEndian,C=new DataView(g,y,x),T=C.getUint8(0),I=C.getUint32(0,!S)&16777215,A=I<<8>>8;if(T===0)this._parseAVCDecoderConfigurationRecord(g,y+4,x-4);else if(T===1)this._parseAVCVideoData(g,y+4,x-4,b,E,w,A);else if(T!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+T);return}},v.prototype._parseAVCDecoderConfigurationRecord=function(g,y,x){if(x<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,E=this._videoTrack,w=this._littleEndian,S=new DataView(g,y,x);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=E.id,b.timescale=this._timescale,b.duration=this._duration);var C=S.getUint8(0),T=S.getUint8(1);if(S.getUint8(2),S.getUint8(3),C!==1||T===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(S.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var I=S.getUint8(5)&31;if(I===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else I>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+I);for(var A=6,R=0;R<I;R++){var O=S.getUint16(A,!w);if(A+=2,O!==0){var F=new Uint8Array(g,y+A,O);A+=O;var N=c.default.parseSPS(F);if(R===0){b.codecWidth=N.codec_size.width,b.codecHeight=N.codec_size.height,b.presentWidth=N.present_size.width,b.presentHeight=N.present_size.height,b.profile=N.profile_string,b.level=N.level_string,b.bitDepth=N.bit_depth,b.chromaFormat=N.chroma_format,b.sarRatio=N.sar_ratio,b.frameRate=N.frame_rate,(N.frame_rate.fixed===!1||N.frame_rate.fps_num===0||N.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var $=b.frameRate.fps_den,q=b.frameRate.fps_num;b.refSampleDuration=b.timescale*($/q);for(var K=F.subarray(1,4),G="avc1.",L=0;L<3;L++){var j=K[L].toString(16);j.length<2&&(j="0"+j),G+=j}b.codec=G;var M=this._mediaInfo;M.width=b.codecWidth,M.height=b.codecHeight,M.fps=b.frameRate.fps,M.profile=b.profile,M.level=b.level,M.refFrames=N.ref_frames,M.chromaFormat=N.chroma_format_string,M.sarNum=b.sarRatio.width,M.sarDen=b.sarRatio.height,M.videoCodec=G,M.hasAudio?M.audioCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.videoCodec+'"',M.isComplete()&&this._onMediaInfo(M)}}}var D=S.getUint8(A);if(D===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else D>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+D);A++;for(var R=0;R<D;R++){var O=S.getUint16(A,!w);A+=2,O!==0&&(A+=O)}b.avcc=new Uint8Array(x),b.avcc.set(new Uint8Array(g,y,x),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},v.prototype._parseAVCVideoData=function(g,y,x,b,E,w,S){for(var C=this._littleEndian,T=new DataView(g,y,x),I=[],A=0,R=0,O=this._naluLengthSize,F=this._timestampBase+b,N=w===1;R<x;){if(R+4>=x){l.default.w(this.TAG,"Malformed Nalu near timestamp "+F+", offset = "+R+", dataSize = "+x);break}var $=T.getUint32(R,!C);if(O===3&&($>>>=8),$>x-O){l.default.w(this.TAG,"Malformed Nalus near timestamp "+F+", NaluSize > DataSize!");return}var q=T.getUint8(R+O)&31;q===5&&(N=!0);var K=new Uint8Array(g,y+R,O+$),G={type:q,data:K};I.push(G),A+=K.byteLength,R+=O+$}if(I.length){var L=this._videoTrack,j={units:I,length:A,isKeyframe:N,dts:F,cts:S,pts:F+S};N&&(j.fileposition=E),L.samples.push(j),L.length+=A}},v}();s.default=_},"./src/demux/sps-parser.js":function(o,s,f){f.r(s);var l=f("./src/demux/exp-golomb.js"),u=function(){function c(){}return c._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,m=new Uint8Array(d),_=0,v=0;v<d;v++)v>=2&&p[v]===3&&p[v-1]===0&&p[v-2]===0||(m[_]=p[v],_++);return new Uint8Array(m.buffer,0,_)},c.parseSPS=function(h){var p=c._ebsp2rbsp(h),d=new l.default(p);d.readByte();var m=d.readByte();d.readByte();var _=d.readByte();d.readUEG();var v=c.getProfileString(m),g=c.getLevelString(_),y=1,x=420,b=[0,420,422,444],E=8;if((m===100||m===110||m===122||m===244||m===44||m===83||m===86||m===118||m===128||m===138||m===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(x=b[y]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var w=y!==3?8:12,S=0;S<w;S++)d.readBool()&&(S<6?c._skipScalingList(d,16):c._skipScalingList(d,64));d.readUEG();var C=d.readUEG();if(C===0)d.readUEG();else if(C===1){d.readBits(1),d.readSEG(),d.readSEG();for(var T=d.readUEG(),S=0;S<T;S++)d.readSEG()}var I=d.readUEG();d.readBits(1);var A=d.readUEG(),R=d.readUEG(),O=d.readBits(1);O===0&&d.readBits(1),d.readBits(1);var F=0,N=0,$=0,q=0,K=d.readBool();K&&(F=d.readUEG(),N=d.readUEG(),$=d.readUEG(),q=d.readUEG());var G=1,L=1,j=0,M=!0,D=0,J=0,Q=d.readBool();if(Q){if(d.readBool()){var se=d.readByte(),re=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],fe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];se>0&&se<16?(G=re[se-1],L=fe[se-1]):se===255&&(G=d.readByte()<<8|d.readByte(),L=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var we=d.readBits(32),Ee=d.readBits(32);M=d.readBool(),D=Ee,J=we*2,j=D/J}}var pe=1;(G!==1||L!==1)&&(pe=G/L);var ve=0,Ae=0;if(y===0)ve=1,Ae=2-O;else{var ke=y===3?1:2,Te=y===1?2:1;ve=ke,Ae=Te*(2-O)}var Fe=(A+1)*16,Ne=(2-O)*((R+1)*16);Fe-=(F+N)*ve,Ne-=($+q)*Ae;var Ze=Math.ceil(Fe*pe);return d.destroy(),d=null,{profile_string:v,level_string:g,bit_depth:E,ref_frames:I,chroma_format:x,chroma_format_string:c.getChromaFormatString(x),frame_rate:{fixed:M,fps:j,fps_den:J,fps_num:D},sar_ratio:{width:G,height:L},codec_size:{width:Fe,height:Ne},present_size:{width:Ze,height:Ne}}},c._skipScalingList=function(h,p){for(var d=8,m=8,_=0,v=0;v<p;v++)m!==0&&(_=h.readSEG(),m=(d+_+256)%256),d=m===0?d:m},c.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},c.getLevelString=function(h){return(h/10).toFixed(1)},c.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},c}();s.default=u},"./src/flv.js":function(o,s,f){f.r(s);var l=f("./src/utils/polyfill.js"),u=f("./src/core/features.js"),c=f("./src/io/loader.js"),h=f("./src/player/flv-player.js"),p=f("./src/player/native-player.js"),d=f("./src/player/player-events.js"),m=f("./src/player/player-errors.js"),_=f("./src/utils/logging-control.js"),v=f("./src/utils/exception.js");l.default.install();function g(E,w){var S=E;if(S==null||typeof S!="object")throw new v.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!S.hasOwnProperty("type"))throw new v.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(S.type){case"flv":return new h.default(S,w);default:return new p.default(S,w)}}function y(){return u.default.supportMSEH264Playback()}function x(){return u.default.getFeatureList()}var b={};b.createPlayer=g,b.isSupported=y,b.getFeatureList=x,b.BaseLoader=c.BaseLoader,b.LoaderStatus=c.LoaderStatus,b.LoaderErrors=c.LoaderErrors,b.Events=d.default,b.ErrorTypes=m.ErrorTypes,b.ErrorDetails=m.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=p.default,b.LoggingControl=_.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,f){o.exports=f("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/browser.js"),u=f("./src/io/loader.js"),c=f("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"fetch-stream-loader")||this;return g.TAG="FetchStreamLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=l.default.msedge&&l.default.version.minor>=15048,v=l.default.msedge?_:!0;return self.fetch&&self.ReadableStream&&v}catch{return!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){var g=this;this._dataSource=_,this._range=v;var y=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(y=_.redirectedURL);var x=this._seekHandler.getConfig(y,v),b=new self.Headers;if(typeof x.headers=="object"){var E=x.headers;for(var w in E)E.hasOwnProperty(w)&&b.append(w,E[w])}var S={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var w in this._config.headers)b.append(w,this._config.headers[w]);_.cors===!1&&(S.mode="same-origin"),_.withCredentials&&(S.credentials="include"),_.referrerPolicy&&(S.referrerPolicy=_.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,S.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(x.url,S).then(function(C){if(g._requestAbort){g._status=u.LoaderStatus.kIdle,C.body.cancel();return}if(C.ok&&C.status>=200&&C.status<=299){if(C.url!==x.url&&g._onURLRedirect){var T=g._seekHandler.removeURLParameters(C.url);g._onURLRedirect(T)}var I=C.headers.get("Content-Length");return I!=null&&(g._contentLength=parseInt(I),g._contentLength!==0&&g._onContentLengthKnown&&g._onContentLengthKnown(g._contentLength)),g._pump.call(g,C.body.getReader())}else if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:C.status,msg:C.statusText});else throw new c.RuntimeException("FetchStreamLoader: Http code invalid, "+C.status+" "+C.statusText)}).catch(function(C){if(!(g._abortController&&g._abortController.signal.aborted))if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:C.message});else throw C})},m.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},m.prototype._pump=function(_){var v=this;return _.read().then(function(g){if(g.done)if(v._contentLength!==null&&v._receivedLength<v._contentLength){v._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,x={code:-1,msg:"Fetch stream meet Early-EOF"};if(v._onError)v._onError(y,x);else throw new c.RuntimeException(x.msg)}else v._status=u.LoaderStatus.kComplete,v._onComplete&&v._onComplete(v._range.from,v._range.from+v._receivedLength-1);else{if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}else if(v._requestAbort===!0)return v._status=u.LoaderStatus.kComplete,_.cancel();v._status=u.LoaderStatus.kBuffering;var b=g.value.buffer,E=v._range.from+v._receivedLength;v._receivedLength+=b.byteLength,v._onDataArrival&&v._onDataArrival(b,E,v._receivedLength),v._pump(_)}}).catch(function(g){if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}if(!(g.code===11&&l.default.msedge)){v._status=u.LoaderStatus.kError;var y=0,x=null;if((g.code===19||g.message==="network error")&&(v._contentLength===null||v._contentLength!==null&&v._receivedLength<v._contentLength)?(y=u.LoaderErrors.EARLY_EOF,x={code:g.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,x={code:g.code,msg:g.message}),v._onError)v._onError(y,x);else throw new c.RuntimeException(x.msg)}})},m}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),c=f("./src/io/loader.js"),h=f("./src/io/fetch-stream-loader.js"),p=f("./src/io/xhr-moz-chunked-loader.js"),d=f("./src/io/xhr-range-loader.js"),m=f("./src/io/websocket-loader.js"),_=f("./src/io/range-seek-handler.js"),v=f("./src/io/param-seek-handler.js"),g=f("./src/utils/exception.js"),y=function(){function x(b,E,w){this.TAG="IOController",this._config=E,this._extraData=w,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return x.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},x.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},x.prototype.isPaused=function(){return this._paused},Object.defineProperty(x.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),x.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new _.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var E=b.seekParamStart||"bstart",w=b.seekParamEnd||"bend";this._seekHandler=new v.default(E,w)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new g.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new g.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},x.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=m.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new g.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},x.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},x.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},x.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},x.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},x.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},x.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},x.prototype._internalSeek=function(b,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var w={from:b,to:-1};this._currentRange={from:w.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,w),this._onSeeked&&this._onSeeked()},x.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new g.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},x.prototype._expandBuffer=function(b){for(var E=this._stashSize;E+1024*1024*1<b;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var w=new ArrayBuffer(E);if(this._stashUsed>0){var S=new Uint8Array(this._stashBuffer,0,this._stashUsed),C=new Uint8Array(w,0,E);C.set(S,0)}this._stashBuffer=w,this._bufferSize=E}},x.prototype._normalizeSpeed=function(b){var E=this._speedNormalizeList,w=E.length-1,S=0,C=0,T=w;if(b<E[0])return E[0];for(;C<=T;){if(S=C+Math.floor((T-C)/2),S===w||b>=E[S]&&b<E[S+1])return E[S];E[S]<b?C=S+1:T=S-1}},x.prototype._adjustStashSize=function(b){var E=0;this._config.isLive||b<512?E=b:b>=512&&b<=1024?E=Math.floor(b*1.5):E=b*2,E>8192&&(E=8192);var w=E*1024+1024*1024*1;this._bufferSize<w&&this._expandBuffer(w),this._stashSize=E*1024},x.prototype._dispatchChunks=function(b,E){return this._currentRange.to=E+b.byteLength-1,this._onDataArrival(b,E)},x.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},x.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},x.prototype._onLoaderChunkArrival=function(b,E,w){if(!this._onDataArrival)throw new g.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var S=this._speedSampler.lastSecondKBps;if(S!==0){var C=this._normalizeSpeed(S);this._speedNormalized!==C&&(this._speedNormalized=C,this._adjustStashSize(C))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+b.byteLength<=this._stashSize){var A=new Uint8Array(this._stashBuffer,0,this._stashSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var O=this._stashBuffer.slice(0,this._stashUsed),T=this._dispatchChunks(O,this._stashByteStart);if(T<O.byteLength){if(T>0){var R=new Uint8Array(O,T);A.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=T}}else this._stashUsed=0,this._stashByteStart+=T;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var T=this._dispatchChunks(b,E);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&(this._expandBuffer(I),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=E+T}}}else if(this._stashUsed===0){var T=this._dispatchChunks(b,E);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&this._expandBuffer(I);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=E+T}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var T=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(T<this._stashUsed&&T>0){var R=new Uint8Array(this._stashBuffer,T);A.set(R,0)}this._stashUsed-=T,this._stashByteStart+=T}}},x.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),w=this._dispatchChunks(E,this._stashByteStart),S=E.byteLength-w;if(w<E.byteLength)if(b)l.default.w(this.TAG,S+" bytes unconsumed data remain when flush buffer, dropped");else{if(w>0){var C=new Uint8Array(this._stashBuffer,0,this._bufferSize),T=new Uint8Array(E,w);C.set(T,0),this._stashUsed=T.byteLength,this._stashByteStart+=w}return 0}return this._stashUsed=0,this._stashByteStart=0,S}return 0},x.prototype._onLoaderComplete=function(b,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},x.prototype._onLoaderError=function(b,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case c.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var w=this._currentRange.to+1;w<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(w,!1));return}b=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case c.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case c.LoaderErrors.CONNECTING_TIMEOUT:case c.LoaderErrors.HTTP_STATUS_CODE_INVALID:case c.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,E);else throw new g.RuntimeException("IOException: "+E.msg)},x}();s.default=y},"./src/io/loader.js":function(o,s,f){f.r(s),f.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return c},BaseLoader:function(){return h}});var l=f("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},c={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,m){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,f){f.r(s);var l=function(){function u(c,h){this._startName=c,this._endName=h}return u.prototype.getConfig=function(c,h){var p=c;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(c){var h=c.split("?")[0],p=void 0,d=c.indexOf("?");d!==-1&&(p=c.substring(d+1));var m="";if(p!=null&&p.length>0)for(var _=p.split("&"),v=0;v<_.length;v++){var g=_[v].split("="),y=v>0;g[0]!==this._startName&&g[0]!==this._endName&&(y&&(m+="&"),m+=_[v])}return m.length===0?h:h+"?"+m},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,f){f.r(s);var l=function(){function u(c){this._zeroStart=c||!1}return u.prototype.getConfig=function(c,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:c,headers:p}},u.prototype.removeURLParameters=function(c){return c},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,f){f.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(c){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=c,this._totalBytes+=c):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=c,this._totalBytes+=c):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=c,this._totalBytes+=c,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var c=(this._now()-this._lastCheckpoint)/1e3;return c==0&&(c=1),this._intervalBytes/c/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var c=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/c/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,f){f.r(s);var l=f("./src/io/loader.js"),u=f("./src/utils/exception.js"),c=function(){var p=function(d,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(_[g]=v[g])},p(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),h=function(p){c(d,p);function d(){var m=p.call(this,"websocket-loader")||this;return m.TAG="WebSocketLoader",m._needStash=!0,m._ws=null,m._requestAbort=!1,m._receivedLength=0,m}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(m){try{var _=this._ws=new self.WebSocket(m.url);_.binaryType="arraybuffer",_.onopen=this._onWebSocketOpen.bind(this),_.onclose=this._onWebSocketClose.bind(this),_.onmessage=this._onWebSocketMessage.bind(this),_.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(g){this._status=l.LoaderStatus.kError;var v={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,v);else throw new u.RuntimeException(v.msg)}},d.prototype.abort=function(){var m=this._ws;m&&(m.readyState===0||m.readyState===1)&&(this._requestAbort=!0,m.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(m){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(m){var _=this;if(m.data instanceof ArrayBuffer)this._dispatchArrayBuffer(m.data);else if(m.data instanceof Blob){var v=new FileReader;v.onload=function(){_._dispatchArrayBuffer(v.result)},v.readAsArrayBuffer(m.data)}else{this._status=l.LoaderStatus.kError;var g={code:-1,msg:"Unsupported WebSocket message type: "+m.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},d.prototype._dispatchArrayBuffer=function(m){var _=m,v=this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,v,this._receivedLength)},d.prototype._onWebSocketError=function(m){this._status=l.LoaderStatus.kError;var _={code:m.code,msg:m.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/loader.js"),c=f("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"xhr-moz-chunked-loader")||this;return g.TAG="MozChunkedLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._xhr=null,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="moz-chunked-arraybuffer",_.responseType==="moz-chunked-arraybuffer"}catch(v){return l.default.w("MozChunkedLoader",v.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){this._dataSource=_,this._range=v;var g=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(g=_.redirectedURL);var y=this._seekHandler.getConfig(g,v);this._requestURL=y.url;var x=this._xhr=new XMLHttpRequest;if(x.open("GET",y.url,!0),x.responseType="moz-chunked-arraybuffer",x.onreadystatechange=this._onReadyStateChange.bind(this),x.onprogress=this._onProgress.bind(this),x.onloadend=this._onLoadEnd.bind(this),x.onerror=this._onXhrError.bind(this),_.withCredentials&&(x.withCredentials=!0),typeof y.headers=="object"){var b=y.headers;for(var E in b)b.hasOwnProperty(E)&&x.setRequestHeader(E,b[E])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var E in b)b.hasOwnProperty(E)&&x.setRequestHeader(E,b[E])}this._status=u.LoaderStatus.kConnecting,x.send()},m.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},m.prototype._onReadyStateChange=function(_){var v=_.target;if(v.readyState===2){if(v.responseURL!=null&&v.responseURL!==this._requestURL&&this._onURLRedirect){var g=this._seekHandler.removeURLParameters(v.responseURL);this._onURLRedirect(g)}if(v.status!==0&&(v.status<200||v.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:v.status,msg:v.statusText});else throw new c.RuntimeException("MozChunkedLoader: Http code invalid, "+v.status+" "+v.statusText);else this._status=u.LoaderStatus.kBuffering}},m.prototype._onProgress=function(_){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&_.total!==null&&_.total!==0&&(this._contentLength=_.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var v=_.target.response,g=this._range.from+this._receivedLength;this._receivedLength+=v.byteLength,this._onDataArrival&&this._onDataArrival(v,g,this._receivedLength)}},m.prototype._onLoadEnd=function(_){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},m.prototype._onXhrError=function(_){this._status=u.LoaderStatus.kError;var v=0,g=null;if(this._contentLength&&_.loaded<this._contentLength?(v=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(v=u.LoaderErrors.EXCEPTION,g={code:-1,msg:_.constructor.name+" "+_.type}),this._onError)this._onError(v,g);else throw new c.RuntimeException(g.msg)},m}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),c=f("./src/io/loader.js"),h=f("./src/utils/exception.js"),p=function(){var m=function(_,v){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(g[x]=y[x])},m(_,v)};return function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(_,v);function g(){this.constructor=_}_.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}(),d=function(m){p(_,m);function _(v,g){var y=m.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=v,y._config=g,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return _.isSupported=function(){try{var v=new XMLHttpRequest;return v.open("GET","https://example.com",!0),v.responseType="arraybuffer",v.responseType==="arraybuffer"}catch(g){return l.default.w("RangeLoader",g.message),!1}},_.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),m.prototype.destroy.call(this)},Object.defineProperty(_.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),_.prototype.open=function(v,g){this._dataSource=v,this._range=g,this._status=c.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},_.prototype._openSubRange=function(){var v=this._currentChunkSizeKB*1024,g=this._range.from+this._receivedLength,y=g+v;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:g,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},_.prototype._internalOpen=function(v,g){this._lastTimeLoaded=0;var y=v.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:v.redirectedURL!=null&&(y=v.redirectedURL));var x=this._seekHandler.getConfig(y,g);this._currentRequestURL=x.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",x.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),v.withCredentials&&(b.withCredentials=!0),typeof x.headers=="object"){var E=x.headers;for(var w in E)E.hasOwnProperty(w)&&b.setRequestHeader(w,E[w])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var w in E)E.hasOwnProperty(w)&&b.setRequestHeader(w,E[w])}b.send()},_.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=c.LoaderStatus.kComplete},_.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},_.prototype._onReadyStateChange=function(v){var g=v.target;if(g.readyState===2){if(g.responseURL!=null){var y=this._seekHandler.removeURLParameters(g.responseURL);g.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(g.status>=200&&g.status<=299){if(this._waitForTotalLength)return;this._status=c.LoaderStatus.kBuffering}else if(this._status=c.LoaderStatus.kError,this._onError)this._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+g.status+" "+g.statusText)}},_.prototype._onProgress=function(v){if(this._status!==c.LoaderStatus.kError){if(this._contentLength===null){var g=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,g=!0;var y=v.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,g){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var x=v.loaded-this._lastTimeLoaded;this._lastTimeLoaded=v.loaded,this._speedSampler.addBytes(x)}},_.prototype._normalizeSpeed=function(v){var g=this._chunkSizeKBList,y=g.length-1,x=0,b=0,E=y;if(v<g[0])return g[0];for(;b<=E;){if(x=b+Math.floor((E-b)/2),x===y||v>=g[x]&&v<g[x+1])return g[x];g[x]<v?b=x+1:E=x-1}},_.prototype._onLoad=function(v){if(this._status!==c.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var g=this._speedSampler.lastSecondKBps;if(g===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(g=this._speedSampler.currentKBps)),g!==0){var y=this._normalizeSpeed(g);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var x=v.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=x.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(x,b,this._receivedLength),E&&(this._status=c.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},_.prototype._onXhrError=function(v){this._status=c.LoaderStatus.kError;var g=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(g=c.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(g=c.LoaderErrors.EXCEPTION,y={code:-1,msg:v.constructor.name+" "+v.type}),this._onError)this._onError(g,y);else throw new h.RuntimeException(y.msg)},_}(c.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/player/player-events.js"),d=f("./src/core/transmuxer.js"),m=f("./src/core/transmuxing-events.js"),_=f("./src/core/mse-controller.js"),v=f("./src/core/mse-events.js"),g=f("./src/player/player-errors.js"),y=f("./src/config.js"),x=f("./src/utils/exception.js"),b=function(){function E(w,S){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof S=="object"&&Object.assign(this._config,S),w.type.toLowerCase()!=="flv")throw new x.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");w.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=w,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var C=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(C||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(w,S){var C=this;w===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.MEDIA_INFO,C.mediaInfo)}):w===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.STATISTICS_INFO,C.statisticsInfo)}),this._emitter.addListener(w,S)},E.prototype.off=function(w,S){this._emitter.removeListener(w,S)},E.prototype.attachMediaElement=function(w){var S=this;if(this._mediaElement=w,w.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),w.addEventListener("seeking",this.e.onvSeeking),w.addEventListener("canplay",this.e.onvCanPlay),w.addEventListener("stalled",this.e.onvStalled),w.addEventListener("progress",this.e.onvProgress),this._msectl=new _.default(this._config),this._msectl.on(v.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(v.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(v.default.SOURCE_OPEN,function(){S._mseSourceOpened=!0,S._hasPendingLoad&&(S._hasPendingLoad=!1,S.load())}),this._msectl.on(v.default.ERROR,function(C){S._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,g.ErrorDetails.MEDIA_MSE_ERROR,C)}),this._msectl.attachMediaElement(w),this._pendingSeekTime!=null)try{w.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var w=this;if(!this._mediaElement)throw new x.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new x.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(m.default.INIT_SEGMENT,function(S,C){w._msectl.appendInitSegment(C)}),this._transmuxer.on(m.default.MEDIA_SEGMENT,function(S,C){if(w._msectl.appendMediaSegment(C),w._config.lazyLoad&&!w._config.isLive){var T=w._mediaElement.currentTime;C.info.endDts>=(T+w._config.lazyLoadMaxDuration)*1e3&&w._progressChecker==null&&(c.default.v(w.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),w._suspendTransmuxer())}}),this._transmuxer.on(m.default.LOADING_COMPLETE,function(){w._msectl.endOfStream(),w._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(m.default.RECOVERED_EARLY_EOF,function(){w._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(m.default.IO_ERROR,function(S,C){w._emitter.emit(p.default.ERROR,g.ErrorTypes.NETWORK_ERROR,S,C)}),this._transmuxer.on(m.default.DEMUX_ERROR,function(S,C){w._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,S,{code:-1,msg:C})}),this._transmuxer.on(m.default.MEDIA_INFO,function(S){w._mediaInfo=S,w._emitter.emit(p.default.MEDIA_INFO,Object.assign({},S))}),this._transmuxer.on(m.default.METADATA_ARRIVED,function(S){w._emitter.emit(p.default.METADATA_ARRIVED,S)}),this._transmuxer.on(m.default.SCRIPTDATA_ARRIVED,function(S){w._emitter.emit(p.default.SCRIPTDATA_ARRIVED,S)}),this._transmuxer.on(m.default.STATISTICS_INFO,function(S){w._statisticsInfo=w._fillStatisticsInfo(S),w._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},w._statisticsInfo))}),this._transmuxer.on(m.default.RECOMMEND_SEEKPOINT,function(S){w._mediaElement&&!w._config.accurateSeek&&(w._requestSetTime=!0,w._mediaElement.currentTime=S/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(w){this._mediaElement.volume=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(w){this._mediaElement.muted=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(w){this._mediaElement?this._internalSeek(w):this._pendingSeekTime=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(w){if(w.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return w;var S=!0,C=0,T=0;if(this._mediaElement.getVideoPlaybackQuality){var I=this._mediaElement.getVideoPlaybackQuality();C=I.totalVideoFrames,T=I.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(C=this._mediaElement.webkitDecodedFrameCount,T=this._mediaElement.webkitDroppedFrameCount):S=!1;return S&&(w.decodedFrames=C,w.droppedFrames=T),w},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var w=this._mediaElement.buffered,S=this._mediaElement.currentTime,C=0,T=0;T<w.length;T++){var I=w.start(T),A=w.end(T);if(I<=S&&S<A){C=A;break}}C>=S+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(c.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){c.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var w=this._mediaElement.currentTime,S=this._mediaElement.buffered,C=!1,T=0;T<S.length;T++){var I=S.start(T),A=S.end(T);if(w>=I&&w<A){w>=A-this._config.lazyLoadRecoverDuration&&(C=!0);break}}C&&(window.clearInterval(this._progressChecker),this._progressChecker=null,C&&(c.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(w){for(var S=this._mediaElement.buffered,C=0;C<S.length;C++){var T=S.start(C),I=S.end(C);if(w>=T&&w<I)return!0}return!1},E.prototype._internalSeek=function(w){var S=this._isTimepointBuffered(w),C=!1,T=0;if(w<1&&this._mediaElement.buffered.length>0){var I=this._mediaElement.buffered.start(0);(I<1&&w<I||h.default.safari)&&(C=!0,T=h.default.safari?.1:I)}if(C)this._requestSetTime=!0,this._mediaElement.currentTime=T;else if(S){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=w;else{var A=this._msectl.getNearestKeyframe(Math.floor(w*1e3));this._requestSetTime=!0,A!=null?this._mediaElement.currentTime=A.dts/1e3:this._mediaElement.currentTime=w}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var w=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(w)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(w){var S=this._mediaElement;if(w||!this._receivedCanPlay||S.readyState<2){var C=S.buffered;C.length>0&&S.currentTime<C.start(0)&&(c.default.w(this.TAG,"Playback seems stuck at "+S.currentTime+", seek to "+C.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=C.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(w){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(w){var S=this._mediaElement.currentTime,C=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(S<1&&C.length>0){var T=C.start(0);if(T<1&&S<T||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:T;return}}if(this._isTimepointBuffered(S)){if(this._alwaysSeekKeyframe){var I=this._msectl.getNearestKeyframe(Math.floor(S*1e3));I!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=I.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:S,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(w){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(w){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(w){this._checkAndResumeStuckPlayback()},E}();s.default=b},"./src/player/native-player.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/player/player-events.js"),h=f("./src/config.js"),p=f("./src/utils/exception.js"),d=function(){function m(_,v){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof v=="object"&&Object.assign(this._config,v),_.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(_.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+_.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=_,this._mediaElement=null}return m.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,v){var g=this;_===c.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(c.default.MEDIA_INFO,g.mediaInfo)}):_===c.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(c.default.STATISTICS_INFO,g.statisticsInfo)}),this._emitter.addListener(_,v)},m.prototype.off=function(_,v){this._emitter.removeListener(_,v)},m.prototype.attachMediaElement=function(_){if(this._mediaElement=_,_.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{_.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},m.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},m.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.play=function(){return this._mediaElement.play()},m.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(_){this._mediaElement.volume=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(_){this._mediaElement.muted=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(_){this._mediaElement?this._mediaElement.currentTime=_:this._pendingSeekTime=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"mediaInfo",{get:function(){var _=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",v={mimeType:_+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"statisticsInfo",{get:function(){var _={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return _;var v=!0,g=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var x=this._mediaElement.getVideoPlaybackQuality();g=x.totalVideoFrames,y=x.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(g=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(_.decodedFrames=g,_.droppedFrames=y),_},enumerable:!1,configurable:!0}),m.prototype._onvLoadedMetadata=function(_){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(c.default.MEDIA_INFO,this.mediaInfo)},m.prototype._reportStatisticsInfo=function(){this._emitter.emit(c.default.STATISTICS_INFO,this.statisticsInfo)},m}();s.default=d},"./src/player/player-errors.js":function(o,s,f){f.r(s),f.d(s,{ErrorTypes:function(){return c},ErrorDetails:function(){return h}});var l=f("./src/io/loader.js"),u=f("./src/demux/demux-errors.js"),c={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,f){f.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.getSilentFrame=function(c,h){if(c==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var c in u.types)u.types.hasOwnProperty(c)&&(u.types[c]=[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(c){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),m=d.length,_=0;_<m;_++)h+=d[_].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(c,4);for(var v=8,_=0;_<m;_++)p.set(d[_],v),v+=d[_].byteLength;return p},u.generateInitSegment=function(c){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(c),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(c){var h=u.mvhd(c.timescale,c.duration),p=u.trak(c),d=u.mvex(c);return u.box(u.types.moov,h,p,d)},u.mvhd=function(c,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,c&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(c){return u.box(u.types.trak,u.tkhd(c),u.mdia(c))},u.tkhd=function(c){var h=c.id,p=c.duration,d=c.presentWidth,m=c.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,m>>>8&255,m&255,0,0]))},u.mdia=function(c){return u.box(u.types.mdia,u.mdhd(c),u.hdlr(c),u.minf(c))},u.mdhd=function(c){var h=c.timescale,p=c.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(c){var h=null;return c.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(c){var h=null;return c.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(c))},u.dinf=function(){var c=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return c},u.stbl=function(c){var h=u.box(u.types.stbl,u.stsd(c),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(c){return c.type==="audio"?c.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(c)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(c)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(c))},u.mp3=function(c){var h=c.channelCount,p=c.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(c){var h=c.channelCount,p=c.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(c))},u.esds=function(c){var h=c.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(c){var h=c.avcc,p=c.codecWidth,d=c.codecHeight,m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,m,u.box(u.types.avcC,h))},u.mvex=function(c){return u.box(u.types.mvex,u.trex(c))},u.trex=function(c){var h=c.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(c,h){return u.box(u.types.moof,u.mfhd(c.sequenceNumber),u.traf(c,h))},u.mfhd=function(c){var h=new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,c&255]);return u.box(u.types.mfhd,h)},u.traf=function(c,h){var p=c.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),m=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),_=u.sdtp(c),v=u.trun(c,_.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,m,v,_)},u.sdtp=function(c){for(var h=c.samples||[],p=h.length,d=new Uint8Array(4+p),m=0;m<p;m++){var _=h[m].flags;d[m+4]=_.isLeading<<6|_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(c,h){var p=c.samples||[],d=p.length,m=12+16*d,_=new Uint8Array(m);h+=8+m,_.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var v=0;v<d;v++){var g=p[v].duration,y=p[v].size,x=p[v].flags,b=p[v].cts;_.set([g>>>24&255,g>>>16&255,g>>>8&255,g&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,x.isLeading<<2|x.dependsOn,x.isDependedOn<<6|x.hasRedundancy<<4|x.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*v)}return u.box(u.types.trun,_)},u.mdat=function(c){return u.box(u.types.mdat,c)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/remux/mp4-generator.js"),c=f("./src/remux/aac-silent.js"),h=f("./src/utils/browser.js"),p=f("./src/core/media-segment-info.js"),d=f("./src/utils/exception.js"),m=function(){function _(v){this.TAG="MP4Remuxer",this._config=v,this._isLive=v.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return _.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},_.prototype.bindDataSource=function(v){return v.onDataAvailable=this.remux.bind(this),v.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(_.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(v){this._onInitSegment=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(v){this._onMediaSegment=v},enumerable:!1,configurable:!0}),_.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},_.prototype.seek=function(v){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},_.prototype.remux=function(v,g){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(v,g),this._remuxVideo(g),this._remuxAudio(v)},_.prototype._onTrackMetadataReceived=function(v,g){var y=null,x="mp4",b=g.codec;if(v==="audio")this._audioMeta=g,g.codec==="mp3"&&this._mp3UseMpegAudio?(x="mpeg",b="",y=new Uint8Array):y=u.default.generateInitSegment(g);else if(v==="video")this._videoMeta=g,y=u.default.generateInitSegment(g);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(v,{type:v,data:y.buffer,codec:b,container:v+"/"+x,mediaDuration:g.duration})},_.prototype._calculateDtsBase=function(v,g){this._dtsBaseInited||(v.samples&&v.samples.length&&(this._audioDtsBase=v.samples[0].dts),g.samples&&g.samples.length&&(this._videoDtsBase=g.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},_.prototype.flushStashedSamples=function(){var v=this._videoStashedLastSample,g=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};v!=null&&(y.samples.push(v),y.length=v.length);var x={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};g!=null&&(x.samples.push(g),x.length=g.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(x,!0)},_.prototype._remuxAudio=function(v,g){if(this._audioMeta!=null){var y=v,x=y.samples,b=void 0,E=-1,w=-1,S=this._audioMeta.refSampleDuration,C=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,T=this._dtsBaseInited&&this._audioNextDts===void 0,I=!1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var A=0,R=null,O=0;C?(A=0,O=y.length):(A=8,O=8+y.length);var F=null;if(x.length>1&&(F=x.pop(),O-=F.length),this._audioStashedLastSample!=null){var N=this._audioStashedLastSample;this._audioStashedLastSample=null,x.unshift(N),O+=N.length}F!=null&&(this._audioStashedLastSample=F);var $=x[0].dts-this._dtsBase;if(this._audioNextDts)b=$-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(I=!0);else{var q=this._audioSegmentInfoList.getLastSampleBefore($);if(q!=null){var K=$-(q.originalDts+q.duration);K<=3&&(K=0);var G=q.dts+q.duration+K;b=$-G}else b=0}if(I){var L=$-b,j=this._videoSegmentInfoList.getLastSegmentBefore($);if(j!=null&&j.beginDts<L){var M=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(M){var D=j.beginDts,J=L-j.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+D+", duration: "+J),x.unshift({unit:M,dts:D,pts:D}),O+=M.byteLength}}else I=!1}for(var Q=[],se=0;se<x.length;se++){var N=x[se],re=N.unit,fe=N.dts-this._dtsBase,D=fe,we=!1,Ee=null,pe=0;if(!(fe<-.001)){if(this._audioMeta.codec!=="mp3"){var ve=fe,Ae=3;if(this._audioNextDts&&(ve=this._audioNextDts),b=fe-ve,b<=-Ae*S){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+fe+" ms ,curRefDts: "+ve+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=Ae*S&&this._fillAudioTimestampGap&&!h.default.safari){we=!0;var ke=Math.floor(b/S);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+fe+" ms, curRefDts: "+ve+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+ke+" frames")),D=Math.floor(ve),pe=Math.floor(ve+S)-D;var M=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);M==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),M=re),Ee=[];for(var Te=0;Te<ke;Te++){ve=ve+S;var Fe=Math.floor(ve),Ne=Math.floor(ve+S)-Fe,Ze={dts:Fe,pts:Fe,cts:0,unit:M,size:M.byteLength,duration:Ne,originalDts:fe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Ee.push(Ze),O+=Ze.size}this._audioNextDts=ve+S}else D=Math.floor(ve),pe=Math.floor(ve+S)-D,this._audioNextDts=ve+S}else{if(D=fe-b,se!==x.length-1){var pt=x[se+1].dts-this._dtsBase-b;pe=pt-D}else if(F!=null){var pt=F.dts-this._dtsBase-b;pe=pt-D}else Q.length>=1?pe=Q[Q.length-1].duration:pe=Math.floor(S);this._audioNextDts=D+pe}E===-1&&(E=D),Q.push({dts:D,pts:D,cts:0,unit:N.unit,size:N.unit.byteLength,duration:pe,originalDts:fe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),we&&Q.push.apply(Q,Ee)}}if(Q.length===0){y.samples=[],y.length=0;return}C?R=new Uint8Array(O):(R=new Uint8Array(O),R[0]=O>>>24&255,R[1]=O>>>16&255,R[2]=O>>>8&255,R[3]=O&255,R.set(u.default.types.mdat,4));for(var se=0;se<Q.length;se++){var re=Q[se].unit;R.set(re,A),A+=re.byteLength}var Je=Q[Q.length-1];w=Je.dts+Je.duration;var qe=new p.MediaSegmentInfo;qe.beginDts=E,qe.endDts=w,qe.beginPts=E,qe.endPts=w,qe.originalBeginDts=Q[0].originalDts,qe.originalEndDts=Je.originalDts+Je.duration,qe.firstSample=new p.SampleInfo(Q[0].dts,Q[0].pts,Q[0].duration,Q[0].originalDts,!1),qe.lastSample=new p.SampleInfo(Je.dts,Je.pts,Je.duration,Je.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(qe),y.samples=Q,y.sequenceNumber++;var lt=null;C?lt=new Uint8Array:lt=u.default.moof(y,E),y.samples=[],y.length=0;var It={type:"audio",data:this._mergeBoxes(lt,R).buffer,sampleCount:Q.length,info:qe};C&&T&&(It.timestampOffset=E),this._onMediaSegment("audio",It)}}},_.prototype._remuxVideo=function(v,g){if(this._videoMeta!=null){var y=v,x=y.samples,b=void 0,E=-1,w=-1,S=-1,C=-1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var T=8,I=null,A=8+v.length,R=null;if(x.length>1&&(R=x.pop(),A-=R.length),this._videoStashedLastSample!=null){var O=this._videoStashedLastSample;this._videoStashedLastSample=null,x.unshift(O),A+=O.length}R!=null&&(this._videoStashedLastSample=R);var F=x[0].dts-this._dtsBase;if(this._videoNextDts)b=F-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var N=this._videoSegmentInfoList.getLastSampleBefore(F);if(N!=null){var $=F-(N.originalDts+N.duration);$<=3&&($=0);var q=N.dts+N.duration+$;b=F-q}else b=0}for(var K=new p.MediaSegmentInfo,G=[],L=0;L<x.length;L++){var O=x[L],j=O.dts-this._dtsBase,M=O.isKeyframe,D=j-b,J=O.cts,Q=D+J;E===-1&&(E=D,S=Q);var se=0;if(L!==x.length-1){var re=x[L+1].dts-this._dtsBase-b;se=re-D}else if(R!=null){var re=R.dts-this._dtsBase-b;se=re-D}else G.length>=1?se=G[G.length-1].duration:se=Math.floor(this._videoMeta.refSampleDuration);if(M){var fe=new p.SampleInfo(D,Q,se,O.dts,!0);fe.fileposition=O.fileposition,K.appendSyncPoint(fe)}G.push({dts:D,pts:Q,cts:J,units:O.units,size:O.length,isKeyframe:M,duration:se,originalDts:j,flags:{isLeading:0,dependsOn:M?2:1,isDependedOn:M?1:0,hasRedundancy:0,isNonSync:M?0:1}})}I=new Uint8Array(A),I[0]=A>>>24&255,I[1]=A>>>16&255,I[2]=A>>>8&255,I[3]=A&255,I.set(u.default.types.mdat,4);for(var L=0;L<G.length;L++)for(var we=G[L].units;we.length;){var Ee=we.shift(),pe=Ee.data;I.set(pe,T),T+=pe.byteLength}var ve=G[G.length-1];if(w=ve.dts+ve.duration,C=ve.pts+ve.duration,this._videoNextDts=w,K.beginDts=E,K.endDts=w,K.beginPts=S,K.endPts=C,K.originalBeginDts=G[0].originalDts,K.originalEndDts=ve.originalDts+ve.duration,K.firstSample=new p.SampleInfo(G[0].dts,G[0].pts,G[0].duration,G[0].originalDts,G[0].isKeyframe),K.lastSample=new p.SampleInfo(ve.dts,ve.pts,ve.duration,ve.originalDts,ve.isKeyframe),this._isLive||this._videoSegmentInfoList.append(K),y.samples=G,y.sequenceNumber++,this._forceFirstIDR){var Ae=G[0].flags;Ae.dependsOn=2,Ae.isNonSync=0}var ke=u.default.moof(y,E);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(ke,I).buffer,sampleCount:G.length,info:K})}}},_.prototype._mergeBoxes=function(v,g){var y=new Uint8Array(v.byteLength+g.byteLength);return y.set(v,0),y.set(g,v.byteLength),y},_}();s.default=m},"./src/utils/browser.js":function(o,s,f){f.r(s);var l={};function u(){var c=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(c)||/(opr)[\/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(iemobile)[\/]([\w.]+)/.exec(c)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(c)||[],p=/(ipad)/.exec(c)||/(ipod)/.exec(c)||/(windows phone)/.exec(c)||/(iphone)/.exec(c)||/(kindle)/.exec(c)||/(android)/.exec(c)||/(windows)/.exec(c)||/(mac)/.exec(c)||/(linux)/.exec(c)||/(cros)/.exec(c)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},m={};if(d.browser){m[d.browser]=!0;var _=d.majorVersion.split(".");m.version={major:parseInt(d.majorVersion,10),string:d.version},_.length>1&&(m.version.minor=parseInt(_[1],10)),_.length>2&&(m.version.build=parseInt(_[2],10))}if(d.platform&&(m[d.platform]=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){m.rv&&delete m.rv;var v="msie";d.browser=v,m[v]=!0}if(m.edge){delete m.edge;var g="msedge";d.browser=g,m[g]=!0}if(m.opr){var y="opera";d.browser=y,m[y]=!0}if(m.safari&&m.android){var x="android";d.browser=x,m[x]=!0}m.name=d.browser,m.platform=d.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,m)}u(),s.default=l},"./src/utils/exception.js":function(o,s,f){f.r(s),f.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return c},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),u=function(){function d(m){this._message=m}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),c=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),m}(u),h=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),m}(u),p=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),m}(u)},"./src/utils/logger.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",m),h.ENABLE_ERROR&&(console.error?console.error(m):console.warn?console.warn(m):console.log(m))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",m),h.ENABLE_INFO&&(console.info?console.info(m):console.log(m))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",m),h.ENABLE_WARN&&(console.warn?console.warn(m):console.log(m))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",m),h.ENABLE_DEBUG&&(console.debug?console.debug(m):console.log(m))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",m),h.ENABLE_VERBOSE&&console.log(m)},h}();c.GLOBAL_TAG="flv.js",c.FORCE_GLOBAL_TAG=!1,c.ENABLE_ERROR=!0,c.ENABLE_INFO=!0,c.ENABLE_WARN=!0,c.ENABLE_DEBUG=!0,c.ENABLE_VERBOSE=!0,c.ENABLE_CALLBACK=!1,c.emitter=new(u()),s.default=c},"./src/utils/logging-control.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return c.default.FORCE_GLOBAL_TAG},set:function(d){c.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return c.default.GLOBAL_TAG},set:function(d){c.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return c.default.ENABLE_VERBOSE&&c.default.ENABLE_DEBUG&&c.default.ENABLE_INFO&&c.default.ENABLE_WARN&&c.default.ENABLE_ERROR},set:function(d){c.default.ENABLE_VERBOSE=d,c.default.ENABLE_DEBUG=d,c.default.ENABLE_INFO=d,c.default.ENABLE_WARN=d,c.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return c.default.ENABLE_DEBUG},set:function(d){c.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return c.default.ENABLE_VERBOSE},set:function(d){c.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return c.default.ENABLE_INFO},set:function(d){c.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return c.default.ENABLE_WARN},set:function(d){c.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return c.default.ENABLE_ERROR},set:function(d){c.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:c.default.GLOBAL_TAG,forceGlobalTag:c.default.FORCE_GLOBAL_TAG,enableVerbose:c.default.ENABLE_VERBOSE,enableDebug:c.default.ENABLE_DEBUG,enableInfo:c.default.ENABLE_INFO,enableWarn:c.default.ENABLE_WARN,enableError:c.default.ENABLE_ERROR,enableCallback:c.default.ENABLE_CALLBACK}},p.applyConfig=function(d){c.default.GLOBAL_TAG=d.globalTag,c.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,c.default.ENABLE_VERBOSE=d.enableVerbose,c.default.ENABLE_DEBUG=d.enableDebug,c.default.ENABLE_INFO=d.enableInfo,c.default.ENABLE_WARN=d.enableWarn,c.default.ENABLE_ERROR=d.enableError,c.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var m=p.getConfig();d.emit("change",m)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){c.default.emitter.addListener("log",d),c.default.emitter.listenerCount("log")>0&&(c.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){c.default.emitter.removeListener("log",d),c.default.emitter.listenerCount("log")===0&&(c.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},Object.assign=Object.assign||function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(c),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])}return h},typeof self.Promise!="function"&&f("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,f){f.r(s);function l(c,h,p){var d=c;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(c){for(var h=[],p=c,d=0,m=c.length;d<m;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var _=(p[d]&31)<<6|p[d+1]&63;if(_>=128){h.push(String.fromCharCode(_&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var _=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(_>=2048&&(_&63488)!==55296){h.push(String.fromCharCode(_&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var _=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(_>65536&&_<1114112){_-=65536,h.push(String.fromCharCode(_>>>10|55296)),h.push(String.fromCharCode(_&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var f=n[o]={exports:{}};return r[o].call(f.exports,f,f.exports,i),f.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var f in s)i.o(s,f)&&!i.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:s[f]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(TM);var fue=TM.exports;const cue=Cn(fue);var AM={exports:{}},wg={exports:{}};const hue={},due=Object.freeze(Object.defineProperty({__proto__:null,default:hue},Symbol.toStringTag,{value:"Module"})),IM=iU(due);var rR;function Ft(){return rR||(rR=1,function(t,e){(function(r,n){t.exports=n()})(nt,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof nt<"u"&&nt.crypto&&(a=nt.crypto),!a&&typeof Rl=="function")try{a=IM}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function g(){}return function(y){var x;return g.prototype=y,x=new g,g.prototype=null,x}}(),f={},l=f.lib={},u=l.Base=function(){return{extend:function(g){var y=s(this);return g&&y.mixIn(g),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var y in g)g.hasOwnProperty(y)&&(this[y]=g[y]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=u.extend({init:function(g,y){g=this.words=g||[],y!=i?this.sigBytes=y:this.sigBytes=g.length*4},toString:function(g){return(g||p).stringify(this)},concat:function(g){var y=this.words,x=g.words,b=this.sigBytes,E=g.sigBytes;if(this.clamp(),b%4)for(var w=0;w<E;w++){var S=x[w>>>2]>>>24-w%4*8&255;y[b+w>>>2]|=S<<24-(b+w)%4*8}else for(var C=0;C<E;C+=4)y[b+C>>>2]=x[C>>>2];return this.sigBytes+=E,this},clamp:function(){var g=this.words,y=this.sigBytes;g[y>>>2]&=4294967295<<32-y%4*8,g.length=n.ceil(y/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var y=[],x=0;x<g;x+=4)y.push(o());return new c.init(y,g)}}),h=f.enc={},p=h.Hex={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],E=0;E<x;E++){var w=y[E>>>2]>>>24-E%4*8&255;b.push((w>>>4).toString(16)),b.push((w&15).toString(16))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b+=2)x[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new c.init(x,y/2)}},d=h.Latin1={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],E=0;E<x;E++){var w=y[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(w))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b++)x[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new c.init(x,y)}},m=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(d.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return d.parse(unescape(encodeURIComponent(g)))}},_=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=m.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var y,x=this._data,b=x.words,E=x.sigBytes,w=this.blockSize,S=w*4,C=E/S;g?C=n.ceil(C):C=n.max((C|0)-this._minBufferSize,0);var T=C*w,I=n.min(T*4,E);if(T){for(var A=0;A<T;A+=w)this._doProcessBlock(b,A);y=b.splice(0,T),x.sigBytes-=I}return new c.init(y,I)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=_.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(g){return function(y,x){return new g.init(x).finalize(y)}},_createHmacHelper:function(g){return function(y,x){return new v.HMAC.init(g,x).finalize(y)}}});var v=f.algo={};return f}(Math);return r})}(wg)),wg.exports}var Sg={exports:{}},nR;function bv(){return nR||(nR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,f=i.x64={};f.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),f.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,c=[],h=0;h<u;h++){var p=l[h];c.push(p.high),c.push(p.low)}return s.create(c,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),c=u.length,h=0;h<c;h++)u[h]=u[h].clone();return l}})}(),r})}(Sg)),Sg.exports}var Cg={exports:{}},iR;function pue(){return iR||(iR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var l=f.byteLength,u=[],c=0;c<l;c++)u[c>>>2]|=f[c]<<24-c%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(Cg)),Cg.exports}var Tg={exports:{}},aR;function vue(){return aR||(aR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(f){for(var l=f.words,u=f.sigBytes,c=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;c.push(String.fromCharCode(p))}return c.join("")},parse:function(f){for(var l=f.length,u=[],c=0;c<l;c++)u[c>>>1]|=f.charCodeAt(c)<<16-c%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(f){for(var l=f.words,u=f.sigBytes,c=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);c.push(String.fromCharCode(p))}return c.join("")},parse:function(f){for(var l=f.length,u=[],c=0;c<l;c++)u[c>>>1]|=s(f.charCodeAt(c)<<16-c%2*16);return a.create(u,l*2)}};function s(f){return f<<8&4278255360|f>>>8&16711935}}(),r.enc.Utf16})}(Tg)),Tg.exports}var Ag={exports:{}},oR;function Ws(){return oR||(oR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(f){var l=f.words,u=f.sigBytes,c=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,m=l[p+1>>>2]>>>24-(p+1)%4*8&255,_=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=d<<16|m<<8|_,g=0;g<4&&p+g*.75<u;g++)h.push(c.charAt(v>>>6*(3-g)&63));var y=c.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(f){var l=f.length,u=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var h=0;h<u.length;h++)c[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=f.indexOf(p);d!==-1&&(l=d)}return s(f,l,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(f,l,u){for(var c=[],h=0,p=0;p<l;p++)if(p%4){var d=u[f.charCodeAt(p-1)]<<p%4*2,m=u[f.charCodeAt(p)]>>>6-p%4*2,_=d|m;c[h>>>2]|=_<<24-h%4*8,h++}return a.create(c,h)}}(),r.enc.Base64})}(Ag)),Ag.exports}var Ig={exports:{}},sR;function mue(){return sR||(sR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(f,l){l===void 0&&(l=!0);var u=f.words,c=f.sigBytes,h=l?this._safe_map:this._map;f.clamp();for(var p=[],d=0;d<c;d+=3)for(var m=u[d>>>2]>>>24-d%4*8&255,_=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,g=m<<16|_<<8|v,y=0;y<4&&d+y*.75<c;y++)p.push(h.charAt(g>>>6*(3-y)&63));var x=h.charAt(64);if(x)for(;p.length%4;)p.push(x);return p.join("")},parse:function(f,l){l===void 0&&(l=!0);var u=f.length,c=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<c.length;p++)h[c.charCodeAt(p)]=p}var d=c.charAt(64);if(d){var m=f.indexOf(d);m!==-1&&(u=m)}return s(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(f,l,u){for(var c=[],h=0,p=0;p<l;p++)if(p%4){var d=u[f.charCodeAt(p-1)]<<p%4*2,m=u[f.charCodeAt(p)]>>>6-p%4*2,_=d|m;c[h>>>2]|=_<<24-h%4*8,h++}return a.create(c,h)}}(),r.enc.Base64url})}(Ig)),Ig.exports}var Rg={exports:{}},lR;function Ys(){return lR||(lR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=n.abs(n.sin(m+1))*4294967296|0})();var u=f.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,_){for(var v=0;v<16;v++){var g=_+v,y=m[g];m[g]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var x=this._hash.words,b=m[_+0],E=m[_+1],w=m[_+2],S=m[_+3],C=m[_+4],T=m[_+5],I=m[_+6],A=m[_+7],R=m[_+8],O=m[_+9],F=m[_+10],N=m[_+11],$=m[_+12],q=m[_+13],K=m[_+14],G=m[_+15],L=x[0],j=x[1],M=x[2],D=x[3];L=c(L,j,M,D,b,7,l[0]),D=c(D,L,j,M,E,12,l[1]),M=c(M,D,L,j,w,17,l[2]),j=c(j,M,D,L,S,22,l[3]),L=c(L,j,M,D,C,7,l[4]),D=c(D,L,j,M,T,12,l[5]),M=c(M,D,L,j,I,17,l[6]),j=c(j,M,D,L,A,22,l[7]),L=c(L,j,M,D,R,7,l[8]),D=c(D,L,j,M,O,12,l[9]),M=c(M,D,L,j,F,17,l[10]),j=c(j,M,D,L,N,22,l[11]),L=c(L,j,M,D,$,7,l[12]),D=c(D,L,j,M,q,12,l[13]),M=c(M,D,L,j,K,17,l[14]),j=c(j,M,D,L,G,22,l[15]),L=h(L,j,M,D,E,5,l[16]),D=h(D,L,j,M,I,9,l[17]),M=h(M,D,L,j,N,14,l[18]),j=h(j,M,D,L,b,20,l[19]),L=h(L,j,M,D,T,5,l[20]),D=h(D,L,j,M,F,9,l[21]),M=h(M,D,L,j,G,14,l[22]),j=h(j,M,D,L,C,20,l[23]),L=h(L,j,M,D,O,5,l[24]),D=h(D,L,j,M,K,9,l[25]),M=h(M,D,L,j,S,14,l[26]),j=h(j,M,D,L,R,20,l[27]),L=h(L,j,M,D,q,5,l[28]),D=h(D,L,j,M,w,9,l[29]),M=h(M,D,L,j,A,14,l[30]),j=h(j,M,D,L,$,20,l[31]),L=p(L,j,M,D,T,4,l[32]),D=p(D,L,j,M,R,11,l[33]),M=p(M,D,L,j,N,16,l[34]),j=p(j,M,D,L,K,23,l[35]),L=p(L,j,M,D,E,4,l[36]),D=p(D,L,j,M,C,11,l[37]),M=p(M,D,L,j,A,16,l[38]),j=p(j,M,D,L,F,23,l[39]),L=p(L,j,M,D,q,4,l[40]),D=p(D,L,j,M,b,11,l[41]),M=p(M,D,L,j,S,16,l[42]),j=p(j,M,D,L,I,23,l[43]),L=p(L,j,M,D,O,4,l[44]),D=p(D,L,j,M,$,11,l[45]),M=p(M,D,L,j,G,16,l[46]),j=p(j,M,D,L,w,23,l[47]),L=d(L,j,M,D,b,6,l[48]),D=d(D,L,j,M,A,10,l[49]),M=d(M,D,L,j,K,15,l[50]),j=d(j,M,D,L,T,21,l[51]),L=d(L,j,M,D,$,6,l[52]),D=d(D,L,j,M,S,10,l[53]),M=d(M,D,L,j,F,15,l[54]),j=d(j,M,D,L,E,21,l[55]),L=d(L,j,M,D,R,6,l[56]),D=d(D,L,j,M,G,10,l[57]),M=d(M,D,L,j,I,15,l[58]),j=d(j,M,D,L,q,21,l[59]),L=d(L,j,M,D,C,6,l[60]),D=d(D,L,j,M,N,10,l[61]),M=d(M,D,L,j,w,15,l[62]),j=d(j,M,D,L,O,21,l[63]),x[0]=x[0]+L|0,x[1]=x[1]+j|0,x[2]=x[2]+M|0,x[3]=x[3]+D|0},_doFinalize:function(){var m=this._data,_=m.words,v=this._nDataBytes*8,g=m.sigBytes*8;_[g>>>5]|=128<<24-g%32;var y=n.floor(v/4294967296),x=v;_[(g+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(_.length+1)*4,this._process();for(var b=this._hash,E=b.words,w=0;w<4;w++){var S=E[w];E[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return b},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m}});function c(m,_,v,g,y,x,b){var E=m+(_&v|~_&g)+y+b;return(E<<x|E>>>32-x)+_}function h(m,_,v,g,y,x,b){var E=m+(_&g|v&~g)+y+b;return(E<<x|E>>>32-x)+_}function p(m,_,v,g,y,x,b){var E=m+(_^v^g)+y+b;return(E<<x|E>>>32-x)+_}function d(m,_,v,g,y,x,b){var E=m+(v^(_|~g))+y+b;return(E<<x|E>>>32-x)+_}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(Rg)),Rg.exports}var Pg={exports:{}},uR;function RM(){return uR||(uR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,f=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,c){for(var h=this._hash.words,p=h[0],d=h[1],m=h[2],_=h[3],v=h[4],g=0;g<80;g++){if(g<16)f[g]=u[c+g]|0;else{var y=f[g-3]^f[g-8]^f[g-14]^f[g-16];f[g]=y<<1|y>>>31}var x=(p<<5|p>>>27)+v+f[g];g<20?x+=(d&m|~d&_)+1518500249:g<40?x+=(d^m^_)+1859775393:g<60?x+=(d&m|d&_|m&_)-1894007588:x+=(d^m^_)-899497514,v=_,_=m,m=d<<30|d>>>2,d=p,p=x}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+m|0,h[3]=h[3]+_|0,h[4]=h[4]+v|0},_doFinalize:function(){var u=this._data,c=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return c[p>>>5]|=128<<24-p%32,c[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),c[(p+64>>>9<<4)+15]=h,u.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(Pg)),Pg.exports}var Og={exports:{}},fR;function iS(){return fR||(fR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=[],u=[];(function(){function p(v){for(var g=n.sqrt(v),y=2;y<=g;y++)if(!(v%y))return!1;return!0}function d(v){return(v-(v|0))*4294967296|0}for(var m=2,_=0;_<64;)p(m)&&(_<8&&(l[_]=d(n.pow(m,1/2))),u[_]=d(n.pow(m,1/3)),_++),m++})();var c=[],h=f.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var m=this._hash.words,_=m[0],v=m[1],g=m[2],y=m[3],x=m[4],b=m[5],E=m[6],w=m[7],S=0;S<64;S++){if(S<16)c[S]=p[d+S]|0;else{var C=c[S-15],T=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,I=c[S-2],A=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;c[S]=T+c[S-7]+A+c[S-16]}var R=x&b^~x&E,O=_&v^_&g^v&g,F=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),N=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),$=w+N+R+u[S]+c[S],q=F+O;w=E,E=b,b=x,x=y+$|0,y=g,g=v,v=_,_=$+q|0}m[0]=m[0]+_|0,m[1]=m[1]+v|0,m[2]=m[2]+g|0,m[3]=m[3]+y|0,m[4]=m[4]+x|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+w|0},_doFinalize:function(){var p=this._data,d=p.words,m=this._nDataBytes*8,_=p.sigBytes*8;return d[_>>>5]|=128<<24-_%32,d[(_+64>>>9<<4)+14]=n.floor(m/4294967296),d[(_+64>>>9<<4)+15]=m,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(Og)),Og.exports}var kg={exports:{}},cR;function gue(){return cR||(cR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),iS())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,f=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(f),n.HmacSHA224=s._createHmacHelper(f)}(),r.SHA224})}(kg)),kg.exports}var Fg={exports:{}},hR;function PM(){return hR||(hR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),bv())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,f=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var c=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new f.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,m){for(var _=this._hash.words,v=_[0],g=_[1],y=_[2],x=_[3],b=_[4],E=_[5],w=_[6],S=_[7],C=v.high,T=v.low,I=g.high,A=g.low,R=y.high,O=y.low,F=x.high,N=x.low,$=b.high,q=b.low,K=E.high,G=E.low,L=w.high,j=w.low,M=S.high,D=S.low,J=C,Q=T,se=I,re=A,fe=R,we=O,Ee=F,pe=N,ve=$,Ae=q,ke=K,Te=G,Fe=L,Ne=j,Ze=M,pt=D,Je=0;Je<80;Je++){var qe,lt,It=h[Je];if(Je<16)lt=It.high=d[m+Je*2]|0,qe=It.low=d[m+Je*2+1]|0;else{var Nt=h[Je-15],Rt=Nt.high,Pt=Nt.low,rt=(Rt>>>1|Pt<<31)^(Rt>>>8|Pt<<24)^Rt>>>7,Lt=(Pt>>>1|Rt<<31)^(Pt>>>8|Rt<<24)^(Pt>>>7|Rt<<25),xe=h[Je-2],B=xe.high,ne=xe.low,de=(B>>>19|ne<<13)^(B<<3|ne>>>29)^B>>>6,be=(ne>>>19|B<<13)^(ne<<3|B>>>29)^(ne>>>6|B<<26),Z=h[Je-7],me=Z.high,U=Z.low,Se=h[Je-16],ze=Se.high,P=Se.low;qe=Lt+U,lt=rt+me+(qe>>>0<Lt>>>0?1:0),qe=qe+be,lt=lt+de+(qe>>>0<be>>>0?1:0),qe=qe+P,lt=lt+ze+(qe>>>0<P>>>0?1:0),It.high=lt,It.low=qe}var ge=ve&ke^~ve&Fe,_e=Ae&Te^~Ae&Ne,V=J&se^J&fe^se&fe,ee=Q&re^Q&we^re&we,ce=(J>>>28|Q<<4)^(J<<30|Q>>>2)^(J<<25|Q>>>7),He=(Q>>>28|J<<4)^(Q<<30|J>>>2)^(Q<<25|J>>>7),De=(ve>>>14|Ae<<18)^(ve>>>18|Ae<<14)^(ve<<23|Ae>>>9),Ve=(Ae>>>14|ve<<18)^(Ae>>>18|ve<<14)^(Ae<<23|ve>>>9),ut=c[Je],Xr=ut.high,Ot=ut.low,Qe=pt+Ve,$t=Ze+De+(Qe>>>0<pt>>>0?1:0),Qe=Qe+_e,$t=$t+ge+(Qe>>>0<_e>>>0?1:0),Qe=Qe+Ot,$t=$t+Xr+(Qe>>>0<Ot>>>0?1:0),Qe=Qe+qe,$t=$t+lt+(Qe>>>0<qe>>>0?1:0),yr=He+ee,tn=ce+V+(yr>>>0<He>>>0?1:0);Ze=Fe,pt=Ne,Fe=ke,Ne=Te,ke=ve,Te=Ae,Ae=pe+Qe|0,ve=Ee+$t+(Ae>>>0<pe>>>0?1:0)|0,Ee=fe,pe=we,fe=se,we=re,se=J,re=Q,Q=Qe+yr|0,J=$t+tn+(Q>>>0<Qe>>>0?1:0)|0}T=v.low=T+Q,v.high=C+J+(T>>>0<Q>>>0?1:0),A=g.low=A+re,g.high=I+se+(A>>>0<re>>>0?1:0),O=y.low=O+we,y.high=R+fe+(O>>>0<we>>>0?1:0),N=x.low=N+pe,x.high=F+Ee+(N>>>0<pe>>>0?1:0),q=b.low=q+Ae,b.high=$+ve+(q>>>0<Ae>>>0?1:0),G=E.low=G+Te,E.high=K+ke+(G>>>0<Te>>>0?1:0),j=w.low=j+Ne,w.high=L+Fe+(j>>>0<Ne>>>0?1:0),D=S.low=D+pt,S.high=M+Ze+(D>>>0<pt>>>0?1:0)},_doFinalize:function(){var d=this._data,m=d.words,_=this._nDataBytes*8,v=d.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(_/4294967296),m[(v+128>>>10<<5)+31]=_,d.sigBytes=m.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(Fg)),Fg.exports}var Ng={exports:{}},dR;function _ue(){return dR||(dR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),bv(),PM())})(nt,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,f=s.SHA512,l=s.SHA384=f.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=f._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=f._createHelper(l),n.HmacSHA384=f._createHmacHelper(l)}(),r.SHA384})}(Ng)),Ng.exports}var Lg={exports:{}},pR;function yue(){return pR||(pR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),bv())})(nt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.x64,l=f.Word,u=i.algo,c=[],h=[],p=[];(function(){for(var _=1,v=0,g=0;g<24;g++){c[_+5*v]=(g+1)*(g+2)/2%64;var y=v%5,x=(2*_+3*v)%5;_=y,v=x}for(var _=0;_<5;_++)for(var v=0;v<5;v++)h[_+5*v]=v+(2*_+3*v)%5*5;for(var b=1,E=0;E<24;E++){for(var w=0,S=0,C=0;C<7;C++){if(b&1){var T=(1<<C)-1;T<32?S^=1<<T:w^=1<<T-32}b&128?b=b<<1^113:b<<=1}p[E]=l.create(w,S)}})();var d=[];(function(){for(var _=0;_<25;_++)d[_]=l.create()})();var m=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],v=0;v<25;v++)_[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,v){for(var g=this._state,y=this.blockSize/2,x=0;x<y;x++){var b=_[v+2*x],E=_[v+2*x+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var w=g[x];w.high^=E,w.low^=b}for(var S=0;S<24;S++){for(var C=0;C<5;C++){for(var T=0,I=0,A=0;A<5;A++){var w=g[C+5*A];T^=w.high,I^=w.low}var R=d[C];R.high=T,R.low=I}for(var C=0;C<5;C++)for(var O=d[(C+4)%5],F=d[(C+1)%5],N=F.high,$=F.low,T=O.high^(N<<1|$>>>31),I=O.low^($<<1|N>>>31),A=0;A<5;A++){var w=g[C+5*A];w.high^=T,w.low^=I}for(var q=1;q<25;q++){var T,I,w=g[q],K=w.high,G=w.low,L=c[q];L<32?(T=K<<L|G>>>32-L,I=G<<L|K>>>32-L):(T=G<<L-32|K>>>64-L,I=K<<L-32|G>>>64-L);var j=d[h[q]];j.high=T,j.low=I}var M=d[0],D=g[0];M.high=D.high,M.low=D.low;for(var C=0;C<5;C++)for(var A=0;A<5;A++){var q=C+5*A,w=g[q],J=d[q],Q=d[(C+1)%5+5*A],se=d[(C+2)%5+5*A];w.high=J.high^~Q.high&se.high,w.low=J.low^~Q.low&se.low}var w=g[0],re=p[S];w.high^=re.high,w.low^=re.low}},_doFinalize:function(){var _=this._data,v=_.words;this._nDataBytes*8;var g=_.sigBytes*8,y=this.blockSize*32;v[g>>>5]|=1<<24-g%32,v[(n.ceil((g+1)/y)*y>>>5)-1]|=128,_.sigBytes=v.length*4,this._process();for(var x=this._state,b=this.cfg.outputLength/8,E=b/8,w=[],S=0;S<E;S++){var C=x[S],T=C.high,I=C.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,w.push(I),w.push(T)}return new o.init(w,b)},clone:function(){for(var _=s.clone.call(this),v=_._state=this._state.slice(0),g=0;g<25;g++)v[g]=v[g].clone();return _}});i.SHA3=s._createHelper(m),i.HmacSHA3=s._createHmacHelper(m)}(Math),r.SHA3})}(Lg)),Lg.exports}var Bg={exports:{}},vR;function xue(){return vR||(vR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=f.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,w){for(var S=0;S<16;S++){var C=w+S,T=E[C];E[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,A=p.words,R=d.words,O=l.words,F=u.words,N=c.words,$=h.words,q,K,G,L,j,M,D,J,Q,se;M=q=I[0],D=K=I[1],J=G=I[2],Q=L=I[3],se=j=I[4];for(var re,S=0;S<80;S+=1)re=q+E[w+O[S]]|0,S<16?re+=_(K,G,L)+A[0]:S<32?re+=v(K,G,L)+A[1]:S<48?re+=g(K,G,L)+A[2]:S<64?re+=y(K,G,L)+A[3]:re+=x(K,G,L)+A[4],re=re|0,re=b(re,N[S]),re=re+j|0,q=j,j=L,L=b(G,10),G=K,K=re,re=M+E[w+F[S]]|0,S<16?re+=x(D,J,Q)+R[0]:S<32?re+=y(D,J,Q)+R[1]:S<48?re+=g(D,J,Q)+R[2]:S<64?re+=v(D,J,Q)+R[3]:re+=_(D,J,Q)+R[4],re=re|0,re=b(re,$[S]),re=re+se|0,M=se,se=Q,Q=b(J,10),J=D,D=re;re=I[1]+G+Q|0,I[1]=I[2]+L+se|0,I[2]=I[3]+j+M|0,I[3]=I[4]+q+D|0,I[4]=I[0]+K+J|0,I[0]=re},_doFinalize:function(){var E=this._data,w=E.words,S=this._nDataBytes*8,C=E.sigBytes*8;w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,E.sigBytes=(w.length+1)*4,this._process();for(var T=this._hash,I=T.words,A=0;A<5;A++){var R=I[A];I[A]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return T},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function _(E,w,S){return E^w^S}function v(E,w,S){return E&w|~E&S}function g(E,w,S){return(E|~w)^S}function y(E,w,S){return E&S|w&~S}function x(E,w,S){return E^(w|~S)}function b(E,w){return E<<w|E>>>32-w}i.RIPEMD160=s._createHelper(m),i.HmacRIPEMD160=s._createHmacHelper(m)}(),r.RIPEMD160})}(Bg)),Bg.exports}var Mg={exports:{}},mR;function aS(){return mR||(mR=1,function(t,e){(function(r,n){t.exports=n(Ft())})(nt,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,f=n.algo;f.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var c=l.blockSize,h=c*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),m=p.words,_=d.words,v=0;v<c;v++)m[v]^=1549556828,_[v]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,c=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(c));return h}})})()})}(Mg)),Mg.exports}var Dg={exports:{}},gR;function bue(){return gR||(gR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),iS(),aS())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,f=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var p=this.cfg,d=l.create(p.hasher,c),m=o.create(),_=o.create([1]),v=m.words,g=_.words,y=p.keySize,x=p.iterations;v.length<y;){var b=d.update(h).finalize(_);d.reset();for(var E=b.words,w=E.length,S=b,C=1;C<x;C++){S=d.finalize(S),d.reset();for(var T=S.words,I=0;I<w;I++)E[I]^=T[I]}m.concat(b),g[0]++}return m.sigBytes=y*4,m}});n.PBKDF2=function(c,h,p){return u.create(p).compute(c,h)}}(),r.PBKDF2})}(Dg)),Dg.exports}var Ug={exports:{}},_R;function zo(){return _R||(_R=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),RM(),aS())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,f=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,c){for(var h,p=this.cfg,d=p.hasher.create(),m=o.create(),_=m.words,v=p.keySize,g=p.iterations;_.length<v;){h&&d.update(h),h=d.update(u).finalize(c),d.reset();for(var y=1;y<g;y++)h=d.finalize(h),d.reset();m.concat(h)}return m.sigBytes=v*4,m}});n.EvpKDF=function(u,c,h){return l.create(h).compute(u,c)}}(),r.EvpKDF})}(Ug)),Ug.exports}var jg={exports:{}},yR;function vn(){return yR||(yR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),zo())})(nt,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,f=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,c=i.algo,h=c.EvpKDF,p=a.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(T,I){return this.create(this._ENC_XFORM_MODE,T,I)},createDecryptor:function(T,I){return this.create(this._DEC_XFORM_MODE,T,I)},init:function(T,I,A){this.cfg=this.cfg.extend(A),this._xformMode=T,this._key=I,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(I){return typeof I=="string"?C:E}return function(I){return{encrypt:function(A,R,O){return T(R).encrypt(I,A,R,O)},decrypt:function(A,R,O){return T(R).decrypt(I,A,R,O)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var d=i.mode={},m=a.BlockCipherMode=o.extend({createEncryptor:function(T,I){return this.Encryptor.create(T,I)},createDecryptor:function(T,I){return this.Decryptor.create(T,I)},init:function(T,I){this._cipher=T,this._iv=I}}),_=d.CBC=function(){var T=m.extend();T.Encryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize;I.call(this,A,R,F),O.encryptBlock(A,R),this._prevBlock=A.slice(R,R+F)}}),T.Decryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize,N=A.slice(R,R+F);O.decryptBlock(A,R),I.call(this,A,R,F),this._prevBlock=N}});function I(A,R,O){var F,N=this._iv;N?(F=N,this._iv=n):F=this._prevBlock;for(var $=0;$<O;$++)A[R+$]^=F[$]}return T}(),v=i.pad={},g=v.Pkcs7={pad:function(T,I){for(var A=I*4,R=A-T.sigBytes%A,O=R<<24|R<<16|R<<8|R,F=[],N=0;N<R;N+=4)F.push(O);var $=s.create(F,R);T.concat($)},unpad:function(T){var I=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=I}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:g}),reset:function(){var T;p.reset.call(this);var I=this.cfg,A=I.iv,R=I.mode;this._xformMode==this._ENC_XFORM_MODE?T=R.createEncryptor:(T=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,A&&A.words):(this._mode=T.call(R,this,A&&A.words),this._mode.__creator=T)},_doProcessBlock:function(T,I){this._mode.processBlock(T,I)},_doFinalize:function(){var T,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),I.unpad(T)),T},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),x=i.format={},b=x.OpenSSL={stringify:function(T){var I,A=T.ciphertext,R=T.salt;return R?I=s.create([1398893684,1701076831]).concat(R).concat(A):I=A,I.toString(u)},parse:function(T){var I,A=u.parse(T),R=A.words;return R[0]==1398893684&&R[1]==1701076831&&(I=s.create(R.slice(2,4)),R.splice(0,4),A.sigBytes-=16),y.create({ciphertext:A,salt:I})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=T.createEncryptor(A,R),F=O.finalize(I),N=O.cfg;return y.create({ciphertext:F,key:A,iv:N.iv,algorithm:T,mode:N.mode,padding:N.padding,blockSize:T.blockSize,formatter:R.format})},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=T.createDecryptor(A,R).finalize(I.ciphertext);return O},_parse:function(T,I){return typeof T=="string"?I.parse(T,this):T}}),w=i.kdf={},S=w.OpenSSL={execute:function(T,I,A,R,O){if(R||(R=s.random(64/8)),O)var F=h.create({keySize:I+A,hasher:O}).compute(T,R);else var F=h.create({keySize:I+A}).compute(T,R);var N=s.create(F.words.slice(I),A*4);return F.sigBytes=I*4,y.create({key:F,iv:N,salt:R})}},C=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:S}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=R.kdf.execute(A,T.keySize,T.ivSize,R.salt,R.hasher);R.iv=O.iv;var F=E.encrypt.call(this,T,I,O.key,R);return F.mixIn(O),F},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=R.kdf.execute(A,T.keySize,T.ivSize,I.salt,R.hasher);R.iv=O.iv;var F=E.decrypt.call(this,T,I,O.key,R);return F}})}()})}(jg)),jg.exports}var $g={exports:{}},xR;function Eue(){return xR||(xR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize;i.call(this,a,o,f,s),this._prevBlock=a.slice(o,o+f)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=a.slice(o,o+f);i.call(this,a,o,f,s),this._prevBlock=l}});function i(a,o,s,f){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,f.encryptBlock(l,0);for(var c=0;c<s;c++)a[o+c]^=l[c]}return n}(),r.mode.CFB})}($g)),$g.exports}var Vg={exports:{}},bR;function wue(){return bR||(bR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var c=u.slice(0);s.encryptBlock(c,0),u[f-1]=u[f-1]+1|0;for(var h=0;h<f;h++)a[o+h]^=c[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Vg)),Vg.exports}var Gg={exports:{}},ER;function Sue(){return ER||(ER=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var f=s>>16&255,l=s>>8&255,u=s&255;f===255?(f=0,l===255?(l=0,u===255?u=0:++u):++l):++f,s=0,s+=f<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,f){var l=this._cipher,u=l.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[f+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(Gg)),Gg.exports}var Xg={exports:{}},wR;function Cue(){return wR||(wR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var c=0;c<f;c++)a[o+c]^=u[c]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Xg)),Xg.exports}var Hg={exports:{}},SR;function Tue(){return SR||(SR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(Hg)),Hg.exports}var zg={exports:{}},CR;function Aue(){return CR||(CR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,f=a+s-1;n.clamp(),n.words[f>>>2]|=s<<24-f%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(zg)),zg.exports}var Wg={exports:{}},TR;function Iue(){return TR||(TR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Wg)),Wg.exports}var Yg={exports:{}},AR;function Rue(){return AR||(AR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Yg)),Yg.exports}var qg={exports:{}},IR;function Pue(){return IR||(IR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(qg)),qg.exports}var Kg={exports:{}},RR;function Oue(){return RR||(RR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Kg)),Kg.exports}var Zg={exports:{}},PR;function kue(){return PR||(PR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),vn())})(nt,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,f=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(f)},parse:function(u){var c=f.parse(u);return o.create({ciphertext:c})}}}(),r.format.Hex})}(Zg)),Zg.exports}var Jg={exports:{}},OR;function Fue(){return OR||(OR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],f=[],l=[],u=[],c=[],h=[],p=[],d=[],m=[],_=[];(function(){for(var y=[],x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var b=0,E=0,x=0;x<256;x++){var w=E^E<<1^E<<2^E<<3^E<<4;w=w>>>8^w&255^99,s[b]=w,f[w]=b;var S=y[b],C=y[S],T=y[C],I=y[w]*257^w*16843008;l[b]=I<<24|I>>>8,u[b]=I<<16|I>>>16,c[b]=I<<8|I>>>24,h[b]=I;var I=T*16843009^C*65537^S*257^b*16843008;p[w]=I<<24|I>>>8,d[w]=I<<16|I>>>16,m[w]=I<<8|I>>>24,_[w]=I,b?(b=S^y[y[y[T^S]]],E^=y[y[E]]):b=E=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,b=x.words,E=x.sigBytes/4,w=this._nRounds=E+6,S=(w+1)*4,C=this._keySchedule=[],T=0;T<S;T++)T<E?C[T]=b[T]:(y=C[T-1],T%E?E>6&&T%E==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=v[T/E|0]<<24),C[T]=C[T-E]^y);for(var I=this._invKeySchedule=[],A=0;A<S;A++){var T=S-A;if(A%4)var y=C[T];else var y=C[T-4];A<4||T<=4?I[A]=y:I[A]=p[s[y>>>24]]^d[s[y>>>16&255]]^m[s[y>>>8&255]]^_[s[y&255]]}}},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._keySchedule,l,u,c,h,s)},decryptBlock:function(y,x){var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b,this._doCryptBlock(y,x,this._invKeySchedule,p,d,m,_,f);var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b},_doCryptBlock:function(y,x,b,E,w,S,C,T){for(var I=this._nRounds,A=y[x]^b[0],R=y[x+1]^b[1],O=y[x+2]^b[2],F=y[x+3]^b[3],N=4,$=1;$<I;$++){var q=E[A>>>24]^w[R>>>16&255]^S[O>>>8&255]^C[F&255]^b[N++],K=E[R>>>24]^w[O>>>16&255]^S[F>>>8&255]^C[A&255]^b[N++],G=E[O>>>24]^w[F>>>16&255]^S[A>>>8&255]^C[R&255]^b[N++],L=E[F>>>24]^w[A>>>16&255]^S[R>>>8&255]^C[O&255]^b[N++];A=q,R=K,O=G,F=L}var q=(T[A>>>24]<<24|T[R>>>16&255]<<16|T[O>>>8&255]<<8|T[F&255])^b[N++],K=(T[R>>>24]<<24|T[O>>>16&255]<<16|T[F>>>8&255]<<8|T[A&255])^b[N++],G=(T[O>>>24]<<24|T[F>>>16&255]<<16|T[A>>>8&255]<<8|T[R&255])^b[N++],L=(T[F>>>24]<<24|T[A>>>16&255]<<16|T[R>>>8&255]<<8|T[O&255])^b[N++];y[x]=q,y[x+1]=K,y[x+2]=G,y[x+3]=L},keySize:256/32});n.AES=a._createHelper(g)}(),r.AES})}(Jg)),Jg.exports}var Qg={exports:{}},kR;function Nue(){return kR||(kR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var v=this._key,g=v.words,y=[],x=0;x<56;x++){var b=f[x]-1;y[x]=g[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],w=0;w<16;w++){for(var S=E[w]=[],C=u[w],x=0;x<24;x++)S[x/6|0]|=y[(l[x]-1+C)%28]<<31-x%6,S[4+(x/6|0)]|=y[28+(l[x+24]-1+C)%28]<<31-x%6;S[0]=S[0]<<1|S[0]>>>31;for(var x=1;x<7;x++)S[x]=S[x]>>>(x-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var T=this._invSubKeys=[],x=0;x<16;x++)T[x]=E[15-x]},encryptBlock:function(v,g){this._doCryptBlock(v,g,this._subKeys)},decryptBlock:function(v,g){this._doCryptBlock(v,g,this._invSubKeys)},_doCryptBlock:function(v,g,y){this._lBlock=v[g],this._rBlock=v[g+1],d.call(this,4,252645135),d.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),d.call(this,1,1431655765);for(var x=0;x<16;x++){for(var b=y[x],E=this._lBlock,w=this._rBlock,S=0,C=0;C<8;C++)S|=c[C][((w^b[C])&h[C])>>>0];this._lBlock=w,this._rBlock=E^S}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,d.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),v[g]=this._lBlock,v[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(v,g){var y=(this._lBlock>>>v^this._rBlock)&g;this._rBlock^=y,this._lBlock^=y<<v}function m(v,g){var y=(this._rBlock>>>v^this._lBlock)&g;this._lBlock^=y,this._rBlock^=y<<v}n.DES=o._createHelper(p);var _=s.TripleDES=o.extend({_doReset:function(){var v=this._key,g=v.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=g.slice(0,2),x=g.length<4?g.slice(0,2):g.slice(2,4),b=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(x)),this._des3=p.createEncryptor(a.create(b))},encryptBlock:function(v,g){this._des1.encryptBlock(v,g),this._des2.decryptBlock(v,g),this._des3.encryptBlock(v,g)},decryptBlock:function(v,g){this._des3.decryptBlock(v,g),this._des2.encryptBlock(v,g),this._des1.decryptBlock(v,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(_)}(),r.TripleDES})}(Qg)),Qg.exports}var e_={exports:{}},FR;function Lue(){return FR||(FR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,c=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,m=0;d<256;d++){var _=d%h,v=c[_>>>2]>>>24-_%4*8&255;m=(m+p[d]+v)%256;var g=p[d];p[d]=p[m],p[m]=g}this._i=this._j=0},_doProcessBlock:function(u,c){u[c]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var u=this._S,c=this._i,h=this._j,p=0,d=0;d<4;d++){c=(c+1)%256,h=(h+u[c])%256;var m=u[c];u[c]=u[h],u[h]=m,p|=u[(u[c]+u[h])%256]<<24-d*8}return this._i=c,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)f.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(e_)),e_.exports}var t_={exports:{}},NR;function Bue(){return NR||(NR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],f=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],_=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)c.call(this);for(var d=0;d<8;d++)_[d]^=m[d+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=x>>>16|b&4294901760,w=b<<16|x&65535;_[0]^=x,_[1]^=E,_[2]^=b,_[3]^=w,_[4]^=x,_[5]^=E,_[6]^=b,_[7]^=w;for(var d=0;d<4;d++)c.call(this)}},_doProcessBlock:function(h,p){var d=this._X;c.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,p=this._C,d=0;d<8;d++)f[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(t_)),t_.exports}var r_={exports:{}},LR;function Mue(){return LR||(LR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],f=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var _=0;_<4;_++)c.call(this);for(var _=0;_<8;_++)m[_]^=d[_+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=x>>>16|b&4294901760,w=b<<16|x&65535;m[0]^=x,m[1]^=E,m[2]^=b,m[3]^=w,m[4]^=x,m[5]^=E,m[6]^=b,m[7]^=w;for(var _=0;_<4;_++)c.call(this)}},_doProcessBlock:function(h,p){var d=this._X;c.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,p=this._C,d=0;d<8;d++)f[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(r_)),r_.exports}var n_={exports:{}},BR;function Due(){return BR||(BR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Ws(),Ys(),zo(),vn())})(nt,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function c(_,v){let g=v>>24&255,y=v>>16&255,x=v>>8&255,b=v&255,E=_.sbox[0][g]+_.sbox[1][y];return E=E^_.sbox[2][x],E=E+_.sbox[3][b],E}function h(_,v,g){let y=v,x=g,b;for(let E=0;E<s;++E)y=y^_.pbox[E],x=c(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[s],y=y^_.pbox[s+1],{left:y,right:x}}function p(_,v,g){let y=v,x=g,b;for(let E=s+1;E>1;--E)y=y^_.pbox[E],x=c(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[1],y=y^_.pbox[0],{left:y,right:x}}function d(_,v,g){for(let w=0;w<4;w++){_.sbox[w]=[];for(let S=0;S<256;S++)_.sbox[w][S]=l[w][S]}let y=0;for(let w=0;w<s+2;w++)_.pbox[w]=f[w]^v[y],y++,y>=g&&(y=0);let x=0,b=0,E=0;for(let w=0;w<s+2;w+=2)E=h(_,x,b),x=E.left,b=E.right,_.pbox[w]=x,_.pbox[w+1]=b;for(let w=0;w<4;w++)for(let S=0;S<256;S+=2)E=h(_,x,b),x=E.left,b=E.right,_.sbox[w][S]=x,_.sbox[w][S+1]=b;return!0}var m=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,v=_.words,g=_.sigBytes/4;d(u,v,g)}},encryptBlock:function(_,v){var g=h(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},decryptBlock:function(_,v){var g=p(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(m)}(),r.Blowfish})}(n_)),n_.exports}(function(t,e){(function(r,n,i){t.exports=n(Ft(),bv(),pue(),vue(),Ws(),mue(),Ys(),RM(),iS(),gue(),PM(),_ue(),yue(),xue(),aS(),bue(),zo(),vn(),Eue(),wue(),Sue(),Cue(),Tue(),Aue(),Iue(),Rue(),Pue(),Oue(),kue(),Fue(),Nue(),Lue(),Bue(),Mue(),Due())})(nt,function(r){return r})})(AM);var Uue=AM.exports;const Vd=Cn(Uue);function jue(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return Vd.lib.WordArray.create(r,e.length)}async function $ue(t,e,r,n){const i=Vd.enc.Hex.parse(e),a=Vd.enc.Hex.parse(r),o=jue(t),s=Vd.AES.decrypt({ciphertext:o},i,{iv:a}),f=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)f[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([f],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class Vue{constructor(){Xe(this,"videosByKey");Xe(this,"currentPlayingVideo","");Xe(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var f;if(this.videosByKey[e])return;console.info("开始预加载视频",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(f=document.getElementById("videoContainer"))==null||f.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",c=u.length,h=new Uint8Array(l.slice(0,c));let p=!1;for(let v=0;v<c;v++){if(String.fromCharCode(h[v])!==u[v]){p=!1;break}p=!0}let d;if(p){const v=l.slice(c);d=await $ue(v,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const m=cue.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});m.attachMediaElement(a),m.load();const _={...this.videosByKey[e],player:m};this.videosByKey[e]=_,a.onloadeddata=()=>{const v=Object.keys(_.waitCommands);if(_){const g=document.createElement("canvas"),y=g.getContext("2d");g.width=480,g.height=270,y.drawImage(a,0,0,480,270);const x=g.toDataURL("image/webp",.5);g.remove(),_.poster=x}v.length&&v.forEach(g=>{if(!_){console.log("没有找到视频缓存资源",e);return}this[g](e,_.waitCommands[g])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{try{const o=a==null?void 0:a.getElementsByTagName("video");o!=null&&o.length&&i.player.destroy()}catch(o){console.warn(o)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class Gue{constructor(){Xe(this,"sceneManager",new aue);Xe(this,"backlogManager",new Dq(this.sceneManager));Xe(this,"animationManager",new oue);Xe(this,"gameplay",new sue);Xe(this,"gameName","");Xe(this,"gameKey","");Xe(this,"events",new uue);Xe(this,"videoManager",new Vue)}}const z=new Gue,yn=OM(()=>{const t=le.getState().userData;Ns.setItem(z.gameKey,t).then(()=>{je.info("写入本地存储")})},100),B0=OM(()=>{Ns.getItem(z.gameKey).then(t=>{if(!t||!FM(t)){je.warn("现在重置数据"),yn();return}le.dispatch(xw(t))})},100);function OM(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const kM=()=>{const t=le.getState().userData;Ns.setItem(z.gameKey,t).then(()=>{Ns.getItem(z.gameKey).then(e=>{if(!e){yn();return}le.dispatch(xw(e))}),je.info("同步本地存储")})};function FM(t){let e=!0;for(const r in gx)t.hasOwnProperty(r)||(e=!1);return e}async function Xue(){const t=await Ns.getItem(z.gameKey);if(!t||!FM(t)){const e=le.getState().userData;return je.warn("现在重置数据"),await Ns.setItem(z.gameKey,e)}else le.dispatch(xw(t))}var zt=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(zt||{}),rr=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t))(rr||{});const NM={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:zt.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,isShowGameMenu:!1,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameMenus:{Game_start_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:"",countdown:0}}},Game_achievement_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_extra_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_storyline_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_collection_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_continue_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_load_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_option_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}}},showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1},LM=wp({name:"gui",initialState:NM,reducers:{setVisibility:(t,e)=>{B0();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{B0(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameMenus:(t,e)=>{t.gameMenus=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload}}}),{setVisibility:it,setMenuPanelTag:Cs,setGuiAsset:Fx,setLogoImage:Hue,setShowStoryLine:Nx,setshowFavorited:Lx,setGameMenus:zue,setGameR18:BM}=LM.actions,Wue=LM.reducer,le=q9({reducer:{stage:RY,GUI:Wue,userData:Bq,saveData:Ele},middleware:FN({serializableCheck:!1})});let MR;function oS(t,e=0,r=100){if(je.info("playing bgm"+t),t===""){MR=setTimeout(()=>{le.dispatch(st({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=le.getState().stage.bgm.src;le.dispatch(st({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(MR),le.dispatch(st({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function _h(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const sS=()=>{je.warn("清除所有演出");for(let t=0;t<z.gameplay.performController.performList.length;t++){const e=z.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),z.gameplay.performController.performList.splice(t,1),t--}},lS=()=>{le.getState().stage.PerformList.forEach(e=>{Hp(e.script)})},Yue=t=>{const e=le.dispatch,r=z.backlogManager.getBacklog()[t];je.debug("读取的backlog数据",r),hi(r.saveScene.sceneUrl).then(async i=>{if(await z.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const s=ph(o);Uu(s)}}),z.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,z.sceneManager.sceneData.sceneStack=gr(r.saveScene.sceneStack),sS();for(let i=z.backlogManager.getBacklog().length-1;i>t;i--)z.backlogManager.getBacklog().pop();z.backlogManager.isSaveBacklogNext=!0;const n=gr(r.currentStageState);e(Op(n)),setTimeout(lS,0),e(it({component:"showBacklog",visibility:!1})),e(it({component:"showTextBox",visibility:!0}))},que=(t,e=!1)=>{const n=le.getState().saveData.saveData[t];je.debug("读取的存档数据",n),uS(n,e)};async function uS(t,e=!1){if(!t){je.info("暂无存档");return}const r=t;try{const o=await hi(r.sceneData.sceneUrl);if(!await z.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const f=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const l=ph(f);Uu(l)}catch(o){je.error("场景加载失败",o);return}z.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,z.sceneManager.sceneData.sceneStack=gr(r.sceneData.sceneStack),sS();const n=r.backlog;z.backlogManager.getBacklog().splice(0,z.backlogManager.getBacklog().length);for(const o of n)z.backlogManager.getBacklog().push(o);const i=gr(r.nowStageState),a=le.dispatch;a(Op(i)),e?(a(Jt.setLoadVideo(!0)),console.log(33333,r),r.nowStageState.PerformList.forEach(o=>{Hp(o.script)})):setTimeout(lS,0),a(it({component:"showTitle",visibility:!1})),a(it({component:"showMenuPanel",visibility:!1})),a(it({component:"showExtra",visibility:!1})),_h(le.getState().stage.bgName)}function Kue(){`${z.gameName}${z.gameKey}`,`${z.gameName}${z.gameKey}`}async function Zue(){const t=await bM(-1,!1),e=gr(t);le.dispatch(Jt.setFastSave(e)),await Sle()}async function Jue(){return await Xue(),le.getState().saveData.quickSaveData!==null}async function Que(){await yM();const t=le.getState().saveData.quickSaveData;t&&uS(t)}const efe=()=>{nS(!0,!0,!1);const t=kr("start.txt",Or.scene);hi(t).then(e=>{z.sceneManager.setCurrentScene(e,"start.txt",t,!0).then(r=>{r&&Vr()})}),le.dispatch(Jt.setIsShowUnlock(!0)),le.dispatch(Jt.setShowStoryline(!0)),le.dispatch(it({component:"showTitle",visibility:!1}))};async function tfe(){if(_h(le.getState().stage.bgName),await Jue()&&z.sceneManager.sceneData.currentSentenceId===0){await Que();return}z.sceneManager.sceneData.currentSentenceId===0&&z.sceneManager.sceneData.currentScene.sceneName==="start.txt"?Vr():lS()}const rfe=()=>{const t=kr("storyline.txt",Or.scene);z.sceneManager.resetScene(),hi(t).then(e=>{z.sceneManager.setCurrentScene(e,"storyline.txt",t).then(r=>{r&&Vr()})}),le.dispatch(it({component:"showTitle",visibility:!1})),le.dispatch(it({component:"showMenuPanel",visibility:!1})),le.dispatch(it({component:"showTextBox",visibility:!1})),le.dispatch(Nx(!0))},nfe=()=>{le.dispatch(it({component:"showBeautyGuide",visibility:!0}))};function fS(t,e){if(t==null)return{};var r=Ese(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var ife={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const afe=Cn(ife);var ofe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function DR(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(afe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(ofe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var sfe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,lfe=/^\s*$/,ufe=Object.create(null);function MM(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(MM,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var ffe={parse:function(t,e){e||(e={}),e.components||(e.components=ufe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(sfe,function(f,l){if(o){if(f!=="</"+r.name+">")return;o=!1}var u,c=f.charAt(1)!=="/",h=f.startsWith("<!--"),p=l+f.length,d=t.charAt(p);if(h){var m=DR(f);return a<0?(n.push(m),n):((u=i[a]).children.push(m),n)}if(c&&(a++,(r=DR(f)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!c||r.voidElement)&&(a>-1&&(r.voidElement||r.name===f.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var _=t.indexOf("<",p),v=t.slice(p,_===-1?void 0:_);lfe.test(v)&&(v=" "),(_>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+MM("",r)},"")}};function Gd(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var UR={};function M0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&UR[e[0]]||(typeof e[0]=="string"&&(UR[e[0]]=new Date),Gd.apply(void 0,e))}var DM=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function jR(t,e,r){t.loadNamespaces(e,DM(t,r))}function $R(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,DM(t,n))}function cfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(f,l){var u=e.services.backendConnector.state["".concat(f,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function hfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return M0("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):cfe(t,e,r)}var dfe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pfe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},vfe=function(e){return pfe[e]},mfe=function(e){return e.replace(dfe,vfe)};function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mfe};function gfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bx=GR(GR({},Bx),t)}function UM(){return Bx}var jM;function _fe(t){jM=t}function cS(){return jM}var yfe=["format"],xfe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i_(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function a_(t){return t?t.props?t.props.children:t.children:[]}function bfe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ye.isValidElement(e)})}function Bf(t){return Array.isArray(t)?t:[t]}function Efe(t,e){var r=Yr({},e);return r.props=Object.assign(t.props,e.props),r}function $M(t,e){if(!t)return"";var r="",n=Bf(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ye.isValidElement(a)){var s=Object.keys(a.props).length,f=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&f&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!f||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(f&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=$M(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)Gd("Trans: the passed in value is invalid - seems you passed in a null child.");else if(fn(a)==="object"){var c=a.format,h=fS(a,yfe),p=Object.keys(h);if(p.length===1){var d=c?"".concat(p[0],", ").concat(c):p[0];r+="{{".concat(d,"}}")}else Gd("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Gd("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function wfe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var f={};function l(_){var v=Bf(_);v.forEach(function(g){typeof g!="string"&&(i_(g)?l(a_(g)):fn(g)==="object"&&!ye.isValidElement(g)&&Object.assign(f,g))})}l(t);var u=ffe.parse("<0>".concat(e,"</0>")),c=Yr(Yr({},f),i);function h(_,v,g){var y=a_(_),x=d(y,v.children,g);return bfe(y)&&x.length===0?y:x}function p(_,v,g,y,x){_.dummy&&(_.children=v),g.push(ye.cloneElement(_,Yr(Yr({},_.props),{},{key:y}),x?void 0:v))}function d(_,v,g){var y=Bf(_),x=Bf(v);return x.reduce(function(b,E,w){var S=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,c,r.language);if(E.type==="tag"){var C=y[parseInt(E.name,10)];!C&&g.length===1&&g[0][E.name]&&(C=g[0][E.name]),C||(C={});var T=Object.keys(E.attrs).length!==0?Efe({props:E.attrs},C):C,I=ye.isValidElement(T),A=I&&i_(E,!0)&&!E.voidElement,R=s&&fn(T)==="object"&&T.dummy&&!I,O=fn(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof T=="string"){var F=r.services.interpolator.interpolate(T,c,r.language);b.push(F)}else if(i_(T)||A){var N=h(T,E,g);p(T,N,b,w)}else if(R){var $=d(y,E.children,g);b.push(ye.cloneElement(T,Yr(Yr({},T.props),{},{key:w}),$))}else if(Number.isNaN(parseFloat(E.name)))if(O){var q=h(T,E,g);p(T,q,b,w,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)b.push(ye.createElement(E.name,{key:"".concat(E.name,"-").concat(w)}));else{var K=d(y,E.children,g);b.push(ye.createElement(E.name,{key:"".concat(E.name,"-").concat(w)},K))}else if(E.voidElement)b.push("<".concat(E.name," />"));else{var G=d(y,E.children,g);b.push("<".concat(E.name,">").concat(G,"</").concat(E.name,">"))}else if(fn(T)==="object"&&!I){var L=E.children[0]?S:null;L&&b.push(L)}else E.children.length===1&&S?b.push(ye.cloneElement(T,Yr(Yr({},T.props),{},{key:w}),S)):b.push(ye.cloneElement(T,Yr(Yr({},T.props),{},{key:w})))}else if(E.type==="text"){var j=n.transWrapTextNodes,M=a?n.unescape(r.services.interpolator.interpolate(E.content,c,r.language)):r.services.interpolator.interpolate(E.content,c,r.language);j?b.push(ye.createElement(j,{key:"".concat(E.name,"-").concat(w)},M)):b.push(M)}return b},[])}var m=d([{dummy:!0,children:t||[]}],u,Bf(t||[]));return a_(m[0])}function Sfe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,f=t.values,l=t.defaults,u=t.components,c=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=fS(t,xfe),_=h||cS();if(!_)return M0("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=p||_.t.bind(_)||function(A){return A};a&&(s.context=a);var g=Yr(Yr({},UM()),_.options&&_.options.react),y=c||v.ns||_.options&&_.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var x=l||$M(e,g)||g.transEmptyNodeValue||i,b=g.hashTransKey,E=i||(b?b(x):x),w=f?s.interpolation:{interpolation:Yr(Yr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=Yr(Yr(Yr(Yr({},s),{},{count:r},f),w),{},{defaultValue:x,ns:y}),C=E?v(E,S):x,T=wfe(u||e,C,_,g,S,d),I=n!==void 0?n:g.defaultTransParent;return I?ye.createElement(I,m,T):T}function Yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IN(n.key),n)}}function qi(t,e,r){return e&&HR(t.prototype,e),r&&HR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Cfe={type:"3rdParty",init:function(e){gfe(e.options.react),_fe(e)}},VM=ye.createContext(),Tfe=function(){function t(){Yi(this,t),this.usedNamespaces={}}return qi(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),Afe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ife(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rfe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,f=t.values,l=t.defaults,u=t.components,c=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=fS(t,Afe),_=ye.useContext(VM)||{},v=_.i18n,g=_.defaultNS,y=h||v||cS(),x=p||y&&y.t.bind(y);return Sfe(Ife({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:f,defaults:l,components:u,ns:c||x&&x.ns||g||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},m))}function GM(t){if(Array.isArray(t))return t}function Pfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],f=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);f=!0);}catch(u){l=!0,i=u}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XM(t,e){if(t){if(typeof t=="string")return WR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(t,e)}}function HM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(t,e){return GM(t)||Pfe(t,e)||XM(t,e)||HM()}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var kfe=function(e,r){var n=ye.useRef();return ye.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function Ev(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=ye.useContext(VM)||{},i=n.i18n,a=n.defaultNS,o=r||i||cS();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Tfe),!o){M0("You will need to pass in an i18next instance by using initReactI18next");var s=function(C,T){return typeof T=="string"?T:T&&fn(T)==="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(C)?C[C.length-1]:C},f=[s,{},!1];return f.t=s,f.i18n={},f.ready=!1,f}o.options.react&&o.options.react.wait!==void 0&&M0("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=o_(o_(o_({},UM()),o.options.react),e),u=l.useSuspense,c=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(S){return hfe(S,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],c)}var m=ye.useState(d),_=Ofe(m,2),v=_[0],g=_[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var x=kfe(y),b=ye.useRef(!0);ye.useEffect(function(){var S=l.bindI18n,C=l.bindI18nStore;b.current=!0,!p&&!u&&(e.lng?$R(o,e.lng,h,function(){b.current&&g(d)}):jR(o,h,function(){b.current&&g(d)})),p&&x&&x!==y&&b.current&&g(d);function T(){b.current&&g(d)}return S&&o&&o.on(S,T),C&&o&&o.store.on(C,T),function(){b.current=!1,S&&o&&S.split(" ").forEach(function(I){return o.off(I,T)}),C&&o&&C.split(" ").forEach(function(I){return o.store.off(I,T)})}},[o,y]);var E=ye.useRef(!0);ye.useEffect(function(){b.current&&!E.current&&g(d),E.current=!1},[o,c]);var w=[v,o,p];if(w.t=v,w.i18n=o,w.ready=p,p||!p&&!u)return w;throw new Promise(function(S){e.lng?$R(o,e.lng,h,function(){return S()}):jR(o,h,function(){return S()})})}function Ya(t){const{t:e}=Ev(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}function Ffe(t){return xv.parseScssToWebgalStyleObj(t)}function Uo(t){const[e,r]=ye.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function Nfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Lfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Bfe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Lfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Nfe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),An="-ms-",D0="-moz-",Ut="-webkit-",zM="comm",hS="rule",dS="decl",Mfe="@import",WM="@keyframes",Dfe="@layer",Ufe=Math.abs,wv=String.fromCharCode,jfe=Object.assign;function $fe(t,e){return xn(t,0)^45?(((e<<2^xn(t,0))<<2^xn(t,1))<<2^xn(t,2))<<2^xn(t,3):0}function YM(t){return t.trim()}function Vfe(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,r){return t.replace(e,r)}function Mx(t,e){return t.indexOf(e)}function xn(t,e){return t.charCodeAt(e)|0}function Tc(t,e,r){return t.slice(e,r)}function na(t){return t.length}function pS(t){return t.length}function zh(t,e){return e.push(t),t}function Gfe(t,e){return t.map(e).join("")}var Sv=1,fu=1,qM=0,ei=0,$r=0,ju="";function Cv(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Sv,column:fu,length:o,return:""}}function vf(t,e){return jfe(Cv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xfe(){return $r}function Hfe(){return $r=ei>0?xn(ju,--ei):0,fu--,$r===10&&(fu=1,Sv--),$r}function si(){return $r=ei<qM?xn(ju,ei++):0,fu++,$r===10&&(fu=1,Sv++),$r}function pa(){return xn(ju,ei)}function Xd(){return ei}function yh(t,e){return Tc(ju,t,e)}function Ac(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KM(t){return Sv=fu=1,qM=na(ju=t),ei=0,[]}function ZM(t){return ju="",t}function Hd(t){return YM(yh(ei-1,Dx(t===91?t+2:t===40?t+1:t)))}function zfe(t){for(;($r=pa())&&$r<33;)si();return Ac(t)>2||Ac($r)>3?"":" "}function Wfe(t,e){for(;--e&&si()&&!($r<48||$r>102||$r>57&&$r<65||$r>70&&$r<97););return yh(t,Xd()+(e<6&&pa()==32&&si()==32))}function Dx(t){for(;si();)switch($r){case t:return ei;case 34:case 39:t!==34&&t!==39&&Dx($r);break;case 40:t===41&&Dx(t);break;case 92:si();break}return ei}function Yfe(t,e){for(;si()&&t+$r!==47+10;)if(t+$r===42+42&&pa()===47)break;return"/*"+yh(e,ei-1)+"*"+wv(t===47?t:si())}function qfe(t){for(;!Ac(pa());)si();return yh(t,ei)}function Kfe(t){return ZM(zd("",null,null,null,[""],t=KM(t),0,[0],t))}function zd(t,e,r,n,i,a,o,s,f){for(var l=0,u=0,c=o,h=0,p=0,d=0,m=1,_=1,v=1,g=0,y="",x=i,b=a,E=n,w=y;_;)switch(d=g,g=si()){case 40:if(d!=108&&xn(w,c-1)==58){Mx(w+=jt(Hd(g),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:w+=Hd(g);break;case 9:case 10:case 13:case 32:w+=zfe(d);break;case 92:w+=Wfe(Xd()-1,7);continue;case 47:switch(pa()){case 42:case 47:zh(Zfe(Yfe(si(),Xd()),e,r),f);break;default:w+="/"}break;case 123*m:s[l++]=na(w)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:_=0;case 59+u:v==-1&&(w=jt(w,/\f/g,"")),p>0&&na(w)-c&&zh(p>32?KR(w+";",n,r,c-1):KR(jt(w," ","")+";",n,r,c-2),f);break;case 59:w+=";";default:if(zh(E=qR(w,e,r,l,u,i,s,y,x=[],b=[],c),a),g===123)if(u===0)zd(w,e,E,E,x,a,c,s,b);else switch(h===99&&xn(w,3)===110?100:h){case 100:case 108:case 109:case 115:zd(t,E,E,n&&zh(qR(t,E,E,0,0,i,s,y,i,x=[],c),b),i,b,c,s,n?x:b);break;default:zd(w,E,E,E,[""],b,0,s,b)}}l=u=p=0,m=v=1,y=w="",c=o;break;case 58:c=1+na(w),p=d;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&Hfe()==125)continue}switch(w+=wv(g),g*m){case 38:v=u>0?1:(w+="\f",-1);break;case 44:s[l++]=(na(w)-1)*v,v=1;break;case 64:pa()===45&&(w+=Hd(si())),h=pa(),u=c=na(y=w+=qfe(Xd())),g++;break;case 45:d===45&&na(w)==2&&(m=0)}}return a}function qR(t,e,r,n,i,a,o,s,f,l,u){for(var c=i-1,h=i===0?a:[""],p=pS(h),d=0,m=0,_=0;d<n;++d)for(var v=0,g=Tc(t,c+1,c=Ufe(m=o[d])),y=t;v<p;++v)(y=YM(m>0?h[v]+" "+g:jt(g,/&\f/g,h[v])))&&(f[_++]=y);return Cv(t,e,r,i===0?hS:s,f,l,u)}function Zfe(t,e,r){return Cv(t,e,r,zM,wv(Xfe()),Tc(t,2,-2),0)}function KR(t,e,r,n){return Cv(t,e,r,dS,Tc(t,0,n),Tc(t,n+1,-1),n)}function ql(t,e){for(var r="",n=pS(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Jfe(t,e,r,n){switch(t.type){case Dfe:if(t.children.length)break;case Mfe:case dS:return t.return=t.return||t.value;case zM:return"";case WM:return t.return=t.value+"{"+ql(t.children,n)+"}";case hS:t.value=t.props.join(",")}return na(r=ql(t.children,n))?t.return=t.value+"{"+r+"}":""}function Qfe(t){var e=pS(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function ece(t){return function(e){e.root||(e=e.return)&&t(e)}}function tce(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var rce=function(e,r,n){for(var i=0,a=0;i=a,a=pa(),i===38&&a===12&&(r[n]=1),!Ac(a);)si();return yh(e,ei)},nce=function(e,r){var n=-1,i=44;do switch(Ac(i)){case 0:i===38&&pa()===12&&(r[n]=1),e[n]+=rce(ei-1,r,n);break;case 2:e[n]+=Hd(i);break;case 4:if(i===44){e[++n]=pa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=wv(i)}while(i=si());return e},ice=function(e,r){return ZM(nce(KM(e),r))},ZR=new WeakMap,ace=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!ZR.get(n))&&!i){ZR.set(e,!0);for(var a=[],o=ice(r,a),s=n.props,f=0,l=0;f<o.length;f++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[f]?o[f].replace(/&\f/g,s[u]):s[u]+" "+o[f]}}},oce=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function JM(t,e){switch($fe(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+D0+t+An+t+t;case 6828:case 4268:return Ut+t+An+t+t;case 6165:return Ut+t+An+"flex-"+t+t;case 5187:return Ut+t+jt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Ut+t+An+"flex-item-"+jt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+An+"flex-line-pack"+jt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+An+jt(t,"shrink","negative")+t;case 5292:return Ut+t+An+jt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+jt(t,"-grow","")+Ut+t+An+jt(t,"grow","positive")+t;case 4554:return Ut+jt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(na(t)-1-e>6)switch(xn(t,e+1)){case 109:if(xn(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+D0+(xn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Mx(t,"stretch")?JM(jt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(xn(t,e+1)!==115)break;case 6444:switch(xn(t,na(t)-3-(~Mx(t,"!important")&&10))){case 107:return jt(t,":",":"+Ut)+t;case 101:return jt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(xn(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(xn(t,e+11)){case 114:return Ut+t+An+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+An+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+An+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+An+t+t}return t}var sce=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case dS:e.return=JM(e.value,e.length);break;case WM:return ql([vf(e,{value:jt(e.value,"@","@"+Ut)})],i);case hS:if(e.length)return Gfe(e.props,function(a){switch(Vfe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ql([vf(e,{props:[jt(a,/:(read-\w+)/,":"+D0+"$1")]})],i);case"::placeholder":return ql([vf(e,{props:[jt(a,/:(plac\w+)/,":"+Ut+"input-$1")]}),vf(e,{props:[jt(a,/:(plac\w+)/,":"+D0+"$1")]}),vf(e,{props:[jt(a,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},lce=[sce],uce=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||lce,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)a[_[v]]=!0;s.push(m)});var f,l=[ace,oce];{var u,c=[Jfe,ece(function(m){u.insert(m)})],h=Qfe(l.concat(i,c)),p=function(_){return ql(Kfe(_),h)};f=function(_,v,g,y){u=g,p(_?_+"{"+v.styles+"}":v.styles),y&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new Bfe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return d.sheet.hydrate(s),d};function fce(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hce=/[A-Z]|^ms/g,dce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QM=function(e){return e.charCodeAt(1)===45},JR=function(e){return e!=null&&typeof e!="boolean"},s_=tce(function(t){return QM(t)?t:t.replace(hce,"-$&").toLowerCase()}),QR=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(dce,function(n,i,a){return ia={name:i,styles:a,next:ia},i})}return cce[e]!==1&&!QM(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ic(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ia={name:r.name,styles:r.styles,next:ia},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ia={name:n.name,styles:n.styles,next:ia},n=n.next;var i=r.styles+";";return i}return pce(t,e,r)}case"function":{if(t!==void 0){var a=ia,o=r(t);return ia=a,Ic(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function pce(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ic(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":JR(o)&&(n+=s_(a)+":"+QR(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)JR(o[s])&&(n+=s_(a)+":"+QR(a,o[s])+";");else{var f=Ic(t,e,o);switch(a){case"animation":case"animationName":{n+=s_(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var eP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ia,l_=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ia=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=Ic(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=Ic(n,r,e[s]),i&&(a+=o[s]);eP.lastIndex=0;for(var f="",l;(l=eP.exec(a))!==null;)f+="-"+l[1];var u=fce(a)+f;return{name:u,styles:a,next:ia}},vce=!0;function eD(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var mce=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||vce===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},gce=function(e,r,n){mce(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function tP(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function rP(t,e,r){var n=[],i=eD(t,n,r);return n.length<2?r:i+e(n)}var _ce=function(e){var r=uce(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=l_(l,r.registered,void 0);return gce(r,c,!1),r.key+"-"+c.name},i=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=l_(l,r.registered),h="animation-"+c.name;return tP(r,{name:c.name,styles:"@keyframes "+h+"{"+c.styles+"}"}),h},a=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=l_(l,r.registered);tP(r,c)},o=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];return rP(r.registered,n,yce(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(f){f.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:eD.bind(null,r.registered),merge:rP.bind(null,r.registered,n)}},yce=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},tD=_ce({key:"css"}),xce=tD.injectGlobal,bce=tD.css;function rD(t){const e=Uo({classNameStyles:{},others:""}),r=tt(a=>a.stage.replacedUIlable),n=(a,o)=>{var f;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=bce(((f=e.value.classNameStyles)==null?void 0:f[s])??"");return`${o} ${l}`}return o},i=async()=>{je.debug("更新 Scss 文件",t);const o=(await Ec.get(`game/template/${t}`)).data;e.set(Ffe(o))};return ye.useEffect(()=>{i()},[]),ye.useEffect(()=>{xce(e.value.others)},[e.value.others]),Ece(i),n}function Ece(t){const e=()=>{t()};ye.useEffect(()=>(z.events.styleUpdate.on(e),()=>z.events.styleUpdate.off(e)),[])}function $u(t){const e=tt(t),r=ye.useRef(e);return ye.useEffect(()=>{r.current=e},[e]),r}function Vu(t){ye.useEffect(()=>{t()},[])}function Gu(t){ye.useEffect(()=>function(){t()},[])}function wce(t){ye.useEffect(()=>{t()})}const Sce="_main_1qr2u_1",Cce="_singleButton_1qr2u_12",Tce="_singleButton_fast_1qr2u_19",Ace="_singleButton_auto_1qr2u_23",Ice="_singleButton_auto_active_1qr2u_27",Rce="_singleButton_fast_active_1qr2u_31",Pce="_autoIcon_1qr2u_35",Oce="_fastIcon_1qr2u_48",kce="_historyIcon_1qr2u_61",Fce="_fastSlPreview_1qr2u_74",Nce="_fastSlEnter_1qr2u_1",Lce="_fastsave_1qr2u_88",Bce="_fastSPreview_1qr2u_88",Mce="_fastload_1qr2u_92",Dce="_fastLPreview_1qr2u_92",Uce="_slPreviewMain_1qr2u_104",jce="_imgContainer_1qr2u_112",$ce="_textContainer_1qr2u_120",on={main:Sce,singleButton:Cce,singleButton_fast:Tce,singleButton_auto:Ace,singleButton_auto_active:Ice,singleButton_fast_active:Rce,autoIcon:Pce,fastIcon:Oce,historyIcon:kce,fastSlPreview:Fce,fastSlEnter:Nce,fastsave:Lce,fastSPreview:Bce,fastload:Mce,fastLPreview:Dce,slPreviewMain:Uce,imgContainer:jce,textContainer:$ce},nD=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=on.singleButton+" "+on.singleButton_auto;t?e.className=r+" "+on.singleButton_auto_active:e.className=r}},Tv=()=>{z.gameplay.isAuto=!1,nD(!1),z.gameplay.autoInterval!==null&&(clearInterval(z.gameplay.autoInterval),z.gameplay.autoInterval=null),z.gameplay.autoTimeout!==null&&(clearTimeout(z.gameplay.autoTimeout),z.gameplay.autoTimeout=null)},iD=()=>{z.gameplay.isAuto?Tv():(z.gameplay.isAuto=!0,nD(!0),z.gameplay.autoInterval=setInterval(Gce,100))},Vce=()=>{Vr(),z.gameplay.autoTimeout=null},Gce=()=>{const e=750-250*le.getState().userData.optionData.autoSpeed;let r=!1;z.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&z.gameplay.autoTimeout===null&&(z.gameplay.autoTimeout=setTimeout(Vce,e))},aD=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=on.singleButton+" "+on.singleButton_fast;e&&(t?e.className=r+" "+on.singleButton_fast_active:e.className=r)},Kl=()=>{sD()&&(z.gameplay.isFast=!1,aD(!1),z.gameplay.fastInterval!==null&&(clearInterval(z.gameplay.fastInterval),z.gameplay.fastInterval=null))},oD=()=>{sD()||(z.gameplay.isFast=!0,aD(!0),z.gameplay.fastInterval=setInterval(()=>{console.log("正在快进语句"),Vr()},CL.fast_timeout))},sD=function(){return z.gameplay.isFast},vS=()=>{Kl(),Tv()},lD=()=>{z.gameplay.isFast?Kl():oD()},Xce="_Backlog_main_1bt22_2",Hce="_backlog_soft_in_1bt22_1",zce="_Backlog_main_out_1bt22_17",Wce="_backlog_soft_out_1bt22_1",Yce="_Backlog_main_out_IndexHide_1bt22_30",qce="_Backlog_main_DisableScroll_1bt22_34",Kce="_backlog_top_icon_1bt22_38",Zce="_backlog_title_1bt22_62",Jce="_backlog_content_1bt22_74",Qce="_backlog_item_1bt22_100",ehe="_backlog_item_in_1bt22_1",the="_backlog_item_button_element_1bt22_112",rhe="_backlog_item_out_1bt22_142",nhe="_backlog_func_area_1bt22_151",ihe="_backlog_item_content_name_1bt22_157",ahe="_backlog_item_content_1bt22_157",ohe="_backlog_content_container_1bt22_177",she="_sound_icon_1bt22_194",lhe="_backlog_item_content_text_1bt22_207",uhe="_backlog_icon_softin_1bt22_1",In={Backlog_main:Xce,backlog_soft_in:Hce,Backlog_main_out:zce,backlog_soft_out:Wce,Backlog_main_out_IndexHide:Yce,Backlog_main_DisableScroll:qce,backlog_top_icon:Kce,backlog_title:Zce,backlog_content:Jce,backlog_item:Qce,backlog_item_in:ehe,backlog_item_button_element:the,backlog_item_out:rhe,backlog_func_area:nhe,backlog_item_content_name:ihe,backlog_item_content:ahe,backlog_content_container:ohe,sound_icon:she,backlog_item_content_text:lhe,backlog_icon_softin:uhe};var fhe=Wi,che=function(){return fhe.Date.now()},hhe=che,dhe=/\s/;function phe(t){for(var e=t.length;e--&&dhe.test(t.charAt(e)););return e}var vhe=phe,mhe=vhe,ghe=/^\s+/;function _he(t){return t&&t.slice(0,mhe(t)+1).replace(ghe,"")}var yhe=_he,xhe=yhe,nP=wa,bhe=Kp,iP=0/0,Ehe=/^[-+]0x[0-9a-f]+$/i,whe=/^0b[01]+$/i,She=/^0o[0-7]+$/i,Che=parseInt;function The(t){if(typeof t=="number")return t;if(bhe(t))return iP;if(nP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xhe(t);var r=whe.test(t);return r||She.test(t)?Che(t.slice(2),r?2:8):Ehe.test(t)?iP:+t}var Ahe=The,Ihe=wa,u_=hhe,aP=Ahe,Rhe="Expected a function",Phe=Math.max,Ohe=Math.min;function khe(t,e,r){var n,i,a,o,s,f,l=0,u=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(Rhe);e=aP(e)||0,Ihe(r)&&(u=!!r.leading,c="maxWait"in r,a=c?Phe(aP(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var w=n,S=i;return n=i=void 0,l=E,o=t.apply(S,w),o}function d(E){return l=E,s=setTimeout(v,e),u?p(E):o}function m(E){var w=E-f,S=E-l,C=e-w;return c?Ohe(C,a-S):C}function _(E){var w=E-f,S=E-l;return f===void 0||w>=e||w<0||c&&S>=a}function v(){var E=u_();if(_(E))return g(E);s=setTimeout(v,m(E))}function g(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=f=i=s=void 0}function x(){return s===void 0?o:g(u_())}function b(){var E=u_(),w=_(E);if(n=arguments,i=this,f=E,w){if(s===void 0)return d(f);if(c)return clearTimeout(s),s=setTimeout(v,e),p(f)}return s===void 0&&(s=setTimeout(v,e)),o}return b.cancel=y,b.flush=x,b}var Fhe=khe,Nhe=Fhe,Lhe=wa,Bhe="Expected a function";function Mhe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Bhe);return Lhe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Nhe(t,e,{leading:n,maxWait:e,trailing:i})}var Dhe=Mhe;const Uhe=Cn(Dhe),kl="keyboard"in navigator&&navigator.keyboard;function jhe(t){$he(),Ghe(),Hhe(),Xhe(),zhe(),Zhe(),Qhe()}function $he(){const t=$u(f=>f.GUI),e=Iv(),r=Av(t),n=uD(t),i=Whe(t),a=qhe(t),o=Yhe(t),s=ye.useCallback(f=>i()?(e("showGlobalDialog",!1),f.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),f.preventDefault(),!1),[]);Vu(()=>{document.addEventListener("contextmenu",s)}),Gu(()=>{document.removeEventListener("contextmenu",s)})}let Vhe=setTimeout(()=>{},0);function Ghe(){const t=$u(s=>s.GUI),e=Iv(),r=Av(t),n=uD(t),i=fD(t),a=ye.useCallback(Uhe(()=>{Vr()},100),[]),o=ye.useRef(0);ye.useCallback(s=>{if(i())return;const f=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${In.backlog_content}`);if(r()&&f==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&f==="down"&&!l){if(u){let c=Jhe(u),h=new Date().getTime();c&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&f==="down"&&!l&&(clearTimeout(Vhe),z.gameplay.isFast=!0,setTimeout(()=>{z.gameplay.isFast=!1},150),a())},[]),Vu(()=>{}),Gu(()=>{})}function Xhe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=$u(s=>s.GUI),n=ye.useCallback(()=>r.current.showTitle,[r]),i=fD(r),a=Iv(),o=ye.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),vS()))},[]);Vu(()=>{document.addEventListener("keyup",o)}),Gu(()=>{document.removeEventListener("keyup",o)})}function Hhe(){const t=$u(o=>o.GUI),e=Av(t),r=ye.useCallback(o=>o.keyCode===17,[]),n=ye.useCallback(o=>{r(o)&&e()&&oD()},[]),i=ye.useCallback(o=>{r(o)&&e()&&Kl()},[]),a=ye.useCallback(o=>{Kl()},[]);Vu(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),Gu(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),wce(()=>{e()||Kl()})}function zhe(){const t=Khe(),e=ye.useCallback(async r=>{t()&&await Zue()},[]);Vu(()=>{window.addEventListener("beforeunload",e)}),Gu(()=>{window.removeEventListener("beforeunload",e)})}function Av(t){return ye.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function uD(t){return ye.useCallback(()=>t.current.showBacklog,[t])}function Whe(t){return ye.useCallback(()=>t.current.showGlobalDialog,[t])}function Yhe(t){return ye.useCallback(()=>t.current.showExtra,[t])}function fD(t){return ye.useCallback(()=>t.current.showPanicOverlay,[t])}function qhe(t){return ye.useCallback(()=>[zt.Save,zt.Load,zt.Option].includes(t.current.currentMenuTag),[t])}function Khe(){return ye.useCallback(()=>z.sceneManager.sceneData.currentSentenceId!==0,[z.sceneManager.sceneData])}function Iv(){const t=dr();return(e,r)=>{t(it({component:e,visibility:r}))}}function Zhe(){const t=$u(f=>f.GUI),e=Av(t),r=Iv(),n=ye.useRef(!1),i=ye.useCallback(f=>f.keyCode===32||f.keyCode===13,[]),a=ye.useCallback(f=>{if(i(f)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}vS(),Vr(),n.current=!0}},[]),o=ye.useCallback(f=>{i(f)&&e()&&(n.current=!1)},[]),s=ye.useCallback(f=>{n.current=!1},[]);Vu(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),Gu(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function Jhe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function Qhe(){const t=tt(n=>n.userData),e=dr(),r=t.optionData.fullScreen;ye.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==da.on?(e(ji({key:"fullScreen",value:da.on})),yn()):(e(ji({key:"fullScreen",value:da.off})),yn()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const ede=()=>{le.dispatch(Jt.setIsShowUnlock(!1));const t=kr(Yl.Achieve,Or.scene);z.sceneManager.resetScene(),hi(t).then(e=>{z.sceneManager.setCurrentScene(e,Yl.Achieve,t).then(r=>{r&&(Vr(),z.sceneManager.setCurrentScene(e,Yl.Achieve,t))})}),le.dispatch(it({component:"showTitle",visibility:!1})),le.dispatch(it({component:"showMenuPanel",visibility:!1})),le.dispatch(it({component:"showTextBox",visibility:!1})),le.dispatch(it({component:"showAchievement",visibility:!0}))},tde=()=>{const t=tt(c=>c.userData),e=tt(c=>c.GUI),r=dr(),n=t.optionData.fullScreen,i=e.titleBg,a=i===""?"rgba(0,0,0,1)":`url("${i}")`;Ya("title.");const{playSeEnter:o,playSeClick:s}=Gr(),f=rD("UI/Title/title.scss"),l={[rr.Game_start_button]:()=>{efe(),s(),r(Lx(!1))},[rr.Game_achievement_button]:()=>{ede(),s()},[rr.Game_storyline_button]:()=>{rfe(),s()},[rr.Game_extra_button]:()=>{r(it({component:"showExtra",visibility:!0})),s()},[rr.Game_collection_button]:()=>{nfe(),s()},[rr.Game_continue_button]:()=>{s(),r(it({component:"showTitle",visibility:!1})),tfe()},[rr.Game_option_button]:()=>{s(),r(it({component:"showMenuPanel",visibility:!0})),r(Cs(zt.Option))},[rr.Game_load_button]:()=>{s(),r(it({component:"showMenuPanel",visibility:!0})),r(Cs(zt.Load))}},u=c=>{var _;const h=e.gameMenus[c];if(!h||h.args.hide)return null;const p={};let d=rl.Title_button;const m=`title-${c}`;if(h.args.style){const v=h.args.style;typeof v.x=="number"&&(p.position="absolute",p.left=v.x+"px",p.transform="translateX(-50%)"),typeof v.y=="number"&&(p.position="absolute",p.top=v.y+"px",p.transform?p.transform+=" translateY(-50%)":p.transform="translateY(-50%)"),typeof v.scale=="number"&&(p.transform?p.transform+=" scale("+v.scale+")":p.transform="scale("+v.scale+")"),typeof v.fontSize=="number"&&(p.fontSize=v.fontSize+"px"),typeof v.fontColor=="string"&&v.fontColor[0]==="#"&&(p.color=v.fontColor)}if((_=h.args.style)!=null&&_.image){let v=document.getElementById(m);if(d=rl.Title_button_custom,!v){const g=kr(h.args.style.image,Or.ui),y=new Image;y.src=g,y.onload=function(){let x=document.getElementById(m);y.style.width=y.naturalWidth+"px",y.style.height=y.naturalHeight+"px",y.alt=h.content,x&&(x.style.width=y.naturalWidth+"px",x.style.height=y.naturalHeight+"px",setTimeout(()=>{x==null||x.prepend(y),x=null},32))}}}return k.jsx("div",{id:m,className:f("Title_button",d),onClick:l[c],onMouseEnter:o,style:p,children:k.jsx("span",{className:rl.Title_button_text,children:h.content})},c)};return k.jsxs(k.Fragment,{children:[e.showTitle&&k.jsx("div",{className:f("Title_backup_background",rl.Title_backup_background)}),k.jsx("div",{id:"enter_game_target",onClick:()=>{oS(e.titleBgm),r(it({component:"isEnterGame",visibility:!0})),n===da.on&&(document.documentElement.requestFullscreen(),kl&&kl.lock(["Escape","F11"]))},onMouseEnter:o}),e.showTitle&&k.jsx("div",{className:f("Title_main",rl.Title_main),style:{backgroundImage:a,backgroundSize:"cover"},children:k.jsxs("div",{className:f("Title_buttonList",rl.Title_buttonList),children:[u(rr.Game_start_button),u(rr.Game_continue_button),u(rr.Game_load_button),u(rr.Game_option_button),u(rr.Game_achievement_button),u(rr.Game_storyline_button),u(rr.Game_extra_button),u(rr.Game_collection_button)]})})]})},rde="_Logo_main_19jxx_1",nde="_overlay_19jxx_14",ide="_Logo_Back_19jxx_61",ade="_animationActive_19jxx_75",ode="_fadeout_19jxx_1",Wh={Logo_main:rde,"change-img-anim":"_change-img-anim_19jxx_1",overlay:nde,"fade-in":"_fade-in_19jxx_1",Logo_Back:ide,animationActive:ade,fadeout:ode,"fade-in-out":"_fade-in-out_19jxx_1"},sde=()=>{const t=dr(),e=tt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Uo(-1),a=Uo(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(i.set(-1),e!=null&&e.isShowR18Modal&&t(it({component:"openR18Modal",visibility:!0})))};ye.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const f=i.value===-1?"":r[i.value];return k.jsxs(k.Fragment,{children:[i.value!==-1&&k.jsx("div",{className:Wh.Logo_Back+" "+(i.value===r.length-1?Wh.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),f!==""&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Wh.Logo_main,onClick:s,style:{backgroundImage:`url("${f}")`,animationDuration:`${o}ms`}},i.value+"bg"),k.jsx("div",{className:Wh.overlay})]})]})},lde=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),ude=t=>{const e=le.getState().GUI,r=le.dispatch;Ec.get(t).then(n=>{var o;let i=n.data;const a=xv.parseConfig(i);if(je.info("获取到游戏信息",a),e){const s={};a.forEach(f=>{var h,p;const{command:l,args:u,options:c}=f;switch(l){case"Title_img":{const d=kr(u.join(""),Or.background);r(Fx({asset:"titleBg",value:d})),_h(d);break}case"Game_Logo":{const d=u.map(m=>kr(m,Or.background));r(Hue(d));break}case"Game_cursor":{const d=u.map(m=>kr(m,Or.background));if(d!=null&&d.length){const m=d.map(v=>`url('${v}'), auto`).join(", "),_=document.createElement("style");_.innerHTML=`
                html, body, div, span { cursor: ${m} !important; }
                html:hover, body:hover, div:hover, span:hover { cursor: ${m} !important; }
              `,document.head.appendChild(_)}break}case rr.Game_start_button:case rr.Game_achievement_button:case rr.Game_storyline_button:case rr.Game_extra_button:case rr.Game_collection_button:case rr.Game_continue_button:case rr.Game_load_button:case rr.Game_option_button:{const d=((h=c.find(y=>y.key==="hide"))==null?void 0:h.value)||!1,m=((p=c.find(y=>y.key==="style"))==null?void 0:p.value)||"";let _={...NM.gameMenus.Game_achievement_button.args.style};const v=/\{(.*?)\}/,g=m.match(v);if(g){const x=g[1].split(","),b={};x.forEach(E=>{const[w,S]=E.split("=");w&&S&&(b[w.trim()]=isNaN(Number(S.trim()))?S.trim():Number(S.trim()))}),_=b}s[rr[l]]={content:u[0],args:{hide:d,style:_}};break}case"Title_bgm":{const d=kr(u[0],Or.bgm);r(Fx({asset:"titleBgm",value:d}));break}case"Game_name":{z.gameName=u[0],document.title=u[0];break}case"Game_key":{z.gameKey=u[0],B0(),yM(),tS(0,0);break}case"Game_r18":{(u==null?void 0:u.length)>0&&r(BM(!!lde.get(u[0])));break}}}),r(zue(s))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,Kue()})},fde=(t,e)=>{je.warn("正在跳转到"+t+":"+e);const r=le.dispatch;r(it({component:"showTitle",visibility:!1})),r(it({component:"showMenuPanel",visibility:!1})),r(it({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),nS(!0);const i=kr(t,Or.scene);setTimeout(()=>{hi(i).then(async a=>{if(!await z.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=z.sceneManager.sceneData.currentScene.sceneName;z.gameplay.isFast=!0,z.gameplay.isSyncingWithOrigine=!0,mS(e,s)})},16)};function mS(t,e){z.sceneManager.sceneData.currentSentenceId<t&&z.sceneManager.sceneData.currentScene.sceneName===e?(Vr(),setTimeout(()=>mS(t,e),100)):(z.gameplay.isSyncingWithOrigine=!1,z.gameplay.isFast=!1)}const cde=()=>{window.JMP=mS};var Mf=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(Mf||{});const hde=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),je.info("正在启动socket连接位于："+i);const a=new WebSocket(i);a.onopen=()=>{je.info("socket已连接"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:Mf.SYNCFC,sceneMsg:{scene:z.sceneManager.sceneData.currentScene.sceneName,sentence:z.sceneManager.sceneData.currentSentenceId},stageSyncMsg:le.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===Mf.JUMP&&fde(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===Mf.EXE_COMMAND){const u=l.message,h=xv.parse(u,"temp.txt","temp.txt").sentenceList[0];Hp(h)}if(l.command===Mf.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),z.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!0),je.info("当前没有连接到 Terre 编辑器")}};function dde(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function pde(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(f,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(c){o(f,c)},function(c){i[f]={status:"rejected",reason:c},--a===0&&r(i)});return}}i[f]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function cD(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}cD.prototype=Error.prototype;function vde(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new cD(a,"All promises were rejected"))})}catch(s){n(s)}})}var mde=setTimeout;function hD(t){return!!(t&&typeof t.length<"u")}function gde(){}function _de(t,e){return function(){t.apply(e,arguments)}}function _r(t){if(!(this instanceof _r))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pD(t,this)}function dD(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,_r._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?Ux:Rc)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Rc(e.promise,i);return}Ux(e.promise,n)})}function Ux(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof _r){t._state=3,t._value=e,jx(t);return}else if(typeof r=="function"){pD(_de(r,e),t);return}}t._state=1,t._value=e,jx(t)}catch(n){Rc(t,n)}}function Rc(t,e){t._state=2,t._value=e,jx(t)}function jx(t){t._state===2&&t._deferreds.length===0&&_r._immediateFn(function(){t._handled||_r._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)dD(t,t._deferreds[e]);t._deferreds=null}function yde(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function pD(t,e){var r=!1;try{t(function(n){r||(r=!0,Ux(e,n))},function(n){r||(r=!0,Rc(e,n))})}catch(n){if(r)return;r=!0,Rc(e,n)}}_r.prototype.catch=function(t){return this.then(null,t)};_r.prototype.then=function(t,e){var r=new this.constructor(gde);return dD(this,new yde(t,e,r)),r};_r.prototype.finally=dde;_r.all=function(t){return new _r(function(e,r){if(!hD(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var l=f.then;if(typeof l=="function"){l.call(f,function(u){a(s,u)},r);return}}n[s]=f,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};_r.any=vde;_r.allSettled=pde;_r.resolve=function(t){return t&&typeof t=="object"&&t.constructor===_r?t:new _r(function(e){e(t)})};_r.reject=function(t){return new _r(function(e,r){r(t)})};_r.race=function(t){return new _r(function(e,r){if(!hD(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)_r.resolve(t[n]).then(e,r)})};_r._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){mde(t,0)};_r._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=_r);Object.assign||(Object.assign=uU);var xde=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var bde=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-bde}}var f_=Date.now(),oP=["ms","moz","webkit","o"];for(var c_=0;c_<oP.length&&!globalThis.requestAnimationFrame;++c_){var h_=oP[c_];globalThis.requestAnimationFrame=globalThis[h_+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[h_+"CancelAnimationFrame"]||globalThis[h_+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=xde+f_-e;return r<0&&(r=0),f_=e,globalThis.self.setTimeout(function(){f_=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var d_=/iPhone/i,sP=/iPod/i,lP=/iPad/i,uP=/\biOS-universal(?:.+)Mac\b/i,p_=/\bAndroid(?:.+)Mobile\b/i,fP=/Android/i,ll=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yh=/Silk/i,Ra=/Windows Phone/i,cP=/\bWindows(?:.+)ARM\b/i,hP=/BlackBerry/i,dP=/BB10/i,pP=/Opera Mini/i,vP=/\b(CriOS|Chrome)(?:.+)Mobile/i,mP=/Mobile(?:.+)Firefox\b/i,gP=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Ede(t){return function(e){return e.test(t)}}function wde(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=Ede(r),a={apple:{phone:i(d_)&&!i(Ra),ipod:i(sP),tablet:!i(d_)&&(i(lP)||gP(e))&&!i(Ra),universal:i(uP),device:(i(d_)||i(sP)||i(lP)||i(uP)||gP(e))&&!i(Ra)},amazon:{phone:i(ll),tablet:!i(ll)&&i(Yh),device:i(ll)||i(Yh)},android:{phone:!i(Ra)&&i(ll)||!i(Ra)&&i(p_),tablet:!i(Ra)&&!i(ll)&&!i(p_)&&(i(Yh)||i(fP)),device:!i(Ra)&&(i(ll)||i(Yh)||i(p_)||i(fP))||i(/\bokhttp\b/i)},windows:{phone:i(Ra),tablet:i(cP),device:i(Ra)||i(cP)},other:{blackberry:i(hP),blackberry10:i(dP),opera:i(pP),firefox:i(mP),chrome:i(vP),device:i(hP)||i(dP)||i(pP)||i(mP)||i(vP)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ei=wde(globalThis.navigator);function Sde(t){var e=!0;if(Ei.tablet||Ei.phone){if(Ei.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Ei.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function Cde(){return!Ei.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _P;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(_P||(_P={}));var yP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yP||(yP={}));var xP;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(xP||(xP={}));var bP;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(bP||(bP={}));var EP;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(EP||(EP={}));var wP;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(wP||(wP={}));var SP;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(SP||(SP={}));var CP;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(CP||(CP={}));var TP;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(TP||(TP={}));var $x;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})($x||($x={}));var Vx;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Vx||(Vx={}));var Gx;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Gx||(Gx={}));var AP;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(AP||(AP={}));var IP;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(IP||(IP={}));var Xx;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Xx||(Xx={}));var tc;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(tc||(tc={}));var RP;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(RP||(RP={}));var Hx;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Hx||(Hx={}));var PP;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(PP||(PP={}));var Ye={MIPMAP_TEXTURES:Gx.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Hx.NONE,SPRITE_MAX_TEXTURES:Sde(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Xx.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Vx.CLAMP,SCALE_MODE:$x.LINEAR,PRECISION_VERTEX:tc.HIGH,PRECISION_FRAGMENT:Ei.apple.device?tc.HIGH:tc.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Cde(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},vD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,l,u){this.fn=f,this.context=l,this.once=u||!1}function a(f,l,u,c,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,c||f,h),d=r?r+l:l;return f._events[d]?f._events[d].fn?f._events[d]=[f._events[d],p]:f._events[d].push(p):(f._events[d]=p,f._eventsCount++),f}function o(f,l){--f._eventsCount===0?f._events=new n:delete f._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,c;if(this._eventsCount===0)return l;for(c in u=this._events)e.call(u,c)&&l.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,p=c.length,d=new Array(p);h<p;h++)d[h]=c[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,c=this._events[u];return c?c.fn?1:c.length:0},s.prototype.emit=function(l,u,c,h,p,d){var m=r?r+l:l;if(!this._events[m])return!1;var _=this._events[m],v=arguments.length,g,y;if(_.fn){switch(_.once&&this.removeListener(l,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,c),!0;case 4:return _.fn.call(_.context,u,c,h),!0;case 5:return _.fn.call(_.context,u,c,h,p),!0;case 6:return _.fn.call(_.context,u,c,h,p,d),!0}for(y=1,g=new Array(v-1);y<v;y++)g[y-1]=arguments[y];_.fn.apply(_.context,g)}else{var x=_.length,b;for(y=0;y<x;y++)switch(_[y].once&&this.removeListener(l,_[y].fn,void 0,!0),v){case 1:_[y].fn.call(_[y].context);break;case 2:_[y].fn.call(_[y].context,u);break;case 3:_[y].fn.call(_[y].context,u,c);break;case 4:_[y].fn.call(_[y].context,u,c,h);break;default:if(!g)for(b=1,g=new Array(v-1);b<v;b++)g[b-1]=arguments[b];_[y].fn.apply(_[y].context,g)}}return!0},s.prototype.on=function(l,u,c){return a(this,l,u,c,!1)},s.prototype.once=function(l,u,c){return a(this,l,u,c,!0)},s.prototype.removeListener=function(l,u,c,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!c||d.context===c)&&o(this,p);else{for(var m=0,_=[],v=d.length;m<v;m++)(d[m].fn!==u||h&&!d[m].once||c&&d[m].context!==c)&&_.push(d[m]);_.length?this._events[p]=_.length===1?_[0]:_:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(vD);var Tde=vD.exports;const qs=Cn(Tde);var gS={exports:{}};gS.exports=Rv;gS.exports.default=Rv;function Rv(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=mD(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,f,l,u,c,h,p;if(n&&(a=Ode(t,e,a,r)),t.length>80*r){s=l=t[0],f=u=t[1];for(var d=r;d<i;d+=r)c=t[d],h=t[d+1],c<s&&(s=c),h<f&&(f=h),c>l&&(l=c),h>u&&(u=h);p=Math.max(l-s,u-f),p=p!==0?32767/p:0}return Pc(a,o,r,s,f,p,0),o}function mD(t,e,r,n,i){var a,o;if(i===Yx(t,e,r,n)>0)for(a=e;a<r;a+=n)o=OP(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=OP(a,t[a],t[a+1],o);return o&&Pv(o,o.next)&&(kc(o),o=o.next),o}function Ls(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Pv(r,r.next)||mr(r.prev,r,r.next)===0)){if(kc(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Pc(t,e,r,n,i,a,o){if(t){!o&&a&&Bde(t,n,i,a);for(var s=t,f,l;t.prev!==t.next;){if(f=t.prev,l=t.next,a?Ide(t,n,i,a):Ade(t)){e.push(f.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),kc(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=Rde(Ls(t),e,r),Pc(t,e,r,n,i,a,2)):o===2&&Pde(t,e,r,n,i,a):Pc(Ls(t),e,r,n,i,a,1);break}}}}function Ade(t){var e=t.prev,r=t,n=t.next;if(mr(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,f=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,c=s<f?s<l?s:l:f<l?f:l,h=i>a?i>o?i:o:a>o?a:o,p=s>f?s>l?s:l:f>l?f:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=c&&d.y<=p&&Fl(i,s,a,f,o,l,d.x,d.y)&&mr(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function Ide(t,e,r,n){var i=t.prev,a=t,o=t.next;if(mr(i,a,o)>=0)return!1;for(var s=i.x,f=a.x,l=o.x,u=i.y,c=a.y,h=o.y,p=s<f?s<l?s:l:f<l?f:l,d=u<c?u<h?u:h:c<h?c:h,m=s>f?s>l?s:l:f>l?f:l,_=u>c?u>h?u:h:c>h?c:h,v=zx(p,d,e,r,n),g=zx(m,_,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=v&&x&&x.z<=g;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&Fl(s,u,f,c,l,h,y.x,y.y)&&mr(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&Fl(s,u,f,c,l,h,x.x,x.y)&&mr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&Fl(s,u,f,c,l,h,y.x,y.y)&&mr(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&Fl(s,u,f,c,l,h,x.x,x.y)&&mr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Rde(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!Pv(i,a)&&gD(i,n,n.next,a)&&Oc(i,a)&&Oc(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),kc(n),kc(n.next),n=t=a),n=n.next}while(n!==t);return Ls(n)}function Pde(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ude(o,s)){var f=_D(o,s);o=Ls(o,o.next),f=Ls(f,f.next),Pc(o,e,r,n,i,a,0),Pc(f,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function Ode(t,e,r,n){var i=[],a,o,s,f,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,f=a<o-1?e[a+1]*n:t.length,l=mD(t,s,f,n,!1),l===l.next&&(l.steiner=!0),i.push(Dde(l));for(i.sort(kde),a=0;a<i.length;a++)r=Fde(i[a],r);return r}function kde(t,e){return t.x-e.x}function Fde(t,e){var r=Nde(t,e);if(!r)return e;var n=_D(r,t);return Ls(n,n.next),Ls(r,r.next)}function Nde(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var f=o,l=o.x,u=o.y,c=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Fl(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Oc(r,t)&&(h<c||h===c&&(r.x>o.x||r.x===o.x&&Lde(o,r)))&&(o=r,c=h)),r=r.next;while(r!==f);return o}function Lde(t,e){return mr(t.prev,t,e.prev)<0&&mr(e.next,t,t.next)<0}function Bde(t,e,r,n){var i=t;do i.z===0&&(i.z=zx(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Mde(i)}function Mde(t){var e,r,n,i,a,o,s,f,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(f=l;s>0||f>0&&n;)s!==0&&(f===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,f--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function zx(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Dde(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Fl(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function Ude(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jde(t,e)&&(Oc(t,e)&&Oc(e,t)&&$de(t,e)&&(mr(t.prev,t,e.prev)||mr(t,e.prev,e))||Pv(t,e)&&mr(t.prev,t,t.next)>0&&mr(e.prev,e,e.next)>0)}function mr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Pv(t,e){return t.x===e.x&&t.y===e.y}function gD(t,e,r,n){var i=Kh(mr(t,e,r)),a=Kh(mr(t,e,n)),o=Kh(mr(r,n,t)),s=Kh(mr(r,n,e));return!!(i!==a&&o!==s||i===0&&qh(t,r,e)||a===0&&qh(t,n,e)||o===0&&qh(r,t,n)||s===0&&qh(r,e,n))}function qh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Kh(t){return t>0?1:t<0?-1:0}function jde(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&gD(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Oc(t,e){return mr(t.prev,t,t.next)<0?mr(t,e,t.next)>=0&&mr(t,t.prev,e)>=0:mr(t,e,t.prev)<0||mr(t,t.next,e)<0}function $de(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function _D(t,e){var r=new Wx(t.i,t.x,t.y),n=new Wx(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function OP(t,e,r,n){var i=new Wx(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function kc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wx(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rv.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(Yx(t,0,a,r));if(i)for(var s=0,f=e.length;s<f;s++){var l=e[s]*r,u=s<f-1?e[s+1]*r:t.length;o-=Math.abs(Yx(t,l,u,r))}var c=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;c+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Yx(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}Rv.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Vde=gS.exports;const _S=Cn(Vde);var U0={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */U0.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof nt=="object"&&nt;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,f=36,l=1,u=26,c=38,h=700,p=72,d=128,m="-",_=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-l,b=Math.floor,E=String.fromCharCode,w;function S(G){throw new RangeError(y[G])}function C(G,L){for(var j=G.length,M=[];j--;)M[j]=L(G[j]);return M}function T(G,L){var j=G.split("@"),M="";j.length>1&&(M=j[0]+"@",G=j[1]),G=G.replace(g,".");var D=G.split("."),J=C(D,L).join(".");return M+J}function I(G){for(var L=[],j=0,M=G.length,D,J;j<M;)D=G.charCodeAt(j++),D>=55296&&D<=56319&&j<M?(J=G.charCodeAt(j++),(J&64512)==56320?L.push(((D&1023)<<10)+(J&1023)+65536):(L.push(D),j--)):L.push(D);return L}function A(G){return C(G,function(L){var j="";return L>65535&&(L-=65536,j+=E(L>>>10&1023|55296),L=56320|L&1023),j+=E(L),j}).join("")}function R(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:f}function O(G,L){return G+22+75*(G<26)-((L!=0)<<5)}function F(G,L,j){var M=0;for(G=j?b(G/h):G>>1,G+=b(G/L);G>x*u>>1;M+=f)G=b(G/x);return b(M+(x+1)*G/(G+c))}function N(G){var L=[],j=G.length,M,D=0,J=d,Q=p,se,re,fe,we,Ee,pe,ve,Ae,ke;for(se=G.lastIndexOf(m),se<0&&(se=0),re=0;re<se;++re)G.charCodeAt(re)>=128&&S("not-basic"),L.push(G.charCodeAt(re));for(fe=se>0?se+1:0;fe<j;){for(we=D,Ee=1,pe=f;fe>=j&&S("invalid-input"),ve=R(G.charCodeAt(fe++)),(ve>=f||ve>b((s-D)/Ee))&&S("overflow"),D+=ve*Ee,Ae=pe<=Q?l:pe>=Q+u?u:pe-Q,!(ve<Ae);pe+=f)ke=f-Ae,Ee>b(s/ke)&&S("overflow"),Ee*=ke;M=L.length+1,Q=F(D-we,M,we==0),b(D/M)>s-J&&S("overflow"),J+=b(D/M),D%=M,L.splice(D++,0,J)}return A(L)}function $(G){var L,j,M,D,J,Q,se,re,fe,we,Ee,pe=[],ve,Ae,ke,Te;for(G=I(G),ve=G.length,L=d,j=0,J=p,Q=0;Q<ve;++Q)Ee=G[Q],Ee<128&&pe.push(E(Ee));for(M=D=pe.length,D&&pe.push(m);M<ve;){for(se=s,Q=0;Q<ve;++Q)Ee=G[Q],Ee>=L&&Ee<se&&(se=Ee);for(Ae=M+1,se-L>b((s-j)/Ae)&&S("overflow"),j+=(se-L)*Ae,L=se,Q=0;Q<ve;++Q)if(Ee=G[Q],Ee<L&&++j>s&&S("overflow"),Ee==L){for(re=j,fe=f;we=fe<=J?l:fe>=J+u?u:fe-J,!(re<we);fe+=f)Te=re-we,ke=f-we,pe.push(E(O(we+Te%ke,0))),re=b(Te/ke);pe.push(E(O(re,0))),J=F(j,Ae,M==D),j=0,++M}++j,++L}return pe.join("")}function q(G){return T(G,function(L){return _.test(L)?N(L.slice(4).toLowerCase()):L})}function K(G){return T(G,function(L){return v.test(L)?"xn--"+$(L):L})}if(o={version:"1.4.1",ucs2:{decode:I,encode:A},decode:N,encode:$,toASCII:K,toUnicode:q},n&&i)if(t.exports==n)i.exports=o;else for(w in o)o.hasOwnProperty(w)&&(n[w]=o[w]);else r.punycode=o})(nt)})(U0,U0.exports);var Gde=U0.exports,Xde=Error,Hde=EvalError,zde=RangeError,Wde=ReferenceError,yD=SyntaxError,xh=TypeError,Yde=URIError,qde=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},kP=typeof Symbol<"u"&&Symbol,Kde=qde,Zde=function(){return typeof kP!="function"||typeof Symbol!="function"||typeof kP("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Kde()},v_={__proto__:null,foo:{}},Jde=Object,Qde=function(){return{__proto__:v_}.foo===v_.foo&&!(v_ instanceof Jde)},e0e="Function.prototype.bind called on incompatible ",t0e=Object.prototype.toString,r0e=Math.max,n0e="[object Function]",FP=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},i0e=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},a0e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},o0e=function(e){var r=this;if(typeof r!="function"||t0e.apply(r)!==n0e)throw new TypeError(e0e+r);for(var n=i0e(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,FP(n,arguments));return Object(u)===u?u:this}return r.apply(e,FP(n,arguments))},o=r0e(0,r.length-n.length),s=[],f=0;f<o;f++)s[f]="$"+f;if(i=Function("binder","return function ("+a0e(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},s0e=o0e,yS=Function.prototype.bind||s0e,l0e=Function.prototype.call,u0e=Object.prototype.hasOwnProperty,f0e=yS,c0e=f0e.call(l0e,u0e),Tt,h0e=Xde,d0e=Hde,p0e=zde,v0e=Wde,cu=yD,Zl=xh,m0e=Yde,xD=Function,m_=function(t){try{return xD('"use strict"; return ('+t+").constructor;")()}catch{}},Ts=Object.getOwnPropertyDescriptor;if(Ts)try{Ts({},"")}catch{Ts=null}var g_=function(){throw new Zl},g0e=Ts?function(){try{return arguments.callee,g_}catch{try{return Ts(arguments,"callee").get}catch{return g_}}}():g_,ul=Zde(),_0e=Qde(),sn=Object.getPrototypeOf||(_0e?function(t){return t.__proto__}:null),El={},y0e=typeof Uint8Array>"u"||!sn?Tt:sn(Uint8Array),As={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Tt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Tt:ArrayBuffer,"%ArrayIteratorPrototype%":ul&&sn?sn([][Symbol.iterator]()):Tt,"%AsyncFromSyncIteratorPrototype%":Tt,"%AsyncFunction%":El,"%AsyncGenerator%":El,"%AsyncGeneratorFunction%":El,"%AsyncIteratorPrototype%":El,"%Atomics%":typeof Atomics>"u"?Tt:Atomics,"%BigInt%":typeof BigInt>"u"?Tt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Tt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Tt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Tt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":h0e,"%eval%":eval,"%EvalError%":d0e,"%Float32Array%":typeof Float32Array>"u"?Tt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Tt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Tt:FinalizationRegistry,"%Function%":xD,"%GeneratorFunction%":El,"%Int8Array%":typeof Int8Array>"u"?Tt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Tt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Tt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ul&&sn?sn(sn([][Symbol.iterator]())):Tt,"%JSON%":typeof JSON=="object"?JSON:Tt,"%Map%":typeof Map>"u"?Tt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ul||!sn?Tt:sn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Tt:Promise,"%Proxy%":typeof Proxy>"u"?Tt:Proxy,"%RangeError%":p0e,"%ReferenceError%":v0e,"%Reflect%":typeof Reflect>"u"?Tt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Tt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ul||!sn?Tt:sn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Tt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ul&&sn?sn(""[Symbol.iterator]()):Tt,"%Symbol%":ul?Symbol:Tt,"%SyntaxError%":cu,"%ThrowTypeError%":g0e,"%TypedArray%":y0e,"%TypeError%":Zl,"%Uint8Array%":typeof Uint8Array>"u"?Tt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Tt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Tt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Tt:Uint32Array,"%URIError%":m0e,"%WeakMap%":typeof WeakMap>"u"?Tt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Tt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Tt:WeakSet};if(sn)try{null.error}catch(t){var x0e=sn(sn(t));As["%Error.prototype%"]=x0e}var b0e=function t(e){var r;if(e==="%AsyncFunction%")r=m_("async function () {}");else if(e==="%GeneratorFunction%")r=m_("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=m_("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&sn&&(r=sn(i.prototype))}return As[e]=r,r},NP={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bh=yS,j0=c0e,E0e=bh.call(Function.call,Array.prototype.concat),w0e=bh.call(Function.apply,Array.prototype.splice),LP=bh.call(Function.call,String.prototype.replace),$0=bh.call(Function.call,String.prototype.slice),S0e=bh.call(Function.call,RegExp.prototype.exec),C0e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T0e=/\\(\\)?/g,A0e=function(e){var r=$0(e,0,1),n=$0(e,-1);if(r==="%"&&n!=="%")throw new cu("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new cu("invalid intrinsic syntax, expected opening `%`");var i=[];return LP(e,C0e,function(a,o,s,f){i[i.length]=s?LP(f,T0e,"$1"):o||a}),i},I0e=function(e,r){var n=e,i;if(j0(NP,n)&&(i=NP[n],n="%"+i[0]+"%"),j0(As,n)){var a=As[n];if(a===El&&(a=b0e(n)),typeof a>"u"&&!r)throw new Zl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new cu("intrinsic "+e+" does not exist!")},Xu=function(e,r){if(typeof e!="string"||e.length===0)throw new Zl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zl('"allowMissing" argument must be a boolean');if(S0e(/^%?[^%]*%?$/,e)===null)throw new cu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A0e(e),i=n.length>0?n[0]:"",a=I0e("%"+i+"%",r),o=a.name,s=a.value,f=!1,l=a.alias;l&&(i=l[0],w0e(n,E0e([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var h=n[u],p=$0(h,0,1),d=$0(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new cu("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(f=!0),i+="."+h,o="%"+i+"%",j0(As,o))s=As[o];else if(s!=null){if(!(h in s)){if(!r)throw new Zl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ts&&u+1>=n.length){var m=Ts(s,h);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[h]}else c=j0(s,h),s=s[h];c&&!f&&(As[o]=s)}}return s},bD={exports:{}},__,BP;function xS(){if(BP)return __;BP=1;var t=Xu,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return __=e,__}var R0e=Xu,Wd=R0e("%Object.getOwnPropertyDescriptor%",!0);if(Wd)try{Wd([],"length")}catch{Wd=null}var ED=Wd,MP=xS(),P0e=yD,fl=xh,DP=ED,O0e=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new fl("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new fl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new fl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new fl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new fl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new fl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,f=!!DP&&DP(e,r);if(MP)MP(e,r,{configurable:o===null&&f?f.configurable:!o,enumerable:i===null&&f?f.enumerable:!i,value:n,writable:a===null&&f?f.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new P0e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qx=xS(),wD=function(){return!!qx};wD.hasArrayLengthDefineBug=function(){if(!qx)return null;try{return qx([],"length",{value:1}).length!==1}catch{return!0}};var k0e=wD,F0e=Xu,UP=O0e,N0e=k0e(),jP=ED,$P=xh,L0e=F0e("%Math.floor%"),B0e=function(e,r){if(typeof e!="function")throw new $P("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||L0e(r)!==r)throw new $P("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&jP){var o=jP(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(N0e?UP(e,"length",r,!0,!0):UP(e,"length",r)),e};(function(t){var e=yS,r=Xu,n=B0e,i=xh,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),f=xS(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};f?f(t.exports,"apply",{value:u}):t.exports.apply=u})(bD);var M0e=bD.exports,SD=Xu,CD=M0e,D0e=CD(SD("String.prototype.indexOf")),U0e=function(e,r){var n=SD(e,!!r);return typeof n=="function"&&D0e(e,".prototype.")>-1?CD(n):n},bS=typeof Map=="function"&&Map.prototype,y_=Object.getOwnPropertyDescriptor&&bS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,V0=bS&&y_&&typeof y_.get=="function"?y_.get:null,VP=bS&&Map.prototype.forEach,ES=typeof Set=="function"&&Set.prototype,x_=Object.getOwnPropertyDescriptor&&ES?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,G0=ES&&x_&&typeof x_.get=="function"?x_.get:null,GP=ES&&Set.prototype.forEach,j0e=typeof WeakMap=="function"&&WeakMap.prototype,rc=j0e?WeakMap.prototype.has:null,$0e=typeof WeakSet=="function"&&WeakSet.prototype,nc=$0e?WeakSet.prototype.has:null,V0e=typeof WeakRef=="function"&&WeakRef.prototype,XP=V0e?WeakRef.prototype.deref:null,G0e=Boolean.prototype.valueOf,X0e=Object.prototype.toString,H0e=Function.prototype.toString,z0e=String.prototype.match,wS=String.prototype.slice,vo=String.prototype.replace,W0e=String.prototype.toUpperCase,HP=String.prototype.toLowerCase,TD=RegExp.prototype.test,zP=Array.prototype.concat,aa=Array.prototype.join,Y0e=Array.prototype.slice,WP=Math.floor,Kx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,b_=Object.getOwnPropertySymbols,Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Nn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hu||"symbol")?Symbol.toStringTag:null,AD=Object.prototype.propertyIsEnumerable,YP=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function qP(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||TD.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-WP(-t):WP(t);if(n!==t){var i=String(n),a=wS.call(e,i.length+1);return vo.call(i,r,"$&_")+"."+vo.call(vo.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return vo.call(e,r,"$&_")}var Jx=IM,KP=Jx.custom,ZP=RD(KP)?KP:null,q0e=function t(e,r,n,i){var a=r||{};if(oo(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oo(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=oo(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oo(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oo(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return OD(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return s?qP(e,f):f}if(typeof e=="bigint"){var l=String(e)+"n";return s?qP(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return Qx(e)?"[Array]":"[Object]";var c=dpe(a,n);if(typeof i>"u")i=[];else if(PD(i,e)>=0)return"[Circular]";function h(R,O,F){if(O&&(i=Y0e.call(i),i.push(O)),F){var N={depth:a.depth};return oo(a,"quoteStyle")&&(N.quoteStyle=a.quoteStyle),t(R,N,n+1,i)}return t(R,a,n+1,i)}if(typeof e=="function"&&!JP(e)){var p=ipe(e),d=Zh(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+aa.call(d,", ")+" }":"")}if(RD(e)){var m=hu?vo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Zx.call(e);return typeof e=="object"&&!hu?mf(m):m}if(fpe(e)){for(var _="<"+HP.call(String(e.nodeName)),v=e.attributes||[],g=0;g<v.length;g++)_+=" "+v[g].name+"="+ID(K0e(v[g].value),"double",a);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+HP.call(String(e.nodeName))+">",_}if(Qx(e)){if(e.length===0)return"[]";var y=Zh(e,h);return c&&!hpe(y)?"["+e1(y,c)+"]":"[ "+aa.call(y,", ")+" ]"}if(J0e(e)){var x=Zh(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!AD.call(e,"cause")?"{ ["+String(e)+"] "+aa.call(zP.call("[cause]: "+h(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+aa.call(x,", ")+" }"}if(typeof e=="object"&&o){if(ZP&&typeof e[ZP]=="function"&&Jx)return Jx(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ape(e)){var b=[];return VP&&VP.call(e,function(R,O){b.push(h(O,e,!0)+" => "+h(R,e))}),QP("Map",V0.call(e),b,c)}if(lpe(e)){var E=[];return GP&&GP.call(e,function(R){E.push(h(R,e))}),QP("Set",G0.call(e),E,c)}if(ope(e))return E_("WeakMap");if(upe(e))return E_("WeakSet");if(spe(e))return E_("WeakRef");if(epe(e))return mf(h(Number(e)));if(rpe(e))return mf(h(Kx.call(e)));if(tpe(e))return mf(G0e.call(e));if(Q0e(e))return mf(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===nt)return"{ [object globalThis] }";if(!Z0e(e)&&!JP(e)){var w=Zh(e,h),S=YP?YP(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",T=!S&&Nn&&Object(e)===e&&Nn in e?wS.call(Wo(e),8,-1):C?"Object":"",I=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",A=I+(T||C?"["+aa.call(zP.call([],T||[],C||[]),": ")+"] ":"");return w.length===0?A+"{}":c?A+"{"+e1(w,c)+"}":A+"{ "+aa.call(w,", ")+" }"}return String(e)};function ID(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function K0e(t){return vo.call(String(t),/"/g,"&quot;")}function Qx(t){return Wo(t)==="[object Array]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function Z0e(t){return Wo(t)==="[object Date]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function JP(t){return Wo(t)==="[object RegExp]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function J0e(t){return Wo(t)==="[object Error]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function Q0e(t){return Wo(t)==="[object String]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function epe(t){return Wo(t)==="[object Number]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function tpe(t){return Wo(t)==="[object Boolean]"&&(!Nn||!(typeof t=="object"&&Nn in t))}function RD(t){if(hu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Zx)return!1;try{return Zx.call(t),!0}catch{}return!1}function rpe(t){if(!t||typeof t!="object"||!Kx)return!1;try{return Kx.call(t),!0}catch{}return!1}var npe=Object.prototype.hasOwnProperty||function(t){return t in this};function oo(t,e){return npe.call(t,e)}function Wo(t){return X0e.call(t)}function ipe(t){if(t.name)return t.name;var e=z0e.call(H0e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function PD(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ape(t){if(!V0||!t||typeof t!="object")return!1;try{V0.call(t);try{G0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ope(t){if(!rc||!t||typeof t!="object")return!1;try{rc.call(t,rc);try{nc.call(t,nc)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function spe(t){if(!XP||!t||typeof t!="object")return!1;try{return XP.call(t),!0}catch{}return!1}function lpe(t){if(!G0||!t||typeof t!="object")return!1;try{G0.call(t);try{V0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function upe(t){if(!nc||!t||typeof t!="object")return!1;try{nc.call(t,nc);try{rc.call(t,rc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function fpe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function OD(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return OD(wS.call(t,0,e.maxStringLength),e)+n}var i=vo.call(vo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,cpe);return ID(i,"single",e)}function cpe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+W0e.call(e.toString(16))}function mf(t){return"Object("+t+")"}function E_(t){return t+" { ? }"}function QP(t,e,r,n){var i=n?e1(r,n):aa.call(r,", ");return t+" ("+e+") {"+i+"}"}function hpe(t){for(var e=0;e<t.length;e++)if(PD(t[e],`
`)>=0)return!1;return!0}function dpe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=aa.call(Array(t.indent+1)," ");else return null;return{base:r,prev:aa.call(Array(e+1),r)}}function e1(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+aa.call(t,","+r)+`
`+e.prev}function Zh(t,e){var r=Qx(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=oo(t,i)?e(t[i],t):""}var a=typeof b_=="function"?b_(t):[],o;if(hu){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var f in t)oo(t,f)&&(r&&String(Number(f))===f&&f<t.length||hu&&o["$"+f]instanceof Symbol||(TD.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if(typeof b_=="function")for(var l=0;l<a.length;l++)AD.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var kD=Xu,Hu=U0e,ppe=q0e,vpe=xh,Jh=kD("%WeakMap%",!0),Qh=kD("%Map%",!0),mpe=Hu("WeakMap.prototype.get",!0),gpe=Hu("WeakMap.prototype.set",!0),_pe=Hu("WeakMap.prototype.has",!0),ype=Hu("Map.prototype.get",!0),xpe=Hu("Map.prototype.set",!0),bpe=Hu("Map.prototype.has",!0),SS=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Epe=function(t,e){var r=SS(t,e);return r&&r.value},wpe=function(t,e,r){var n=SS(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Spe=function(t,e){return!!SS(t,e)},Cpe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new vpe("Side channel does not contain "+ppe(a))},get:function(a){if(Jh&&a&&(typeof a=="object"||typeof a=="function")){if(e)return mpe(e,a)}else if(Qh){if(r)return ype(r,a)}else if(n)return Epe(n,a)},has:function(a){if(Jh&&a&&(typeof a=="object"||typeof a=="function")){if(e)return _pe(e,a)}else if(Qh){if(r)return bpe(r,a)}else if(n)return Spe(n,a);return!1},set:function(a,o){Jh&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Jh),gpe(e,a,o)):Qh?(r||(r=new Qh),xpe(r,a,o)):(n||(n={key:{},next:null}),wpe(n,a,o))}};return i},Tpe=String.prototype.replace,Ape=/%20/g,w_={RFC1738:"RFC1738",RFC3986:"RFC3986"},CS={default:w_.RFC3986,formatters:{RFC1738:function(t){return Tpe.call(t,Ape,"+")},RFC3986:function(t){return String(t)}},RFC1738:w_.RFC1738,RFC3986:w_.RFC3986},Ipe=CS,S_=Object.prototype.hasOwnProperty,cs=Array.isArray,Qi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Rpe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(cs(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},FD=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Ppe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(cs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!S_.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return cs(e)&&!cs(r)&&(i=FD(e,n)),cs(e)&&cs(r)?(r.forEach(function(a,o){if(S_.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return S_.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},Ope=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},kpe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Fpe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",f=0;f<o.length;++f){var l=o.charCodeAt(f);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===Ipe.RFC1738&&(l===40||l===41)){s+=o.charAt(f);continue}if(l<128){s=s+Qi[l];continue}if(l<2048){s=s+(Qi[192|l>>6]+Qi[128|l&63]);continue}if(l<55296||l>=57344){s=s+(Qi[224|l>>12]+Qi[128|l>>6&63]+Qi[128|l&63]);continue}f+=1,l=65536+((l&1023)<<10|o.charCodeAt(f)&1023),s+=Qi[240|l>>18]+Qi[128|l>>12&63]+Qi[128|l>>6&63]+Qi[128|l&63]}return s},Npe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),f=0;f<s.length;++f){var l=s[f],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return Rpe(r),e},Lpe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Bpe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Mpe=function(e,r){return[].concat(e,r)},Dpe=function(e,r){if(cs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ND={arrayToObject:FD,assign:Ope,combine:Mpe,compact:Npe,decode:kpe,encode:Fpe,isBuffer:Bpe,isRegExp:Lpe,maybeMap:Dpe,merge:Ppe},LD=Cpe,Yd=ND,ic=CS,Upe=Object.prototype.hasOwnProperty,BD={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ra=Array.isArray,jpe=Array.prototype.push,MD=function(t,e){jpe.apply(t,ra(e)?e:[e])},$pe=Date.prototype.toISOString,eO=ic.default,zr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Yd.encode,encodeValuesOnly:!1,format:eO,formatter:ic.formatters[eO],indices:!1,serializeDate:function(e){return $pe.call(e)},skipNulls:!1,strictNullHandling:!1},Vpe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},C_={},Gpe=function t(e,r,n,i,a,o,s,f,l,u,c,h,p,d,m,_,v,g){for(var y=e,x=g,b=0,E=!1;(x=x.get(C_))!==void 0&&!E;){var w=x.get(e);if(b+=1,typeof w<"u"){if(w===b)throw new RangeError("Cyclic object value");E=!0}typeof x.get(C_)>"u"&&(b=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&ra(y)&&(y=Yd.maybeMap(y,function(G){return G instanceof Date?p(G):G})),y===null){if(o)return l&&!_?l(r,zr.encoder,v,"key",d):r;y=""}if(Vpe(y)||Yd.isBuffer(y)){if(l){var S=_?r:l(r,zr.encoder,v,"key",d);return[m(S)+"="+m(l(y,zr.encoder,v,"value",d))]}return[m(r)+"="+m(String(y))]}var C=[];if(typeof y>"u")return C;var T;if(n==="comma"&&ra(y))_&&l&&(y=Yd.maybeMap(y,l)),T=[{value:y.length>0?y.join(",")||null:void 0}];else if(ra(u))T=u;else{var I=Object.keys(y);T=c?I.sort(c):I}var A=f?r.replace(/\./g,"%2E"):r,R=i&&ra(y)&&y.length===1?A+"[]":A;if(a&&ra(y)&&y.length===0)return R+"[]";for(var O=0;O<T.length;++O){var F=T[O],N=typeof F=="object"&&typeof F.value<"u"?F.value:y[F];if(!(s&&N===null)){var $=h&&f?F.replace(/\./g,"%2E"):F,q=ra(y)?typeof n=="function"?n(R,$):R:R+(h?"."+$:"["+$+"]");g.set(e,b);var K=LD();K.set(C_,g),MD(C,t(N,q,n,i,a,o,s,f,n==="comma"&&_&&ra(y)?null:l,u,c,h,p,d,m,_,v,K))}}return C},Xpe=function(e){if(!e)return zr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||zr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ic.default;if(typeof e.format<"u"){if(!Upe.call(ic.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ic.formatters[n],a=zr.filter;(typeof e.filter=="function"||ra(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in BD?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=zr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:zr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:zr.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:zr.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zr.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?zr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:zr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:zr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:zr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:zr.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:zr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:zr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zr.strictNullHandling}},Hpe=function(t,e){var r=t,n=Xpe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ra(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=BD[n.arrayFormat],f=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=LD(),u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||MD(o,Gpe(r[c],c,s,f,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},du=ND,t1=Object.prototype.hasOwnProperty,zpe=Array.isArray,Rr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:du.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Wpe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},DD=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Ype="utf8=%26%2310003%3B",qpe="utf8=%E2%9C%93",Kpe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,f,l=r.charset;if(r.charsetSentinel)for(f=0;f<o.length;++f)o[f].indexOf("utf8=")===0&&(o[f]===qpe?l="utf-8":o[f]===Ype&&(l="iso-8859-1"),s=f,f=o.length);for(f=0;f<o.length;++f)if(f!==s){var u=o[f],c=u.indexOf("]="),h=c===-1?u.indexOf("="):c+1,p,d;h===-1?(p=r.decoder(u,Rr.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),Rr.decoder,l,"key"),d=du.maybeMap(DD(u.slice(h+1),r),function(_){return r.decoder(_,Rr.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=Wpe(d)),u.indexOf("[]=")>-1&&(d=zpe(d)?[d]:d);var m=t1.call(n,p);m&&r.duplicates==="combine"?n[p]=du.combine(n[p],d):(!m||r.duplicates==="last")&&(n[p]=d)}return n},Zpe=function(t,e,r,n){for(var i=n?e:DD(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var f=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},Jpe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,f=n.depth>0&&o.exec(a),l=f?a.slice(0,f.index):a,u=[];if(l){if(!n.plainObjects&&t1.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var c=0;n.depth>0&&(f=s.exec(a))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&t1.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(f[1])}return f&&u.push("["+a.slice(f.index)+"]"),Zpe(u,r,n,i)}},Qpe=function(e){if(!e)return Rr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Rr.charset:e.charset,n=typeof e.duplicates>"u"?Rr.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Rr.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Rr.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Rr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Rr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Rr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Rr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Rr.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Rr.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Rr.decoder,delimiter:typeof e.delimiter=="string"||du.isRegExp(e.delimiter)?e.delimiter:Rr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Rr.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Rr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Rr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Rr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Rr.strictNullHandling}},eve=function(t,e){var r=Qpe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Kpe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],f=Jpe(s,n[s],r,typeof t=="string");i=du.merge(i,f,r)}return r.allowSparse===!0?i:du.compact(i)},tve=Hpe,rve=eve,nve=CS,ive={formats:nve,parse:rve,stringify:tve},ave=Gde;function Hi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ove=/^([a-z0-9.+-]+:)/i,sve=/:[0-9]*$/,lve=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,uve=["<",">",'"',"`"," ","\r",`
`,"	"],fve=["{","}","|","\\","^","`"].concat(uve),r1=["'"].concat(fve),tO=["%","/","?",";","#"].concat(r1),rO=["/","?","#"],cve=255,nO=/^[+a-z0-9A-Z_-]{0,63}$/,hve=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,dve={javascript:!0,"javascript:":!0},n1={javascript:!0,"javascript:":!0},Jl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},i1=ive;function Ov(t,e,r){if(t&&typeof t=="object"&&t instanceof Hi)return t;var n=new Hi;return n.parse(t,e,r),n}Hi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var f=lve.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=i1.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=ove.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var c=s.substr(0,2)==="//";c&&!(l&&n1[l])&&(s=s.substr(2),this.slashes=!0)}if(!n1[l]&&(c||l&&!Jl[l])){for(var h=-1,p=0;p<rO.length;p++){var d=s.indexOf(rO[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var m,_;h===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",h),_!==-1&&(m=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(m)),h=-1;for(var p=0;p<tO.length;p++){var d=s.indexOf(tO[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var g=this.hostname.split(/\./),p=0,y=g.length;p<y;p++){var x=g[p];if(x&&!x.match(nO)){for(var b="",E=0,w=x.length;E<w;E++)x.charCodeAt(E)>127?b+="x":b+=x[E];if(!b.match(nO)){var S=g.slice(0,p),C=g.slice(p+1),T=x.match(hve);T&&(S.push(T[1]),C.unshift(T[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>cve?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=ave.toASCII(this.hostname));var I=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!dve[u])for(var p=0,y=r1.length;p<y;p++){var R=r1[p];if(s.indexOf(R)!==-1){var O=encodeURIComponent(R);O===R&&(O=escape(R)),s=s.split(R).join(O)}}var F=s.indexOf("#");F!==-1&&(this.hash=s.substr(F),s=s.slice(0,F));var N=s.indexOf("?");if(N!==-1?(this.search=s.substr(N),this.query=s.substr(N+1),e&&(this.query=i1.parse(this.query)),s=s.slice(0,N)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Jl[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",$=this.search||"";this.path=I+$}return this.href=this.format(),this};function pve(t){return typeof t=="string"&&(t=Ov(t)),t instanceof Hi?t.format():Hi.prototype.format.call(t)}Hi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=i1.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Jl[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function vve(t,e){return Ov(t,!1,!0).resolve(e)}Hi.prototype.resolve=function(t){return this.resolveObject(Ov(t,!1,!0)).format()};Hi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Hi;e.parse(t,!1,!0),t=e}for(var r=new Hi,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var f=o[s];f!=="protocol"&&(r[f]=t[f])}return Jl[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Jl[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!n1[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=m||d||r.host&&t.pathname,v=_,g=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Jl[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),_=_&&(y[0]===""||g[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=y;else if(y.length)g||(g=[]),g.pop(),g=g.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=g.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=g.slice(-1)[0],w=(r.host||t.host||g.length>1)&&(E==="."||E==="..")||E==="",S=0,C=g.length;C>=0;C--)E=g[C],E==="."?g.splice(C,1):E===".."?(g.splice(C,1),S++):S&&(g.splice(C,1),S--);if(!_&&!v)for(;S--;S)g.unshift("..");_&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),w&&g.join("/").substr(-1)!=="/"&&g.push("");var T=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(x){r.hostname=T?"":g.length?g.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return _=_||r.host&&g.length,_&&!T&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Hi.prototype.parseHost=function(){var t=this.host,e=sve.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var mve=Ov,gve=vve,_ve=pve;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ga;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ga||(ga={}));var pu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(pu||(pu={}));var Fc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Fc||(Fc={}));var $e;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})($e||($e={}));var ai;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ai||(ai={}));var Me;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Me||(Me={}));var Ro;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ro||(Ro={}));var et;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(et||(et={}));var Nc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Nc||(Nc={}));var wn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(wn||(wn={}));var va;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(va||(va={}));var ti;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ti||(ti={}));var Xn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Xn||(Xn={}));var Ma;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Ma||(Ma={}));var X0;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(X0||(X0={}));var Xi;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Xi||(Xi={}));var gn;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(gn||(gn={}));var Pr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Pr||(Pr={}));var zi;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(zi||(zi={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ys={parse:mve,format:_ve,resolve:gve};Ye.RETINA_PREFIX=/@([0-9\.]+)x/;Ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var a1=!1,iO="6.4.2";function yve(){a1=!0}function UD(t){var e;if(!a1){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+iO+" - ✰ "+t+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+iO+" - "+t+" - http://www.pixijs.com/");a1=!0}}var T_;function jD(){return typeof T_>"u"&&(T_=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),T_}var xve="#f0f8ff",bve="#faebd7",Eve="#00ffff",wve="#7fffd4",Sve="#f0ffff",Cve="#f5f5dc",Tve="#ffe4c4",Ave="#000000",Ive="#ffebcd",Rve="#0000ff",Pve="#8a2be2",Ove="#a52a2a",kve="#deb887",Fve="#5f9ea0",Nve="#7fff00",Lve="#d2691e",Bve="#ff7f50",Mve="#6495ed",Dve="#fff8dc",Uve="#dc143c",jve="#00ffff",$ve="#00008b",Vve="#008b8b",Gve="#b8860b",Xve="#a9a9a9",Hve="#006400",zve="#a9a9a9",Wve="#bdb76b",Yve="#8b008b",qve="#556b2f",Kve="#ff8c00",Zve="#9932cc",Jve="#8b0000",Qve="#e9967a",eme="#8fbc8f",tme="#483d8b",rme="#2f4f4f",nme="#2f4f4f",ime="#00ced1",ame="#9400d3",ome="#ff1493",sme="#00bfff",lme="#696969",ume="#696969",fme="#1e90ff",cme="#b22222",hme="#fffaf0",dme="#228b22",pme="#ff00ff",vme="#dcdcdc",mme="#f8f8ff",gme="#daa520",_me="#ffd700",yme="#808080",xme="#008000",bme="#adff2f",Eme="#808080",wme="#f0fff0",Sme="#ff69b4",Cme="#cd5c5c",Tme="#4b0082",Ame="#fffff0",Ime="#f0e68c",Rme="#fff0f5",Pme="#e6e6fa",Ome="#7cfc00",kme="#fffacd",Fme="#add8e6",Nme="#f08080",Lme="#e0ffff",Bme="#fafad2",Mme="#d3d3d3",Dme="#90ee90",Ume="#d3d3d3",jme="#ffb6c1",$me="#ffa07a",Vme="#20b2aa",Gme="#87cefa",Xme="#778899",Hme="#778899",zme="#b0c4de",Wme="#ffffe0",Yme="#00ff00",qme="#32cd32",Kme="#faf0e6",Zme="#ff00ff",Jme="#800000",Qme="#66cdaa",ege="#0000cd",tge="#ba55d3",rge="#9370db",nge="#3cb371",ige="#7b68ee",age="#00fa9a",oge="#48d1cc",sge="#c71585",lge="#191970",uge="#f5fffa",fge="#ffe4e1",cge="#ffe4b5",hge="#ffdead",dge="#000080",pge="#fdf5e6",vge="#808000",mge="#6b8e23",gge="#ffa500",_ge="#ff4500",yge="#da70d6",xge="#eee8aa",bge="#98fb98",Ege="#afeeee",wge="#db7093",Sge="#ffefd5",Cge="#ffdab9",Tge="#cd853f",Age="#ffc0cb",Ige="#dda0dd",Rge="#b0e0e6",Pge="#800080",Oge="#663399",kge="#ff0000",Fge="#bc8f8f",Nge="#4169e1",Lge="#8b4513",Bge="#fa8072",Mge="#f4a460",Dge="#2e8b57",Uge="#fff5ee",jge="#a0522d",$ge="#c0c0c0",Vge="#87ceeb",Gge="#6a5acd",Xge="#708090",Hge="#708090",zge="#fffafa",Wge="#00ff7f",Yge="#4682b4",qge="#d2b48c",Kge="#008080",Zge="#d8bfd8",Jge="#ff6347",Qge="#40e0d0",e_e="#ee82ee",t_e="#f5deb3",r_e="#ffffff",n_e="#f5f5f5",i_e="#ffff00",a_e="#9acd32",o_e={aliceblue:xve,antiquewhite:bve,aqua:Eve,aquamarine:wve,azure:Sve,beige:Cve,bisque:Tve,black:Ave,blanchedalmond:Ive,blue:Rve,blueviolet:Pve,brown:Ove,burlywood:kve,cadetblue:Fve,chartreuse:Nve,chocolate:Lve,coral:Bve,cornflowerblue:Mve,cornsilk:Dve,crimson:Uve,cyan:jve,darkblue:$ve,darkcyan:Vve,darkgoldenrod:Gve,darkgray:Xve,darkgreen:Hve,darkgrey:zve,darkkhaki:Wve,darkmagenta:Yve,darkolivegreen:qve,darkorange:Kve,darkorchid:Zve,darkred:Jve,darksalmon:Qve,darkseagreen:eme,darkslateblue:tme,darkslategray:rme,darkslategrey:nme,darkturquoise:ime,darkviolet:ame,deeppink:ome,deepskyblue:sme,dimgray:lme,dimgrey:ume,dodgerblue:fme,firebrick:cme,floralwhite:hme,forestgreen:dme,fuchsia:pme,gainsboro:vme,ghostwhite:mme,goldenrod:gme,gold:_me,gray:yme,green:xme,greenyellow:bme,grey:Eme,honeydew:wme,hotpink:Sme,indianred:Cme,indigo:Tme,ivory:Ame,khaki:Ime,lavenderblush:Rme,lavender:Pme,lawngreen:Ome,lemonchiffon:kme,lightblue:Fme,lightcoral:Nme,lightcyan:Lme,lightgoldenrodyellow:Bme,lightgray:Mme,lightgreen:Dme,lightgrey:Ume,lightpink:jme,lightsalmon:$me,lightseagreen:Vme,lightskyblue:Gme,lightslategray:Xme,lightslategrey:Hme,lightsteelblue:zme,lightyellow:Wme,lime:Yme,limegreen:qme,linen:Kme,magenta:Zme,maroon:Jme,mediumaquamarine:Qme,mediumblue:ege,mediumorchid:tge,mediumpurple:rge,mediumseagreen:nge,mediumslateblue:ige,mediumspringgreen:age,mediumturquoise:oge,mediumvioletred:sge,midnightblue:lge,mintcream:uge,mistyrose:fge,moccasin:cge,navajowhite:hge,navy:dge,oldlace:pge,olive:vge,olivedrab:mge,orange:gge,orangered:_ge,orchid:yge,palegoldenrod:xge,palegreen:bge,paleturquoise:Ege,palevioletred:wge,papayawhip:Sge,peachpuff:Cge,peru:Tge,pink:Age,plum:Ige,powderblue:Rge,purple:Pge,rebeccapurple:Oge,red:kge,rosybrown:Fge,royalblue:Nge,saddlebrown:Lge,salmon:Bge,sandybrown:Mge,seagreen:Dge,seashell:Uge,sienna:jge,silver:$ge,skyblue:Vge,slateblue:Gge,slategray:Xge,slategrey:Hge,snow:zge,springgreen:Wge,steelblue:Yge,tan:qge,teal:Kge,thistle:Zge,tomato:Jge,turquoise:Qge,violet:e_e,wheat:t_e,white:r_e,whitesmoke:n_e,yellow:i_e,yellowgreen:a_e};function Jr(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function TS(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function AS(t){return typeof t=="string"&&(t=o_e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function Vn(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function s_e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[$e.NORMAL_NPM]=$e.NORMAL,t[$e.ADD_NPM]=$e.ADD,t[$e.SCREEN_NPM]=$e.SCREEN,e[$e.NORMAL]=$e.NORMAL_NPM,e[$e.ADD]=$e.ADD_NPM,e[$e.SCREEN]=$e.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var IS=s_e();function RS(t,e){return IS[e?1:0][t]}function $D(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function kv(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function PS(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function VD(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Fv(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var l_e={Float32Array,Uint32Array,Int32Array,Uint8Array};function u_e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,f=0,a=0;a<t.length;a++){var l=e[a],u=t[a],c=Fv(u);i[c]||(i[c]=new l_e[c](o)),s=i[c];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+f,d=h%l;s[p+d]=u[h]}f+=l}return new Float32Array(o)}function Lc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function o1(t){return!(t&t-1)&&!!t}function s1(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ma(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function xs(t){return t===0?0:t<0?-1:1}var f_e=0;function jo(){return++f_e}var aO={};function qa(t,e,r){if(r===void 0&&(r=3),!aO[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),aO[e]=!0}}var l1={},qn=Object.create(null),gi=Object.create(null);function c_e(){var t;for(t in qn)qn[t].destroy();for(t in gi)gi[t].destroy()}function GD(){var t;for(t in qn)delete qn[t];for(t in gi)delete gi[t]}var u1=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Ye.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function XD(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},f=null,l,u,c;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,c=~~(l/4/e),s.top===null&&(s.top=c),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,f=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:f}}var HD=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function h_e(t){var e=HD.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var ed;function zD(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,ed||(ed=document.createElement("a")),ed.href=t;var r=ys.parse(ed.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Bc(t,e){var r=Ye.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const d_e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:gi,CanvasRenderTarget:u1,DATA_URI:HD,EventEmitter:qs,ProgramCache:l1,TextureCache:qn,clearTextureCache:GD,correctBlendMode:RS,createIndicesForQuads:VD,decomposeDataUri:h_e,deprecation:qa,destroyTextureCache:c_e,determineCrossOrigin:zD,earcut:_S,getBufferType:Fv,getResolutionOfUrl:Bc,hex2rgb:Jr,hex2string:TS,interleaveTypedArrays:u_e,isMobile:Ei,isPow2:o1,isWebGLSupported:jD,log2:s1,nextPow2:Lc,premultiplyBlendMode:IS,premultiplyRgba:$D,premultiplyTint:kv,premultiplyTintToRgba:PS,removeItems:ma,rgb2hex:Vn,sayHello:UD,sign:xs,skipHello:yve,string2hex:AS,trimCanvas:XD,uid:jo,url:ys},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mc=Math.PI*2,OS=180/Math.PI,Ka=Math.PI/180,fr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(fr||(fr={}));var St=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),td=[new St,new St,new St,new St],yt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=fr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,f=this.right,l=this.top,u=this.bottom;if(f<=s||u<=l)return!1;var c=td[0].set(e.left,e.top),h=td[1].set(e.left,e.bottom),p=td[2].set(e.right,e.top),d=td[3].set(e.right,e.bottom);if(p.x<=c.x||h.y<=c.y)return!1;var m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(c,c),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(c.x,h.x,p.x,d.x)<=s||Math.min(c.x,h.x,p.x,d.x)>=f||Math.max(c.y,h.y,p.y,d.y)<=l||Math.min(c.y,h.y,p.y,d.y)>=u))return!1;var _=m*(h.y-c.y),v=m*(c.x-h.x),g=_*s+v*l,y=_*f+v*l,x=_*s+v*u,b=_*f+v*u;if(Math.max(g,y,x,b)<=_*c.x+v*c.y||Math.min(g,y,x,b)>=_*d.x+v*d.y)return!1;var E=m*(c.y-p.y),w=m*(p.x-c.x),S=E*s+w*l,C=E*f+w*l,T=E*s+w*u,I=E*f+w*u;return!(Math.max(S,C,T,I)<=E*c.x+w*c.y||Math.min(S,C,T,I)>=E*d.x+w*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),WD=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=fr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new yt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),YD=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=fr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new yt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Ql=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=fr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],f=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],c=f>r!=u>r&&e<(l-s)*((r-f)/(u-f))+s;c&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),qD=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=fr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),mo=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),sr=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new St;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new St;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,f,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-f)*o,this.d=Math.cos(s-f)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),f=Math.atan2(n,r),l=Math.abs(s+f);return l<1e-5||Math.abs(Mc-l)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=f),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ss=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ls=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],us=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],fs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f1=[],KD=[],rd=Math.sign;function p_e(){for(var t=0;t<16;t++){var e=[];f1.push(e);for(var r=0;r<16;r++)for(var n=rd(ss[t]*ss[r]+us[t]*ls[r]),i=rd(ls[t]*ss[r]+fs[t]*ls[r]),a=rd(ss[t]*us[r]+us[t]*fs[r]),o=rd(ls[t]*us[r]+fs[t]*fs[r]),s=0;s<16;s++)if(ss[s]===n&&ls[s]===i&&us[s]===a&&fs[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var f=new sr;f.set(ss[t],ls[t],us[t],fs[t],0,0),KD.push(f)}}p_e();var lr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ss[t]},uY:function(t){return ls[t]},vX:function(t){return us[t]},vY:function(t){return fs[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return f1[t][e]},sub:function(t,e){return f1[t][lr.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?lr.S:lr.N:Math.abs(e)*2<=Math.abs(t)?t>0?lr.E:lr.W:e>0?t>0?lr.SE:lr.SW:t>0?lr.NE:lr.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=KD[lr.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Eh=function(){function t(){this.worldTransform=new sr,this.localTransform=new sr,this.position=new mo(this.onChange,this,0,0),this.scale=new mo(this.onChange,this,1,1),this.pivot=new mo(this.onChange,this,0,0),this.skew=new mo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.SORTABLE_CHILDREN=!1;var vu=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:(e=e||new yt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,f=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+f;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,f=e.c,l=e.d,u=e.tx,c=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+f*n+u,v=s*r+l*n+c;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*n+u,v=s*i+l*n+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+f*a+u,v=s*r+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*a+u,v=s*i+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,f=r;f<n;f+=2){var l=e[f],u=e[f+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,f=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+c,b=u*y+f*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c1=function(t,e){return c1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},c1(t,e)};function kS(t,e){c1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cr=function(t){kS(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Eh,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new vu,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new yt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new yt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new vu);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,f,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),f===void 0&&(f=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=f,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new FS),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*OS},set:function(r){this.transform.rotation=r*Ka},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(qs),FS=function(t){kS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Cr);Cr.prototype.displayObjectUpdateTransform=Cr.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var oO;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(oO||(oO={}));var sO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(sO||(sO={}));var lO;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(lO||(lO={}));var uO;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(uO||(uO={}));var fO;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(fO||(fO={}));var cO;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(cO||(cO={}));var hO;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(hO||(hO={}));var dO;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(dO||(dO={}));var pO;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(pO||(pO={}));var vO;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(vO||(vO={}));var mO;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(mO||(mO={}));var gO;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(gO||(gO={}));var _O;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(_O||(_O={}));var yO;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(yO||(yO={}));var xO;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(xO||(xO={}));var bO;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(bO||(bO={}));var h1;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(h1||(h1={}));var EO;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(EO||(EO={}));var wO;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(wO||(wO={}));function v_e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Zr=function(t){kS(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Ye.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ma(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ma(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ma(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var f=0;f<s.length;++f)s[f].parent=null,s[f].transform&&(s[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<s.length;++f)s[f].emit("removed",this),this.emit("childRemoved",s[f],this,f);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(v_e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var f=this.children[o],l=f.cullable;f.cullable=l||!this.cullArea,f.render(r),f.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==h1.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Cr);Zr.prototype.containerUpdateTransform=Zr.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ZD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Cr.mixin(ZD);var m_e=9,nd=100,g_e=0,__e=0,SO=2,CO=1,y_e=-1e3,x_e=-1e3,b_e=2,JD=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ei.tablet||Ei.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=nd+"px",r.style.height=nd+"px",r.style.position="absolute",r.style.top=g_e+"px",r.style.left=__e+"px",r.style.zIndex=SO.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=CO+"px",r.style.height=CO+"px",r.style.position="absolute",r.style.top=y_e+"px",r.style.left=x_e+"px",r.style.zIndex=b_e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Ei.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,f=s.width,l=s.height,u=s.resolution,c=a/f*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=f+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var m=this.children[d];if(m.renderId!==this.renderId)m._accessibleActive=!1,ma(this.children,d,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,d--;else{p=m._accessibleDiv;var _=m.hitArea,v=m.worldTransform;m.hitArea?(p.style.left=(v.tx+_.x*v.a)*c+"px",p.style.top=(v.ty+_.y*v.d)*h+"px",p.style.width=_.width*v.a*c+"px",p.style.height=_.height*v.d*h+"px"):(_=m.getBounds(),this.capHitArea(_),p.style.left=_.x*c+"px",p.style.top=_.y*h+"px",p.style.width=_.width*c+"px",p.style.height=_.height*h+"px",p.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(p.title=m.accessibleTitle),p.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&p.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==p.title||m.tabIndex!==p.tabIndex)&&(p.title=m.accessibleTitle,p.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=nd+"px",r.style.height=nd+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=SO.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===m_e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.TARGET_FPMS=.06;var _a;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(_a||(_a={}));var A_=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),un=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new A_(null,null,1/0),this.deltaMS=1/Ye.TARGET_FPMS,this.elapsedMS=1/Ye.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=_a.NORMAL),this._addListener(new A_(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=_a.NORMAL),this._addListener(new A_(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ye.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ye.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),QD=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,_a.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?un.shared:new un,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var d1=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new St,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var p1=function(t,e){return p1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},p1(t,e)};function E_e(t,e){p1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e8=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),qd=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),w_e=function(){function t(){this._tempPoint=new St}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,f=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),f=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,c=u.length-1;c>=0;c--){var h=u[c],p=this.recursiveFindHit(e,h,n,i,f);if(p){if(!h.parent)continue;f=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),t8={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Cr.mixin(t8);var id=1,ad={target:null,data:{global:null}},r8=function(t){E_e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new d1,i.mouse.identifier=id,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[id]=i.mouse,i.interactionDataPool=[],i.eventData=new e8,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new w_e,i._tempDisplayObject=new FS,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return ad.target=null,ad.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(ad,n,null,!0),ad.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(un.system.add(this.tickerUpdate,this,_a.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(un.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var f=s.length;this.delayedEvents=[];for(var l=0;l<f;l++){var u=s[l],c=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===c&&(p.stopPropagationHint=!0),this.dispatchEvent(c,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],f=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,f);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new qd(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",f=0;f<o;f++){var l=a[f],u=this.getInteractionDataForPointerId(l),c=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,c),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,c)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,c),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],f=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var c=a.button===2,h=qd.FLAGS,p=c?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,c?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,c?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,c?"rightupoutside":"mouseupoutside",r),s&&(c?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),f&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),f&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),f&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),f=this.configureInteractionEventForDOMEvent(this.eventData,o,s);f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),o.pointerType==="touch"&&this.emit("touchmove",f),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",f=n.trackedPointers[o];i&&!f&&(f=n.trackedPointers[o]=new qd(o)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),f.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===id||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new d1,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=id),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(qs);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bn=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,f){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,c=l.items;this._aliasCount++;for(var h=0,p=c.length;h<p;h++)c[h][u](e,r,n,i,a,o,s,f);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(bn.prototype,{dispatch:{value:bn.prototype.emit},run:{value:bn.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.PREFER_ENV=Ei.any?ga.WEBGL:ga.WEBGL2;Ye.STRICT_TEXTURE_CACHE=!1;var Dc=[];function Nv(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Dc.length-1;i>=0;--i){var a=Dc[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var v1=function(t,e){return v1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},v1(t,e)};function nr(t,e){v1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m1=function(){return m1=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m1.apply(this,arguments)};function S_e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var Bs=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new bn("setRealSize"),this.onUpdate=new bn("update"),this.onError=new bn("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Yo=function(t){nr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Bs),C_e={scaleMode:wn.NEAREST,format:Me.RGBA,alphaMode:Xn.NPM},Et=function(t){nr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,f=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,h=n.format,p=n.type,d=n.target,m=n.resolution,_=n.resourceOptions;return r&&!(r instanceof Bs)&&(r=Nv(r,_),r.internal=!0),i.resolution=m||Ye.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:Ye.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Ye.ANISOTROPIC_LEVEL,i._wrapMode=c||Ye.WRAP_MODE,i._scaleMode=f!==void 0?f:Ye.SCALE_MODE,i.format=h||Me.RGBA,i.type=p||et.UNSIGNED_BYTE,i.target=d||Ro.TEXTURE_2D,i.alphaMode=a!==void 0?a:Xn.UNPACK,i.uid=jo(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=o1(this.realWidth)&&o1(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete gi[this.cacheId],delete qn[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Ye.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+jo()}o=r._pixiId}var f=gi[o];if(a&&i&&!f)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return f||(f=new e(r,n),f.cacheId=o,e.addToCache(f,o)),f},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Yo(r,{width:n,height:i}),s=r instanceof Float32Array?et.FLOAT:et.UNSIGNED_BYTE;return new e(o,Object.assign(C_e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),gi[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),gi[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=gi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete gi[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete gi[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(qs),Lv=function(t){nr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<r;f++){var l=new Et;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Bs?this.addResourceAt(r[i],i):this.addResourceAt(Nv(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(Bs),NS=function(t){nr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,f,l;return Array.isArray(r)?(f=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,f&&i.initFromArray(f,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Ro.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,f=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var c=f[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,n.format,i.type,c.resource.source))}return!0},e}(Lv),ya=function(t){nr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=zD(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,f=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xn.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===f?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=f,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Bs),Bv=function(t){nr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(ya),LS=function(t){nr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,f=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=Ro.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),f!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Ro.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Ro.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(Lv),Mv=function(t){nr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;ya.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Ye.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(f){a(f),n.onError.emit(f)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===Xn.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var f=o[s];if(f!==i&&f.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(ya),BS=function(t){nr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;ya.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var f=r.source;f.width=o,f.height=s,f._pixiId="canvas_"+jo(),f.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ya),MS=function(t){nr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];ya.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var f=document.createElement("source"),l=r[s],u=l.src,c=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,f.src=u,f.type=c,a.appendChild(f)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=un.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(un.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(un.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(un.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(un.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(un.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ya),DS=function(t){nr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(ya);Dc.push(Mv,DS,Bv,MS,BS,Yo,LS,NS);var n8={__proto__:null,Resource:Bs,BaseImageResource:ya,INSTALLED:Dc,autoDetectResource:Nv,AbstractMultiResource:Lv,ArrayResource:NS,BufferResource:Yo,CanvasResource:Bv,CubeResource:LS,ImageResource:Mv,SVGResource:BS,VideoResource:MS,ImageBitmapResource:DS},T_e=function(t){nr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Yo),H0=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new bn("disposeFramebuffer"),this.multisample=Pr.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Et(null,{scaleMode:wn.NEAREST,resolution:1,mipmap:ti.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Et(new T_e(null,{width:this.width,height:this.height}),{scaleMode:wn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ti.OFF,format:Me.DEPTH_COMPONENT,type:et.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),US=function(t){nr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Pr.NONE,n=t.call(this,null,r)||this,n.mipmap=ti.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new H0(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Et),jS=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,f=e.x/i+o,l=e.y/a+s;n=lr.add(n,lr.NW),this.x0=f+o*lr.uX(n),this.y0=l+s*lr.uY(n),n=lr.add(n,2),this.x1=f+o*lr.uX(n),this.y1=l+s*lr.uY(n),n=lr.add(n,2),this.x2=f+o*lr.uX(n),this.y2=l+s*lr.uY(n),n=lr.add(n,2),this.x3=f+o*lr.uX(n),this.y3=l+s*lr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),TO=new jS;function od(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var at=function(t){nr(e,t);function e(r,n,i,a,o,s){var f=t.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new yt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),f.baseTexture=r,f._frame=n,f.trim=a,f.valid=!1,f._uvs=TO,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(o||0),o===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=s?new St(s.x,s.y):new St(0,0),f._updateID=0,f.textureCacheIds=[],r.valid?f.noFrame?r.valid&&f.onBaseTextureUpdated(r):f.frame=n:r.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&r.on("update",f.onBaseTextureUpdated,f),f}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&qn[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===TO&&(this._uvs=new jS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Ye.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof Et){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+jo(),Et.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+jo()}o=r._pixiId}var f=qn[o];if(a&&i&&!f)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!f&&!(r instanceof Et)?(n.resolution||(n.resolution=Bc(r)),f=new e(new Et(r,n)),f.baseTexture.cacheId=o,Et.addToCache(f.baseTexture,o),e.addToCache(f,o)):!f&&r instanceof Et&&(f=new e(r),e.addToCache(f,o)),f},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(Et.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new Et(r,Object.assign({scaleMode:Ye.SCALE_MODE,resolution:Bc(n)},a)),s=o.resource;s instanceof Mv&&(s.url=n);var f=new e(o);return i||(i=n),Et.addToCache(f.baseTexture,i),e.addToCache(f,i),i!==n&&(Et.addToCache(f.baseTexture,n),e.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(l){f.baseTexture.once("loaded",function(){return l(f)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),qn[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),qn[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=qn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete qn[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)qn[r.textureCacheIds[a]]===r&&delete qn[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,f=i+o>this.baseTexture.height;if(s||f){var l=s&&f?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,c="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+c))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Et),od(e._EMPTY),od(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new Et(new Bv(r))),od(e._WHITE),od(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(qs),$o=function(t){nr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(qa("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new US(r))},e}(at),i8=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Pr.NONE);var i=new US(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new $o(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Pr.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Lc(e),r=Lc(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pr.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),g1=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=et.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),A_e=0,Dr=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=A_e++,this.disposeRunner=new bn("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===zi.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?zi.ELEMENT_ARRAY_BUFFER:zi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),I_e={Float32Array,Uint32Array,Int32Array,Uint8Array};function R_e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,f=0,a=0;a<t.length;a++){var l=e[a],u=t[a],c=Fv(u);i[c]||(i[c]=new I_e[c](o)),s=i[c];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+f,d=h%l;s[p+d]=u[h]}f+=l}return new Float32Array(o)}var AO={5126:4,5123:2,5121:1},P_e=0,O_e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},zu=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=P_e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new bn("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Dr||(r instanceof Array&&(r=new Float32Array(r)),r=new Dr(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new g1(c,n,i,a,o,s,f),this.instanced=this.instanced||f,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Dr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Dr(e)),e.type=zi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Dr,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*AO[a.type]/4),a.buffer=0}for(n.data=R_e(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Dr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new g1(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=zi.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var f=0;f<o.buffers.length;f++)i[f]=i[f]||0,i[f]+=o.buffers[f].data.length,a[f]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new O_e[Fv(o.buffers[s].data)](i[s]),r.buffers[s]=new Dr(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var f=0;f<o.buffers.length;f++)n[f].set(o.buffers[f].data,a[f]),a[f]+=o.buffers[f].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=zi.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,c=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*AO[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,f=0;f<d.length;f++)r.indexBuffer.data[f+c]+=l;l+=e[s].buffers[h].data.length/u,c+=d.length}}return r},t}(),a8=function(t){nr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(zu),$S=function(t){nr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Dr(r.vertices),r.uvBuffer=new Dr(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(zu),k_e=0,Po=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=k_e++,this.static=!!r,this.ubo=!!n,e instanceof Dr?(this.buffer=e,this.buffer.type=zi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Dr(new Float32Array(1)),this.buffer.type=zi.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),o8=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pr.NONE,this.sourceFrame=new yt,this.destinationFrame=new yt,this.bindingSourceFrame=new yt,this.bindingDestinationFrame=new yt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),sd=[new St,new St,new St,new St],I_=new sr,VS=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new i8,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new a8,this.quadUv=new $S,this.tempRect=new yt,this.activeState={},this.globalUniforms=new Po({outputFrame:new yt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new o8,f=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,c=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var m=r[d];l=Math.min(l,m.resolution),u=Math.min(u,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,h=h&&m.autoFit,p=p||((i=m.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);var _=this.tempRect.copyFrom(f.sourceFrame);a.projection.transform&&this.transformAABB(I_.copyFrom(a.projection.transform).invert(),_),h?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,f.current?f.current.resolution:a.resolution,f.sourceFrame,f.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(f.sourceFrame),s.bindingDestinationFrame.copyFrom(f.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,f.bind(s.renderTexture,s.sourceFrame,v),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Ma.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),n[h].apply(this,u,c,Ma.CLEAR,r);var p=u;u=c,c=p}n[h].apply(this,u,l.renderTexture,Ma.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=Ma.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===Ma.CLEAR||r===Ma.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ai.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ai.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),f=r.worldTransform.copyTo(sr.TEMP_MATRIX);return f.invert(),s.prepend(f),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Pr.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pr.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=sd[0],i=sd[1],a=sd[2],o=sd[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),f=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=f,r.width=l-s,r.height=u-f},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,f=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?I_.copyFrom(a):I_.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),wh=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),GS=function(){function t(e){this.renderer=e,this.emptyRenderer=new wh(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,f=0,l=0;l<s;l++){var u=a[l],c=u._batchLocation;if(c>=0&&c<i&&r[c]===u){o[l]=c;continue}for(;f<i;){var h=r[f];if(h&&h._batchEnabled===n&&h._batchLocation===f){f++;continue}o[l]=f,u._batchLocation=f,r[f]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),IO=0,XS=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=IO++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=IO++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(Ye.PREFER_ENV>=ga.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),s8=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),F_e=new yt,HS=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new H0(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ye.PREFER_ENV===ga.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var f=r.width>>n,l=r.height>>n,u=f/r.width;this.setViewport(r.x*u,r.y*u,f,l)}else{var f=e.width>>n,l=e.height>>n;this.setViewport(0,0,f,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=Fc.COLOR|Fc.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new s8(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],f=s.parentTextureArray||s;this.renderer.texture.bind(f,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],f=0;f<o;f++){var l=a[f],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+f))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var c=this.writeDepthTexture;if(c){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Pr.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Pr.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,f=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[f];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new H0(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=F_e,r.width=a.width,r.height=a.height),n||(n=r);var c=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new yt},t.prototype.destroy=function(){this.renderer=null},t}(),R_={5126:4,5123:2,5121:1},zS=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Ye.PREFER_ENV===ga.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,f,l){return i.drawElementsInstancedANGLE(a,o,s,f,l)},e.drawArraysInstanced=function(a,o,s,f){return i.drawArraysInstancedANGLE(a,o,s,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var f=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[f];if(u)return l[s.id]=u,u;var c=e.buffers,h=e.attributes,p={},d={};for(var m in c)p[m]=0,d[m]=0;for(var m in h)!h[m].size&&s.attributeData[m]?h[m].size=s.attributeData[m].size:h[m].size||console.warn("PIXI Geometry attribute '"+m+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[m].buffer]+=h[m].size*R_[h[m].type];for(var m in h){var _=h[m],v=_.size;_.stride===void 0&&(p[_.buffer]===v*R_[_.type]?_.stride=0:_.stride=p[_.buffer]),_.start===void 0&&(_.start=d[_.buffer],d[_.buffer]+=v*R_[_.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var g=0;g<c.length;g++){var y=c[g];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[f]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var f=0;f<o.length;f++){var l=o[f]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[f],r))}if(!r){for(var u in i)if(u[0]==="g"){var c=i[u];this._activeVao===c&&this.unbind(),a.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var f=null;for(var l in s){var u=s[l],c=o[u.buffer],h=c._glBuffers[i];if(r.attributeData[l]){f!==h&&(a.bind(c),f=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,f=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,f,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,f,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),l8=function(){function t(e){e===void 0&&(e=null),this.type=gn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ye.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=gn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function RO(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function PO(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=r.join(`
`);s[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function N_e(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||PO(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||PO(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function P_(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function u8(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return P_(2*e);case"bvec3":return P_(3*e);case"bvec4":return P_(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var f8={},gf=f8;function c8(){if(gf===f8||gf&&gf.isContextLost()){var t=document.createElement("canvas"),e=void 0;Ye.PREFER_ENV>=ga.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),gf=e}return gf}var ld;function L_e(){if(!ld){ld=Xi.MEDIUM;var t=c8();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ld=e.precision?Xi.HIGH:Xi.MEDIUM}}return ld}function OO(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Xi.HIGH&&r!==Xi.HIGH&&(n=Xi.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Xi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var B_e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function h8(t){return B_e[t]}var ud=null,kO={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function d8(t,e){if(!ud){var r=Object.keys(kO);ud={};for(var n=0;n<r.length;++n){var i=r[n];ud[t[i]]=kO[i]}}return ud[e]}var Is=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],M_e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},D_e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function U_e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,f=0;f<Is.length;f++)if(Is[f].test(a,o)){n.push(Is[f].code(i,o)),s=!0;break}if(!s){var l=a.size===1?M_e:D_e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var j_e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function $_e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function p8(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=j_e.replace(/%forloop%/gi,$_e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var _f;function V_e(){if(typeof _f=="boolean")return _f;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");_f=t({a:"b"},"a","b")===!0}catch{_f=!1}return _f}var G_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,X_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,H_e=0,fd={},Wu=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=H_e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),fd[n]?(fd[n]++,n+="-"+fd[n]):fd[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=OO(this.vertexSrc,Ye.PRECISION_VERTEX,Xi.HIGH),this.fragmentSrc=OO(this.fragmentSrc,Ye.PRECISION_FRAGMENT,L_e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return X_e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return G_e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=l1[i];return a||(l1[i]=a=new t(e,r,n)),a},t}(),Ha=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Po?this.uniformGroup=r:this.uniformGroup=new Po(r):this.uniformGroup=new Po({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Wu.from(e,r);return new t(i,n)},t}(),O_=0,k_=1,F_=2,N_=3,L_=4,B_=5,qo=function(){function t(){this.data=0,this.blendMode=$e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<O_)},set:function(e){!!(this.data&1<<O_)!==e&&(this.data^=1<<O_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<k_)},set:function(e){!!(this.data&1<<k_)!==e&&(this.data^=1<<k_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<F_)},set:function(e){!!(this.data&1<<F_)!==e&&(this.data^=1<<F_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<N_)},set:function(e){!!(this.data&1<<N_)!==e&&(this.data^=1<<N_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<B_)},set:function(e){!!(this.data&1<<B_)!==e&&(this.data^=1<<B_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<L_)},set:function(e){!!(this.data&1<<L_)!==e&&(this.data^=1<<L_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==$e.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),z_e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,W_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ht=function(t){nr(e,t);function e(r,n,i){var a=this,o=Wu.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=Ye.FILTER_RESOLUTION,a.multisample=Ye.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new qo,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return z_e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return W_e},enumerable:!1,configurable:!0}),e}(Ha),Y_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,q_e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,FO=new sr,Dv=function(){function t(e,r){this._texture=e,this.mapCoord=new sr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(FO.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(FO));var o=r.baseTexture,s=this.uClampFrame,f=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+f+l)/o.width,s[1]=(r._frame.y+f+l)/o.height,s[2]=(r._frame.x+r._frame.width-f+l)/o.width,s[3]=(r._frame.y+r._frame.height-f+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),v8=function(t){nr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||Y_e,n||q_e,i)||this,a.maskSprite=o,a.maskMatrix=new sr,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Dv(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(ht),WS=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new l8;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==gn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case gn.SCISSOR:this.renderer.scissor.push(n);break;case gn.STENCIL:this.renderer.stencil.push(n);break;case gn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===gn.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case gn.SCISSOR:this.renderer.scissor.pop();break;case gn.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case gn.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===gn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=gn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=gn.SCISSOR:e.type=gn.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new v8]));var s=this.renderer,f=s.renderTexture,l,u;if(f.current){var c=f.current;l=e.resolution||c.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:c.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),m8=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),NO=new sr,YS=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?NO.copyFrom(o):NO.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(m8),qS=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(m8),KS=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new sr,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Jo=new yt,yf=new yt,ZS=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new yt,this.destinationFrame=new yt,this.viewportFrame=new yt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Jo.width=e.frame.width,Jo.height=e.frame.height,r=Jo),n||(yf.x=e.frame.x,yf.y=e.frame.y,yf.width=r.width,yf.height=r.height,n=yf),o=a.framebuffer):(s=i.resolution,r||(Jo.width=i.screen.width,Jo.height=i.screen.height,r=Jo),n||(n=Jo,n.width=r.width,n.height=r.height));var f=this.viewportFrame;f.x=n.x*s,f.y=n.y*s,f.width=n.width*s,f.height=n.height*s,e||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(o,f),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,f=o.y,l=o.width,u=o.height;s=Math.round(s),f=Math.round(f),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,f,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function K_e(t,e,r,n,i){r.buffer.update(i)}var Z_e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},g8={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function _8(t){for(var e=t.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=g8[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function y8(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function x8(t,e){if(!t.autoManage)return{size:0,syncFunc:K_e};for(var r=y8(t.uniforms,e),n=_8(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var f=i[s],l=t.uniforms[f.data.name],u=f.data.name,c=!1,h=0;h<Is.length;h++){var p=Is[h];if(p.codeUbo&&p.test(f.data,l)){o.push("offset = "+f.offset/4+";",Is[h].codeUbo(f.data.name,l)),c=!0;break}}if(!c)if(f.data.size>1){var d=h8(f.data.type),m=Math.max(g8[f.data.type]/16,1),_=d/m,v=(4-_%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*m+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+v+`;
                }

                `)}else{var g=Z_e[f.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+f.offset/4+`;
                `+g+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var J_e=function(){function t(){}return t}(),b8=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Q_e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=d8(e,a.type),s={type:o,name:a.name,size:h8(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function eye(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),f=d8(e,a.type);r[o]={name:o,index:i,type:f,size:a.size,isArray:s,value:u8(f,a.size)}}return r}function E8(t,e){var r=RO(t,t.VERTEX_SHADER,e.vertexSrc),n=RO(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||N_e(t,i,r,n),e.attributeData=Q_e(i,t),e.uniformData=eye(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,c){return u>c?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var f=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:u8(f.type,f.size)}}var l=new b8(i,s);return l}var tye=0,cd={textureCount:0,uboCount:0},JS=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=tye++}return t.prototype.systemCheck=function(){if(!V_e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(cd.textureCount=0,cd.uboCount=0,this.syncUniformGroup(e.uniformGroup,cd)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=U_e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,cd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=x8(e,this.shader.program.uniformData)),e.autoManage){var f=new Float32Array(s.size/4);e.buffer.update(f)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=E8(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function rye(t,e){return e===void 0&&(e=[]),e[$e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.ADD]=[t.ONE,t.ONE],e[$e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.NONE]=[0,0],e[$e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[$e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[$e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[$e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[$e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[$e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[$e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[$e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[$e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[$e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[$e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var nye=0,iye=1,aye=2,oye=3,sye=4,lye=5,QS=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=$e.NONE,this._blendEq=!1,this.map=[],this.map[nye]=this.setBlend,this.map[iye]=this.setOffset,this.map[aye]=this.setCullFace,this.map[oye]=this.setDepthTest,this.map[sye]=this.setFrontFace,this.map[lye]=this.setDepthMask,this.checks=[],this.defaultState=new qo,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=rye(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),e2=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ye.GC_MAX_IDLE,this.checkCountMax=Ye.GC_MAX_CHECK_COUNT,this.mode=Ye.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==X0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function uye(t){var e,r,n,i,a,o,s,f,l,u,c,h,p,d,m,_,v,g,y,x,b,E,w;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?w=(e={},e[et.UNSIGNED_BYTE]=(r={},r[Me.RGBA]=t.RGBA8,r[Me.RGB]=t.RGB8,r[Me.RG]=t.RG8,r[Me.RED]=t.R8,r[Me.RGBA_INTEGER]=t.RGBA8UI,r[Me.RGB_INTEGER]=t.RGB8UI,r[Me.RG_INTEGER]=t.RG8UI,r[Me.RED_INTEGER]=t.R8UI,r[Me.ALPHA]=t.ALPHA,r[Me.LUMINANCE]=t.LUMINANCE,r[Me.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[et.BYTE]=(n={},n[Me.RGBA]=t.RGBA8_SNORM,n[Me.RGB]=t.RGB8_SNORM,n[Me.RG]=t.RG8_SNORM,n[Me.RED]=t.R8_SNORM,n[Me.RGBA_INTEGER]=t.RGBA8I,n[Me.RGB_INTEGER]=t.RGB8I,n[Me.RG_INTEGER]=t.RG8I,n[Me.RED_INTEGER]=t.R8I,n),e[et.UNSIGNED_SHORT]=(i={},i[Me.RGBA_INTEGER]=t.RGBA16UI,i[Me.RGB_INTEGER]=t.RGB16UI,i[Me.RG_INTEGER]=t.RG16UI,i[Me.RED_INTEGER]=t.R16UI,i[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[et.SHORT]=(a={},a[Me.RGBA_INTEGER]=t.RGBA16I,a[Me.RGB_INTEGER]=t.RGB16I,a[Me.RG_INTEGER]=t.RG16I,a[Me.RED_INTEGER]=t.R16I,a),e[et.UNSIGNED_INT]=(o={},o[Me.RGBA_INTEGER]=t.RGBA32UI,o[Me.RGB_INTEGER]=t.RGB32UI,o[Me.RG_INTEGER]=t.RG32UI,o[Me.RED_INTEGER]=t.R32UI,o[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[et.INT]=(s={},s[Me.RGBA_INTEGER]=t.RGBA32I,s[Me.RGB_INTEGER]=t.RGB32I,s[Me.RG_INTEGER]=t.RG32I,s[Me.RED_INTEGER]=t.R32I,s),e[et.FLOAT]=(f={},f[Me.RGBA]=t.RGBA32F,f[Me.RGB]=t.RGB32F,f[Me.RG]=t.RG32F,f[Me.RED]=t.R32F,f[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,f),e[et.HALF_FLOAT]=(l={},l[Me.RGBA]=t.RGBA16F,l[Me.RGB]=t.RGB16F,l[Me.RG]=t.RG16F,l[Me.RED]=t.R16F,l),e[et.UNSIGNED_SHORT_5_6_5]=(u={},u[Me.RGB]=t.RGB565,u),e[et.UNSIGNED_SHORT_4_4_4_4]=(c={},c[Me.RGBA]=t.RGBA4,c),e[et.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Me.RGBA]=t.RGB5_A1,h),e[et.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[Me.RGBA]=t.RGB10_A2,p[Me.RGBA_INTEGER]=t.RGB10_A2UI,p),e[et.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[Me.RGB]=t.R11F_G11F_B10F,d),e[et.UNSIGNED_INT_5_9_9_9_REV]=(m={},m[Me.RGB]=t.RGB9_E5,m),e[et.UNSIGNED_INT_24_8]=(_={},_[Me.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),e[et.FLOAT_32_UNSIGNED_INT_24_8_REV]=(v={},v[Me.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),e):w=(g={},g[et.UNSIGNED_BYTE]=(y={},y[Me.RGBA]=t.RGBA,y[Me.RGB]=t.RGB,y[Me.ALPHA]=t.ALPHA,y[Me.LUMINANCE]=t.LUMINANCE,y[Me.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),g[et.UNSIGNED_SHORT_5_6_5]=(x={},x[Me.RGB]=t.RGB,x),g[et.UNSIGNED_SHORT_4_4_4_4]=(b={},b[Me.RGBA]=t.RGBA,b),g[et.UNSIGNED_SHORT_5_5_5_1]=(E={},E[Me.RGBA]=t.RGBA,E),g),w}var Kd=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=et.UNSIGNED_BYTE,this.internalFormat=Me.RGBA,this.samplerType=0}return t}(),t2=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Et,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=uye(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Kd(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Kd(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var f=s._glTextures[a];f.samplerType!==Nc.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new Kd(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===et.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Nc.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&ma(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ti.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=va.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==ti.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===wn.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),w8={__proto__:null,FilterSystem:VS,BatchSystem:GS,ContextSystem:XS,FramebufferSystem:HS,GeometrySystem:zS,MaskSystem:WS,ScissorSystem:YS,StencilSystem:qS,ProjectionSystem:KS,RenderTextureSystem:ZS,ShaderSystem:JS,StateSystem:QS,TextureGCSystem:e2,TextureSystem:t2},M_=new sr,S8=function(t){nr(e,t);function e(r,n){r===void 0&&(r=pu.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Ye.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new yt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Ye.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(qa("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(qa("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=S_e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var f=$o.create(m1({width:a.width,height:a.height},s));return M_.tx=-a.x,M_.ty=-a.y,this.render(r,{renderTexture:f,clear:!1,transform:M_,skipUpdateTransform:!!r.parent}),f},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=pu.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=TS(r),Jr(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(qs),fye=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),cye=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new fye(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Qa=function(t){nr(e,t);function e(r){var n=t.call(this,pu.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new bn("destroy"),contextChange:new bn("contextChange"),reset:new bn("reset"),update:new bn("update"),postrender:new bn("postrender"),prerender:new bn("prerender"),resize:new bn("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Po({projectionMatrix:new sr},!0),n.addSystem(WS,"mask").addSystem(XS,"context").addSystem(QS,"state").addSystem(JS,"shader").addSystem(t2,"texture").addSystem(cye,"buffer").addSystem(zS,"geometry").addSystem(HS,"framebuffer").addSystem(YS,"scissor").addSystem(qS,"stencil").addSystem(KS,"projection").addSystem(e2,"textureGC").addSystem(VS,"filter").addSystem(ZS,"renderTexture").addSystem(GS,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,UD(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(jD())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Pr.HIGH?this.multisample=Pr.HIGH:n>=Pr.MEDIUM?this.multisample=Pr.MEDIUM:n>=Pr.LOW?this.multisample=Pr.LOW:this.multisample=Pr.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof $o?(qa("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var f=r.enableTempParent();r.updateTransform(),r.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return qa("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(S8);function C8(t){return Qa.create(t)}var hye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dye=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,T8=hye,r2=dye,pye=function(){function t(e){qa("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),z0=function(){function t(){this.texArray=null,this.blend=0,this.type=ai.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),W0=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Uc=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),A8=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=qo.for2d(),n.size=Ye.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Ye.PREFER_ENV===ga.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ye.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=p8(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new z0);for(;n.length<a;)n.push(new W0);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,f=this.renderer.textureGC.count,l=++Et._globalBatch,u=0,c=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(c.count>=i&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,h,p),h=p,c=a[++u],++l),d._batchEnabled=l,d.touched=f,c.elements[c.count++]=d)}c.count>0&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;Et._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,f=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,c=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[c];d.start=this._iIndex,d.texArray=r;for(var m=n;m<i;++m){var _=o[m],v=_._texture.baseTexture,g=IS[v.alphaMode?1:0][_.blendMode];o[m]=null,n<m&&d.blend!==g&&(d.size=p-d.start,n=m,d=u[++c],d.texArray=r,d.start=p),this.packInterleavedGeometry(_,s,f,h,p),h+=_.vertexData.length/2*l,p+=_.indices.length,d.blend=g}n<i&&(d.size=p-d.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;Ye.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,f=0;f<r;f++){var l=o[f],u=l.texArray,c=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(c,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ye.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Lc(Math.ceil(r/8)),i=s1(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Uc(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Lc(Math.ceil(r/12)),i=s1(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,f=n.float32View,l=a/this.vertexSize,u=r.uvs,c=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),m=d<1&&r._texture.baseTexture.alphaMode?kv(r._tintRGB,d):r._tintRGB+(d*255<<24),_=0;_<h.length;_+=2)f[a++]=h[_],f[a++]=h[_+1],f[a++]=u[_],f[a++]=u[_+1],s[a++]=m,f[a++]=p;for(var _=0;_<c.length;_++)i[o++]=l+c[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(wh),I8=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=Po.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Wu(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new sr,default:this.defaultGroupCache[e]};return new Ha(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),n2=function(t){nr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Dr(null,r,!1),n._indexBuffer=new Dr(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,et.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,et.FLOAT).addAttribute("aColor",n._buffer,4,!0,et.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,et.FLOAT).addIndex(n._indexBuffer),n}return e}(zu),LO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,BO=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,R8=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:LO,fragment:BO,geometryClass:n2,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){nr(f,s);function f(l){var u=s.call(this,l)||this;return u.shaderGenerator=new I8(n,i),u.geometryClass=o,u.vertexSize=a,u}return f}(A8)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return LO},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return BO},enumerable:!1,configurable:!0}),t}(),P8=R8.create(),O8={},vye=function(t){Object.defineProperty(O8,t,{get:function(){return qa("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),n8[t]}})};for(var i2 in n8)vye(i2);var k8={},mye=function(t){Object.defineProperty(k8,t,{get:function(){return qa("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),w8[t]}})};for(var i2 in w8)mye(i2);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Sh=function(){function t(e){var r=this;this.stage=new Zr,e=Object.assign({forceCanvas:!1},e),this.renderer=C8(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),gye=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Sh.registerPlugin(gye);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var D_=/iPhone/i,MO=/iPod/i,DO=/iPad/i,UO=/\biOS-universal(?:.+)Mac\b/i,U_=/\bAndroid(?:.+)Mobile\b/i,jO=/Android/i,cl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,hd=/Silk/i,Pa=/Windows Phone/i,$O=/\bWindows(?:.+)ARM\b/i,VO=/BlackBerry/i,GO=/BB10/i,XO=/Opera Mini/i,HO=/\b(CriOS|Chrome)(?:.+)Mobile/i,zO=/Mobile(?:.+)Firefox\b/i,WO=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function _ye(t){return function(e){return e.test(t)}}function yye(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=_ye(r),a={apple:{phone:i(D_)&&!i(Pa),ipod:i(MO),tablet:!i(D_)&&(i(DO)||WO(e))&&!i(Pa),universal:i(UO),device:(i(D_)||i(MO)||i(DO)||i(UO)||WO(e))&&!i(Pa)},amazon:{phone:i(cl),tablet:!i(cl)&&i(hd),device:i(cl)||i(hd)},android:{phone:!i(Pa)&&i(cl)||!i(Pa)&&i(U_),tablet:!i(Pa)&&!i(cl)&&!i(U_)&&(i(hd)||i(jO)),device:!i(Pa)&&(i(cl)||i(hd)||i(U_)||i(jO))||i(/\bokhttp\b/i)},windows:{phone:i(Pa),tablet:i($O),device:i(Pa)||i($O)},other:{blackberry:i(VO),blackberry10:i(GO),opera:i(XO),firefox:i(zO),chrome:i(HO),device:i(VO)||i(GO)||i(XO)||i(zO)||i(HO)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nl=yye(globalThis.navigator);function xye(t){var e=!0;if(Nl.tablet||Nl.phone){if(Nl.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Nl.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function bye(){return!Nl.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var YO;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(YO||(YO={}));var qO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(qO||(qO={}));var KO;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(KO||(KO={}));var ZO;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ZO||(ZO={}));var JO;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(JO||(JO={}));var QO;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(QO||(QO={}));var e3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(e3||(e3={}));var t3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(t3||(t3={}));var r3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(r3||(r3={}));var _1;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(_1||(_1={}));var y1;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(y1||(y1={}));var x1;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(x1||(x1={}));var n3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(n3||(n3={}));var i3;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(i3||(i3={}));var b1;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(b1||(b1={}));var ac;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(ac||(ac={}));var a3;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(a3||(a3={}));var E1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(E1||(E1={}));var o3;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(o3||(o3={}));var F8={MIPMAP_TEXTURES:x1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:E1.NONE,SPRITE_MAX_TEXTURES:xye(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:b1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:y1.CLAMP,SCALE_MODE:_1.LINEAR,PRECISION_VERTEX:ac.HIGH,PRECISION_FRAGMENT:Nl.apple.device?ac.HIGH:ac.MEDIUM,CAN_UPLOAD_SAME_BUFFER:bye(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */F8.SORTABLE_CHILDREN=!1;var s3=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:(e=e||new yt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,f=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+f;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,f=e.c,l=e.d,u=e.tx,c=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+f*n+u,v=s*r+l*n+c;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*n+u,v=s*i+l*n+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+f*a+u,v=s*r+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*a+u,v=s*i+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,f=r;f<n;f+=2){var l=e[f],u=e[f+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,f=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+c,b=u*y+f*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w1=function(t,e){return w1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},w1(t,e)};function a2(t,e){w1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jc=function(t){a2(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Eh,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new s3,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new yt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new yt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new s3);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,f,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),f===void 0&&(f=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=f,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Eye),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*OS},set:function(r){this.transform.rotation=r*Ka},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(qs),Eye=function(t){a2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(jc);jc.prototype.displayObjectUpdateTransform=jc.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var l3;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(l3||(l3={}));var u3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(u3||(u3={}));var f3;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(f3||(f3={}));var c3;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(c3||(c3={}));var h3;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(h3||(h3={}));var d3;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(d3||(d3={}));var p3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(p3||(p3={}));var v3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(v3||(v3={}));var m3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(m3||(m3={}));var g3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(g3||(g3={}));var _3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(_3||(_3={}));var y3;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(y3||(y3={}));var x3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(x3||(x3={}));var b3;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(b3||(b3={}));var E3;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(E3||(E3={}));var w3;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(w3||(w3={}));var S1;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(S1||(S1={}));var S3;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(S3||(S3={}));var C3;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(C3||(C3={}));function wye(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var T3=function(t){a2(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=F8.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ma(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ma(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ma(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var f=0;f<s.length;++f)s[f].parent=null,s[f].transform&&(s[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<s.length;++f)s[f].emit("removed",this),this.emit("childRemoved",s[f],this,f);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(wye),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var f=this.children[o],l=f.cullable;f.cullable=l||!this.cullArea,f.render(r),f.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==S1.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(jc);T3.prototype.containerUpdateTransform=T3.prototype.updateTransform;var j_=new yt,A3=4,N8=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof $o?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=j_,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var f=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new u1(f,l,1),c=new Uint8Array(A3*f*l),h=r.gl;h.readPixels(i.x*n,i.y*n,f,l,h.RGBA,h.UNSIGNED_BYTE,c);var p=u.context.getImageData(0,0,f,l);if(t.arrayPostDivide(c,p.data),u.context.putImageData(p,0,0),a){var d=new u1(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof $o?o=e:e instanceof jc&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=j_,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=j_,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var f=a.width*i,l=a.height*i,u=new Uint8Array(A3*f*l),c=n.gl;return c.readPixels(a.x*i,a.y*i,f,l,c.RGBA,c.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dd=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function I3(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var Ua=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof dd))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return I3(this,new dd(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return I3(this,new dd(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof dd))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function L8(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,f){s&&(i[r.q.name][s]=f)}),i}var $_,pd=null,Sye=0,R3=200,Cye=204,Tye=1223,Aye=2;function P3(){}function O3(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function V_(t){return t.toString().replace("object ","")}var Xt=function(){function t(e,r,n){if(this._dequeue=P3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=P3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ua,this.onProgress=new Ua,this.onComplete=new Ua,this.onAfterMiddleware=new Ua}return t.setExtensionLoadType=function(e,r){O3(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){O3(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof $_>"u"&&($_=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),$_&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(V_(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(V_(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(V_(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?R3:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===Sye&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=R3:n===Tye&&(n=Cye);var i=n/100|0;if(i===Aye)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,pd||(pd=document.createElement("a")),pd.href=e;var n=L8(pd.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Xt||(Xt={}));function Qo(){}function Iye(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var Rye=function(){function t(e,r){this.data=e,this.callback=r}return t}(),G_=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Qo,this.unsaturated=Qo,this.empty=Qo,this.drain=Qo,this.error=Qo,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new Rye(i,typeof o=="function"?o:Qo);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,Iye(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Qo,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(f){if(f||a===o){n&&n(f);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),X_=100,Pye=/(#[\w-]+)?$/,ri=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,l){return n._loadResource(f,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,l){return n._loadResource(f,l)},this._queue=G_.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Ua,this.onError=new Ua,this.onLoad=new Ua,this.onStart=new Ua,this.onComplete=new Ua;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Xt(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var f=a.progressChunk*(o.length+1),l=f/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=X_/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=L8(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=Pye.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,G_.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=X_,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),G_.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(X_,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();ri.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var B8=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?ri.shared:new ri},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),M8=function(){function t(){}return t.add=function(){Xt.setExtensionLoadType("svg",Xt.LOAD_TYPE.XHR),Xt.setExtensionXhrType("svg",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Xt.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;at.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),Oye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kye(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=Oye.charAt(i[a])}return e}function Fye(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Xt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+kye(t.xhr.responseText),t.type=Xt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Xt.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}ri.registerPlugin({use:Fye});ri.registerPlugin(M8);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yt,gt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(gt||(gt={}));var $c=(Yt={},Yt[gt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Yt[gt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Yt[gt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Yt[gt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Yt[gt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Yt[gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Yt[gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Yt[gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Yt[gt.COMPRESSED_R11_EAC]=.5,Yt[gt.COMPRESSED_SIGNED_R11_EAC]=.5,Yt[gt.COMPRESSED_RG11_EAC]=1,Yt[gt.COMPRESSED_SIGNED_RG11_EAC]=1,Yt[gt.COMPRESSED_RGB8_ETC2]=.5,Yt[gt.COMPRESSED_RGBA8_ETC2_EAC]=1,Yt[gt.COMPRESSED_SRGB8_ETC2]=.5,Yt[gt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Yt[gt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yt[gt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yt[gt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Yt[gt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Yt[gt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Yt[gt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Yt[gt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Yt[gt.COMPRESSED_RGB_ATC_WEBGL]=.5,Yt[gt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Yt[gt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Yt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var C1=function(t,e){return C1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},C1(t,e)};function D8(t,e){C1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Nye(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{f(n.next(l))}catch(u){a(u)}}function s(l){try{f(n.throw(l))}catch(u){a(u)}}function f(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}f((n=n.apply(t,e||[])).next())})}function Lye(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return f([l,u])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var U8=function(t){D8(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Uc(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return Nye(this,void 0,Promise,function(){var r,n,i;return Lye(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Uc(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Yo),Y0=function(t){D8(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,f=this.levels;s<f;s++){var l=this._levelBuffers[s],u=l.levelID,c=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,c,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,f){for(var l=new Array(i),u=r.byteOffset,c=s,h=f,p=c+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*$c[n],_=0;_<i;_++)l[_]={levelID:_,levelWidth:i>1?c:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,m)},u+=m,c=c>>1||1,h=h>>1||1,p=c+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*$c[n];return l},e}(U8),j8=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Xt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,f=0,l=a.length;f<l;f++){var u=a[f],c=u.src,h=u.format;if(h||(s=c),t.textureFormats[h]){o=c;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=ys.resolve(e.url.replace(i.baseUrl,""),o),m=n.cacheID;i.add(m,d,p,function(_){if(_.error){r(_.error);return}var v=_.texture,g=v===void 0?null:v,y=_.textures,x=y===void 0?{}:y;Object.assign(e,{texture:g,textures:x}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function $8(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new at(new Et(a,Object.assign({mipmap:ti.OFF,alphaMode:Xn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,f=t+"-"+(o+1);Et.addToCache(s,f),at.addToCache(a,f),o===0&&(Et.addToCache(s,t),at.addToCache(a,t),n.texture=a),n.textures[f]=a}),n}var xf,Pi;Xt.setExtensionXhrType("dds",Xt.XHR_RESPONSE_TYPE.BUFFER);var H_=4,vd=124,Bye=32,k3=20,Mye=542327876,md={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Dye={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},gd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Bi;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Bi||(Bi={}));var T1;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(T1||(T1={}));var Uye=1,jye=2,$ye=4,Vye=64,Gye=512,Xye=131072,Hye=827611204,zye=861165636,Wye=894720068,Yye=808540228,qye=4,Kye=(xf={},xf[Hye]=gt.COMPRESSED_RGBA_S3TC_DXT1_EXT,xf[zye]=gt.COMPRESSED_RGBA_S3TC_DXT3_EXT,xf[Wye]=gt.COMPRESSED_RGBA_S3TC_DXT5_EXT,xf),Zye=(Pi={},Pi[Bi.DXGI_FORMAT_BC1_TYPELESS]=gt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pi[Bi.DXGI_FORMAT_BC1_UNORM]=gt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pi[Bi.DXGI_FORMAT_BC2_TYPELESS]=gt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pi[Bi.DXGI_FORMAT_BC2_UNORM]=gt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pi[Bi.DXGI_FORMAT_BC3_TYPELESS]=gt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pi[Bi.DXGI_FORMAT_BC3_UNORM]=gt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pi[Bi.DXGI_FORMAT_BC1_UNORM_SRGB]=gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Pi[Bi.DXGI_FORMAT_BC2_UNORM_SRGB]=gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Pi[Bi.DXGI_FORMAT_BC3_UNORM_SRGB]=gt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Pi),V8=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,$8(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==Mye)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,vd/Uint32Array.BYTES_PER_ELEMENT),a=i[md.HEIGHT],o=i[md.WIDTH],s=i[md.MIPMAP_COUNT],f=new Uint32Array(e,md.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Bye/Uint32Array.BYTES_PER_ELEMENT),l=f[Uye];if(l&$ye){var u=f[Dye.FOURCC];if(u!==Yye){var c=Kye[u],h=H_+vd,p=new Uint8Array(e,h),d=new Y0(p,{format:c,width:o,height:a,levels:s});return[d]}var m=H_+vd,_=new Uint32Array(r.buffer,m,k3/Uint32Array.BYTES_PER_ELEMENT),v=_[gd.DXGI_FORMAT],g=_[gd.RESOURCE_DIMENSION],y=_[gd.MISC_FLAG],x=_[gd.ARRAY_SIZE],b=Zye[v];if(b===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+v);if(y===qye)throw new Error("DDSLoader does not support cubemap textures");if(g===T1.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,w=H_+vd+k3;if(x===1)E.push(new Uint8Array(e,w));else{for(var S=$c[b],C=0,T=o,I=a,A=0;A<s;A++){var R=Math.max(1,T+3&-4),O=Math.max(1,I+3&-4),F=R*O*S;C+=F,T=T>>>1,I=I>>>1}for(var N=w,A=0;A<x;A++)E.push(new Uint8Array(e,N,C)),N+=C}return E.map(function($){return new Y0($,{format:b,width:o,height:a,levels:s})})}throw l&Vye?new Error("DDSLoader does not support uncompressed texture data."):l&Gye?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&Xye?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&jye?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),eo,Oa,bf;Xt.setExtensionXhrType("ktx",Xt.XHR_RESPONSE_TYPE.BUFFER);var F3=[171,75,84,88,32,49,49,187,13,10,26,10],Jye=67305985,Oi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},z_=64,A1=(eo={},eo[et.UNSIGNED_BYTE]=1,eo[et.UNSIGNED_SHORT]=2,eo[et.INT]=4,eo[et.UNSIGNED_INT]=4,eo[et.FLOAT]=4,eo[et.HALF_FLOAT]=8,eo),G8=(Oa={},Oa[Me.RGBA]=4,Oa[Me.RGB]=3,Oa[Me.RG]=2,Oa[Me.RED]=1,Oa[Me.LUMINANCE]=1,Oa[Me.LUMINANCE_ALPHA]=2,Oa[Me.ALPHA]=1,Oa),X8=(bf={},bf[et.UNSIGNED_SHORT_4_4_4_4]=2,bf[et.UNSIGNED_SHORT_5_5_5_1]=2,bf[et.UNSIGNED_SHORT_5_6_5]=2,bf),H8=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var f=$8(n,a,e.metadata);if(s&&f.textures)for(var l in f.textures)f.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,f)}else if(o){var u={};o.forEach(function(c,h){var p=new at(new Et(c.resource,{mipmap:ti.OFF,alphaMode:Xn.NO_PREMULTIPLIED_ALPHA,type:c.type,format:c.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),Et.addToCache(p.baseTexture,d),at.addToCache(p,d),h===0&&(u[n]=p,Et.addToCache(p.baseTexture,n),at.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(c){r(c);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Oi.ENDIANNESS,!0)===Jye,a=n.getUint32(Oi.GL_TYPE,i),o=n.getUint32(Oi.GL_FORMAT,i),s=n.getUint32(Oi.GL_INTERNAL_FORMAT,i),f=n.getUint32(Oi.PIXEL_WIDTH,i),l=n.getUint32(Oi.PIXEL_HEIGHT,i)||1,u=n.getUint32(Oi.PIXEL_DEPTH,i)||1,c=n.getUint32(Oi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Oi.NUMBER_OF_FACES,i),p=n.getUint32(Oi.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(Oi.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");var m=4,_=4,v=f+3&-4,g=l+3&-4,y=new Array(c),x=f*l;a===0&&(x=v*g);var b;if(a!==0?A1[a]?b=A1[a]*G8[o]:b=X8[a]:b=$c[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,w=x*b,S=w,C=f,T=l,I=v,A=g,R=z_+d,O=0;O<p;O++){for(var F=n.getUint32(R,i),N=R+4,$=0;$<c;$++){var q=y[$];q||(q=y[$]=new Array(p)),q[O]={levelID:O,levelWidth:p>1||a!==0?C:I,levelHeight:p>1||a!==0?T:A,levelBuffer:new Uint8Array(r,N,S)},N+=S}R+=F+4,R=R%4!==0?R+4-R%4:R,C=C>>1||1,T=T>>1||1,I=C+m-1&~(m-1),A=T+_-1&~(_-1),S=I*A*b}return a!==0?{uncompressed:y.map(function(K){var G=K[0].levelBuffer,L=!1;return a===et.FLOAT?G=new Float32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4):a===et.UNSIGNED_INT?(L=!0,G=new Uint32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)):a===et.INT&&(L=!0,G=new Int32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)),{resource:new Yo(G,{width:K[0].levelWidth,height:K[0].levelHeight}),type:a,format:L?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:y.map(function(K){return new Y0(null,{format:s,width:f,height:l,levels:p,levelBuffers:K})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<F3.length;n++)if(r.getUint8(n)!==F3[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case Me.RGBA:return Me.RGBA_INTEGER;case Me.RGB:return Me.RGB_INTEGER;case Me.RG:return Me.RG_INTEGER;case Me.RED:return Me.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(z_+a,n),s=z_+a+4,f=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),c=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,c),a+=4+o+f}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var I1=function(t,e){return I1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},I1(t,e)};function z8(t,e){I1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qye=function(t){z8(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=$e.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Jr(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Zr),N3=function(){function t(e,r,n){this.geometry=new zu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||et.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Dr(VD(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Dr(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Dr(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===et.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===et.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===et.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===et.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),exe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,txe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,W8=function(t){z8(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new sr,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:et.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ha.from(txe,exe,{}),n.state=qo.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var f=r._buffers;f||(f=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=RS(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,c=r.worldTransform.copyTo(this.tempMatrix);c.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=$D(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var m=s-p;m>a&&(m=a),d>=f.length&&f.push(this._generateOneMoreBuffer(r));var _=f[d];_.uploadDynamic(n,p,m);var v=r._bufferUpdateIDs[d]||0;h=h||_._updateID<v,h&&(_._updateID=r._updateID,_.uploadStatic(n,p,m)),o.geometry.bind(_.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new N3(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new N3(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var f=0,l=0,u=0,c=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,m=p.scale.x,_=p.scale.y,v=d.trim,g=d.orig;v?(l=v.x-p.anchor.x*g.width,f=l+v.width,c=v.y-p.anchor.y*g.height,u=c+v.height):(f=g.width*(1-p.anchor.x),l=g.width*-p.anchor.x,u=g.height*(1-p.anchor.y),c=g.height*-p.anchor.y),a[s]=l*m,a[s+1]=c*_,a[s+o]=f*m,a[s+o+1]=c*_,a[s+o*2]=f*m,a[s+o*2+1]=u*_,a[s+o*3]=l*m,a[s+o*3+1]=u*_,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var f=0;f<i;f++){var l=r[n+f].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var f=0;f<i;f++){var l=r[n+f].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var f=0;f<i;++f){var l=r[n+f]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var f=0;f<i;++f){var l=r[n+f],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?kv(l._tintRGB,c):l._tintRGB+(c*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(wh);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Va;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Va||(Va={}));var Ga;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Ga||(Ga={}));var mu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},o2=function(){function t(){this.color=16777215,this.alpha=1,this.texture=at.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=at.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var R1=function(t,e){return R1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},R1(t,e)};function s2(t,e){R1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function L3(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],f=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+f),s=l,f=u}if(!e&&a>0||e&&a<=0)for(var c=i/2,o=c+c%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,m=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[m],t[p]],t[p]=n[0],t[m]=n[1]}}}var l2={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){L3(r,!1);for(var o=[],s=0;s<n.length;s++){var f=n[s];L3(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}var l=_S(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},Vc={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===fr.CIRC){var f=t.shape;r=f.x,n=f.y,o=s=f.radius,i=a=0}else if(t.type===fr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,c=u.width/2,h=u.height/2;r=u.x+c,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(c,h))),i=c-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var m=0,_=p*4+(i?2:0)+2,v=_,g=d;{var y=i+o,x=a,b=r+y,E=r-y,w=n+x;if(e[m++]=b,e[m++]=w,e[--_]=w,e[--_]=E,a){var S=n-x;e[v++]=E,e[v++]=S,e[--g]=S,e[--g]=b}}for(var C=1;C<p;C++){var T=Math.PI/2*(C/p),y=i+Math.cos(T)*o,x=a+Math.sin(T)*s,b=r+y,E=r-y,w=n+x,S=n-x;e[m++]=b,e[m++]=w,e[--_]=w,e[--_]=E,e[v++]=E,e[v++]=S,e[--g]=S,e[--g]=b}{var y=i,x=a+s,b=r+y,E=r-y,w=n+x,S=n-x;e[m++]=b,e[m++]=w,e[--g]=S,e[--g]=b,i&&(e[m++]=E,e[m++]=w,e[--g]=S,e[--g]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,f;if(t.type!==fr.RREC){var l=t.shape;s=l.x,f=l.y}else{var u=t.shape;s=u.x+u.width/2,f=u.y+u.height/2}var c=t.matrix;n.push(t.matrix?c.a*s+c.c*f+c.tx:s,t.matrix?c.b*s+c.d*f+c.ty:f),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},Y8={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function hl(t,e,r){var n=e-t;return t+n*r}function _d(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,f=o,l=0,u=0,c=0,h=0,p=0,d=0,m=0,_=0;m<=s;++m)_=m/s,l=hl(t,r,_),u=hl(e,n,_),c=hl(r,i,_),h=hl(n,a,_),p=hl(l,c,_),d=hl(u,h,_),!(m===0&&f[f.length-2]===p&&f[f.length-1]===d)&&f.push(p,d);return f}var q8={build:function(t){if(gu.nextRoundedRectBehavior){Vc.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(_d(n,i+s,n,i,n+s,i,r),_d(n+a-s,i,n+a,i,n+a,i+s,r),_d(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),_d(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(gu.nextRoundedRectBehavior){Vc.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=_S(r,null,2),s=0,f=o.length;s<f;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,f=r.length;s<f;s++)n.push(r[s],r[++s])}};function B3(t,e,r,n,i,a,o,s){var f=t-r*i,l=e-n*i,u=t+r*a,c=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=f+h,m=l+p,_=u+h,v=c+p;return s.push(d,m),s.push(_,v),2}function dl(t,e,r,n,i,a,o,s){var f=r-t,l=n-e,u=Math.atan2(f,l),c=Math.atan2(i-t,a-e);s&&u<c?u+=Math.PI*2:!s&&u>c&&(c+=Math.PI*2);var h=u,p=c-u,d=Math.abs(p),m=Math.sqrt(f*f+l*l),_=(15*d*Math.sqrt(m)/Math.PI>>0)+1,v=p/_;if(h+=v,s){o.push(t,e),o.push(r,n);for(var g=1,y=h;g<_;g++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var g=1,y=h;g<_;g++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m),o.push(t,e);o.push(i,a),o.push(t,e)}return _*2}function rxe(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new St(n[0],n[1]),s=new St(n[n.length-2],n[n.length-1]),f=r.type!==fr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(f){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,c=(s.y+o.y)*.5;n.unshift(u,c),n.push(u,c)}var h=e.points,p=n.length/2,d=n.length,m=h.length/2,_=a.width/2,v=_*_,g=a.miterLimit*a.miterLimit,y=n[0],x=n[1],b=n[2],E=n[3],w=0,S=0,C=-(x-E),T=y-b,I=0,A=0,R=Math.sqrt(C*C+T*T);C/=R,T/=R,C*=_,T*=_;var O=a.alignment,F=(1-O)*2,N=O*2;f||(a.cap===Ga.ROUND?d+=dl(y-C*(F-N)*.5,x-T*(F-N)*.5,y-C*F,x-T*F,y+C*N,x+T*N,h,!0)+2:a.cap===Ga.SQUARE&&(d+=B3(y,x,C,T,F,N,!0,h))),h.push(y-C*F,x-T*F),h.push(y+C*N,x+T*N);for(var $=1;$<p-1;++$){y=n[($-1)*2],x=n[($-1)*2+1],b=n[$*2],E=n[$*2+1],w=n[($+1)*2],S=n[($+1)*2+1],C=-(x-E),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,I=-(E-S),A=b-w,R=Math.sqrt(I*I+A*A),I/=R,A/=R,I*=_,A*=_;var q=b-y,K=x-E,G=b-w,L=S-E,j=K*G-L*q,M=j<0;if(Math.abs(j)<.1){h.push(b-C*F,E-T*F),h.push(b+C*N,E+T*N);continue}var D=(-C+y)*(-T+E)-(-C+b)*(-T+x),J=(-I+w)*(-A+E)-(-I+b)*(-A+S),Q=(q*J-G*D)/j,se=(L*D-K*J)/j,re=(Q-b)*(Q-b)+(se-E)*(se-E),fe=b+(Q-b)*F,we=E+(se-E)*F,Ee=b-(Q-b)*N,pe=E-(se-E)*N,ve=Math.min(q*q+K*K,G*G+L*L),Ae=M?F:N,ke=ve+Ae*Ae*v,Te=re<=ke;Te?a.join===Va.BEVEL||re/v>g?(M?(h.push(fe,we),h.push(b+C*N,E+T*N),h.push(fe,we),h.push(b+I*N,E+A*N)):(h.push(b-C*F,E-T*F),h.push(Ee,pe),h.push(b-I*F,E-A*F),h.push(Ee,pe)),d+=2):a.join===Va.ROUND?M?(h.push(fe,we),h.push(b+C*N,E+T*N),d+=dl(b,E,b+C*N,E+T*N,b+I*N,E+A*N,h,!0)+4,h.push(fe,we),h.push(b+I*N,E+A*N)):(h.push(b-C*F,E-T*F),h.push(Ee,pe),d+=dl(b,E,b-C*F,E-T*F,b-I*F,E-A*F,h,!1)+4,h.push(b-I*F,E-A*F),h.push(Ee,pe)):(h.push(fe,we),h.push(Ee,pe)):(h.push(b-C*F,E-T*F),h.push(b+C*N,E+T*N),a.join===Va.ROUND?M?d+=dl(b,E,b+C*N,E+T*N,b+I*N,E+A*N,h,!0)+2:d+=dl(b,E,b-C*F,E-T*F,b-I*F,E-A*F,h,!1)+2:a.join===Va.MITER&&re/v<=g&&(M?(h.push(Ee,pe),h.push(Ee,pe)):(h.push(fe,we),h.push(fe,we)),d+=2),h.push(b-I*F,E-A*F),h.push(b+I*N,E+A*N),d+=2)}y=n[(p-2)*2],x=n[(p-2)*2+1],b=n[(p-1)*2],E=n[(p-1)*2+1],C=-(x-E),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,h.push(b-C*F,E-T*F),h.push(b+C*N,E+T*N),f||(a.cap===Ga.ROUND?d+=dl(b-C*(F-N)*.5,E-T*(F-N)*.5,b-C*F,E-T*F,b+C*N,E+T*N,h,!1)+2:a.cap===Ga.SQUARE&&(d+=B3(b,E,C,T,F,N,!1,h)));for(var Fe=e.indices,Ne=mu.epsilon*mu.epsilon,$=m;$<d+m-2;++$)y=h[$*2],x=h[$*2+1],b=h[($+1)*2],E=h[($+1)*2+1],w=h[($+2)*2],S=h[($+2)*2+1],!(Math.abs(y*(E-S)+b*(S-x)+w*(x-E))<Ne)&&Fe.push($,$+1,$+2)}}function nxe(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==fr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,f=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<f;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function P1(t,e){t.lineStyle.native?nxe(t,e):rxe(t,e)}var O1=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],f=o[o.length-1],l=f-r,u=s-e,c=i-r,h=n-e,p=Math.abs(l*h-u*c);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,m=c*c+h*h,_=l*c+u*h,v=a*Math.sqrt(d)/p,g=a*Math.sqrt(m)/p,y=v*_/d,x=g*_/m,b=v*h+g*u,E=v*c+g*l,w=u*(g+y),S=l*(g+y),C=h*(v+x),T=c*(v+x),I=Math.atan2(S-E,w-b),A=Math.atan2(T-E,C-b);return{cx:b+e,cy:E+r,radius:a,startAngle:I,endAngle:A,anticlockwise:u*c>h*l}},t.arc=function(e,r,n,i,a,o,s,f,l){for(var u=s-o,c=mu._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/Mc)*40),h=u/(c*2),p=h*2,d=Math.cos(h),m=Math.sin(h),_=c-1,v=_%1/_,g=0;g<=_;++g){var y=g+v*g,x=h+o+p*y,b=Math.cos(x),E=-Math.sin(x);l.push((d*b+m*E)*a+n,(d*-E+m*b)*a+i)}},t}(),K8=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,f){for(var l=10,u=0,c=0,h=0,p=0,d=0,m=0,_=0,v=0,g=0,y=0,x=0,b=e,E=r,w=1;w<=l;++w)c=w/l,h=c*c,p=h*c,d=1-c,m=d*d,_=m*d,v=_*e+3*m*c*n+3*d*h*a+p*s,g=_*r+3*m*c*i+3*d*h*o+p*f,y=b-v,x=E-g,b=v,E=g,u+=Math.sqrt(y*y+x*x);return u},t.curveTo=function(e,r,n,i,a,o,s){var f=s[s.length-2],l=s[s.length-1];s.length-=2;var u=mu._segmentsCount(t.curveLength(f,l,e,r,n,i,a,o)),c=0,h=0,p=0,d=0,m=0;s.push(f,l);for(var _=1,v=0;_<=u;++_)v=_/u,c=1-v,h=c*c,p=h*c,d=v*v,m=d*v,s.push(p*f+3*h*v*e+3*c*d*n+m*a,p*l+3*h*v*r+3*c*d*i+m*o)},t}(),Z8=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,f=r-2*i+o,l=2*n-2*e,u=2*i-2*r,c=4*(s*s+f*f),h=4*(s*l+f*u),p=l*l+u*u,d=2*Math.sqrt(c+h+p),m=Math.sqrt(c),_=2*c*m,v=2*Math.sqrt(p),g=h/m;return(_*d+m*h*(d-v)+(4*p*c-h*h)*Math.log((2*m+g+d)/(g+v)))/(4*_)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],f=mu._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,c=1;c<=f;++c){var h=c/f;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),J8=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),es,Zd=(es={},es[fr.POLY]=l2,es[fr.CIRC]=Vc,es[fr.ELIP]=Vc,es[fr.RECT]=Y8,es[fr.RREC]=q8,es),k1=[],Df=[],F1=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),pl=new St,ixe=new vu,Q8=function(t){s2(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new vu,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Df.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),k1.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new F1(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new F1(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,pl):pl.copyFrom(r),a.shape.contains(pl.x,pl.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var f=a.holes[s];if(f.shape.contains(pl.x,pl.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var f=i[s],l=f.fillStyle,u=f.lineStyle,c=Zd[f.type];c.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(l.visible||u.visible)&&this.processHoles(f.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,m=this.indices.length,_=this.points.length/2;d.wrapMode=va.REPEAT,h===0?this.processFill(f):this.processLine(f);var v=this.points.length/2-_;v!==0&&(a&&!this._compareStyles(o,p)&&(a.end(m,_),a=null),a||(a=k1.pop()||new J8,a.begin(p,m,_),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,_,v,p.matrix))}}}var g=this.indices.length,y=this.points.length/2;if(a&&a.end(g,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=y>65535&&r;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Et._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Df.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=Df.pop();o||(o=new z0,o.texArray=new W0),o.texArray.count=0,o.start=0,o.size=0,o.type=ai.TRIANGLES;var s=0,f=null,l=0,u=!1,c=ai.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,m=p.style,_=m.texture.baseTexture;u!==!!m.native&&(u=!!m.native,c=u?ai.LINES:ai.TRIANGLES,f=null,s=d,r++),f!==_&&(f=_,_._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=Df.pop(),o||(o=new z0,o.texArray=new W0),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=c),_.touched=1,_._batchEnabled=r,_._batchLocation=s,_.wrapMode=va.REPEAT,o.texArray.elements[o.texArray.count++]=_,s++)),o.size+=p.size,h+=p.size,l=_._batchLocation,this.addColors(i,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}Et._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),f=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],f[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)l2.triangulate(r,this);else{var n=Zd[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){P1(r,this);for(var n=0;n<r.holes.length;n++)P1(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=Zd[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=ixe,i=sr.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,f=o.type,l=o.lineStyle,u=o.matrix||sr.IDENTITY,c=0;if(l&&l.visible&&(c=l.width,f!==fr.POLY||o.fillStyle.visible?c*=Math.max(0,l.alignment):c*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),f===fr.RECT||f===fr.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(f===fr.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+c,p.radius+c)}else if(f===fr.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+c,d.height+c)}else{var m=s;r.addVerticesMatrix(i,m.points,0,m.points.length,c,c)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),f=kv(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=f},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var f=0,l=n.length,u=i.frame;f<o;){var c=r[(a+f)*2],h=r[(a+f)*2+1];if(s){var p=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=p}f++,n.push(c/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,f=i+a*2,l=n.frame,u=l.width/o.width,c=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),m=Math.floor(r[i+1]+s),_=i+2;_<f;_+=2)d=Math.min(d,Math.floor(r[_]+s)),m=Math.min(m,Math.floor(r[_+1]+s));h-=d,p-=m;for(var _=i;_<f;_+=2)r[_]=(r[_]+h)*u,r[_+1]=(r[_+1]+p)*c},e.BATCHABLE_SIZE=100,e}(n2),e6=function(t){s2(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Ga.BUTT,r.join=Va.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(o2),axe=new Float32Array(3),W_={},gu=function(t){s2(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new o2,n._lineStyle=new e6,n._matrix=null,n._holeMode=!1,n.state=qo.for2d(),n._geometry=r||new Q8,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=$e.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:at.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ga.BUTT,join:Va.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Ql,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Ql,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Z8.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),K8.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,f=O1.curveTo(r,n,i,a,o,s);if(f){var l=f.cx,u=f.cy,c=f.radius,h=f.startAngle,p=f.endAngle,d=f.anticlockwise;this.arc(l,u,c,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=Mc:s&&a<=o&&(a+=Mc);var f=o-a;if(f===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,c=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<c&&d<c||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return O1.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:at.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:at.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new yt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new qD(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new WD(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new YD(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var f=new Ql(a);return f.closeStroke=o,this.drawShape(f),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===fr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,f=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),c={vertexData:f,blendMode:n,indices:u,uvs:l,_batchRGB:Jr(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=c}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,f=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=f.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,f=i.count,l=0;l<f;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!W_[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new sr,default:Po.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;W_[i]=new Ha(l,f)}n=W_[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Jr(this.tint,axe),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,f=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(f|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,f=n.tx,l=n.ty,u=this._geometry.points,c=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],m=u[p+1];c[h++]=i*d+o*m+f,c[h++]=s*m+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new St,e}(Zr),oxe={buildPoly:l2,buildCircle:Vc,buildRectangle:Y8,buildRoundedRectangle:q8,buildLine:P1,ArcUtils:O1,BezierUtils:K8,QuadraticUtils:Z8,BatchPart:J8,FILL_COMMANDS:Zd,BATCH_POOL:k1,DRAW_CALL_POOL:Df};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var N1=function(t,e){return N1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},N1(t,e)};function sxe(t,e){N1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ef=new St,lxe=new Uint16Array([0,1,2,0,2,3]),bi=function(t){sxe(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new mo(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=$e.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||at.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=lxe,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ye.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xs(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,f=n.tx,l=n.ty,u=this.vertexData,c=r.trim,h=r.orig,p=this._anchor,d=0,m=0,_=0,v=0;if(c?(m=c.x-p._x*h.width,d=m+c.width,v=c.y-p._y*h.height,_=v+c.height):(m=-p._x*h.width,d=m+h.width,v=-p._y*h.height,_=v+h.height),u[0]=i*m+o*v+f,u[1]=s*v+a*m+l,u[2]=i*d+o*v+f,u[3]=s*v+a*d+l,u[4]=i*d+o*_+f,u[5]=s*_+a*d+l,u[6]=i*m+o*_+f,u[7]=s*_+a*m+l,this._roundPixels)for(var g=Ye.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,f=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,m=-a._y*i.height,_=m+i.height;n[0]=s*p+l*m+c,n[1]=u*m+f*p+h,n[2]=s*d+l*m+c,n[3]=u*m+f*d+h,n[4]=s*d+l*_+c,n[5]=u*_+f*d+h,n[6]=s*p+l*_+c,n[7]=u*_+f*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new vu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new yt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Ef);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return Ef.x>=a&&Ef.x<a+n&&(o=-i*this.anchor.y,Ef.y>=o&&Ef.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof at?r:at.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=xs(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=xs(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||at.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Zr);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var L1=function(t,e){return L1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},L1(t,e)};function uxe(t,e){L1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _u;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(_u||(_u={}));var Y_={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:_u.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},fxe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ms=function(){function t(e){this.styleID=0,this.reset(),K_(this,e,e)}return t.prototype.clone=function(){var e={};return K_(e,this,Y_),new t(e)},t.prototype.reset=function(){K_(this,Y_,Y_)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=q_(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=q_(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){cxe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=q_(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&fxe.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function M3(t){return typeof t=="number"?TS(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function q_(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=M3(t[e]);return t}else return M3(t)}function cxe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function K_(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Ki=function(){function t(e,r,n,i,a,o,s,f,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=f,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var f=n?t.wordWrap(e,r,i):e,l=f.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,c=Math.max(c,p)}var d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var m=r.lineHeight||o.fontSize+r.strokeThickness,_=Math.max(m,o.fontSize+r.strokeThickness)+(l.length-1)*(m+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,d,_,l,u,m+r.leading,c,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",f=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,c=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!c,d=r.wordWrapWidth+l,m=t.tokenize(e),_=0;_<m.length;_++){var v=m[_];if(t.isNewline(v)){if(!h){s+=t.addLine(o),p=!c,o="",a=0;continue}v=" "}if(c){var g=t.isBreakingSpace(v),y=t.isBreakingSpace(o[o.length-1]);if(g&&y)continue}var x=t.getFromCache(v,l,f,i);if(x>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(v,r.breakWords))for(var b=t.wordWrapSplit(v),E=0;E<b.length;E++){for(var w=b[E],S=1;b[E+S];){var C=b[E+S],T=w[w.length-1];if(!t.canBreakChars(T,C,v,E,r.breakWords))w+=C;else break;S++}E+=w.length-1;var I=t.getFromCache(w,l,f,i);I+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=w,a+=I}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var A=_===m.length-1;s+=t.addLine(v,!A),p=!1,o="",a=0}else x+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(v)||p)&&(o+=v,a+=x)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),f=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,o,f),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,f).data,u=l.length,c=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var m=0;m<c;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p+=c;else break}for(r.ascent=s-h,p=u-c,d=!1,h=f;h>s;--h){for(var m=0;m<c;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p-=c;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();Ki._fonts={};Ki.METRICS_STRING="|ÉqÅ";Ki.BASELINE_SYMBOL="M";Ki.BASELINE_MULTIPLIER=1.4;Ki.HEIGHT_MULTIPLIER=2;Ki._newlines=[10,13];Ki._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var hxe={texture:!0,children:!1,baseTexture:!0},u2=function(t){uxe(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=at.from(i);return s.orig=new yt,s.trim=new yt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=Ye.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=Ki.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,f=a.lines,l=a.lineHeight,u=a.lineWidths,c=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,m=n.dropShadow?2:1,_=0;_<m;++_){var v=n.dropShadow&&_===0,g=v?Math.ceil(Math.max(1,s)+n.padding*2):0,y=g*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,b=Jr(typeof x=="number"?x:AS(x)),E=n.dropShadowBlur*this._resolution,w=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*w,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*w+y}else i.fillStyle=this._generateFillStyle(n,f,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var S=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(S=0);for(var C=0;C<f.length;C++)p=n.strokeThickness/2,d=n.strokeThickness/2+C*l+h.ascent+S,n.align==="right"?p+=c-u[C]:n.align==="center"&&(p+=(c-u[C])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[C],p+n.padding,d+n.padding-g,!0),n.fill&&this.drawLetterSpacing(f[C],p+n.padding,d+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,f=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||f){f&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),c=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var m="",_=p+1;_<u.length;++_)m+=u[_];h=this.context.measureText(m).width,l+=c-h+s,c=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=XD(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,l=this.canvas.width/this._resolution-s-f*2,u=this.canvas.height/this._resolution-s-f*2,c=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=c.length+1,d=1;d<p;++d)h.push(d/p);if(c.unshift(a[0]),h.unshift(0),c.push(a[a.length-1]),h.push(1),r.fillGradientType===_u.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,f,l/2,u+f);for(var m=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var _=i.lineHeight*(d-1)+m,v=i.lineHeight*d,g=v;d>0&&_>v&&(g=(v+_)/2);var y=v+m,x=i.lineHeight*(d+1),b=y;d+1<n.length&&x<y&&(b=(y+x)/2);for(var E=(b-g)/u,w=0;w<c.length;w++){var S=0;typeof h[w]=="number"?S=h[w]:S=w/c.length;var C=Math.min(1,Math.max(0,g/u+S*E));C=Number(C.toFixed(5)),o.addColorStop(C,c[w])}}}else{o=this.context.createLinearGradient(f,u/2,l+f,u/2);for(var T=c.length+1,I=1,d=0;d<c.length;d++){var A=void 0;typeof h[d]=="number"?A=h[d]:A=I/T,o.addColorStop(A,c[d]),I++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},hxe,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=xs(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=xs(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Ms?this._style=r:this._style=new Ms(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(bi);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var B1=function(t,e){return B1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},B1(t,e)};function dxe(t,e){B1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t6=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function pxe(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof at){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function vxe(t,e){if(t.baseTexture instanceof Et){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function mxe(t,e){if(t._texture&&t._texture instanceof at){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function gxe(t,e){return e instanceof u2?(e.updateText(!0),!0):!1}function _xe(t,e){if(e instanceof Ms){var r=e.toFontString();return Ki.measureFont(r),!0}return!1}function yxe(t,e){if(t instanceof u2){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function xxe(t,e){return t instanceof Ms?(e.indexOf(t)===-1&&e.push(t),!0):!1}var r6=function(){function t(e){var r=this;this.limiter=new t6(Ye.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(yxe),this.registerFindHook(xxe),this.registerFindHook(pxe),this.registerFindHook(vxe),this.registerFindHook(mxe),this.registerUploadHook(gxe),this.registerUploadHook(_xe)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,un.system.addOnce(this.tick,this,_a.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)un.system.addOnce(this.tick,this,_a.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Zr)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&un.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function n6(t,e){return e instanceof Et?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function bxe(t,e){if(!(e instanceof gu))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&n6(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Exe(t,e){return t instanceof gu?(e.push(t),!0):!1}var i6=function(t){dxe(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Exe),n.registerUploadHook(n6),n.registerUploadHook(bxe),n}return e}(r6),wxe=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var a6=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof at?e:null,this.baseTexture=e instanceof Et?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Bc(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,f=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new yt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new yt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new yt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new yt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new at(this.baseTexture,s,u,f,a.rotated?2:0,a.anchor),at.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),o6=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Xt.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var f=function(d){if(typeof d!="string")return"continue";var m=d.replace(".json",""),_=ys.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[m]||Object.values(a.resources).some(function(g){return ys.format(ys.parse(g.url))===_}))return"continue";var v={crossOrigin:e.crossOrigin,loadType:Xt.LOAD_TYPE.XHR,xhrType:Xt.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(m,_,v)},l=0,u=s;l<u.length;l++){var c=u[l];f(c)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(m){if(m.error){r(m.error);return}var _=new a6(m.texture,e.data,e.url);_.parse(function(){e.spritesheet=_,e.textures=_.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:ys.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var M1=function(t,e){return M1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},M1(t,e)};function s6(t,e){M1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wf=new St,Sxe=function(t){s6(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new Eh,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new Dv(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new yt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,wf);var n=this._width,i=this._height,a=-n*this.anchor._x;if(wf.x>=a&&wf.x<a+n){var o=-i*this.anchor._y;if(wf.y>=o&&wf.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof at?r:at.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(bi),Cxe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,D3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Txe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Axe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ixe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,yd=new sr,l6=function(t){s6(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new $S,n.state=qo.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Ha.from(D3,Cxe,n),this.shader=r.context.webGLVersion>1?Ha.from(Axe,Ixe,n):Ha.from(D3,Txe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var f=r._texture,l=f.baseTexture,u=r.tileTransform.localTransform,c=r.uvMatrix,h=l.isPowerOfTwo&&f.frame.width===l.width&&f.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==va.CLAMP:l.wrapMode===va.CLAMP&&(l.wrapMode=va.REPEAT));var p=h?this.simpleShader:this.shader,d=f.width,m=f.height,_=r._width,v=r._height;yd.set(u.a*d/_,u.b*d/v,u.c*m/_,u.d*m/v,u.tx/_,u.ty/v),yd.invert(),h?yd.prepend(c.mapCoord):(p.uniforms.uMapCoord=c.mapCoord.toArray(!0),p.uniforms.uClampFrame=c.uClampFrame,p.uniforms.uClampOffset=c.uClampOffset),p.uniforms.uTransform=yd.toArray(!0),p.uniforms.uColor=PS(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=f,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=RS(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(wh);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var D1=function(t,e){return D1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},D1(t,e)};function f2(t,e){D1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u6=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),Z_=new St,U3=new Ql,yu=function(t){f2(e,t);function e(r,n,i,a){a===void 0&&(a=ai.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||qo.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ye.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===ai.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,f=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var m=i[d*2],_=i[d*2+1];p[d*2]=s*m+l*_+c,p[d*2+1]=f*m+u*_+h}if(this._roundPixels)for(var v=Ye.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*v|0)/v);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new u6(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Z_);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=U3.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,f=0;f+2<o;f+=s){var l=a[f]*2,u=a[f+1]*2,c=a[f+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[c],i[5]=n[c+1],U3.contains(Z_.x,Z_.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Zr),Rxe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Pxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,xu=function(t){f2(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:sr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||Wu.from(Pxe,Rxe),a)||this,i._colorDirty=!1,i.uvMatrix=new Dv(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;PS(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ha),Ch=function(t){f2(e,t);function e(r,n,i){var a=t.call(this)||this,o=new Dr(r),s=new Dr(n,!0),f=new Dr(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,et.FLOAT).addAttribute("aTextureCoord",s,2,!1,et.FLOAT).addIndex(f),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(zu);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var U1=function(t,e){return U1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},U1(t,e)};function Oxe(t,e){U1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gc=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),kxe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var f in o){var l=o[f].split("="),u=l[0],c=l[1].replace(/"/gm,""),h=parseFloat(c),p=isNaN(h)?c:h;s[u]=p}n[a].push(s)}var d=new Gc;return n.info.forEach(function(m){return d.info.push({face:m.face,size:parseInt(m.size,10)})}),n.common.forEach(function(m){return d.common.push({lineHeight:parseInt(m.lineHeight,10)})}),n.page.forEach(function(m){return d.page.push({id:parseInt(m.id,10),file:m.file})}),n.char.forEach(function(m){return d.char.push({id:parseInt(m.id,10),page:parseInt(m.page,10),x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xoffset:parseInt(m.xoffset,10),yoffset:parseInt(m.yoffset,10),xadvance:parseInt(m.xadvance,10)})}),n.kerning.forEach(function(m){return d.kerning.push({first:parseInt(m.first,10),second:parseInt(m.second,10),amount:parseInt(m.amount,10)})}),n.distanceField.forEach(function(m){return d.distanceField.push({distanceRange:parseInt(m.distanceRange,10),fieldType:m.fieldType})}),d},t}(),j1=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Gc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),f=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<f.length;l++)r.distanceField.push({fieldType:f[l].getAttribute("fieldType"),distanceRange:parseInt(f[l].getAttribute("distanceRange"),10)});return r},t}(),Fxe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return j1.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return j1.parse(r)},t}(),J_=[kxe,j1,Fxe];function f6(t){for(var e=0;e<J_.length;e++)if(J_[e].test(t))return J_[e];return null}function Nxe(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,f=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-f-l*2,c=t.height/n-f-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,m=1;m<d;++m)p.push(m/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===_u.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,c+l);for(var _=0,v=a.fontProperties.fontSize+r.strokeThickness,g=v/c,m=0;m<i.length;m++)for(var y=a.lineHeight*m,x=0;x<h.length;x++){var b=0;typeof p[x]=="number"?b=p[x]:b=x/h.length;var E=y/c+b*g,w=Math.max(_,E);w=Math.min(w,1),s.addColorStop(w,h[x]),_=w}}else{s=e.createLinearGradient(l,c/2,u+l,c/2);for(var S=h.length+1,C=1,m=0;m<h.length;m++){var T=void 0;typeof p[m]=="number"?T=p[m]:T=C/S,s.addColorStop(T,h[m]),C++}}return s}function Lxe(t,e,r,n,i,a,o){var s=r.text,f=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Nxe(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var c=o.dropShadowColor,h=Jr(typeof c=="number"?c:AS(c)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-f.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-f.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function c6(t){return Array.from?Array.from(t):t.split("")}function Bxe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,f=o;s<=f;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,c6(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Jd(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var hs=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],f=e.page[0],l=e.distanceField[0],u=Bc(f.file),c={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=c;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,m=p.file;c[d]=r instanceof Array?r[h]:r[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[d].baseTexture.alphaMode=Xn.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var _=e.char[h],d=_.id,v=_.page,g=e.char[h],y=g.x,x=g.y,b=g.width,E=g.height,w=g.xoffset,S=g.yoffset,C=g.xadvance;y/=u,x/=u,b/=u,E/=u,w/=u,S/=u,C/=u;var T=new yt(y+c[v].frame.x/u,x+c[v].frame.y/u,b,E);this.chars[d]={xOffset:w,yOffset:S,xAdvance:C,kerning:{},texture:new at(c[v].baseTexture,T),page:v}}for(var h=0;h<e.kerning.length;h++){var I=e.kerning[h],A=I.first,R=I.second,O=I.amount;A/=u,R/=u,O/=u,this.chars[R]&&(this.chars[R].kerning[A]=O)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Gc)i=e;else{var a=f6(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof at&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,f=i.textureWidth,l=i.textureHeight,u=Bxe(a),c=r instanceof Ms?r:new Ms(r),h=f,p=new Gc;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var d=0,m=0,_,v,g,y=0,x=[],b=0;b<u.length;b++){_||(_=document.createElement("canvas"),_.width=f,_.height=l,v=_.getContext("2d"),g=new Et(_,{resolution:s}),x.push(new at(g)),p.page.push({id:x.length-1,file:""}));var E=Ki.measureText(u[b],c,!1,_),w=E.width,S=Math.ceil(E.height),C=Math.ceil((c.fontStyle==="italic"?2:1)*w);if(m>=l-S*s){if(m===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+c.fontSize+"px fonts"));--b,_=null,v=null,g=null,m=0,d=0,y=0;continue}if(y=Math.max(S+E.fontProperties.descent,y),C*s+d>=h){--b,m+=y*s,m=Math.ceil(m),d=0,y=0;continue}Lxe(_,v,E,d,m,s,c);var T=Jd(E.text);p.char.push({id:T,page:x.length-1,x:d/s,y:m/s,width:C,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(w-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),d+=(C+2*o)*s,d=Math.ceil(d)}for(var b=0,I=u.length;b<I;b++)for(var A=u[b],R=0;R<I;R++){var O=u[R],F=v.measureText(A).width,N=v.measureText(O).width,$=v.measureText(A+O).width,q=$-(F+N);q&&p.kerning.push({first:Jd(A),second:Jd(O),amount:q})}var K=new t(p,x,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=K,K},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Mxe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Dxe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Uxe=[],jxe=[],j3=[],$xe=function(t){Oxe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,f=a.maxWidth,l=a.letterSpacing,u=a.fontName,c=a.fontSize;if(!hs.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=c||hs.available[u].size,i.text=r,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new mo(function(){i.dirty=!0},i,0,0),i._roundPixels=Ye.ROUND_PIXELS,i.dirty=!0,i._resolution=Ye.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=hs.available[this._fontName],i=this._fontSize/n.size,a=new St,o=[],s=[],f=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=c6(l),c=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?Uxe:jxe,p=null,d=0,m=0,_=0,v=-1,g=0,y=0,x=0,b=0,E=0;E<u.length;E++){var w=u[E],S=Jd(w);if(/(?:\s)/.test(w)&&(v=E,g=d,b++),w==="\r"||w===`
`){s.push(d),f.push(-1),m=Math.max(m,d),++_,++y,a.x=0,a.y+=n.lineHeight,p=null,b=0;continue}var C=n.chars[S];if(C){p&&C.kerning[p]&&(a.x+=C.kerning[p]);var T=j3.pop()||{texture:at.EMPTY,line:0,charCode:0,prevSpaces:0,position:new St};T.texture=C.texture,T.line=_,T.charCode=S,T.position.x=a.x+C.xOffset+this._letterSpacing/2,T.position.y=a.y+C.yOffset,T.prevSpaces=b,o.push(T),d=T.position.x+Math.max(C.xAdvance,C.texture.orig.width),a.x+=C.xAdvance+this._letterSpacing,x=Math.max(x,C.yOffset+C.texture.height),p=S,v!==-1&&c>0&&a.x>c&&(++y,ma(o,1+v-y,1+E-v),E=v,v=-1,s.push(g),f.push(o.length>0?o[o.length-1].prevSpaces:0),m=Math.max(m,g),_++,a.x=0,a.y+=n.lineHeight,p=null,b=0)}}var I=u[u.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(d=g),s.push(d),m=Math.max(m,d),f.push(-1));for(var A=[],E=0;E<=_;E++){var R=0;this._align==="right"?R=m-s[E]:this._align==="center"?R=(m-s[E])/2:this._align==="justify"&&(R=f[E]<0?0:(m-s[E])/f[E]),A.push(R)}for(var O=o.length,F={},N=[],$=this._activePagesMeshData,E=0;E<$.length;E++)h.push($[E]);for(var E=0;E<O;E++){var q=o[E].texture,K=q.baseTexture.uid;if(!F[K]){var G=h.pop();if(!G){var L=new Ch,j=void 0,M=void 0;n.distanceFieldType==="none"?(j=new xu(at.EMPTY),M=$e.NORMAL):(j=new xu(at.EMPTY,{program:Wu.from(Dxe,Mxe),uniforms:{uFWidth:0}}),M=$e.NORMAL_NPM);var D=new yu(L,j);D.blendMode=M,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var J=this._textureCache;J[K]=J[K]||new at(q.baseTexture),G.mesh.texture=J[K],G.mesh.tint=this._tint,N.push(G),F[K]=G}F[K].total++}for(var E=0;E<$.length;E++)N.indexOf($[E])===-1&&this.removeChild($[E].mesh);for(var E=0;E<N.length;E++)N[E].mesh.parent!==this&&this.addChild(N[E].mesh);this._activePagesMeshData=N;for(var E in F){var G=F[E],Q=G.total;if(!(((r=G.indices)===null||r===void 0?void 0:r.length)>6*Q)||G.vertices.length<yu.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*Q),G.uvs=new Float32Array(4*2*Q),G.indices=new Uint16Array(6*Q);else for(var se=G.total,re=G.vertices,fe=se*4*2;fe<re.length;fe++)re[fe]=0;G.mesh.size=6*Q}for(var E=0;E<O;E++){var w=o[E],we=w.position.x+A[w.line]*(this._align==="justify"?w.prevSpaces:1);this._roundPixels&&(we=Math.round(we));var Ee=we*i,pe=w.position.y*i,q=w.texture,ve=F[q.baseTexture.uid],Ae=q.frame,ke=q._uvs,Te=ve.index++;ve.indices[Te*6+0]=0+Te*4,ve.indices[Te*6+1]=1+Te*4,ve.indices[Te*6+2]=2+Te*4,ve.indices[Te*6+3]=0+Te*4,ve.indices[Te*6+4]=2+Te*4,ve.indices[Te*6+5]=3+Te*4,ve.vertices[Te*8+0]=Ee,ve.vertices[Te*8+1]=pe,ve.vertices[Te*8+2]=Ee+Ae.width*i,ve.vertices[Te*8+3]=pe,ve.vertices[Te*8+4]=Ee+Ae.width*i,ve.vertices[Te*8+5]=pe+Ae.height*i,ve.vertices[Te*8+6]=Ee,ve.vertices[Te*8+7]=pe+Ae.height*i,ve.uvs[Te*8+0]=ke.x0,ve.uvs[Te*8+1]=ke.y0,ve.uvs[Te*8+2]=ke.x1,ve.uvs[Te*8+3]=ke.y1,ve.uvs[Te*8+4]=ke.x2,ve.uvs[Te*8+5]=ke.y2,ve.uvs[Te*8+6]=ke.x3,ve.uvs[Te*8+7]=ke.y3}this._textWidth=m*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in F){var G=F[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var Fe=0,Ne=this._textWidth*this.anchor.x,Ze=this._textHeight*this.anchor.y,pt=0;pt<G.total;pt++)G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Ze,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Ze,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Ze,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Ze;this._maxLineHeight=x*i;var Je=G.mesh.geometry.getBuffer("aVertexPosition"),qe=G.mesh.geometry.getBuffer("aTextureCoord"),lt=G.mesh.geometry.getIndex();Je.data=G.vertices,qe.data=G.uvs,lt.data=G.indices,Je.update(),qe.update(),lt.update()}for(var E=0;E<o.length;E++)j3.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=hs.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,f=s.a,l=s.b,u=s.c,c=s.d,h=Math.sqrt(f*f+l*l),p=Math.sqrt(u*u+c*c),d=(Math.abs(h)+Math.abs(p))/2,m=this._fontSize/o,_=0,v=this._activePagesMeshData;_<v.length;_++){var g=v[_];g.mesh.shader.uniforms.uFWidth=d*i*m*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!hs.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Zr),h6=function(){function t(){}return t.add=function(){Xt.setExtensionXhrType("fnt",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=f6(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(m){o[m.metadata.pageFile]=m.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=hs.install(a,o,!0),r())},f=0;f<a.page.length;++f){var l=a.page[f].file,u=i+l,c=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),c=!0;break}}if(!c){var d={crossOrigin:e.crossOrigin,loadType:Xt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $1=function(t,e){return $1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$1(t,e)};function Vxe(t,e){$1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gxe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,d6=function(t){Vxe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,T8,Gxe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var V1=function(t,e){return V1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},V1(t,e)};function p6(t,e){V1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xxe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Hxe(t,e){var r=Math.ceil(t/2),n=Xxe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var zxe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Wxe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Yxe(t){for(var e=zxe[t],r=e.length,n=Wxe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var f=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),f=f.replace("%value%",e[o].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $3;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})($3||($3={}));var V3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(V3||(V3={}));var G3;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(G3||(G3={}));var X3;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(X3||(X3={}));var H3;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(H3||(H3={}));var z3;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(z3||(z3={}));var W3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(W3||(W3={}));var Y3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Y3||(Y3={}));var q3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(q3||(q3={}));var K3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(K3||(K3={}));var Z3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Z3||(Z3={}));var J3;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(J3||(J3={}));var Q3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Q3||(Q3={}));var Xc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Xc||(Xc={}));var ek;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(ek||(ek={}));var tk;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(tk||(tk={}));var rk;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(rk||(rk={}));var nk;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(nk||(nk={}));var ik;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ik||(ik={}));var Hc=function(t){p6(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=Ye.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,f=Hxe(o,r),l=Yxe(o);return s=t.call(this,f,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,f=n,l=o;this.state.blend=!1,r.applyFilter(this,f,l,Xc.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(f,Xc.BLIT),this.uniforms.uSampler=l;var c=l;l=f,f=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(ht),qxe=function(t){p6(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Ye.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Hc(!0,r,n,i,a),o.blurYFilter=new Hc(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var f=r.getFilterTexture();this.blurXFilter.apply(r,n,f,Xc.CLEAR),this.blurYFilter.apply(r,f,i,a),r.returnFilterTexture(f)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var G1=function(t,e){return G1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},G1(t,e)};function Kxe(t,e){G1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zxe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,X1=function(t){Kxe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,r2,Zxe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,f=o(s),l=i+(1-i)*s,u=s*(1-i)-f*a,c=s*(1-i)+f*a,h=s*(1-i)+f*a,p=i+s*(1-i),d=s*(1-i)-f*a,m=s*(1-i)-f*a,_=s*(1-i)+f*a,v=i+s*(1-i),g=[l,u,c,0,0,h,p,d,0,0,m,_,v,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,f=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,c=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,f,l,r,0,u,c,h,n,0,s-u,f-c,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(ht);X1.prototype.grayscale=X1.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var H1=function(t,e){return H1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},H1(t,e)};function Jxe(t,e){H1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qxe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,e1e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,t1e=function(t){Jxe(e,t);function e(r,n){var i=this,a=new sr;return r.renderable=!1,i=t.call(this,e1e,Qxe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new St(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),f=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&f!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/f,this.uniforms.rotation[3]=o.d/f),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var z1=function(t,e){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},z1(t,e)};function r1e(t,e){z1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var n1e=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,i1e=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,a1e=function(t){r1e(e,t);function e(){return t.call(this,n1e,i1e)||this}return e}(ht);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var W1=function(t,e){return W1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},W1(t,e)};function o1e(t,e){W1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var s1e=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,l1e=function(t){o1e(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,r2,s1e,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ak;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ak||(ak={}));var ok;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ok||(ok={}));var sk;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(sk||(sk={}));var lk;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(lk||(lk={}));var uk;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(uk||(uk={}));var fk;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(fk||(fk={}));var ck;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ck||(ck={}));var hk;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(hk||(hk={}));var dk;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(dk||(dk={}));var pk;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(pk||(pk={}));var vk;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(vk||(vk={}));var mk;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mk||(mk={}));var gk;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(gk||(gk={}));var _k;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(_k||(_k={}));var yk;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(yk||(yk={}));var xk;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(xk||(xk={}));var bk;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(bk||(bk={}));var Y1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Y1||(Y1={}));var Ek;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Ek||(Ek={}));var v6=new sr;Cr.prototype._cacheAsBitmap=!1;Cr.prototype._cacheData=null;Cr.prototype._cacheAsBitmapResolution=null;Cr.prototype._cacheAsBitmapMultisample=Y1.NONE;var u1e=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Cr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new u1e),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Cr.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Cr.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(Ye.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),f=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=$o.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),c="cacheAsBitmap_"+jo();this._cacheData.textureCacheId=c,Et.addToCache(u.baseTexture,c),at.addToCache(u,c);var h=this.transform.localTransform.copyTo(v6).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new bi(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};Cr.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Cr.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(Ye.RESOLUTION);var o=$o.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+jo();this._cacheData.textureCacheId=s,Et.addToCache(o.baseTexture,s),at.addToCache(o,s);var f=v6;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=r.x,f.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:f,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new bi(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Cr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Cr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Cr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Et.removeFromCache(this._cacheData.textureCacheId),at.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Cr.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Cr.prototype.name=null;Zr.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Cr.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new St),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var q1=function(t,e){return q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},q1(t,e)};function Yu(t,e){q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m6=function(t){Yu(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,f=this.width/o,l=this.height/s,u=0;u<r;u++){var c=u%this.segWidth,h=u/this.segWidth|0;n.push(c*f,h*l),i.push(c/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,m=u/o|0,_=m*this.segWidth+d,v=m*this.segWidth+d+1,g=(m+1)*this.segWidth+d,y=(m+1)*this.segWidth+d+1;a.push(_,v,g,v,y,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ch),g6=function(t){Yu(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var f=0,l=r[0],u=this._width*this.textureScale,c=r.length,h=0;h<c;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,m=l.y-r[h].y,_=Math.sqrt(d*d+m*m);l=r[h],f+=_/u}else f=h/(c-1);o[p]=f,o[p+1]=0,o[p+2]=f,o[p+3]=1}for(var v=0,h=0;h<c-1;h++){var p=h*2;s[v++]=p,s[v++]=p+1,s[v++]=p+2,s[v++]=p+2,s[v++]=p+1,s[v++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,f=r.length,l=0;l<f;l++){var u=r[l],c=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[c]=u.x+a,s[c+1]=u.y+o,s[c+2]=u.x-a,s[c+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ch),f1e=function(t){Yu(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new g6(r.height,n,i),s=new xu(r);return i>0&&(r.baseTexture.wrapMode=va.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(yu),_6=function(t){Yu(e,t);function e(r,n,i){var a=this,o=new m6(r.width,r.height,n,i),s=new xu(at.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(yu),y6=function(t){Yu(e,t);function e(r,n,i,a,o){r===void 0&&(r=at.EMPTY);var s=this,f=new Ch(n,i,a);f.getBuffer("aVertexPosition").static=!1;var l=new xu(r);return s=t.call(this,f,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(yu),xd=10,c1e=function(t){Yu(e,t);function e(r,n,i,a,o){n===void 0&&(n=xd),i===void 0&&(i=xd),a===void 0&&(a=xd),o===void 0&&(o=xd);var s=t.call(this,at.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(_6);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var K1=function(t,e){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},K1(t,e)};function h1e(t,e){K1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x6=function(t){h1e(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof at?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(un.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(un.shared.add(this.update,this,_a.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(at.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(at.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof at)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(un.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(un.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(bi);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Qa.registerPlugin("accessibility",JD);Qa.registerPlugin("extract",N8);Qa.registerPlugin("interaction",r8);Qa.registerPlugin("particle",W8);Qa.registerPlugin("prepare",i6);Qa.registerPlugin("batch",P8);Qa.registerPlugin("tilingSprite",l6);ri.registerPlugin(h6);ri.registerPlugin(j8);ri.registerPlugin(V8);ri.registerPlugin(H8);ri.registerPlugin(o6);Sh.registerPlugin(QD);Sh.registerPlugin(B8);var d1e="6.4.2",b6={AlphaFilter:d6,BlurFilter:qxe,BlurFilterPass:Hc,ColorMatrixFilter:X1,DisplacementFilter:t1e,FXAAFilter:a1e,NoiseFilter:l1e};const p1e=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Xn},AbstractBatchRenderer:A8,AbstractMultiResource:Lv,AbstractRenderer:S8,AccessibilityManager:JD,AnimatedSprite:x6,AppLoaderPlugin:B8,Application:Sh,ArrayResource:NS,Attribute:g1,get BLEND_MODES(){return $e},get BUFFER_BITS(){return Fc},get BUFFER_TYPE(){return zi},BaseImageResource:ya,BasePrepare:r6,BaseRenderTexture:US,BaseTexture:Et,BatchDrawCall:z0,BatchGeometry:n2,BatchPluginFactory:R8,BatchRenderer:P8,BatchShaderGenerator:I8,BatchSystem:GS,BatchTextureArray:W0,BitmapFont:hs,BitmapFontData:Gc,BitmapFontLoader:h6,BitmapText:$xe,BlobResource:U8,Bounds:vu,Buffer:Dr,BufferResource:Yo,get CLEAR_MODES(){return Ma},CanvasResource:Bv,Circle:WD,CompressedTextureLoader:j8,CompressedTextureResource:Y0,Container:Zr,ContextSystem:XS,CountLimiter:t6,CubeResource:LS,DDSLoader:V8,DEG_TO_RAD:Ka,get DRAW_MODES(){return ai},DisplayObject:Cr,get ENV(){return ga},Ellipse:YD,Extract:N8,get FORMATS(){return Me},FORMATS_TO_COMPONENTS:G8,FillStyle:o2,Filter:ht,FilterState:o8,FilterSystem:VS,Framebuffer:H0,FramebufferSystem:HS,get GC_MODES(){return X0},GLFramebuffer:s8,GLProgram:b8,GLTexture:Kd,GRAPHICS_CURVES:mu,Geometry:zu,GeometrySystem:zS,Graphics:gu,GraphicsData:F1,GraphicsGeometry:Q8,IGLUniformData:J_e,INSTALLED:Dc,get INTERNAL_FORMATS(){return gt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:$c,ImageBitmapResource:DS,ImageResource:Mv,InteractionData:d1,InteractionEvent:e8,InteractionManager:r8,InteractionTrackingData:qd,KTXLoader:H8,get LINE_CAP(){return Ga},get LINE_JOIN(){return Va},LineStyle:e6,Loader:ri,get LoaderResource(){return Xt},get MASK_TYPES(){return gn},get MIPMAP_MODES(){return ti},get MSAA_QUALITY(){return Pr},MaskData:l8,MaskSystem:WS,Matrix:sr,Mesh:yu,MeshBatchUvs:u6,MeshGeometry:Ch,MeshMaterial:xu,NineSlicePlane:c1e,ObjectRenderer:wh,ObservablePoint:mo,PI_2:Mc,get PRECISION(){return Xi},ParticleContainer:Qye,ParticleRenderer:W8,PlaneGeometry:m6,Point:St,Polygon:Ql,Prepare:i6,Program:Wu,ProjectionSystem:KS,Quad:a8,QuadUv:$S,RAD_TO_DEG:OS,get RENDERER_TYPE(){return pu},Rectangle:yt,RenderTexture:$o,RenderTexturePool:i8,RenderTextureSystem:ZS,Renderer:Qa,Resource:Bs,RopeGeometry:g6,RoundedRectangle:qD,Runner:bn,get SAMPLER_TYPES(){return Nc},get SCALE_MODES(){return wn},get SHAPES(){return fr},SVGResource:BS,ScissorSystem:YS,Shader:Ha,ShaderSystem:JS,SimpleMesh:y6,SimplePlane:_6,SimpleRope:f1e,Sprite:bi,SpriteMaskFilter:v8,Spritesheet:a6,SpritesheetLoader:o6,State:qo,StateSystem:QS,StencilSystem:qS,System:pye,get TARGETS(){return Ro},get TEXT_GRADIENT(){return _u},get TYPES(){return et},TYPES_TO_BYTES_PER_COMPONENT:A1,TYPES_TO_BYTES_PER_PIXEL:X8,TemporaryDisplayObject:FS,Text:u2,TextMetrics:Ki,TextStyle:Ms,Texture:at,TextureGCSystem:e2,TextureLoader:M8,TextureMatrix:Dv,TextureSystem:t2,TextureUvs:jS,Ticker:un,TickerPlugin:QD,TilingSprite:Sxe,TilingSpriteRenderer:l6,TimeLimiter:wxe,Transform:Eh,get UPDATE_PRIORITY(){return _a},UniformGroup:Po,VERSION:d1e,VideoResource:MS,ViewableBuffer:Uc,get WRAP_MODES(){return va},accessibleTarget:ZD,autoDetectRenderer:C8,autoDetectResource:Nv,checkMaxIfStatementsInShader:p8,createUBOElements:_8,defaultFilterVertex:r2,defaultVertex:T8,filters:b6,generateProgram:E8,generateUniformBufferSync:x8,getTestContext:c8,getUBOData:y8,graphicsUtils:oxe,groupD8:lr,interactiveTarget:t8,isMobile:Ei,resources:O8,settings:Ye,systems:k8,uniformParsers:Is,utils:d_e},Symbol.toStringTag,{value:"Module"}));let bd;const v1e=new Uint8Array(16);function m1e(){if(!bd&&(bd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bd(v1e)}const mn=[];for(let t=0;t<256;++t)mn.push((t+256).toString(16).slice(1));function g1e(t,e=0){return mn[t[e+0]]+mn[t[e+1]]+mn[t[e+2]]+mn[t[e+3]]+"-"+mn[t[e+4]]+mn[t[e+5]]+"-"+mn[t[e+6]]+mn[t[e+7]]+"-"+mn[t[e+8]]+mn[t[e+9]]+"-"+mn[t[e+10]]+mn[t[e+11]]+mn[t[e+12]]+mn[t[e+13]]+mn[t[e+14]]+mn[t[e+15]]}const _1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wk={randomUUID:_1e};function Sf(t,e,r){if(wk.randomUUID&&!e&&!t)return wk.randomUUID();t=t||{};const n=t.random||(t.rng||m1e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return g1e(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Z1=function(t,e){return Z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Z1(t,e)};function y1e(t,e){Z1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,b1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,E1e=function(t){y1e(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,x1e,b1e)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(ht);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J1=function(t,e){return J1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},J1(t,e)};function w1e(t,e){J1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var S1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,C1e=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,T1e=function(t){w1e(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,S1e,C1e)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q1=function(t,e){return Q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Q1(t,e)};function A1e(t,e){Q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var I1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,R1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,P1e=function(t){A1e(e,t);function e(r){var n=t.call(this,I1e,R1e)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(ht);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eb=function(t,e){return eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eb(t,e)};function O1e(t,e){eb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,F1e=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,N1e=function(t){O1e(e,t);function e(r){var n=t.call(this,k1e,F1e)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=at.from(n._canvas,{scaleMode:wn.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.aspect=f/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,f=0;f<n;f++){var l=s/(o-f),u=Math.max(l*(1-Math.random()*.6),a);r[f]=u,s-=u}r[n]=s}else{for(var s=1,c=Math.sqrt(1/this._slices),f=0;f<n;f++){var u=Math.max(c*s*Math.random(),a);r[f]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var f=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,f+1>>0),o+=f}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Ka;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(ht);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tb=function(t,e){return tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tb(t,e)};function L1e(t,e){tb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,M1e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,D1e=function(t){L1e(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,B1e,M1e)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rb=function(t,e){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rb(t,e)};function U1e(t,e){rb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var j1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$1e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,V1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,G1e=function(t){U1e(e,t);function e(r){var n=t.call(this,j1e,V1e.replace("${perlin}",$1e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new St,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.aspect=f/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Ka;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(ht);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nb=function(t,e){return nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nb(t,e)};function X1e(t,e){nb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,z1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){X1e(e,t);function e(r){var n=t.call(this,H1e,z1e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(ht);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ib=function(t,e){return ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ib(t,e)};function W1e(t,e){ib(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Y1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,q1e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,K1e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,q0=function(t){W1e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,Y1e,i?K1e:q1e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new St,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,f;if(this._quality===1||this._blur===0)f=this._kernels[0]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,c=l,h=void 0,p=this._quality-1,d=0;d<p;d++)f=this._kernels[d]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,u,c,1),h=u,u=c,c=h;f=this._kernels[p]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof St?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(ht);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ab=function(t,e){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ab(t,e)};function E6(t,e){ab(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var w6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z1e=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,J1e=function(t){E6(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,w6,Z1e)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(ht),Q1e=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){E6(e,t);function e(r){var n=t.call(this,w6,Q1e)||this;n.bloomScale=1,n.brightness=1,n._resolution=Ye.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,f=i.pixelSize,l=i.resolution;return n._extractFilter=new J1e(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new q0(a):new q0(o,s),n.pixelSize=f,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var f=r.getFilterTexture();this._blurFilter.apply(r,s,f,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=f,r.applyFilter(this,n,i,a),r.returnFilterTexture(f),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Ye.FILTER_RESOLUTION},e})(ht);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ob=function(t,e){return ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ob(t,e)};function ebe(t,e){ob(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,rbe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){ebe(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,tbe,rbe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sb=function(t,e){return sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sb(t,e)};function nbe(t,e){sb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ibe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,abe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){nbe(e,t);function e(r){var n=t.call(this,ibe,abe)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Ka},set:function(r){this._angle=r*Ka,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return Vn(this.uniforms.lightColor)},set:function(r){Jr(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return Vn(this.uniforms.shadowColor)},set:function(r){Jr(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lb=function(t,e){return lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lb(t,e)};function obe(t,e){lb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){obe(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=Ye.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,f;return typeof r=="number"?(s=r,f=r):r instanceof St?(s=r.x,f=r.y):Array.isArray(r)&&(s=r[0],f=r[1]),o.blurXFilter=new Hc(!0,s,n,i,a),o.blurYFilter=new Hc(!1,f,n,i,a),o.blurYFilter.blendMode=$e.SCREEN,o.defaultFilter=new d6,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ub=function(t,e){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ub(t,e)};function sbe(t,e){ub(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ube=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){sbe(e,t);function e(r){var n=t.call(this,lbe,ube)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(ht);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fb=function(t,e){return fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fb(t,e)};function fbe(t,e){fb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){fbe(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,cbe,hbe)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof at||(r=at.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=ti.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?wn.NEAREST:wn.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=ti.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(ht);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cb=function(t,e){return cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cb(t,e)};function dbe(t,e){cb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,vbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){dbe(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,pbe,vbe)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(Jr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=Vn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hb=function(t,e){return hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hb(t,e)};function mbe(t,e){hb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_be=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){mbe(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,gbe,_be)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(Jr(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=Vn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(Jr(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=Vn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var db=function(t,e){return db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},db(t,e)};function ybe(t,e){db(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bbe=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){ybe(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,xbe,bbe)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pb=function(t,e){return pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pb(t,e)};function Ebe(t,e){pb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Sbe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){Ebe(e,t);function e(){return t.call(this,wbe,Sbe)||this}return e})(ht);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vb=function(t,e){return vb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vb(t,e)};function Cbe(t,e){vb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Abe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){Cbe(e,t);function e(r){var n=t.call(this,Tbe,Abe)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(ht);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mb=function(t,e){return mb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mb(t,e)};function Ibe(t,e){mb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K0=function(){return K0=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K0.apply(this,arguments)},Rbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Pbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){Ibe(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=Ye.FILTER_RESOLUTION;var i=r?K0(K0({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,f=i.pixelSize,l=i.resolution;n._tintFilter=new ht(Rbe,Pbe),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new St,n._tintFilter.resolution=l,n._blurFilter=a?new q0(a):new q0(o,s),n.pixelSize=f,n.resolution=l;var u=i.shadowOnly,c=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=c,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Ka},set:function(r){this.angle=r*Ka,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return Vn(this._tintFilter.uniforms.color)},set:function(r){Jr(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:Ye.FILTER_RESOLUTION},e})(ht);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gb=function(t,e){return gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gb(t,e)};function Obe(t,e){gb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Fbe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){Obe(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,kbe,Fbe)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _b=function(t,e){return _b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_b(t,e)};function Nbe(t,e){_b(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Bbe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){Nbe(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,f=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,Lbe,Bbe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:f}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return Vn(this.uniforms.glowColor)},set:function(r){Jr(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(ht);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yb=function(t,e){return yb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yb(t,e)};function Mbe(t,e){yb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ube=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){Mbe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,Dbe,Ube)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new mo(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,f=o.y;this.uniforms.uKernelSize=s!==0||f!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xb=function(t,e){return xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xb(t,e)};function jbe(t,e){xb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $be=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Vbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){jbe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,$be,Vbe.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],f=s[0];typeof f=="number"?f=Jr(f):s[0]=Vn(f),n[o*3]=f[0],n[o*3+1]=f[1],n[o*3+2]=f[2];var l=s[1];typeof l=="number"?l=Jr(l):s[1]=Vn(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bb=function(t,e){return bb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bb(t,e)};function Gbe(t,e){bb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){Gbe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,Xbe,Hbe.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return Vn(this.uniforms.outlineColor)},set:function(r){Jr(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(ht);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eb=function(t,e){return Eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Eb(t,e)};function zbe(t,e){Eb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ybe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){zbe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,Wbe,Ybe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wb=function(t,e){return wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wb(t,e)};function qbe(t,e){wb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Zbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){qbe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,Kbe,Zbe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sb=function(t,e){return Sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Sb(t,e)};function Jbe(t,e){Sb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eEe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,tEe=function(t){Jbe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,Qbe,eEe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(ht);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cb=function(t,e){return Cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cb(t,e)};function rEe(t,e){Cb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iEe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){rEe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,nEe,iEe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(Jr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=Vn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tb=function(t,e){return Tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tb(t,e)};function Uv(t,e){Tb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,oEe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,S6=function(t){Uv(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,aEe,oEe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new St(0,window.innerHeight/2),o.uniforms.end=a||new St(600,window.innerHeight/2),o.uniforms.delta=new St(30,30),o.uniforms.texSize=new St(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(ht),sEe=function(t){Uv(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(S6),lEe=function(t){Uv(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(S6);(function(t){Uv(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new sEe(r,n,i,a),o.tiltShiftYFilter=new lEe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(ht);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ab=function(t,e){return Ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ab(t,e)};function uEe(t,e){Ab(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cEe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){uEe(e,t);function e(r){var n=t.call(this,fEe,cEe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new St},e})(ht);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ib=function(t,e){return Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ib(t,e)};function hEe(t,e){Ib(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function dEe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var pEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,vEe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){hEe(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=dEe(i,["maxKernelSize"]);return n=t.call(this,pEe,vEe.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(ht);const Rb="shockwaveFilter";function mEe(t,e){const r=t.containerFilters.get(Rb);if(r)return r;if(e){const n=new tEe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(Rb,n),n}}function gEe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function _Ee(t,e){if(e===0)t.removeFilter(Rb);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const Pb=0,Ob="radiusAlphaFilter";class yEe extends ht{constructor(e,r){const n=`
// 半径透明度的fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 输入纹理
varying vec2 vTextureCoord;  // 当前片元的纹理坐标
uniform vec2 center;         // 圆心坐标
uniform float radius;        // 圆的半径

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 计算屏幕宽高比
    float aspect = 16.0 / 9.0;

    // 根据宽高比校正纹理坐标
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 计算片元到圆心的距离
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // 使用smoothstep函数计算alpha值,实现边缘羽化效果
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 输出最终颜色
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new St(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function xEe(t,e){const r=t.containerFilters.get(Ob);if(r)return r;if(e){const n=new yEe(new St(.5,.5),Pb);return n.radius=Pb,t.addFilter(n),t.containerFilters.set(Ob,n),n}}function bEe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:Pb}function EEe(t,e){if(e===0)t.removeFilter(Ob);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class Q_ extends Zr{constructor(){super();Xe(this,"containerFilters",new Map);Xe(this,"baseX",0);Xe(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new b6.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new E1e;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new T1e;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new P1e;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new N1e;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new D1e;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new G1e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return mEe(this,r)}get shockwaveFilter(){return gEe(this)}set shockwaveFilter(r){_Ee(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return xEe(this,r)}get radiusAlphaFilter(){return bEe(this)}set radiusAlphaFilter(r){EEe(this,r)}}var _t;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(_t||(_t={}));var Z0=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),X;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(X||(X={}));var vt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(vt||(vt={}));var cr;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(cr||(cr={}));var Sr;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(Sr||(Sr={}));var ft;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(ft||(ft={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kb=function(t,e){return kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kb(t,e)};function qu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Sk(t){switch(t.toLowerCase()){case"nearest":return jn.Nearest;case"linear":return jn.Linear;case"mipmap":return jn.MipMap;case"mipmapnearestnearest":return jn.MipMapNearestNearest;case"mipmaplinearnearest":return jn.MipMapLinearNearest;case"mipmapnearestlinear":return jn.MipMapNearestLinear;case"mipmaplinearlinear":return jn.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var jn;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(jn||(jn={}));var go;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(go||(go={}));var Fb=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),wEe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),SEe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new Ck,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=jn.Nearest,i.uWrap=go.ClampToEdge,i.vWrap=go.ClampToEdge,n.push(i)}var s=new Tk;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new CEe(e),o=new Array(4),s=null,f={},l=null;f.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},f.format=function(){},f.filter=function(){s.minFilter=Sk(o[1]),s.magFilter=Sk(o[2])},f.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=go.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=go.Repeat)},f.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var c=a.readLine();c!=null&&c.trim().length==0;)c=a.readLine();for(;!(c==null||c.trim().length==0||a.readEntry(o,c)==0);)c=a.readLine();var h=function(){for(;;){if(c==null)return n&&n(i);if(c.trim().length==0)s=null,c=a.readLine();else if(s===null){for(s=new Ck,s.name=c.trim();a.readEntry(o,c=a.readLine())!=0;){var p=f[o[0]];p&&p()}i.pages.push(s),r(s.name,function(C){if(C===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=C,s.pma&&(C.alphaMode=Xn.PMA),C.valid||C.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=C.realWidth,s.height=C.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new wEe;var d=new Tk;d.name=c,d.page=s;for(var m=null,_=null;;){var v=a.readEntry(o,c=a.readLine());if(v==0)break;var p=u[o[0]];if(p)p();else{m==null&&(m=[],_=[]),m.push(o[0]);for(var g=[],y=0;y<v;y++)g.push(parseInt(o[y+1]));_.push(g)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var x=s.baseTexture.resolution;l.x/=x,l.y/=x,l.width/=x,l.height/=x,l.originalWidth/=x,l.originalHeight/=x,l.offsetX/=x,l.offsetY/=x;var b=l.rotate%4!==0,E=new yt(l.x,l.y,b?l.height:l.width,b?l.width:l.height),w=new yt(0,0,l.originalWidth,l.originalHeight),S=new yt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new at(d.page.baseTexture,E,w,S,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),CEe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),Ck=function(){function t(){this.minFilter=jn.Nearest,this.magFilter=jn.Nearest,this.uWrap=go.ClampToEdge,this.vWrap=go.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==jn.Linear?e.scaleMode=wn.LINEAR:this.minFilter==jn.Nearest?e.scaleMode=wn.NEAREST:(e.mipmap=ti.POW2,r==jn.MipMapNearestNearest?e.scaleMode=wn.NEAREST:e.scaleMode=wn.LINEAR)},t}(),Tk=function(t){qu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Fb),TEe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),AEe=Math.fround||TEe,C6=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),T6=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),Be=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),W=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),IEe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),REe=function(t){qu(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(IEe),A6=function(t){qu(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(REe),oe=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?AEe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),jv=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),zc=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),c2=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new jv(function(){return oe.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var f=0;f<s;f++){var l=o[f];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===_t.BoundingBox){var c=u;n.push(c);var h=a.obtain();h.length!=c.worldVerticesLength&&(h=oe.newFloatArray(c.worldVerticesLength)),i.push(h),c.computeWorldVertices(l,0,c.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var f=a[o],l=f,u=0,c=f.length;u<c;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,f=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=f&&i>=f)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<f||(u=l*(s-e)+r,u>o&&u<f))return!0;var c=(o-r)/l+e;return c>a&&c<s||(c=(f-r)/l+e,c>a&&c<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,f=0;f<a;f+=2){var l=i[f+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[f];c+(n-l)/(u-l)*(i[o]-c)<r&&(s=!s)}o=f}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,f=r-i,l=n-a,u=r*a-n*i,c=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],m=o[p+1],_=c*m-h*d,v=c-d,g=h-m,y=f*g-l*v,x=(u*v-f*_)/y;if((x>=c&&x<=d||x>=d&&x<=c)&&(x>=r&&x<=i||x>=i&&x<=r)){var b=(u*g-l*_)/y;if((b>=h&&b<=m||b>=m&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}c=d,h=m}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),PEe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},to=[0,0,0],OEe=function(t){qu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(bi),kEe=function(t){qu(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(y6),Th=function(t){qu(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),f=n.newContainer();if(n.slotContainers.push(f),n.addChild(f),n.tempClipContainers.push(null),!!s)if(s.type===_t.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,f.addChild(u)}else if(s.type===_t.Mesh){var c=n.createMesh(o,s);o.currentMesh=c,o.currentMeshId=s.id,o.currentMeshName=s.name,f.addChild(c)}else s.type===_t.Clipping&&(n.createGraphics(o,s),f.addChild(o.clippingContainer),f.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:Zr.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return Vn(this.tintRgb)},set:function(r){this.tintRgb=Jr(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:PEe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,f=null;o?(s=o.light,f=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var c=a[l],h=c.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(c,h);var m=h.region,_=h.color;switch(h!=null&&h.type){case _t.Region:var v=p.transform;if(v.setFromMatrix(c.bone.matrix),m=h.region,c.currentMesh&&(c.currentMesh.visible=!1,c.currentMesh=null,c.currentMeshId=void 0,c.currentMeshName=void 0),!m){c.currentSprite&&(c.currentSprite.renderable=!1);break}if(!c.currentSpriteName||c.currentSpriteName!==h.name){var g=h.name;if(c.currentSprite&&(c.currentSprite.visible=!1),c.sprites=c.sprites||{},c.sprites[g]!==void 0)c.sprites[g].visible=!0;else{var y=this.createSprite(c,h,g);p.addChild(y)}c.currentSprite=c.sprites[g],c.currentSpriteName=g}c.currentSprite.renderable=!0,c.hackRegion||this.setSpriteRegion(h,c.currentSprite,m),c.currentSprite.color?d=c.currentSprite.color:(to[0]=s[0]*c.color.r*_.r,to[1]=s[1]*c.color.g*_.g,to[2]=s[2]*c.color.b*_.b,c.currentSprite.tint=Vn(to)),c.currentSprite.blendMode=c.blendMode;break;case _t.Mesh:if(c.currentSprite){c.currentSprite.visible=!1,c.currentSprite=null,c.currentSpriteName=void 0;var x=new Eh;x._parentID=-1,x._worldID=p.transform._worldID,p.transform=x}if(!m){c.currentMesh&&(c.currentMesh.renderable=!1);break}var b=h.id;if(c.currentMeshId===void 0||c.currentMeshId!==b){var E=b;if(c.currentMesh&&(c.currentMesh.visible=!1),c.meshes=c.meshes||{},c.meshes[E]!==void 0)c.meshes[E].visible=!0;else{var w=this.createMesh(c,h);p.addChild(w)}c.currentMesh=c.meshes[E],c.currentMeshName=h.name,c.currentMeshId=E}c.currentMesh.renderable=!0,h.computeWorldVerticesOld(c,c.currentMesh.vertices),c.currentMesh.color?d=c.currentMesh.color:(to[0]=s[0]*c.color.r*_.r,to[1]=s[1]*c.color.g*_.g,to[2]=s[2]*c.color.b*_.b,c.currentMesh.tint=Vn(to)),c.currentMesh.blendMode=c.blendMode,c.hackRegion||this.setMeshRegion(h,c.currentMesh,m);break;case _t.Clipping:c.currentGraphics||(this.createGraphics(c,h),p.addChild(c.clippingContainer),p.addChild(c.currentGraphics)),this.updateGraphics(c,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var S=c.color.r*_.r,C=c.color.g*_.g,T=c.color.b*_.b;d.setLight(s[0]*S+f[0]*(1-S),s[1]*C+f[1]*(1-C),s[2]*T+f[2]*(1-T)),c.darkColor?(S=c.darkColor.r,C=c.darkColor.g,T=c.darkColor.b):(S=0,C=0,T=0),d.setDark(s[0]*S+f[0]*(1-S),s[1]*C+f[1]*(1-C),s[2]*T+f[2]*(1-T))}p.alpha=c.color.a}for(var I=this.skeleton.drawOrder,A=null,R=null,l=0,u=I.length;l<u;l++){var c=a[I[l].data.index],p=this.slotContainers[I[l].data.index];if(R||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),c.currentGraphics&&c.getAttachment())R=c.clippingContainer,A=c.getAttachment(),R.children.length=0,this.children[l]=p,A.endSlot===c.data&&(A.endSlot=null);else if(R){var O=this.tempClipContainers[l];O||(O=this.tempClipContainers[l]=this.newContainer(),O.visible=!1),this.children[l]=O,p.parent=null,R.addChild(p),A.endSlot==c.data&&(R.renderable=!0,R=null,A=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*W.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}Zr.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),ai.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Ql([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new Fb,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var f=this.skeleton.slots[o];if(!f)return!1;var l=f.getAttachment();if(n===l.name){var u=s.region;return i?(u=new Fb,u.texture=i,u.size=a,f.hackRegion=u,f.hackAttachment=l):(f.hackRegion=null,f.hackAttachment=null),f.currentSprite&&f.currentSprite.region!=u?(this.setSpriteRegion(l,f.currentSprite,u),f.currentSprite.region=u):f.currentMesh&&f.currentMesh.region!=u&&this.setMeshRegion(l,f.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new Zr},e.prototype.newSprite=function(r){return new OEe(r)},e.prototype.newGraphics=function(){return new gu},e.prototype.newMesh=function(r,n,i,a,o){return new kEe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,f=this.skeleton.slots.length;s<f;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",c=l.currentSprite||l.currentMesh;u.endsWith(r)?(c.parentGroup=n,o.push(c)):i&&c&&(c.parentGroup=i,a.push(c))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(Zr);Object.defineProperty(Th.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function FEe(t){return t.type===Xt.TYPE.JSON}function NEe(t){return t.xhrType===Xt.XHR_RESPONSE_TYPE.BUFFER}Xt.setExtensionXhrType("skel",Xt.XHR_RESPONSE_TYPE.BUFFER);var LEe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=FEe(r)&&r.data.bones,a=NEe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var f=r.metadata||{},l=f?f.spineSkeletonScale:null;l&&(o.scale=l);var u=f.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var c=f.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+c,f.spineAtlasFile&&(h=f.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Xt.XHR_RESPONSE_TYPE.TEXT,metadata:f.spineMetadata||null,parentResource:r},m={crossOrigin:r.crossOrigin,metadata:f.imageMetadata||null,parentResource:r},_=r.url.substr(0,r.url.lastIndexOf("/")+1);_=_.replace(this.baseUrl,"");var v=f.imageNamePrefix||r.name+"_atlas_page_",g=f.images?Ak(f.images):f.image?Ak({default:f.image}):f.imageLoader?f.imageLoader(this,v,_,m):BEe(this,v,_,m);function y(x){new SEe(x,g,function(b){b&&e.parseData(r,o,b,s),n()})}f.atlasRawData?y(f.atlasRawData):this.add(r.name+"_atlas",h,d,function(x){x.error?n():y(x.data)})}}},t}();function BEe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,f=t.resources[o];if(f){var l=function(){a(f.texture.baseTexture)};f.texture?l():f.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=Xn.PMA),a(u.texture.baseTexture))})}}function Ak(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nb=function(t,e){return Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Nb(t,e)};function pr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h2=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Ks=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.deform,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,N+=2){var h=I[c[w]].matrix,b=u[_]+F[N],E=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(h2),I6=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.BoundingBox,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ks),R6=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Clipping,n.color=new Be(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ks),$v=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Mesh,n.color=new Be(1,1,1,1),n.tempColor=new Be(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Ks),Wc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ks),P6=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Point,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ks),d2=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor==null?null:new Be,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),p2=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Be(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Be(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,f=this.rotation*Math.PI/180,l=Math.cos(f),u=Math.sin(f),c=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=c-d,y[e.OY1]=p+h,y[e.OX2]=c-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof d2?r.bone.matrix:r.matrix,f=s.tx,l=s.ty,u=s.a,c=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(h2),MEe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),DEe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,f=Math.sqrt(o*o+s*s);if(f<this.radius){var l=t.interpolation.apply(0,a,(this.radius-f)/this.radius),u=Math.cos(l),c=Math.sin(l);e.x=u*o-c*s+this.worldX,e.y=c*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new A6(2),t}(),Nr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,f){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),hn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(hn||(hn={}));var Ta=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,f=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+f,c=s*2+l,h=r*.3+o+f*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=c,u+=f,c+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,f=i+t.BEZIER_SIZE-1;i<f;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var c=n[i-1];return c+(1-c)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),ii=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(hn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.rotation=u.data.rotation;return;case X.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case X.setup:u.rotation=u.data.rotation+h*o;break;case X.first:case X.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case X.add:u.rotation+=h*o}return}var p=Nr.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case X.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case X.first:case X.replace:v+=u.data.rotation-u.rotation;case X.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Ta),Ds=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.x=u.data.x,u.y=u.data.y;return;case X.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Nr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,h+=(l[p+e.Y]-h)*m}switch(s){case X.setup:u.x=u.data.x+c*o,u.y=u.data.y+h*o;break;case X.first:case X.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case X.add:u.x+=c*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Ta),v2=function(t){pr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(hn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case X.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=Nr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=(c+(l[p+e.X]-c)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==X.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=c,u.scaleY=h);else{var _=0,v=0;if(f==vt.mixOut)switch(s){case X.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.first:case X.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case X.setup:_=Math.abs(u.data.scaleX)*W.signum(c),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.first:case X.replace:_=Math.abs(u.scaleX)*W.signum(c),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.add:_=W.signum(c),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(c-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}}},e}(Ds),m2=function(t){pr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(hn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case X.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Nr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=c+(l[p+e.X]-c)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case X.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+h*o;break;case X.first:case X.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case X.add:u.shearX+=c*o,u.shearY+=h*o}}},e}(Ds),Yc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color);return;case X.first:var c=l.color,h=l.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=Nr.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var c=l.color;s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Ta),qc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=f,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case X.first:var c=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var w=Nr.binarySearch(u,i,e.ENTRIES);m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2];var S=u[w],C=this.getCurvePercent(w/e.ENTRIES-1,1-(i-S)/(u[w+e.PREV_TIME]-S));m+=(u[w+e.R]-m)*C,_+=(u[w+e.G]-_)*C,v+=(u[w+e.B]-v)*C,g+=(u[w+e.A]-g)*C,y+=(u[w+e.R2]-y)*C,x+=(u[w+e.G2]-x)*C,b+=(u[w+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var c=l.color,h=l.darkColor;s==X.setup&&(c.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Ta),bs=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(hn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.slots[this.slotIndex];if(f.bone.active){if(s==vt.mixOut){o==X.setup&&this.setAttachment(e,f,f.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==X.setup||o==X.first)&&this.setAttachment(e,f,f.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=Nr.binarySearch(l,n,1)-1;var c=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(c==null?null:e.getAttachment(this.slotIndex,c))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),Ik=null,g2=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),Ik==null&&(Ik=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(hn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Ks)||u.deformAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=X.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;break}var _=oe.setArraySize(c,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(c,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,b=0;b<p;b++)y[b]+=x[b]-v[b];else for(var E=0;E<p;E++)y[E]+=x[E]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case X.setup:{var w=u;if(w.bones==null)for(var v=w.vertices,S=0;S<p;S++){var C=v[S];y[S]=C+(x[S]-C)*o}else for(var T=0;T<p;T++)y[T]=x[T]*o;break}case X.first:case X.replace:for(var I=0;I<p;I++)y[I]+=(x[I]-y[I])*o;break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,A=0;A<p;A++)y[A]+=(x[A]-v[A])*o;else for(var R=0;R<p;R++)y[R]+=x[R]*o}return}var O=Nr.binarySearch(d,i),F=h[O-1],N=h[O],$=d[O],q=this.getCurvePercent(O-1,1-(i-$)/(d[O-1]-$));if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,K=0;K<p;K++){var G=F[K];y[K]+=G+(N[K]-G)*q-v[K]}else for(var L=0;L<p;L++){var G=F[L];y[L]+=G+(N[L]-G)*q}}else for(var j=0;j<p;j++){var G=F[j];y[j]=G+(N[j]-G)*q}else switch(s){case X.setup:{var M=u;if(M.bones==null)for(var v=M.vertices,D=0;D<p;D++){var G=F[D],C=v[D];y[D]=C+(G+(N[D]-G)*q-C)*o}else for(var J=0;J<p;J++){var G=F[J];y[J]=(G+(N[J]-G)*q)*o}break}case X.first:case X.replace:for(var Q=0;Q<p;Q++){var G=F[Q];y[Q]+=(G+(N[Q]-G)*q-y[Q])*o}break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,se=0;se<p;se++){var G=F[se];y[se]+=(G+(N[se]-G)*q-v[se])*o}else for(var re=0;re<p;re++){var G=F[re];y[re]+=(G+(N[re]-G)*q)*o}}}}},e}(Ta),Vv=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return hn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var f=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=f[l-1])return;if(!(n<f[0])){var u=0;if(r<f[0])u=0;else{u=Nr.binarySearch(f,r);for(var c=f[u];u>0&&f[u-1]==c;)u--}for(;u<l&&n>=f[u];u++)i.push(this.events[u])}}},t}(),eu=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return hn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.drawOrder,l=e.slots;if(s==vt.mixOut&&o==X.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==X.setup||o==X.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=Nr.binarySearch(u,n)-1;var h=this.drawOrders[c];if(h==null)oe.arrayCopy(l,0,f,0,l.length);else for(var p=0,d=h.length;p<d;p++)f[p]=l[h[p]]},t}(),Kc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=f?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case X.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==X.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,f==vt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,f==vt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var c=Nr.binarySearch(l,i,e.ENTRIES),h=l[c+e.PREV_MIX],p=l[c+e.PREV_SOFTNESS],d=l[c],m=this.getCurvePercent(c/e.ENTRIES-1,1-(i-d)/(l[c+e.PREV_TIME]-d));s==X.setup?(u.mix=u.data.mix+(h+(l[c+e.MIX]-h)*m-u.data.mix)*o,u.softness=u.data.softness+(p+(l[c+e.SOFTNESS]-p)*m-u.data.softness)*o,f==vt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[c+e.MIX]-h)*m-u.mix)*o,u.softness+=(p+(l[c+e.SOFTNESS]-p)*m-u.softness)*o,f==vt.mixIn&&(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(Ta),Zc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var c=u.data;switch(s){case X.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case X.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=Nr.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==X.setup){var c=u.data;u.rotateMix=c.rotateMix+(h-c.rotateMix)*o,u.translateMix=c.translateMix+(p-c.translateMix)*o,u.scaleMix=c.scaleMix+(d-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Ta),bu=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.position=u.data.position;return;case X.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Nr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Ta),_2=function(t){pr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(hn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.spacing=u.data.spacing;return;case X.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Nr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o}},e}(bu),Jc=function(t){pr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(hn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case X.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=Nr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.ROTATE]-c)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==X.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Ta),O6=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new F6(this),this.propertyIDs=new C6,this.animationsChanged=!1,this.trackEntryPool=new jv(function(){return new k6}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||f==X.add)for(var d=0;d<h;d++){oe.webkit602BugfixHelper(l,f);var m=p[d];m instanceof bs?this.applyAttachmentTimeline(m,e,c,f,!0):m.apply(e,u,c,r,l,f,vt.mixIn)}else{var _=s.timelineMode,v=s.timelinesRotation.length==0;v&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,d=0;d<h;d++){var y=p[d],x=_[d]==t.SUBSEQUENT?f:X.setup;y instanceof ii?this.applyRotateTimeline(y,e,c,l,x,g,d<<1,v):y instanceof bs?this.applyAttachmentTimeline(y,e,c,f,!0):(oe.webkit602BugfixHelper(l,f),y.apply(e,u,c,r,l,x,vt.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,E=e.slots,w=0,S=e.slots.length;w<S;w++){var C=E[w];if(C.attachmentState==b){var T=C.data.attachmentName;C.setAttachment(T==null?null:e.getAttachment(C.data.index,T))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,f=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==X.add)for(var m=0;m<c;m++)h[m].apply(r,l,u,o,d,n,vt.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,c<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=h[m],b=vt.mixOut,E=void 0,w=0;switch(_[m]){case t.SUBSEQUENT:if(!f&&x instanceof eu)continue;E=n,w=d;break;case t.FIRST:E=X.setup,w=d;break;case t.HOLD_SUBSEQUENT:E=n,w=p;break;case t.HOLD_FIRST:E=X.setup,w=p;break;default:E=X.setup;var S=v[m];w=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=w,x instanceof ii?this.applyRotateTimeline(x,r,u,w,E,y,m<<1,g):x instanceof bs?this.applyAttachmentTimeline(x,r,u,E,s):(oe.webkit602BugfixHelper(w,n),f&&x instanceof eu&&E==X.setup&&(b=vt.mixIn),x.apply(r,l,u,o,w,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==X.setup||i==X.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var f;n>=s[s.length-1]?f=s.length-1:f=Nr.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[f],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,vt.mixIn);return}var l=e,u=l.frames,c=r.bones[l.boneIndex];if(c.active){var h=0,p=0;if(n<u[0])switch(a){case X.setup:c.rotation=c.data.rotation;default:return;case X.first:h=c.rotation,p=c.data.rotation}else if(h=a==X.setup?c.data.rotation:c.rotation,n>=u[u.length-ii.ENTRIES])p=c.data.rotation+u[u.length+ii.PREV_ROTATION];else{var d=Nr.binarySearch(u,n,ii.ENTRIES),m=u[d+ii.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+ii.PREV_TIME]-_));p=u[d+ii.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+c.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;f?(x=0,b=y):(x=o[s],b=o[s+1]);var E=y>0,w=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),w=E),g=y+x-x%360,w!=E&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,c.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,s[f])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=X.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=X.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var f=0;f<i;f++)a[f]=s.add(n[f].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var f=0;f<i;f++){var l=n[f],u=l.getPropertyId();if(!s.add(u))a[f]=t.SUBSEQUENT;else if(r==null||l instanceof bs||l instanceof eu||l instanceof Vv||!r.animation.hasTimeline(u))a[f]=t.FIRST;else{for(var c=r.mixingTo;c!=null;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(e.mixDuration>0){a[f]=t.HOLD_MIX,o[f]=c;continue e}break}a[f]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Nr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),k6=function(){function t(){this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),F6=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Mn.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Mn.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Mn.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Mn.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Mn.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Mn.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Mn.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Mn.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Mn.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Mn.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Mn.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Mn.event:var f=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,f);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,f);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Mn;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Mn||(Mn={}));var UEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),N6=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),y2=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new p2(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new $v(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new I6(r)},t.prototype.newPathAttachment=function(e,r){return new Wc(r)},t.prototype.newPointAttachment=function(e,r){return new P6(r)},t.prototype.newClippingAttachment=function(e,r){return new R6(r)},t}(),Lb=function(){function t(e,r,n){if(this.matrix=new sr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(f==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,d/=this.skeleton.scaleX,_/=this.skeleton.scaleY,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,N=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o,this.appliedValid=!1},t}(),x2=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,this.skinRequired=!1,this.color=new Be,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Gv=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),b2=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),E2=function(){function t(e){this.name=e}return t}(),L6=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var f=e.parent.matrix,l=f.a,u=f.c,c=f.b,h=f.d,p=-e.ashearX-e.arotation,d=0,m=0;switch(e.data.transformMode){case ft.OnlyTranslation:d=r-e.worldX,m=n-e.worldY;break;case ft.NoRotationOrReflection:var _=Math.abs(l*h-u*c)/(l*l+c*c),v=l/e.skeleton.scaleX,g=c/e.skeleton.scaleY;u=-g*_*e.skeleton.scaleX,h=v*_*e.skeleton.scaleY,p+=Math.atan2(g,v)*W.radDeg;default:var y=r-f.tx,x=n-f.ty,b=l*h-u*c;d=(y*h-x*u)/b-e.ax,m=(x*l-y*c)/b-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,w=e.ascaleY;if(i||a){switch(e.data.transformMode){case ft.NoScale:case ft.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var S=e.data.length*E,C=Math.sqrt(d*d+m*m);if(i&&C<S||a&&C>S&&S>1e-4){var _=(C/S-1)*s+1;E*=_,o&&(w*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,w,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,f){if(f==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,c=e.ascaleX,h=c,p=e.ascaleY,d=r.ascaleX,m=e.matrix,_=0,v=0,g=0;c<0?(c=-c,_=180,g=-1):(_=0,g=1),p<0&&(p=-p,g=-g),d<0?(d=-d,v=180):v=0;var y=r.ax,x=0,b=0,E=0,w=m.a,S=m.c,C=m.b,T=m.d,I=Math.abs(c-p)<=1e-4;I?(x=r.ay,b=w*y+S*x+m.tx,E=C*y+T*x+m.ty):(x=0,b=w*y+m.tx,E=C*y+m.ty);var A=e.parent.matrix;w=A.a,S=A.c,C=A.b,T=A.d;var R=1/(w*T-S*C),O=b-A.tx,F=E-A.ty,N=(O*T-F*S)*R-l,$=(F*w-O*C)*R-u,q=Math.sqrt(N*N+$*$),K=r.data.length*d,G,L;if(q<1e-4){this.apply1(e,n,i,!1,o,!1,f),r.updateWorldTransformWith(y,x,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}O=n-A.tx,F=i-A.ty;var j=(O*T-F*S)*R-l,M=(F*w-O*C)*R-u,D=j*j+M*M;if(s!=0){s*=c*(d+1)/2;var J=Math.sqrt(D),Q=J-q-K*c+s;if(Q>0){var se=Math.min(1,Q/(s*2))-1;se=(Q-s*(1-se*se))/J,j-=se*j,M-=se*M,D=j*j+M*M}}e:if(I){K*=c;var re=(D-q*q-K*K)/(2*q*K);re<-1?re=-1:re>1&&(re=1,o&&(h*=(Math.sqrt(D)/(q+K)-1)*f+1)),L=Math.acos(re)*a,w=q+K*re,S=K*Math.sin(L),G=Math.atan2(M*w-j*S,j*w+M*S)}else{w=c*K,S=p*K;var fe=w*w,we=S*S,Ee=Math.atan2(M,j);C=we*q*q+fe*D-fe*we;var pe=-2*we*q,ve=we-fe;if(T=pe*pe-4*ve*C,T>=0){var Ae=Math.sqrt(T);pe<0&&(Ae=-Ae),Ae=-(pe+Ae)/2;var ke=Ae/ve,Te=C/Ae,Fe=Math.abs(ke)<Math.abs(Te)?ke:Te;if(Fe*Fe<=D){F=Math.sqrt(D-Fe*Fe)*a,G=Ee-Math.atan2(F,Fe),L=Math.atan2(F/p,(Fe-q)/c);break e}}var Ne=W.PI,Ze=q-w,pt=Ze*Ze,Je=0,qe=0,lt=q+w,It=lt*lt,Nt=0;C=-w*q/(fe-we),C>=-1&&C<=1&&(C=Math.acos(C),O=w*Math.cos(C)+q,F=S*Math.sin(C),T=O*O+F*F,T<pt&&(Ne=C,pt=T,Ze=O,Je=F),T>It&&(qe=C,It=T,lt=O,Nt=F)),D<=(pt+It)/2?(G=Ee-Math.atan2(Je*a,Ze),L=Ne*a):(G=Ee-Math.atan2(Nt*a,lt),L=qe*a)}var Rt=Math.atan2(x,y)*g,Pt=e.arotation;G=(G-Rt)*W.radDeg+_-Pt,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(l,u,Pt+G*f,h,e.ascaleY,0,0),Pt=r.arotation,L=((L+Rt)*W.radDeg-r.ashearX)*g+v-Pt,L>180?L-=360:L<-180&&(L+=360),r.updateWorldTransformWith(y,x,Pt+L*f,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),w2=function(t){pr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(Gv),S2=function(t){pr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(Gv),qr;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(qr||(qr={}));var B6=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Wc){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,f=s==qr.Length,l=o.rotateMode,u=l==Sr.Tangent,c=l==Sr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(c||f){c&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)c&&(_[g]=0),m[++g]=0;else{var E=b*x.matrix.a,w=b*x.matrix.b,S=Math.sqrt(E*E+w*w);c&&(_[g]=S),m[++g]=(f?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==cr.Percent,s==qr.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==Sr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var E=C[O],w=C[O+1],N=E-T,$=w-I;if(c){var q=_[g];if(q!=0){var K=(Math.sqrt(N*N+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=E,I=w,a){var G=F.a,L=F.c,j=F.b,M=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,N),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-N)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*L-Q*M,F.b=Q*G+J*j,F.d=Q*L+J*M}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,f=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,c=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=c?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)f[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var E=m[y];if(!(b>E)){if(y==0)b/=E;else{var w=m[y-1];b=(b-w)/(E-w)}break}}y!=d&&(d=y,c&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}c?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,M=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],N=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+N)*.09375,L=((R-F)*3-I+$)*.09375,j=q*2+G,M=K*2+L,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+L*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,j+=G,M+=L,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=M+L,C+=Math.sqrt(D*D+J*J),S[v]=C,T=N,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)f[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,fe=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var we=S[y];if(!(b>we)){if(y==0)b/=we;else{var w=S[y-1];b=(b-w)/(we-w)}break}}if(y!=d){d=y;var Ee=y*6;for(T=u[Ee],I=u[Ee+1],A=u[Ee+2],R=u[Ee+3],O=u[Ee+4],F=u[Ee+5],N=u[Ee+6],$=u[Ee+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+N)*.006,L=((R-F)*3-I+$)*.006,j=q*2+G,M=K*2+L,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+L*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,Ee=1;Ee<8;Ee++)D+=j,J+=M,j+=G,M+=L,re+=Math.sqrt(D*D+J*J),se[Ee]=re;D+=j,J+=M,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=M+L,re+=Math.sqrt(D*D+J*J),se[9]=re,fe=0}for(b*=re;;fe++){var pe=se[fe];if(!(b>pe)){if(fe==0)b/=pe;else{var w=se[fe-1];b=fe+(b-w)/(pe-w)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,N,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),M6=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new zc,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)-Math.atan2(E,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(f*f+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,w=y.d,O=Math.atan2(w,b),S=Math.atan2(u,f)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(f*f+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,f)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,w=y.d;S=Math.atan2(w,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var c=a.ashearY-_+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var c=l.ax,h=l.ay;r!=0&&(c+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,h,u,p,d,l.ashearX,m)}},t}(),D6=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new Lb(n,this,null);else{var a=this.bones[n.parent.index];i=new Lb(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new d2(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new L6(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new M6(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new B6(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,f=this.transformConstraints,l=this.pathConstraints,u=s.length,c=f.length,h=l.length,p=u+c+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<c;d++){var m=f[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Wc&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Wc){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var f=n[a];this.sortBone(i[f])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var h=0,p=null,d=c.getAttachment();if(d instanceof p2)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c.bone,p,0,2);else if(d instanceof $v){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}}e.set(a,o),r.set(s-a,f-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),C2=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),T2=function(){function t(e,r,n){if(this.color=new Be(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),A2=function(t){pr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(Gv),Bb=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),J0=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];this.setAttachment(f.slotIndex,f.name,f.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];f.attachment!=null&&(f.attachment instanceof $v?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new Bb(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new Bb(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u!=null&&a.setAttachment(u);break}}}n++}},t}(),U6=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new C2;n.name="";var i=new Z0(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var f=0;f<s;f++)i.strings.push(i.readString());s=i.readInt(!0);for(var f=0;f<s;f++){var l=i.readString(),u=f==0?null:n.bones[i.readInt(!0)],c=new x2(f,l,u);c.rotation=i.readFloat(),c.x=i.readFloat()*r,c.y=i.readFloat()*r,c.scaleX=i.readFloat(),c.scaleY=i.readFloat(),c.shearX=i.readFloat(),c.shearY=i.readFloat(),c.length=i.readFloat()*r,c.transformMode=t.TransformModeValues[i.readInt(!0)],c.skinRequired=i.readBoolean(),o&&Be.rgba8888ToColor(c.color,i.readInt32()),n.bones.push(c)}s=i.readInt(!0);for(var f=0;f<s;f++){var h=i.readString(),p=n.bones[i.readInt(!0)],c=new T2(f,h,p);Be.rgba8888ToColor(c.color,i.readInt32());var d=i.readInt32();d!=-1&&Be.rgb888ToColor(c.darkColor=new Be,d),c.attachmentName=i.readStringRef(),c.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new w2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.mix=i.readFloat(),c.softness=i.readFloat()*r,c.bendDirection=i.readByte(),c.compress=i.readBoolean(),c.stretch=i.readBoolean(),c.uniform=i.readBoolean(),n.ikConstraints.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new A2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.local=i.readBoolean(),c.relative=i.readBoolean(),c.offsetRotation=i.readFloat(),c.offsetX=i.readFloat()*r,c.offsetY=i.readFloat()*r,c.offsetScaleX=i.readFloat(),c.offsetScaleY=i.readFloat(),c.offsetShearY=i.readFloat(),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),c.scaleMix=i.readFloat(),c.shearMix=i.readFloat(),n.transformConstraints.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new S2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.slots[i.readInt(!0)],c.positionMode=t.PositionModeValues[i.readInt(!0)],c.spacingMode=t.SpacingModeValues[i.readInt(!0)],c.rotateMode=t.RotateModeValues[i.readInt(!0)],c.offsetRotation=i.readFloat(),c.position=i.readFloat(),c.positionMode==cr.Fixed&&(c.position*=r),c.spacing=i.readFloat(),(c.spacingMode==qr.Length||c.spacingMode==qr.Fixed)&&(c.spacing*=r),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),n.pathConstraints.push(c)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var f=n.skins.length;for(oe.setArraySize(n.skins,s=f+i.readInt(!0));f<s;f++)n.skins[f]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var f=0;f<s;f++){var g=this.linkedMeshes[f],y=g.skin==null?n.defaultSkin:n.findSkin(g.skin);if(y==null)throw new Error("Skin not found: "+g.skin);var x=y.getAttachment(g.slotIndex,g.parent);if(x==null)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?x:g.mesh,g.mesh.setParentMesh(x)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var f=0;f<s;f++){var c=new E2(i.readStringRef());c.intValue=i.readInt(!1),c.floatValue=i.readFloat(),c.stringValue=i.readString(),c.audioPath=i.readString(),c.audioPath!=null&&(c.volume=i.readFloat(),c.balance=i.readFloat()),n.events.push(c)}s=i.readInt(!0);for(var f=0;f<s;f++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new J0("default")}else{a=new J0(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,f=a.bones.length;s<f;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,c=e.readInt(!0);u<c;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,f=e.readStringRef();f==null&&(f=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case _t.Region:{var c=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readFloat(),g=e.readFloat(),y=e.readInt32();c==null&&(c=f);var x=this.attachmentLoader.newRegionAttachment(n,f,c);return x==null?null:(x.path=c,x.x=p*s,x.y=d*s,x.scaleX=m,x.scaleY=_,x.rotation=h,x.width=v*s,x.height=g*s,Be.rgba8888ToColor(x.color,y),x)}case _t.BoundingBox:{var b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,f);return w==null?null:(w.worldVerticesLength=b<<1,w.vertices=E.vertices,w.bones=E.bones,o&&Be.rgba8888ToColor(w.color,y),w)}case _t.Mesh:{var c=e.readStringRef(),y=e.readInt32(),b=e.readInt(!0),S=this.readFloatArray(e,b<<1,1),C=this.readShortArray(e),E=this.readVertices(e,b),T=e.readInt(!0),I=null,v=0,g=0;o&&(I=this.readShortArray(e),v=e.readFloat(),g=e.readFloat()),c==null&&(c=f);var A=this.attachmentLoader.newMeshAttachment(n,f,c);return A==null?null:(A.path=c,Be.rgba8888ToColor(A.color,y),A.bones=E.bones,A.vertices=E.vertices,A.worldVerticesLength=b<<1,A.triangles=C,A.regionUVs=new Float32Array(S),A.hullLength=T<<1,o&&(A.edges=I,A.width=v*s,A.height=g*s),A)}case _t.LinkedMesh:{var c=e.readStringRef(),y=e.readInt32(),R=e.readStringRef(),O=e.readStringRef(),F=e.readBoolean(),v=0,g=0;o&&(v=e.readFloat(),g=e.readFloat()),c==null&&(c=f);var A=this.attachmentLoader.newMeshAttachment(n,f,c);return A==null?null:(A.path=c,Be.rgba8888ToColor(A.color,y),o&&(A.width=v*s,A.height=g*s),this.linkedMeshes.push(new jEe(A,R,i,O,F)),A)}case _t.Path:{for(var N=e.readBoolean(),$=e.readBoolean(),b=e.readInt(!0),E=this.readVertices(e,b),q=oe.newArray(b/3,0),K=0,G=q.length;K<G;K++)q[K]=e.readFloat()*s;var y=o?e.readInt32():0,c=this.attachmentLoader.newPathAttachment(n,f);return c==null?null:(c.closed=N,c.constantSpeed=$,c.worldVerticesLength=b<<1,c.vertices=E.vertices,c.bones=E.bones,c.lengths=q,o&&Be.rgba8888ToColor(c.color,y),c)}case _t.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,L=this.attachmentLoader.newPointAttachment(n,f);return L==null?null:(L.x=p*s,L.y=d*s,L.rotation=h,o&&Be.rgba8888ToColor(L.color,y),L)}case _t.Clipping:{var j=e.readInt(!0),b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,M=this.attachmentLoader.newClippingAttachment(n,f);return M==null?null:(M.endSlot=r.slots[j],M.worldVerticesLength=b<<1,M.vertices=E.vertices,M.bones=E.bones,o&&Be.rgba8888ToColor(M.color,y),M)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new $Ee,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,f=0;f<r;f++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=oe.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new Be,f=new Be,l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var _=new bs(m);_.slotIndex=c;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readStringRef());i.push(_),o=Math.max(o,_.frames[m-1]);break}case t.SLOT_COLOR:{var _=new Yc(m);_.slotIndex=c;for(var v=0;v<m;v++){var g=e.readFloat();Be.rgba8888ToColor(s,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*Yc.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var _=new qc(m);_.slotIndex=c;for(var v=0;v<m;v++){var g=e.readFloat();Be.rgba8888ToColor(s,e.readInt32()),Be.rgb888ToColor(f,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a,f.r,f.g,f.b),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*qc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var _=new ii(m);_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*ii.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var _=void 0,x=1;d==t.BONE_SCALE?_=new v2(m):d==t.BONE_SHEAR?_=new m2(m):(_=new Ds(m),x=a),_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x,e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Ds.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new Kc(m);_.ikConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Kc.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new Zc(m);_.transformConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Zc.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),E=n.pathConstraints[b],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var _=void 0,x=1;d==t.PATH_SPACING?(_=new _2(m),(E.spacingMode==qr.Length||E.spacingMode==qr.Fixed)&&(x=a)):(_=new bu(m),E.positionMode==cr.Fixed&&(x=a)),_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*bu.ENTRIES]);break}case t.PATH_MIX:{var _=new Jc(m);_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Jc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var c=e.readInt(!0),S=0,C=e.readInt(!0);S<C;S++){var T=w.getAttachment(c,e.readStringRef()),I=T.bones!=null,A=T.vertices,R=I?A.length/3*2:A.length,m=e.readInt(!0),_=new g2(m);_.slotIndex=c,_.attachment=T;for(var v=0;v<m;v++){var g=e.readFloat(),O=void 0,F=e.readInt(!0);if(F==0)O=I?oe.newFloatArray(R):A;else{O=oe.newFloatArray(R);var N=e.readInt(!0);if(F+=N,a==1)for(var $=N;$<F;$++)O[$]=e.readFloat();else for(var $=N;$<F;$++)O[$]=e.readFloat()*a;if(!I)for(var $=0,q=O.length;$<q;$++)O[$]+=A[$]}_.setFrame(v,g,O),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[m-1])}var K=e.readInt(!0);if(K>0){for(var _=new eu(K),G=n.slots.length,l=0;l<K;l++){for(var g=e.readFloat(),L=e.readInt(!0),j=oe.newArray(G,0),h=G-1;h>=0;h--)j[h]=-1;for(var M=oe.newArray(G-L,0),D=0,J=0,h=0;h<L;h++){for(var c=e.readInt(!0);D!=c;)M[J++]=D++;j[D+e.readInt(!0)]=D++}for(;D<G;)M[J++]=D++;for(var h=G-1;h>=0;h--)j[h]==-1&&(j[h]=M[--J]);_.setFrame(l,g,j)}i.push(_),o=Math.max(o,_.frames[K-1])}var Q=e.readInt(!0);if(Q>0){for(var _=new Vv(Q),l=0;l<Q;l++){var g=e.readFloat(),se=n.events[e.readInt(!0)],re=new b2(g,se);re.intValue=e.readInt(!1),re.floatValue=e.readFloat(),re.stringValue=e.readBoolean()?e.readString():se.stringValue,re.data.audioPath!=null&&(re.volume=e.readFloat(),re.balance=e.readFloat()),_.setFrame(l,re)}i.push(_),o=Math.max(o,_.frames[Q-1])}return new Nr(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[ft.Normal,ft.OnlyTranslation,ft.NoRotationOrReflection,ft.NoScale,ft.NoScaleOrReflection],t.PositionModeValues=[cr.Fixed,cr.Percent],t.SpacingModeValues=[qr.Length,qr.Fixed,qr.Percent],t.RotateModeValues=[Sr.Tangent,Sr.Chain,Sr.ChainScale],t.BlendModeValues=[$e.NORMAL,$e.ADD,$e.MULTIPLY,$e.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),jEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),$Ee=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),VEe=function(t){pr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(c2),j6=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new C2,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var f=i.bones[s],l=null,u=this.getValue(f,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var c=new x2(n.bones.length,f.name,l);c.length=this.getValue(f,"length",0)*r,c.x=this.getValue(f,"x",0)*r,c.y=this.getValue(f,"y",0)*r,c.rotation=this.getValue(f,"rotation",0),c.scaleX=this.getValue(f,"scaleX",1),c.scaleY=this.getValue(f,"scaleY",1),c.shearX=this.getValue(f,"shearX",0),c.shearY=this.getValue(f,"shearY",0),c.transformMode=t.transformModeFromString(this.getValue(f,"transform","normal")),c.skinRequired=this.getValue(f,"skin",!1),n.bones.push(c)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,m=n.findBone(d);if(m==null)throw new Error("Slot bone not found: "+d);var c=new T2(n.slots.length,p,m),_=this.getValue(h,"color",null);_!=null&&c.color.setFromString(_);var v=this.getValue(h,"dark",null);v!=null&&(c.darkColor=new Be(1,1,1,1),c.darkColor.setFromString(v)),c.attachmentName=this.getValue(h,"attachment",null),c.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(c)}if(i.ik)for(var s=0;s<i.ik.length;s++){var g=i.ik[s],c=new w2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findBone(b),c.target==null)throw new Error("IK target bone not found: "+b);c.mix=this.getValue(g,"mix",1),c.softness=this.getValue(g,"softness",0)*r,c.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,c.compress=this.getValue(g,"compress",!1),c.stretch=this.getValue(g,"stretch",!1),c.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(c)}if(i.transform)for(var s=0;s<i.transform.length;s++){var g=i.transform[s],c=new A2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findBone(b),c.target==null)throw new Error("Transform constraint target bone not found: "+b);c.local=this.getValue(g,"local",!1),c.relative=this.getValue(g,"relative",!1),c.offsetRotation=this.getValue(g,"rotation",0),c.offsetX=this.getValue(g,"x",0)*r,c.offsetY=this.getValue(g,"y",0)*r,c.offsetScaleX=this.getValue(g,"scaleX",0),c.offsetScaleY=this.getValue(g,"scaleY",0),c.offsetShearY=this.getValue(g,"shearY",0),c.rotateMix=this.getValue(g,"rotateMix",1),c.translateMix=this.getValue(g,"translateMix",1),c.scaleMix=this.getValue(g,"scaleMix",1),c.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(c)}if(i.path)for(var s=0;s<i.path.length;s++){var g=i.path[s],c=new S2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findSlot(b),c.target==null)throw new Error("Path target slot not found: "+b);c.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),c.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),c.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),c.offsetRotation=this.getValue(g,"rotation",0),c.position=this.getValue(g,"position",0),c.positionMode==cr.Fixed&&(c.position*=r),c.spacing=this.getValue(g,"spacing",0),(c.spacingMode==qr.Length||c.spacingMode==qr.Fixed)&&(c.spacing*=r),c.rotateMix=this.getValue(g,"rotateMix",1),c.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(c)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],w=new J0(E.name);if(E.bones)for(var S=0;S<E.bones.length;S++){var x=n.findBone(E.bones[S]);if(x==null)throw new Error("Skin bone not found: "+E.bones[s]);w.bones.push(x)}if(E.ik)for(var S=0;S<E.ik.length;S++){var C=n.findIkConstraint(E.ik[S]);if(C==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);w.constraints.push(C)}if(E.transform)for(var S=0;S<E.transform.length;S++){var C=n.findTransformConstraint(E.transform[S]);if(C==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);w.constraints.push(C)}if(E.path)for(var S=0;S<E.path.length;S++){var C=n.findPathConstraint(E.path[S]);if(C==null)throw new Error("Skin path constraint not found: "+E.path[s]);w.constraints.push(C)}for(var p in E.attachments){var T=n.findSlot(p);if(T==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var I in h){var A=this.readAttachment(h[I],w,T.index,I,n);A!=null&&w.setAttachment(T.index,I,A)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var s=0,R=this.linkedMeshes.length;s<R;s++){var O=this.linkedMeshes[s],w=O.skin==null?n.defaultSkin:n.findSkin(O.skin);if(w==null)throw new Error("Skin not found: "+O.skin);var F=w.getAttachment(O.slotIndex,O.parent);if(F==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?F:O.mesh,O.mesh.setParentMesh(F)}if(this.linkedMeshes.length=0,i.events)for(var N in i.events){var $=i.events[N],c=new E2(N);c.intValue=this.getValue($,"int",0),c.floatValue=this.getValue($,"float",0),c.stringValue=this.getValue($,"string",""),c.audioPath=this.getValue($,"audio",null),c.audioPath!=null&&(c.volume=this.getValue($,"volume",1),c.balance=this.getValue($,"balance",0)),n.events.push(c)}if(i.animations)for(var q in i.animations){var K=i.animations[q];this.readAnimation(K,q,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var f=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,f);if(l==null)return null;l.path=f,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(c==null)return null;this.readVertices(e,c,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var f=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,f);if(h==null)return null;h.path=f;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new GEe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var f=this.attachmentLoader.newPathAttachment(r,i);if(f==null)return null;f.closed=this.getValue(e,"closed",!1),f.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,f,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;f.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var f=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in f){var c=f[u];if(u=="attachment"){var h=new bs(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p++,this.getValue(m,"time",0),m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Yc(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],_=new Be;_.setFromString(m.color||"ffffffff"),h.setFrame(p,this.getValue(m,"time",0),_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Yc.ENTRIES])}else if(u=="twoColor"){var h=new qc(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],v=new Be,g=new Be;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,this.getValue(m,"time",0),v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qc.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var c=x[u];if(u==="rotate"){var h=new ii(c.length);h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"angle",0)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ii.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,w=0;u==="scale"?(h=new v2(c.length),w=1):u==="shear"?h=new m2(c.length):(h=new Ds(c.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d],S=this.getValue(m,"x",w),C=this.getValue(m,"y",w);h.setFrame(p,this.getValue(m,"time",0),S*E,C*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ds.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var T in e.ik){var I=e.ik[T],A=n.findIkConstraint(T),h=new Kc(I.length);h.ikConstraintIndex=n.ikConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"mix",1),this.getValue(m,"softness",0)*i,this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Kc.ENTRIES])}if(e.transform)for(var T in e.transform){var I=e.transform[T],A=n.findTransformConstraint(T),h=new Zc(I.length);h.transformConstraintIndex=n.transformConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Zc.ENTRIES])}if(e.path)for(var T in e.path){var I=e.path[T],R=n.findPathConstraintIndex(T);if(R==-1)throw new Error("Path constraint not found: "+T);var O=n.pathConstraints[R];for(var u in I){var c=I[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new _2(c.length),(O.spacingMode==qr.Length||O.spacingMode==qr.Fixed)&&(E=i)):(h=new bu(c.length),O.positionMode==cr.Fixed&&(E=i)),h.pathConstraintIndex=R;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,u,0)*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*bu.ENTRIES])}else if(u==="mix"){var h=new Jc(c.length);h.pathConstraintIndex=R;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Jc.ENTRIES])}}}if(e.deform)for(var F in e.deform){var N=e.deform[F],$=n.findSkin(F);if($!=null)for(var s in N){var f=N[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+f.name);for(var u in f){var c=f[u],q=$.getAttachment(l,u);if(q==null)throw new Error("Deform attachment not found: "+c.name);var K=q.bones!=null,G=q.vertices,L=K?G.length/3*2:G.length,h=new g2(c.length);h.slotIndex=l,h.attachment=q;for(var p=0,j=0;j<c.length;j++){var m=c[j],M=void 0,D=this.getValue(m,"vertices",null);if(D==null)M=K?oe.newFloatArray(L):G;else{M=oe.newFloatArray(L);var J=this.getValue(m,"offset",0);if(oe.arrayCopy(D,0,M,J,D.length),i!=1)for(var d=J,Q=d+D.length;d<Q;d++)M[d]*=i;if(!K)for(var d=0;d<L;d++)M[d]+=G[d]}h.setFrame(p,this.getValue(m,"time",0),M),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var se=e.drawOrder;if(se==null&&(se=e.draworder),se!=null){for(var h=new eu(se.length),re=n.slots.length,p=0,j=0;j<se.length;j++){var fe=se[j],we=null,Ee=this.getValue(fe,"offsets",null);if(Ee!=null){we=oe.newArray(re,-1);for(var pe=oe.newArray(re-Ee.length,0),ve=0,Ae=0,d=0;d<Ee.length;d++){var ke=Ee[d],l=n.findSlotIndex(ke.slot);if(l==-1)throw new Error("Slot not found: "+ke.slot);for(;ve!=l;)pe[Ae++]=ve++;we[ve+ke.offset]=ve++}for(;ve<re;)pe[Ae++]=ve++;for(var d=re-1;d>=0;d--)we[d]==-1&&(we[d]=pe[--Ae])}h.setFrame(p++,this.getValue(fe,"time",0),we)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new Vv(e.events.length),p=0,d=0;d<e.events.length;d++){var Te=e.events[d],Fe=n.findEvent(Te.name);if(Fe==null)throw new Error("Event not found: "+Te.name);var Ne=new b2(oe.toSinglePrecision(this.getValue(Te,"time",0)),Fe);Ne.intValue=this.getValue(Te,"int",Fe.intValue),Ne.floatValue=this.getValue(Te,"float",Fe.floatValue),Ne.stringValue=this.getValue(Te,"string",Fe.stringValue),Ne.data.audioPath!=null&&(Ne.volume=this.getValue(Te,"volume",1),Ne.balance=this.getValue(Te,"balance",0)),h.setFrame(p++,Ne)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Nr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return $e.NORMAL;if(e=="additive")return $e.ADD;if(e=="multiply")return $e.MULTIPLY;if(e=="screen")return $e.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return cr.Fixed;if(e=="percent")return cr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return qr.Length;if(e=="fixed")return qr.Fixed;if(e=="percent")return qr.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Sr.Tangent;if(e=="chain")return Sr.Chain;if(e=="chainscale")return Sr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ft.Normal;if(e=="onlytranslation")return ft.OnlyTranslation;if(e=="norotationorreflection")return ft.NoRotationOrReflection;if(e=="noscale")return ft.NoScale;if(e=="noscaleorreflection")return ft.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),GEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),XEe=function(t){pr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new D6(r),this.skeleton.updateWorldTransform(),this.stateData=new N6(r),this.state=new O6(this.stateData)},e}(Th);const HEe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Nr,AnimationState:O6,AnimationStateAdapter:UEe,AnimationStateData:N6,AtlasAttachmentLoader:y2,Attachment:h2,AttachmentTimeline:bs,Bone:Lb,BoneData:x2,BoundingBoxAttachment:I6,ClippingAttachment:R6,ColorTimeline:Yc,ConstraintData:Gv,CurveTimeline:Ta,DeformTimeline:g2,DrawOrderTimeline:eu,Event:b2,EventData:E2,EventQueue:F6,EventTimeline:Vv,get EventType(){return Mn},IkConstraint:L6,IkConstraintData:w2,IkConstraintTimeline:Kc,JitterEffect:MEe,MeshAttachment:$v,PathAttachment:Wc,PathConstraint:B6,PathConstraintData:S2,PathConstraintMixTimeline:Jc,PathConstraintPositionTimeline:bu,PathConstraintSpacingTimeline:_2,PointAttachment:P6,RegionAttachment:p2,RotateTimeline:ii,ScaleTimeline:v2,ShearTimeline:m2,Skeleton:D6,SkeletonBinary:U6,SkeletonBounds:VEe,SkeletonData:C2,SkeletonJson:j6,Skin:J0,SkinEntry:Bb,Slot:d2,SlotData:T2,get SpacingMode(){return qr},Spine:XEe,SwirlEffect:DEe,get TimelineType(){return hn},TrackEntry:k6,TransformConstraint:M6,TransformConstraintData:A2,TransformConstraintTimeline:Zc,TranslateTimeline:Ds,TwoColorTimeline:qc,VertexAttachment:Ks},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mb=function(t,e){return Mb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Mb(t,e)};function Lr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var I2=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Zs=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,N+=2){var h=I[c[w]].matrix,b=u[_]+F[N],E=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(I2),$6=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.BoundingBox,n.color=new Be(1,1,1,1),n}return e}(Zs),V6=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Clipping,n.color=new Be(.2275,.2275,.8078,1),n}return e}(Zs),R2=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Mesh,n.color=new Be(1,1,1,1),n.inheritDeform=!1,n.tempColor=new Be(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Zs),Qc=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e}(Zs),G6=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Point,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e}(Zs),P2=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor==null?null:new Be,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),O2=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Be(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Be(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,f=this.rotation*Math.PI/180,l=Math.cos(f),u=Math.sin(f),c=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=c-d,y[e.OY1]=p+h,y[e.OX2]=c-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof P2?r.bone.matrix:r.matrix,f=s.tx,l=s.ty,u=s.a,c=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(I2),zEe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),WEe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,f=Math.sqrt(o*o+s*s);if(f<this.radius){var l=t.interpolation.apply(0,a,(this.radius-f)/this.radius),u=Math.cos(l),c=Math.sin(l);e.x=u*o-c*s+this.worldX,e.y=c*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new A6(2),t}(),Qr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,f){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),dn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(dn||(dn={}));var Aa=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,f=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+f,c=s*2+l,h=r*.3+o+f*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=c,u+=f,c+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,f=i+t.BEZIER_SIZE-1;i<f;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var c=n[i-1];return c+(1-c)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),$i=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(dn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.rotation=u.data.rotation;return;case X.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case X.setup:u.rotation=u.data.rotation+h*o;break;case X.first:case X.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case X.add:u.rotation+=h*o}return}var p=Qr.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case X.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case X.first:case X.replace:v+=u.data.rotation-u.rotation;case X.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Aa),eh=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.x=u.data.x,u.y=u.data.y;return;case X.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Qr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,h+=(l[p+e.Y]-h)*m}switch(s){case X.setup:u.x=u.data.x+c*o,u.y=u.data.y+h*o;break;case X.first:case X.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case X.add:u.x+=c*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Aa),X6=function(t){Lr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(dn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case X.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=Qr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=(c+(l[p+e.X]-c)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==X.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=c,u.scaleY=h);else{var _=0,v=0;if(f==vt.mixOut)switch(s){case X.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.first:case X.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case X.setup:_=Math.abs(u.data.scaleX)*W.signum(c),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.first:case X.replace:_=Math.abs(u.scaleX)*W.signum(c),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.add:_=W.signum(c),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(c-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}},e}(eh),H6=function(t){Lr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(dn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case X.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Qr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=c+(l[p+e.X]-c)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case X.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+h*o;break;case X.first:case X.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case X.add:u.shearX+=c*o,u.shearY+=h*o}},e}(eh),Db=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color);return;case X.first:var c=l.color,h=l.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=Qr.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var c=l.color;s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Aa),Ub=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=f,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case X.first:var c=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var w=Qr.binarySearch(u,i,e.ENTRIES);m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2];var S=u[w],C=this.getCurvePercent(w/e.ENTRIES-1,1-(i-S)/(u[w+e.PREV_TIME]-S));m+=(u[w+e.R]-m)*C,_+=(u[w+e.G]-_)*C,v+=(u[w+e.B]-v)*C,g+=(u[w+e.A]-g)*C,y+=(u[w+e.R2]-y)*C,x+=(u[w+e.G2]-x)*C,b+=(u[w+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var c=l.color,h=l.darkColor;s==X.setup&&(c.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Aa),Q0=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(dn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.slots[this.slotIndex];if(s==vt.mixOut&&o==X.setup){var l=f.data.attachmentName;f.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==X.setup||o==X.first){var c=f.data.attachmentName;f.setAttachment(c==null?null:e.getAttachment(this.slotIndex,c))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=Qr.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),Rk=null,z6=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),Rk==null&&(Rk=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(dn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Zs)||!u.applyDeform(this.attachment))){var c=l.attachmentVertices;c.length==0&&(s=X.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;break}var _=oe.setArraySize(c,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(c,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=x[g]-v[g];else for(var g=0;g<p;g++)y[g]+=x[g]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case X.setup:{var b=u;if(b.bones==null)for(var v=b.vertices,g=0;g<p;g++){var E=v[g];y[g]=E+(x[g]-E)*o}else for(var g=0;g<p;g++)y[g]=x[g]*o;break}case X.first:case X.replace:for(var g=0;g<p;g++)y[g]+=(x[g]-y[g])*o;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=(x[g]-v[g])*o;else for(var g=0;g<p;g++)y[g]+=x[g]*o}return}var w=Qr.binarySearch(d,i),S=h[w-1],C=h[w],T=d[w],I=this.getCurvePercent(w-1,1-(i-T)/(d[w-1]-T));if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I-v[g]}else for(var g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I}}else for(var g=0;g<p;g++){var A=S[g];y[g]=A+(C[g]-A)*I}else switch(s){case X.setup:{var R=u;if(R.bones==null)for(var v=R.vertices,g=0;g<p;g++){var A=S[g],E=v[g];y[g]=E+(A+(C[g]-A)*I-E)*o}else for(var g=0;g<p;g++){var A=S[g];y[g]=(A+(C[g]-A)*I)*o}break}case X.first:case X.replace:for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-y[g])*o}break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-v[g])*o}else for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I)*o}}}},e}(Aa),W6=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return dn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var f=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=f[l-1])return;if(!(n<f[0])){var u=0;if(r<f[0])u=0;else{u=Qr.binarySearch(f,r);for(var c=f[u];u>0&&f[u-1]==c;)u--}for(;u<l&&n>=f[u];u++)i.push(this.events[u])}}},t}(),ep=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return dn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.drawOrder,l=e.slots;if(s==vt.mixOut&&o==X.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==X.setup||o==X.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=Qr.binarySearch(u,n)-1;var h=this.drawOrders[c];if(h==null)oe.arrayCopy(l,0,f,0,l.length);else for(var p=0,d=h.length;p<d;p++)f[p]=l[h[p]]},t}(),jb=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case X.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==X.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,f==vt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,f==vt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var c=Qr.binarySearch(l,i,e.ENTRIES),h=l[c+e.PREV_MIX],p=l[c],d=this.getCurvePercent(c/e.ENTRIES-1,1-(i-p)/(l[c+e.PREV_TIME]-p));s==X.setup?(u.mix=u.data.mix+(h+(l[c+e.MIX]-h)*d-u.data.mix)*o,f==vt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[c+e.MIX]-h)*d-u.mix)*o,f==vt.mixIn&&(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Aa),$b=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var c=u.data;switch(s){case X.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case X.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=Qr.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==X.setup){var c=u.data;u.rotateMix=c.rotateMix+(h-c.rotateMix)*o,u.translateMix=c.translateMix+(p-c.translateMix)*o,u.scaleMix=c.scaleMix+(d-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Aa),tp=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.position=u.data.position;return;case X.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Qr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Aa),Y6=function(t){Lr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(dn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.spacing=u.data.spacing;return;case X.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Qr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o},e}(tp),Vb=function(t){Lr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(dn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case X.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=Qr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.ROTATE]-c)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==X.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Aa),q6=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new Z6(this),this.propertyIDs=new C6,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new jv(function(){return new K6}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||f==X.add)for(var d=0;d<h;d++)oe.webkit602BugfixHelper(l,f),p[d].apply(e,u,c,r,l,f,vt.mixIn);else{var m=s.timelineMode,_=s.timelinesRotation.length==0;_&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var v=s.timelinesRotation,d=0;d<h;d++){var g=p[d],y=m[d]==t.SUBSEQUENT?f:X.setup;g instanceof $i?this.applyRotateTimeline(g,e,c,l,y,v,d<<1,_):(oe.webkit602BugfixHelper(l,f),g.apply(e,u,c,r,l,y,vt.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,f=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==X.add)for(var m=0;m<c;m++)h[m].apply(r,l,u,o,d,n,vt.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,c<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=h[m],b=vt.mixOut,E=void 0,w=0;switch(_[m]){case t.SUBSEQUENT:if(!s&&x instanceof Q0||!f&&x instanceof ep)continue;E=n,w=d;break;case t.FIRST:E=X.setup,w=d;break;case t.HOLD:E=X.setup,w=p;break;default:E=X.setup;var S=v[m];w=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=w,x instanceof $i?this.applyRotateTimeline(x,r,u,w,E,y,m<<1,g):(oe.webkit602BugfixHelper(w,n),E==X.setup&&(x instanceof Q0?s&&(b=vt.mixOut):x instanceof ep&&f&&(b=vt.mixOut)),x.apply(r,l,u,o,w,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,vt.mixIn);return}var l=e,u=l.frames,c=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case X.setup:c.rotation=c.data.rotation;default:return;case X.first:h=c.rotation,p=c.data.rotation}else if(h=a==X.setup?c.data.rotation:c.rotation,n>=u[u.length-$i.ENTRIES])p=c.data.rotation+u[u.length+$i.PREV_ROTATION];else{var d=Qr.binarySearch(u,n,$i.ENTRIES),m=u[d+$i.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+$i.PREV_TIME]-_));p=u[d+$i.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+c.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;f?(x=0,b=y):(x=o[s],b=o[s+1]);var E=y>0,w=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),w=E),g=y+x-x%360,w!=E&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,c.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,s[f])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=X.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var f=0;f<i;f++)s.add(n[f].getPropertyId()),a[f]=t.HOLD;return}e:for(var f=0;f<i;f++){var l=n[f].getPropertyId();if(!s.add(l))a[f]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[f]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[f]=t.HOLD_MIX,o[f]=u;continue e}break}a[f]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Qr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),K6=function(){function t(){this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),Z6=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Dn.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Dn.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Dn.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Dn.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Dn.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Dn.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Dn.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Dn.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Dn.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Dn.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Dn.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Dn.event:var f=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,f);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,f);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Dn;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Dn||(Dn={}));var YEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),J6=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),Q6=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new O2(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new R2(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new $6(r)},t.prototype.newPathAttachment=function(e,r){return new Qc(r)},t.prototype.newPointAttachment=function(e,r){return new G6(r)},t.prototype.newClippingAttachment=function(e,r){return new V6(r)},t}(),Gb=function(){function t(e,r,n){if(this.matrix=new sr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(f==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,N=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o,this.appliedValid=!1},t}(),e5=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),t5=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),r5=function(){function t(e){this.name=e}return t}(),n5=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var f=e.parent.matrix,l=1/(f.a*f.d-f.b*f.c),u=r-f.tx,c=n-f.ty,h=(u*f.d-c*f.c)*l-e.ax,p=(c*f.a-u*f.b)*l-e.ay,d=Math.atan2(p,h)*W.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var m=e.ascaleX,_=e.ascaleY;if(i||a){var v=e.data.length*m,g=Math.sqrt(h*h+p*p);if(i&&g<v||a&&g>v&&v>1e-4){var y=(g/v-1)*s+1;m*=y,o&&(_*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,m,_,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var f=e.ax,l=e.ay,u=e.ascaleX,c=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,m=0,_=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),h<0&&(h=-h,v=-v),p<0?(p=-p,_=180):_=0;var g=r.ax,y=0,x=0,b=0,E=d.a,w=d.c,S=d.b,C=d.d,T=Math.abs(u-h)<=1e-4;T?(y=r.ay,x=E*g+w*y+d.tx,b=S*g+C*y+d.ty):(y=0,x=E*g+d.tx,b=S*g+d.ty);var I=e.parent.matrix;E=I.a,w=I.c,S=I.b,C=I.d;var A=1/(E*C-w*S),R=n-I.tx,O=i-I.ty,F=(R*C-O*w)*A-f,N=(O*E-R*S)*A-l,$=F*F+N*N;R=x-I.tx,O=b-I.ty;var q=(R*C-O*w)*A-f,K=(O*E-R*S)*A-l,G=Math.sqrt(q*q+K*K),L=r.data.length*p,j=0,M=0;e:if(T){L*=u;var D=($-G*G-L*L)/(2*G*L);D<-1?D=-1:D>1&&(D=1,o&&G+L>1e-4&&(c*=(Math.sqrt($)/(G+L)-1)*s+1)),M=Math.acos(D)*a,E=G+L*D,w=L*Math.sin(M),j=Math.atan2(N*E-F*w,F*E+N*w)}else{E=u*L,w=h*L;var J=E*E,Q=w*w,se=Math.atan2(N,F);S=Q*G*G+J*$-J*Q;var re=-2*Q*G,fe=Q-J;if(C=re*re-4*fe*S,C>=0){var we=Math.sqrt(C);re<0&&(we=-we),we=-(re+we)/2;var Ee=we/fe,pe=S/we,ve=Math.abs(Ee)<Math.abs(pe)?Ee:pe;if(ve*ve<=$){O=Math.sqrt($-ve*ve)*a,j=se-Math.atan2(O,ve),M=Math.atan2(O/h,(ve-G)/u);break e}}var Ae=W.PI,ke=G-E,Te=ke*ke,Fe=0,Ne=0,Ze=G+E,pt=Ze*Ze,Je=0;S=-E*G/(J-Q),S>=-1&&S<=1&&(S=Math.acos(S),R=E*Math.cos(S)+G,O=w*Math.sin(S),C=R*R+O*O,C<Te&&(Ae=S,Te=C,ke=R,Fe=O),C>pt&&(Ne=S,pt=C,Ze=R,Je=O)),$<=(Te+pt)/2?(j=se-Math.atan2(Fe*a,ke),M=Ae*a):(j=se-Math.atan2(Je*a,Ze),M=Ne*a)}var qe=Math.atan2(y,g)*v,lt=e.arotation;j=(j-qe)*W.radDeg+m-lt,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(f,l,lt+j*s,c,e.ascaleY,0,0),lt=r.arotation,M=((M+qe)*W.radDeg-r.ashearX)*v+_-lt,M>180?M-=360:M<-180&&(M+=360),r.updateWorldTransformWith(g,y,lt+M*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),i5=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),a5=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),_i;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(_i||(_i={}));var o5=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Qc){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,f=s==_i.Length,l=o.rotateMode,u=l==Sr.Tangent,c=l==Sr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(c||f){c&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)c&&(_[g]=0),m[++g]=0;else{var E=b*x.matrix.a,w=b*x.matrix.b,S=Math.sqrt(E*E+w*w);c&&(_[g]=S),m[++g]=(f?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==cr.Percent,s==_i.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==Sr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var E=C[O],w=C[O+1],N=E-T,$=w-I;if(c){var q=_[g];if(q!=0){var K=(Math.sqrt(N*N+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=E,I=w,a){var G=F.a,L=F.c,j=F.b,M=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,N),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-N)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*L-Q*M,F.b=Q*G+J*j,F.d=Q*L+J*M}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,f=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,c=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=c?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)f[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var E=m[y];if(!(b>E)){if(y==0)b/=E;else{var w=m[y-1];b=(b-w)/(E-w)}break}}y!=d&&(d=y,c&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}c?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,M=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],N=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+N)*.09375,L=((R-F)*3-I+$)*.09375,j=q*2+G,M=K*2+L,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+L*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,j+=G,M+=L,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=M+L,C+=Math.sqrt(D*D+J*J),S[v]=C,T=N,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)f[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,fe=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var we=S[y];if(!(b>we)){if(y==0)b/=we;else{var w=S[y-1];b=(b-w)/(we-w)}break}}if(y!=d){d=y;var Ee=y*6;for(T=u[Ee],I=u[Ee+1],A=u[Ee+2],R=u[Ee+3],O=u[Ee+4],F=u[Ee+5],N=u[Ee+6],$=u[Ee+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+N)*.006,L=((R-F)*3-I+$)*.006,j=q*2+G,M=K*2+L,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+L*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,Ee=1;Ee<8;Ee++)D+=j,J+=M,j+=G,M+=L,re+=Math.sqrt(D*D+J*J),se[Ee]=re;D+=j,J+=M,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=M+L,re+=Math.sqrt(D*D+J*J),se[9]=re,fe=0}for(b*=re;;fe++){var pe=se[fe];if(!(b>pe)){if(fe==0)b/=pe;else{var w=se[fe-1];b=fe+(b-w)/(pe-w)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,N,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),s5=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new zc,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)-Math.atan2(E,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(f*f+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,w=y.d,O=Math.atan2(w,b),S=Math.atan2(u,f)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(f*f+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,f)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,w=y.d;S=Math.atan2(w,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var c=a.ashearY-_+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var c=l.ax,h=l.ay;r!=0&&(c+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,h,u,p,d,l.ashearX,m)}},t.prototype.getOrder=function(){return this.data.order},t}(),l5=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new Gb(n,this,null);else{var a=this.bones[n.parent.index];i=new Gb(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new P2(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new n5(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new s5(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new o5(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,f=a.length,l=o.length,u=s.length,c=f+l+u;e:for(var n=0;n<c;n++){for(var h=0;h<f;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Qc&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Qc){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var f=n[a];this.sortBone(i[f])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l],h=0,p=null,d=c.getAttachment();if(d instanceof O2)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c.bone,p,0,2);else if(d instanceof R2){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}e.set(a,o),r.set(s-a,f-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),qEe=function(t){Lr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(c2),u5=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),f5=function(){function t(e,r,n){if(this.color=new Be(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),c5=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),h5=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u!=null&&a.setAttachment(u);break}}}n++}},t}(),d5=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new u5,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],f=null,l=this.getValue(s,"parent",null);if(l!=null&&(f=n.findBone(l),f==null))throw new Error("Parent bone not found: "+l);var u=new e5(n.bones.length,s.name,f);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var c=i.slots[o],h=c.name,p=c.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new f5(n.slots.length,h,d),m=this.getValue(c,"color",null);m!=null&&u.color.setFromString(m);var _=this.getValue(c,"dark",null);_!=null&&(u.darkColor=new Be(1,1,1,1),u.darkColor.setFromString(_)),u.attachmentName=this.getValue(c,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(c,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new i5(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("IK target bone not found: "+x);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new c5(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("Transform constraint target bone not found: "+x);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*r,u.offsetY=this.getValue(v,"y",0)*r,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new a5(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findSlot(x),u.target==null)throw new Error("Path target slot not found: "+x);u.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==cr.Fixed&&(u.position*=r),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==_i.Length||u.spacingMode==_i.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var E=i.skins[b],w=new h5(b);for(var h in E){var S=n.findSlotIndex(h);if(S==-1)throw new Error("Slot not found: "+h);var c=E[h];for(var C in c){var T=this.readAttachment(c[C],w,S,C,n);T!=null&&w.addAttachment(S,C,T)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var o=0,I=this.linkedMeshes.length;o<I;o++){var A=this.linkedMeshes[o],w=A.skin==null?n.defaultSkin:n.findSkin(A.skin);if(w==null)throw new Error("Skin not found: "+A.skin);var R=w.getAttachment(A.slotIndex,A.parent);if(R==null)throw new Error("Parent mesh not found: "+A.parent);A.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,i.events)for(var O in i.events){var F=i.events[O],u=new r5(O);u.intValue=this.getValue(F,"int",0),u.floatValue=this.getValue(F,"float",0),u.stringValue=this.getValue(F,"string",""),u.audioPath=this.getValue(F,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(F,"volume",1),u.balance=this.getValue(F,"balance",0)),n.events.push(u)}if(i.animations)for(var N in i.animations){var $=i.animations[N];this.readAnimation($,N,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var f=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,f);if(l==null)return null;l.path=f,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(c==null)return null;this.readVertices(e,c,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var f=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,f);if(h==null)return null;h.path=f;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new KEe(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var f=this.attachmentLoader.newPathAttachment(r,i);if(f==null)return null;f.closed=this.getValue(e,"closed",!1),f.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,f,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;f.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var f=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in f){var c=f[u];if(u=="attachment"){var h=new Q0(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p++,m.time,m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Db(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],_=new Be;_.setFromString(m.color||"ffffffff"),h.setFrame(p,m.time,_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Db.ENTRIES])}else if(u=="twoColor"){var h=new Ub(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],v=new Be,g=new Be;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,m.time,v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ub.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var c=x[u];if(u==="rotate"){var h=new $i(c.length);h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,m.angle),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$i.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new X6(c.length):u==="shear"?h=new H6(c.length):(h=new eh(c.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d],w=this.getValue(m,"x",0),S=this.getValue(m,"y",0);h.setFrame(p,m.time,w*E,S*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*eh.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var C in e.ik){var T=e.ik[C],I=n.findIkConstraint(C),h=new jb(T.length);h.ikConstraintIndex=n.ikConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"mix",1),this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jb.ENTRIES])}if(e.transform)for(var C in e.transform){var T=e.transform[C],I=n.findTransformConstraint(C),h=new $b(T.length);h.transformConstraintIndex=n.transformConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$b.ENTRIES])}if(e.paths)for(var C in e.paths){var T=e.paths[C],A=n.findPathConstraintIndex(C);if(A==-1)throw new Error("Path constraint not found: "+C);var R=n.pathConstraints[A];for(var u in T){var c=T[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new Y6(c.length),(R.spacingMode==_i.Length||R.spacingMode==_i.Fixed)&&(E=i)):(h=new tp(c.length),R.positionMode==cr.Fixed&&(E=i)),h.pathConstraintIndex=A;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,this.getValue(m,u,0)*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*tp.ENTRIES])}else if(u==="mix"){var h=new Vb(c.length);h.pathConstraintIndex=A;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Vb.ENTRIES])}}}if(e.deform)for(var O in e.deform){var F=e.deform[O],N=n.findSkin(O);if(N!=null)for(var s in F){var f=F[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+f.name);for(var u in f){var c=f[u],$=N.getAttachment(l,u);if($==null)throw new Error("Deform attachment not found: "+c.name);var q=$.bones!=null,K=$.vertices,G=q?K.length/3*2:K.length,h=new z6(c.length);h.slotIndex=l,h.attachment=$;for(var p=0,L=0;L<c.length;L++){var m=c[L],j=void 0,M=this.getValue(m,"vertices",null);if(M==null)j=q?oe.newFloatArray(G):K;else{j=oe.newFloatArray(G);var D=this.getValue(m,"offset",0);if(oe.arrayCopy(M,0,j,D,M.length),i!=1)for(var d=D,J=d+M.length;d<J;d++)j[d]*=i;if(!q)for(var d=0;d<G;d++)j[d]+=K[d]}h.setFrame(p,m.time,j),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var Q=e.drawOrder;if(Q==null&&(Q=e.draworder),Q!=null){for(var h=new ep(Q.length),se=n.slots.length,p=0,L=0;L<Q.length;L++){var re=Q[L],fe=null,we=this.getValue(re,"offsets",null);if(we!=null){fe=oe.newArray(se,-1);for(var Ee=oe.newArray(se-we.length,0),pe=0,ve=0,d=0;d<we.length;d++){var Ae=we[d],l=n.findSlotIndex(Ae.slot);if(l==-1)throw new Error("Slot not found: "+Ae.slot);for(;pe!=l;)Ee[ve++]=pe++;fe[pe+Ae.offset]=pe++}for(;pe<se;)Ee[ve++]=pe++;for(var d=se-1;d>=0;d--)fe[d]==-1&&(fe[d]=Ee[--ve])}h.setFrame(p++,re.time,fe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new W6(e.events.length),p=0,d=0;d<e.events.length;d++){var ke=e.events[d],Te=n.findEvent(ke.name);if(Te==null)throw new Error("Event not found: "+ke.name);var Fe=new t5(oe.toSinglePrecision(ke.time),Te);Fe.intValue=this.getValue(ke,"int",Te.intValue),Fe.floatValue=this.getValue(ke,"float",Te.floatValue),Fe.stringValue=this.getValue(ke,"string",Te.stringValue),Fe.data.audioPath!=null&&(Fe.volume=this.getValue(ke,"volume",1),Fe.balance=this.getValue(ke,"balance",0)),h.setFrame(p++,Fe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Qr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return $e.NORMAL;if(e=="additive")return $e.ADD;if(e=="multiply")return $e.MULTIPLY;if(e=="screen")return $e.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return cr.Fixed;if(e=="percent")return cr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return _i.Length;if(e=="fixed")return _i.Fixed;if(e=="percent")return _i.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Sr.Tangent;if(e=="chain")return Sr.Chain;if(e=="chainscale")return Sr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ft.Normal;if(e=="onlytranslation")return ft.OnlyTranslation;if(e=="norotationorreflection")return ft.NoRotationOrReflection;if(e=="noscale")return ft.NoScale;if(e=="noscaleorreflection")return ft.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),KEe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),ZEe=function(t){Lr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new l5(r),this.skeleton.updateWorldTransform(),this.stateData=new J6(r),this.state=new q6(this.stateData)},e}(Th);const JEe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Qr,AnimationState:q6,AnimationStateAdapter2:YEe,AnimationStateData:J6,AtlasAttachmentLoader:Q6,Attachment:I2,AttachmentTimeline:Q0,Bone:Gb,BoneData:e5,BoundingBoxAttachment:$6,ClippingAttachment:V6,ColorTimeline:Db,CurveTimeline:Aa,DeformTimeline:z6,DrawOrderTimeline:ep,Event:t5,EventData:r5,EventQueue:Z6,EventTimeline:W6,get EventType(){return Dn},IkConstraint:n5,IkConstraintData:i5,IkConstraintTimeline:jb,JitterEffect:zEe,MeshAttachment:R2,PathAttachment:Qc,PathConstraint:o5,PathConstraintData:a5,PathConstraintMixTimeline:Vb,PathConstraintPositionTimeline:tp,PathConstraintSpacingTimeline:Y6,PointAttachment:G6,RegionAttachment:O2,RotateTimeline:$i,ScaleTimeline:X6,ShearTimeline:H6,Skeleton:l5,SkeletonBounds:qEe,SkeletonData:u5,SkeletonJson:d5,Skin:h5,Slot:P2,SlotData:f5,get SpacingMode(){return _i},Spine:ZEe,SwirlEffect:WEe,get TimelineType(){return dn},TrackEntry:K6,TransformConstraint:s5,TransformConstraintData:c5,TransformConstraintTimeline:$b,TranslateTimeline:eh,TwoColorTimeline:Ub,VertexAttachment:Zs},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xb=function(t,e){return Xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xb(t,e)};function xt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k2=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),xa=function(t){xt(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.deform,u=this.vertices,c=this.bones;if(!c){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,N+=2){var h=I[c[w]].matrix,b=u[_]+F[N],E=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(k2),p5=function(t){xt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.BoundingBox,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(xa),v5=function(t){xt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Clipping,n.endSlot=null,n.color=new Be(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(xa),Xv=function(t){xt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=_t.Mesh,i.region=null,i.triangles=[],i.color=new Be(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new Be(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(xa),th=function(t){xt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(xa),m5=function(t){xt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=_t.Point,n.x=0,n.y=0,n.rotation=0,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(xa),F2=function(t){xt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=_t.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new Be(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=oe.newFloatArray(8),i.uvs=oe.newFloatArray(8),i.tempColor=new Be(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,f=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),c=Math.sin(l),h=this.x,p=this.y,d=a*u+h,m=a*c,_=o*u+p,v=o*c,g=s*u+h,y=s*c,x=f*u+p,b=f*c,E=this.offset;E[0]=d-v,E[1]=_+m,E[2]=d-b,E[3]=x+m,E[4]=g-b,E[5]=x+y,E[6]=g-v,E[7]=_+y;var w=this.uvs;r.degrees==90?(w[2]=r.u,w[3]=r.v2,w[4]=r.u,w[5]=r.v,w[6]=r.u2,w[7]=r.v,w[0]=r.u2,w[1]=r.v2):(w[0]=r.u,w[1]=r.v2,w[2]=r.u,w[3]=r.v,w[4]=r.u2,w[5]=r.v,w[6]=r.u2,w[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,f=o.matrix,l=f.tx,u=f.ty,c=f.a,h=f.c,p=f.b,d=f.d,m=0,_=0;m=s[0],_=s[1],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[2],_=s[3],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[4],_=s[5],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[6],_=s[7],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(k2),N2=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return oe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),ln;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(ln||(ln={}));var L2=[ln.hold,ln.once,ln.loop,ln.pingpong,ln.onceReverse,ln.loopReverse,ln.pingpongReverse],Hv=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new T6,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,f){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t}(),Dt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Tr=function(){function t(e,r){this.propertyIds=r,this.frames=oe.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),Zi=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=oe.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=oe.newFloatArray(n);oe.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,f,l,u,c,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=(o-f*2+u)*.03,v=((s-l)*3-a+c)*.006,g=((f-u)*3-o+h)*.006,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,E=(f-o)*.3+_+g*.16666667,w=a+b,S=o+E,C=d+18;d<C;d+=2)p[d]=w,p[d+1]=S,b+=y,E+=x,y+=v,x+=g,w+=b,S+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],f=this.frames[n+i];return f+(r-s)/(o[a]-s)*(o[a+1]-f)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],c=o[a-1];return c+(r-u)/(o[a]-u)*(o[a+1]-c)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(Tr),Ji=function(t){xt(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],f=n[i+1];return f+(r-s)/(n[i+2]-s)*(n[i+2+1]-f);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(Zi),zv=function(t){xt(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(Zi),rh=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.rotation=l.data.rotation;return;case X.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.rotation=l.data.rotation+c*o;break;case X.first:case X.replace:c+=l.data.rotation-l.rotation;case X.add:l.rotation+=c*o}}},e}(Ji),B2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.x+"|"+i,Dt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.x=l.data.x,l.y=l.data.y;return;case X.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var c=0,h=0,p=Tr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case X.setup:l.x=l.data.x+c*o,l.y=l.data.y+h*o;break;case X.first:case X.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case X.add:l.x+=c*o,l.y+=h*o}}},e}(zv),M2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.x=l.data.x;return;case X.first:l.x+=(l.data.x-l.x)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.x=l.data.x+c*o;break;case X.first:case X.replace:l.x+=(l.data.x+c-l.x)*o;break;case X.add:l.x+=c*o}}},e}(Ji),D2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.y=l.data.y;return;case X.first:l.y+=(l.data.y-l.y)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.y=l.data.y+c*o;break;case X.first:case X.replace:l.y+=(l.data.y+c-l.y)*o;break;case X.add:l.y+=c*o}}},e}(Ji),U2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.scaleX+"|"+i,Dt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case X.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c,h,p=Tr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(c*=l.data.scaleX,h*=l.data.scaleY,o==1)s==X.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var v=0,g=0;if(f==vt.mixOut)switch(s){case X.setup:v=l.data.scaleX,g=l.data.scaleY,l.scaleX=v+(Math.abs(c)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case X.first:case X.replace:v=l.scaleX,g=l.scaleY,l.scaleX=v+(Math.abs(c)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case X.setup:v=Math.abs(l.data.scaleX)*W.signum(c),g=Math.abs(l.data.scaleY)*W.signum(h),l.scaleX=v+(c-v)*o,l.scaleY=g+(h-g)*o;break;case X.first:case X.replace:v=Math.abs(l.scaleX)*W.signum(c),g=Math.abs(l.scaleY)*W.signum(h),l.scaleX=v+(c-v)*o,l.scaleY=g+(h-g)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(zv),j2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleX=l.data.scaleX;return;case X.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var c=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==X.add?l.scaleX+=c-l.data.scaleX:l.scaleX=c;else{var h=0;if(f==vt.mixOut)switch(s){case X.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.first:case X.replace:h=l.scaleX,l.scaleX=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o}else switch(s){case X.setup:h=Math.abs(l.data.scaleX)*W.signum(c),l.scaleX=h+(c-h)*o;break;case X.first:case X.replace:h=Math.abs(l.scaleX)*W.signum(c),l.scaleX=h+(c-h)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o}}}},e}(Ji),$2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleY=l.data.scaleY;return;case X.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==X.add?l.scaleY+=c-l.data.scaleY:l.scaleY=c;else{var h=0;if(f==vt.mixOut)switch(s){case X.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.first:case X.replace:h=l.scaleY,l.scaleY=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.add:l.scaleY+=(c-l.data.scaleY)*o}else switch(s){case X.setup:h=Math.abs(l.data.scaleY)*W.signum(c),l.scaleY=h+(c-h)*o;break;case X.first:case X.replace:h=Math.abs(l.scaleY)*W.signum(c),l.scaleY=h+(c-h)*o;break;case X.add:l.scaleY+=(c-l.data.scaleY)*o}}}},e}(Ji),V2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.shearX+"|"+i,Dt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case X.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=0,h=0,p=Tr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case X.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+h*o;break;case X.first:case X.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case X.add:l.shearX+=c*o,l.shearY+=h*o}}},e}(zv),G2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearX=l.data.shearX;return;case X.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.shearX=l.data.shearX+c*o;break;case X.first:case X.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o;break;case X.add:l.shearX+=c*o}}},e}(Ji),X2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearY=l.data.shearY;return;case X.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.shearY=l.data.shearY+c*o;break;case X.first:case X.replace:l.shearY+=(l.data.shearY+c-l.shearY)*o;break;case X.add:l.shearY+=c*o}}},e}(Ji),H2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.rgb+"|"+i,Dt.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var h=l.data.color;switch(s){case X.setup:c.setFromColor(h);return;case X.first:c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0,v=Tr.search(u,i,5),g=this.curves[v/5];switch(g){case 0:var y=u[v];p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];var x=(i-y)/(u[v+5]-y);p+=(u[v+5+1]-p)*x,d+=(u[v+5+2]-d)*x,m+=(u[v+5+3]-m)*x,_+=(u[v+5+4]-_)*x;break;case 1:p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];break;default:p=this.getBezierValue(i,v,1,g-2),d=this.getBezierValue(i,v,2,g+18-2),m=this.getBezierValue(i,v,3,g+18*2-2),_=this.getBezierValue(i,v,4,g+18*3-2)}o==1?c.set(p,d,m,_):(s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o))}},e}(Zi),z2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var h=l.data.color;switch(s){case X.setup:c.r=h.r,c.g=h.g,c.b=h.b;return;case X.first:c.r+=(h.r-c.r)*o,c.g+=(h.g-c.g)*o,c.b+=(h.b-c.b)*o}return}var p=0,d=0,m=0,_=Tr.search(u,i,4),v=this.curves[_>>2];switch(v){case 0:var g=u[_];p=u[_+1],d=u[_+2],m=u[_+3];var y=(i-g)/(u[_+4]-g);p+=(u[_+4+1]-p)*y,d+=(u[_+4+2]-d)*y,m+=(u[_+4+3]-m)*y;break;case 1:p=u[_+1],d=u[_+2],m=u[_+3];break;default:p=this.getBezierValue(i,_,1,v-2),d=this.getBezierValue(i,_,2,v+18-2),m=this.getBezierValue(i,_,3,v+18*2-2)}if(o==1)c.r=p,c.g=d,c.b=m;else{if(s==X.setup){var h=l.data.color;c.r=h.r,c.g=h.g,c.b=h.b}c.r+=(p-c.r)*o,c.g+=(d-c.g)*o,c.b+=(m-c.b)*o}}},e}(Zi),W2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var c=l.data.color;switch(s){case X.setup:u.a=c.a;return;case X.first:u.a+=(c.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==X.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(Ji),Y2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.rgb+"|"+i,Dt.alpha+"|"+i,Dt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=f,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case X.setup:c.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case X.first:c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0,E=Tr.search(u,i,8),w=this.curves[E>>3];switch(w){case 0:var S=u[E];m=u[E+1],_=u[E+2],v=u[E+3],g=u[E+4],y=u[E+5],x=u[E+6],b=u[E+7];var C=(i-S)/(u[E+8]-S);m+=(u[E+8+1]-m)*C,_+=(u[E+8+2]-_)*C,v+=(u[E+8+3]-v)*C,g+=(u[E+8+4]-g)*C,y+=(u[E+8+5]-y)*C,x+=(u[E+8+6]-x)*C,b+=(u[E+8+7]-b)*C;break;case 1:m=u[E+1],_=u[E+2],v=u[E+3],g=u[E+4],y=u[E+5],x=u[E+6],b=u[E+7];break;default:m=this.getBezierValue(i,E,1,w-2),_=this.getBezierValue(i,E,2,w+18-2),v=this.getBezierValue(i,E,3,w+18*2-2),g=this.getBezierValue(i,E,4,w+18*3-2),y=this.getBezierValue(i,E,5,w+18*4-2),x=this.getBezierValue(i,E,6,w+18*5-2),b=this.getBezierValue(i,E,7,w+18*6-2)}if(o==1)c.set(m,_,v,g),h.r=y,h.g=x,h.b=b;else{if(s==X.setup){c.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.r+=(y-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(Zi),q2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.rgb+"|"+i,Dt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,f,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=f,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case X.setup:c.r=p.r,c.g=p.g,c.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case X.first:c.r+=(p.r-c.r)*o,c.g+=(p.g-c.g)*o,c.b+=(p.b-c.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=Tr.search(u,i,7),E=this.curves[b/7];switch(E){case 0:var w=u[b];m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];var S=(i-w)/(u[b+7]-w);m+=(u[b+7+1]-m)*S,_+=(u[b+7+2]-_)*S,v+=(u[b+7+3]-v)*S,g+=(u[b+7+4]-g)*S,y+=(u[b+7+5]-y)*S,x+=(u[b+7+6]-x)*S;break;case 1:m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];break;default:m=this.getBezierValue(i,b,1,E-2),_=this.getBezierValue(i,b,2,E+18-2),v=this.getBezierValue(i,b,3,E+18*2-2),g=this.getBezierValue(i,b,4,E+18*3-2),y=this.getBezierValue(i,b,5,E+18*4-2),x=this.getBezierValue(i,b,6,E+18*5-2)}if(o==1)c.r=m,c.g=_,c.b=v,h.r=g,h.g=y,h.b=x;else{if(s==X.setup){var p=l.data.color,d=l.data.darkColor;c.r=p.r,c.g=p.g,c.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}c.r+=(m-c.r)*o,c.g+=(_-c.g)*o,c.b+=(v-c.b)*o,h.r+=(g-h.r)*o,h.g+=(y-h.g)*o,h.b+=(x-h.b)*o}}},e}(Zi),Es=function(t){xt(e,t);function e(r,n){var i=t.call(this,r,[Dt.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){if(f==vt.mixOut){s==X.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==X.setup||s==X.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[Tr.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(Tr),K2=function(t){xt(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[Dt.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,f,l,u,c,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=u*.03-f*.06,v=((s-l)*3-a+c)*.006,g=(f-u+.33333333)*.018,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,E=f*.3+_+g*.16666667,w=a+b,S=E,C=d+18;d<C;d+=2)p[d]=w,p[d+1]=S,b+=y,E+=x,y+=v,x+=g,w+=b,S+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var f=a+18;for(a+=2;a<f;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var c=i[f-2],h=i[f-1];return h+(1-h)*(r-c)/(this.frames[n+this.getFrameEntries()]-c)},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof xa)||u.timelineAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=X.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;return}c.length=p;var m=u;if(m.bones){o=1-o;for(var v=0;v<p;v++)c[v]*=o}else for(var _=m.vertices,v=0;v<p;v++)c[v]+=(_[v]-c[v])*o}return}if(c.length=p,i>=d[d.length-1]){var g=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones)for(var x=0;x<p;x++)c[x]+=g[x];else for(var _=m.vertices,y=0;y<p;y++)c[y]+=g[y]-_[y]}else oe.arrayCopy(g,0,c,0,p);else switch(s){case X.setup:{var b=u;if(b.bones)for(var S=0;S<p;S++)c[S]=g[S]*o;else for(var _=b.vertices,E=0;E<p;E++){var w=_[E];c[E]=w+(g[E]-w)*o}break}case X.first:case X.replace:for(var C=0;C<p;C++)c[C]+=(g[C]-c[C])*o;break;case X.add:var m=u;if(m.bones)for(var I=0;I<p;I++)c[I]+=g[I]*o;else for(var _=m.vertices,T=0;T<p;T++)c[T]+=(g[T]-_[T])*o}return}var A=Tr.search1(d,i),R=this.getCurvePercent(i,A),O=h[A],F=h[A+1];if(o==1)if(s==X.add){var m=u;if(m.bones)for(var q=0;q<p;q++){var $=O[q];c[q]+=$+(F[q]-$)*R}else for(var _=m.vertices,N=0;N<p;N++){var $=O[N];c[N]+=$+(F[N]-$)*R-_[N]}}else for(var K=0;K<p;K++){var $=O[K];c[K]=$+(F[K]-$)*R}else switch(s){case X.setup:{var G=u;if(G.bones)for(var j=0;j<p;j++){var $=O[j];c[j]=($+(F[j]-$)*R)*o}else for(var _=G.vertices,L=0;L<p;L++){var $=O[L],w=_[L];c[L]=w+($+(F[L]-$)*R-w)*o}break}case X.first:case X.replace:for(var M=0;M<p;M++){var $=O[M];c[M]+=($+(F[M]-$)*R-c[M])*o}break;case X.add:var m=u;if(m.bones)for(var J=0;J<p;J++){var $=O[J];c[J]+=($+(F[J]-$)*R)*o}else for(var _=m.vertices,D=0;D<p;D++){var $=O[D];c[D]+=($+(F[D]-$)*R-_[D])*o}}}}},e}(Zi),Wv=function(t){xt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,f){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,f),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var c=0;if(n<l[0])c=0;else{c=Tr.search1(l,n)+1;for(var h=l[c];c>0&&l[c-1]==h;)c--}for(;c<u&&i>=l[c];c++)a.push(this.events[c])}}},e.propertyIds=[""+Dt.event],e}(Tr),tu=function(t){xt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){if(f==vt.mixOut){s==X.setup&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==X.setup||s==X.first)&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=Tr.search1(this.frames,i),u=this.drawOrders[l];if(!u)oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var c=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)c[p]=h[u[p]]},e.propertyIds=[""+Dt.drawOrder],e}(Tr),Z2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,f){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=f?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case X.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var c=0,h=0,p=Tr.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+6]-m);c+=(u[p+6+1]-c)*_,h+=(u[p+6+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==X.setup?(l.mix=l.data.mix+(c-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,f==vt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(c-l.mix)*o,l.softness+=(h-l.softness)*o,f==vt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(Zi),J2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,f,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=f,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var c=l.data;switch(s){case X.setup:l.mixRotate=c.mixRotate,l.mixX=c.mixX,l.mixY=c.mixY,l.mixScaleX=c.mixScaleX,l.mixScaleY=c.mixScaleY,l.mixShearY=c.mixShearY;return;case X.first:l.mixRotate+=(c.mixRotate-l.mixRotate)*o,l.mixX+=(c.mixX-l.mixX)*o,l.mixY+=(c.mixY-l.mixY)*o,l.mixScaleX+=(c.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(c.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(c.mixShearY-l.mixShearY)*o}return}var h,p,d,m,_,v,g=Tr.search(u,i,7),y=this.curves[g/7];switch(y){case 0:var x=u[g];h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];var b=(i-x)/(u[g+7]-x);h+=(u[g+7+1]-h)*b,p+=(u[g+7+2]-p)*b,d+=(u[g+7+3]-d)*b,m+=(u[g+7+4]-m)*b,_+=(u[g+7+5]-_)*b,v+=(u[g+7+6]-v)*b;break;case 1:h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];break;default:h=this.getBezierValue(i,g,1,y-2),p=this.getBezierValue(i,g,2,y+18-2),d=this.getBezierValue(i,g,3,y+18*2-2),m=this.getBezierValue(i,g,4,y+18*3-2),_=this.getBezierValue(i,g,5,y+18*4-2),v=this.getBezierValue(i,g,6,y+18*5-2)}if(s==X.setup){var c=l.data;l.mixRotate=c.mixRotate+(h-c.mixRotate)*o,l.mixX=c.mixX+(p-c.mixX)*o,l.mixY=c.mixY+(d-c.mixY)*o,l.mixScaleX=c.mixScaleX+(m-c.mixScaleX)*o,l.mixScaleY=c.mixScaleY+(_-c.mixScaleY)*o,l.mixShearY=c.mixShearY+(v-c.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(m-l.mixScaleX)*o,l.mixScaleY+=(_-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},e}(Zi),Q2=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.position=l.data.position;return;case X.first:l.position+=(l.data.position-l.position)*o}return}var c=this.getCurveValue(i);s==X.setup?l.position=l.data.position+(c-l.data.position)*o:l.position+=(c-l.position)*o}},e}(Ji),eC=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,Dt.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.spacing=l.data.spacing;return;case X.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var c=this.getCurveValue(i);s==X.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*o:l.spacing+=(c-l.spacing)*o}},e}(Ji),tC=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Dt.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case X.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var c,h,p,d=Tr.search(u,i,4),m=this.curves[d>>2];switch(m){case 0:var _=u[d];c=u[d+1],h=u[d+2],p=u[d+3];var v=(i-_)/(u[d+4]-_);c+=(u[d+4+1]-c)*v,h+=(u[d+4+2]-h)*v,p+=(u[d+4+3]-p)*v;break;case 1:c=u[d+1],h=u[d+2],p=u[d+3];break;default:c=this.getBezierValue(i,d,1,m-2),h=this.getBezierValue(i,d,2,m+18-2),p=this.getBezierValue(i,d,3,m+18*2-2)}if(s==X.setup){var g=l.data;l.mixRotate=g.mixRotate+(c-g.mixRotate)*o,l.mixX=g.mixX+(h-g.mixX)*o,l.mixY=g.mixY+(p-g.mixY)*o}else l.mixRotate+=(c-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(Zi),rC=function(t){xt(e,t);function e(r,n,i){var a=t.call(this,r,[Dt.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,c=this.attachment;if(!(u!=c&&(!(u instanceof xa)||u.timelineAttachment!=c))){var h=this.frames;if(i<h[0]){(s==X.setup||s==X.first)&&(l.sequenceIndex=-1);return}var p=Tr.search(h,i,e.ENTRIES),d=h[p],m=h[p+e.MODE],_=h[p+e.DELAY];if(this.attachment.sequence){var v=m>>4,g=this.attachment.sequence.regions.length,y=L2[m&15];if(y!=ln.hold)switch(v+=(i-d)/_+1e-5|0,y){case ln.once:v=Math.min(g-1,v);break;case ln.loop:v%=g;break;case ln.pingpong:{var x=(g<<1)-2;v=x==0?0:v%x,v>=g&&(v=x-v);break}case ln.onceReverse:v=Math.max(g-1-v,0);break;case ln.loopReverse:v=g-1-v%g;break;case ln.pingpongReverse:{var x=(g<<1)-2;v=x==0?0:(v+g-1)%x,v>=g&&(v=x-v)}}l.sequenceIndex=v}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(Tr),g5=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new y5(this),this.propertyIDs=new T6,this.animationsChanged=!1,this.trackEntryPool=new jv(function(){return new _5}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=c,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,m=d.length;if(a==0&&l==1||f==X.add)for(var _=0;_<m;_++){oe.webkit602BugfixHelper(l,f);var v=d[_];v instanceof Es?this.applyAttachmentTimeline(v,e,h,f,!0):v.apply(e,u,h,p,l,f,vt.mixIn)}else{var g=s.timelineMode,y=s.shortestRotation,x=!y&&s.timelinesRotation.length!=m<<1;x&&(s.timelinesRotation.length=m<<1);for(var _=0;_<m;_++){var b=d[_],E=g[_]==ey?f:X.setup;!y&&b instanceof rh?this.applyRotateTimeline(b,e,h,l,E,s.timelinesRotation,_<<1,x):b instanceof Es?this.applyAttachmentTimeline(b,e,h,f,!0):(oe.webkit602BugfixHelper(l,f),b.apply(e,u,h,p,l,E,vt.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+kk,S=e.slots,C=0,T=e.slots.length;C<T;C++){var I=S[C];if(I.attachmentState==w){var A=I.data.attachmentName;I.setAttachment(A?e.getAttachment(I.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,f=i.animation.timelines,l=f.length,u=i.alpha*e.interruptAlpha,c=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,m=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(m=this.events),n==X.add)for(var _=0;_<l;_++)f[_].apply(r,h,d,m,c,n,vt.mixOut);else{var v=i.timelineMode,g=i.timelineHoldMix,y=i.shortestRotation,x=!y&&i.timelinesRotation.length!=l<<1;x&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var _=0;_<l;_++){var b=f[_],E=vt.mixOut,w=void 0,S=0;switch(v[_]){case ey:if(!s&&b instanceof tu)continue;w=n,S=c;break;case Pk:w=X.setup,S=c;break;case Ok:w=n,S=u;break;case ty:w=X.setup,S=u;break;default:w=X.setup;var C=g[_];S=u*Math.max(0,1-C.mixTime/C.mixDuration);break}i.totalAlpha+=S,!y&&b instanceof rh?this.applyRotateTimeline(b,r,d,S,w,i.timelinesRotation,_<<1,x):b instanceof Es?this.applyAttachmentTimeline(b,r,d,w,o):(oe.webkit602BugfixHelper(S,n),s&&b instanceof tu&&w==X.setup&&(E=vt.mixIn),b.apply(r,h,d,m,S,w,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==X.setup||i==X.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[Tr.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+kk))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+twe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,vt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,c=0,h=0;if(n<u[0])switch(a){case X.setup:l.rotation=l.data.rotation;default:return;case X.first:c=l.rotation,h=l.data.rotation}else c=a==X.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-c;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var m=0,_=0;f?(m=0,_=d):(m=o[s],_=o[s+1]);var v=d>0,g=m>=0;W.signum(_)!=W.signum(d)&&Math.abs(_)<=90&&(Math.abs(m)>180&&(m+=360*W.signum(m)),g=v),p=d+m-m%360,g!=v&&(p+=360*W.signum(m)),o[s]=p}o[s+1]=d,l.rotation=c+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=X.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=X.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var f=0;f<i;f++)a[f]=s.addAll(n[f].getPropertyIds())?ty:Ok;return}e:for(var f=0;f<i;f++){var l=n[f],u=l.getPropertyIds();if(!s.addAll(u))a[f]=ey;else if(!r||l instanceof Es||l instanceof tu||l instanceof Wv||!r.animation.hasTimeline(u))a[f]=Pk;else{for(var c=r.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(e.mixDuration>0){a[f]=ewe,o[f]=c;continue e}break}a[f]=ty}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new Hv("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),_5=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),y5=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Un.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Un.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Un.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Un.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Un.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Un.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Un.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case Un.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case Un.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case Un.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case Un.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case Un.event:var f=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,f)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),Un;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Un||(Un={}));var QEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),ey=0,Pk=1,Ok=2,ty=3,ewe=4,kk=1,twe=2,x5=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),nC=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),f=this.atlas.findRegion(s);if(f==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=f,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new F2(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Xv(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new p5(r)},t.prototype.newPathAttachment=function(e,r){return new th(r)},t.prototype.newPointAttachment=function(e,r){return new m5(r)},t.prototype.newClippingAttachment=function(e,r){return new v5(r)},t}(),Hb=function(){function t(e,r,n){if(this.matrix=new sr,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(!f){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,d/=u,_/=c,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(u<0!=c<0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,N=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o},t}(),iC=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,this.skinRequired=!1,this.color=new Be,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Yv=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),aC=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),oC=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),b5=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var f=e.parent.matrix;if(!f)throw new Error("IK bone must have parent.");var l=f.a,u=f.c,c=f.b,h=f.d,p=-e.ashearX-e.arotation,d=0,m=0,_=e.skeleton.scaleX,v=-e.skeleton.scaleY;switch(e.data.transformMode){case ft.OnlyTranslation:d=r-e.worldX,m=n-e.worldY,m=-m;break;case ft.NoRotationOrReflection:var g=Math.abs(l*h-u*c)/(l*l+c*c),y=l/_,x=c/v;u=-x*g*_,h=y*g*v,p+=Math.atan2(x,y)*W.radDeg;default:var b=r-f.tx,E=n-f.ty,w=l*h-u*c;d=(b*h-E*u)/w-e.ax,m=(E*l-b*c)/w-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var S=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case ft.NoScale:case ft.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var T=e.data.length*S,I=Math.sqrt(d*d+m*m);if(i&&I<T||a&&I>T&&T>1e-4){var g=(I/T-1)*s+1;S*=g,o&&(C*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,S,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,f,l){var u=e.ax,c=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,m=p,_=r.ascaleX,v=e.matrix,g=0,y=0,x=0;h<0?(h=-h,g=180,x=-1):(g=0,x=1),p<0&&(p=-p,x=-x),_<0?(_=-_,y=180):y=0;var b=r.ax,E=0,w=0,S=0,C=v.a,T=v.c,I=v.b,A=v.d,R=Math.abs(h-p)<=1e-4;!R||o?(E=0,w=C*b+v.tx,S=I*b+v.ty):(E=r.ay,w=C*b+T*E+v.tx,S=I*b+A*E+v.ty);var O=e.parent.matrix;if(!O)throw new Error("IK parent must itself have a parent.");C=O.a,T=O.c,I=O.b,A=O.d;var F=1/(C*A-T*I),N=w-O.tx,$=S-O.ty,q=(N*A-$*T)*F-u,K=($*C-N*I)*F-c,G=Math.sqrt(q*q+K*K),L=r.data.length*_,j,M;if(G<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}N=n-O.tx,$=i-O.ty;var D=(N*A-$*T)*F-u,J=($*C-N*I)*F-c,Q=D*D+J*J;if(f!=0){f*=h*(_+1)*.5;var se=Math.sqrt(Q),re=se-G-L*h+f;if(re>0){var fe=Math.min(1,re/(f*2))-1;fe=(re-f*(1-fe*fe))/se,D-=fe*D,J-=fe*J,Q=D*D+J*J}}e:if(R){L*=h;var we=(Q-G*G-L*L)/(2*G*L);we<-1?(we=-1,M=Math.PI*a):we>1?(we=1,M=0,o&&(C=(Math.sqrt(Q)/(G+L)-1)*l+1,d*=C,s&&(m*=C))):M=Math.acos(we)*a,C=G+L*we,T=L*Math.sin(M),j=Math.atan2(J*C-D*T,D*C+J*T)}else{C=h*L,T=p*L;var Ee=C*C,pe=T*T,ve=Math.atan2(J,D);I=pe*G*G+Ee*Q-Ee*pe;var Ae=-2*pe*G,ke=pe-Ee;if(A=Ae*Ae-4*ke*I,A>=0){var Te=Math.sqrt(A);Ae<0&&(Te=-Te),Te=-(Ae+Te)*.5;var Fe=Te/ke,Ne=I/Te,Ze=Math.abs(Fe)<Math.abs(Ne)?Fe:Ne;if(Ze*Ze<=Q){$=Math.sqrt(Q-Ze*Ze)*a,j=ve-Math.atan2($,Ze),M=Math.atan2($/p,(Ze-G)/h);break e}}var pt=W.PI,Je=G-C,qe=Je*Je,lt=0,It=0,Nt=G+C,Rt=Nt*Nt,Pt=0;I=-C*G/(Ee-pe),I>=-1&&I<=1&&(I=Math.acos(I),N=C*Math.cos(I)+G,$=T*Math.sin(I),A=N*N+$*$,A<qe&&(pt=I,qe=A,Je=N,lt=$),A>Rt&&(It=I,Rt=A,Nt=N,Pt=$)),Q<=(qe+Rt)*.5?(j=ve-Math.atan2(lt*a,Je),M=pt*a):(j=ve-Math.atan2(Pt*a,Nt),M=It*a)}var rt=Math.atan2(E,b)*x,Lt=e.arotation;j=(j-rt)*W.radDeg+g-Lt,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(u,c,Lt+j*l,d,m,0,0),Lt=r.arotation,M=((M+rt)*W.radDeg-r.ashearX)*x+y-Lt,M>180?M-=360:M<-180&&(M+=360),r.updateWorldTransformWith(b,E,Lt+M*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),sC=function(t){xt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Yv),lC=function(t){xt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=cr.Fixed,n.spacingMode=Ur.Fixed,n.rotateMode=Sr.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Yv),Ur;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(Ur||(Ur={}));var E5=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof th){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==Sr.Tangent,s=a.rotateMode==Sr.ChainScale,f=this.bones,l=f.length,u=o?l:l+1,c=oe.setArraySize(this.spaces,u),h=s?this.lengths=oe.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case Ur.Percent:if(s)for(var d=0,m=u-1;d<m;d++){var _=f[d],v=_.data.length;if(v<t.epsilon)h[d]=0;else{var g=v*_.matrix.a,y=v*_.matrix.b;h[d]=Math.sqrt(g*g+y*y)}}oe.arrayFill(c,1,u,p);break;case Ur.Proportional:for(var x=0,d=0,m=u-1;d<m;){var _=f[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),c[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,b=Math.sqrt(g*g+y*y);s&&(h[d]=b),c[++d]=b,x+=b}}if(x>0){x=u/x*p;for(var d=1;d<u;d++)c[d]*=x}break;default:for(var E=a.spacingMode==Ur.Length,d=0,m=u-1;d<m;){var _=f[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),c[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,w=Math.sqrt(g*g+y*y);s&&(h[d]=w),c[++d]=(E?v+p:p)*w/v}}}var S=this.computeWorldPositions(e,u,o),C=S[0],T=S[1],I=a.offsetRotation,A=!1;if(I==0)A=a.rotateMode==Sr.Chain;else{A=!1;var R=this.target.bone.matrix;I*=R.a*R.d-R.b*R.c>0?W.degRad:-W.degRad}for(var d=0,R=3;d<l;d++,R+=3){var _=f[d],O=_.matrix;O.tx+=(C-O.tx)*n,O.ty+=(T-O.ty)*i;var g=S[R],y=S[R+1],F=g-C,N=y-T;if(s){var $=h[d];if($!=0){var q=(Math.sqrt(F*F+N*N)/$-1)*r+1;O.a*=q,O.b*=q}}if(C=g,T=y,r>0){var K=O.a,G=O.c,L=O.b,j=O.d,M=0,D=0,J=0;if(o?M=S[R-1]:c[d+1]==0?M=S[R+2]:M=Math.atan2(N,F),M-=Math.atan2(L,K),A){D=Math.cos(M),J=Math.sin(M);var Q=_.data.length;C+=(Q*(D*K-J*L)-F)*r,T+=(Q*(J*K+D*L)-N)*r}else M+=I;M>W.PI?M-=W.PI2:M<-W.PI&&(M+=W.PI2),M*=r,D=Math.cos(M),J=Math.sin(M),O.a=D*K-J*L,O.c=D*G-J*j,O.b=J*K+D*L,O.d=J*G+D*j}_.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=oe.setArraySize(this.positions,r*3+2),f=this.world,l=e.closed,u=e.worldVerticesLength,c=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;c-=l?1:2;var d=p[c];this.data.positionMode==cr.Percent&&(a*=d);var m;switch(this.data.spacingMode){case Ur.Percent:m=d;break;case Ur.Proportional:m=d/r;break;default:m=1}f=oe.setArraySize(this.world,8);for(var _=0,v=0,g=0;_<r;_++,v+=3){var y=o[_]*m;a+=y;var x=a;if(l)x%=d,x<0&&(x+=d),g=0;else if(x<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,f,0,2)),this.addBeforePosition(x,f,0,s,v);continue}else if(x>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,f,0,2)),this.addAfterPosition(x-d,f,0,s,v);continue}for(;;g++){var b=p[g];if(!(x>b)){if(g==0)x/=b;else{var E=p[g-1];x=(x-E)/(b-E)}break}}g!=h&&(h=g,l&&g==c?(e.computeWorldVertices(i,u-4,4,f,0,2),e.computeWorldVertices(i,0,4,f,4,2)):e.computeWorldVertices(i,g*6+2,8,f,0,2)),this.addCurvePosition(x,f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],s,v,n||_>0&&y==0)}return s}l?(u+=2,f=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,f,0,2),e.computeWorldVertices(i,0,2,f,u-4,2),f[u-2]=f[0],f[u-1]=f[1]):(c--,u-=4,f=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,f,0,2));for(var w=oe.setArraySize(this.curves,c),S=0,C=f[0],T=f[1],I=0,A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,M=0,D=0,_=0,J=2;_<c;_++,J+=6)I=f[J],A=f[J+1],R=f[J+2],O=f[J+3],F=f[J+4],N=f[J+5],$=(C-I*2+R)*.1875,q=(T-A*2+O)*.1875,K=((I-R)*3-C+F)*.09375,G=((A-O)*3-T+N)*.09375,L=$*2+K,j=q*2+G,M=(I-C)*.75+$+K*.16666667,D=(A-T)*.75+q+G*.16666667,S+=Math.sqrt(M*M+D*D),M+=L,D+=j,L+=K,j+=G,S+=Math.sqrt(M*M+D*D),M+=L,D+=j,S+=Math.sqrt(M*M+D*D),M+=L+K,D+=j+G,S+=Math.sqrt(M*M+D*D),w[_]=S,C=F,T=N;this.data.positionMode==cr.Percent&&(a*=S);var Q;switch(this.data.spacingMode){case Ur.Percent:Q=S;break;case Ur.Proportional:Q=S/r;break;default:Q=1}for(var se=this.segments,re=0,_=0,v=0,g=0,fe=0;_<r;_++,v+=3){var y=o[_]*Q;a+=y;var x=a;if(l)x%=S,x<0&&(x+=S),g=0;else if(x<0){this.addBeforePosition(x,f,0,s,v);continue}else if(x>S){this.addAfterPosition(x-S,f,u-4,s,v);continue}for(;;g++){var we=w[g];if(!(x>we)){if(g==0)x/=we;else{var E=w[g-1];x=(x-E)/(we-E)}break}}if(g!=h){h=g;var Ee=g*6;for(C=f[Ee],T=f[Ee+1],I=f[Ee+2],A=f[Ee+3],R=f[Ee+4],O=f[Ee+5],F=f[Ee+6],N=f[Ee+7],$=(C-I*2+R)*.03,q=(T-A*2+O)*.03,K=((I-R)*3-C+F)*.006,G=((A-O)*3-T+N)*.006,L=$*2+K,j=q*2+G,M=(I-C)*.3+$+K*.16666667,D=(A-T)*.3+q+G*.16666667,re=Math.sqrt(M*M+D*D),se[0]=re,Ee=1;Ee<8;Ee++)M+=L,D+=j,L+=K,j+=G,re+=Math.sqrt(M*M+D*D),se[Ee]=re;M+=L,D+=j,re+=Math.sqrt(M*M+D*D),se[8]=re,M+=L+K,D+=j+G,re+=Math.sqrt(M*M+D*D),se[9]=re,fe=0}for(x*=re;;fe++){var pe=se[fe];if(!(x>pe)){if(fe==0)x/=pe;else{var E=se[fe-1];x=fe+(x-E)/(pe-E)}break}}this.addCurvePosition(x*.1,C,T,I,A,R,O,F,N,s,v,n||_>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){if(e==0||isNaN(e)){u[c]=r,u[c+1]=n,u[c+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(e<.001?u[c+2]=Math.atan2(a-n,i-r):u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),w5=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor?new Be:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof xa)||!(this.attachment instanceof xa)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),S5=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new zc,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,f=this.target,l=f.matrix,u=l.a,c=l.c,h=l.b,p=l.d,d=u*p-c*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var E=b.a,w=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)-Math.atan2(S,E)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*E-A*S,b.c=I*w-A*C,b.b=A*E+I*S,b.d=A*w+I*C}if(s){var R=this.temp;f.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*r,b.ty+=(R.y-b.ty)*n}if(i!=0){var O=Math.sqrt(b.a*b.a+b.b*b.b);O!=0&&(O=(O+(Math.sqrt(u*u+h*h)-O+this.data.offsetScaleX)*i)/O),b.a*=O,b.b*=O}if(a!=0){var O=Math.sqrt(b.c*b.c+b.d*b.d);O!=0&&(O=(O+(Math.sqrt(c*c+p*p)-O+this.data.offsetScaleY)*a)/O),b.c*=O,b.d*=O}if(o>0){var w=b.c,C=b.d,F=Math.atan2(C,w),T=Math.atan2(p,c)-Math.atan2(h,u)-(F-Math.atan2(b.b,b.a));T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T=F+(T+_)*o;var O=Math.sqrt(w*w+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,f=this.target,l=f.matrix,u=l.a,c=l.c,h=l.b,p=l.d,d=u*p-c*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var E=b.a,w=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*E-A*S,b.c=I*w-A*C,b.b=A*E+I*S,b.d=A*w+I*C}if(s){var R=this.temp;f.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*r,b.ty+=R.y*n}if(i!=0){var O=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=O,b.b*=O}if(a!=0){var O=(Math.sqrt(c*c+p*p)-1+this.data.offsetScaleY)*a+1;b.c*=O,b.d*=O}if(o>0){var T=Math.atan2(p,c)-Math.atan2(h,u);T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2);var w=b.c,C=b.d;T=Math.atan2(C,w)+(T-W.PI/2+_)*o;var O=Math.sqrt(w*w+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,f=this.bones,l=0,u=f.length;l<u;l++){var c=f[l],h=c.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=c.ax,m=c.ay;d+=(s.ax-d+this.data.offsetX)*r,m+=(s.ay-m+this.data.offsetY)*n;var _=c.ascaleX,v=c.ascaleY;i!=0&&_!=0&&(_=(_+(s.ascaleX-_+this.data.offsetScaleX)*i)/_),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var g=c.ashearY;if(o!=0){var p=s.ashearY-g+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,g+=p*o}c.updateWorldTransformWith(d,m,h,_,v,c.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,f=this.bones,l=0,u=f.length;l<u;l++){var c=f[l],h=c.arotation+(s.arotation+this.data.offsetRotation)*e,p=c.ax+(s.ax+this.data.offsetX)*r,d=c.ay+(s.ay+this.data.offsetY)*n,m=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),_=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=c.ashearY+(s.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(p,d,h,m,_,c.ashearX,v)}},t}(),C5=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new Hb(n,this,null);else{var a=this.bones[n.parent.index];i=new Hb(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new w5(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new b5(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new S5(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new E5(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,f=this.transformConstraints,l=this.pathConstraints,u=s.length,c=f.length,h=l.length,p=u+c+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<c;d++){var m=f[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof th&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof th){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,f=W.cosDeg(r.rotation+r.shearX)*r.scaleX,l=W.cosDeg(s)*r.scaleY,u=W.sinDeg(r.rotation+r.shearX)*r.scaleX,c=W.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*f+i*u)*h,r.matrix.c=(n*l+i*c)*h,r.matrix.b=(a*f+o*u)*p,r.matrix.d=(a*l+o*c)*p;for(var d=this._updateCache,m=0,_=d.length;m<_;m++){var v=d[m];v!=r&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new zc,r=new zc;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var h=0,p=null,d=c.getAttachment();if(d instanceof F2)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c,p,0,2);else if(d instanceof Xv){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}}e.set(a,o),r.set(s-a,f-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),uC=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),fC=function(){function t(e,r,n){if(this.index=0,this.color=new Be(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=$e.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),cC=function(t){xt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Yv),zb=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),rp=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];this.setAttachment(f.slotIndex,f.name,f.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];f.attachment&&(f.attachment instanceof Xv?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new zb(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new zb(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u&&a.setAttachment(u);break}}}n++}},t}(),T5=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new uC;n.name="";var i=new Z0(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var f="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(f)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var c=0;c<u;c++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var c=0;c<u;c++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=c==0?null:n.bones[i.readInt(!0)],m=new iC(c,p,d);m.rotation=i.readFloat(),m.x=i.readFloat()*r,m.y=i.readFloat()*r,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*r,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),l&&Be.rgba8888ToColor(m.color,i.readInt32()),n.bones.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var _=i.readString();if(!_)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],m=new fC(c,_,v);Be.rgba8888ToColor(m.color,i.readInt32());var g=i.readInt32();g!=-1&&Be.rgb888ToColor(m.darkColor=new Be,g),m.attachmentName=i.readStringRef(),m.blendMode=i.readInt(!0),n.slots.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var x=i.readString();if(!x)throw new Error("IK constraint data name must not be null.");var m=new sC(x);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*r,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),n.ikConstraints.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var m=new cC(E);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*r,m.offsetY=i.readFloat()*r,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),n.transformConstraints.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var w=i.readString();if(!w)throw new Error("Path constraint data name must not be null.");var m=new lC(w);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==cr.Fixed&&(m.position*=r),m.spacing=i.readFloat(),(m.spacingMode==Ur.Length||m.spacingMode==Ur.Fixed)&&(m.spacing*=r),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),n.pathConstraints.push(m)}var S=this.readSkin(i,n,!0,l);S&&(n.defaultSkin=S,n.skins.push(S));{var c=n.skins.length;for(oe.setArraySize(n.skins,u=c+i.readInt(!0));c<u;c++){var C=this.readSkin(i,n,!1,l);if(!C)throw new Error("readSkin() should not have returned null.");n.skins[c]=C}}u=this.linkedMeshes.length;for(var c=0;c<u;c++){var T=this.linkedMeshes[c],C=T.skin?n.findSkin(T.skin):n.defaultSkin;if(!C)throw new Error("Not skin found for linked mesh.");if(!T.parent)throw new Error("Linked mesh parent must not be null");var I=C.getAttachment(T.slotIndex,T.parent);if(!I)throw new Error("Parent mesh not found: "+T.parent);T.mesh.timelineAttachment=T.inheritTimeline?I:T.mesh,T.mesh.setParentMesh(I)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var c=0;c<u;c++){var A=i.readStringRef();if(!A)throw new Error;var m=new oC(A);m.intValue=i.readInt(!1),m.floatValue=i.readFloat(),m.stringValue=i.readString(),m.audioPath=i.readString(),m.audioPath&&(m.volume=i.readFloat(),m.balance=i.readFloat()),n.events.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var R=i.readString();if(!R)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,R,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new rp("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new rp(s),a.bones.length=e.readInt(!0);for(var f=0,l=a.bones.length;f<l;f++)a.bones[f]=r.bones[e.readInt(!0)];for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var f=0;f<o;f++)for(var u=e.readInt(!0),c=0,h=e.readInt(!0);c<h;c++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,f=e.readStringRef();switch(f||(f=a),e.readByte()){case _t.Region:{var l=e.readStringRef(),u=e.readFloat(),c=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readInt32(),g=this.readSequence(e);l||(l=f);var y=this.attachmentLoader.newRegionAttachment(n,f,l,g);return y?(y.path=l,y.x=c*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=m*s,y.height=_*s,Be.rgba8888ToColor(y.color,v),y.sequence=g,g==null&&y.updateRegion(),y):null}case _t.BoundingBox:{var x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,f);return E?(E.worldVerticesLength=x<<1,E.vertices=b.vertices,E.bones=b.bones,o&&Be.rgba8888ToColor(E.color,v),E):null}case _t.Mesh:{var l=e.readStringRef(),v=e.readInt32(),x=e.readInt(!0),w=this.readFloatArray(e,x<<1,1),S=this.readShortArray(e),b=this.readVertices(e,x),C=e.readInt(!0),g=this.readSequence(e),T=[],m=0,_=0;o&&(T=this.readShortArray(e),m=e.readFloat(),_=e.readFloat()),l||(l=f);var I=this.attachmentLoader.newMeshAttachment(n,f,l,g);return I?(I.path=l,Be.rgba8888ToColor(I.color,v),I.bones=b.bones,I.vertices=b.vertices,I.worldVerticesLength=x<<1,I.triangles=S,I.regionUVs=new Float32Array(w),I.hullLength=C<<1,I.sequence=g,o&&(I.edges=T,I.width=m*s,I.height=_*s),I):null}case _t.LinkedMesh:{var l=e.readStringRef(),v=e.readInt32(),A=e.readStringRef(),R=e.readStringRef(),O=e.readBoolean(),g=this.readSequence(e),m=0,_=0;o&&(m=e.readFloat(),_=e.readFloat()),l||(l=f);var I=this.attachmentLoader.newMeshAttachment(n,f,l,g);return I?(I.path=l,Be.rgba8888ToColor(I.color,v),I.sequence=g,o&&(I.width=m*s,I.height=_*s),this.linkedMeshes.push(new rwe(I,A,i,R,O)),I):null}case _t.Path:{for(var F=e.readBoolean(),N=e.readBoolean(),x=e.readInt(!0),b=this.readVertices(e,x),$=oe.newArray(x/3,0),q=0,K=$.length;q<K;q++)$[q]=e.readFloat()*s;var v=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,f);return l?(l.closed=F,l.constantSpeed=N,l.worldVerticesLength=x<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=$,o&&Be.rgba8888ToColor(l.color,v),l):null}case _t.Point:{var u=e.readFloat(),c=e.readFloat(),h=e.readFloat(),v=o?e.readInt32():0,G=this.attachmentLoader.newPointAttachment(n,f);return G?(G.x=c*s,G.y=h*s,G.rotation=u,o&&Be.rgba8888ToColor(G.color,v),G):null}case _t.Clipping:{var L=e.readInt(!0),x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,j=this.attachmentLoader.newClippingAttachment(n,f);return j?(j.endSlot=r.slots[L],j.worldVerticesLength=x<<1,j.vertices=b.vertices,j.bones=b.bones,o&&Be.rgba8888ToColor(j.color,v),j):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new N2(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?Fk:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new nwe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,f=0;f<r;f++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=oe.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var f=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var c=e.readByte(),h=e.readInt(!0),p=h-1;switch(c){case pwe:{for(var d=new Es(h,f),m=0;m<h;m++)d.setFrame(m,e.readFloat(),e.readStringRef());i.push(d);break}case vwe:{for(var _=e.readInt(!0),d=new H2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,b),m!=p;m++){var w=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,g,S,1),At(e,d,E++,m,1,v,w,y,C,1),At(e,d,E++,m,2,v,w,x,T,1),At(e,d,E++,m,3,v,w,b,I,1)}v=w,g=S,y=C,x=T,b=I}i.push(d);break}case mwe:{for(var _=e.readInt(!0),d=new z2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x),m!=p;m++){var w=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,g,S,1),At(e,d,E++,m,1,v,w,y,C,1),At(e,d,E++,m,2,v,w,x,T,1)}v=w,g=S,y=C,x=T}i.push(d);break}case gwe:{for(var _=e.readInt(!0),d=new Y2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,b,S,C,T),m!=p;m++){var w=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,g,A,1),At(e,d,E++,m,1,v,w,y,R,1),At(e,d,E++,m,2,v,w,x,O,1),At(e,d,E++,m,3,v,w,b,F,1),At(e,d,E++,m,4,v,w,S,N,1),At(e,d,E++,m,5,v,w,C,$,1),At(e,d,E++,m,6,v,w,T,q,1)}v=w,g=A,y=R,x=O,b=F,S=N,C=$,T=q}i.push(d);break}case _we:{for(var _=e.readInt(!0),d=new q2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,S,C,T),m!=p;m++){var w=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,g,A,1),At(e,d,E++,m,1,v,w,y,R,1),At(e,d,E++,m,2,v,w,x,O,1),At(e,d,E++,m,3,v,w,S,N,1),At(e,d,E++,m,4,v,w,C,$,1),At(e,d,E++,m,5,v,w,T,q,1)}v=w,g=A,y=R,x=O,S=N,C=$,T=q}i.push(d);break}case ywe:{for(var d=new W2(h,e.readInt(!0),f),v=e.readFloat(),b=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,b),m!=p;m++){var w=e.readFloat(),I=e.readUnsignedByte()/255;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,b,I,1)}v=w,b=I}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var K=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var G=e.readByte(),h=e.readInt(!0),_=e.readInt(!0);switch(G){case iwe:i.push(ka(e,new rh(h,_,K),1));break;case awe:i.push(ry(e,new B2(h,_,K),a));break;case owe:i.push(ka(e,new M2(h,_,K),a));break;case swe:i.push(ka(e,new D2(h,_,K),a));break;case lwe:i.push(ry(e,new U2(h,_,K),1));break;case uwe:i.push(ka(e,new j2(h,_,K),1));break;case fwe:i.push(ka(e,new $2(h,_,K),1));break;case cwe:i.push(ry(e,new V2(h,_,K),1));break;case hwe:i.push(ka(e,new G2(h,_,K),1));break;case dwe:i.push(ka(e,new X2(h,_,K),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new Z2(h,e.readInt(!0),L),v=e.readFloat(),j=e.readFloat(),M=e.readFloat()*a,m=0,E=0;d.setFrame(m,v,j,M,e.readByte(),e.readBoolean(),e.readBoolean()),m!=p;m++){var w=e.readFloat(),D=e.readFloat(),J=e.readFloat()*a;switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,j,D,1),At(e,d,E++,m,1,v,w,M,J,a)}v=w,j=D,M=J}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new J2(h,e.readInt(!0),L),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),fe=e.readFloat(),we=e.readFloat(),Ee=e.readFloat(),m=0,E=0;d.setFrame(m,v,Q,se,re,fe,we,Ee),m!=p;m++){var w=e.readFloat(),pe=e.readFloat(),ve=e.readFloat(),Ae=e.readFloat(),ke=e.readFloat(),Te=e.readFloat(),Fe=e.readFloat();switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,Q,pe,1),At(e,d,E++,m,1,v,w,se,ve,1),At(e,d,E++,m,2,v,w,re,Ae,1),At(e,d,E++,m,3,v,w,fe,ke,1),At(e,d,E++,m,4,v,w,we,Te,1),At(e,d,E++,m,5,v,w,Ee,Fe,1)}v=w,Q=pe,se=ve,re=Ae,fe=ke,we=Te,Ee=Fe}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var L=e.readInt(!0),Ne=n.pathConstraints[L],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case bwe:i.push(ka(e,new Q2(e.readInt(!0),e.readInt(!0),L),Ne.positionMode==cr.Fixed?a:1));break;case Ewe:i.push(ka(e,new eC(e.readInt(!0),e.readInt(!0),L),Ne.spacingMode==Ur.Length||Ne.spacingMode==Ur.Fixed?a:1));break;case wwe:for(var d=new tC(e.readInt(!0),e.readInt(!0),L),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),m=0,E=0,p=d.getFrameCount()-1;d.setFrame(m,v,Q,se,re),m!=p;m++){var w=e.readFloat(),pe=e.readFloat(),ve=e.readFloat(),Ae=e.readFloat();switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,Q,pe,1),At(e,d,E++,m,1,v,w,se,ve,1),At(e,d,E++,m,2,v,w,re,Ae,1)}v=w,Q=pe,se=ve,re=Ae}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Ze=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),pt=0,Je=e.readInt(!0);pt<Je;pt++){var qe=e.readStringRef();if(!qe)throw new Error("attachmentName must not be null.");var lt=Ze.getAttachment(f,qe),c=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(c){case Fk:{for(var It=lt,Nt=It.bones,Rt=It.vertices,Pt=Nt?Rt.length/3*2:Rt.length,_=e.readInt(!0),d=new K2(h,_,f,It),v=e.readFloat(),m=0,E=0;;m++){var rt=void 0,Lt=e.readInt(!0);if(Lt==0)rt=Nt?oe.newFloatArray(Pt):Rt;else{rt=oe.newFloatArray(Pt);var xe=e.readInt(!0);if(Lt+=xe,a==1)for(var B=xe;B<Lt;B++)rt[B]=e.readFloat();else for(var B=xe;B<Lt;B++)rt[B]=e.readFloat()*a;if(!Nt)for(var B=0,ne=rt.length;B<ne;B++)rt[B]+=Rt[B]}if(d.setFrame(m,v,rt),m==p)break;var w=e.readFloat();switch(e.readByte()){case Mi:d.setStepped(m);break;case Di:At(e,d,E++,m,0,v,w,0,1,1)}v=w}i.push(d);break}case xwe:{for(var d=new rC(h,f,lt),m=0;m<h;m++){var v=e.readFloat(),de=e.readInt32();d.setFrame(m,v,L2[de&15],de>>4,e.readFloat())}i.push(d);break}}}var be=e.readInt(!0);if(be>0){for(var d=new tu(be),Z=n.slots.length,o=0;o<be;o++){for(var v=e.readFloat(),me=e.readInt(!0),U=oe.newArray(Z,0),l=Z-1;l>=0;l--)U[l]=-1;for(var Se=oe.newArray(Z-me,0),ze=0,P=0,l=0;l<me;l++){for(var f=e.readInt(!0);ze!=f;)Se[P++]=ze++;U[ze+e.readInt(!0)]=ze++}for(;ze<Z;)Se[P++]=ze++;for(var l=Z-1;l>=0;l--)U[l]==-1&&(U[l]=Se[--P]);d.setFrame(o,v,U)}i.push(d)}var ge=e.readInt(!0);if(ge>0){for(var d=new Wv(ge),o=0;o<ge;o++){var v=e.readFloat(),_e=n.events[e.readInt(!0)],V=new aC(v,_e);V.intValue=e.readInt(!1),V.floatValue=e.readFloat(),V.stringValue=e.readBoolean()?e.readString():_e.stringValue,V.data.audioPath&&(V.volume=e.readFloat(),V.balance=e.readFloat()),d.setFrame(o,V)}i.push(d)}for(var ee=0,o=0,s=i.length;o<s;o++)ee=Math.max(ee,i[o].getDuration());return new Hv(r,i,ee)},t.BlendModeValues=[$e.NORMAL,$e.ADD,$e.MULTIPLY,$e.SCREEN],t}(),rwe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),nwe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function ka(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var f=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Mi:e.setStepped(a);break;case Di:At(t,e,o++,a,0,n,f,i,l,r)}n=f,i=l}return e}function ry(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,f=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=f;o++){var l=t.readFloat(),u=t.readFloat()*r,c=t.readFloat()*r;switch(t.readByte()){case Mi:e.setStepped(o);break;case Di:At(t,e,s++,o,0,n,l,i,u,r),At(t,e,s++,o,1,n,l,a,c,r)}n=l,i=u,a=c}return e}function At(t,e,r,n,i,a,o,s,f,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,f)}var iwe=0,awe=1,owe=2,swe=3,lwe=4,uwe=5,fwe=6,cwe=7,hwe=8,dwe=9,pwe=0,vwe=1,mwe=2,gwe=3,_we=4,ywe=5,Fk=0,xwe=1,bwe=0,Ewe=1,wwe=2,Mi=1,Di=2,Swe=function(t){xt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(c2),A5=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new uC,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var f=0;f<i.bones.length;f++){var l=i.bones[f],u=null,c=he(l,"parent",null);if(c!=null&&(u=n.findBone(c),u==null))throw new Error("Parent bone not found: "+c);var h=new iC(n.bones.length,l.name,u);h.length=he(l,"length",0)*r,h.x=he(l,"x",0)*r,h.y=he(l,"y",0)*r,h.rotation=he(l,"rotation",0),h.scaleX=he(l,"scaleX",1),h.scaleY=he(l,"scaleY",1),h.shearX=he(l,"shearX",0),h.shearY=he(l,"shearY",0),h.transformMode=oe.enumValue(ft,he(l,"transform","Normal")),h.skinRequired=he(l,"skin",!1);var p=he(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var f=0;f<i.slots.length;f++){var d=i.slots[f],m=n.findBone(d.bone);if(!m)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new fC(n.slots.length,d.name,m),p=he(d,"color",null);p&&h.color.setFromString(p);var _=he(d,"dark",null);_&&(h.darkColor=Be.fromString(_)),h.attachmentName=he(d,"attachment",null),h.blendMode=t.blendModeFromString(he(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var f=0;f<i.ik.length;f++){var v=i.ik[f],h=new sC(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(x==null)throw new Error("IK bone not found: "+y);h.bones.push(x)}h.target=n.findBone(v.target),h.mix=he(v,"mix",1),h.softness=he(v,"softness",0)*r,h.bendDirection=he(v,"bendPositive",!0)?1:-1,h.compress=he(v,"compress",!1),h.stretch=he(v,"stretch",!1),h.uniform=he(v,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var f=0;f<i.transform.length;f++){var v=i.transform[f],h=new cC(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for transform constraint "+v.name+".");h.bones.push(x)}var b=v.target,E=n.findBone(b);if(!E)throw new Error("Couldn't find target bone "+b+" for transform constraint "+v.name+".");h.target=E,h.local=he(v,"local",!1),h.relative=he(v,"relative",!1),h.offsetRotation=he(v,"rotation",0),h.offsetX=he(v,"x",0)*r,h.offsetY=he(v,"y",0)*r,h.offsetScaleX=he(v,"scaleX",0),h.offsetScaleY=he(v,"scaleY",0),h.offsetShearY=he(v,"shearY",0),h.mixRotate=he(v,"mixRotate",1),h.mixX=he(v,"mixX",1),h.mixY=he(v,"mixY",h.mixX),h.mixScaleX=he(v,"mixScaleX",1),h.mixScaleY=he(v,"mixScaleY",h.mixScaleX),h.mixShearY=he(v,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var f=0;f<i.path.length;f++){var v=i.path[f],h=new lC(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for path constraint "+v.name+".");h.bones.push(x)}var b=v.target,E=n.findSlot(b);if(!E)throw new Error("Couldn't find target slot "+b+" for path constraint "+v.name+".");h.target=E,h.positionMode=oe.enumValue(cr,he(v,"positionMode","Percent")),h.spacingMode=oe.enumValue(Ur,he(v,"spacingMode","Length")),h.rotateMode=oe.enumValue(Sr,he(v,"rotateMode","Tangent")),h.offsetRotation=he(v,"rotation",0),h.position=he(v,"position",0),h.positionMode==cr.Fixed&&(h.position*=r),h.spacing=he(v,"spacing",0),(h.spacingMode==Ur.Length||h.spacingMode==Ur.Fixed)&&(h.spacing*=r),h.mixRotate=he(v,"mixRotate",1),h.mixX=he(v,"mixX",1),h.mixY=he(v,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var f=0;f<i.skins.length;f++){var w=i.skins[f],S=new rp(w.name);if(w.bones)for(var g=0;g<w.bones.length;g++){var y=w.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for skin "+w.name+".");S.bones.push(x)}if(w.ik)for(var g=0;g<w.ik.length;g++){var C=w.ik[g],T=n.findIkConstraint(C);if(!T)throw new Error("Couldn't find IK constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}if(w.transform)for(var g=0;g<w.transform.length;g++){var C=w.transform[g],T=n.findTransformConstraint(C);if(!T)throw new Error("Couldn't find transform constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}if(w.path)for(var g=0;g<w.path.length;g++){var C=w.path[g],T=n.findPathConstraint(C);if(!T)throw new Error("Couldn't find path constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}for(var I in w.attachments){var A=n.findSlot(I);if(!A)throw new Error("Couldn't find slot "+I+" for skin "+w.name+".");var d=w.attachments[I];for(var R in d){var O=this.readAttachment(d[R],S,A.index,R,n);O&&S.setAttachment(A.index,R,O)}}n.skins.push(S),S.name=="default"&&(n.defaultSkin=S)}for(var f=0,F=this.linkedMeshes.length;f<F;f++){var N=this.linkedMeshes[f],S=N.skin?n.findSkin(N.skin):n.defaultSkin;if(!S)throw new Error("Skin not found: "+N.skin);var $=S.getAttachment(N.slotIndex,N.parent);if(!$)throw new Error("Parent mesh not found: "+N.parent);N.mesh.timelineAttachment=N.inheritTimeline?$:N.mesh,N.mesh.setParentMesh($)}if(this.linkedMeshes.length=0,i.events)for(var q in i.events){var K=i.events[q],h=new oC(q);h.intValue=he(K,"int",0),h.floatValue=he(K,"float",0),h.stringValue=he(K,"string",""),h.audioPath=he(K,"audio",null),h.audioPath&&(h.volume=he(K,"volume",1),h.balance=he(K,"balance",0)),n.events.push(h)}if(i.animations)for(var G in i.animations){var L=i.animations[G];this.readAnimation(L,G,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=he(e,"name",i),he(e,"type","region")){case"region":{var s=he(e,"path",i),f=this.readSequence(he(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,f);if(!l)return null;l.path=s,l.x=he(e,"x",0)*o,l.y=he(e,"y",0)*o,l.scaleX=he(e,"scaleX",1),l.scaleY=he(e,"scaleY",1),l.rotation=he(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=f;var u=he(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);var u=he(e,"color",null);return u&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var s=he(e,"path",i),f=this.readSequence(he(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,f);if(!h)return null;h.path=s;var u=he(e,"color",null);u&&h.color.setFromString(u),h.width=he(e,"width",0)*o,h.height=he(e,"height",0)*o,h.sequence=f;var p=he(e,"parent",null);if(p)return this.linkedMeshes.push(new Cwe(h,he(e,"skin",null),n,p,he(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=he(e,"edges",null),h.hullLength=he(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=he(e,"closed",!1),s.constantSpeed=he(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,s,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;s.lengths=_;var u=he(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(!g)return null;g.x=he(e,"x",0)*o,g.y=he(e,"y",0)*o,g.rotation=he(e,"rotation",0);var u=he(e,"color",null);return u&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var x=he(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=he(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new N2(he(e,"count",0));return r.start=he(e,"start",1),r.digits=he(e,"digits",0),r.setupIndex=he(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],f=n.findSlot(o);if(!f)throw new Error("Slot not found: "+o);var l=f.index;for(var u in s){var c=s[u];if(c){var h=c.length;if(u=="attachment"){for(var p=new Es(h,l),d=0;d<h;d++){var m=c[d];p.setFrame(d,he(m,"time",0),he(m,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new H2(h,h<<2,l),m=c[0],_=he(m,"time",0),v=Be.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Be.fromString(y.color),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,v.r,b.r,1),g=kt(E,p,g,d,1,_,x,v.g,b.g,1),g=kt(E,p,g,d,2,_,x,v.b,b.b,1),g=kt(E,p,g,d,3,_,x,v.a,b.a,1)),_=x,v=b,m=y}a.push(p)}else if(u=="rgb"){for(var p=new z2(h,h*3,l),m=c[0],_=he(m,"time",0),v=Be.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Be.fromString(y.color),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,v.r,b.r,1),g=kt(E,p,g,d,1,_,x,v.g,b.g,1),g=kt(E,p,g,d,2,_,x,v.b,b.b,1)),_=x,v=b,m=y}a.push(p)}else if(u=="alpha")a.push(ea(c,new W2(h,h,l),0,1));else if(u=="rgba2"){for(var p=new Y2(h,h*7,l),m=c[0],_=he(m,"time",0),v=Be.fromString(m.light),w=Be.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a,w.r,w.g,w.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Be.fromString(y.light),S=Be.fromString(y.dark),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,v.r,b.r,1),g=kt(E,p,g,d,1,_,x,v.g,b.g,1),g=kt(E,p,g,d,2,_,x,v.b,b.b,1),g=kt(E,p,g,d,3,_,x,v.a,b.a,1),g=kt(E,p,g,d,4,_,x,w.r,S.r,1),g=kt(E,p,g,d,5,_,x,w.g,S.g,1),g=kt(E,p,g,d,6,_,x,w.b,S.b,1)),_=x,v=b,w=S,m=y}a.push(p)}else if(u=="rgb2"){for(var p=new q2(h,h*6,l),m=c[0],_=he(m,"time",0),v=Be.fromString(m.light),w=Be.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,w.r,w.g,w.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Be.fromString(y.light),S=Be.fromString(y.dark),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,v.r,b.r,1),g=kt(E,p,g,d,1,_,x,v.g,b.g,1),g=kt(E,p,g,d,2,_,x,v.b,b.b,1),g=kt(E,p,g,d,3,_,x,w.r,S.r,1),g=kt(E,p,g,d,4,_,x,w.g,S.g,1),g=kt(E,p,g,d,5,_,x,w.b,S.b,1)),_=x,v=b,w=S,m=y}a.push(p)}}}}if(e.bones)for(var C in e.bones){var T=e.bones[C],I=n.findBone(C);if(!I)throw new Error("Bone not found: "+C);var A=I.index;for(var u in T){var c=T[u],R=c.length;if(R!=0){if(u==="rotate")a.push(ea(c,new rh(R,R,A),0,1));else if(u==="translate"){var p=new B2(R,R<<1,A);a.push(ny(c,p,"x","y",0,i))}else if(u==="translatex"){var p=new M2(R,R,A);a.push(ea(c,p,0,i))}else if(u==="translatey"){var p=new D2(R,R,A);a.push(ea(c,p,0,i))}else if(u==="scale"){var p=new U2(R,R<<1,A);a.push(ny(c,p,"x","y",1,1))}else if(u==="scalex"){var p=new j2(R,R,A);a.push(ea(c,p,1,1))}else if(u==="scaley"){var p=new $2(R,R,A);a.push(ea(c,p,1,1))}else if(u==="shear"){var p=new V2(R,R<<1,A);a.push(ny(c,p,"x","y",0,1))}else if(u==="shearx"){var p=new G2(R,R,A);a.push(ea(c,p,0,1))}else if(u==="sheary"){var p=new X2(R,R,A);a.push(ea(c,p,0,1))}}}}if(e.ik)for(var O in e.ik){var F=e.ik[O],m=F[0];if(m){var N=n.findIkConstraint(O);if(!N)throw new Error("IK Constraint not found: "+O);for(var $=n.ikConstraints.indexOf(N),p=new Z2(F.length,F.length<<1,$),_=he(m,"time",0),q=he(m,"mix",1),K=he(m,"softness",0)*i,d=0,g=0;;d++){p.setFrame(d,_,q,K,he(m,"bendPositive",!0)?1:-1,he(m,"compress",!1),he(m,"stretch",!1));var y=F[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),G=he(y,"mix",1),L=he(y,"softness",0)*i,E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,q,G,1),g=kt(E,p,g,d,1,_,x,K,L,i)),_=x,q=G,K=L,m=y}a.push(p)}}if(e.transform)for(var O in e.transform){var c=e.transform[O],m=c[0];if(m){var N=n.findTransformConstraint(O);if(!N)throw new Error("Transform constraint not found: "+O);for(var $=n.transformConstraints.indexOf(N),p=new J2(c.length,c.length*6,$),_=he(m,"time",0),j=he(m,"mixRotate",1),M=he(m,"mixX",1),D=he(m,"mixY",M),J=he(m,"mixScaleX",1),Q=he(m,"mixScaleY",J),se=he(m,"mixShearY",1),d=0,g=0;;d++){p.setFrame(d,_,j,M,D,J,Q,se);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),re=he(y,"mixRotate",1),fe=he(y,"mixX",1),we=he(y,"mixY",fe),Ee=he(y,"mixScaleX",1),pe=he(y,"mixScaleY",Ee),ve=he(y,"mixShearY",1),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,j,re,1),g=kt(E,p,g,d,1,_,x,M,fe,1),g=kt(E,p,g,d,2,_,x,D,we,1),g=kt(E,p,g,d,3,_,x,J,Ee,1),g=kt(E,p,g,d,4,_,x,Q,pe,1),g=kt(E,p,g,d,5,_,x,se,ve,1)),_=x,j=re,M=fe,D=we,J=Ee,Q=pe,J=Ee,m=y}a.push(p)}}if(e.path)for(var O in e.path){var F=e.path[O],N=n.findPathConstraint(O);if(!N)throw new Error("Path constraint not found: "+O);var $=n.pathConstraints.indexOf(N);for(var u in F){var c=F[u],m=c[0];if(m){var Ae=c.length;if(u==="position"){var p=new Q2(Ae,Ae,$);a.push(ea(c,p,0,N.positionMode==cr.Fixed?i:1))}else if(u==="spacing"){var p=new eC(Ae,Ae,$);a.push(ea(c,p,0,N.spacingMode==Ur.Length||N.spacingMode==Ur.Fixed?i:1))}else if(u==="mix"){for(var p=new tC(Ae,Ae*3,$),_=he(m,"time",0),j=he(m,"mixRotate",1),M=he(m,"mixX",1),D=he(m,"mixY",M),d=0,g=0;;d++){p.setFrame(d,_,j,M,D);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),re=he(y,"mixRotate",1),fe=he(y,"mixX",1),we=he(y,"mixY",fe),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,j,re,1),g=kt(E,p,g,d,1,_,x,M,fe,1),g=kt(E,p,g,d,2,_,x,D,we,1)),_=x,j=re,M=fe,D=we,m=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var ke in e.deform){var Te=e.deform[ke],Fe=e.attachments[ke]={};for(var o in Te){var s=Te[o],Ne=Fe[o]={};for(var Ze in s)Ne[Ze]={deform:s[Ze]}}}}if(e.attachments)for(var pt in e.attachments){var Je=e.attachments[pt],qe=n.findSkin(pt);if(qe!=null)for(var lt in Je){var s=Je[lt],f=n.findSlot(lt);if(!f)throw new Error("Slot not found: "+lt);var l=f.index;for(var It in s){var Nt=s[It],Rt=qe.getAttachment(l,It);for(var Pt in Nt){var c=Nt[Pt],m=c[0];if(m){if(Pt=="deform"){for(var rt=Rt.bones,Lt=Rt.vertices,xe=rt?Lt.length/3*2:Lt.length,p=new K2(c.length,c.length,l,Rt),_=he(m,"time",0),d=0,g=0;;d++){var B=void 0,ne=he(m,"vertices",null);if(!ne)B=rt?oe.newFloatArray(xe):Lt;else{B=oe.newFloatArray(xe);var de=he(m,"offset",0);if(oe.arrayCopy(ne,0,B,de,ne.length),i!=1)for(var be=de,Z=be+ne.length;be<Z;be++)B[be]*=i;if(!rt)for(var be=0;be<xe;be++)B[be]+=Lt[be]}p.setFrame(d,_,B);var y=c[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),E=m.curve;E&&(g=kt(E,p,g,d,0,_,x,0,1,1)),_=x,m=y}a.push(p)}else if(Pt=="sequence"){for(var p=new rC(c.length,l,Rt),me=0,d=0;d<c.length;d++){var U=he(m,"delay",me),_=he(m,"time",0),Se=ln[he(m,"mode","hold")],ze=he(m,"index",0);p.setFrame(d,_,Se,ze,U),me=U,m=c[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new tu(e.drawOrder.length),P=n.slots.length,d=0,be=0;be<e.drawOrder.length;be++,d++){var ge=e.drawOrder[be],_e=null,V=he(ge,"offsets",null);if(V){_e=oe.newArray(P,-1);for(var ee=oe.newArray(P-V.length,0),ce=0,He=0,De=0;De<V.length;De++){var Ve=V[De],f=n.findSlot(Ve.slot);if(!f)throw new Error("Slot not found: "+f);for(var l=f.index;ce!=l;)ee[He++]=ce++;_e[ce+Ve.offset]=ce++}for(;ce<P;)ee[He++]=ce++;for(var De=P-1;De>=0;De--)_e[De]==-1&&(_e[De]=ee[--He])}p.setFrame(d,he(ge,"time",0),_e)}a.push(p)}if(e.events){for(var p=new Wv(e.events.length),d=0,be=0;be<e.events.length;be++,d++){var ut=e.events[be],Xr=n.findEvent(ut.name);if(!Xr)throw new Error("Event not found: "+ut.name);var Ot=new aC(oe.toSinglePrecision(he(ut,"time",0)),Xr);Ot.intValue=he(ut,"int",Xr.intValue),Ot.floatValue=he(ut,"float",Xr.floatValue),Ot.stringValue=he(ut,"string",Xr.stringValue),Ot.data.audioPath&&(Ot.volume=he(ut,"volume",1),Ot.balance=he(ut,"balance",0)),p.setFrame(d,Ot)}a.push(p)}for(var Qe=0,be=0,Z=a.length;be<Z;be++)Qe=Math.max(Qe,a[be].getDuration());if(isNaN(Qe))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Hv(r,a,Qe))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return $e.NORMAL;if(e=="additive")return $e.ADD;if(e=="multiply")return $e.MULTIPLY;if(e=="screen")return $e.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),Cwe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function ea(t,e,r,n){for(var i=t[0],a=he(i,"time",0),o=he(i,"value",r)*n,s=0,f=0;;f++){e.setFrame(f,a,o);var l=t[f+1];if(!l)return e.shrink(s),e;var u=he(l,"time",0),c=he(l,"value",r)*n;i.curve&&(s=kt(i.curve,e,s,f,0,a,u,o,c,n)),a=u,o=c,i=l}}function ny(t,e,r,n,i,a){for(var o=t[0],s=he(o,"time",0),f=he(o,r,i)*a,l=he(o,n,i)*a,u=0,c=0;;c++){e.setFrame(c,s,f,l);var h=t[c+1];if(!h)return e.shrink(u),e;var p=he(h,"time",0),d=he(h,r,i)*a,m=he(h,n,i)*a,_=o.curve;_&&(u=kt(_,e,u,c,0,s,p,f,d,a),u=kt(_,e,u,c,1,s,p,l,m,a)),s=p,f=d,l=m,o=h}}function kt(t,e,r,n,i,a,o,s,f,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,c=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,c,h,p,d,o,f),r+1}function he(t,e,r){return t[e]!==void 0?t[e]:r}var Twe=function(t){xt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new C5(r),this.skeleton.updateWorldTransform(),this.stateData=new x5(r),this.state=new g5(this.stateData)},e}(Th);const Awe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:W2,Animation:Hv,AnimationState:g5,AnimationStateAdapter:QEe,AnimationStateData:x5,AtlasAttachmentLoader:nC,Attachment:k2,AttachmentTimeline:Es,Bone:Hb,BoneData:iC,BoundingBoxAttachment:p5,ClippingAttachment:v5,ConstraintData:Yv,CurveTimeline:Zi,CurveTimeline1:Ji,CurveTimeline2:zv,DeformTimeline:K2,DrawOrderTimeline:tu,Event:aC,EventData:oC,EventQueue:y5,EventTimeline:Wv,get EventType(){return Un},IkConstraint:b5,IkConstraintData:sC,IkConstraintTimeline:Z2,MeshAttachment:Xv,PathAttachment:th,PathConstraint:E5,PathConstraintData:lC,PathConstraintMixTimeline:tC,PathConstraintPositionTimeline:Q2,PathConstraintSpacingTimeline:eC,PointAttachment:m5,RGB2Timeline:q2,RGBA2Timeline:Y2,RGBATimeline:H2,RGBTimeline:z2,RegionAttachment:F2,RotateTimeline:rh,ScaleTimeline:U2,ScaleXTimeline:j2,ScaleYTimeline:$2,Sequence:N2,get SequenceMode(){return ln},SequenceModeValues:L2,SequenceTimeline:rC,ShearTimeline:V2,ShearXTimeline:G2,ShearYTimeline:X2,Skeleton:C5,SkeletonBinary:T5,SkeletonBounds:Swe,SkeletonData:uC,SkeletonJson:A5,Skin:rp,SkinEntry:zb,Slot:w5,SlotData:fC,get SpacingMode(){return Ur},Spine:Twe,Timeline:Tr,TrackEntry:_5,TransformConstraint:S5,TransformConstraintData:cC,TransformConstraintTimeline:J2,TranslateTimeline:B2,TranslateXTimeline:M2,TranslateYTimeline:D2,VertexAttachment:xa},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wb=function(t,e){return Wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Wb(t,e)};function I5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(jr||(jr={}));function np(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?jr.VER37:e==="3.8"?jr.VER38:e==="4.0"?jr.VER40:e==="4.1"?jr.VER41:r<jr.VER37?jr.VER37:jr.UNKNOWN}var Iwe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=np(i);if(a===jr.VER38&&(n=new U6(new y2(e))),i=this.readVersionNewFormat(r),a=np(i),(a===jr.VER40||a===jr.VER41)&&(n=new T5(new nC(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Z0(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Z0(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),Rwe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=np(n),a=null;if(i===jr.VER37&&(a=new d5(new Q6(e))),i===jr.VER38&&(a=new j6(new y2(e))),(i===jr.VER40||i===jr.VER41)&&(a=new A5(new nC(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),Pwe=function(t){I5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new Iwe},e.prototype.createJsonParser=function(){return new Rwe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){ri.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(LEe),Owe=function(t){I5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=np(r.version),i=null;if(n===jr.VER37&&(i=JEe),n===jr.VER38&&(i=HEe),(n===jr.VER40||n===jr.VER41)&&(i=Awe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Th);Pwe.registerLoaderPlugin();var R5={exports:{}},iy={},Nk;function Ko(){return Nk||(Nk=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var f in s)r(s,f)&&(a[f]=s[f])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,f,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+f),l);return}for(var u=0;u<f;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,f,l,u,c;for(f=0,o=0,s=a.length;o<s;o++)f+=a[o].length;for(c=new Uint8Array(f),l=0,o=0,s=a.length;o<s;o++)u=a[o],c.set(u,l),l+=u.length;return c}},i={arraySet:function(a,o,s,f,l){for(var u=0;u<f;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(iy)),iy}var vl={},ki={},ts={},Lk;function kwe(){if(Lk)return ts;Lk=1;var t=Ko(),e=4,r=0,n=1,i=2;function a(B){for(var ne=B.length;--ne>=0;)B[ne]=0}var o=0,s=1,f=2,l=3,u=258,c=29,h=256,p=h+1+c,d=30,m=19,_=2*p+1,v=15,g=16,y=7,x=256,b=16,E=17,w=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=512,R=new Array((p+2)*2);a(R);var O=new Array(d*2);a(O);var F=new Array(A);a(F);var N=new Array(u-l+1);a(N);var $=new Array(c);a($);var q=new Array(d);a(q);function K(B,ne,de,be,Z){this.static_tree=B,this.extra_bits=ne,this.extra_base=de,this.elems=be,this.max_length=Z,this.has_stree=B&&B.length}var G,L,j;function M(B,ne){this.dyn_tree=B,this.max_code=0,this.stat_desc=ne}function D(B){return B<256?F[B]:F[256+(B>>>7)]}function J(B,ne){B.pending_buf[B.pending++]=ne&255,B.pending_buf[B.pending++]=ne>>>8&255}function Q(B,ne,de){B.bi_valid>g-de?(B.bi_buf|=ne<<B.bi_valid&65535,J(B,B.bi_buf),B.bi_buf=ne>>g-B.bi_valid,B.bi_valid+=de-g):(B.bi_buf|=ne<<B.bi_valid&65535,B.bi_valid+=de)}function se(B,ne,de){Q(B,de[ne*2],de[ne*2+1])}function re(B,ne){var de=0;do de|=B&1,B>>>=1,de<<=1;while(--ne>0);return de>>>1}function fe(B){B.bi_valid===16?(J(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):B.bi_valid>=8&&(B.pending_buf[B.pending++]=B.bi_buf&255,B.bi_buf>>=8,B.bi_valid-=8)}function we(B,ne){var de=ne.dyn_tree,be=ne.max_code,Z=ne.stat_desc.static_tree,me=ne.stat_desc.has_stree,U=ne.stat_desc.extra_bits,Se=ne.stat_desc.extra_base,ze=ne.stat_desc.max_length,P,ge,_e,V,ee,ce,He=0;for(V=0;V<=v;V++)B.bl_count[V]=0;for(de[B.heap[B.heap_max]*2+1]=0,P=B.heap_max+1;P<_;P++)ge=B.heap[P],V=de[de[ge*2+1]*2+1]+1,V>ze&&(V=ze,He++),de[ge*2+1]=V,!(ge>be)&&(B.bl_count[V]++,ee=0,ge>=Se&&(ee=U[ge-Se]),ce=de[ge*2],B.opt_len+=ce*(V+ee),me&&(B.static_len+=ce*(Z[ge*2+1]+ee)));if(He!==0){do{for(V=ze-1;B.bl_count[V]===0;)V--;B.bl_count[V]--,B.bl_count[V+1]+=2,B.bl_count[ze]--,He-=2}while(He>0);for(V=ze;V!==0;V--)for(ge=B.bl_count[V];ge!==0;)_e=B.heap[--P],!(_e>be)&&(de[_e*2+1]!==V&&(B.opt_len+=(V-de[_e*2+1])*de[_e*2],de[_e*2+1]=V),ge--)}}function Ee(B,ne,de){var be=new Array(v+1),Z=0,me,U;for(me=1;me<=v;me++)be[me]=Z=Z+de[me-1]<<1;for(U=0;U<=ne;U++){var Se=B[U*2+1];Se!==0&&(B[U*2]=re(be[Se]++,Se))}}function pe(){var B,ne,de,be,Z,me=new Array(v+1);for(de=0,be=0;be<c-1;be++)for($[be]=de,B=0;B<1<<S[be];B++)N[de++]=be;for(N[de-1]=be,Z=0,be=0;be<16;be++)for(q[be]=Z,B=0;B<1<<C[be];B++)F[Z++]=be;for(Z>>=7;be<d;be++)for(q[be]=Z<<7,B=0;B<1<<C[be]-7;B++)F[256+Z++]=be;for(ne=0;ne<=v;ne++)me[ne]=0;for(B=0;B<=143;)R[B*2+1]=8,B++,me[8]++;for(;B<=255;)R[B*2+1]=9,B++,me[9]++;for(;B<=279;)R[B*2+1]=7,B++,me[7]++;for(;B<=287;)R[B*2+1]=8,B++,me[8]++;for(Ee(R,p+1,me),B=0;B<d;B++)O[B*2+1]=5,O[B*2]=re(B,5);G=new K(R,S,h+1,p,v),L=new K(O,C,0,d,v),j=new K(new Array(0),T,0,m,y)}function ve(B){var ne;for(ne=0;ne<p;ne++)B.dyn_ltree[ne*2]=0;for(ne=0;ne<d;ne++)B.dyn_dtree[ne*2]=0;for(ne=0;ne<m;ne++)B.bl_tree[ne*2]=0;B.dyn_ltree[x*2]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function Ae(B){B.bi_valid>8?J(B,B.bi_buf):B.bi_valid>0&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function ke(B,ne,de,be){Ae(B),be&&(J(B,de),J(B,~de)),t.arraySet(B.pending_buf,B.window,ne,de,B.pending),B.pending+=de}function Te(B,ne,de,be){var Z=ne*2,me=de*2;return B[Z]<B[me]||B[Z]===B[me]&&be[ne]<=be[de]}function Fe(B,ne,de){for(var be=B.heap[de],Z=de<<1;Z<=B.heap_len&&(Z<B.heap_len&&Te(ne,B.heap[Z+1],B.heap[Z],B.depth)&&Z++,!Te(ne,be,B.heap[Z],B.depth));)B.heap[de]=B.heap[Z],de=Z,Z<<=1;B.heap[de]=be}function Ne(B,ne,de){var be,Z,me=0,U,Se;if(B.last_lit!==0)do be=B.pending_buf[B.d_buf+me*2]<<8|B.pending_buf[B.d_buf+me*2+1],Z=B.pending_buf[B.l_buf+me],me++,be===0?se(B,Z,ne):(U=N[Z],se(B,U+h+1,ne),Se=S[U],Se!==0&&(Z-=$[U],Q(B,Z,Se)),be--,U=D(be),se(B,U,de),Se=C[U],Se!==0&&(be-=q[U],Q(B,be,Se)));while(me<B.last_lit);se(B,x,ne)}function Ze(B,ne){var de=ne.dyn_tree,be=ne.stat_desc.static_tree,Z=ne.stat_desc.has_stree,me=ne.stat_desc.elems,U,Se,ze=-1,P;for(B.heap_len=0,B.heap_max=_,U=0;U<me;U++)de[U*2]!==0?(B.heap[++B.heap_len]=ze=U,B.depth[U]=0):de[U*2+1]=0;for(;B.heap_len<2;)P=B.heap[++B.heap_len]=ze<2?++ze:0,de[P*2]=1,B.depth[P]=0,B.opt_len--,Z&&(B.static_len-=be[P*2+1]);for(ne.max_code=ze,U=B.heap_len>>1;U>=1;U--)Fe(B,de,U);P=me;do U=B.heap[1],B.heap[1]=B.heap[B.heap_len--],Fe(B,de,1),Se=B.heap[1],B.heap[--B.heap_max]=U,B.heap[--B.heap_max]=Se,de[P*2]=de[U*2]+de[Se*2],B.depth[P]=(B.depth[U]>=B.depth[Se]?B.depth[U]:B.depth[Se])+1,de[U*2+1]=de[Se*2+1]=P,B.heap[1]=P++,Fe(B,de,1);while(B.heap_len>=2);B.heap[--B.heap_max]=B.heap[1],we(B,ne),Ee(de,ze,B.bl_count)}function pt(B,ne,de){var be,Z=-1,me,U=ne[0*2+1],Se=0,ze=7,P=4;for(U===0&&(ze=138,P=3),ne[(de+1)*2+1]=65535,be=0;be<=de;be++)me=U,U=ne[(be+1)*2+1],!(++Se<ze&&me===U)&&(Se<P?B.bl_tree[me*2]+=Se:me!==0?(me!==Z&&B.bl_tree[me*2]++,B.bl_tree[b*2]++):Se<=10?B.bl_tree[E*2]++:B.bl_tree[w*2]++,Se=0,Z=me,U===0?(ze=138,P=3):me===U?(ze=6,P=3):(ze=7,P=4))}function Je(B,ne,de){var be,Z=-1,me,U=ne[0*2+1],Se=0,ze=7,P=4;for(U===0&&(ze=138,P=3),be=0;be<=de;be++)if(me=U,U=ne[(be+1)*2+1],!(++Se<ze&&me===U)){if(Se<P)do se(B,me,B.bl_tree);while(--Se!==0);else me!==0?(me!==Z&&(se(B,me,B.bl_tree),Se--),se(B,b,B.bl_tree),Q(B,Se-3,2)):Se<=10?(se(B,E,B.bl_tree),Q(B,Se-3,3)):(se(B,w,B.bl_tree),Q(B,Se-11,7));Se=0,Z=me,U===0?(ze=138,P=3):me===U?(ze=6,P=3):(ze=7,P=4)}}function qe(B){var ne;for(pt(B,B.dyn_ltree,B.l_desc.max_code),pt(B,B.dyn_dtree,B.d_desc.max_code),Ze(B,B.bl_desc),ne=m-1;ne>=3&&B.bl_tree[I[ne]*2+1]===0;ne--);return B.opt_len+=3*(ne+1)+5+5+4,ne}function lt(B,ne,de,be){var Z;for(Q(B,ne-257,5),Q(B,de-1,5),Q(B,be-4,4),Z=0;Z<be;Z++)Q(B,B.bl_tree[I[Z]*2+1],3);Je(B,B.dyn_ltree,ne-1),Je(B,B.dyn_dtree,de-1)}function It(B){var ne=4093624447,de;for(de=0;de<=31;de++,ne>>>=1)if(ne&1&&B.dyn_ltree[de*2]!==0)return r;if(B.dyn_ltree[9*2]!==0||B.dyn_ltree[10*2]!==0||B.dyn_ltree[13*2]!==0)return n;for(de=32;de<h;de++)if(B.dyn_ltree[de*2]!==0)return n;return r}var Nt=!1;function Rt(B){Nt||(pe(),Nt=!0),B.l_desc=new M(B.dyn_ltree,G),B.d_desc=new M(B.dyn_dtree,L),B.bl_desc=new M(B.bl_tree,j),B.bi_buf=0,B.bi_valid=0,ve(B)}function Pt(B,ne,de,be){Q(B,(o<<1)+(be?1:0),3),ke(B,ne,de,!0)}function rt(B){Q(B,s<<1,3),se(B,x,R),fe(B)}function Lt(B,ne,de,be){var Z,me,U=0;B.level>0?(B.strm.data_type===i&&(B.strm.data_type=It(B)),Ze(B,B.l_desc),Ze(B,B.d_desc),U=qe(B),Z=B.opt_len+3+7>>>3,me=B.static_len+3+7>>>3,me<=Z&&(Z=me)):Z=me=de+5,de+4<=Z&&ne!==-1?Pt(B,ne,de,be):B.strategy===e||me===Z?(Q(B,(s<<1)+(be?1:0),3),Ne(B,R,O)):(Q(B,(f<<1)+(be?1:0),3),lt(B,B.l_desc.max_code+1,B.d_desc.max_code+1,U+1),Ne(B,B.dyn_ltree,B.dyn_dtree)),ve(B),be&&Ae(B)}function xe(B,ne,de){return B.pending_buf[B.d_buf+B.last_lit*2]=ne>>>8&255,B.pending_buf[B.d_buf+B.last_lit*2+1]=ne&255,B.pending_buf[B.l_buf+B.last_lit]=de&255,B.last_lit++,ne===0?B.dyn_ltree[de*2]++:(B.matches++,ne--,B.dyn_ltree[(N[de]+h+1)*2]++,B.dyn_dtree[D(ne)*2]++),B.last_lit===B.lit_bufsize-1}return ts._tr_init=Rt,ts._tr_stored_block=Pt,ts._tr_flush_block=Lt,ts._tr_tally=xe,ts._tr_align=rt,ts}var ay,Bk;function P5(){if(Bk)return ay;Bk=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return ay=t,ay}var oy,Mk;function O5(){if(Mk)return oy;Mk=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,f=o+a;n^=-1;for(var l=o;l<f;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return oy=r,oy}var sy,Dk;function hC(){return Dk||(Dk=1,sy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),sy}var Uk;function Fwe(){if(Uk)return ki;Uk=1;var t=Ko(),e=kwe(),r=P5(),n=O5(),i=hC(),a=0,o=1,s=3,f=4,l=5,u=0,c=1,h=-2,p=-3,d=-5,m=-1,_=1,v=2,g=3,y=4,x=0,b=2,E=8,w=9,S=15,C=8,T=29,I=256,A=I+1+T,R=30,O=19,F=2*A+1,N=15,$=3,q=258,K=q+$+1,G=32,L=42,j=69,M=73,D=91,J=103,Q=113,se=666,re=1,fe=2,we=3,Ee=4,pe=3;function ve(P,ge){return P.msg=i[ge],ge}function Ae(P){return(P<<1)-(P>4?9:0)}function ke(P){for(var ge=P.length;--ge>=0;)P[ge]=0}function Te(P){var ge=P.state,_e=ge.pending;_e>P.avail_out&&(_e=P.avail_out),_e!==0&&(t.arraySet(P.output,ge.pending_buf,ge.pending_out,_e,P.next_out),P.next_out+=_e,ge.pending_out+=_e,P.total_out+=_e,P.avail_out-=_e,ge.pending-=_e,ge.pending===0&&(ge.pending_out=0))}function Fe(P,ge){e._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,ge),P.block_start=P.strstart,Te(P.strm)}function Ne(P,ge){P.pending_buf[P.pending++]=ge}function Ze(P,ge){P.pending_buf[P.pending++]=ge>>>8&255,P.pending_buf[P.pending++]=ge&255}function pt(P,ge,_e,V){var ee=P.avail_in;return ee>V&&(ee=V),ee===0?0:(P.avail_in-=ee,t.arraySet(ge,P.input,P.next_in,ee,_e),P.state.wrap===1?P.adler=r(P.adler,ge,ee,_e):P.state.wrap===2&&(P.adler=n(P.adler,ge,ee,_e)),P.next_in+=ee,P.total_in+=ee,ee)}function Je(P,ge){var _e=P.max_chain_length,V=P.strstart,ee,ce,He=P.prev_length,De=P.nice_match,Ve=P.strstart>P.w_size-K?P.strstart-(P.w_size-K):0,ut=P.window,Xr=P.w_mask,Ot=P.prev,Qe=P.strstart+q,$t=ut[V+He-1],yr=ut[V+He];P.prev_length>=P.good_match&&(_e>>=2),De>P.lookahead&&(De=P.lookahead);do if(ee=ge,!(ut[ee+He]!==yr||ut[ee+He-1]!==$t||ut[ee]!==ut[V]||ut[++ee]!==ut[V+1])){V+=2,ee++;do;while(ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&ut[++V]===ut[++ee]&&V<Qe);if(ce=q-(Qe-V),V=Qe-q,ce>He){if(P.match_start=ge,He=ce,ce>=De)break;$t=ut[V+He-1],yr=ut[V+He]}}while((ge=Ot[ge&Xr])>Ve&&--_e!==0);return He<=P.lookahead?He:P.lookahead}function qe(P){var ge=P.w_size,_e,V,ee,ce,He;do{if(ce=P.window_size-P.lookahead-P.strstart,P.strstart>=ge+(ge-K)){t.arraySet(P.window,P.window,ge,ge,0),P.match_start-=ge,P.strstart-=ge,P.block_start-=ge,V=P.hash_size,_e=V;do ee=P.head[--_e],P.head[_e]=ee>=ge?ee-ge:0;while(--V);V=ge,_e=V;do ee=P.prev[--_e],P.prev[_e]=ee>=ge?ee-ge:0;while(--V);ce+=ge}if(P.strm.avail_in===0)break;if(V=pt(P.strm,P.window,P.strstart+P.lookahead,ce),P.lookahead+=V,P.lookahead+P.insert>=$)for(He=P.strstart-P.insert,P.ins_h=P.window[He],P.ins_h=(P.ins_h<<P.hash_shift^P.window[He+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[He+$-1])&P.hash_mask,P.prev[He&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=He,He++,P.insert--,!(P.lookahead+P.insert<$)););}while(P.lookahead<K&&P.strm.avail_in!==0)}function lt(P,ge){var _e=65535;for(_e>P.pending_buf_size-5&&(_e=P.pending_buf_size-5);;){if(P.lookahead<=1){if(qe(P),P.lookahead===0&&ge===a)return re;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var V=P.block_start+_e;if((P.strstart===0||P.strstart>=V)&&(P.lookahead=P.strstart-V,P.strstart=V,Fe(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-K&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===f?(Fe(P,!0),P.strm.avail_out===0?we:Ee):(P.strstart>P.block_start&&(Fe(P,!1),P.strm.avail_out===0),re)}function It(P,ge){for(var _e,V;;){if(P.lookahead<K){if(qe(P),P.lookahead<K&&ge===a)return re;if(P.lookahead===0)break}if(_e=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),_e!==0&&P.strstart-_e<=P.w_size-K&&(P.match_length=Je(P,_e)),P.match_length>=$)if(V=e._tr_tally(P,P.strstart-P.match_start,P.match_length-$),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=$){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else V=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(V&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=P.strstart<$-1?P.strstart:$-1,ge===f?(Fe(P,!0),P.strm.avail_out===0?we:Ee):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:fe}function Nt(P,ge){for(var _e,V,ee;;){if(P.lookahead<K){if(qe(P),P.lookahead<K&&ge===a)return re;if(P.lookahead===0)break}if(_e=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=$-1,_e!==0&&P.prev_length<P.max_lazy_match&&P.strstart-_e<=P.w_size-K&&(P.match_length=Je(P,_e),P.match_length<=5&&(P.strategy===_||P.match_length===$&&P.strstart-P.match_start>4096)&&(P.match_length=$-1)),P.prev_length>=$&&P.match_length<=P.prev_length){ee=P.strstart+P.lookahead-$,V=e._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-$),P.lookahead-=P.prev_length-1,P.prev_length-=2;do++P.strstart<=ee&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart);while(--P.prev_length!==0);if(P.match_available=0,P.match_length=$-1,P.strstart++,V&&(Fe(P,!1),P.strm.avail_out===0))return re}else if(P.match_available){if(V=e._tr_tally(P,0,P.window[P.strstart-1]),V&&Fe(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return re}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(V=e._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<$-1?P.strstart:$-1,ge===f?(Fe(P,!0),P.strm.avail_out===0?we:Ee):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:fe}function Rt(P,ge){for(var _e,V,ee,ce,He=P.window;;){if(P.lookahead<=q){if(qe(P),P.lookahead<=q&&ge===a)return re;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=$&&P.strstart>0&&(ee=P.strstart-1,V=He[ee],V===He[++ee]&&V===He[++ee]&&V===He[++ee])){ce=P.strstart+q;do;while(V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&V===He[++ee]&&ee<ce);P.match_length=q-(ce-ee),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=$?(_e=e._tr_tally(P,1,P.match_length-$),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(_e=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),_e&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===f?(Fe(P,!0),P.strm.avail_out===0?we:Ee):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:fe}function Pt(P,ge){for(var _e;;){if(P.lookahead===0&&(qe(P),P.lookahead===0)){if(ge===a)return re;break}if(P.match_length=0,_e=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,_e&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===f?(Fe(P,!0),P.strm.avail_out===0?we:Ee):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:fe}function rt(P,ge,_e,V,ee){this.good_length=P,this.max_lazy=ge,this.nice_length=_e,this.max_chain=V,this.func=ee}var Lt;Lt=[new rt(0,0,0,0,lt),new rt(4,4,8,4,It),new rt(4,5,16,8,It),new rt(4,6,32,32,It),new rt(4,4,16,16,Nt),new rt(8,16,32,32,Nt),new rt(8,16,128,128,Nt),new rt(8,32,128,256,Nt),new rt(32,128,258,1024,Nt),new rt(32,258,258,4096,Nt)];function xe(P){P.window_size=2*P.w_size,ke(P.head),P.max_lazy_match=Lt[P.level].max_lazy,P.good_match=Lt[P.level].good_length,P.nice_match=Lt[P.level].nice_length,P.max_chain_length=Lt[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=$-1,P.match_available=0,P.ins_h=0}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(F*2),this.dyn_dtree=new t.Buf16((2*R+1)*2),this.bl_tree=new t.Buf16((2*O+1)*2),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(N+1),this.heap=new t.Buf16(2*A+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*A+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(P){var ge;return!P||!P.state?ve(P,h):(P.total_in=P.total_out=0,P.data_type=b,ge=P.state,ge.pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?L:Q,P.adler=ge.wrap===2?0:1,ge.last_flush=a,e._tr_init(ge),u)}function de(P){var ge=ne(P);return ge===u&&xe(P.state),ge}function be(P,ge){return!P||!P.state||P.state.wrap!==2?h:(P.state.gzhead=ge,u)}function Z(P,ge,_e,V,ee,ce){if(!P)return h;var He=1;if(ge===m&&(ge=6),V<0?(He=0,V=-V):V>15&&(He=2,V-=16),ee<1||ee>w||_e!==E||V<8||V>15||ge<0||ge>9||ce<0||ce>y)return ve(P,h);V===8&&(V=9);var De=new B;return P.state=De,De.strm=P,De.wrap=He,De.gzhead=null,De.w_bits=V,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=ee+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+$-1)/$),De.window=new t.Buf8(De.w_size*2),De.head=new t.Buf16(De.hash_size),De.prev=new t.Buf16(De.w_size),De.lit_bufsize=1<<ee+6,De.pending_buf_size=De.lit_bufsize*4,De.pending_buf=new t.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=(1+2)*De.lit_bufsize,De.level=ge,De.strategy=ce,De.method=_e,de(P)}function me(P,ge){return Z(P,ge,E,S,C,x)}function U(P,ge){var _e,V,ee,ce;if(!P||!P.state||ge>l||ge<0)return P?ve(P,h):h;if(V=P.state,!P.output||!P.input&&P.avail_in!==0||V.status===se&&ge!==f)return ve(P,P.avail_out===0?d:h);if(V.strm=P,_e=V.last_flush,V.last_flush=ge,V.status===L)if(V.wrap===2)P.adler=0,Ne(V,31),Ne(V,139),Ne(V,8),V.gzhead?(Ne(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Ne(V,V.gzhead.time&255),Ne(V,V.gzhead.time>>8&255),Ne(V,V.gzhead.time>>16&255),Ne(V,V.gzhead.time>>24&255),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,V.gzhead.os&255),V.gzhead.extra&&V.gzhead.extra.length&&(Ne(V,V.gzhead.extra.length&255),Ne(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(P.adler=n(P.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=j):(Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,pe),V.status=Q);else{var He=E+(V.w_bits-8<<4)<<8,De=-1;V.strategy>=v||V.level<2?De=0:V.level<6?De=1:V.level===6?De=2:De=3,He|=De<<6,V.strstart!==0&&(He|=G),He+=31-He%31,V.status=Q,Ze(V,He),V.strstart!==0&&(Ze(V,P.adler>>>16),Ze(V,P.adler&65535)),P.adler=1}if(V.status===j)if(V.gzhead.extra){for(ee=V.pending;V.gzindex<(V.gzhead.extra.length&65535)&&!(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size));)Ne(V,V.gzhead.extra[V.gzindex]&255),V.gzindex++;V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=M)}else V.status=M;if(V.status===M)if(V.gzhead.name){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){ce=1;break}V.gzindex<V.gzhead.name.length?ce=V.gzhead.name.charCodeAt(V.gzindex++)&255:ce=0,Ne(V,ce)}while(ce!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),ce===0&&(V.gzindex=0,V.status=D)}else V.status=D;if(V.status===D)if(V.gzhead.comment){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){ce=1;break}V.gzindex<V.gzhead.comment.length?ce=V.gzhead.comment.charCodeAt(V.gzindex++)&255:ce=0,Ne(V,ce)}while(ce!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),ce===0&&(V.status=J)}else V.status=J;if(V.status===J&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&Te(P),V.pending+2<=V.pending_buf_size&&(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),P.adler=0,V.status=Q)):V.status=Q),V.pending!==0){if(Te(P),P.avail_out===0)return V.last_flush=-1,u}else if(P.avail_in===0&&Ae(ge)<=Ae(_e)&&ge!==f)return ve(P,d);if(V.status===se&&P.avail_in!==0)return ve(P,d);if(P.avail_in!==0||V.lookahead!==0||ge!==a&&V.status!==se){var Ve=V.strategy===v?Pt(V,ge):V.strategy===g?Rt(V,ge):Lt[V.level].func(V,ge);if((Ve===we||Ve===Ee)&&(V.status=se),Ve===re||Ve===we)return P.avail_out===0&&(V.last_flush=-1),u;if(Ve===fe&&(ge===o?e._tr_align(V):ge!==l&&(e._tr_stored_block(V,0,0,!1),ge===s&&(ke(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),Te(P),P.avail_out===0))return V.last_flush=-1,u}return ge!==f?u:V.wrap<=0?c:(V.wrap===2?(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),Ne(V,P.adler>>16&255),Ne(V,P.adler>>24&255),Ne(V,P.total_in&255),Ne(V,P.total_in>>8&255),Ne(V,P.total_in>>16&255),Ne(V,P.total_in>>24&255)):(Ze(V,P.adler>>>16),Ze(V,P.adler&65535)),Te(P),V.wrap>0&&(V.wrap=-V.wrap),V.pending!==0?u:c)}function Se(P){var ge;return!P||!P.state?h:(ge=P.state.status,ge!==L&&ge!==j&&ge!==M&&ge!==D&&ge!==J&&ge!==Q&&ge!==se?ve(P,h):(P.state=null,ge===Q?ve(P,p):u))}function ze(P,ge){var _e=ge.length,V,ee,ce,He,De,Ve,ut,Xr;if(!P||!P.state||(V=P.state,He=V.wrap,He===2||He===1&&V.status!==L||V.lookahead))return h;for(He===1&&(P.adler=r(P.adler,ge,_e,0)),V.wrap=0,_e>=V.w_size&&(He===0&&(ke(V.head),V.strstart=0,V.block_start=0,V.insert=0),Xr=new t.Buf8(V.w_size),t.arraySet(Xr,ge,_e-V.w_size,V.w_size,0),ge=Xr,_e=V.w_size),De=P.avail_in,Ve=P.next_in,ut=P.input,P.avail_in=_e,P.next_in=0,P.input=ge,qe(V);V.lookahead>=$;){ee=V.strstart,ce=V.lookahead-($-1);do V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+$-1])&V.hash_mask,V.prev[ee&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ee,ee++;while(--ce);V.strstart=ee,V.lookahead=$-1,qe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=$-1,V.match_available=0,P.next_in=Ve,P.input=ut,P.avail_in=De,V.wrap=He,u}return ki.deflateInit=me,ki.deflateInit2=Z,ki.deflateReset=de,ki.deflateResetKeep=ne,ki.deflateSetHeader=be,ki.deflate=U,ki.deflateEnd=Se,ki.deflateSetDictionary=ze,ki.deflateInfo="pako deflate (from Nodeca project)",ki}var rs={},jk;function k5(){if(jk)return rs;jk=1;var t=Ko(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,rs.string2buf=function(o){var s,f,l,u,c,h=o.length,p=0;for(u=0;u<h;u++)f=o.charCodeAt(u),(f&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(f=65536+(f-55296<<10)+(l-56320),u++)),p+=f<128?1:f<2048?2:f<65536?3:4;for(s=new t.Buf8(p),c=0,u=0;c<p;u++)f=o.charCodeAt(u),(f&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(f=65536+(f-55296<<10)+(l-56320),u++)),f<128?s[c++]=f:f<2048?(s[c++]=192|f>>>6,s[c++]=128|f&63):f<65536?(s[c++]=224|f>>>12,s[c++]=128|f>>>6&63,s[c++]=128|f&63):(s[c++]=240|f>>>18,s[c++]=128|f>>>12&63,s[c++]=128|f>>>6&63,s[c++]=128|f&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var f="",l=0;l<s;l++)f+=String.fromCharCode(o[l]);return f}return rs.buf2binstring=function(o){return a(o,o.length)},rs.binstring2buf=function(o){for(var s=new t.Buf8(o.length),f=0,l=s.length;f<l;f++)s[f]=o.charCodeAt(f);return s},rs.buf2string=function(o,s){var f,l,u,c,h=s||o.length,p=new Array(h*2);for(l=0,f=0;f<h;){if(u=o[f++],u<128){p[l++]=u;continue}if(c=n[u],c>4){p[l++]=65533,f+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&f<h;)u=u<<6|o[f++]&63,c--;if(c>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},rs.utf8border=function(o,s){var f;for(s=s||o.length,s>o.length&&(s=o.length),f=s-1;f>=0&&(o[f]&192)===128;)f--;return f<0||f===0?s:f+n[o[f]]>s?f:s},rs}var ly,$k;function F5(){if($k)return ly;$k=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return ly=t,ly}var Vk;function Nwe(){if(Vk)return vl;Vk=1;var t=Fwe(),e=Ko(),r=k5(),n=hC(),i=F5(),a=Object.prototype.toString,o=0,s=4,f=0,l=1,u=2,c=-1,h=0,p=8;function d(g){if(!(this instanceof d))return new d(g);this.options=e.assign({level:c,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var x=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==f)throw new Error(n[x]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(typeof y.dictionary=="string"?b=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(y.dictionary):b=y.dictionary,x=t.deflateSetDictionary(this.strm,b),x!==f)throw new Error(n[x]);this._dict_set=!0}}d.prototype.push=function(g,y){var x=this.strm,b=this.options.chunkSize,E,w;if(this.ended)return!1;w=y===~~y?y:y===!0?s:o,typeof g=="string"?x.input=r.string2buf(g):a.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new e.Buf8(b),x.next_out=0,x.avail_out=b),E=t.deflate(x,w),E!==l&&E!==f)return this.onEnd(E),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(w===s||w===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(x.output,x.next_out))):this.onData(e.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&E!==l);return w===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f):(w===u&&(this.onEnd(f),x.avail_out=0),!0)},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function m(g,y){var x=new d(y);if(x.push(g,!0),x.err)throw x.msg||n[x.err];return x.result}function _(g,y){return y=y||{},y.raw=!0,m(g,y)}function v(g,y){return y=y||{},y.gzip=!0,m(g,y)}return vl.Deflate=d,vl.deflate=m,vl.deflateRaw=_,vl.gzip=v,vl}var ml={},mi={},uy,Gk;function Lwe(){if(Gk)return uy;Gk=1;var t=30,e=12;return uy=function(n,i){var a,o,s,f,l,u,c,h,p,d,m,_,v,g,y,x,b,E,w,S,C,T,I,A,R;a=n.state,o=n.next_in,A=n.input,s=o+(n.avail_in-5),f=n.next_out,R=n.output,l=f-(i-n.avail_out),u=f+(n.avail_out-257),c=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,m=a.window,_=a.hold,v=a.bits,g=a.lencode,y=a.distcode,x=(1<<a.lenbits)-1,b=(1<<a.distbits)-1;e:do{v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),E=g[_&x];t:for(;;){if(w=E>>>24,_>>>=w,v-=w,w=E>>>16&255,w===0)R[f++]=E&65535;else if(w&16){S=E&65535,w&=15,w&&(v<w&&(_+=A[o++]<<v,v+=8),S+=_&(1<<w)-1,_>>>=w,v-=w),v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),E=y[_&b];r:for(;;){if(w=E>>>24,_>>>=w,v-=w,w=E>>>16&255,w&16){if(C=E&65535,w&=15,v<w&&(_+=A[o++]<<v,v+=8,v<w&&(_+=A[o++]<<v,v+=8)),C+=_&(1<<w)-1,C>c){n.msg="invalid distance too far back",a.mode=t;break e}if(_>>>=w,v-=w,w=f-l,C>w){if(w=C-w,w>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(T=0,I=m,d===0){if(T+=h-w,w<S){S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}}else if(d<w){if(T+=h+d-w,w-=d,w<S){S-=w;do R[f++]=m[T++];while(--w);if(T=0,d<S){w=d,S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}}}else if(T+=d-w,w<S){S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}for(;S>2;)R[f++]=I[T++],R[f++]=I[T++],R[f++]=I[T++],S-=3;S&&(R[f++]=I[T++],S>1&&(R[f++]=I[T++]))}else{T=f-C;do R[f++]=R[T++],R[f++]=R[T++],R[f++]=R[T++],S-=3;while(S>2);S&&(R[f++]=R[T++],S>1&&(R[f++]=R[T++]))}}else if(w&64){n.msg="invalid distance code",a.mode=t;break e}else{E=y[(E&65535)+(_&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=g[(E&65535)+(_&(1<<w)-1)];continue t}break}}while(o<s&&f<u);S=v>>3,o-=S,v-=S<<3,_&=(1<<v)-1,n.next_in=o,n.next_out=f,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=f<u?257+(u-f):257-(f-u),a.hold=_,a.bits=v},uy}var fy,Xk;function Bwe(){if(Xk)return fy;Xk=1;var t=Ko(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return fy=function(h,p,d,m,_,v,g,y){var x=y.bits,b=0,E=0,w=0,S=0,C=0,T=0,I=0,A=0,R=0,O=0,F,N,$,q,K,G=null,L=0,j,M=new t.Buf16(e+1),D=new t.Buf16(e+1),J=null,Q=0,se,re,fe;for(b=0;b<=e;b++)M[b]=0;for(E=0;E<m;E++)M[p[d+E]]++;for(C=x,S=e;S>=1&&M[S]===0;S--);if(C>S&&(C=S),S===0)return _[v++]=1<<24|64<<16|0,_[v++]=1<<24|64<<16|0,y.bits=1,0;for(w=1;w<S&&M[w]===0;w++);for(C<w&&(C=w),A=1,b=1;b<=e;b++)if(A<<=1,A-=M[b],A<0)return-1;if(A>0&&(h===i||S!==1))return-1;for(D[1]=0,b=1;b<e;b++)D[b+1]=D[b]+M[b];for(E=0;E<m;E++)p[d+E]!==0&&(g[D[p[d+E]]++]=E);if(h===i?(G=J=g,j=19):h===a?(G=s,L-=257,J=f,Q-=257,j=256):(G=l,J=u,j=-1),O=0,E=0,b=w,K=v,T=C,I=0,$=-1,R=1<<C,q=R-1,h===a&&R>r||h===o&&R>n)return 1;for(;;){se=b-I,g[E]<j?(re=0,fe=g[E]):g[E]>j?(re=J[Q+g[E]],fe=G[L+g[E]]):(re=32+64,fe=0),F=1<<b-I,N=1<<T,w=N;do N-=F,_[K+(O>>I)+N]=se<<24|re<<16|fe|0;while(N!==0);for(F=1<<b-1;O&F;)F>>=1;if(F!==0?(O&=F-1,O+=F):O=0,E++,--M[b]===0){if(b===S)break;b=p[d+g[E]]}if(b>C&&(O&q)!==$){for(I===0&&(I=C),K+=w,T=b-I,A=1<<T;T+I<S&&(A-=M[T+I],!(A<=0));)T++,A<<=1;if(R+=1<<T,h===a&&R>r||h===o&&R>n)return 1;$=O&q,_[$]=C<<24|T<<16|K-v|0}}return O!==0&&(_[K+O]=b-I<<24|64<<16|0),y.bits=C,0},fy}var Hk;function Mwe(){if(Hk)return mi;Hk=1;var t=Ko(),e=P5(),r=O5(),n=Lwe(),i=Bwe(),a=0,o=1,s=2,f=4,l=5,u=6,c=0,h=1,p=2,d=-2,m=-3,_=-4,v=-5,g=8,y=1,x=2,b=3,E=4,w=5,S=6,C=7,T=8,I=9,A=10,R=11,O=12,F=13,N=14,$=15,q=16,K=17,G=18,L=19,j=20,M=21,D=22,J=23,Q=24,se=25,re=26,fe=27,we=28,Ee=29,pe=30,ve=31,Ae=32,ke=852,Te=592,Fe=15,Ne=Fe;function Ze(Z){return(Z>>>24&255)+(Z>>>8&65280)+((Z&65280)<<8)+((Z&255)<<24)}function pt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Je(Z){var me;return!Z||!Z.state?d:(me=Z.state,Z.total_in=Z.total_out=me.total=0,Z.msg="",me.wrap&&(Z.adler=me.wrap&1),me.mode=y,me.last=0,me.havedict=0,me.dmax=32768,me.head=null,me.hold=0,me.bits=0,me.lencode=me.lendyn=new t.Buf32(ke),me.distcode=me.distdyn=new t.Buf32(Te),me.sane=1,me.back=-1,c)}function qe(Z){var me;return!Z||!Z.state?d:(me=Z.state,me.wsize=0,me.whave=0,me.wnext=0,Je(Z))}function lt(Z,me){var U,Se;return!Z||!Z.state||(Se=Z.state,me<0?(U=0,me=-me):(U=(me>>4)+1,me<48&&(me&=15)),me&&(me<8||me>15))?d:(Se.window!==null&&Se.wbits!==me&&(Se.window=null),Se.wrap=U,Se.wbits=me,qe(Z))}function It(Z,me){var U,Se;return Z?(Se=new pt,Z.state=Se,Se.window=null,U=lt(Z,me),U!==c&&(Z.state=null),U):d}function Nt(Z){return It(Z,Ne)}var Rt=!0,Pt,rt;function Lt(Z){if(Rt){var me;for(Pt=new t.Buf32(512),rt=new t.Buf32(32),me=0;me<144;)Z.lens[me++]=8;for(;me<256;)Z.lens[me++]=9;for(;me<280;)Z.lens[me++]=7;for(;me<288;)Z.lens[me++]=8;for(i(o,Z.lens,0,288,Pt,0,Z.work,{bits:9}),me=0;me<32;)Z.lens[me++]=5;i(s,Z.lens,0,32,rt,0,Z.work,{bits:5}),Rt=!1}Z.lencode=Pt,Z.lenbits=9,Z.distcode=rt,Z.distbits=5}function xe(Z,me,U,Se){var ze,P=Z.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new t.Buf8(P.wsize)),Se>=P.wsize?(t.arraySet(P.window,me,U-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(ze=P.wsize-P.wnext,ze>Se&&(ze=Se),t.arraySet(P.window,me,U-Se,ze,P.wnext),Se-=ze,Se?(t.arraySet(P.window,me,U-Se,Se,0),P.wnext=Se,P.whave=P.wsize):(P.wnext+=ze,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=ze))),0}function B(Z,me){var U,Se,ze,P,ge,_e,V,ee,ce,He,De,Ve,ut,Xr,Ot=0,Qe,$t,yr,tn,Js,Qs,xr,zn,Hr=new t.Buf8(4),Ii,pi,Rh=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return d;U=Z.state,U.mode===O&&(U.mode=F),ge=Z.next_out,ze=Z.output,V=Z.avail_out,P=Z.next_in,Se=Z.input,_e=Z.avail_in,ee=U.hold,ce=U.bits,He=_e,De=V,zn=c;e:for(;;)switch(U.mode){case y:if(U.wrap===0){U.mode=F;break}for(;ce<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(U.wrap&2&&ee===35615){U.check=0,Hr[0]=ee&255,Hr[1]=ee>>>8&255,U.check=r(U.check,Hr,2,0),ee=0,ce=0,U.mode=x;break}if(U.flags=0,U.head&&(U.head.done=!1),!(U.wrap&1)||(((ee&255)<<8)+(ee>>8))%31){Z.msg="incorrect header check",U.mode=pe;break}if((ee&15)!==g){Z.msg="unknown compression method",U.mode=pe;break}if(ee>>>=4,ce-=4,xr=(ee&15)+8,U.wbits===0)U.wbits=xr;else if(xr>U.wbits){Z.msg="invalid window size",U.mode=pe;break}U.dmax=1<<xr,Z.adler=U.check=1,U.mode=ee&512?A:O,ee=0,ce=0;break;case x:for(;ce<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(U.flags=ee,(U.flags&255)!==g){Z.msg="unknown compression method",U.mode=pe;break}if(U.flags&57344){Z.msg="unknown header flags set",U.mode=pe;break}U.head&&(U.head.text=ee>>8&1),U.flags&512&&(Hr[0]=ee&255,Hr[1]=ee>>>8&255,U.check=r(U.check,Hr,2,0)),ee=0,ce=0,U.mode=b;case b:for(;ce<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.head&&(U.head.time=ee),U.flags&512&&(Hr[0]=ee&255,Hr[1]=ee>>>8&255,Hr[2]=ee>>>16&255,Hr[3]=ee>>>24&255,U.check=r(U.check,Hr,4,0)),ee=0,ce=0,U.mode=E;case E:for(;ce<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.head&&(U.head.xflags=ee&255,U.head.os=ee>>8),U.flags&512&&(Hr[0]=ee&255,Hr[1]=ee>>>8&255,U.check=r(U.check,Hr,2,0)),ee=0,ce=0,U.mode=w;case w:if(U.flags&1024){for(;ce<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.length=ee,U.head&&(U.head.extra_len=ee),U.flags&512&&(Hr[0]=ee&255,Hr[1]=ee>>>8&255,U.check=r(U.check,Hr,2,0)),ee=0,ce=0}else U.head&&(U.head.extra=null);U.mode=S;case S:if(U.flags&1024&&(Ve=U.length,Ve>_e&&(Ve=_e),Ve&&(U.head&&(xr=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),t.arraySet(U.head.extra,Se,P,Ve,xr)),U.flags&512&&(U.check=r(U.check,Se,Ve,P)),_e-=Ve,P+=Ve,U.length-=Ve),U.length))break e;U.length=0,U.mode=C;case C:if(U.flags&2048){if(_e===0)break e;Ve=0;do xr=Se[P+Ve++],U.head&&xr&&U.length<65536&&(U.head.name+=String.fromCharCode(xr));while(xr&&Ve<_e);if(U.flags&512&&(U.check=r(U.check,Se,Ve,P)),_e-=Ve,P+=Ve,xr)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=T;case T:if(U.flags&4096){if(_e===0)break e;Ve=0;do xr=Se[P+Ve++],U.head&&xr&&U.length<65536&&(U.head.comment+=String.fromCharCode(xr));while(xr&&Ve<_e);if(U.flags&512&&(U.check=r(U.check,Se,Ve,P)),_e-=Ve,P+=Ve,xr)break e}else U.head&&(U.head.comment=null);U.mode=I;case I:if(U.flags&512){for(;ce<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(ee!==(U.check&65535)){Z.msg="header crc mismatch",U.mode=pe;break}ee=0,ce=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),Z.adler=U.check=0,U.mode=O;break;case A:for(;ce<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}Z.adler=U.check=Ze(ee),ee=0,ce=0,U.mode=R;case R:if(U.havedict===0)return Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=ce,p;Z.adler=U.check=1,U.mode=O;case O:if(me===l||me===u)break e;case F:if(U.last){ee>>>=ce&7,ce-=ce&7,U.mode=fe;break}for(;ce<3;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}switch(U.last=ee&1,ee>>>=1,ce-=1,ee&3){case 0:U.mode=N;break;case 1:if(Lt(U),U.mode=j,me===u){ee>>>=2,ce-=2;break e}break;case 2:U.mode=K;break;case 3:Z.msg="invalid block type",U.mode=pe}ee>>>=2,ce-=2;break;case N:for(ee>>>=ce&7,ce-=ce&7;ce<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if((ee&65535)!==(ee>>>16^65535)){Z.msg="invalid stored block lengths",U.mode=pe;break}if(U.length=ee&65535,ee=0,ce=0,U.mode=$,me===u)break e;case $:U.mode=q;case q:if(Ve=U.length,Ve){if(Ve>_e&&(Ve=_e),Ve>V&&(Ve=V),Ve===0)break e;t.arraySet(ze,Se,P,Ve,ge),_e-=Ve,P+=Ve,V-=Ve,ge+=Ve,U.length-=Ve;break}U.mode=O;break;case K:for(;ce<14;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(U.nlen=(ee&31)+257,ee>>>=5,ce-=5,U.ndist=(ee&31)+1,ee>>>=5,ce-=5,U.ncode=(ee&15)+4,ee>>>=4,ce-=4,U.nlen>286||U.ndist>30){Z.msg="too many length or distance symbols",U.mode=pe;break}U.have=0,U.mode=G;case G:for(;U.have<U.ncode;){for(;ce<3;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.lens[Rh[U.have++]]=ee&7,ee>>>=3,ce-=3}for(;U.have<19;)U.lens[Rh[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,Ii={bits:U.lenbits},zn=i(a,U.lens,0,19,U.lencode,0,U.work,Ii),U.lenbits=Ii.bits,zn){Z.msg="invalid code lengths set",U.mode=pe;break}U.have=0,U.mode=L;case L:for(;U.have<U.nlen+U.ndist;){for(;Ot=U.lencode[ee&(1<<U.lenbits)-1],Qe=Ot>>>24,$t=Ot>>>16&255,yr=Ot&65535,!(Qe<=ce);){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(yr<16)ee>>>=Qe,ce-=Qe,U.lens[U.have++]=yr;else{if(yr===16){for(pi=Qe+2;ce<pi;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(ee>>>=Qe,ce-=Qe,U.have===0){Z.msg="invalid bit length repeat",U.mode=pe;break}xr=U.lens[U.have-1],Ve=3+(ee&3),ee>>>=2,ce-=2}else if(yr===17){for(pi=Qe+3;ce<pi;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}ee>>>=Qe,ce-=Qe,xr=0,Ve=3+(ee&7),ee>>>=3,ce-=3}else{for(pi=Qe+7;ce<pi;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}ee>>>=Qe,ce-=Qe,xr=0,Ve=11+(ee&127),ee>>>=7,ce-=7}if(U.have+Ve>U.nlen+U.ndist){Z.msg="invalid bit length repeat",U.mode=pe;break}for(;Ve--;)U.lens[U.have++]=xr}}if(U.mode===pe)break;if(U.lens[256]===0){Z.msg="invalid code -- missing end-of-block",U.mode=pe;break}if(U.lenbits=9,Ii={bits:U.lenbits},zn=i(o,U.lens,0,U.nlen,U.lencode,0,U.work,Ii),U.lenbits=Ii.bits,zn){Z.msg="invalid literal/lengths set",U.mode=pe;break}if(U.distbits=6,U.distcode=U.distdyn,Ii={bits:U.distbits},zn=i(s,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,Ii),U.distbits=Ii.bits,zn){Z.msg="invalid distances set",U.mode=pe;break}if(U.mode=j,me===u)break e;case j:U.mode=M;case M:if(_e>=6&&V>=258){Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=ce,n(Z,De),ge=Z.next_out,ze=Z.output,V=Z.avail_out,P=Z.next_in,Se=Z.input,_e=Z.avail_in,ee=U.hold,ce=U.bits,U.mode===O&&(U.back=-1);break}for(U.back=0;Ot=U.lencode[ee&(1<<U.lenbits)-1],Qe=Ot>>>24,$t=Ot>>>16&255,yr=Ot&65535,!(Qe<=ce);){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if($t&&!($t&240)){for(tn=Qe,Js=$t,Qs=yr;Ot=U.lencode[Qs+((ee&(1<<tn+Js)-1)>>tn)],Qe=Ot>>>24,$t=Ot>>>16&255,yr=Ot&65535,!(tn+Qe<=ce);){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}ee>>>=tn,ce-=tn,U.back+=tn}if(ee>>>=Qe,ce-=Qe,U.back+=Qe,U.length=yr,$t===0){U.mode=re;break}if($t&32){U.back=-1,U.mode=O;break}if($t&64){Z.msg="invalid literal/length code",U.mode=pe;break}U.extra=$t&15,U.mode=D;case D:if(U.extra){for(pi=U.extra;ce<pi;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.length+=ee&(1<<U.extra)-1,ee>>>=U.extra,ce-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=J;case J:for(;Ot=U.distcode[ee&(1<<U.distbits)-1],Qe=Ot>>>24,$t=Ot>>>16&255,yr=Ot&65535,!(Qe<=ce);){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(!($t&240)){for(tn=Qe,Js=$t,Qs=yr;Ot=U.distcode[Qs+((ee&(1<<tn+Js)-1)>>tn)],Qe=Ot>>>24,$t=Ot>>>16&255,yr=Ot&65535,!(tn+Qe<=ce);){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}ee>>>=tn,ce-=tn,U.back+=tn}if(ee>>>=Qe,ce-=Qe,U.back+=Qe,$t&64){Z.msg="invalid distance code",U.mode=pe;break}U.offset=yr,U.extra=$t&15,U.mode=Q;case Q:if(U.extra){for(pi=U.extra;ce<pi;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}U.offset+=ee&(1<<U.extra)-1,ee>>>=U.extra,ce-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){Z.msg="invalid distance too far back",U.mode=pe;break}U.mode=se;case se:if(V===0)break e;if(Ve=De-V,U.offset>Ve){if(Ve=U.offset-Ve,Ve>U.whave&&U.sane){Z.msg="invalid distance too far back",U.mode=pe;break}Ve>U.wnext?(Ve-=U.wnext,ut=U.wsize-Ve):ut=U.wnext-Ve,Ve>U.length&&(Ve=U.length),Xr=U.window}else Xr=ze,ut=ge-U.offset,Ve=U.length;Ve>V&&(Ve=V),V-=Ve,U.length-=Ve;do ze[ge++]=Xr[ut++];while(--Ve);U.length===0&&(U.mode=M);break;case re:if(V===0)break e;ze[ge++]=U.length,V--,U.mode=M;break;case fe:if(U.wrap){for(;ce<32;){if(_e===0)break e;_e--,ee|=Se[P++]<<ce,ce+=8}if(De-=V,Z.total_out+=De,U.total+=De,De&&(Z.adler=U.check=U.flags?r(U.check,ze,De,ge-De):e(U.check,ze,De,ge-De)),De=V,(U.flags?ee:Ze(ee))!==U.check){Z.msg="incorrect data check",U.mode=pe;break}ee=0,ce=0}U.mode=we;case we:if(U.wrap&&U.flags){for(;ce<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<ce,ce+=8}if(ee!==(U.total&4294967295)){Z.msg="incorrect length check",U.mode=pe;break}ee=0,ce=0}U.mode=Ee;case Ee:zn=h;break e;case pe:zn=m;break e;case ve:return _;case Ae:default:return d}return Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=ce,(U.wsize||De!==Z.avail_out&&U.mode<pe&&(U.mode<fe||me!==f))&&xe(Z,Z.output,Z.next_out,De-Z.avail_out),He-=Z.avail_in,De-=Z.avail_out,Z.total_in+=He,Z.total_out+=De,U.total+=De,U.wrap&&De&&(Z.adler=U.check=U.flags?r(U.check,ze,De,Z.next_out-De):e(U.check,ze,De,Z.next_out-De)),Z.data_type=U.bits+(U.last?64:0)+(U.mode===O?128:0)+(U.mode===j||U.mode===$?256:0),(He===0&&De===0||me===f)&&zn===c&&(zn=v),zn}function ne(Z){if(!Z||!Z.state)return d;var me=Z.state;return me.window&&(me.window=null),Z.state=null,c}function de(Z,me){var U;return!Z||!Z.state||(U=Z.state,!(U.wrap&2))?d:(U.head=me,me.done=!1,c)}function be(Z,me){var U=me.length,Se,ze,P;return!Z||!Z.state||(Se=Z.state,Se.wrap!==0&&Se.mode!==R)?d:Se.mode===R&&(ze=1,ze=e(ze,me,U,0),ze!==Se.check)?m:(P=xe(Z,me,U,U),P?(Se.mode=ve,_):(Se.havedict=1,c))}return mi.inflateReset=qe,mi.inflateReset2=lt,mi.inflateResetKeep=Je,mi.inflateInit=Nt,mi.inflateInit2=It,mi.inflate=B,mi.inflateEnd=ne,mi.inflateGetHeader=de,mi.inflateSetDictionary=be,mi.inflateInfo="pako inflate (from Nodeca project)",mi}var cy,zk;function N5(){return zk||(zk=1,cy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),cy}var hy,Wk;function Dwe(){if(Wk)return hy;Wk=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return hy=t,hy}var Yk;function Uwe(){if(Yk)return ml;Yk=1;var t=Mwe(),e=Ko(),r=k5(),n=N5(),i=hC(),a=F5(),o=Dwe(),s=Object.prototype.toString;function f(c){if(!(this instanceof f))return new f(c);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},c||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(c&&c.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}f.prototype.push=function(c,h){var p=this.strm,d=this.options.chunkSize,m=this.options.dictionary,_,v,g,y,x,b=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof c=="string"?p.input=r.binstring2buf(c):s.call(c)==="[object ArrayBuffer]"?p.input=new Uint8Array(c):p.input=c,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),_=t.inflate(p,n.Z_NO_FLUSH),_===n.Z_NEED_DICT&&m&&(_=t.inflateSetDictionary(this.strm,m)),_===n.Z_BUF_ERROR&&b===!0&&(_=n.Z_OK,b=!1),_!==n.Z_STREAM_END&&_!==n.Z_OK)return this.onEnd(_),this.ended=!0,!1;p.next_out&&(p.avail_out===0||_===n.Z_STREAM_END||p.avail_in===0&&(v===n.Z_FINISH||v===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=r.utf8border(p.output,p.next_out),y=p.next_out-g,x=r.buf2string(p.output,g),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,g,y,0),this.onData(x)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(b=!0)}while((p.avail_in>0||p.avail_out===0)&&_!==n.Z_STREAM_END);return _===n.Z_STREAM_END&&(v=n.Z_FINISH),v===n.Z_FINISH?(_=t.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===n.Z_OK):(v===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},f.prototype.onData=function(c){this.chunks.push(c)},f.prototype.onEnd=function(c){c===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg};function l(c,h){var p=new f(h);if(p.push(c,!0),p.err)throw p.msg||i[p.err];return p.result}function u(c,h){return h=h||{},h.raw=!0,l(c,h)}return ml.Inflate=f,ml.inflate=l,ml.inflateRaw=u,ml.ungzip=l,ml}var dy,qk;function jwe(){if(qk)return dy;qk=1;var t=Ko().assign,e=Nwe(),r=Uwe(),n=N5(),i={};return t(i,e,r,n),dy=i,dy}(function(t){(function(){var e={},r;t.exports=e,typeof Rl=="function"?r=jwe():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var f=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),c=0;c<a.frames.length;c++){var h=a.frames[c],p=h.rect.x,d=h.rect.y,m=h.rect.width,_=h.rect.height,v=n.toRGBA8.decodeImage(h.data,m,_,a);if(c==0?l=v:h.blend==0?n._copyTile(v,m,_,l,o,s,p,d,0):h.blend==1&&n._copyTile(v,m,_,l,o,s,p,d,1),f.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,m,_,l,o,s,p,d,0);else if(h.dispose==2){for(var g=c-1;a.frames[g].dispose==2;)g--;l=new Uint8Array(f[g]).slice(0)}}}return f},n.toRGBA8.decodeImage=function(a,o,s,f){var l=o*s,u=n.decode._getBPP(f),c=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=f.ctype,m=f.depth,_=n._bin.readUshort;if(d==6){var v=l<<2;if(m==8)for(var g=0;g<v;g++)h[g]=a[g];if(m==16)for(var g=0;g<v;g++)h[g]=a[g<<1]}else if(d==2){var y=f.tabs.tRNS,x=-1,b=-1,E=-1;if(y&&(x=y[0],b=y[1],E=y[2]),m==8)for(var g=0;g<l;g++){var w=g<<2,S=g*3;h[w]=a[S],h[w+1]=a[S+1],h[w+2]=a[S+2],h[w+3]=255,x!=-1&&a[S]==x&&a[S+1]==b&&a[S+2]==E&&(h[w+3]=0)}if(m==16)for(var g=0;g<l;g++){var w=g<<2,S=g*6;h[w]=a[S],h[w+1]=a[S+2],h[w+2]=a[S+4],h[w+3]=255,x!=-1&&_(a,S)==x&&_(a,S+2)==b&&_(a,S+4)==E&&(h[w+3]=0)}}else if(d==3){var C=f.tabs.PLTE,T=f.tabs.tRNS,I=T?T.length:0;if(m==1)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>3)]>>7-((g&7)<<0)&1,N=3*F;h[w]=C[N],h[w+1]=C[N+1],h[w+2]=C[N+2],h[w+3]=F<I?T[F]:255}if(m==2)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>2)]>>6-((g&3)<<1)&3,N=3*F;h[w]=C[N],h[w+1]=C[N+1],h[w+2]=C[N+2],h[w+3]=F<I?T[F]:255}if(m==4)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>1)]>>4-((g&1)<<2)&15,N=3*F;h[w]=C[N],h[w+1]=C[N+1],h[w+2]=C[N+2],h[w+3]=F<I?T[F]:255}if(m==8)for(var g=0;g<l;g++){var w=g<<2,F=a[g],N=3*F;h[w]=C[N],h[w+1]=C[N+1],h[w+2]=C[N+2],h[w+3]=F<I?T[F]:255}}else if(d==4){if(m==8)for(var g=0;g<l;g++){var w=g<<2,$=g<<1,q=a[$];h[w]=q,h[w+1]=q,h[w+2]=q,h[w+3]=a[$+1]}if(m==16)for(var g=0;g<l;g++){var w=g<<2,$=g<<2,q=a[$];h[w]=q,h[w+1]=q,h[w+2]=q,h[w+3]=a[$+2]}}else if(d==0){var x=f.tabs.tRNS?f.tabs.tRNS:-1;if(m==1)for(var g=0;g<l;g++){var q=255*(a[g>>3]>>7-(g&7)&1),K=q==x*255?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==2)for(var g=0;g<l;g++){var q=85*(a[g>>2]>>6-((g&3)<<1)&3),K=q==x*85?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==4)for(var g=0;g<l;g++){var q=17*(a[g>>1]>>4-((g&1)<<2)&15),K=q==x*17?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==8)for(var g=0;g<l;g++){var q=a[g],K=q==x?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==16)for(var g=0;g<l;g++){var q=a[g<<1],K=_(a,g<<1)==x?0:255;p[g]=K<<24|q<<16|q<<8|q}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,f=n._bin,l=f.readUshort,u=f.readUint,c={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,m=0,_=[137,80,78,71,13,10,26,10],v=0;v<8;v++)if(o[v]!=_[v])throw"The input is not a PNG file!";for(;s<o.length;){var g=f.readUint(o,s);s+=4;var y=f.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,c);else if(y=="IDAT"){for(var v=0;v<g;v++)h[p+v]=o[s+v];p+=g}else if(y=="acTL")c.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(m!=0){var x=c.frames[c.frames.length-1];x.data=n.decode._decompress(c,d.slice(0,m),x.rect.width,x.rect.height),m=0}var b={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var w={rect:b,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};c.frames.push(w)}else if(y=="fdAT"){for(var v=0;v<g-4;v++)d[m+v]=o[s+v+4];m+=g-4}else if(y=="pHYs")c.tabs[y]=[f.readUint(o,s),f.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){c.tabs[y]=[];for(var v=0;v<8;v++)c.tabs[y].push(f.readUint(o,s+v*4))}else if(y=="tEXt"){c.tabs[y]==null&&(c.tabs[y]={});var S=f.nextZero(o,s),C=f.readASCII(o,s,S-s),T=f.readASCII(o,S+1,s+g-S-1);c.tabs[y][C]=T}else if(y=="iTXt"){c.tabs[y]==null&&(c.tabs[y]={});var S=0,I=s;S=f.nextZero(o,I);var C=f.readASCII(o,I,S-I);I=S+1,o[I],o[I+1],I+=2,S=f.nextZero(o,I),f.readASCII(o,I,S-I),I=S+1,S=f.nextZero(o,I),f.readUTF8(o,I,S-I),I=S+1;var T=f.readUTF8(o,I,g-(I-s));c.tabs[y][C]=T}else if(y=="PLTE")c.tabs[y]=f.readBytes(o,s,g);else if(y=="hIST"){var A=c.tabs.PLTE.length/3;c.tabs[y]=[];for(var v=0;v<A;v++)c.tabs[y].push(l(o,s+v*2))}else if(y=="tRNS")c.ctype==3?c.tabs[y]=f.readBytes(o,s,g):c.ctype==0?c.tabs[y]=l(o,s):c.ctype==2&&(c.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")c.tabs[y]=f.readUint(o,s)/1e5;else if(y=="sRGB")c.tabs[y]=o[s];else if(y=="bKGD")c.ctype==0||c.ctype==4?c.tabs[y]=[l(o,s)]:c.ctype==2||c.ctype==6?c.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:c.ctype==3&&(c.tabs[y]=o[s]);else if(y=="IEND"){if(m!=0){var x=c.frames[c.frames.length-1];x.data=n.decode._decompress(c,d.slice(0,m),x.rect.width,x.rect.height),m=0}c.data=n.decode._decompress(c,h,c.width,c.height);break}s+=g,f.readUint(o,s),s+=4}return delete c.compress,delete c.interlace,delete c.filter,c},n.decode._decompress=function(a,o,s,f){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,f):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,f=o.height,l=n.decode._getBPP(o),u=l>>3,c=Math.ceil(s*l/8),h=new Uint8Array(f*c),p=0,d=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1],g=0;g<7;){for(var y=_[g],x=v[g],b=0,E=0,w=d[g];w<f;)w+=y,E++;for(var S=m[g];S<s;)S+=x,b++;var C=Math.ceil(b*l/8);n.decode._filterZero(a,o,p,b,E);for(var T=0,I=d[g];I<f;){for(var A=m[g],R=p+T*C<<3;A<s;){if(l==1){var O=a[R>>3];O=O>>7-(R&7)&1,h[I*c+(A>>3)]|=O<<7-((A&3)<<0)}if(l==2){var O=a[R>>3];O=O>>6-(R&7)&3,h[I*c+(A>>2)]|=O<<6-((A&3)<<1)}if(l==4){var O=a[R>>3];O=O>>4-(R&7)&15,h[I*c+(A>>1)]|=O<<4-((A&1)<<2)}if(l>=8)for(var F=I*c+A*u,N=0;N<u;N++)h[F+N]=a[(R>>3)+N];R+=l,A+=x}T++,I+=y}b*E!=0&&(p+=E*(1+C)),g=g+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,f,l){var u=n.decode._getBPP(o),c=Math.ceil(f*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*c,m=d+p+1,_=a[m-1];if(_==0)for(var v=0;v<c;v++)a[d+v]=a[m+v];else if(_==1){for(var v=0;v<u;v++)a[d+v]=a[m+v];for(var v=u;v<c;v++)a[d+v]=a[m+v]+a[d+v-u]&255}else if(p==0){for(var v=0;v<u;v++)a[d+v]=a[m+v];if(_==2)for(var v=u;v<c;v++)a[d+v]=a[m+v]&255;if(_==3)for(var v=u;v<c;v++)a[d+v]=a[m+v]+(a[d+v-u]>>1)&255;if(_==4)for(var v=u;v<c;v++)a[d+v]=a[m+v]+h(a[d+v-u],0,0)&255}else{if(_==2)for(var v=0;v<c;v++)a[d+v]=a[m+v]+a[d+v-c]&255;if(_==3){for(var v=0;v<u;v++)a[d+v]=a[m+v]+(a[d+v-c]>>1)&255;for(var v=u;v<c;v++)a[d+v]=a[m+v]+(a[d+v-c]+a[d+v-u]>>1)&255}if(_==4){for(var v=0;v<u;v++)a[d+v]=a[m+v]+h(0,a[d+v-c],0)&255;for(var v=u;v<c;v++)a[d+v]=a[m+v]+h(a[d+v-u],a[d+v-c],a[d+v-u-c])&255}}}return a},n.decode._paeth=function(a,o,s){var f=a+o-s,l=Math.abs(f-a),u=Math.abs(f-o),c=Math.abs(f-s);return l<=u&&l<=c?a:u<=c?o:s},n.decode._IHDR=function(a,o,s){var f=n._bin;s.width=f.readUint(a,o),o+=4,s.height=f.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var f="",l=0;l<s;l++)f+=String.fromCharCode(a[o+l]);return f},writeASCII:function(a,o,s){for(var f=0;f<s.length;f++)a[o+f]=s.charCodeAt(f)},readBytes:function(a,o,s){for(var f=[],l=0;l<s;l++)f.push(a[o+l]);return f},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var f="",l,u=0;u<s;u++)f+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(f)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,f,l,u,c,h,p){for(var d=Math.min(o,l),m=Math.min(s,u),_=0,v=0,g=0;g<m;g++)for(var y=0;y<d;y++)if(c>=0&&h>=0?(_=g*o+y<<2,v=(h+g)*l+c+y<<2):(_=(-h+g)*o-c+y<<2,v=g*l+y<<2),p==0)f[v]=a[_],f[v+1]=a[_+1],f[v+2]=a[_+2],f[v+3]=a[_+3];else if(p==1){var x=a[_+3]*.00392156862745098,b=a[_]*x,E=a[_+1]*x,w=a[_+2]*x,S=f[v+3]*(1/255),C=f[v]*S,T=f[v+1]*S,I=f[v+2]*S,A=1-x,R=x+S*A,O=R==0?0:1/R;f[v+3]=255*R,f[v+0]=(b+C*A)*O,f[v+1]=(E+T*A)*O,f[v+2]=(w+I*A)*O}else if(p==2){var x=a[_+3],b=a[_],E=a[_+1],w=a[_+2],S=f[v+3],C=f[v],T=f[v+1],I=f[v+2];x==S&&b==C&&E==T&&w==I?(f[v]=0,f[v+1]=0,f[v+2]=0,f[v+3]=0):(f[v]=b,f[v+1]=E,f[v+2]=w,f[v+3]=x)}else if(p==3){var x=a[_+3],b=a[_],E=a[_+1],w=a[_+2],S=f[v+3],C=f[v],T=f[v+1],I=f[v+2];if(x==S&&b==C&&E==T&&w==I)continue;if(x<220&&S>20)return!1}return!0},n.encode=function(a,o,s,f,l,u){f==null&&(f=0),u==null&&(u=!1);for(var c=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)c[p]=h[p];var d=8,m=n._bin,_=n.crc.crc,v=m.writeUint,g=m.writeUshort,y=m.writeASCII,x=n.encode.compressPNG(a,o,s,f,u);v(c,d,13),d+=4,y(c,d,"IHDR"),d+=4,v(c,d,o),d+=4,v(c,d,s),d+=4,c[d]=x.depth,d++,c[d]=x.ctype,d++,c[d]=0,d++,c[d]=0,d++,c[d]=0,d++,v(c,d,_(c,d-17,17)),d+=4,v(c,d,1),d+=4,y(c,d,"sRGB"),d+=4,c[d]=1,d++,v(c,d,_(c,d-5,5)),d+=4;var b=a.length>1;if(b&&(v(c,d,8),d+=4,y(c,d,"acTL"),d+=4,v(c,d,a.length),d+=4,v(c,d,0),d+=4,v(c,d,_(c,d-12,12)),d+=4),x.ctype==3){var E=x.plte.length;v(c,d,E*3),d+=4,y(c,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var w=p*3,S=x.plte[p],C=S&255,T=S>>8&255,I=S>>16&255;c[d+w+0]=C,c[d+w+1]=T,c[d+w+2]=I}if(d+=E*3,v(c,d,_(c,d-E*3-4,E*3+4)),d+=4,x.gotAlpha){v(c,d,E),d+=4,y(c,d,"tRNS"),d+=4;for(var p=0;p<E;p++)c[d+p]=x.plte[p]>>24&255;d+=E,v(c,d,_(c,d-E-4,E+4)),d+=4}}for(var A=0,R=0;R<x.frames.length;R++){var O=x.frames[R];b&&(v(c,d,26),d+=4,y(c,d,"fcTL"),d+=4,v(c,d,A++),d+=4,v(c,d,O.rect.width),d+=4,v(c,d,O.rect.height),d+=4,v(c,d,O.rect.x),d+=4,v(c,d,O.rect.y),d+=4,g(c,d,l[R]),d+=2,g(c,d,1e3),d+=2,c[d]=O.dispose,d++,c[d]=O.blend,d++,v(c,d,_(c,d-30,30)),d+=4);var F=O.cimg,E=F.length;v(c,d,E+(R==0?0:4)),d+=4;var N=d;y(c,d,R==0?"IDAT":"fdAT"),d+=4,R!=0&&(v(c,d,A++),d+=4);for(var p=0;p<E;p++)c[d+p]=F[p];d+=E,v(c,d,_(c,N,d-N)),d+=4}return v(c,d,0),d+=4,y(c,d,"IEND"),d+=4,v(c,d,_(c,d-4,4)),d+=4,c.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,f,l){for(var u=n.encode.compress(a,o,s,f,!1,l),c=0;c<a.length;c++){var h=u.frames[c];h.rect.width;var p=h.rect.height,d=h.bpl,m=h.bpp,_=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,m,d,_)}return u},n.encode.compress=function(a,o,s,f,l,u){u==null&&(u=!1);for(var c=6,h=8,p=4,d=255,m=0;m<a.length;m++)for(var _=new Uint8Array(a[m]),v=_.length,g=0;g<v;g+=4)d&=_[g+3];var y=d!=255,x={},b=[];if(a.length!=0&&(x[0]=0,b.push(0),f!=0&&f--),f!=0){var E=n.quantize(a,f,l);a=E.bufs;for(var g=0;g<E.plte.length;g++){var w=E.plte[g].est.rgba;x[w]==null&&(x[w]=b.length,b.push(w))}}else for(var m=0;m<a.length;m++)for(var S=new Uint32Array(a[m]),v=S.length,g=0;g<v;g++){var w=S[g];if((g<o||w!=S[g-1]&&w!=S[g-o])&&x[w]==null&&(x[w]=b.length,b.push(w),b.length>=300))break}var C=y?l:!1,T=b.length;T<=256&&u==!1&&(T<=2?h=1:T<=4?h=2:T<=16?h=4:h=8,l&&(h=8),y=!0);for(var I=[],m=0;m<a.length;m++){var A=new Uint8Array(a[m]),R=new Uint32Array(A.buffer),O=0,F=0,N=o,$=s,q=0;if(m!=0&&!C){for(var K=l||m==1||I[I.length-2].dispose==2?1:2,G=0,L=1e9,j=0;j<K;j++){for(var Ee=new Uint8Array(a[m-1-j]),M=new Uint32Array(a[m-1-j]),D=o,J=s,Q=-1,se=-1,re=0;re<s;re++)for(var fe=0;fe<o;fe++){var g=re*o+fe;R[g]!=M[g]&&(fe<D&&(D=fe),fe>Q&&(Q=fe),re<J&&(J=re),re>se&&(se=re))}var we=Q==-1?1:(Q-D+1)*(se-J+1);we<L&&(L=we,G=j,Q==-1?(O=F=0,N=$=1):(O=D,F=J,N=Q-D+1,$=se-J+1))}var Ee=new Uint8Array(a[m-1-G]);G==1&&(I[I.length-1].dispose=2);var pe=new Uint8Array(N*$*4);new Uint32Array(pe.buffer),n._copyTile(Ee,o,s,pe,N,$,-O,-F,0),n._copyTile(A,o,s,pe,N,$,-O,-F,3)?(n._copyTile(A,o,s,pe,N,$,-O,-F,2),q=1):(n._copyTile(A,o,s,pe,N,$,-O,-F,0),q=0),A=pe,R=new Uint32Array(A.buffer)}var ve=4*N;if(T<=256&&u==!1){ve=Math.ceil(h*N/8);for(var pe=new Uint8Array(ve*$),re=0;re<$;re++){var g=re*ve,Ae=re*N;if(h==8)for(var fe=0;fe<N;fe++)pe[g+fe]=x[R[Ae+fe]];else if(h==4)for(var fe=0;fe<N;fe++)pe[g+(fe>>1)]|=x[R[Ae+fe]]<<4-(fe&1)*4;else if(h==2)for(var fe=0;fe<N;fe++)pe[g+(fe>>2)]|=x[R[Ae+fe]]<<6-(fe&3)*2;else if(h==1)for(var fe=0;fe<N;fe++)pe[g+(fe>>3)]|=x[R[Ae+fe]]<<7-(fe&7)*1}A=pe,c=3,p=1}else if(y==!1&&a.length==1){for(var pe=new Uint8Array(N*$*3),ke=N*$,g=0;g<ke;g++){var Te=g*3,Fe=g*4;pe[Te]=A[Fe],pe[Te+1]=A[Fe+1],pe[Te+2]=A[Fe+2]}A=pe,c=2,p=3,ve=3*N}I.push({rect:{x:O,y:F,width:N,height:$},img:A,bpl:ve,bpp:p,blend:q,dispose:C?1:0})}return{ctype:c,depth:h,plte:b,gotAlpha:y,frames:I}},n.encode._filterZero=function(a,o,s,f,l){for(var u=[],c=0;c<5;c++)if(!(o*f>5e5&&(c==2||c==3||c==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,f,s,c);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,m=0;m<u.length;m++)u[m].length<d&&(p=m,d=u[m].length);return u[p]},n.encode._filterLine=function(a,o,s,f,l,u){var c=s*f,h=c+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<f;d++)a[h+d]=o[c+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[c+d];for(var d=l;d<f;d++)a[h+d]=o[c+d]-o[c+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[c+d];if(u==2)for(var d=l;d<f;d++)a[h+d]=o[c+d];if(u==3)for(var d=l;d<f;d++)a[h+d]=o[c+d]-(o[c+d-l]>>1)+256&255;if(u==4)for(var d=l;d<f;d++)a[h+d]=o[c+d]-p(o[c+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<f;d++)a[h+d]=o[c+d]+256-o[c+d-f]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[c+d]+256-(o[c+d-f]>>1)&255;for(var d=l;d<f;d++)a[h+d]=o[c+d]+256-(o[c+d-f]+o[c+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[c+d]+256-p(0,o[c+d-f],0)&255;for(var d=l;d<f;d++)a[h+d]=o[c+d]+256-p(o[c+d-l],o[c+d-f],o[c+d-l-f])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,f=0;f<8;f++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,f){for(var l=0;l<f;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var f=[],l=0,u=0;u<a.length;u++)f.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var c=new Uint8Array(l),h=new Uint32Array(c.buffer),p=0,u=0;u<f.length;u++){for(var d=f[u],m=d.length,_=0;_<m;_++)c[p+_]=d[_];p+=m}var v={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};v.bst=n.quantize.stats(c,v.i0,v.i1),v.est=n.quantize.estats(v.bst);for(var g=[v];g.length<o;){for(var y=0,x=0,u=0;u<g.length;u++)g[u].est.L>y&&(y=g[u].est.L,x=u);if(y<.001)break;var b=g[x],E=n.quantize.splitPixels(c,h,b.i0,b.i1,b.est.e,b.est.eMq255),w={i0:b.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};w.bst=n.quantize.stats(c,w.i0,w.i1),w.est=n.quantize.estats(w.bst);var S={i0:E,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};S.bst={R:[],m:[],N:b.bst.N-w.bst.N};for(var u=0;u<16;u++)S.bst.R[u]=b.bst.R[u]-w.bst.R[u];for(var u=0;u<4;u++)S.bst.m[u]=b.bst.m[u]-w.bst.m[u];S.est=n.quantize.estats(S.bst),b.left=w,b.right=S,g[x]=w,g.push(S)}g.sort(function(K,G){return G.bst.N-K.bst.N});for(var C=0;C<f.length;C++){for(var T=n.quantize.planeDst,I=new Uint8Array(f[C].buffer),A=new Uint32Array(f[C].buffer),R=I.length,u=0;u<R;u+=4){for(var O=I[u]*.00392156862745098,F=I[u+1]*(1/255),N=I[u+2]*(1/255),$=I[u+3]*(1/255),q=v;q.left;)q=T(q.est,O,F,N,$)<=0?q.left:q.right;A[u>>2]=q.est.rgba}f[C]=A.buffer}return{bufs:f,plte:g}},n.quantize.getNearest=function(a,o,s,f,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,f,l),a;var u=n.quantize.planeDst(a.est,o,s,f,l),c=a.left,h=a.right;u>0&&(c=a.right,h=a.left);var p=n.quantize.getNearest(c,o,s,f,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,f,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,f,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*f+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,f,l){var u=o-a[0],c=s-a[1],h=f-a[2],p=l-a[3];return u*u+c*c+h*h+p*p},n.quantize.splitPixels=function(a,o,s,f,l,u){var c=n.quantize.vecDot;for(f-=4;s<f;){for(;c(a,s,l)<=u;)s+=4;for(;c(a,f,l)>u;)f-=4;if(s>=f)break;var h=o[s>>2];o[s>>2]=o[f>>2],o[f>>2]=h,s+=4,f-=4}for(;c(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,c=o;c<s;c+=4){var h=a[c]*.00392156862745098,p=a[c+1]*(1/255),d=a[c+2]*(1/255),m=a[c+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=m,f[0]+=h*h,f[1]+=h*p,f[2]+=h*d,f[3]+=h*m,f[5]+=p*p,f[6]+=p*d,f[7]+=p*m,f[10]+=d*d,f[11]+=d*m,f[15]+=m*m}return f[4]=f[1],f[8]=f[2],f[12]=f[3],f[9]=f[6],f[13]=f[7],f[14]=f[11],{R:f,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,f=a.N,l=s[0],u=s[1],c=s[2],h=s[3],p=f==0?0:1/f,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*c*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*c*p,o[7]-u*h*p,o[8]-c*l*p,o[9]-c*u*p,o[10]-c*c*p,o[11]-c*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*c*p,o[15]-h*h*p],m=d,_=n.M4,v=[.5,.5,.5,.5],g=0,y=0;if(f!=0)for(var x=0;x<10&&(v=_.multVec(m,v),y=Math.sqrt(_.dot(v,v)),v=_.sml(1/y,v),!(Math.abs(y-g)<1e-9));x++)g=y;var b=[l*p,u*p,c*p,h*p],E=_.dot(_.sml(255,b),v),w=b[3]<.001?0:1/b[3];return{Cov:d,q:b,e:v,L:g,eMq255:E,eMq:_.dot(v,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2]*w)<<16|Math.round(255*b[1]*w)<<8|Math.round(255*b[0]*w)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),f=a.length>>2,l=0;l<f;l++){var u=l<<2,c=a[u+3];o&&(c=c<128?0:255);var h=c*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=c}return s}}(e,r)})()})(R5);var $we=R5.exports;const Kk=Cn($we);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yb=function(t,e){return Yb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Yb(t,e)};function Vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gwe=function(t){Vwe(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new Uc(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Yo);function Xwe(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new at(new Et(a,Object.assign({mipmap:ti.OFF,alphaMode:Xn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,f=t+"-"+(o+1);Et.addToCache(s,f),at.addToCache(a,f),o===0&&(Et.addToCache(s,t),at.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(f),n.frameDelay.push(s.resource.delay),n.textures[f]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Xt.setExtensionXhrType("apng",Xt.XHR_RESPONSE_TYPE.BUFFER);var Zk=[97,99,84,76],Hwe=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const f=await s.arrayBuffer(),l=new Uint8Array(f);if(t.validate(o,l))Object.assign(e,Xwe(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=Kk.decode(r),i=n.width,a=n.height,o=n.frames,s=Kk.toRGBA8(n),f=[];s.forEach(function(u,c){var h=o[c],p=h.delay;f.push({data:new Uint8Array(u),delay:p})});var l=f.map(function(u){return new Gwe(u.data,{width:i,height:a,framesCount:f.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<Zk.length;i++)if(n[i]!==Zk[i])return!1;return!0},t}();const ip={height:1440,width:2560};window.PIXI=p1e;ri.registerPlugin(Hwe);class zwe{constructor(){Xe(this,"currentApp",null);Xe(this,"effectsContainer");Xe(this,"frameDuration",16.67);Xe(this,"notUpdateBacklogEffects",!1);Xe(this,"figureContainer");Xe(this,"figureObjects",[]);Xe(this,"backgroundContainer");Xe(this,"backgroundObjects",[]);Xe(this,"stageAnimations",[]);Xe(this,"assetLoader",new ri);Xe(this,"loadQueue",[]);Xe(this,"live2dFigureRecorder",[]);Xe(this,"lockTransformTarget",[]);Xe(this,"stageWidth",ip.width);Xe(this,"stageHeight",ip.height);Xe(this,"MAX_TEX_COUNT",10);const e=new Sh({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),dC&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new Zr,this.effectsContainer.zIndex=3,this.figureContainer=new Zr,this.figureContainer.zIndex=2,this.backgroundContainer=new Zr,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:Sf(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const f=s.pixiContainer;Object.assign(f,a.transform)}return}this.stageAnimations.push({uuid:Sf(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const f=this.getStageObjByKey(o.targetKey);if(f){const l={alpha:f.pixiContainer.alpha,scale:{x:f.pixiContainer.scale.x,y:f.pixiContainer.scale.y},position:{x:f.pixiContainer.x,y:f.pixiContainer.y},rotation:f.pixiContainer.rotation,blur:f.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};le.dispatch(Kn.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const f=this.assetLoader.resources[o[n]].texture;if(!f)return;const l=f.width,u=f.height,c=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(c,h),d=new bi(f);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const f=this.assetLoader.resources[o[n]].texture;if(!f)return;const l=f.width,u=f.height,c=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(c,h),d=new bi(f);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r){var l,u;const n=this.assetLoader,i=new Q_;this.backgroundObjects.findIndex(c=>c.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(i);const s=Sf();this.backgroundObjects.push({uuid:s,key:e,pixiContainer:i,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const f=()=>{var h,p;const c=(p=(h=n.resources)==null?void 0:h[r])==null?void 0:p.texture;if(c&&this.getStageObjByUuid(s)){const d=c.width,m=c.height,_=this.stageWidth/d,v=this.stageHeight/m,g=Math.max(_,v),y=new bi(c);y.scale.x=g,y.scale.y=g,y.anchor.set(.5),y.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(y)}};this.cacheGC(),(u=(l=n.resources)==null?void 0:l[r])!=null&&u.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var c,h;const a=this.assetLoader,o=new Q_;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Sf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var m,_;const p=(_=(m=a.resources)==null?void 0:m[r])==null?void 0:_.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],g=[];if(i){const{frameDelay:x,textures:b,frameCount:E}=v;d=x,Object.values(b||[]).forEach(w=>{g.push(w)})}(x=>{const b=p.width,E=p.height,w=this.stageWidth/b,S=this.stageHeight/E,C=Math.min(w,S),T=i?new x6(x):new bi(p);T.scale.x=C,T.scale.y=C,T.anchor.set(.5),T.position.y=this.stageHeight/2;const I=b*C,A=E*C;if(o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(I/2),n==="right"&&o.setBaseX(this.stageWidth-I/2),i){const R=T;let O=0,F=1;const N=()=>{R.gotoAndStop(O),setTimeout(()=>{O===x.length-1&&(F=-1),O===0&&(F=1),O+=F,N()},d[O])};N()}o.pivot.set(0,this.stageHeight/2),o.addChild(T)})(g)}};this.cacheGC(),(h=(c=a.resources)==null?void 0:c[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var c;const i=`spine-${r}`,a=this.assetLoader,o=new Q_;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Sf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const m=new Owe(h.spineData),_=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(m);const v=m.width,g=m.height,y=this.stageWidth/v,x=this.stageHeight/g;m.y=-(x*_)/2,console.log(m.state),m.state.setAnimation(0,"07",!0);const b=Math.min(y,x),E=new bi;E.addChild(m),E.scale.x=b,E.scale.y=b,E.anchor.set(.5),E.position.y=this.stageHeight/2;const w=v*b,S=g*b;o.setBaseY(this.stageHeight/2),S<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-S/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(w/2),n==="right"&&o.setBaseX(this.stageWidth-w/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(c=a.resources)!=null&&c[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const f=n.pixiContainer.children;for(const l of f){let u=r,c=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,c,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,f,l,u,c,h,p,d;function n(m){return m<50?0:(m-50)/50}const i=n(r),a=this.figureObjects.find(m=>m.key===e);if(a){const _=a.pixiContainer.children;for(const v of _)v!=null&&v.internalModel&&((s=(o=v==null?void 0:v.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(f=v==null?void 0:v.internalModel)==null?void 0:f.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(c=v==null?void 0:v.internalModel)==null?void 0:c.coreModel)!=null&&h.setParameterValueById&&((d=(p=v==null?void 0:v.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){GD()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){je.fatal("PIXI Loader 故障",r),e.callback(),this.callLoader()}}}updateFps(){py==null||py(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const py=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),Wwe={version:"IdolTime 1.0.0"},Ywe=navigator.userAgent,dC=!!Ywe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),qwe=()=>{je.info(Wwe.version),je.info("Made with ❤ by IdolTime"),dC&&alert(`iOS 用户请横屏使用以获得最佳体验
| iOS 用戶請橫屏使用以獲得最佳體驗`),Kwe("./game/userStyleSheet.css"),Zwe(),ude("./game/config.txt");const t=kr("start.txt",Or.scene);hi(t).then(async e=>{const r=await z.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const i=ph(n);Uu(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");le.dispatch(Jt.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),z.gameplay.pixiStage=new zwe,cde(),hde()};function Kwe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function Zwe(){Ec.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)Ec.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};z.animationManager.addAnimation(i)}})})}const Jwe="_Menu_main_1a7i6_1",Qwe="_Menu_ShowSoftly_1a7i6_1",eSe="_Menu_TagContent_1a7i6_10",Jk={Menu_main:Jwe,Menu_ShowSoftly:Qwe,Menu_TagContent:eSe},tSe="_MenuPanel_main_1c9ky_1",rSe="_MenuPanel_button_1c9ky_10",nSe="_MenuPanel_button_icon_1c9ky_38",iSe="_MenuPanel_button_hl_1c9ky_44",Ll={MenuPanel_main:tSe,MenuPanel_button:rSe,MenuPanel_button_icon:nSe,MenuPanel_button_hl:iSe};var aSe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){oSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oSe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sSe(t,e){if(t==null)return{};var r=lSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lSe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var uSe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function fSe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function cSe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var L5=ye.createContext(uSe);L5.Provider;function Ku(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,f=n.theme,l=n.fill,u=n.className,c=n.spin,h=sSe(n,aSe),p=ye.useContext(L5),d=ye.useMemo(fSe,[]),m=cSe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:f,fill:l},p),_=[p.prefix+"-icon"];return _.push(p.prefix+"-icon-"+t),e&&p.rtl&&_.push(p.prefix+"-icon-rtl"),c&&_.push(p.prefix+"-icon-spin"),u&&_.push(u),qt.createElement("span",eF(eF({},h),{},{className:_.join(" ")}),r(m))}}const hSe=Ku("folder-open",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),dSe=Ku("hamburger-button",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),pSe=Ku("home",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),vSe=Ku("logout",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),mSe=Ku("save",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),qt.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),gSe=Ku("setting-two",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),_Se=t=>{let e;switch(t.iconName){case"save":e=k.jsx(mSe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=k.jsx(hSe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=k.jsx(gSe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=k.jsx(pSe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=k.jsx(vSe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=k.jsx("div",{})}return e},Cf=t=>{const{playSePageChange:e,playSeEnter:r}=Gr();let n=Ll.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),k.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[k.jsx("div",{className:Ll.MenuPanel_button_icon,children:k.jsx(_Se,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},Ah=()=>{const t=le.dispatch;sS(),Tv(),Kl(),t(st({key:"playVocal",value:""})),t(it({component:"showTitle",visibility:!0})),t(Jt.setIsShowUnlock(!1)),t(Jt.setShowStoryline(!1)),_h(le.getState().GUI.titleBg)},ySe="_GlobalDialog_main_78ywd_2",xSe="_showGlobalDialog_78ywd_1",bSe="_glabalDialog_container_inner_78ywd_17",ESe="_glabalDialog_container_78ywd_17",wSe="_title_78ywd_38",SSe="_button_list_78ywd_50",CSe="_button_78ywd_50",ns={GlobalDialog_main:ySe,showGlobalDialog:xSe,glabalDialog_container_inner:bSe,glabalDialog_container:ESe,title:wSe,button_list:SSe,button:CSe};function TSe(){const t=tt(e=>e.GUI.showGlobalDialog);return k.jsx(k.Fragment,{children:t&&k.jsx("div",{id:"globalDialogContainer"})})}function pC(t){const{playSeClick:e,playSeEnter:r}=Jw();le.dispatch(it({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),tF()},i=()=>{e(),t.rightFunc(),tF()},a=k.jsx("div",{className:ns.GlobalDialog_main,children:k.jsx("div",{className:ns.glabalDialog_container,children:k.jsxs("div",{className:ns.glabalDialog_container_inner,children:[k.jsx("div",{className:ns.title,children:t.title}),k.jsxs("div",{className:ns.button_list,children:[k.jsx("div",{className:ns.button,onClick:n,onMouseEnter:r,children:t.leftText}),k.jsx("div",{className:ns.button,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{ks.render(a,document.getElementById("globalDialogContainer"))},100)}function tF(){le.dispatch(it({component:"showGlobalDialog",visibility:!1}))}const ASe=()=>{const t=Ya("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=Gr(),i=tt(m=>m.GUI),a=dr(),o=i.currentMenuTag===zt.Save?` ${Ll.MenuPanel_button_hl}`:"",s=i.currentMenuTag===zt.Load?` ${Ll.MenuPanel_button_hl}`:"",f=i.currentMenuTag===zt.Option?` ${Ll.MenuPanel_button_hl}`:"",l=i.currentMenuTag===zt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===zt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",c=i.currentMenuTag===zt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===zt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===zt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===zt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return k.jsxs("div",{className:Ll.MenuPanel_main,children:[k.jsx(Cf,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(Cs(zt.Save))},tagName:t("saving.title")},"saveButton"),k.jsx(Cf,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(Cs(zt.Load))},tagName:t("loadSaving.title")},"loadButton"),k.jsx(Cf,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),pC({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{Ah(),a(it({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),k.jsx(Cf,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:f,iconColor:d,tagColor:c,clickFunc:()=>{n(),a(Cs(zt.Option))},tagName:t("options.title")},"optionButton"),k.jsx(Cf,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(it({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},ISe="_Save_Load_main_4r4rg_2",RSe="_Common_back_4r4rg_13",PSe="_Common_title_4r4rg_30",OSe="_Save_title_4r4rg_41",kSe="_Load_title_4r4rg_45",FSe="_Save_Load_top_buttonList_4r4rg_49",NSe="_Save_Load_indicator_container_4r4rg_59",LSe="_Save_Load_top_button_4r4rg_49",BSe="_Save_Load_indicator_default_4r4rg_74",MSe="_Save_Load_indicator_active_4r4rg_83",DSe="_Save_Load_content_4r4rg_92",USe="_Save_Load_content_element_4r4rg_105",jSe="_Elements_in_4r4rg_1",$Se="_Elements_in_transform_4r4rg_1",VSe="_Save_Load_content_element_top_4r4rg_120",GSe="_Save_Load_info_4r4rg_127",XSe="_Save_Load_content_ele_4r4rg_105",HSe="_Save_Load_bg_4r4rg_158",zSe="_Save_Load_content_miniRen_bg_4r4rg_170",WSe="_Save_Load_border_4r4rg_181",YSe="_Btn_4r4rg_195",qSe="_Btn_r_4r4rg_209",Ct={Save_Load_main:ISe,Common_back:RSe,Common_title:PSe,Save_title:OSe,Load_title:kSe,Save_Load_top_buttonList:FSe,Save_Load_indicator_container:NSe,Save_Load_top_button:LSe,Save_Load_indicator_default:BSe,Save_Load_indicator_active:MSe,Save_Load_content:DSe,Save_Load_content_element:USe,Elements_in:jSe,Elements_in_transform:$Se,Save_Load_content_element_top:VSe,Save_Load_info:GSe,Save_Load_content_ele:XSe,Save_Load_bg:HSe,Save_Load_content_miniRen_bg:zSe,Save_Load_border:WSe,Btn:YSe,Btn_r:qSe},KSe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=Gr(),i=tt(m=>m.userData),a=tt(m=>m.saveData),o=dr(),s=[];for(let m=1;m<=4;m++){const _=k.jsx("div",{onClick:()=>{o(P0(m)),yn(),e()},onMouseEnter:r,className:Ct.Save_Load_top_button,children:k.jsx("div",{className:m===i.optionData.slPage?Ct.Save_Load_indicator_active:Ct.Save_Load_indicator_default})},"Load_element_page"+m);s.push(_)}const f=Ya("common."),l=[],u=(i.optionData.slPage-1)*6+1,c=u+5;ye.useEffect(()=>{tS(u,c)},[u,c]);let h=0;for(let m=u;m<=c;m++){h++;const _=a.saveData[m];let v=k.jsx("div",{className:Ct.Save_Load_content_ele});_&&(v=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Ct.Save_Load_border}),k.jsx("img",{className:Ct.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:_.previewImage}),k.jsxs("div",{className:Ct.Save_Load_info,children:[_.saveTime,`
`,_.nowStageState.showText]})]}));const g=k.jsx("div",{onClick:()=>{a.saveData[m]?(n(),pC({title:p("saving.isOverwrite"),leftText:f("no"),rightText:f("yes"),leftFunc:()=>{},rightFunc:()=>{QI(m),yn()}})):(e(),QI(m))},onMouseEnter:r,className:Ct.Save_Load_content_element,style:{animationDelay:`${h*30}ms`},children:v},"saveElement_"+m);l.push(g)}const p=Ya("menu."),d=m=>{let v=i.optionData.slPage;m==="left"?v=v>1?v-1:4:v=v<4?v+1:1,o(P0(v)),yn(),e()};return k.jsxs("div",{className:Ct.Save_Load_main,children:[k.jsx("div",{className:`${Ct.Common_title} ${Ct.Save_title}`,children:k.jsx("div",{className:Ct.Common_back,onClick:()=>{t(),o(it({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r})}),k.jsx("div",{className:Ct.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:l}),k.jsxs("div",{className:Ct.Save_Load_top_buttonList,children:[k.jsx("div",{className:Ct.Btn,onMouseEnter:r,onClick:()=>d("left")}),k.jsx("div",{className:Ct.Save_Load_indicator_container,children:s}),k.jsx("div",{className:`${Ct.Btn} ${Ct.Btn_r}`,onMouseEnter:r,onClick:()=>d("right")})]})]})},ZSe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=Gr(),n=tt(h=>h.userData),i=tt(h=>h.saveData),a=dr(),o=[];for(let h=1;h<=4;h++){const p=k.jsx("div",{onClick:()=>{a(P0(h)),yn(),r()},onMouseEnter:e,className:Ct.Save_Load_top_button,children:k.jsx("div",{className:h===n.optionData.slPage?Ct.Save_Load_indicator_active:Ct.Save_Load_indicator_default})},"Load_element_page"+h);o.push(p)}const s=[],f=(n.optionData.slPage-1)*6+1,l=f+5;ye.useEffect(()=>{tS(f,l)},[f,l]);let u=0;for(let h=f;h<=l;h++){u++;const p=i.saveData[h];let d=k.jsx("div",{className:Ct.Save_Load_content_ele});p&&(d=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Ct.Save_Load_bg}),k.jsx("img",{className:Ct.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage}),k.jsx("div",{className:Ct.Save_Load_border}),k.jsxs("div",{className:Ct.Save_Load_info,children:[p.saveTime,`
`,p.nowStageState.showText]})]}));const m=k.jsx("div",{onClick:()=>{que(h),t()},onMouseEnter:e,className:Ct.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:d},"loadElement_"+h);s.push(m)}Ya("menu.");const c=h=>{let d=n.optionData.slPage;h==="left"?d=d>1?d-1:4:d=d<4?d+1:1,a(P0(d)),yn(),r()};return k.jsxs("div",{className:Ct.Save_Load_main,children:[k.jsx("div",{className:`${Ct.Common_title} ${Ct.Load_title}`,children:k.jsx("div",{className:Ct.Common_back,onClick:()=>{t(),a(it({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),k.jsx("div",{className:Ct.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s}),k.jsxs("div",{className:Ct.Save_Load_top_buttonList,children:[k.jsx("div",{className:Ct.Btn,onMouseEnter:e,onClick:()=>c("left")}),k.jsx("div",{className:Ct.Save_Load_indicator_container,children:o}),k.jsx("div",{className:`${Ct.Btn} ${Ct.Btn_r}`,onMouseEnter:e,onClick:()=>c("right")})]})]})},JSe="_Options_main_1jn8j_1",QSe="_Options_top_1jn8j_12",e2e="_Options_page_container_1jn8j_25",t2e="_Options_left_1jn8j_31",r2e="_title_base_1jn8j_36",n2e="_Options_right_1jn8j_46",i2e="_Label_1jn8j_50",a2e="_title_voice_1jn8j_55",o2e="_Label_fullscreen_1jn8j_74",s2e="_Label_window_1jn8j_79",l2e="_Label_text_speed_1jn8j_84",u2e="_Label_row_1jn8j_88",f2e="_Label_row_right_1jn8j_96",c2e="_Label_row_text_1jn8j_101",h2e="_Label_row_decoration_1jn8j_108",d2e="_Check_row_1jn8j_120",p2e="_Check_row_option_1jn8j_129",v2e="_Check_row_prefix_1jn8j_134",m2e="_Check_row_box_1jn8j_149",g2e="_mt48_1jn8j_161",_2e="_mt32_1jn8j_165",y2e="_mt22_1jn8j_170",x2e="_Slider_wrapper_1jn8j_175",b2e="_Check_row_box_checked_1jn8j_179",E2e="_Save_back_1jn8j_193",ot={Options_main:JSe,Options_top:QSe,Options_page_container:e2e,Options_left:t2e,title_base:r2e,Options_right:n2e,Label:i2e,title_voice:a2e,Label_fullscreen:o2e,Label_window:s2e,Label_text_speed:l2e,Label_row:u2e,Label_row_right:f2e,Label_row_text:c2e,Label_row_decoration:h2e,Check_row:d2e,Check_row_option:p2e,Check_row_prefix:v2e,Check_row_box:m2e,mt48:g2e,mt32:_2e,mt22:y2e,Slider_wrapper:x2e,Check_row_box_checked:b2e,Save_back:E2e};const Tf=t=>{const{playSeEnter:e}=Gr();ye.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",t.initValue.toString()),r()},1)},[]),ye.useEffect(()=>{r()},[t.initValue]);function r(){const n=document.getElementById(`${t.uniqueID}-bg`);n!==null&&(n.style.width=Number(t.initValue.toString())/100*376/.5+"px")}return k.jsxs("div",{className:"Option_WebGAL_slider",children:[k.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",onChange:t.onChange,onFocus:e,onMouseEnter:e}),k.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),k.jsx("div",{className:"Slider_bg_under"})]})},w2e=()=>{ye.useEffect(B0,[]);const{playSeClick:t,playSeEnter:e}=Gr(),r=tt(i=>i.userData),n=dr();return k.jsxs("div",{className:ot.Options_main,children:[k.jsx("div",{className:ot.Options_top,children:k.jsx("div",{className:ot.Save_back,onClick:()=>{t(),n(it({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),k.jsxs("div",{className:ot.Options_page_container,children:[k.jsxs("div",{className:ot.Options_left,children:[k.jsx("div",{className:ot.title_base}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt48}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"画面模式"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsxs("div",{className:ot.Check_row,children:[k.jsxs("div",{className:ot.Check_row_option,children:[k.jsx("span",{className:ot.Check_row_prefix,children:"全屏"}),k.jsx("div",{className:ot.Check_row_box,onClick:()=>{n(ji({key:"fullScreen",value:da.on})),yn()},children:r.optionData.fullScreen?null:k.jsx("div",{className:ot.Check_row_box_checked})})]}),k.jsxs("div",{className:ot.Check_row_option,children:[k.jsx("span",{className:ot.Check_row_prefix,children:"窗口化"}),k.jsx("div",{className:ot.Check_row_box,onClick:()=>{n(ji({key:"fullScreen",value:da.off})),yn()},children:r.optionData.fullScreen?k.jsx("div",{className:ot.Check_row_box_checked}):null})]})]}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt48}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"文本播放速度"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsx(Tf,{initValue:r.optionData.textSpeed,uniqueID:"文本播放速度",onChange:i=>{const a=i.target.value;n(ji({key:"textSpeed",value:Number(a)})),yn()}})]}),k.jsxs("div",{className:ot.Options_right,children:[k.jsx("div",{className:ot.title_voice}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt32} ${ot.Label_row_right}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"全局音量"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsx("div",{className:ot.Slider_wrapper,children:k.jsx(Tf,{initValue:r.optionData.volumeMain,uniqueID:"全局音量",onChange:i=>{const a=i.target.value;n(ji({key:"volumeMain",value:Number(a)})),yn()}})}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt32} ${ot.Label_row_right}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"背景音量"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsx("div",{className:ot.Slider_wrapper,children:k.jsx(Tf,{initValue:r.optionData.bgmVolume,uniqueID:"背景音量",onChange:i=>{const a=i.target.value;n(ji({key:"bgmVolume",value:Number(a)})),yn()}})}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt32} ${ot.Label_row_right}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"音效"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsx("div",{className:ot.Slider_wrapper,children:k.jsx(Tf,{initValue:r.optionData.seVolume,uniqueID:"音效",onChange:i=>{const a=i.target.value;n(ji({key:"seVolume",value:Number(a)})),n(ji({key:"uiSeVolume",value:Number(a)})),yn()}})}),k.jsxs("div",{className:`${ot.Label_row} ${ot.mt22} ${ot.Label_row_right}`,children:[k.jsx("span",{className:ot.Label_row_text,children:"角色语音"}),k.jsx("span",{className:ot.Label_row_decoration})]}),k.jsx("div",{className:ot.Slider_wrapper,children:k.jsx(Tf,{initValue:r.optionData.vocalVolume,uniqueID:"角色语音",onChange:i=>{const a=i.target.value;n(ji({key:"vocalVolume",value:Number(a)})),yn()}})})]})]})]})},S2e=()=>{const t=tt(r=>r.GUI);let e;switch(t.currentMenuTag){case zt.Save:e=k.jsx(KSe,{});break;case zt.Load:e=k.jsx(ZSe,{});break;case zt.Option:e=k.jsx(w2e,{});break}return k.jsx(k.Fragment,{children:t.showMenuPanel&&k.jsxs("div",{className:Jk.Menu_main,children:[k.jsx("div",{className:Jk.Menu_TagContent,children:e}),zt.Option?null:k.jsx(ASe,{})]})})},C2e="_MainStage_main_9enex_1",T2e="_MainStage_main_container_9enex_10",A2e="_MainStage_bgContainer_9enex_17",I2e="_MainStage_showBgSoftly_9enex_1",R2e="_MainStage_bgContainer_Settled_9enex_27",P2e="_MainStage_oldBgContainer_9enex_37",O2e="_MainStage_oldBgFadeout_9enex_1",k2e="_MainStage_oldBgContainer_Settled_9enex_47",F2e="_pixiContainer_9enex_72",N2e="_chooseContainer_9enex_77",vy={MainStage_main:C2e,MainStage_main_container:T2e,MainStage_bgContainer:A2e,MainStage_showBgSoftly:I2e,MainStage_bgContainer_Settled:R2e,MainStage_oldBgContainer:P2e,MainStage_oldBgFadeout:O2e,MainStage_oldBgContainer_Settled:k2e,pixiContainer:F2e,chooseContainer:N2e};function L2e(){const t=tt(r=>r.userData.optionData.textboxFont);function e(){return yv(t).with(Ss.song,()=>'"思源宋体", serif').with(Ss.lxgw,()=>'"LXGW", serif').with(Ss.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function rF(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const B2e="_TextBox_EventHandler_3ooeu_1",M2e="_TextBox_Container_3ooeu_9",D2e="_showSoftly_3ooeu_1",U2e="_TextBox_main_3ooeu_24",j2e="_TextBox_textElement_start_3ooeu_50",$2e="_TextDelayShow_3ooeu_1",V2e="_outer_3ooeu_56",G2e="_inner_3ooeu_65",X2e="_zhanwei_3ooeu_74",H2e="_TextBox_textElement_Settled_3ooeu_79",z2e="_TextBox_showName_3ooeu_84",W2e="_outerName_3ooeu_94",Y2e="_TextBox_showName_avatar_3ooeu_98",q2e="_TextBox_showName_player_3ooeu_104",K2e="_TextBox_ShowName_Background_3ooeu_110",Z2e="_miniAvatarContainer_3ooeu_122",J2e="_miniAvatarImg_3ooeu_142",Q2e="_nameContainer_3ooeu_147",eCe="_innerName_3ooeu_160",tCe="_line_3ooeu_167",rCe="_line_avatar_3ooeu_175",nCe="_line_hide_3ooeu_179",iCe="_text_3ooeu_183",Zt={TextBox_EventHandler:B2e,TextBox_Container:M2e,showSoftly:D2e,TextBox_main:U2e,TextBox_textElement_start:j2e,TextDelayShow:$2e,outer:V2e,inner:G2e,zhanwei:X2e,TextBox_textElement_Settled:H2e,TextBox_showName:z2e,outerName:W2e,TextBox_showName_avatar:Y2e,TextBox_showName_player:q2e,TextBox_ShowName_Background:K2e,miniAvatarContainer:Z2e,miniAvatarImg:J2e,nameContainer:Q2e,innerName:eCe,line:tCe,line_avatar:rCe,line_hide:nCe,text:iCe};function aCe(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:f,miniAvatar:l,showName:u,font:c,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:m,textAlign:_}=t,v=rD("Stage/TextBox/textbox.scss");ye.useEffect(()=>{function x(){[...document.querySelectorAll(".Textelement_start")].forEach(w=>{w.className=v("TextBox_textElement_Settled",Zt.TextBox_textElement_Settled)})}return z.events.textSettle.on(x),()=>{z.events.textSettle.off(x)}},[]);let g=0;const y=e.map((x,b)=>{const E=x.map((w,S)=>{let C=g*r;g++;let T=n.length;return n!==""&&S>=T&&(C=C-T*r),S<T?k.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",Zt.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:k.jsxs("span",{className:Zt.zhanwei,children:[w,k.jsx("span",{className:v("outer",Zt.outer),children:w}),p&&k.jsx("span",{className:v("inner",Zt.inner),children:w})]})},i+S):k.jsx("span",{"data-text":w,id:`${C}`,className:`${v("TextBox_textElement_start",Zt.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:k.jsxs("span",{className:Zt.zhanwei,children:[w,k.jsx("span",{className:v("outer",Zt.outer),children:w}),p&&k.jsx("span",{className:v("inner",Zt.inner),children:w})]})},i+S)});return k.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${b}`)});return k.jsx(k.Fragment,{children:a&&k.jsxs("div",{className:Zt.TextBox_Container,children:[k.jsx("div",{className:v("TextBox_main",Zt.TextBox_main),style:{opacity:`${d/100}`}}),k.jsxs("div",{id:"textBoxMain",className:Zt.TextBox_main,style:{fontFamily:c},children:[k.jsxs("div",{id:"miniAvatar",className:v("miniAvatarContainer",Zt.miniAvatarContainer),children:[l!==""&&k.jsx("div",{}),l!==""&&k.jsx("img",{className:v("miniAvatarImg",Zt.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&m!=="narrator"&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:v("TextBox_showName",Zt.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:k.jsx("div",{style:{opacity:0},children:u.split("").map((x,b)=>k.jsx("span",{style:{position:"relative"},children:k.jsxs("span",{className:Zt.zhanwei,children:[x,k.jsx("span",{className:v("outerName",Zt.outerName),children:x}),p&&k.jsx("span",{className:v("innerName",Zt.innerName),children:x})]})},x+b))})}),k.jsx("div",{className:`${Zt.TextBox_showName} ${l?Zt.TextBox_showName_avatar:""}`,children:u.split("").map((x,b)=>k.jsx("span",{style:{position:"relative"},children:k.jsxs("span",{className:Zt.zhanwei,children:[x,k.jsx("span",{className:v("outerName",Zt.outerName),children:x}),p&&k.jsx("span",{className:v("innerName",Zt.innerName),children:x})]})},x+b))},u)]}),k.jsx("div",{className:`${Zt.line} ${m==="narrator"?Zt.line_hide:""} ${l?Zt.line_avatar:""}`}),k.jsx("div",{className:v("text",Zt.text),style:{flexFlow:"column",overflow:"hidden",textAlign:_||m==="narrator"?"center":"left"},children:y})]})]})})}const B5=navigator.userAgent,oCe=/firefox/i.test(B5),sCe=/^((?!chrome|android).)*safari/i.test(B5),lCe=()=>{const[t,e]=ye.useState(!0);ye.useEffect(()=>{const y=()=>{const x=ip.height,b=ip.width,E=window.innerHeight,w=window.innerWidth,S=E/x,C=w/b,T=w/x,I=E/b;[S,C,T,I].forEach(A=>{A<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=tt(y=>y.stage),n=tt(y=>y.userData),i=EM(n.optionData.textSpeed),a=Kle(n.optionData.textSpeed);let o=rF(n.optionData.textSize)+"%";const s=L2e(),f=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;f&&r.showTextSize!==-1&&(o=rF(r.showTextSize)+"%",l=r.showTextSize);const u=yv(n.optionData.textSize).with(Io.small,()=>3).with(Io.medium,()=>2).with(Io.large,()=>2).default(()=>2),c=M5(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,m=r.miniAvatar,_=n.optionData.textboxOpacity,v=r.dialogueMode,g=aCe;return k.jsx(g,{textArray:c,isText:f,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:sCe,isFirefox:oCe,miniAvatar:m,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:_,dialogueMode:v})};function nF(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function M5(t,e,r){return t.split("|").map(o=>fCe(o)).map(o=>{const s=[];return o.forEach((f,l)=>{yv(f.type).with("SegmentType.String",()=>{const u=uCe(f.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=f.value,c=k.jsxs("ruby",{children:[u.text,k.jsx("rt",{children:u.link})]},l+u.text);s.push(c)})}),s}).slice(0,r?void 0:e)}function uCe(t){if(!t)return[];const e=[];let r="",n=nF(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(" "),n=!1;else if(nF(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function fCe(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}async function iF(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;try{const r=await(await fetch(t)).arrayBuffer();return await cCe(r)}catch(e){throw console.error("Error fetching or decoding Ogg file:",e),e}}function cCe(t){return new Promise((e,r)=>{let n=new Uint8Array(t),i=new Worker("./decoderWorker.js"),a=new Worker("./waveWorker.js"),o=8e3;i.postMessage({command:"init",decoderSampleRate:o,outputBufferSampleRate:o}),a.postMessage({command:"init",wavBitDepth:16,wavSampleRate:o}),i.onmessage=function(s){s.data===null?a.postMessage({command:"done"}):a.postMessage({command:"encode",buffers:s.data},s.data.map(function(f){return f.buffer}))},a.onmessage=function(s){if(s.data.message==="page"){let f=new Blob([s.data.page],{type:"audio/wav"}),l=URL.createObjectURL(f);e(l)}},i.postMessage({command:"decode",pages:n},[n.buffer])})}const hCe=()=>{var v;const t=tt(g=>g.stage),e=tt(g=>g.GUI.titleBgm),r=tt(g=>g.GUI.showTitle),n=tt(g=>g.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,f=t.uiSe,l=i*.01*(((v=n.optionData)==null?void 0:v.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,c=tt(g=>g.GUI.isEnterGame),[h,p]=ye.useState(""),[d,m]=ye.useState(setTimeout(()=>{},0)),_=(g,y,x)=>{x>=0?g.volume=0:g.volume=y;const b=10,E=y/x*b,w=()=>{const S=setTimeout(()=>{g.volume+E>=y?g.volume=y:g.volume+E<=0?(g.volume=0,le.dispatch(st({key:"bgm",value:{src:"",enter:0,volume:100}}))):(g.volume+=E,w())},b);m(S)};w()};return ye.useEffect(()=>{clearTimeout(d);const g=document.getElementById("currentBgm");g&&(s===0?g.volume=o:_(g,o,s))},[h,o,s]),ye.useEffect(()=>{(async()=>{const y=await iF(r?e:t.bgm.src);p(y)})()},[r,e,t.bgm.src]),ye.useEffect(()=>{je.debug(`设置背景音量：${o}`)},[o]),ye.useEffect(()=>{je.debug(`设置背景音量淡入时间: ${s}`)},[s]),ye.useEffect(()=>{je.debug(`设置语音音量：${a}`);const g=document.getElementById("currentVocal");g&&(g.volume=a.toString())},[a]),ye.useEffect(()=>{if(f==="")return;(async()=>{const y=await iF(f),x=document.createElement("audio");x.src=y,x.loop=!1,isNaN(u)?(je.error("UI SE Vol is NaN"),x.volume=isNaN(l)?i/100:l/100):x.volume=u,x.play(),x.addEventListener("ended",()=>{x.remove()}),le.dispatch(st({key:"uiSe",value:""}))})()},[f]),ye.useEffect(()=>{je.debug(`设置音效音量: ${l}`)},[l]),ye.useEffect(()=>{je.debug(`设置用户界面音效音量: ${u}`)},[u]),k.jsxs("div",{children:[k.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:c},r.toString()+h),k.jsx("audio",{id:"currentVocal",src:t.playVocal})]})},dCe=()=>{const t=tt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),k.jsx("div",{className:no.FullScreenPerform_main,style:{width:e,height:r,top:n},children:k.jsx("div",{id:"videoContainer"})})},pCe="_TextBox_EventHandler_449dq_2",vCe="_TextBox_main_449dq_10",mCe="_showSoftly_449dq_1",gCe="_TextBox_textElement_449dq_38",_Ce="_TextBox_textElement_start_449dq_43",yCe="_TextDelayShow_449dq_1",xCe="_TextBox_textElement_Settled_449dq_48",bCe="_TextBox_showName_449dq_52",ECe="_miniAvatarContainer_449dq_68",wCe="_miniAvatarImg_449dq_76",my={TextBox_EventHandler:pCe,TextBox_main:vCe,showSoftly:mCe,TextBox_textElement:gCe,TextBox_textElement_start:_Ce,TextDelayShow:yCe,TextBox_textElement_Settled:xCe,TextBox_showName:bCe,miniAvatarContainer:ECe,miniAvatarImg:wCe},SCe=()=>{const t=tt(o=>o.stage),e=tt(o=>o.userData);ye.useEffect(()=>{});const r=Mq.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let f=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(f=f-l*r),s<l?k.jsx("span",{id:`${f}`,className:my.TextBox_textElement_Settled,style:{animationDelay:`${f}ms`},children:o},t.currentDialogKey+s):k.jsx("span",{id:`${f}`,className:my.TextBox_textElement_start,style:{animationDelay:`${f}ms`},children:o},t.currentDialogKey+s)});return k.jsx("div",{id:"textBoxMain",className:my.TextBox_main,children:k.jsx("div",{style:{fontSize:n},children:a})})};function CCe(t){const e=t.bgName;ye.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const o=(n=z.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);o&&o.sourceUrl!==e&&aF(o),(i=z.gameplay.pixiStage)==null||i.addBg(r,e),_h(e),je.debug("重设背景"),setTimeout(()=>{const{duration:s,animation:f}=uo("bg-main","enter",!0);z.gameplay.pixiStage.registerPresetAnimation(f,"bg-main-softin",r,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),s)},0)}else{const o=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&aF(o)}},[e])}function aF(t){var i,a;(i=z.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=z.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=uo("bg-main-off","exit",!0);z.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=z.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=z.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function TCe(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function ACe(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;ye.useEffect(()=>{var s;for(const f of a)(s=z.gameplay.pixiStage)==null||s.changeModelMotionByKey(f.target,f.motion)},[a]),ye.useEffect(()=>{var s;for(const f of o)(s=z.gameplay.pixiStage)==null||s.changeModelExpressionByKey(f.target,f.expression)},[o]),ye.useEffect(()=>{var l,u;const s="fig-center",f="fig-center-softin";if(r!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==r&&Fa(c,f,t.effects),Af(void 0,s,r,"center"),je.debug("中立绘已重设"),setTimeout(()=>{const{duration:h,animation:p}=uo(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{je.debug("移除中立绘");const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==r&&Fa(c,f,t.effects)}},[r]),ye.useEffect(()=>{var l,u;const s="fig-left",f="fig-left-softin";if(e!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==e&&Fa(c,f,t.effects),Af(void 0,s,e,"left"),je.debug("左立绘已重设"),setTimeout(()=>{const{duration:h,animation:p}=uo(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{je.debug("移除左立绘");const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==e&&Fa(c,f,t.effects)}},[e]),ye.useEffect(()=>{var l,u;const s="fig-right",f="fig-right-softin";if(n!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==n&&Fa(c,f,t.effects),Af(void 0,s,n,"right"),je.debug("右立绘已重设"),setTimeout(()=>{const{duration:h,animation:p}=uo(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==n&&Fa(c,f,t.effects)}},[n]),ye.useEffect(()=>{var f,l,u;for(const c of i){const h=`${c.key}`,p=`${c.key}-softin`;if(c.name!==""){const d=(f=z.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(h);d?d.sourceUrl!==c.name&&(Fa(d,p,t.effects),Af(void 0,h,c.name,c.basePosition),je.debug(`${c.key}立绘已重设`),setTimeout(()=>{const{duration:m,animation:_}=uo(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32)):(Af(void 0,h,c.name,c.basePosition),je.debug(`${c.key}立绘已重设`),setTimeout(()=>{const{duration:m,animation:_}=uo(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32))}else{const d=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==c.name&&Fa(d,p,t.effects)}}const s=(u=z.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const c of s)if(!(c.key==="fig-left"||c.key==="fig-center"||c.key==="fig-right"||c.key.endsWith("-off"))){const h=c.key;if(i.findIndex(d=>d.key===h)<0){const d=`${c.key}-softin`;Fa(c,d,t.effects)}}}},[i])}function Fa(t,e,r){var f,l,u;if((f=z.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(e),z.gameplay.isFast){je.info("快速模式，立刻关闭立绘"),(l=z.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=z.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=uo(i,"exit");z.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var c,h;(c=z.gameplay.pixiStage)==null||c.removeAnimation(a),(h=z.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function Af(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return ICe(...e);if(r.endsWith(".skel"))return(n=z.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))TCe(r).then(a=>{var o;return(o=z.gameplay.pixiStage)==null?void 0:o.addFigure(...e,RCe(a))});else return(i=z.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function ICe(...t){}function RCe(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function PCe(t){const e=t.effects;setTimeout(()=>{OCe(e)},10)}function OCe(t){var r,n,i,a;const e=((r=z.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,f=t.find(u=>u.target===s);if(!(((n=z.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(f){const u=(i=z.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const c=u.pixiContainer;Object.assign(c,oF(f.transform))}}else{const u=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const c=u.pixiContainer;Object.assign(c,oF(Uw))}}}}function oF(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function kCe(){const t=tt(e=>e.stage);return CCe(t),ACe(t),PCe(t),k.jsx("div",{style:{display:"none"}})}const FCe="_introContainer_119k8_1",NCe={introContainer:FCe};function LCe(){return k.jsx("div",{className:NCe.introContainer,id:"introContainer"})}const BCe="_variableNameWrapper_eflox_1",MCe={variableNameWrapper:BCe},DCe=()=>{var r,n;const t=tt(i=>i.stage),e=ye.useMemo(()=>{const i=new Map,a=t.showValues;return a!=null&&a.length&&a.forEach(o=>{i.set(o.key,o.value)}),i},[t]);return k.jsx(k.Fragment,{children:((r=t.showValueList)==null?void 0:r.length)&&((n=t.showValueList)==null?void 0:n.map(i=>i.isShowValueSWitch?k.jsx("div",{className:MCe.variableNameWrapper,style:{position:"fixed",left:i.showValueAxisX+"px",top:i.showValueAxisY+"px"},children:e.get(i.showValueName)||""}):null))||null})};function sF(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function UCe(t,e,r){!e.controlsVisibility&&sF(t)&&r(it({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!sF(t)&&r(it({component:"controlsVisibility",visibility:!1}))}function jCe(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let gy=null;function $Ce(t,e,r,n){jCe(e,r)?(gy&&clearTimeout(gy),n(it({component:"controlsVisibility",visibility:!0})),gy=setTimeout(()=>{n(it({component:"controlsVisibility",visibility:!1}))},1e3)):UCe(t,r,n)}const VCe=()=>{const t=tt(n=>n.stage),e=tt(n=>n.GUI),r=dr();return jhe(),k.jsxs("div",{className:vy.MainStage_main,children:[k.jsx(dCe,{}),k.jsx(kCe,{}),k.jsx("div",{id:"pixiContianer",className:vy.pixiContainer,style:{zIndex:dC?"-5":void 0}}),k.jsx("div",{id:"chooseContainer",className:vy.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&k.jsx(lCe,{}),e.showTextBox&&t.enableFilm!==""&&k.jsx(SCe,{}),k.jsx(hCe,{}),k.jsx("div",{onClick:()=>{if(!e.showTextBox){r(it({component:"showTextBox",visibility:!0}));return}vS(),Vr()},onDoubleClick:()=>{z.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&$Ce(n,t,e,r)}),k.jsx(LCe,{}),t.isShowValueSWitch&&k.jsx(DCe,{})]})},GCe=()=>{const t=Ya("gaming."),{i18n:e}=Ev(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=Gr();e.language;const a=tt(u=>u.GUI),o=tt(u=>u.stage),s=dr(),f=(u,c)=>{s(it({component:u,visibility:c}))},l=tt(u=>u.saveData.saveData);if(t("noSaving"),l[0]){const u=l[0];on.slPreviewMain,on.imgContainer,u.previewImage,on.textContainer,u.nowStageState.showName,u.nowStageState.showText}return k.jsx(k.Fragment,{children:a.showTextBox&&o.enableFilm===""&&k.jsxs("div",{className:on.main,style:{visibility:a.controlsVisibility?"visible":"hidden"},children:[k.jsx("span",{id:"Button_ControlPanel_auto",className:`${on.singleButton} ${on.singleButton_auto}`,title:"自动",onClick:()=>{iD(),n()},onMouseEnter:r,children:k.jsx("span",{className:on.autoIcon})}),k.jsx("span",{id:"Button_ControlPanel_fast",className:`${on.singleButton} ${on.singleButton_fast}`,title:"快进",onClick:()=>{lD(),n()},onMouseEnter:r,children:k.jsx("span",{className:on.fastIcon})}),k.jsx("span",{className:on.singleButton,title:"剧情回顾",onClick:()=>{z.gameplay.isAuto&&Tv(),f("showBacklog",!0),f("showTextBox",!1),n()},onMouseEnter:r,children:k.jsx("span",{className:on.historyIcon})})]})})},XCe=()=>{var u,c;Ya("gaming.");const{playSeEnter:t,playSeClick:e}=Gr(),r=tt(h=>h.GUI),n=dr(),[i,a]=ye.useState(!1),[o,s]=ye.useState(!1);let f=ye.useRef();const l=ye.useMemo(()=>{let h=[];for(let p=0;p<z.backlogManager.getBacklog().length;p++){const d=z.backlogManager.getBacklog()[p],m=M5(d.currentStageState.showText,3,!0),v=HCe(m).map((y,x)=>k.jsx("div",{children:y.map((b,E)=>b==="<br />"?k.jsx("br",{},`br${E}`):b)},`backlog-line-${x}`)),g=k.jsxs("div",{className:In.backlog_item,style:{animationDelay:`${20*(z.backlogManager.getBacklog().length-p)}ms`},children:[k.jsxs("div",{className:In.backlog_content_container,children:[k.jsxs("div",{className:In.backlog_func_area,children:[k.jsx("div",{className:In.backlog_item_content_name,children:d.currentStageState.showName&&`【${d.currentStageState.showName}】`||""}),d.currentStageState.vocal?k.jsx("div",{onClick:y=>{e(),y.preventDefault(),y.stopPropagation();const x=document.getElementById("backlog_audio_play_element_"+p);if(x){x.currentTime=0;const b=le.getState().userData,E=b.optionData.volumeMain;x.volume=E*.01*b.optionData.vocalVolume*.01,x==null||x.play()}},onMouseEnter:t,className:In.backlog_item_button_element,children:k.jsx("span",{className:In.sound_icon})}):null]}),k.jsx("div",{className:In.backlog_item_content,onClick:y=>{e(),Yue(p),y.preventDefault(),y.stopPropagation()},children:k.jsx("span",{className:In.backlog_item_content_text,children:v})})]}),k.jsx("audio",{id:"backlog_audio_play_element_"+p,src:d.currentStageState.vocal})]},"backlogItem"+d.currentStageState.showText+d.saveScene.currentSentenceId);h.unshift(g)}return h},[((c=(u=z.backlogManager.getBacklog()[z.backlogManager.getBacklog().length-1])==null?void 0:u.saveScene)==null?void 0:c.currentSentenceId)??0]);return ye.useEffect(()=>{r.showBacklog?(f.current&&clearTimeout(f.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):f.current=setTimeout(()=>{a(!0),f.current=void 0},700+80)},[r.showBacklog]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:`
          ${r.showBacklog?In.Backlog_main:In.Backlog_main_out}
          ${i?In.Backlog_main_out_IndexHide:""}
          `,children:[k.jsx("div",{className:In.backlog_title,onClick:()=>{je.info("Rua! Testing")},children:k.jsx("div",{className:In.backlog_top_icon,onClick:()=>{e(),n(it({component:"showBacklog",visibility:!1})),n(it({component:"showTextBox",visibility:!0}))},onMouseEnter:t})}),r.showBacklog&&k.jsx("div",{className:`${In.backlog_content} ${o?In.Backlog_main_DisableScroll:""}`,children:l})]})})};function HCe(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const zCe="_extra_2e79r_2",WCe="_extraTop_2e79r_12",YCe="_backIcon_2e79r_24",qCe="_mainContainer_2e79r_46",KCe="_mainTab_2e79r_53",ZCe="_mainTab_bgm_2e79r_61",JCe="_mainTab_unselect_bgm_2e79r_70",QCe="_mainTab_cg_2e79r_79",eTe="_mainTab_unselect_cg_2e79r_88",tTe="_bgmContainer_2e79r_97",rTe="_bgmListContainer_2e79r_103",nTe="_bgmElement_2e79r_111",iTe="_bgmName_2e79r_122",aTe="_bgm_item_name_2e79r_132",oTe="_bgm_sound_wrapper_2e79r_140",sTe="_bgm_sound_unselect_2e79r_148",lTe="_bgm_sound_select_2e79r_153",uTe="_bgmLocked_2e79r_158",fTe="_bgmUnlocked_2e79r_162",cTe="_footer_2e79r_171",hTe="_footer_page_container_2e79r_181",dTe="_footer_page_indicator_2e79r_186",pTe="_footer_page_icon_checked_2e79r_194",vTe="_footer_page_icon_unchecked_2e79r_199",mTe="_cgMain_2e79r_212",gTe="_cgContainer_2e79r_217",_Te="_cgElement_2e79r_225",yTe="_cgUnLockElement_2e79r_232",xTe="_unlockedCGImg_2e79r_237",bTe="_cgShowDiv_2e79r_244",ETe="_cgShowDivWarpper_2e79r_253",wTe="_cgNav_2e79r_262",STe="_cgNav_active_2e79r_281",CTe="_showFullContainer_2e79r_291",TTe="_showFullCgMain_2e79r_304",ATe="_fullCgIn_2e79r_1",ITe="_Btn_2e79r_325",RTe="_Btn_r_2e79r_339",PTe="_extra_icon_softin_2e79r_1",OTe="_bgmElement_In_2e79r_1",dt={extra:zCe,extraTop:WCe,backIcon:YCe,mainContainer:qCe,mainTab:KCe,mainTab_bgm:ZCe,mainTab_unselect_bgm:JCe,mainTab_cg:QCe,mainTab_unselect_cg:eTe,bgmContainer:tTe,bgmListContainer:rTe,bgmElement:nTe,bgmName:iTe,bgm_item_name:aTe,bgm_sound_wrapper:oTe,bgm_sound_unselect:sTe,bgm_sound_select:lTe,bgmLocked:uTe,bgmUnlocked:fTe,footer:cTe,footer_page_container:hTe,footer_page_indicator:dTe,footer_page_icon_checked:pTe,footer_page_icon_unchecked:vTe,cgMain:mTe,cgContainer:gTe,cgElement:_Te,cgUnLockElement:yTe,unlockedCGImg:xTe,cgShowDiv:bTe,cgShowDivWarpper:ETe,cgNav:wTe,cgNav_active:STe,showFullContainer:CTe,showFullCgMain:TTe,fullCgIn:ATe,Btn:ITe,Btn_r:RTe,extra_icon_softin:PTe,bgmElement_In:OTe},kTe=""+new URL("sound-icon.png",import.meta.url).href,FTe=""+new URL("sound-choose.png",import.meta.url).href,NTe=""+new URL("bgm-locked-bg.png",import.meta.url).href,LTe=""+new URL("bgm-unlock-bg.png",import.meta.url).href,D5=""+new URL("point-active.png",import.meta.url).href,U5=""+new URL("point-default.png",import.meta.url).href;function BTe(){const{playSeClick:t,playSeEnter:e}=Gr(),[r,n]=ye.useState(1),[i,a]=ye.useState([]),o=tt(d=>d.GUI.titleBgm),s=tt(d=>d.userData.appreciationData),f="Title_BGM";let l=f;const u=s.bgm.length;s.bgm.forEach((d,m)=>{d.url===o&&(l=d.name)});const c=Math.ceil(u/8)||1,h=Uo("");l!==f&&l!==h.value&&h.set(l);const p=dr();return ye.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),k.jsxs("div",{className:dt.bgmContainer,children:[k.jsxs("div",{className:dt.bgmListContainer,children:[i.map((d,m)=>k.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(Fx({asset:"titleBgm",value:d.url}))},className:dt.bgmElement,onMouseEnter:e,children:[k.jsxs("div",{className:dt.bgmName,children:[k.jsx("div",{className:dt.bgm_item_name,children:d.name}),k.jsx("div",{className:dt.bgm_sound_wrapper,children:k.jsx("img",{src:d.name===h.value?FTe:kTe,alt:"",className:d.name===h.value?dt.bgm_sound_select:dt.bgm_sound_unselect})})]}),k.jsx("img",{src:LTe,className:dt.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,m)=>k.jsx("div",{className:`${dt.bgmElement}`,style:{cursor:"default"},children:k.jsx("img",{src:NTe,alt:"",className:dt.bgmLocked})},m))]}),k.jsxs("div",{className:dt.footer,children:[k.jsx("div",{className:dt.Btn,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),k.jsx("div",{className:dt.footer_page_container,children:Array.from({length:c}).map((d,m)=>k.jsx("div",{className:dt.footer_page_indicator,children:k.jsx("img",{src:m+1===r?D5:U5,alt:"",className:m+1===r?dt.footer_page_icon_checked:dt.footer_page_icon_unchecked})},m))}),k.jsx("div",{className:`${dt.Btn} ${dt.Btn_r}`,onMouseEnter:e,onClick:()=>{t(),r!==c&&n(r+1)}})]})]})}function MTe(t){const e=Uo(!1),{playSeEnter:r,playSeClick:n}=Gr();return k.jsxs(k.Fragment,{children:[e.value&&k.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:dt.showFullContainer,onMouseEnter:r,children:k.jsx("div",{className:dt.showFullCgMain,children:k.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),k.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${dt.cgElement} ${dt.cgUnLockElement}`,children:k.jsx("div",{className:dt.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const DTe=""+new URL("cg-lock.png",import.meta.url).href;function UTe(){const t=tt(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=Gr(),[n,i]=ye.useState(1),[a,o]=ye.useState([]),s=t.cg.length,f=Math.ceil(s/6)||1;return ye.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),k.jsxs("div",{className:dt.cgMain,children:[k.jsxs("div",{className:dt.cgContainer,children:[a.map((l,u)=>k.jsx(MTe,{name:l.name,imgUrl:"./game/background/Ch00/Yf_cg003.png"},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>k.jsx("div",{className:dt.cgElement,style:{cursor:"default"},children:k.jsx("img",{src:DTe,alt:"",style:{width:"100%"}})},u))]}),k.jsxs("div",{className:dt.footer,children:[k.jsx("div",{className:dt.Btn,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),k.jsx("div",{className:dt.footer_page_container,children:Array.from({length:f}).map((l,u)=>k.jsx("div",{className:dt.footer_page_indicator,children:k.jsx("img",{src:u+1===n?D5:U5,alt:"",className:u+1===n?dt.footer_page_icon_checked:dt.footer_page_icon_unchecked})},u))}),k.jsx("div",{className:`${dt.Btn} ${dt.Btn_r}`,onMouseEnter:e,onClick:()=>{r(),n!==f&&i(n+1)}})]})]})}const jTe=""+new URL("gallery-bg.webp",import.meta.url).href;function $Te(){const{playSeClick:t,playSeEnter:e}=Gr(),r=tt(o=>o.GUI.showExtra),n=dr(),[i,a]=ye.useState("bgm");return ye.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),k.jsx(k.Fragment,{children:r&&k.jsxs("div",{className:dt.extra,style:{background:`url(${jTe}) no-repeat center center`,backgroundSize:"cover"},children:[k.jsx("div",{className:dt.extraTop,children:k.jsx("div",{className:dt.backIcon,onClick:()=>{n(it({component:"showExtra",visibility:!1})),t()},onMouseEnter:e})}),k.jsxs("div",{className:dt.mainContainer,children:[k.jsxs("div",{className:dt.mainTab,children:[i==="bgm"?k.jsx("span",{className:dt.mainTab_bgm}):k.jsx("span",{className:dt.mainTab_unselect_bgm,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?k.jsx("span",{className:dt.mainTab_cg}):k.jsx("span",{className:dt.mainTab_unselect_cg,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?k.jsx(BTe,{}):k.jsx(UTe,{})]})]})})}const VTe="_tag_yghix_2",GTe="_container_yghix_17",XTe="_showContainer_yghix_1",HTe="_singleButton_yghix_33",zTe="_button_text_yghix_37",nn={tag:VTe,container:GTe,showContainer:XTe,singleButton:HTe,button_text:zTe},WTe=()=>{const t=Uo(!1),e=tt(a=>a.stage),r=dr(),n=(a,o)=>{r(it({component:a,visibility:o}))},i=a=>{r(Cs(a))};return k.jsx(k.Fragment,{children:e.enableFilm!==""&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:nn.tag,onClick:()=>{t.set(!t.value)},children:k.jsx(dSe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&k.jsxs("div",{className:nn.container,children:[k.jsx("span",{className:nn.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:k.jsx("span",{className:nn.button_text,children:"剧情回想 / BACKLOG"})}),k.jsx("span",{className:nn.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:k.jsx("span",{className:nn.button_text,children:"重播语音 / REPLAY VOICE"})}),k.jsx("span",{id:"Button_ControlPanel_auto",className:nn.singleButton,onClick:()=>{iD(),t.set(!t.value)},children:k.jsx("span",{className:nn.button_text,children:"自动模式 / AUTO"})}),k.jsx("span",{id:"Button_ControlPanel_fast",className:nn.singleButton,onClick:()=>{lD(),t.set(!t.value)},children:k.jsx("span",{className:nn.button_text,children:"快进 / FAST"})}),k.jsx("span",{className:nn.singleButton,onClick:()=>{t.set(!t.value),i(zt.Save),n("showMenuPanel",!0)},children:k.jsx("span",{className:nn.button_text,children:"存档 / SAVE"})}),k.jsx("span",{className:nn.singleButton,onClick:()=>{t.set(!t.value),i(zt.Load),n("showMenuPanel",!0)},children:k.jsx("span",{className:nn.button_text,children:"读档 / LOAD"})}),k.jsx("span",{className:nn.singleButton,onClick:()=>{t.set(!t.value),i(zt.Option),n("showMenuPanel",!0)},children:k.jsx("span",{className:nn.button_text,children:"选项 / OPTIONS"})}),k.jsx("span",{className:nn.singleButton,onClick:()=>{t.set(!t.value),Ah()},children:k.jsx("span",{className:nn.button_text,children:"标题 / TITLE"})})]})]})})},YTe="_devPanelMain_11x6i_1",qTe="_devPanelOpener_11x6i_13",lF={devPanelMain:YTe,devPanelOpener:qTe};function KTe(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function ZTe(){function t(){return!!window.location.hash.match(/dev/)}const e=Uo(!1),r=Uo(window.location.hash),n=tt(f=>f.stage);ye.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=Ev(),s=k.jsxs(k.Fragment,{children:[k.jsx("div",{onClick:()=>KTe(),children:"Save PIXI Screenshot"}),k.jsxs("div",{children:["Current Language:",o.language]}),k.jsx("div",{onClick:()=>{var f;return(f=z.gameplay.pixiStage)==null?void 0:f.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),k.jsx("div",{children:"Stage State"}),k.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return k.jsxs(k.Fragment,{children:[i&&e.value&&k.jsxs("div",{className:lF.devPanelMain,children:[k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:"×"}),k.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),k.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&k.jsx("div",{onClick:()=>e.set(!0),className:lF.devPanelOpener,children:"Open Dev Panel"})]})}function JTe(t){return Lu[t]}function QTe(){const{i18n:t}=Ev(),e=$u(n=>n.userData),r=dr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Lu.zhCn,o=JTe(a);t.changeLanguage(o),r(ji({key:"language",value:a})),je.info("设置语言: "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&yn()}}const eAe="_trans_8uz61_2",tAe="_langWrapper_8uz61_10",rAe="_lang_8uz61_10",nAe="_langSelect_8uz61_29",iAe="_langSelectButton_8uz61_35",If={trans:eAe,langWrapper:tAe,lang:rAe,langSelect:nAe,langSelectButton:iAe};function aAe(){const t=QTe(),[e,r]=ye.useState(!1);ye.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return k.jsx(k.Fragment,{children:e&&k.jsx("div",{className:If.trans,children:k.jsxs("div",{className:If.langWrapper,children:[k.jsx("div",{className:If.lang,children:"LANGUAGE SELECT"}),k.jsx("div",{className:If.langSelect,children:Object.keys(zA).map(i=>k.jsx("div",{className:If.langSelectButton,onClick:()=>n(Lu[i]),children:zA[i]},i))})]})})})}const oAe=()=>{const t=tt(n=>n.GUI),[e,r]=ye.useState(!1);return ye.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function sAe(){const t=tt(i=>i.userData),e=tt(i=>i.GUI);dr();const r=t.optionData.fullScreen,n=e.isEnterGame;ye.useEffect(()=>{switch(r){case da.on:{n&&(document.documentElement.requestFullscreen(),kl&&kl.lock(["Escape","F11"]));break}case da.off:{document.fullscreenElement&&(document.exitFullscreen(),kl&&kl.unlock());break}}},[r])}const lAe="_gameMenuPanelWrapper_1bdvx_1",uAe="_gameMenuPanel_1bdvx_1",fAe="_menuButton_1bdvx_12",cAe="_gameMenuPanelContentWrapper_1bdvx_26",hAe="_mask_1bdvx_34",dAe="_gameMenuPanelContent_1bdvx_26",pAe="_buttonswrapper_1bdvx_54",vAe="_button_1bdvx_54",Fi={gameMenuPanelWrapper:lAe,gameMenuPanel:uAe,menuButton:fAe,gameMenuPanelContentWrapper:cAe,mask:hAe,gameMenuPanelContent:dAe,buttonswrapper:pAe,button:vAe},mAe=()=>{const t=Ya("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=Gr(),i=tt(_=>_.GUI),[a,o]=ye.useState(!1);ye.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const s=dr(),f=(_,v)=>{s(it({component:_,visibility:v}))},l=_=>{s(Cs(_))},u=()=>{r(),f("isShowGameMenu",!0)},c=()=>{r(),f("isShowGameMenu",!1)},h=()=>{r(),l(zt.Save),f("isShowGameMenu",!1),f("showMenuPanel",!0)},p=()=>{l(zt.Load),f("isShowGameMenu",!1),f("showMenuPanel",!0),r()},d=()=>{l(zt.Option),f("isShowGameMenu",!1),f("showMenuPanel",!0),r()},m=()=>{n(),pC({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{f("isShowGameMenu",!1),Ah()}})};return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Fi.gameMenuPanel,children:k.jsx("div",{className:Fi.menuButton,onClick:u,onMouseEnter:e})}),a&&k.jsxs("div",{className:Fi.gameMenuPanelContentWrapper,children:[k.jsx("div",{className:Fi.mask}),k.jsx("div",{className:Fi.gameMenuPanelContent,children:k.jsxs("div",{className:Fi.buttonswrapper,children:[k.jsx("span",{className:Fi.button,onMouseEnter:e,onClick:c,children:t("buttons.backToGame")}),k.jsx("span",{className:Fi.button,onMouseEnter:e,onClick:h,children:t("buttons.preserve")}),k.jsx("span",{className:Fi.button,onMouseEnter:e,onClick:p,children:t("buttons.read")}),k.jsx("span",{className:Fi.button,onMouseEnter:e,onClick:d,children:t("buttons.setting")}),k.jsx("span",{className:Fi.button,onMouseEnter:e,onClick:m,children:t("buttons.backToTitle")})]})})]})]})},gAe="_Loading_container_4mfnk_2",_Ae="_spin_4mfnk_1",yAe={Loading_container:gAe,spin:_Ae};function xAe(){const[t,e]=ye.useState(!1);return ye.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?k.jsx("div",{className:yAe.Loading_container,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[k.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[k.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),k.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("defs",{children:k.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[k.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),k.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),k.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}const bAe="_storyLine_1cwxi_2",EAe="_storyLine_header_1cwxi_11",wAe="_goBack_1cwxi_18",SAe="_title_1cwxi_26",CAe="_storyLine_content_1cwxi_31",TAe="_storyLine_item_1cwxi_39",AAe="_info_card_1cwxi_49",IAe="_playButton_icon_1cwxi_69",RAe="_name_1cwxi_83",Na={storyLine:bAe,storyLine_header:EAe,goBack:wAe,title:SAe,storyLine_content:CAe,storyLine_item:TAe,info_card:AAe,playButton_icon:IAe,name:RAe},PAe=()=>{const{playSeClick:t,playSeEnter:e}=Gr(),r=dr(),n=tt(f=>f.GUI),i=tt(f=>f.stage),a=tt(f=>f.saveData.unlockStorylineList);ye.useEffect(()=>{rS(),n.showStoryLine&&r(Jt.setShowStoryline(!1))},[n.showStoryLine]);const o=()=>{t(),Ah(),r(Nx(!1))},s=(f,l)=>{f.stopPropagation(),r(Nx(!1)),uS(l.videoData)};return k.jsx(k.Fragment,{children:n.showStoryLine&&k.jsxs("div",{className:Na.storyLine,children:[k.jsxs("div",{className:Na.storyLine_header,children:[k.jsx("span",{className:Na.goBack,onClick:o,onMouseEnter:e,children:"返回"}),k.jsx("span",{className:Na.title,children:"故事线"})]}),k.jsx("div",{className:Na.storyLine_content,style:{width:i.storyLineBgX,backgroundImage:`url("${i.storyLineBg}")`,backgroundSize:i.storyLineBgX&&i.storyLineBgY&&`${i.storyLineBgX} ${i.storyLineBgY.includes("720")?"100%":i.storyLineBgY}`},children:(a==null?void 0:a.map((f,l)=>{const{name:u,thumbnailUrl:c,x:h,y:p,isUnlock:d}=f.storyLine;return d?k.jsx("div",{className:Na.storyLine_item,style:c?{top:`${p}px`,left:`${h}px`,backgroundImage:`url("${c}")`}:{},onClick:m=>s(m,f),children:k.jsxs("div",{className:Na.info_card,children:[k.jsx("span",{className:Na.playButton_icon}),k.jsx("span",{className:Na.name,children:u})]})},`storyLine-${l}`):null}))??null})]})})},OAe="_achievement_1voay_1",kAe="_achievement_header_1voay_12",FAe="_goback_1voay_20",NAe="_title_1voay_29",LAe="_achievement_content_1voay_33",BAe="_achievement_current_1voay_40",MAe="_text_1voay_51",DAe="_number_1voay_56",UAe="_pregessBar_1voay_61",jAe="_pregressBar_inner_1voay_69",$Ae="_achievement_content_bg_1voay_77",VAe="_achievement_list_1voay_85",GAe="_achievement_item_1voay_89",XAe="_unlockname_1voay_104",HAe="_ripple_1voay_121",zAe="_info_card_1voay_124",WAe="_condition_1voay_156",YAe="_condition_bg_active_1voay_165",qAe="_time_1voay_168",KAe="_description_1voay_169",ZAe="_info_card_position_right_1voay_174",JAe="_achievement_item_bg_active_1voay_178",br={achievement:OAe,achievement_header:kAe,goback:FAe,title:NAe,achievement_content:LAe,achievement_current:BAe,text:MAe,number:DAe,pregessBar:UAe,pregressBar_inner:jAe,achievement_content_bg:$Ae,achievement_list:VAe,achievement_item:GAe,unlockname:XAe,ripple:HAe,"ripple-effect":"_ripple-effect_1voay_1",info_card:zAe,condition:WAe,condition_bg_active:YAe,time:qAe,description:KAe,info_card_position_right:ZAe,achievement_item_bg_active:JAe},QAe=()=>{var d,m;const{playSeClick:t,playSeEnter:e}=Gr(),r=tt(_=>_.GUI),n=tt(_=>_.stage),i=tt(_=>_.saveData),a=dr(),[o,s]=ye.useState({unlocked:0,allTotal:0,currentProgress:"0%"});ye.useEffect(()=>{r.showAchievement&&(le.dispatch(Jt.setIsShowUnlock(!1)),f())},[r.showAchievement]);async function f(){const _=kr(Yl.Achieve,Or.scene),v=await hi(_);await z.sceneManager.setCurrentScene(v,Yl.Achieve,_),setTimeout(()=>{l()},100)}async function l(){var x;const _=le.getState().saveData.allUnlockAchieveList,v=((x=le.getState().saveData.unlockAchieveData)==null?void 0:x.length)??0,g=_.length||0,y=(v/g*100).toFixed(2)+"%";s({unlocked:v,allTotal:g,currentProgress:y})}const u=_=>kr(_,Or.ui),c=(_,v)=>{let g=parseFloat(v==null?void 0:v.replace(/[^0-9.]/g,""));return _+500>=g},h=(_,v)=>{let g=parseFloat(v==null?void 0:v.replace(/[^0-9.]/g,""));return _>=g?g-100:_},p=()=>{t(),Ah(),a(it({component:"showAchievement",visibility:!1}))};return k.jsx(k.Fragment,{children:r.showAchievement&&k.jsxs("div",{className:br.achievement,children:[k.jsxs("div",{className:br.achievement_header,children:[k.jsx("span",{className:br.goback,onClick:p,onMouseEnter:e,children:"返回"}),k.jsx("span",{className:br.title,children:"成就"})]}),k.jsx("div",{className:br.achievement_content,children:k.jsxs("div",{className:br.achievement_current,children:[k.jsx("span",{className:br.text,children:"已获得成就"}),k.jsx("span",{className:br.number,children:`${o.unlocked}/${o.allTotal}`}),k.jsx("span",{className:br.pregessBar,children:k.jsx("span",{className:br.pregressBar_inner,style:{width:o.currentProgress}})})]})}),k.jsx("div",{className:br.achievement_content_bg,style:{width:n.achieveBgX,backgroundImage:`url("${n.achieveBg}")`,backgroundSize:n.achieveBgX&&n.achieveBgY&&`${n.achieveBgX} ${n.achieveBgY.includes("720")?"100%":n.achieveBgY}`},children:((d=i.allUnlockAchieveList)==null?void 0:d.length)>0&&k.jsx("div",{className:br.achievement_list,children:((m=i.allUnlockAchieveList)==null?void 0:m.map(({unlockname:_,x:v,y:g,url:y,isShowUnlock:x,saveTime:b,condition:E},w)=>k.jsxs("div",{className:`${br.achievement_item} ${x?br.achievement_item_bg_active:""}`,style:{top:`${g}px`,left:`${h(v,n.achieveBgX)}px`,backgroundImage:`url("${x&&u(y)}")`},children:[x&&k.jsx("div",{className:br.ripple}),x&&k.jsx("span",{className:br.unlockname,children:_}),k.jsxs("div",{className:`${br.info_card} ${c(v,n.achieveBgX)?br.info_card_position_right:""}`,children:[E&&k.jsx("span",{className:`${br.condition} ${x?br.condition_bg_active:""}`,children:E}),b&&k.jsx("span",{className:br.time,children:`${b}达成`}),k.jsxs("span",{className:br.description,children:[`${Math.floor(Math.random()*101)}%`,"玩家已达成"]})]})]},`unlockAchieveItem-${w}`)))??null})})]})})};var ap=(t=>(t.Video="video",t.Image="image",t))(ap||{});const eIe=[{name:"Una",pictureUrl:"",height:"168cm",weight:"48kg",bustSize:"90cm",waistSize:"58cm",hipSize:"86cm",description:"这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]},{name:"Nanyi",pictureUrl:"",height:"175cm",weight:"45kg",bustSize:"95cm",waistSize:"54cm",hipSize:"85cm",description:"这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]},{name:"Bonni",pictureUrl:"",height:"172cm",weight:"47kg",bustSize:"93cm",waistSize:"55cm",hipSize:"88cm",description:"这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。这是一段描述文字，字数控制在300字以内。",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]}],tIe="_beautyGuideImageDialog_1utrw_1",rIe="_mark_1utrw_10",nIe="_content_1utrw_21",iIe="_imgWrapper_1utrw_33",aIe="_fade_1utrw_1",oIe="_btnsWrapper_1utrw_45",sIe="_btn_1utrw_45",lIe="_btn_prev_disabled_1utrw_64",uIe="_btn_next_disabled_1utrw_65",fIe="_btn_txt_1utrw_72",Ni={beautyGuideImageDialog:tIe,mark:rIe,content:nIe,imgWrapper:iIe,fade:aIe,btnsWrapper:oIe,btn:sIe,btn_prev_disabled:lIe,btn_next_disabled:uIe,btn_txt:fIe},cIe=t=>{var c;const e=dr(),{playSeClick:r,playSeEnter:n}=Gr(),[i,a]=ye.useState((t==null?void 0:t.imgUrl)??""),[o,s]=ye.useState(0);ye.useEffect(()=>{var h;if(((h=t.imgList)==null?void 0:h.length)>0){const p=t.imgList.findIndex(d=>d.url===t.imgUrl);p>-1&&s(p)}},[t.imgList]);const f=()=>{r(),e(it({component:"showBeautyGuideImageDialog",visibility:!1}))},l=()=>{r();const h=o-1;h<0||(s(h),a(t.imgList[h].url))},u=()=>{r();const h=o+1;h>t.imgList.length-1||(s(h),a(t.imgList[h].url))};return k.jsxs("div",{className:Ni.beautyGuideImageDialog,children:[k.jsx("div",{className:Ni.mark,onClick:f}),k.jsxs("div",{className:Ni.content,children:[k.jsx("div",{className:Ni.imgWrapper,children:t.imgList&&t.imgList.map((h,p)=>h.type===ap.Image&&p===o?k.jsx("img",{src:h.url,className:Ni.transitionImage},`img-${p}`):null)}),k.jsxs("div",{className:Ni.btnsWrapper,children:[k.jsx("span",{className:`${Ni.btn} ${o<1?Ni.btn_prev_disabled:""}`,onMouseEnter:n,onClick:l,children:"上一个"}),k.jsxs("span",{className:Ni.btn_txt,children:[o+1,"/",((c=t.imgList)==null?void 0:c.length)??0,"张截图"]}),k.jsx("span",{className:`${Ni.btn} ${o+1>=t.imgList.length?Ni.btn_next_disabled:""}`,onMouseEnter:n,onClick:u,children:"下一个"})]})]})]})},hIe="_beautyGuideDetail_main_16299_2",dIe="_beautyGuideDetail_left_16299_16",pIe="_header_16299_24",vIe="_goback_16299_31",mIe="_title_16299_47",gIe="_pictureUrl_16299_51",_Ie="_personal_info_16299_62",yIe="_name_16299_66",xIe="_info_16299_73",bIe="_beautyGuideDetail_right_16299_91",EIe="_contentWrapper_16299_98",wIe="_content_16299_98",SIe="_content_img_16299_111",CIe="_thumbnailWrapper_16299_122",TIe="_thumbnail_box_16299_133",AIe="_video_mark_16299_159",IIe="_desc_text_16299_170",Ir={beautyGuideDetail_main:hIe,beautyGuideDetail_left:dIe,header:pIe,goback:vIe,title:mIe,pictureUrl:gIe,personal_info:_Ie,name:yIe,info:xIe,beautyGuideDetail_right:bIe,contentWrapper:EIe,content:wIe,content_img:SIe,thumbnailWrapper:CIe,thumbnail_box:TIe,video_mark:AIe,desc_text:IIe},RIe=t=>{var h,p,d,m,_,v,g,y,x,b;const e=dr(),{playSeClick:r,playSeEnter:n}=Gr(),i=tt(E=>E.GUI),[a,o]=ye.useState(null),[s,f]=ye.useState("");ye.useEffect(()=>{var w;const E=t.info;E!=null&&E.contentList&&((w=E==null?void 0:E.contentList)==null?void 0:w.length)>0&&o(E.contentList[0])},[t]);const l=ye.useMemo(()=>{var S;let E=[];const w=t.info;return w!=null&&w.contentList&&((S=w==null?void 0:w.contentList)==null?void 0:S.length)>0&&(E=w.contentList.filter(C=>C.type===ap.Image)),E},[]),u=()=>{r(),e(it({component:"showBeautyGuideDetail",visibility:!1}))},c=E=>{r(),f(E),e(it({component:"showBeautyGuideImageDialog",visibility:!0}))};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:Ir.beautyGuideDetail_main,children:[k.jsxs("div",{className:Ir.beautyGuideDetail_left,children:[k.jsxs("div",{className:Ir.header,children:[k.jsx("span",{className:Ir.goback,onClick:u,onMouseEnter:n}),k.jsx("span",{className:Ir.title,children:"个人档案馆"})]}),k.jsx("div",{className:Ir.pictureUrl,children:k.jsx("img",{src:((h=t.info)==null?void 0:h.pictureUrl)??"",alt:""})}),k.jsxs("div",{className:Ir.personal_info,children:[k.jsx("h3",{className:Ir.name,children:((p=t.info)==null?void 0:p.name)??""}),k.jsxs("div",{className:Ir.info,children:[k.jsx("span",{children:"身高"}),k.jsx("span",{children:((d=t.info)==null?void 0:d.height)??"-"})]}),k.jsxs("div",{className:Ir.info,children:[k.jsx("span",{children:"体重"}),k.jsx("span",{children:((m=t.info)==null?void 0:m.weight)??"-"})]}),k.jsxs("div",{className:Ir.info,children:[k.jsx("span",{children:"胸围"}),k.jsx("span",{children:((_=t.info)==null?void 0:_.bustSize)??"-"})]}),k.jsxs("div",{className:Ir.info,children:[k.jsx("span",{children:"腰围"}),k.jsx("span",{children:((v=t.info)==null?void 0:v.waistSize)??"-"})]}),k.jsxs("div",{className:Ir.info,children:[k.jsx("span",{children:"臀围"}),k.jsx("span",{children:((g=t.info)==null?void 0:g.hipSize)??"-"})]})]})]}),k.jsxs("div",{className:Ir.beautyGuideDetail_right,children:[k.jsxs("div",{className:Ir.contentWrapper,children:[k.jsx("div",{className:Ir.content,children:a&&k.jsxs(k.Fragment,{children:[a.type==="video"&&k.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,children:k.jsx("source",{src:a.url,type:"video/mp4"})},a.url),a.type==="image"&&k.jsx("img",{className:Ir.content_img,src:a.url,onClick:()=>{c(a.url)}})]})}),k.jsx("div",{className:Ir.thumbnailWrapper,children:k.jsx("div",{children:((x=(y=t.info)==null?void 0:y.contentList)==null?void 0:x.map((E,w)=>k.jsxs("div",{className:Ir.thumbnail_box,onClick:()=>{o(E)},children:[k.jsx("img",{src:E.thumbnailUrl,alt:""}),E.type===ap.Video&&k.jsx("div",{className:Ir.video_mark,children:k.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:k.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${w}`)))??null})})]}),k.jsx("div",{className:Ir.desc_text,children:k.jsx("span",{children:((b=t.info)==null?void 0:b.description)??""})})]})]}),i.showBeautyGuideImageDialog&&k.jsx(cIe,{imgUrl:s,imgList:l})]})},PIe="_beautyGuide_main_s992l_1",OIe="_beautyGuide_header_s992l_15",kIe="_goback_s992l_22",FIe="_title_s992l_37",NIe="_beautyGuide_content_s992l_43",LIe="_item_s992l_50",gl={beautyGuide_main:PIe,beautyGuide_header:OIe,goback:kIe,title:FIe,beautyGuide_content:NIe,item:LIe},BIe=()=>{const t=dr(),e=tt(f=>f.GUI),{playSeClick:r,playSeEnter:n}=Gr(),[i,a]=ye.useState(null),o=()=>{r(),a(null),t(it({component:"showBeautyGuide",visibility:!1}))},s=f=>{r(),a(f),t(it({component:"showBeautyGuideDetail",visibility:!0}))};return k.jsxs(k.Fragment,{children:[e.showBeautyGuide&&k.jsxs("div",{className:gl.beautyGuide_main,children:[k.jsxs("div",{className:gl.beautyGuide_header,children:[k.jsx("span",{className:gl.goback,onClick:o,onMouseEnter:n}),k.jsx("span",{className:gl.title,children:"美女图鉴"})]}),k.jsx("div",{className:gl.beautyGuide_content,children:eIe.map((f,l)=>k.jsx("div",{className:gl.item,onClick:()=>s(f),onMouseEnter:n,children:k.jsx("img",{src:f.pictureUrl})},`${f.name}$-${l}`))})]}),e.showBeautyGuideDetail&&k.jsx(RIe,{info:i})]})},MIe="_modalR18_main_11s2u_1",DIe="_footer_11s2u_13",uF={modalR18_main:MIe,footer:DIe},UIe=""+new URL("r18-exit-btn-default.png",import.meta.url).href,jIe=""+new URL("r18-exit-btn-active.png",import.meta.url).href,$Ie=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,VIe=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,GIe=()=>{Ya("r18.");const t=dr(),e=tt(d=>d.GUI),{playSeClick:r,playSeEnter:n}=Gr(),[i,a]=ye.useState(!1),[o,s]=ye.useState(!1),[f,l]=ye.useState({width:void 0,height:void 0,opacity:0}),[u,c]=ye.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(BM(!1))},p=()=>{r(),window.location.href="/"};return k.jsx(k.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&k.jsx("div",{className:uF.modalR18_main,children:k.jsxs("div",{className:uF.footer,children:[k.jsx("div",{id:"exitButton",children:k.jsx("img",{src:i?jIe:UIe,onClick:p,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:d=>{l({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:f})}),k.jsx("div",{id:"confirmButton",children:k.jsx("img",{src:o?VIe:$Ie,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:d=>{c({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:u})})]})})})};function XIe(){return ye.useEffect(()=>{qwe()},[]),sAe(),k.jsxs("div",{className:"App",children:[k.jsx(xAe,{}),k.jsx(aAe,{}),k.jsx(VCe,{}),k.jsx(mAe,{}),k.jsx(GCe,{}),k.jsx(WTe,{}),k.jsx(XCe,{}),k.jsx(tde,{}),k.jsx(sde,{}),k.jsx($Te,{}),k.jsx(S2e,{}),k.jsx(TSe,{}),k.jsx(oAe,{}),k.jsx(ZTe,{}),k.jsx(PAe,{}),k.jsx(QAe,{}),k.jsx(BIe,{}),k.jsx(GIe,{})]})}function Oo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qb(t,e)}function qv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function Ih(t,e){if(e&&(fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oo(t)}function ba(t){return ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ba(t)}function HIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zIe(t){return GM(t)||HIe(t)||XM(t)||HM()}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WIe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},YIe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yi(this,t),this.init(e,r)}return qi(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||WIe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,cF(cF({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),ua=new YIe,Vo=function(){function t(){Yi(this,t),this.observers={}}return qi(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(f){f.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(f){f.apply(f,[r].concat(i))})}}}]),t}();function Rf(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function hF(t){return t==null?"":""+t}function qIe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function vC(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function dF(t,e,r){var n=vC(t,e,Object),i=n.obj,a=n.k;i[a]=r}function KIe(t,e,r,n){var i=vC(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function op(t,e){var r=vC(t,e),n=r.obj,i=r.k;if(n)return n[i]}function ZIe(t,e,r){var n=op(t,r);return n!==void 0?n:op(e,r)}function j5(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):j5(t[n],e[n],r):t[n]=e[n]);return t}function _l(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var JIe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function QIe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return JIe[e]}):t}var Kv=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,eRe=[" ",",","?","!",";"];function tRe(t,e,r){e=e||"",r=r||"";var n=eRe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function sp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),f=i[s];f===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),f=i[s];if(f===void 0)return;if(f===null)return null;if(e.endsWith(s)){if(typeof f=="string")return f;if(s&&typeof f[s]=="string")return f[s]}var l=n.slice(a+o).join(r);return l?sp(f,l,r):void 0}i=i[n[a]]}return i}}function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ed(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rRe(t){var e=nRe();return function(){var n=ba(t),i;if(e){var a=ba(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ih(this,i)}}function nRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var iRe=function(t){qv(r,t);var e=rRe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Yi(this,r),i=e.call(this),Kv&&Vo.call(Oo(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return qi(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(f?o.split(f):o)),i.indexOf(".")>-1&&(u=i.split("."));var c=op(this.data,u);return c||!l||typeof o!="string"?c:sp(this.data&&this.data[i]&&this.data[i][a],o,f)}},{key:"addResource",value:function(i,a,o,s){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),dF(this.data,u,s),f.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var f in o)(typeof o[f]=="string"||Object.prototype.toString.apply(o[f])==="[object Array]")&&this.addResource(i,a,f,o[f],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,f){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var c=op(this.data,u)||{};s?j5(c,o,f):c=Ed(Ed({},c),o),dF(this.data,u,c),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ed(Ed({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Vo),$5={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aRe(t){var e=oRe();return function(){var n=ba(t),i;if(e){var a=ba(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ih(this,i)}}function oRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var mF={},gF=function(t){qv(r,t);var e=aRe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yi(this,r),i=e.call(this),Kv&&Vo.call(Oo(i)),qIe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Oo(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ua.create("translator"),i}return qi(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,f=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!tRe(i,o,s);if(l&&!u){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:f};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(f=h.shift()),i=h.join(s)}return typeof f=="string"&&(f=[f]),{key:i,namespaces:f}}},{key:"translate",value:function(i,a,o){var s=this;if(fn(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),fn(a)==="object"&&(a=Tn({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var f=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),c=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(m){var _=a.nsSeparator||this.options.nsSeparator;return f?{res:"".concat(p).concat(_).concat(c),usedKey:c,exactUsedKey:c,usedLng:d,usedNS:p}:"".concat(p).concat(_).concat(c)}return f?{res:c,usedKey:c,exactUsedKey:c,usedLng:d,usedNS:p}:c}var v=this.resolve(i,a),g=v&&v.res,y=v&&v.usedKey||c,x=v&&v.exactUsedKey||c,b=Object.prototype.toString.apply(g),E=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,C=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(S&&g&&C&&E.indexOf(b)<0&&!(typeof w=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,Tn(Tn({},a),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return f?(v.res=T,v):T}if(l){var I=b==="[object Array]",A=I?[]:{},R=I?x:y;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var F="".concat(R).concat(l).concat(O);A[O]=this.translate(F,Tn(Tn({},a),{joinArrays:!1,ns:h})),A[O]===F&&(A[O]=g[O])}g=A}}else if(S&&typeof w=="string"&&b==="[object Array]")g=g.join(w),g&&(g=this.extendTranslation(g,i,a,o));else{var N=!1,$=!1,q=a.count!==void 0&&typeof a.count!="string",K=r.hasDefaultValue(a),G=q?this.pluralResolver.getSuffix(d,a.count,a):"",L=a["defaultValue".concat(G)]||a.defaultValue;!this.isValidLookup(g)&&K&&(N=!0,g=L),this.isValidLookup(g)||($=!0,g=c);var j=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=j&&$?void 0:g,D=K&&L!==g&&this.options.updateMissing;if($||N||D){if(this.logger.log(D?"updateKey":"missingKey",d,p,c,D?L:g),l){var J=this.resolve(c,Tn(Tn({},a),{},{keySeparator:!1}));J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Q=[],se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(var re=0;re<se.length;re++)Q.push(se[re]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(a.lng||this.language):Q.push(a.lng||this.language);var fe=function(Ee,pe,ve){var Ae=K&&ve!==g?ve:M;s.options.missingKeyHandler?s.options.missingKeyHandler(Ee,p,pe,Ae,D,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Ee,p,pe,Ae,D,a),s.emit("missingKey",Ee,p,pe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?Q.forEach(function(we){s.pluralResolver.getSuffixes(we,a).forEach(function(Ee){fe([we],c+Ee,a["defaultValue".concat(Ee)]||L)})}):fe(Q,c,L))}g=this.extendTranslation(g,i,a,v,o),$&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(p,":").concat(c)),($||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(c):c,N?g:void 0):g=this.options.parseMissingKeyHandler(g))}return f?(v.res=g,v):g}},{key:"extendTranslation",value:function(i,a,o,s,f){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Tn(Tn({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Tn(Tn({},o),{interpolation:Tn(Tn({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=Tn(Tn({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),m=d&&d.length;c<m&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return f&&f[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var _=o.postProcess||this.options.postProcess,v=typeof _=="string"?[_]:_;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=$5.handle(v,i,a,this.options&&this.options.postProcessPassResolved?Tn({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,f,l,u,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;f=d;var m=p.namespaces;a.options.fallbackNS&&(m=m.concat(a.options.fallbackNS));var _=o.count!==void 0&&typeof o.count!="string",v=_&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);m.forEach(function(x){a.isValidLookup(s)||(c=x,!mF["".concat(y[0],"-").concat(x)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(c)&&(mF["".concat(y[0],"-").concat(x)]=!0,a.logger.warn('key "'.concat(f,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(b){if(!a.isValidLookup(s)){u=b;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,b,x,o);else{var w;_&&(w=a.pluralResolver.getSuffix(b,o.count,o));var S="".concat(a.options.pluralSeparator,"zero");if(_&&(E.push(d+w),v&&E.push(d+S)),g){var C="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(C),_&&(E.push(C+w),v&&E.push(C+S))}}for(var T;T=E.pop();)a.isValidLookup(s)||(l=T,s=a.getResource(b,x,T,o))}}))})}}),{res:s,usedKey:f,exactUsedKey:l,usedLng:u,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Vo);function _y(t){return t.charAt(0).toUpperCase()+t.slice(1)}var _F=function(){function t(e){Yi(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ua.create("languageUtils")}return qi(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_y(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_y(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=_y(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(f){o.indexOf(f)<0&&s(i.formatLanguageCode(f))}),o}}]),t}(),sRe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lRe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},uRe=["v1","v2","v3"],yF={zero:0,one:1,two:2,few:3,many:4,other:5};function fRe(){var t={};return sRe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:lRe[e.fc]}})}),t}var cRe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yi(this,t),this.languageUtils=e,this.options=r,this.logger=ua.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=fRe()}return qi(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return yF[o]-yF[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!uRe.includes(this.options.compatibilityJSON)}}]),t}();function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bF(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=ZIe(t,e,r);return!a&&i&&typeof r=="string"&&(a=sp(t,r,n),a===void 0&&(a=sp(e,r,n))),a}var hRe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yi(this,t),this.logger=ua.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return qi(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:QIe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?_l(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?_l(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?_l(n.nestingPrefix):n.nestingPrefixEscaped||_l("$t("),this.nestingSuffix=n.nestingSuffix?_l(n.nestingSuffix):n.nestingSuffixEscaped||_l(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,f,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(_){return _.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var g=bF(n,u,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(g,void 0,i,Li(Li(Li({},a),n),{},{interpolationkey:v})):g}var y=v.split(o.formatSeparator),x=y.shift().trim(),b=y.join(o.formatSeparator).trim();return o.format(bF(n,u,x,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,Li(Li(Li({},a),n),{},{interpolationkey:x}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return c(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?c(o.escape(v)):c(v)}}];return m.forEach(function(_){for(l=0;s=_.regex.exec(r);){var v=s[1].trim();if(f=h(v),f===void 0)if(typeof p=="function"){var g=p(r,s,a);f=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))f="";else if(d){f=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),f="";else typeof f!="string"&&!o.useRawValueToEscape&&(f=hF(f));var y=_.safeValue(f);if(r=r.replace(s[0],y),d?(_.regex.lastIndex+=f.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,f;function l(p,d){var m=this.nestingOptionsSeparator;if(p.indexOf(m)<0)return p;var _=p.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(_[1]);p=_[0],v=this.interpolate(v,f);var g=v.match(/'/g),y=v.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(v=v.replace(/'/g,'"'));try{f=JSON.parse(v),d&&(f=Li(Li({},d),f))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),x),"".concat(p).concat(m).concat(v)}return delete f.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];f=Li({},a),f=f.replace&&typeof f.replace!="string"?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;var c=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,c=!0}if(s=n(l.call(this,o[1].trim(),f),f),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=hF(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),c&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Li(Li({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dRe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),f=zIe(s),l=f[0],u=f.slice(1),c=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=c),c==="false"&&(r[l.trim()]=!1),c==="true"&&(r[l.trim()]=!0),isNaN(c)||(r[l.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:r}}function yl(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var pRe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yi(this,t),this.logger=ua.create("formatter"),this.options=e,this.formats={number:yl(function(r,n){var i=new Intl.NumberFormat(r,La({},n));return function(a){return i.format(a)}}),currency:yl(function(r,n){var i=new Intl.NumberFormat(r,La(La({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:yl(function(r,n){var i=new Intl.DateTimeFormat(r,La({},n));return function(a){return i.format(a)}}),relativetime:yl(function(r,n){var i=new Intl.RelativeTimeFormat(r,La({},n));return function(a){return i.format(a,n.range||"day")}}),list:yl(function(r,n){var i=new Intl.ListFormat(r,La({},n));return function(a){return i.format(a)}})},this.init(e)}return qi(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=yl(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),f=s.reduce(function(l,u){var c=dRe(u),h=c.formatName,p=c.formatOptions;if(a.formats[h]){var d=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},_=m.locale||m.lng||o.locale||o.lng||i;d=a.formats[h](l,_,La(La(La({},p),o),m))}catch(v){a.logger.warn(v)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return f}}]),t}();function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vRe(t){var e=mRe();return function(){var n=ba(t),i;if(e){var a=ba(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ih(this,i)}}function mRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gRe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var _Re=function(t){qv(r,t);var e=vRe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Yi(this,r),o=e.call(this),Kv&&Vo.call(Oo(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=ua.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return qi(r,[{key:"queueLoad",value:function(i,a,o,s){var f=this,l={},u={},c={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(m){var _="".concat(p,"|").concat(m);!o.reload&&f.store.hasResourceBundle(p,m)?f.state[_]=2:f.state[_]<0||(f.state[_]===1?u[_]===void 0&&(u[_]=!0):(f.state[_]=1,d=!1,u[_]===void 0&&(u[_]=!0),l[_]===void 0&&(l[_]=!0),h[m]===void 0&&(h[m]=!0)))}),d||(c[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),f=s[0],l=s[1];a&&this.emit("failedLoading",f,l,a),o&&this.store.addResourceBundle(f,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(c){KIe(c.loaded,[f],l),gRe(c,i),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){u[h]||(u[h]={});var p=c.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,a,o){var s=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:f,wait:l,callback:u});return}this.readingCalls++;var c=function(m,_){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&_&&f<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,f+1,l*2,u)},l);return}u(m,_)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return c(null,d)}).catch(c):c(null,p)}catch(d){c(d)}return}return h(i,a,c)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),f&&f();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,f);if(!l.toLoad.length)return l.pending.length||f(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),f=s[0],l=s[1];this.read(f,l,"read",void 0,void 0,function(u,c){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(f," failed"),u),!u&&c&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(f),c),a.loaded(i,u,c)})}},{key:"saveMissing",value:function(i,a,o,s,f){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var c=SF(SF({},l),{},{isUpdate:f}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,c):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,c)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Vo);function CF(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(fn(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),fn(e[2])==="object"||fn(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function TF(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yRe(t){var e=xRe();return function(){var n=ba(t),i;if(e){var a=ba(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ih(this,i)}}function xRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wd(){}function bRe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var lp=function(t){qv(r,t);var e=yRe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Yi(this,r),n=e.call(this),Kv&&Vo.call(Oo(n)),n.options=TF(i),n.services={},n.logger=ua,n.modules={external:[]},bRe(Oo(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Ih(n,Oo(n));setTimeout(function(){n.init(i,a)},0)}return n}return qi(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=CF();this.options=ta(ta(ta({},s),this.options),TF(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=ta(ta({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function f(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?ua.init(f(this.modules.logger),this.options):ua.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=pRe);var u=new _F(this.options);this.store=new iRe(this.options.resources,this.options);var c=this.services;c.logger=ua,c.resourceStore=this.store,c.languageUtils=u,c.pluralResolver=new cRe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=f(l),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new hRe(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new _Re(f(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.languageDetector&&(c.languageDetector=f(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=f(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new gF(this.services,this.options),this.translator.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=wd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments),i}});var m=Rf(),_=function(){var g=function(x,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(b),o(x,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?_():setTimeout(_,0),m}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wd,s=o,f=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(f&&f.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(f)u(f);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=Rf();return i||(i=this.languages),a||(a=this.options.ns),o||(o=wd),this.services.backendConnector.reload(i,a,function(f){s.resolve(),o(f)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&$5.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=Rf();this.emit("languageChanging",i);var f=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(f(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||f(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,f=function l(u,c){var h;if(fn(c)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),m=2;m<p;m++)d[m-2]=arguments[m];h=s.options.overloadTranslationOptionHandler([u,c].concat(d))}else h=ta({},c);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var _=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(u)?v=u.map(function(g){return"".concat(h.keyPrefix).concat(_).concat(g)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(_).concat(u):u,s.t(v,h)};return typeof i=="string"?f.lng=i:f.lngs=i,f.ns=a,f.keyPrefix=o,f}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],f=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var m=a.services.backendConnector.state["".concat(p,"|").concat(d)];return m===-1||m===2};if(o.precheck){var c=o.precheck(this,u);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!f||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=Rf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(f){o.options.ns.indexOf(f)<0&&o.options.ns.push(f)}),this.loadResources(function(f){s.resolve(),a&&a(f)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=Rf();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],f=i.filter(function(l){return s.indexOf(l)<0});return f.length?(this.options.preload=s.concat(f),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new _F(CF());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wd,s=ta(ta(ta({},this.options),a),{isClone:!0}),f=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(f.logger=f.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){f[u]=i[u]}),f.services=ta({},this.services),f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f.translator=new gF(f.services,f.options),f.translator.on("*",function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];f.emit.apply(f,[u].concat(h))}),f.init(s,o),f.translator.options=f.options,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Vo);fi(lp,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new lp(t,e)});var Ln=lp.createInstance();Ln.createInstance=lp.createInstance;Ln.createInstance;Ln.dir;Ln.init;Ln.loadResources;Ln.reloadResources;Ln.use;Ln.changeLanguage;Ln.getFixedT;Ln.t;Ln.exists;Ln.setDefaultNamespace;Ln.hasLoadedNamespace;Ln.loadNamespaces;Ln.loadLanguages;Ln.use(Cfe).init({resources:Fq||{},lng:Lu[Nq]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));ks.render(k.jsx(qt.StrictMode,{children:k.jsx(Rfe,{children:k.jsx(Mse,{store:le,children:k.jsx(XIe,{})})})}),document.getElementById("root"));export{Zr as C,bi as S,at as T,z as W,ip as a,RRe as r};
